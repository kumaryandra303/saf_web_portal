function lV(i,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in i)){const r=Object.getOwnPropertyDescriptor(n,s);r&&Object.defineProperty(i,s,r.get?r:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();var Ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function uO(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function dV(i){if(i.__esModule)return i;var e=i.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(n){var s=Object.getOwnPropertyDescriptor(i,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return i[n]}})}),t}var hO={exports:{}},i0={},pO={exports:{}},Zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp=Symbol.for("react.element"),cV=Symbol.for("react.portal"),uV=Symbol.for("react.fragment"),hV=Symbol.for("react.strict_mode"),pV=Symbol.for("react.profiler"),fV=Symbol.for("react.provider"),mV=Symbol.for("react.context"),gV=Symbol.for("react.forward_ref"),_V=Symbol.for("react.suspense"),vV=Symbol.for("react.memo"),xV=Symbol.for("react.lazy"),gE=Symbol.iterator;function bV(i){return i===null||typeof i!="object"?null:(i=gE&&i[gE]||i["@@iterator"],typeof i=="function"?i:null)}var fO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mO=Object.assign,gO={};function Hc(i,e,t){this.props=i,this.context=e,this.refs=gO,this.updater=t||fO}Hc.prototype.isReactComponent={};Hc.prototype.setState=function(i,e){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,e,"setState")};Hc.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function _O(){}_O.prototype=Hc.prototype;function XC(i,e,t){this.props=i,this.context=e,this.refs=gO,this.updater=t||fO}var ZC=XC.prototype=new _O;ZC.constructor=XC;mO(ZC,Hc.prototype);ZC.isPureReactComponent=!0;var _E=Array.isArray,vO=Object.prototype.hasOwnProperty,QC={current:null},xO={key:!0,ref:!0,__self:!0,__source:!0};function bO(i,e,t){var n,s={},r=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(r=""+e.key),e)vO.call(e,n)&&!xO.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=t;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(i&&i.defaultProps)for(n in a=i.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:sp,type:i,key:r,ref:o,props:s,_owner:QC.current}}function yV(i,e){return{$$typeof:sp,type:i.type,key:e,ref:i.ref,props:i.props,_owner:i._owner}}function JC(i){return typeof i=="object"&&i!==null&&i.$$typeof===sp}function CV(i){var e={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(t){return e[t]})}var vE=/\/+/g;function C_(i,e){return typeof i=="object"&&i!==null&&i.key!=null?CV(""+i.key):e.toString(36)}function rm(i,e,t,n,s){var r=typeof i;(r==="undefined"||r==="boolean")&&(i=null);var o=!1;if(i===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(i.$$typeof){case sp:case cV:o=!0}}if(o)return o=i,s=s(o),i=n===""?"."+C_(o,0):n,_E(s)?(t="",i!=null&&(t=i.replace(vE,"$&/")+"/"),rm(s,e,t,"",function(d){return d})):s!=null&&(JC(s)&&(s=yV(s,t+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(vE,"$&/")+"/")+i)),e.push(s)),1;if(o=0,n=n===""?".":n+":",_E(i))for(var a=0;a<i.length;a++){r=i[a];var l=n+C_(r,a);o+=rm(r,e,t,l,s)}else if(l=bV(i),typeof l=="function")for(i=l.call(i),a=0;!(r=i.next()).done;)r=r.value,l=n+C_(r,a++),o+=rm(r,e,t,l,s);else if(r==="object")throw e=String(i),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function rf(i,e,t){if(i==null)return i;var n=[],s=0;return rm(i,n,"","",function(r){return e.call(t,r,s++)}),n}function wV(i){if(i._status===-1){var e=i._result;e=e(),e.then(function(t){(i._status===0||i._status===-1)&&(i._status=1,i._result=t)},function(t){(i._status===0||i._status===-1)&&(i._status=2,i._result=t)}),i._status===-1&&(i._status=0,i._result=e)}if(i._status===1)return i._result.default;throw i._result}var is={current:null},om={transition:null},SV={ReactCurrentDispatcher:is,ReactCurrentBatchConfig:om,ReactCurrentOwner:QC};function yO(){throw Error("act(...) is not supported in production builds of React.")}Zt.Children={map:rf,forEach:function(i,e,t){rf(i,function(){e.apply(this,arguments)},t)},count:function(i){var e=0;return rf(i,function(){e++}),e},toArray:function(i){return rf(i,function(e){return e})||[]},only:function(i){if(!JC(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};Zt.Component=Hc;Zt.Fragment=uV;Zt.Profiler=pV;Zt.PureComponent=XC;Zt.StrictMode=hV;Zt.Suspense=_V;Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SV;Zt.act=yO;Zt.cloneElement=function(i,e,t){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var n=mO({},i.props),s=i.key,r=i.ref,o=i._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,o=QC.current),e.key!==void 0&&(s=""+e.key),i.type&&i.type.defaultProps)var a=i.type.defaultProps;for(l in e)vO.call(e,l)&&!xO.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=t;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:sp,type:i.type,key:s,ref:r,props:n,_owner:o}};Zt.createContext=function(i){return i={$$typeof:mV,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:fV,_context:i},i.Consumer=i};Zt.createElement=bO;Zt.createFactory=function(i){var e=bO.bind(null,i);return e.type=i,e};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(i){return{$$typeof:gV,render:i}};Zt.isValidElement=JC;Zt.lazy=function(i){return{$$typeof:xV,_payload:{_status:-1,_result:i},_init:wV}};Zt.memo=function(i,e){return{$$typeof:vV,type:i,compare:e===void 0?null:e}};Zt.startTransition=function(i){var e=om.transition;om.transition={};try{i()}finally{om.transition=e}};Zt.unstable_act=yO;Zt.useCallback=function(i,e){return is.current.useCallback(i,e)};Zt.useContext=function(i){return is.current.useContext(i)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(i){return is.current.useDeferredValue(i)};Zt.useEffect=function(i,e){return is.current.useEffect(i,e)};Zt.useId=function(){return is.current.useId()};Zt.useImperativeHandle=function(i,e,t){return is.current.useImperativeHandle(i,e,t)};Zt.useInsertionEffect=function(i,e){return is.current.useInsertionEffect(i,e)};Zt.useLayoutEffect=function(i,e){return is.current.useLayoutEffect(i,e)};Zt.useMemo=function(i,e){return is.current.useMemo(i,e)};Zt.useReducer=function(i,e,t){return is.current.useReducer(i,e,t)};Zt.useRef=function(i){return is.current.useRef(i)};Zt.useState=function(i){return is.current.useState(i)};Zt.useSyncExternalStore=function(i,e,t){return is.current.useSyncExternalStore(i,e,t)};Zt.useTransition=function(){return is.current.useTransition()};Zt.version="18.3.1";pO.exports=Zt;var ne=pO.exports;const CO=uO(ne),EV=lV({__proto__:null,default:CO},[ne]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IV=ne,TV=Symbol.for("react.element"),DV=Symbol.for("react.fragment"),AV=Object.prototype.hasOwnProperty,kV=IV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OV={key:!0,ref:!0,__self:!0,__source:!0};function wO(i,e,t){var n,s={},r=null,o=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)AV.call(e,n)&&!OV.hasOwnProperty(n)&&(s[n]=e[n]);if(i&&i.defaultProps)for(n in e=i.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:TV,type:i,key:r,ref:o,props:s,_owner:kV.current}}i0.Fragment=DV;i0.jsx=wO;i0.jsxs=wO;hO.exports=i0;var N=hO.exports,ab={},SO={exports:{}},Vs={},EO={exports:{}},IO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function e(C,S){var D=C.length;C.push(S);e:for(;0<D;){var P=D-1>>>1,k=C[P];if(0<s(k,S))C[P]=S,C[D]=k,D=P;else break e}}function t(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var S=C[0],D=C.pop();if(D!==S){C[0]=D;e:for(var P=0,k=C.length,U=k>>>1;P<U;){var W=2*(P+1)-1,X=C[W],j=W+1,q=C[j];if(0>s(X,D))j<k&&0>s(q,X)?(C[P]=q,C[j]=D,P=j):(C[P]=X,C[W]=D,P=W);else if(j<k&&0>s(q,D))C[P]=q,C[j]=D,P=j;else break e}}return S}function s(C,S){var D=C.sortIndex-S.sortIndex;return D!==0?D:C.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var o=Date,a=o.now();i.unstable_now=function(){return o.now()-a}}var l=[],d=[],c=1,h=null,u=3,p=!1,f=!1,g=!1,m=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(C){for(var S=t(d);S!==null;){if(S.callback===null)n(d);else if(S.startTime<=C)n(d),S.sortIndex=S.expirationTime,e(l,S);else break;S=t(d)}}function y(C){if(g=!1,x(C),!f)if(t(l)!==null)f=!0,b(T);else{var S=t(d);S!==null&&w(y,S.startTime-C)}}function T(C,S){f=!1,g&&(g=!1,v(R),R=-1),p=!0;var D=u;try{for(x(S),h=t(l);h!==null&&(!(h.expirationTime>S)||C&&!z());){var P=h.callback;if(typeof P=="function"){h.callback=null,u=h.priorityLevel;var k=P(h.expirationTime<=S);S=i.unstable_now(),typeof k=="function"?h.callback=k:h===t(l)&&n(l),x(S)}else n(l);h=t(l)}if(h!==null)var U=!0;else{var W=t(d);W!==null&&w(y,W.startTime-S),U=!1}return U}finally{h=null,u=D,p=!1}}var O=!1,L=null,R=-1,$=5,V=-1;function z(){return!(i.unstable_now()-V<$)}function H(){if(L!==null){var C=i.unstable_now();V=C;var S=!0;try{S=L(!0,C)}finally{S?I():(O=!1,L=null)}}else O=!1}var I;if(typeof _=="function")I=function(){_(H)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,E=A.port2;A.port1.onmessage=H,I=function(){E.postMessage(null)}}else I=function(){m(H,0)};function b(C){L=C,O||(O=!0,I())}function w(C,S){R=m(function(){C(i.unstable_now())},S)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(C){C.callback=null},i.unstable_continueExecution=function(){f||p||(f=!0,b(T))},i.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<C?Math.floor(1e3/C):5},i.unstable_getCurrentPriorityLevel=function(){return u},i.unstable_getFirstCallbackNode=function(){return t(l)},i.unstable_next=function(C){switch(u){case 1:case 2:case 3:var S=3;break;default:S=u}var D=u;u=S;try{return C()}finally{u=D}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(C,S){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=u;u=C;try{return S()}finally{u=D}},i.unstable_scheduleCallback=function(C,S,D){var P=i.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?P+D:P):D=P,C){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=D+k,C={id:c++,callback:S,priorityLevel:C,startTime:D,expirationTime:k,sortIndex:-1},D>P?(C.sortIndex=D,e(d,C),t(l)===null&&C===t(d)&&(g?(v(R),R=-1):g=!0,w(y,D-P))):(C.sortIndex=k,e(l,C),f||p||(f=!0,b(T))),C},i.unstable_shouldYield=z,i.unstable_wrapCallback=function(C){var S=u;return function(){var D=u;u=S;try{return C.apply(this,arguments)}finally{u=D}}}})(IO);EO.exports=IO;var RV=EO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PV=ne,Ms=RV;function Pe(i){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+i,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+i+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TO=new Set,_h={};function td(i,e){Cc(i,e),Cc(i+"Capture",e)}function Cc(i,e){for(_h[i]=e,i=0;i<e.length;i++)TO.add(e[i])}var Ao=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lb=Object.prototype.hasOwnProperty,MV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xE={},bE={};function FV(i){return lb.call(bE,i)?!0:lb.call(xE,i)?!1:MV.test(i)?bE[i]=!0:(xE[i]=!0,!1)}function BV(i,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function NV(i,e,t,n){if(e===null||typeof e>"u"||BV(i,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ss(i,e,t,n,s,r,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=t,this.propertyName=i,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var Ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Ai[i]=new ss(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var e=i[0];Ai[e]=new ss(e,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Ai[i]=new ss(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Ai[i]=new ss(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Ai[i]=new ss(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Ai[i]=new ss(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Ai[i]=new ss(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Ai[i]=new ss(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Ai[i]=new ss(i,5,!1,i.toLowerCase(),null,!1,!1)});var ew=/[\-:]([a-z])/g;function tw(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var e=i.replace(ew,tw);Ai[e]=new ss(e,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var e=i.replace(ew,tw);Ai[e]=new ss(e,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var e=i.replace(ew,tw);Ai[e]=new ss(e,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Ai[i]=new ss(i,1,!1,i.toLowerCase(),null,!1,!1)});Ai.xlinkHref=new ss("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Ai[i]=new ss(i,1,!1,i.toLowerCase(),null,!0,!0)});function nw(i,e,t,n){var s=Ai.hasOwnProperty(e)?Ai[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(NV(e,t,s,n)&&(t=null),n||s===null?FV(e)&&(t===null?i.removeAttribute(e):i.setAttribute(e,""+t)):s.mustUseProperty?i[s.propertyName]=t===null?s.type===3?!1:"":t:(e=s.attributeName,n=s.attributeNamespace,t===null?i.removeAttribute(e):(s=s.type,t=s===3||s===4&&t===!0?"":""+t,n?i.setAttributeNS(n,e,t):i.setAttribute(e,t))))}var Vo=PV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,of=Symbol.for("react.element"),Hd=Symbol.for("react.portal"),jd=Symbol.for("react.fragment"),iw=Symbol.for("react.strict_mode"),db=Symbol.for("react.profiler"),DO=Symbol.for("react.provider"),AO=Symbol.for("react.context"),sw=Symbol.for("react.forward_ref"),cb=Symbol.for("react.suspense"),ub=Symbol.for("react.suspense_list"),rw=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),kO=Symbol.for("react.offscreen"),yE=Symbol.iterator;function iu(i){return i===null||typeof i!="object"?null:(i=yE&&i[yE]||i["@@iterator"],typeof i=="function"?i:null)}var Zn=Object.assign,w_;function Bu(i){if(w_===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);w_=e&&e[1]||""}return`
`+w_+i}var S_=!1;function E_(i,e){if(!i||S_)return"";S_=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(i,[],e)}else{try{e.call()}catch(d){n=d}i.call(e.prototype)}else{try{throw Error()}catch(d){n=d}i()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),r=n.stack.split(`
`),o=s.length-1,a=r.length-1;1<=o&&0<=a&&s[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==r[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==r[a]){var l=`
`+s[o].replace(" at new "," at ");return i.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",i.displayName)),l}while(1<=o&&0<=a);break}}}finally{S_=!1,Error.prepareStackTrace=t}return(i=i?i.displayName||i.name:"")?Bu(i):""}function VV(i){switch(i.tag){case 5:return Bu(i.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return i=E_(i.type,!1),i;case 11:return i=E_(i.type.render,!1),i;case 1:return i=E_(i.type,!0),i;default:return""}}function hb(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case jd:return"Fragment";case Hd:return"Portal";case db:return"Profiler";case iw:return"StrictMode";case cb:return"Suspense";case ub:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case AO:return(i.displayName||"Context")+".Consumer";case DO:return(i._context.displayName||"Context")+".Provider";case sw:var e=i.render;return i=i.displayName,i||(i=e.displayName||e.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case rw:return e=i.displayName||null,e!==null?e:hb(i.type)||"Memo";case sa:e=i._payload,i=i._init;try{return hb(i(e))}catch{}}return null}function LV(i){var e=i.type;switch(i.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=e.render,i=i.displayName||i.name||"",e.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hb(e);case 8:return e===iw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Va(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function OO(i){var e=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $V(i){var e=OO(i)?"checked":"value",t=Object.getOwnPropertyDescriptor(i.constructor.prototype,e),n=""+i[e];if(!i.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var s=t.get,r=t.set;return Object.defineProperty(i,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,r.call(this,o)}}),Object.defineProperty(i,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){i._valueTracker=null,delete i[e]}}}}function af(i){i._valueTracker||(i._valueTracker=$V(i))}function RO(i){if(!i)return!1;var e=i._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return i&&(n=OO(i)?i.checked?"true":"false":i.value),i=n,i!==t?(e.setValue(i),!0):!1}function jm(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function pb(i,e){var t=e.checked;return Zn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??i._wrapperState.initialChecked})}function CE(i,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=Va(e.value!=null?e.value:t),i._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PO(i,e){e=e.checked,e!=null&&nw(i,"checked",e,!1)}function fb(i,e){PO(i,e);var t=Va(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&i.value===""||i.value!=t)&&(i.value=""+t):i.value!==""+t&&(i.value=""+t);else if(n==="submit"||n==="reset"){i.removeAttribute("value");return}e.hasOwnProperty("value")?mb(i,e.type,t):e.hasOwnProperty("defaultValue")&&mb(i,e.type,Va(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(i.defaultChecked=!!e.defaultChecked)}function wE(i,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+i._wrapperState.initialValue,t||e===i.value||(i.value=e),i.defaultValue=e}t=i.name,t!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,t!==""&&(i.name=t)}function mb(i,e,t){(e!=="number"||jm(i.ownerDocument)!==i)&&(t==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+t&&(i.defaultValue=""+t))}var Nu=Array.isArray;function ac(i,e,t,n){if(i=i.options,e){e={};for(var s=0;s<t.length;s++)e["$"+t[s]]=!0;for(t=0;t<i.length;t++)s=e.hasOwnProperty("$"+i[t].value),i[t].selected!==s&&(i[t].selected=s),s&&n&&(i[t].defaultSelected=!0)}else{for(t=""+Va(t),e=null,s=0;s<i.length;s++){if(i[s].value===t){i[s].selected=!0,n&&(i[s].defaultSelected=!0);return}e!==null||i[s].disabled||(e=i[s])}e!==null&&(e.selected=!0)}}function gb(i,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return Zn({},e,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function SE(i,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Pe(92));if(Nu(t)){if(1<t.length)throw Error(Pe(93));t=t[0]}e=t}e==null&&(e=""),t=e}i._wrapperState={initialValue:Va(t)}}function MO(i,e){var t=Va(e.value),n=Va(e.defaultValue);t!=null&&(t=""+t,t!==i.value&&(i.value=t),e.defaultValue==null&&i.defaultValue!==t&&(i.defaultValue=t)),n!=null&&(i.defaultValue=""+n)}function EE(i){var e=i.textContent;e===i._wrapperState.initialValue&&e!==""&&e!==null&&(i.value=e)}function FO(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _b(i,e){return i==null||i==="http://www.w3.org/1999/xhtml"?FO(e):i==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var lf,BO=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction(function(){return i(e,t,n,s)})}:i}(function(i,e){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=e;else{for(lf=lf||document.createElement("div"),lf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lf.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;e.firstChild;)i.appendChild(e.firstChild)}});function vh(i,e){if(e){var t=i.firstChild;if(t&&t===i.lastChild&&t.nodeType===3){t.nodeValue=e;return}}i.textContent=e}var Ku={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},HV=["Webkit","ms","Moz","O"];Object.keys(Ku).forEach(function(i){HV.forEach(function(e){e=e+i.charAt(0).toUpperCase()+i.substring(1),Ku[e]=Ku[i]})});function NO(i,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ku.hasOwnProperty(i)&&Ku[i]?(""+e).trim():e+"px"}function VO(i,e){i=i.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,s=NO(t,e[t],n);t==="float"&&(t="cssFloat"),n?i.setProperty(t,s):i[t]=s}}var jV=Zn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vb(i,e){if(e){if(jV[i]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,i));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function xb(i,e){if(i.indexOf("-")===-1)return typeof e.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bb=null;function ow(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var yb=null,lc=null,dc=null;function IE(i){if(i=ap(i)){if(typeof yb!="function")throw Error(Pe(280));var e=i.stateNode;e&&(e=l0(e),yb(i.stateNode,i.type,e))}}function LO(i){lc?dc?dc.push(i):dc=[i]:lc=i}function $O(){if(lc){var i=lc,e=dc;if(dc=lc=null,IE(i),e)for(i=0;i<e.length;i++)IE(e[i])}}function HO(i,e){return i(e)}function jO(){}var I_=!1;function zO(i,e,t){if(I_)return i(e,t);I_=!0;try{return HO(i,e,t)}finally{I_=!1,(lc!==null||dc!==null)&&(jO(),$O())}}function xh(i,e){var t=i.stateNode;if(t===null)return null;var n=l0(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(i=i.type,n=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!n;break e;default:i=!1}if(i)return null;if(t&&typeof t!="function")throw Error(Pe(231,e,typeof t));return t}var Cb=!1;if(Ao)try{var su={};Object.defineProperty(su,"passive",{get:function(){Cb=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{Cb=!1}function zV(i,e,t,n,s,r,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(c){this.onError(c)}}var Gu=!1,zm=null,Wm=!1,wb=null,WV={onError:function(i){Gu=!0,zm=i}};function UV(i,e,t,n,s,r,o,a,l){Gu=!1,zm=null,zV.apply(WV,arguments)}function KV(i,e,t,n,s,r,o,a,l){if(UV.apply(this,arguments),Gu){if(Gu){var d=zm;Gu=!1,zm=null}else throw Error(Pe(198));Wm||(Wm=!0,wb=d)}}function nd(i){var e=i,t=i;if(i.alternate)for(;e.return;)e=e.return;else{i=e;do e=i,e.flags&4098&&(t=e.return),i=e.return;while(i)}return e.tag===3?t:null}function WO(i){if(i.tag===13){var e=i.memoizedState;if(e===null&&(i=i.alternate,i!==null&&(e=i.memoizedState)),e!==null)return e.dehydrated}return null}function TE(i){if(nd(i)!==i)throw Error(Pe(188))}function GV(i){var e=i.alternate;if(!e){if(e=nd(i),e===null)throw Error(Pe(188));return e!==i?null:i}for(var t=i,n=e;;){var s=t.return;if(s===null)break;var r=s.alternate;if(r===null){if(n=s.return,n!==null){t=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===t)return TE(s),i;if(r===n)return TE(s),e;r=r.sibling}throw Error(Pe(188))}if(t.return!==n.return)t=s,n=r;else{for(var o=!1,a=s.child;a;){if(a===t){o=!0,t=s,n=r;break}if(a===n){o=!0,n=s,t=r;break}a=a.sibling}if(!o){for(a=r.child;a;){if(a===t){o=!0,t=r,n=s;break}if(a===n){o=!0,n=r,t=s;break}a=a.sibling}if(!o)throw Error(Pe(189))}}if(t.alternate!==n)throw Error(Pe(190))}if(t.tag!==3)throw Error(Pe(188));return t.stateNode.current===t?i:e}function UO(i){return i=GV(i),i!==null?KO(i):null}function KO(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var e=KO(i);if(e!==null)return e;i=i.sibling}return null}var GO=Ms.unstable_scheduleCallback,DE=Ms.unstable_cancelCallback,qV=Ms.unstable_shouldYield,YV=Ms.unstable_requestPaint,ii=Ms.unstable_now,XV=Ms.unstable_getCurrentPriorityLevel,aw=Ms.unstable_ImmediatePriority,qO=Ms.unstable_UserBlockingPriority,Um=Ms.unstable_NormalPriority,ZV=Ms.unstable_LowPriority,YO=Ms.unstable_IdlePriority,s0=null,Wr=null;function QV(i){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(s0,i,void 0,(i.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:t7,JV=Math.log,e7=Math.LN2;function t7(i){return i>>>=0,i===0?32:31-(JV(i)/e7|0)|0}var df=64,cf=4194304;function Vu(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Km(i,e){var t=i.pendingLanes;if(t===0)return 0;var n=0,s=i.suspendedLanes,r=i.pingedLanes,o=t&268435455;if(o!==0){var a=o&~s;a!==0?n=Vu(a):(r&=o,r!==0&&(n=Vu(r)))}else o=t&~s,o!==0?n=Vu(o):r!==0&&(n=Vu(r));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(n&4&&(n|=t&16),e=i.entangledLanes,e!==0)for(i=i.entanglements,e&=n;0<e;)t=31-Er(e),s=1<<t,n|=i[t],e&=~s;return n}function n7(i,e){switch(i){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i7(i,e){for(var t=i.suspendedLanes,n=i.pingedLanes,s=i.expirationTimes,r=i.pendingLanes;0<r;){var o=31-Er(r),a=1<<o,l=s[o];l===-1?(!(a&t)||a&n)&&(s[o]=n7(a,e)):l<=e&&(i.expiredLanes|=a),r&=~a}}function Sb(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function XO(){var i=df;return df<<=1,!(df&4194240)&&(df=64),i}function T_(i){for(var e=[],t=0;31>t;t++)e.push(i);return e}function rp(i,e,t){i.pendingLanes|=e,e!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,e=31-Er(e),i[e]=t}function s7(i,e){var t=i.pendingLanes&~e;i.pendingLanes=e,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=e,i.mutableReadLanes&=e,i.entangledLanes&=e,e=i.entanglements;var n=i.eventTimes;for(i=i.expirationTimes;0<t;){var s=31-Er(t),r=1<<s;e[s]=0,n[s]=-1,i[s]=-1,t&=~r}}function lw(i,e){var t=i.entangledLanes|=e;for(i=i.entanglements;t;){var n=31-Er(t),s=1<<n;s&e|i[n]&e&&(i[n]|=e),t&=~s}}var In=0;function ZO(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var QO,dw,JO,e3,t3,Eb=!1,uf=[],Ca=null,wa=null,Sa=null,bh=new Map,yh=new Map,ca=[],r7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AE(i,e){switch(i){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":bh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yh.delete(e.pointerId)}}function ru(i,e,t,n,s,r){return i===null||i.nativeEvent!==r?(i={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},e!==null&&(e=ap(e),e!==null&&dw(e)),i):(i.eventSystemFlags|=n,e=i.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),i)}function o7(i,e,t,n,s){switch(e){case"focusin":return Ca=ru(Ca,i,e,t,n,s),!0;case"dragenter":return wa=ru(wa,i,e,t,n,s),!0;case"mouseover":return Sa=ru(Sa,i,e,t,n,s),!0;case"pointerover":var r=s.pointerId;return bh.set(r,ru(bh.get(r)||null,i,e,t,n,s)),!0;case"gotpointercapture":return r=s.pointerId,yh.set(r,ru(yh.get(r)||null,i,e,t,n,s)),!0}return!1}function n3(i){var e=bl(i.target);if(e!==null){var t=nd(e);if(t!==null){if(e=t.tag,e===13){if(e=WO(t),e!==null){i.blockedOn=e,t3(i.priority,function(){JO(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){i.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}i.blockedOn=null}function am(i){if(i.blockedOn!==null)return!1;for(var e=i.targetContainers;0<e.length;){var t=Ib(i.domEventName,i.eventSystemFlags,e[0],i.nativeEvent);if(t===null){t=i.nativeEvent;var n=new t.constructor(t.type,t);bb=n,t.target.dispatchEvent(n),bb=null}else return e=ap(t),e!==null&&dw(e),i.blockedOn=t,!1;e.shift()}return!0}function kE(i,e,t){am(i)&&t.delete(e)}function a7(){Eb=!1,Ca!==null&&am(Ca)&&(Ca=null),wa!==null&&am(wa)&&(wa=null),Sa!==null&&am(Sa)&&(Sa=null),bh.forEach(kE),yh.forEach(kE)}function ou(i,e){i.blockedOn===e&&(i.blockedOn=null,Eb||(Eb=!0,Ms.unstable_scheduleCallback(Ms.unstable_NormalPriority,a7)))}function Ch(i){function e(s){return ou(s,i)}if(0<uf.length){ou(uf[0],i);for(var t=1;t<uf.length;t++){var n=uf[t];n.blockedOn===i&&(n.blockedOn=null)}}for(Ca!==null&&ou(Ca,i),wa!==null&&ou(wa,i),Sa!==null&&ou(Sa,i),bh.forEach(e),yh.forEach(e),t=0;t<ca.length;t++)n=ca[t],n.blockedOn===i&&(n.blockedOn=null);for(;0<ca.length&&(t=ca[0],t.blockedOn===null);)n3(t),t.blockedOn===null&&ca.shift()}var cc=Vo.ReactCurrentBatchConfig,Gm=!0;function l7(i,e,t,n){var s=In,r=cc.transition;cc.transition=null;try{In=1,cw(i,e,t,n)}finally{In=s,cc.transition=r}}function d7(i,e,t,n){var s=In,r=cc.transition;cc.transition=null;try{In=4,cw(i,e,t,n)}finally{In=s,cc.transition=r}}function cw(i,e,t,n){if(Gm){var s=Ib(i,e,t,n);if(s===null)N_(i,e,n,qm,t),AE(i,n);else if(o7(s,i,e,t,n))n.stopPropagation();else if(AE(i,n),e&4&&-1<r7.indexOf(i)){for(;s!==null;){var r=ap(s);if(r!==null&&QO(r),r=Ib(i,e,t,n),r===null&&N_(i,e,n,qm,t),r===s)break;s=r}s!==null&&n.stopPropagation()}else N_(i,e,n,null,t)}}var qm=null;function Ib(i,e,t,n){if(qm=null,i=ow(n),i=bl(i),i!==null)if(e=nd(i),e===null)i=null;else if(t=e.tag,t===13){if(i=WO(e),i!==null)return i;i=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;i=null}else e!==i&&(i=null);return qm=i,null}function i3(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XV()){case aw:return 1;case qO:return 4;case Um:case ZV:return 16;case YO:return 536870912;default:return 16}default:return 16}}var ma=null,uw=null,lm=null;function s3(){if(lm)return lm;var i,e=uw,t=e.length,n,s="value"in ma?ma.value:ma.textContent,r=s.length;for(i=0;i<t&&e[i]===s[i];i++);var o=t-i;for(n=1;n<=o&&e[t-n]===s[r-n];n++);return lm=s.slice(i,1<n?1-n:void 0)}function dm(i){var e=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&e===13&&(i=13)):i=e,i===10&&(i=13),32<=i||i===13?i:0}function hf(){return!0}function OE(){return!1}function Ls(i){function e(t,n,s,r,o){this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var a in i)i.hasOwnProperty(a)&&(t=i[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?hf:OE,this.isPropagationStopped=OE,this}return Zn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=hf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=hf)},persist:function(){},isPersistent:hf}),e}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hw=Ls(jc),op=Zn({},jc,{view:0,detail:0}),c7=Ls(op),D_,A_,au,r0=Zn({},op,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pw,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==au&&(au&&i.type==="mousemove"?(D_=i.screenX-au.screenX,A_=i.screenY-au.screenY):A_=D_=0,au=i),D_)},movementY:function(i){return"movementY"in i?i.movementY:A_}}),RE=Ls(r0),u7=Zn({},r0,{dataTransfer:0}),h7=Ls(u7),p7=Zn({},op,{relatedTarget:0}),k_=Ls(p7),f7=Zn({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),m7=Ls(f7),g7=Zn({},jc,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_7=Ls(g7),v7=Zn({},jc,{data:0}),PE=Ls(v7),x7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},b7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},y7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function C7(i){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(i):(i=y7[i])?!!e[i]:!1}function pw(){return C7}var w7=Zn({},op,{key:function(i){if(i.key){var e=x7[i.key]||i.key;if(e!=="Unidentified")return e}return i.type==="keypress"?(i=dm(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?b7[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pw,charCode:function(i){return i.type==="keypress"?dm(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?dm(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),S7=Ls(w7),E7=Zn({},r0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ME=Ls(E7),I7=Zn({},op,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pw}),T7=Ls(I7),D7=Zn({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),A7=Ls(D7),k7=Zn({},r0,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),O7=Ls(k7),R7=[9,13,27,32],fw=Ao&&"CompositionEvent"in window,qu=null;Ao&&"documentMode"in document&&(qu=document.documentMode);var P7=Ao&&"TextEvent"in window&&!qu,r3=Ao&&(!fw||qu&&8<qu&&11>=qu),FE=" ",BE=!1;function o3(i,e){switch(i){case"keyup":return R7.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a3(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zd=!1;function M7(i,e){switch(i){case"compositionend":return a3(e);case"keypress":return e.which!==32?null:(BE=!0,FE);case"textInput":return i=e.data,i===FE&&BE?null:i;default:return null}}function F7(i,e){if(zd)return i==="compositionend"||!fw&&o3(i,e)?(i=s3(),lm=uw=ma=null,zd=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return r3&&e.locale!=="ko"?null:e.data;default:return null}}var B7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NE(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e==="input"?!!B7[i.type]:e==="textarea"}function l3(i,e,t,n){LO(n),e=Ym(e,"onChange"),0<e.length&&(t=new hw("onChange","change",null,t,n),i.push({event:t,listeners:e}))}var Yu=null,wh=null;function N7(i){x3(i,0)}function o0(i){var e=Kd(i);if(RO(e))return i}function V7(i,e){if(i==="change")return e}var d3=!1;if(Ao){var O_;if(Ao){var R_="oninput"in document;if(!R_){var VE=document.createElement("div");VE.setAttribute("oninput","return;"),R_=typeof VE.oninput=="function"}O_=R_}else O_=!1;d3=O_&&(!document.documentMode||9<document.documentMode)}function LE(){Yu&&(Yu.detachEvent("onpropertychange",c3),wh=Yu=null)}function c3(i){if(i.propertyName==="value"&&o0(wh)){var e=[];l3(e,wh,i,ow(i)),zO(N7,e)}}function L7(i,e,t){i==="focusin"?(LE(),Yu=e,wh=t,Yu.attachEvent("onpropertychange",c3)):i==="focusout"&&LE()}function $7(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return o0(wh)}function H7(i,e){if(i==="click")return o0(e)}function j7(i,e){if(i==="input"||i==="change")return o0(e)}function z7(i,e){return i===e&&(i!==0||1/i===1/e)||i!==i&&e!==e}var Tr=typeof Object.is=="function"?Object.is:z7;function Sh(i,e){if(Tr(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var t=Object.keys(i),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var s=t[n];if(!lb.call(e,s)||!Tr(i[s],e[s]))return!1}return!0}function $E(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function HE(i,e){var t=$E(i);i=0;for(var n;t;){if(t.nodeType===3){if(n=i+t.textContent.length,i<=e&&n>=e)return{node:t,offset:e-i};i=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=$E(t)}}function u3(i,e){return i&&e?i===e?!0:i&&i.nodeType===3?!1:e&&e.nodeType===3?u3(i,e.parentNode):"contains"in i?i.contains(e):i.compareDocumentPosition?!!(i.compareDocumentPosition(e)&16):!1:!1}function h3(){for(var i=window,e=jm();e instanceof i.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)i=e.contentWindow;else break;e=jm(i.document)}return e}function mw(i){var e=i&&i.nodeName&&i.nodeName.toLowerCase();return e&&(e==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||e==="textarea"||i.contentEditable==="true")}function W7(i){var e=h3(),t=i.focusedElem,n=i.selectionRange;if(e!==t&&t&&t.ownerDocument&&u3(t.ownerDocument.documentElement,t)){if(n!==null&&mw(t)){if(e=n.start,i=n.end,i===void 0&&(i=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(i,t.value.length);else if(i=(e=t.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var s=t.textContent.length,r=Math.min(n.start,s);n=n.end===void 0?r:Math.min(n.end,s),!i.extend&&r>n&&(s=n,n=r,r=s),s=HE(t,r);var o=HE(t,n);s&&o&&(i.rangeCount!==1||i.anchorNode!==s.node||i.anchorOffset!==s.offset||i.focusNode!==o.node||i.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),i.removeAllRanges(),r>n?(i.addRange(e),i.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),i.addRange(e)))}}for(e=[],i=t;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)i=e[t],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var U7=Ao&&"documentMode"in document&&11>=document.documentMode,Wd=null,Tb=null,Xu=null,Db=!1;function jE(i,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Db||Wd==null||Wd!==jm(n)||(n=Wd,"selectionStart"in n&&mw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xu&&Sh(Xu,n)||(Xu=n,n=Ym(Tb,"onSelect"),0<n.length&&(e=new hw("onSelect","select",null,e,t),i.push({event:e,listeners:n}),e.target=Wd)))}function pf(i,e){var t={};return t[i.toLowerCase()]=e.toLowerCase(),t["Webkit"+i]="webkit"+e,t["Moz"+i]="moz"+e,t}var Ud={animationend:pf("Animation","AnimationEnd"),animationiteration:pf("Animation","AnimationIteration"),animationstart:pf("Animation","AnimationStart"),transitionend:pf("Transition","TransitionEnd")},P_={},p3={};Ao&&(p3=document.createElement("div").style,"AnimationEvent"in window||(delete Ud.animationend.animation,delete Ud.animationiteration.animation,delete Ud.animationstart.animation),"TransitionEvent"in window||delete Ud.transitionend.transition);function a0(i){if(P_[i])return P_[i];if(!Ud[i])return i;var e=Ud[i],t;for(t in e)if(e.hasOwnProperty(t)&&t in p3)return P_[i]=e[t];return i}var f3=a0("animationend"),m3=a0("animationiteration"),g3=a0("animationstart"),_3=a0("transitionend"),v3=new Map,zE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ya(i,e){v3.set(i,e),td(e,[i])}for(var M_=0;M_<zE.length;M_++){var F_=zE[M_],K7=F_.toLowerCase(),G7=F_[0].toUpperCase()+F_.slice(1);Ya(K7,"on"+G7)}Ya(f3,"onAnimationEnd");Ya(m3,"onAnimationIteration");Ya(g3,"onAnimationStart");Ya("dblclick","onDoubleClick");Ya("focusin","onFocus");Ya("focusout","onBlur");Ya(_3,"onTransitionEnd");Cc("onMouseEnter",["mouseout","mouseover"]);Cc("onMouseLeave",["mouseout","mouseover"]);Cc("onPointerEnter",["pointerout","pointerover"]);Cc("onPointerLeave",["pointerout","pointerover"]);td("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));td("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));td("onBeforeInput",["compositionend","keypress","textInput","paste"]);td("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));td("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));td("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q7=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lu));function WE(i,e,t){var n=i.type||"unknown-event";i.currentTarget=t,KV(n,e,void 0,i),i.currentTarget=null}function x3(i,e){e=(e&4)!==0;for(var t=0;t<i.length;t++){var n=i[t],s=n.event;n=n.listeners;e:{var r=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==r&&s.isPropagationStopped())break e;WE(s,a,d),r=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==r&&s.isPropagationStopped())break e;WE(s,a,d),r=l}}}if(Wm)throw i=wb,Wm=!1,wb=null,i}function Vn(i,e){var t=e[Pb];t===void 0&&(t=e[Pb]=new Set);var n=i+"__bubble";t.has(n)||(b3(e,i,2,!1),t.add(n))}function B_(i,e,t){var n=0;e&&(n|=4),b3(t,i,n,e)}var ff="_reactListening"+Math.random().toString(36).slice(2);function Eh(i){if(!i[ff]){i[ff]=!0,TO.forEach(function(t){t!=="selectionchange"&&(q7.has(t)||B_(t,!1,i),B_(t,!0,i))});var e=i.nodeType===9?i:i.ownerDocument;e===null||e[ff]||(e[ff]=!0,B_("selectionchange",!1,e))}}function b3(i,e,t,n){switch(i3(e)){case 1:var s=l7;break;case 4:s=d7;break;default:s=cw}t=s.bind(null,e,t,i),s=void 0,!Cb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?i.addEventListener(e,t,{capture:!0,passive:s}):i.addEventListener(e,t,!0):s!==void 0?i.addEventListener(e,t,{passive:s}):i.addEventListener(e,t,!1)}function N_(i,e,t,n,s){var r=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=bl(a),o===null)return;if(l=o.tag,l===5||l===6){n=r=o;continue e}a=a.parentNode}}n=n.return}zO(function(){var d=r,c=ow(t),h=[];e:{var u=v3.get(i);if(u!==void 0){var p=hw,f=i;switch(i){case"keypress":if(dm(t)===0)break e;case"keydown":case"keyup":p=S7;break;case"focusin":f="focus",p=k_;break;case"focusout":f="blur",p=k_;break;case"beforeblur":case"afterblur":p=k_;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=RE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=h7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=T7;break;case f3:case m3:case g3:p=m7;break;case _3:p=A7;break;case"scroll":p=c7;break;case"wheel":p=O7;break;case"copy":case"cut":case"paste":p=_7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ME}var g=(e&4)!==0,m=!g&&i==="scroll",v=g?u!==null?u+"Capture":null:u;g=[];for(var _=d,x;_!==null;){x=_;var y=x.stateNode;if(x.tag===5&&y!==null&&(x=y,v!==null&&(y=xh(_,v),y!=null&&g.push(Ih(_,y,x)))),m)break;_=_.return}0<g.length&&(u=new p(u,f,null,t,c),h.push({event:u,listeners:g}))}}if(!(e&7)){e:{if(u=i==="mouseover"||i==="pointerover",p=i==="mouseout"||i==="pointerout",u&&t!==bb&&(f=t.relatedTarget||t.fromElement)&&(bl(f)||f[ko]))break e;if((p||u)&&(u=c.window===c?c:(u=c.ownerDocument)?u.defaultView||u.parentWindow:window,p?(f=t.relatedTarget||t.toElement,p=d,f=f?bl(f):null,f!==null&&(m=nd(f),f!==m||f.tag!==5&&f.tag!==6)&&(f=null)):(p=null,f=d),p!==f)){if(g=RE,y="onMouseLeave",v="onMouseEnter",_="mouse",(i==="pointerout"||i==="pointerover")&&(g=ME,y="onPointerLeave",v="onPointerEnter",_="pointer"),m=p==null?u:Kd(p),x=f==null?u:Kd(f),u=new g(y,_+"leave",p,t,c),u.target=m,u.relatedTarget=x,y=null,bl(c)===d&&(g=new g(v,_+"enter",f,t,c),g.target=x,g.relatedTarget=m,y=g),m=y,p&&f)t:{for(g=p,v=f,_=0,x=g;x;x=Cd(x))_++;for(x=0,y=v;y;y=Cd(y))x++;for(;0<_-x;)g=Cd(g),_--;for(;0<x-_;)v=Cd(v),x--;for(;_--;){if(g===v||v!==null&&g===v.alternate)break t;g=Cd(g),v=Cd(v)}g=null}else g=null;p!==null&&UE(h,u,p,g,!1),f!==null&&m!==null&&UE(h,m,f,g,!0)}}e:{if(u=d?Kd(d):window,p=u.nodeName&&u.nodeName.toLowerCase(),p==="select"||p==="input"&&u.type==="file")var T=V7;else if(NE(u))if(d3)T=j7;else{T=$7;var O=L7}else(p=u.nodeName)&&p.toLowerCase()==="input"&&(u.type==="checkbox"||u.type==="radio")&&(T=H7);if(T&&(T=T(i,d))){l3(h,T,t,c);break e}O&&O(i,u,d),i==="focusout"&&(O=u._wrapperState)&&O.controlled&&u.type==="number"&&mb(u,"number",u.value)}switch(O=d?Kd(d):window,i){case"focusin":(NE(O)||O.contentEditable==="true")&&(Wd=O,Tb=d,Xu=null);break;case"focusout":Xu=Tb=Wd=null;break;case"mousedown":Db=!0;break;case"contextmenu":case"mouseup":case"dragend":Db=!1,jE(h,t,c);break;case"selectionchange":if(U7)break;case"keydown":case"keyup":jE(h,t,c)}var L;if(fw)e:{switch(i){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else zd?o3(i,t)&&(R="onCompositionEnd"):i==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(r3&&t.locale!=="ko"&&(zd||R!=="onCompositionStart"?R==="onCompositionEnd"&&zd&&(L=s3()):(ma=c,uw="value"in ma?ma.value:ma.textContent,zd=!0)),O=Ym(d,R),0<O.length&&(R=new PE(R,i,null,t,c),h.push({event:R,listeners:O}),L?R.data=L:(L=a3(t),L!==null&&(R.data=L)))),(L=P7?M7(i,t):F7(i,t))&&(d=Ym(d,"onBeforeInput"),0<d.length&&(c=new PE("onBeforeInput","beforeinput",null,t,c),h.push({event:c,listeners:d}),c.data=L))}x3(h,e)})}function Ih(i,e,t){return{instance:i,listener:e,currentTarget:t}}function Ym(i,e){for(var t=e+"Capture",n=[];i!==null;){var s=i,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=xh(i,t),r!=null&&n.unshift(Ih(i,r,s)),r=xh(i,e),r!=null&&n.push(Ih(i,r,s))),i=i.return}return n}function Cd(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function UE(i,e,t,n,s){for(var r=e._reactName,o=[];t!==null&&t!==n;){var a=t,l=a.alternate,d=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&d!==null&&(a=d,s?(l=xh(t,r),l!=null&&o.unshift(Ih(t,l,a))):s||(l=xh(t,r),l!=null&&o.push(Ih(t,l,a)))),t=t.return}o.length!==0&&i.push({event:e,listeners:o})}var Y7=/\r\n?/g,X7=/\u0000|\uFFFD/g;function KE(i){return(typeof i=="string"?i:""+i).replace(Y7,`
`).replace(X7,"")}function mf(i,e,t){if(e=KE(e),KE(i)!==e&&t)throw Error(Pe(425))}function Xm(){}var Ab=null,kb=null;function Ob(i,e){return i==="textarea"||i==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rb=typeof setTimeout=="function"?setTimeout:void 0,Z7=typeof clearTimeout=="function"?clearTimeout:void 0,GE=typeof Promise=="function"?Promise:void 0,Q7=typeof queueMicrotask=="function"?queueMicrotask:typeof GE<"u"?function(i){return GE.resolve(null).then(i).catch(J7)}:Rb;function J7(i){setTimeout(function(){throw i})}function V_(i,e){var t=e,n=0;do{var s=t.nextSibling;if(i.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(n===0){i.removeChild(s),Ch(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=s}while(t);Ch(e)}function Ea(i){for(;i!=null;i=i.nextSibling){var e=i.nodeType;if(e===1||e===3)break;if(e===8){if(e=i.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return i}function qE(i){i=i.previousSibling;for(var e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return i;e--}else t==="/$"&&e++}i=i.previousSibling}return null}var zc=Math.random().toString(36).slice(2),$r="__reactFiber$"+zc,Th="__reactProps$"+zc,ko="__reactContainer$"+zc,Pb="__reactEvents$"+zc,e9="__reactListeners$"+zc,t9="__reactHandles$"+zc;function bl(i){var e=i[$r];if(e)return e;for(var t=i.parentNode;t;){if(e=t[ko]||t[$r]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(i=qE(i);i!==null;){if(t=i[$r])return t;i=qE(i)}return e}i=t,t=i.parentNode}return null}function ap(i){return i=i[$r]||i[ko],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Kd(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(Pe(33))}function l0(i){return i[Th]||null}var Mb=[],Gd=-1;function Xa(i){return{current:i}}function Ln(i){0>Gd||(i.current=Mb[Gd],Mb[Gd]=null,Gd--)}function Bn(i,e){Gd++,Mb[Gd]=i.current,i.current=e}var La={},ji=Xa(La),ps=Xa(!1),Ll=La;function wc(i,e){var t=i.type.contextTypes;if(!t)return La;var n=i.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in t)s[r]=e[r];return n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=e,i.__reactInternalMemoizedMaskedChildContext=s),s}function fs(i){return i=i.childContextTypes,i!=null}function Zm(){Ln(ps),Ln(ji)}function YE(i,e,t){if(ji.current!==La)throw Error(Pe(168));Bn(ji,e),Bn(ps,t)}function y3(i,e,t){var n=i.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Pe(108,LV(i)||"Unknown",s));return Zn({},t,n)}function Qm(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||La,Ll=ji.current,Bn(ji,i),Bn(ps,ps.current),!0}function XE(i,e,t){var n=i.stateNode;if(!n)throw Error(Pe(169));t?(i=y3(i,e,Ll),n.__reactInternalMemoizedMergedChildContext=i,Ln(ps),Ln(ji),Bn(ji,i)):Ln(ps),Bn(ps,t)}var uo=null,d0=!1,L_=!1;function C3(i){uo===null?uo=[i]:uo.push(i)}function n9(i){d0=!0,C3(i)}function Za(){if(!L_&&uo!==null){L_=!0;var i=0,e=In;try{var t=uo;for(In=1;i<t.length;i++){var n=t[i];do n=n(!0);while(n!==null)}uo=null,d0=!1}catch(s){throw uo!==null&&(uo=uo.slice(i+1)),GO(aw,Za),s}finally{In=e,L_=!1}}return null}var qd=[],Yd=0,Jm=null,eg=0,Zs=[],Qs=0,$l=null,_o=1,vo="";function hl(i,e){qd[Yd++]=eg,qd[Yd++]=Jm,Jm=i,eg=e}function w3(i,e,t){Zs[Qs++]=_o,Zs[Qs++]=vo,Zs[Qs++]=$l,$l=i;var n=_o;i=vo;var s=32-Er(n)-1;n&=~(1<<s),t+=1;var r=32-Er(e)+s;if(30<r){var o=s-s%5;r=(n&(1<<o)-1).toString(32),n>>=o,s-=o,_o=1<<32-Er(e)+s|t<<s|n,vo=r+i}else _o=1<<r|t<<s|n,vo=i}function gw(i){i.return!==null&&(hl(i,1),w3(i,1,0))}function _w(i){for(;i===Jm;)Jm=qd[--Yd],qd[Yd]=null,eg=qd[--Yd],qd[Yd]=null;for(;i===$l;)$l=Zs[--Qs],Zs[Qs]=null,vo=Zs[--Qs],Zs[Qs]=null,_o=Zs[--Qs],Zs[Qs]=null}var ks=null,Ds=null,zn=!1,Cr=null;function S3(i,e){var t=er(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=i,e=i.deletions,e===null?(i.deletions=[t],i.flags|=16):e.push(t)}function ZE(i,e){switch(i.tag){case 5:var t=i.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(i.stateNode=e,ks=i,Ds=Ea(e.firstChild),!0):!1;case 6:return e=i.pendingProps===""||e.nodeType!==3?null:e,e!==null?(i.stateNode=e,ks=i,Ds=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=$l!==null?{id:_o,overflow:vo}:null,i.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=er(18,null,null,0),t.stateNode=e,t.return=i,i.child=t,ks=i,Ds=null,!0):!1;default:return!1}}function Fb(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Bb(i){if(zn){var e=Ds;if(e){var t=e;if(!ZE(i,e)){if(Fb(i))throw Error(Pe(418));e=Ea(t.nextSibling);var n=ks;e&&ZE(i,e)?S3(n,t):(i.flags=i.flags&-4097|2,zn=!1,ks=i)}}else{if(Fb(i))throw Error(Pe(418));i.flags=i.flags&-4097|2,zn=!1,ks=i}}}function QE(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ks=i}function gf(i){if(i!==ks)return!1;if(!zn)return QE(i),zn=!0,!1;var e;if((e=i.tag!==3)&&!(e=i.tag!==5)&&(e=i.type,e=e!=="head"&&e!=="body"&&!Ob(i.type,i.memoizedProps)),e&&(e=Ds)){if(Fb(i))throw E3(),Error(Pe(418));for(;e;)S3(i,e),e=Ea(e.nextSibling)}if(QE(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Pe(317));e:{for(i=i.nextSibling,e=0;i;){if(i.nodeType===8){var t=i.data;if(t==="/$"){if(e===0){Ds=Ea(i.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}i=i.nextSibling}Ds=null}}else Ds=ks?Ea(i.stateNode.nextSibling):null;return!0}function E3(){for(var i=Ds;i;)i=Ea(i.nextSibling)}function Sc(){Ds=ks=null,zn=!1}function vw(i){Cr===null?Cr=[i]:Cr.push(i)}var i9=Vo.ReactCurrentBatchConfig;function lu(i,e,t){if(i=t.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Pe(309));var n=t.stateNode}if(!n)throw Error(Pe(147,i));var s=n,r=""+i;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(o){var a=s.refs;o===null?delete a[r]:a[r]=o},e._stringRef=r,e)}if(typeof i!="string")throw Error(Pe(284));if(!t._owner)throw Error(Pe(290,i))}return i}function _f(i,e){throw i=Object.prototype.toString.call(e),Error(Pe(31,i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i))}function JE(i){var e=i._init;return e(i._payload)}function I3(i){function e(v,_){if(i){var x=v.deletions;x===null?(v.deletions=[_],v.flags|=16):x.push(_)}}function t(v,_){if(!i)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function n(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=Aa(v,_),v.index=0,v.sibling=null,v}function r(v,_,x){return v.index=x,i?(x=v.alternate,x!==null?(x=x.index,x<_?(v.flags|=2,_):x):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return i&&v.alternate===null&&(v.flags|=2),v}function a(v,_,x,y){return _===null||_.tag!==6?(_=K_(x,v.mode,y),_.return=v,_):(_=s(_,x),_.return=v,_)}function l(v,_,x,y){var T=x.type;return T===jd?c(v,_,x.props.children,y,x.key):_!==null&&(_.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sa&&JE(T)===_.type)?(y=s(_,x.props),y.ref=lu(v,_,x),y.return=v,y):(y=gm(x.type,x.key,x.props,null,v.mode,y),y.ref=lu(v,_,x),y.return=v,y)}function d(v,_,x,y){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=G_(x,v.mode,y),_.return=v,_):(_=s(_,x.children||[]),_.return=v,_)}function c(v,_,x,y,T){return _===null||_.tag!==7?(_=kl(x,v.mode,y,T),_.return=v,_):(_=s(_,x),_.return=v,_)}function h(v,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=K_(""+_,v.mode,x),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case of:return x=gm(_.type,_.key,_.props,null,v.mode,x),x.ref=lu(v,null,_),x.return=v,x;case Hd:return _=G_(_,v.mode,x),_.return=v,_;case sa:var y=_._init;return h(v,y(_._payload),x)}if(Nu(_)||iu(_))return _=kl(_,v.mode,x,null),_.return=v,_;_f(v,_)}return null}function u(v,_,x,y){var T=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return T!==null?null:a(v,_,""+x,y);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case of:return x.key===T?l(v,_,x,y):null;case Hd:return x.key===T?d(v,_,x,y):null;case sa:return T=x._init,u(v,_,T(x._payload),y)}if(Nu(x)||iu(x))return T!==null?null:c(v,_,x,y,null);_f(v,x)}return null}function p(v,_,x,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return v=v.get(x)||null,a(_,v,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case of:return v=v.get(y.key===null?x:y.key)||null,l(_,v,y,T);case Hd:return v=v.get(y.key===null?x:y.key)||null,d(_,v,y,T);case sa:var O=y._init;return p(v,_,x,O(y._payload),T)}if(Nu(y)||iu(y))return v=v.get(x)||null,c(_,v,y,T,null);_f(_,y)}return null}function f(v,_,x,y){for(var T=null,O=null,L=_,R=_=0,$=null;L!==null&&R<x.length;R++){L.index>R?($=L,L=null):$=L.sibling;var V=u(v,L,x[R],y);if(V===null){L===null&&(L=$);break}i&&L&&V.alternate===null&&e(v,L),_=r(V,_,R),O===null?T=V:O.sibling=V,O=V,L=$}if(R===x.length)return t(v,L),zn&&hl(v,R),T;if(L===null){for(;R<x.length;R++)L=h(v,x[R],y),L!==null&&(_=r(L,_,R),O===null?T=L:O.sibling=L,O=L);return zn&&hl(v,R),T}for(L=n(v,L);R<x.length;R++)$=p(L,v,R,x[R],y),$!==null&&(i&&$.alternate!==null&&L.delete($.key===null?R:$.key),_=r($,_,R),O===null?T=$:O.sibling=$,O=$);return i&&L.forEach(function(z){return e(v,z)}),zn&&hl(v,R),T}function g(v,_,x,y){var T=iu(x);if(typeof T!="function")throw Error(Pe(150));if(x=T.call(x),x==null)throw Error(Pe(151));for(var O=T=null,L=_,R=_=0,$=null,V=x.next();L!==null&&!V.done;R++,V=x.next()){L.index>R?($=L,L=null):$=L.sibling;var z=u(v,L,V.value,y);if(z===null){L===null&&(L=$);break}i&&L&&z.alternate===null&&e(v,L),_=r(z,_,R),O===null?T=z:O.sibling=z,O=z,L=$}if(V.done)return t(v,L),zn&&hl(v,R),T;if(L===null){for(;!V.done;R++,V=x.next())V=h(v,V.value,y),V!==null&&(_=r(V,_,R),O===null?T=V:O.sibling=V,O=V);return zn&&hl(v,R),T}for(L=n(v,L);!V.done;R++,V=x.next())V=p(L,v,R,V.value,y),V!==null&&(i&&V.alternate!==null&&L.delete(V.key===null?R:V.key),_=r(V,_,R),O===null?T=V:O.sibling=V,O=V);return i&&L.forEach(function(H){return e(v,H)}),zn&&hl(v,R),T}function m(v,_,x,y){if(typeof x=="object"&&x!==null&&x.type===jd&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case of:e:{for(var T=x.key,O=_;O!==null;){if(O.key===T){if(T=x.type,T===jd){if(O.tag===7){t(v,O.sibling),_=s(O,x.props.children),_.return=v,v=_;break e}}else if(O.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===sa&&JE(T)===O.type){t(v,O.sibling),_=s(O,x.props),_.ref=lu(v,O,x),_.return=v,v=_;break e}t(v,O);break}else e(v,O);O=O.sibling}x.type===jd?(_=kl(x.props.children,v.mode,y,x.key),_.return=v,v=_):(y=gm(x.type,x.key,x.props,null,v.mode,y),y.ref=lu(v,_,x),y.return=v,v=y)}return o(v);case Hd:e:{for(O=x.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){t(v,_.sibling),_=s(_,x.children||[]),_.return=v,v=_;break e}else{t(v,_);break}else e(v,_);_=_.sibling}_=G_(x,v.mode,y),_.return=v,v=_}return o(v);case sa:return O=x._init,m(v,_,O(x._payload),y)}if(Nu(x))return f(v,_,x,y);if(iu(x))return g(v,_,x,y);_f(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(t(v,_.sibling),_=s(_,x),_.return=v,v=_):(t(v,_),_=K_(x,v.mode,y),_.return=v,v=_),o(v)):t(v,_)}return m}var Ec=I3(!0),T3=I3(!1),tg=Xa(null),ng=null,Xd=null,xw=null;function bw(){xw=Xd=ng=null}function yw(i){var e=tg.current;Ln(tg),i._currentValue=e}function Nb(i,e,t){for(;i!==null;){var n=i.alternate;if((i.childLanes&e)!==e?(i.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),i===t)break;i=i.return}}function uc(i,e){ng=i,xw=Xd=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&e&&(hs=!0),i.firstContext=null)}function or(i){var e=i._currentValue;if(xw!==i)if(i={context:i,memoizedValue:e,next:null},Xd===null){if(ng===null)throw Error(Pe(308));Xd=i,ng.dependencies={lanes:0,firstContext:i}}else Xd=Xd.next=i;return e}var yl=null;function Cw(i){yl===null?yl=[i]:yl.push(i)}function D3(i,e,t,n){var s=e.interleaved;return s===null?(t.next=t,Cw(e)):(t.next=s.next,s.next=t),e.interleaved=t,Oo(i,n)}function Oo(i,e){i.lanes|=e;var t=i.alternate;for(t!==null&&(t.lanes|=e),t=i,i=i.return;i!==null;)i.childLanes|=e,t=i.alternate,t!==null&&(t.childLanes|=e),t=i,i=i.return;return t.tag===3?t.stateNode:null}var ra=!1;function ww(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A3(i,e){i=i.updateQueue,e.updateQueue===i&&(e.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function bo(i,e){return{eventTime:i,lane:e,tag:0,payload:null,callback:null,next:null}}function Ia(i,e,t){var n=i.updateQueue;if(n===null)return null;if(n=n.shared,hn&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Oo(i,t)}return s=n.interleaved,s===null?(e.next=e,Cw(n)):(e.next=s.next,s.next=e),n.interleaved=e,Oo(i,t)}function cm(i,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=i.pendingLanes,t|=n,e.lanes=t,lw(i,t)}}function eI(i,e){var t=i.updateQueue,n=i.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var s=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?s=r=o:r=r.next=o,t=t.next}while(t!==null);r===null?s=r=e:r=r.next=e}else s=r=e;t={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},i.updateQueue=t;return}i=t.lastBaseUpdate,i===null?t.firstBaseUpdate=e:i.next=e,t.lastBaseUpdate=e}function ig(i,e,t,n){var s=i.updateQueue;ra=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?r=d:o.next=d,o=l;var c=i.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=d:a.next=d,c.lastBaseUpdate=l))}if(r!==null){var h=s.baseState;o=0,c=d=l=null,a=r;do{var u=a.lane,p=a.eventTime;if((n&u)===u){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=i,g=a;switch(u=e,p=t,g.tag){case 1:if(f=g.payload,typeof f=="function"){h=f.call(p,h,u);break e}h=f;break e;case 3:f.flags=f.flags&-65537|128;case 0:if(f=g.payload,u=typeof f=="function"?f.call(p,h,u):f,u==null)break e;h=Zn({},h,u);break e;case 2:ra=!0}}a.callback!==null&&a.lane!==0&&(i.flags|=64,u=s.effects,u===null?s.effects=[a]:u.push(a))}else p={eventTime:p,lane:u,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(d=c=p,l=h):c=c.next=p,o|=u;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;u=a,a=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}while(!0);if(c===null&&(l=h),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);jl|=o,i.lanes=o,i.memoizedState=h}}function tI(i,e,t){if(i=e.effects,e.effects=null,i!==null)for(e=0;e<i.length;e++){var n=i[e],s=n.callback;if(s!==null){if(n.callback=null,n=t,typeof s!="function")throw Error(Pe(191,s));s.call(n)}}}var lp={},Ur=Xa(lp),Dh=Xa(lp),Ah=Xa(lp);function Cl(i){if(i===lp)throw Error(Pe(174));return i}function Sw(i,e){switch(Bn(Ah,e),Bn(Dh,i),Bn(Ur,lp),i=e.nodeType,i){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_b(null,"");break;default:i=i===8?e.parentNode:e,e=i.namespaceURI||null,i=i.tagName,e=_b(e,i)}Ln(Ur),Bn(Ur,e)}function Ic(){Ln(Ur),Ln(Dh),Ln(Ah)}function k3(i){Cl(Ah.current);var e=Cl(Ur.current),t=_b(e,i.type);e!==t&&(Bn(Dh,i),Bn(Ur,t))}function Ew(i){Dh.current===i&&(Ln(Ur),Ln(Dh))}var Gn=Xa(0);function sg(i){for(var e=i;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $_=[];function Iw(){for(var i=0;i<$_.length;i++)$_[i]._workInProgressVersionPrimary=null;$_.length=0}var um=Vo.ReactCurrentDispatcher,H_=Vo.ReactCurrentBatchConfig,Hl=0,Yn=null,li=null,vi=null,rg=!1,Zu=!1,kh=0,s9=0;function Ri(){throw Error(Pe(321))}function Tw(i,e){if(e===null)return!1;for(var t=0;t<e.length&&t<i.length;t++)if(!Tr(i[t],e[t]))return!1;return!0}function Dw(i,e,t,n,s,r){if(Hl=r,Yn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,um.current=i===null||i.memoizedState===null?l9:d9,i=t(n,s),Zu){r=0;do{if(Zu=!1,kh=0,25<=r)throw Error(Pe(301));r+=1,vi=li=null,e.updateQueue=null,um.current=c9,i=t(n,s)}while(Zu)}if(um.current=og,e=li!==null&&li.next!==null,Hl=0,vi=li=Yn=null,rg=!1,e)throw Error(Pe(300));return i}function Aw(){var i=kh!==0;return kh=0,i}function Lr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?Yn.memoizedState=vi=i:vi=vi.next=i,vi}function ar(){if(li===null){var i=Yn.alternate;i=i!==null?i.memoizedState:null}else i=li.next;var e=vi===null?Yn.memoizedState:vi.next;if(e!==null)vi=e,li=i;else{if(i===null)throw Error(Pe(310));li=i,i={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},vi===null?Yn.memoizedState=vi=i:vi=vi.next=i}return vi}function Oh(i,e){return typeof e=="function"?e(i):e}function j_(i){var e=ar(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=i;var n=li,s=n.baseQueue,r=t.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}n.baseQueue=s=r,t.pending=null}if(s!==null){r=s.next,n=n.baseState;var a=o=null,l=null,d=r;do{var c=d.lane;if((Hl&c)===c)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:i(n,d.action);else{var h={lane:c,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,Yn.lanes|=c,jl|=c}d=d.next}while(d!==null&&d!==r);l===null?o=n:l.next=a,Tr(n,e.memoizedState)||(hs=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,t.lastRenderedState=n}if(i=t.interleaved,i!==null){s=i;do r=s.lane,Yn.lanes|=r,jl|=r,s=s.next;while(s!==i)}else s===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function z_(i){var e=ar(),t=e.queue;if(t===null)throw Error(Pe(311));t.lastRenderedReducer=i;var n=t.dispatch,s=t.pending,r=e.memoizedState;if(s!==null){t.pending=null;var o=s=s.next;do r=i(r,o.action),o=o.next;while(o!==s);Tr(r,e.memoizedState)||(hs=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,n]}function O3(){}function R3(i,e){var t=Yn,n=ar(),s=e(),r=!Tr(n.memoizedState,s);if(r&&(n.memoizedState=s,hs=!0),n=n.queue,kw(F3.bind(null,t,n,i),[i]),n.getSnapshot!==e||r||vi!==null&&vi.memoizedState.tag&1){if(t.flags|=2048,Rh(9,M3.bind(null,t,n,s,e),void 0,null),yi===null)throw Error(Pe(349));Hl&30||P3(t,e,s)}return s}function P3(i,e,t){i.flags|=16384,i={getSnapshot:e,value:t},e=Yn.updateQueue,e===null?(e={lastEffect:null,stores:null},Yn.updateQueue=e,e.stores=[i]):(t=e.stores,t===null?e.stores=[i]:t.push(i))}function M3(i,e,t,n){e.value=t,e.getSnapshot=n,B3(e)&&N3(i)}function F3(i,e,t){return t(function(){B3(e)&&N3(i)})}function B3(i){var e=i.getSnapshot;i=i.value;try{var t=e();return!Tr(i,t)}catch{return!0}}function N3(i){var e=Oo(i,1);e!==null&&Ir(e,i,1,-1)}function nI(i){var e=Lr();return typeof i=="function"&&(i=i()),e.memoizedState=e.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oh,lastRenderedState:i},e.queue=i,i=i.dispatch=a9.bind(null,Yn,i),[e.memoizedState,i]}function Rh(i,e,t,n){return i={tag:i,create:e,destroy:t,deps:n,next:null},e=Yn.updateQueue,e===null?(e={lastEffect:null,stores:null},Yn.updateQueue=e,e.lastEffect=i.next=i):(t=e.lastEffect,t===null?e.lastEffect=i.next=i:(n=t.next,t.next=i,i.next=n,e.lastEffect=i)),i}function V3(){return ar().memoizedState}function hm(i,e,t,n){var s=Lr();Yn.flags|=i,s.memoizedState=Rh(1|e,t,void 0,n===void 0?null:n)}function c0(i,e,t,n){var s=ar();n=n===void 0?null:n;var r=void 0;if(li!==null){var o=li.memoizedState;if(r=o.destroy,n!==null&&Tw(n,o.deps)){s.memoizedState=Rh(e,t,r,n);return}}Yn.flags|=i,s.memoizedState=Rh(1|e,t,r,n)}function iI(i,e){return hm(8390656,8,i,e)}function kw(i,e){return c0(2048,8,i,e)}function L3(i,e){return c0(4,2,i,e)}function $3(i,e){return c0(4,4,i,e)}function H3(i,e){if(typeof e=="function")return i=i(),e(i),function(){e(null)};if(e!=null)return i=i(),e.current=i,function(){e.current=null}}function j3(i,e,t){return t=t!=null?t.concat([i]):null,c0(4,4,H3.bind(null,e,i),t)}function Ow(){}function z3(i,e){var t=ar();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Tw(e,n[1])?n[0]:(t.memoizedState=[i,e],i)}function W3(i,e){var t=ar();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&Tw(e,n[1])?n[0]:(i=i(),t.memoizedState=[i,e],i)}function U3(i,e,t){return Hl&21?(Tr(t,e)||(t=XO(),Yn.lanes|=t,jl|=t,i.baseState=!0),e):(i.baseState&&(i.baseState=!1,hs=!0),i.memoizedState=t)}function r9(i,e){var t=In;In=t!==0&&4>t?t:4,i(!0);var n=H_.transition;H_.transition={};try{i(!1),e()}finally{In=t,H_.transition=n}}function K3(){return ar().memoizedState}function o9(i,e,t){var n=Da(i);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},G3(i))q3(e,t);else if(t=D3(i,e,t,n),t!==null){var s=Zi();Ir(t,i,n,s),Y3(t,e,n)}}function a9(i,e,t){var n=Da(i),s={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(G3(i))q3(e,s);else{var r=i.alternate;if(i.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var o=e.lastRenderedState,a=r(o,t);if(s.hasEagerState=!0,s.eagerState=a,Tr(a,o)){var l=e.interleaved;l===null?(s.next=s,Cw(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}t=D3(i,e,s,n),t!==null&&(s=Zi(),Ir(t,i,n,s),Y3(t,e,n))}}function G3(i){var e=i.alternate;return i===Yn||e!==null&&e===Yn}function q3(i,e){Zu=rg=!0;var t=i.pending;t===null?e.next=e:(e.next=t.next,t.next=e),i.pending=e}function Y3(i,e,t){if(t&4194240){var n=e.lanes;n&=i.pendingLanes,t|=n,e.lanes=t,lw(i,t)}}var og={readContext:or,useCallback:Ri,useContext:Ri,useEffect:Ri,useImperativeHandle:Ri,useInsertionEffect:Ri,useLayoutEffect:Ri,useMemo:Ri,useReducer:Ri,useRef:Ri,useState:Ri,useDebugValue:Ri,useDeferredValue:Ri,useTransition:Ri,useMutableSource:Ri,useSyncExternalStore:Ri,useId:Ri,unstable_isNewReconciler:!1},l9={readContext:or,useCallback:function(i,e){return Lr().memoizedState=[i,e===void 0?null:e],i},useContext:or,useEffect:iI,useImperativeHandle:function(i,e,t){return t=t!=null?t.concat([i]):null,hm(4194308,4,H3.bind(null,e,i),t)},useLayoutEffect:function(i,e){return hm(4194308,4,i,e)},useInsertionEffect:function(i,e){return hm(4,2,i,e)},useMemo:function(i,e){var t=Lr();return e=e===void 0?null:e,i=i(),t.memoizedState=[i,e],i},useReducer:function(i,e,t){var n=Lr();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:e},n.queue=i,i=i.dispatch=o9.bind(null,Yn,i),[n.memoizedState,i]},useRef:function(i){var e=Lr();return i={current:i},e.memoizedState=i},useState:nI,useDebugValue:Ow,useDeferredValue:function(i){return Lr().memoizedState=i},useTransition:function(){var i=nI(!1),e=i[0];return i=r9.bind(null,i[1]),Lr().memoizedState=i,[e,i]},useMutableSource:function(){},useSyncExternalStore:function(i,e,t){var n=Yn,s=Lr();if(zn){if(t===void 0)throw Error(Pe(407));t=t()}else{if(t=e(),yi===null)throw Error(Pe(349));Hl&30||P3(n,e,t)}s.memoizedState=t;var r={value:t,getSnapshot:e};return s.queue=r,iI(F3.bind(null,n,r,i),[i]),n.flags|=2048,Rh(9,M3.bind(null,n,r,t,e),void 0,null),t},useId:function(){var i=Lr(),e=yi.identifierPrefix;if(zn){var t=vo,n=_o;t=(n&~(1<<32-Er(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=kh++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=s9++,e=":"+e+"r"+t.toString(32)+":";return i.memoizedState=e},unstable_isNewReconciler:!1},d9={readContext:or,useCallback:z3,useContext:or,useEffect:kw,useImperativeHandle:j3,useInsertionEffect:L3,useLayoutEffect:$3,useMemo:W3,useReducer:j_,useRef:V3,useState:function(){return j_(Oh)},useDebugValue:Ow,useDeferredValue:function(i){var e=ar();return U3(e,li.memoizedState,i)},useTransition:function(){var i=j_(Oh)[0],e=ar().memoizedState;return[i,e]},useMutableSource:O3,useSyncExternalStore:R3,useId:K3,unstable_isNewReconciler:!1},c9={readContext:or,useCallback:z3,useContext:or,useEffect:kw,useImperativeHandle:j3,useInsertionEffect:L3,useLayoutEffect:$3,useMemo:W3,useReducer:z_,useRef:V3,useState:function(){return z_(Oh)},useDebugValue:Ow,useDeferredValue:function(i){var e=ar();return li===null?e.memoizedState=i:U3(e,li.memoizedState,i)},useTransition:function(){var i=z_(Oh)[0],e=ar().memoizedState;return[i,e]},useMutableSource:O3,useSyncExternalStore:R3,useId:K3,unstable_isNewReconciler:!1};function xr(i,e){if(i&&i.defaultProps){e=Zn({},e),i=i.defaultProps;for(var t in i)e[t]===void 0&&(e[t]=i[t]);return e}return e}function Vb(i,e,t,n){e=i.memoizedState,t=t(n,e),t=t==null?e:Zn({},e,t),i.memoizedState=t,i.lanes===0&&(i.updateQueue.baseState=t)}var u0={isMounted:function(i){return(i=i._reactInternals)?nd(i)===i:!1},enqueueSetState:function(i,e,t){i=i._reactInternals;var n=Zi(),s=Da(i),r=bo(n,s);r.payload=e,t!=null&&(r.callback=t),e=Ia(i,r,s),e!==null&&(Ir(e,i,s,n),cm(e,i,s))},enqueueReplaceState:function(i,e,t){i=i._reactInternals;var n=Zi(),s=Da(i),r=bo(n,s);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=Ia(i,r,s),e!==null&&(Ir(e,i,s,n),cm(e,i,s))},enqueueForceUpdate:function(i,e){i=i._reactInternals;var t=Zi(),n=Da(i),s=bo(t,n);s.tag=2,e!=null&&(s.callback=e),e=Ia(i,s,n),e!==null&&(Ir(e,i,n,t),cm(e,i,n))}};function sI(i,e,t,n,s,r,o){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(n,r,o):e.prototype&&e.prototype.isPureReactComponent?!Sh(t,n)||!Sh(s,r):!0}function X3(i,e,t){var n=!1,s=La,r=e.contextType;return typeof r=="object"&&r!==null?r=or(r):(s=fs(e)?Ll:ji.current,n=e.contextTypes,r=(n=n!=null)?wc(i,s):La),e=new e(t,r),i.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=u0,i.stateNode=e,e._reactInternals=i,n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=r),e}function rI(i,e,t,n){i=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==i&&u0.enqueueReplaceState(e,e.state,null)}function Lb(i,e,t,n){var s=i.stateNode;s.props=t,s.state=i.memoizedState,s.refs={},ww(i);var r=e.contextType;typeof r=="object"&&r!==null?s.context=or(r):(r=fs(e)?Ll:ji.current,s.context=wc(i,r)),s.state=i.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Vb(i,e,r,t),s.state=i.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&u0.enqueueReplaceState(s,s.state,null),ig(i,t,s,n),s.state=i.memoizedState),typeof s.componentDidMount=="function"&&(i.flags|=4194308)}function Tc(i,e){try{var t="",n=e;do t+=VV(n),n=n.return;while(n);var s=t}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:i,source:e,stack:s,digest:null}}function W_(i,e,t){return{value:i,source:null,stack:t??null,digest:e??null}}function $b(i,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var u9=typeof WeakMap=="function"?WeakMap:Map;function Z3(i,e,t){t=bo(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){lg||(lg=!0,Xb=n),$b(i,e)},t}function Q3(i,e,t){t=bo(-1,t),t.tag=3;var n=i.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;t.payload=function(){return n(s)},t.callback=function(){$b(i,e)}}var r=i.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){$b(i,e),typeof n!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function oI(i,e,t){var n=i.pingCache;if(n===null){n=i.pingCache=new u9;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(t)||(s.add(t),i=E9.bind(null,i,e,t),e.then(i,i))}function aI(i){do{var e;if((e=i.tag===13)&&(e=i.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return i;i=i.return}while(i!==null);return null}function lI(i,e,t,n,s){return i.mode&1?(i.flags|=65536,i.lanes=s,i):(i===e?i.flags|=65536:(i.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=bo(-1,1),e.tag=2,Ia(t,e,1))),t.lanes|=1),i)}var h9=Vo.ReactCurrentOwner,hs=!1;function Ki(i,e,t,n){e.child=i===null?T3(e,null,t,n):Ec(e,i.child,t,n)}function dI(i,e,t,n,s){t=t.render;var r=e.ref;return uc(e,s),n=Dw(i,e,t,n,r,s),t=Aw(),i!==null&&!hs?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~s,Ro(i,e,s)):(zn&&t&&gw(e),e.flags|=1,Ki(i,e,n,s),e.child)}function cI(i,e,t,n,s){if(i===null){var r=t.type;return typeof r=="function"&&!Lw(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,J3(i,e,r,n,s)):(i=gm(t.type,null,n,e,e.mode,s),i.ref=e.ref,i.return=e,e.child=i)}if(r=i.child,!(i.lanes&s)){var o=r.memoizedProps;if(t=t.compare,t=t!==null?t:Sh,t(o,n)&&i.ref===e.ref)return Ro(i,e,s)}return e.flags|=1,i=Aa(r,n),i.ref=e.ref,i.return=e,e.child=i}function J3(i,e,t,n,s){if(i!==null){var r=i.memoizedProps;if(Sh(r,n)&&i.ref===e.ref)if(hs=!1,e.pendingProps=n=r,(i.lanes&s)!==0)i.flags&131072&&(hs=!0);else return e.lanes=i.lanes,Ro(i,e,s)}return Hb(i,e,t,n,s)}function eR(i,e,t){var n=e.pendingProps,s=n.children,r=i!==null?i.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(Qd,Is),Is|=t;else{if(!(t&1073741824))return i=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:i,cachePool:null,transitions:null},e.updateQueue=null,Bn(Qd,Is),Is|=i,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=r!==null?r.baseLanes:t,Bn(Qd,Is),Is|=n}else r!==null?(n=r.baseLanes|t,e.memoizedState=null):n=t,Bn(Qd,Is),Is|=n;return Ki(i,e,s,t),e.child}function tR(i,e){var t=e.ref;(i===null&&t!==null||i!==null&&i.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Hb(i,e,t,n,s){var r=fs(t)?Ll:ji.current;return r=wc(e,r),uc(e,s),t=Dw(i,e,t,n,r,s),n=Aw(),i!==null&&!hs?(e.updateQueue=i.updateQueue,e.flags&=-2053,i.lanes&=~s,Ro(i,e,s)):(zn&&n&&gw(e),e.flags|=1,Ki(i,e,t,s),e.child)}function uI(i,e,t,n,s){if(fs(t)){var r=!0;Qm(e)}else r=!1;if(uc(e,s),e.stateNode===null)pm(i,e),X3(e,t,n),Lb(e,t,n,s),n=!0;else if(i===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=t.contextType;typeof d=="object"&&d!==null?d=or(d):(d=fs(t)?Ll:ji.current,d=wc(e,d));var c=t.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==d)&&rI(e,o,n,d),ra=!1;var u=e.memoizedState;o.state=u,ig(e,n,o,s),l=e.memoizedState,a!==n||u!==l||ps.current||ra?(typeof c=="function"&&(Vb(e,t,c,n),l=e.memoizedState),(a=ra||sI(e,t,a,n,u,l,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=d,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,A3(i,e),a=e.memoizedProps,d=e.type===e.elementType?a:xr(e.type,a),o.props=d,h=e.pendingProps,u=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=or(l):(l=fs(t)?Ll:ji.current,l=wc(e,l));var p=t.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||u!==l)&&rI(e,o,n,l),ra=!1,u=e.memoizedState,o.state=u,ig(e,n,o,s);var f=e.memoizedState;a!==h||u!==f||ps.current||ra?(typeof p=="function"&&(Vb(e,t,p,n),f=e.memoizedState),(d=ra||sI(e,t,d,n,u,f,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,f,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,f,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===i.memoizedProps&&u===i.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===i.memoizedProps&&u===i.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=f),o.props=n,o.state=f,o.context=l,n=d):(typeof o.componentDidUpdate!="function"||a===i.memoizedProps&&u===i.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===i.memoizedProps&&u===i.memoizedState||(e.flags|=1024),n=!1)}return jb(i,e,t,n,r,s)}function jb(i,e,t,n,s,r){tR(i,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&XE(e,t,!1),Ro(i,e,r);n=e.stateNode,h9.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,i!==null&&o?(e.child=Ec(e,i.child,null,r),e.child=Ec(e,null,a,r)):Ki(i,e,a,r),e.memoizedState=n.state,s&&XE(e,t,!0),e.child}function nR(i){var e=i.stateNode;e.pendingContext?YE(i,e.pendingContext,e.pendingContext!==e.context):e.context&&YE(i,e.context,!1),Sw(i,e.containerInfo)}function hI(i,e,t,n,s){return Sc(),vw(s),e.flags|=256,Ki(i,e,t,n),e.child}var zb={dehydrated:null,treeContext:null,retryLane:0};function Wb(i){return{baseLanes:i,cachePool:null,transitions:null}}function iR(i,e,t){var n=e.pendingProps,s=Gn.current,r=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=i!==null&&i.memoizedState===null?!1:(s&2)!==0),a?(r=!0,e.flags&=-129):(i===null||i.memoizedState!==null)&&(s|=1),Bn(Gn,s&1),i===null)return Bb(e),i=e.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(e.mode&1?i.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,i=n.fallback,r?(n=e.mode,r=e.child,o={mode:"hidden",children:o},!(n&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=f0(o,n,0,null),i=kl(i,n,t,null),r.return=e,i.return=e,r.sibling=i,e.child=r,e.child.memoizedState=Wb(t),e.memoizedState=zb,i):Rw(e,o));if(s=i.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return p9(i,e,o,n,a,s,t);if(r){r=n.fallback,o=e.mode,s=i.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Aa(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?r=Aa(a,r):(r=kl(r,o,t,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,n=r,r=e.child,o=i.child.memoizedState,o=o===null?Wb(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=i.childLanes&~t,e.memoizedState=zb,n}return r=i.child,i=r.sibling,n=Aa(r,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,i!==null&&(t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)),e.child=n,e.memoizedState=null,n}function Rw(i,e){return e=f0({mode:"visible",children:e},i.mode,0,null),e.return=i,i.child=e}function vf(i,e,t,n){return n!==null&&vw(n),Ec(e,i.child,null,t),i=Rw(e,e.pendingProps.children),i.flags|=2,e.memoizedState=null,i}function p9(i,e,t,n,s,r,o){if(t)return e.flags&256?(e.flags&=-257,n=W_(Error(Pe(422))),vf(i,e,o,n)):e.memoizedState!==null?(e.child=i.child,e.flags|=128,null):(r=n.fallback,s=e.mode,n=f0({mode:"visible",children:n.children},s,0,null),r=kl(r,s,o,null),r.flags|=2,n.return=e,r.return=e,n.sibling=r,e.child=n,e.mode&1&&Ec(e,i.child,null,o),e.child.memoizedState=Wb(o),e.memoizedState=zb,r);if(!(e.mode&1))return vf(i,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,r=Error(Pe(419)),n=W_(r,n,void 0),vf(i,e,o,n)}if(a=(o&i.childLanes)!==0,hs||a){if(n=yi,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Oo(i,s),Ir(n,i,s,-1))}return Vw(),n=W_(Error(Pe(421))),vf(i,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=i.child,e=I9.bind(null,i),s._reactRetry=e,null):(i=r.treeContext,Ds=Ea(s.nextSibling),ks=e,zn=!0,Cr=null,i!==null&&(Zs[Qs++]=_o,Zs[Qs++]=vo,Zs[Qs++]=$l,_o=i.id,vo=i.overflow,$l=e),e=Rw(e,n.children),e.flags|=4096,e)}function pI(i,e,t){i.lanes|=e;var n=i.alternate;n!==null&&(n.lanes|=e),Nb(i.return,e,t)}function U_(i,e,t,n,s){var r=i.memoizedState;r===null?i.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=t,r.tailMode=s)}function sR(i,e,t){var n=e.pendingProps,s=n.revealOrder,r=n.tail;if(Ki(i,e,n.children,t),n=Gn.current,n&2)n=n&1|2,e.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=e.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&pI(i,t,e);else if(i.tag===19)pI(i,t,e);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}n&=1}if(Bn(Gn,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(t=e.child,s=null;t!==null;)i=t.alternate,i!==null&&sg(i)===null&&(s=t),t=t.sibling;t=s,t===null?(s=e.child,e.child=null):(s=t.sibling,t.sibling=null),U_(e,!1,s,t,r);break;case"backwards":for(t=null,s=e.child,e.child=null;s!==null;){if(i=s.alternate,i!==null&&sg(i)===null){e.child=s;break}i=s.sibling,s.sibling=t,t=s,s=i}U_(e,!0,t,null,r);break;case"together":U_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pm(i,e){!(e.mode&1)&&i!==null&&(i.alternate=null,e.alternate=null,e.flags|=2)}function Ro(i,e,t){if(i!==null&&(e.dependencies=i.dependencies),jl|=e.lanes,!(t&e.childLanes))return null;if(i!==null&&e.child!==i.child)throw Error(Pe(153));if(e.child!==null){for(i=e.child,t=Aa(i,i.pendingProps),e.child=t,t.return=e;i.sibling!==null;)i=i.sibling,t=t.sibling=Aa(i,i.pendingProps),t.return=e;t.sibling=null}return e.child}function f9(i,e,t){switch(e.tag){case 3:nR(e),Sc();break;case 5:k3(e);break;case 1:fs(e.type)&&Qm(e);break;case 4:Sw(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Bn(tg,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Bn(Gn,Gn.current&1),e.flags|=128,null):t&e.child.childLanes?iR(i,e,t):(Bn(Gn,Gn.current&1),i=Ro(i,e,t),i!==null?i.sibling:null);Bn(Gn,Gn.current&1);break;case 19:if(n=(t&e.childLanes)!==0,i.flags&128){if(n)return sR(i,e,t);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Bn(Gn,Gn.current),n)break;return null;case 22:case 23:return e.lanes=0,eR(i,e,t)}return Ro(i,e,t)}var rR,Ub,oR,aR;rR=function(i,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)i.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Ub=function(){};oR=function(i,e,t,n){var s=i.memoizedProps;if(s!==n){i=e.stateNode,Cl(Ur.current);var r=null;switch(t){case"input":s=pb(i,s),n=pb(i,n),r=[];break;case"select":s=Zn({},s,{value:void 0}),n=Zn({},n,{value:void 0}),r=[];break;case"textarea":s=gb(i,s),n=gb(i,n),r=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(i.onclick=Xm)}vb(t,n);var o;t=null;for(d in s)if(!n.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(_h.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in n){var l=n[d];if(a=s!=null?s[d]:void 0,n.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(r||(r=[]),r.push(d,t)),t=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(r=r||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(_h.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Vn("scroll",i),r||a===l||(r=[])):(r=r||[]).push(d,l))}t&&(r=r||[]).push("style",t);var d=r;(e.updateQueue=d)&&(e.flags|=4)}};aR=function(i,e,t,n){t!==n&&(e.flags|=4)};function du(i,e){if(!zn)switch(i.tailMode){case"hidden":e=i.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?i.tail=null:t.sibling=null;break;case"collapsed":t=i.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||i.tail===null?i.tail=null:i.tail.sibling=null:n.sibling=null}}function Pi(i){var e=i.alternate!==null&&i.alternate.child===i.child,t=0,n=0;if(e)for(var s=i.child;s!==null;)t|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=i,s=s.sibling;else for(s=i.child;s!==null;)t|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=i,s=s.sibling;return i.subtreeFlags|=n,i.childLanes=t,e}function m9(i,e,t){var n=e.pendingProps;switch(_w(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pi(e),null;case 1:return fs(e.type)&&Zm(),Pi(e),null;case 3:return n=e.stateNode,Ic(),Ln(ps),Ln(ji),Iw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(i===null||i.child===null)&&(gf(e)?e.flags|=4:i===null||i.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Cr!==null&&(Jb(Cr),Cr=null))),Ub(i,e),Pi(e),null;case 5:Ew(e);var s=Cl(Ah.current);if(t=e.type,i!==null&&e.stateNode!=null)oR(i,e,t,n,s),i.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Pe(166));return Pi(e),null}if(i=Cl(Ur.current),gf(e)){n=e.stateNode,t=e.type;var r=e.memoizedProps;switch(n[$r]=e,n[Th]=r,i=(e.mode&1)!==0,t){case"dialog":Vn("cancel",n),Vn("close",n);break;case"iframe":case"object":case"embed":Vn("load",n);break;case"video":case"audio":for(s=0;s<Lu.length;s++)Vn(Lu[s],n);break;case"source":Vn("error",n);break;case"img":case"image":case"link":Vn("error",n),Vn("load",n);break;case"details":Vn("toggle",n);break;case"input":CE(n,r),Vn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},Vn("invalid",n);break;case"textarea":SE(n,r),Vn("invalid",n)}vb(t,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];o==="children"?typeof a=="string"?n.textContent!==a&&(r.suppressHydrationWarning!==!0&&mf(n.textContent,a,i),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(r.suppressHydrationWarning!==!0&&mf(n.textContent,a,i),s=["children",""+a]):_h.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Vn("scroll",n)}switch(t){case"input":af(n),wE(n,r,!0);break;case"textarea":af(n),EE(n);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(n.onclick=Xm)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=FO(t)),i==="http://www.w3.org/1999/xhtml"?t==="script"?(i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof n.is=="string"?i=o.createElement(t,{is:n.is}):(i=o.createElement(t),t==="select"&&(o=i,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):i=o.createElementNS(i,t),i[$r]=e,i[Th]=n,rR(i,e,!1,!1),e.stateNode=i;e:{switch(o=xb(t,n),t){case"dialog":Vn("cancel",i),Vn("close",i),s=n;break;case"iframe":case"object":case"embed":Vn("load",i),s=n;break;case"video":case"audio":for(s=0;s<Lu.length;s++)Vn(Lu[s],i);s=n;break;case"source":Vn("error",i),s=n;break;case"img":case"image":case"link":Vn("error",i),Vn("load",i),s=n;break;case"details":Vn("toggle",i),s=n;break;case"input":CE(i,n),s=pb(i,n),Vn("invalid",i);break;case"option":s=n;break;case"select":i._wrapperState={wasMultiple:!!n.multiple},s=Zn({},n,{value:void 0}),Vn("invalid",i);break;case"textarea":SE(i,n),s=gb(i,n),Vn("invalid",i);break;default:s=n}vb(t,s),a=s;for(r in a)if(a.hasOwnProperty(r)){var l=a[r];r==="style"?VO(i,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BO(i,l)):r==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&vh(i,l):typeof l=="number"&&vh(i,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(_h.hasOwnProperty(r)?l!=null&&r==="onScroll"&&Vn("scroll",i):l!=null&&nw(i,r,l,o))}switch(t){case"input":af(i),wE(i,n,!1);break;case"textarea":af(i),EE(i);break;case"option":n.value!=null&&i.setAttribute("value",""+Va(n.value));break;case"select":i.multiple=!!n.multiple,r=n.value,r!=null?ac(i,!!n.multiple,r,!1):n.defaultValue!=null&&ac(i,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(i.onclick=Xm)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pi(e),null;case 6:if(i&&e.stateNode!=null)aR(i,e,i.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Pe(166));if(t=Cl(Ah.current),Cl(Ur.current),gf(e)){if(n=e.stateNode,t=e.memoizedProps,n[$r]=e,(r=n.nodeValue!==t)&&(i=ks,i!==null))switch(i.tag){case 3:mf(n.nodeValue,t,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&mf(n.nodeValue,t,(i.mode&1)!==0)}r&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[$r]=e,e.stateNode=n}return Pi(e),null;case 13:if(Ln(Gn),n=e.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(zn&&Ds!==null&&e.mode&1&&!(e.flags&128))E3(),Sc(),e.flags|=98560,r=!1;else if(r=gf(e),n!==null&&n.dehydrated!==null){if(i===null){if(!r)throw Error(Pe(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Pe(317));r[$r]=e}else Sc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pi(e),r=!1}else Cr!==null&&(Jb(Cr),Cr=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(i!==null&&i.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(i===null||Gn.current&1?di===0&&(di=3):Vw())),e.updateQueue!==null&&(e.flags|=4),Pi(e),null);case 4:return Ic(),Ub(i,e),i===null&&Eh(e.stateNode.containerInfo),Pi(e),null;case 10:return yw(e.type._context),Pi(e),null;case 17:return fs(e.type)&&Zm(),Pi(e),null;case 19:if(Ln(Gn),r=e.memoizedState,r===null)return Pi(e),null;if(n=(e.flags&128)!==0,o=r.rendering,o===null)if(n)du(r,!1);else{if(di!==0||i!==null&&i.flags&128)for(i=e.child;i!==null;){if(o=sg(i),o!==null){for(e.flags|=128,du(r,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)r=t,i=n,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t=t.sibling;return Bn(Gn,Gn.current&1|2),e.child}i=i.sibling}r.tail!==null&&ii()>Dc&&(e.flags|=128,n=!0,du(r,!1),e.lanes=4194304)}else{if(!n)if(i=sg(o),i!==null){if(e.flags|=128,n=!0,t=i.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),du(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!zn)return Pi(e),null}else 2*ii()-r.renderingStartTime>Dc&&t!==1073741824&&(e.flags|=128,n=!0,du(r,!1),e.lanes=4194304);r.isBackwards?(o.sibling=e.child,e.child=o):(t=r.last,t!==null?t.sibling=o:e.child=o,r.last=o)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ii(),e.sibling=null,t=Gn.current,Bn(Gn,n?t&1|2:t&1),e):(Pi(e),null);case 22:case 23:return Nw(),n=e.memoizedState!==null,i!==null&&i.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Is&1073741824&&(Pi(e),e.subtreeFlags&6&&(e.flags|=8192)):Pi(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function g9(i,e){switch(_w(e),e.tag){case 1:return fs(e.type)&&Zm(),i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 3:return Ic(),Ln(ps),Ln(ji),Iw(),i=e.flags,i&65536&&!(i&128)?(e.flags=i&-65537|128,e):null;case 5:return Ew(e),null;case 13:if(Ln(Gn),i=e.memoizedState,i!==null&&i.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));Sc()}return i=e.flags,i&65536?(e.flags=i&-65537|128,e):null;case 19:return Ln(Gn),null;case 4:return Ic(),null;case 10:return yw(e.type._context),null;case 22:case 23:return Nw(),null;case 24:return null;default:return null}}var xf=!1,Ni=!1,_9=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Zd(i,e){var t=i.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){ei(i,e,n)}else t.current=null}function Kb(i,e,t){try{t()}catch(n){ei(i,e,n)}}var fI=!1;function v9(i,e){if(Ab=Gm,i=h3(),mw(i)){if("selectionStart"in i)var t={start:i.selectionStart,end:i.selectionEnd};else e:{t=(t=i.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,d=0,c=0,h=i,u=null;t:for(;;){for(var p;h!==t||s!==0&&h.nodeType!==3||(a=o+s),h!==r||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)u=h,h=p;for(;;){if(h===i)break t;if(u===t&&++d===s&&(a=o),u===r&&++c===n&&(l=o),(p=h.nextSibling)!==null)break;h=u,u=h.parentNode}h=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(kb={focusedElem:i,selectionRange:t},Gm=!1,Qe=e;Qe!==null;)if(e=Qe,i=e.child,(e.subtreeFlags&1028)!==0&&i!==null)i.return=e,Qe=i;else for(;Qe!==null;){e=Qe;try{var f=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(f!==null){var g=f.memoizedProps,m=f.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:xr(e.type,g),m);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(y){ei(e,e.return,y)}if(i=e.sibling,i!==null){i.return=e.return,Qe=i;break}Qe=e.return}return f=fI,fI=!1,f}function Qu(i,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&i)===i){var r=s.destroy;s.destroy=void 0,r!==void 0&&Kb(e,t,r)}s=s.next}while(s!==n)}}function h0(i,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&i)===i){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function Gb(i){var e=i.ref;if(e!==null){var t=i.stateNode;switch(i.tag){case 5:i=t;break;default:i=t}typeof e=="function"?e(i):e.current=i}}function lR(i){var e=i.alternate;e!==null&&(i.alternate=null,lR(e)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(e=i.stateNode,e!==null&&(delete e[$r],delete e[Th],delete e[Pb],delete e[e9],delete e[t9])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function dR(i){return i.tag===5||i.tag===3||i.tag===4}function mI(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||dR(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function qb(i,e,t){var n=i.tag;if(n===5||n===6)i=i.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(i,e):t.insertBefore(i,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(i,t)):(e=t,e.appendChild(i)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Xm));else if(n!==4&&(i=i.child,i!==null))for(qb(i,e,t),i=i.sibling;i!==null;)qb(i,e,t),i=i.sibling}function Yb(i,e,t){var n=i.tag;if(n===5||n===6)i=i.stateNode,e?t.insertBefore(i,e):t.appendChild(i);else if(n!==4&&(i=i.child,i!==null))for(Yb(i,e,t),i=i.sibling;i!==null;)Yb(i,e,t),i=i.sibling}var wi=null,yr=!1;function Yo(i,e,t){for(t=t.child;t!==null;)cR(i,e,t),t=t.sibling}function cR(i,e,t){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(s0,t)}catch{}switch(t.tag){case 5:Ni||Zd(t,e);case 6:var n=wi,s=yr;wi=null,Yo(i,e,t),wi=n,yr=s,wi!==null&&(yr?(i=wi,t=t.stateNode,i.nodeType===8?i.parentNode.removeChild(t):i.removeChild(t)):wi.removeChild(t.stateNode));break;case 18:wi!==null&&(yr?(i=wi,t=t.stateNode,i.nodeType===8?V_(i.parentNode,t):i.nodeType===1&&V_(i,t),Ch(i)):V_(wi,t.stateNode));break;case 4:n=wi,s=yr,wi=t.stateNode.containerInfo,yr=!0,Yo(i,e,t),wi=n,yr=s;break;case 0:case 11:case 14:case 15:if(!Ni&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Kb(t,e,o),s=s.next}while(s!==n)}Yo(i,e,t);break;case 1:if(!Ni&&(Zd(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(a){ei(t,e,a)}Yo(i,e,t);break;case 21:Yo(i,e,t);break;case 22:t.mode&1?(Ni=(n=Ni)||t.memoizedState!==null,Yo(i,e,t),Ni=n):Yo(i,e,t);break;default:Yo(i,e,t)}}function gI(i){var e=i.updateQueue;if(e!==null){i.updateQueue=null;var t=i.stateNode;t===null&&(t=i.stateNode=new _9),e.forEach(function(n){var s=T9.bind(null,i,n);t.has(n)||(t.add(n),n.then(s,s))})}}function fr(i,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];try{var r=i,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:wi=a.stateNode,yr=!1;break e;case 3:wi=a.stateNode.containerInfo,yr=!0;break e;case 4:wi=a.stateNode.containerInfo,yr=!0;break e}a=a.return}if(wi===null)throw Error(Pe(160));cR(r,o,s),wi=null,yr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){ei(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)uR(e,i),e=e.sibling}function uR(i,e){var t=i.alternate,n=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(fr(e,i),Rr(i),n&4){try{Qu(3,i,i.return),h0(3,i)}catch(g){ei(i,i.return,g)}try{Qu(5,i,i.return)}catch(g){ei(i,i.return,g)}}break;case 1:fr(e,i),Rr(i),n&512&&t!==null&&Zd(t,t.return);break;case 5:if(fr(e,i),Rr(i),n&512&&t!==null&&Zd(t,t.return),i.flags&32){var s=i.stateNode;try{vh(s,"")}catch(g){ei(i,i.return,g)}}if(n&4&&(s=i.stateNode,s!=null)){var r=i.memoizedProps,o=t!==null?t.memoizedProps:r,a=i.type,l=i.updateQueue;if(i.updateQueue=null,l!==null)try{a==="input"&&r.type==="radio"&&r.name!=null&&PO(s,r),xb(a,o);var d=xb(a,r);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?VO(s,h):c==="dangerouslySetInnerHTML"?BO(s,h):c==="children"?vh(s,h):nw(s,c,h,d)}switch(a){case"input":fb(s,r);break;case"textarea":MO(s,r);break;case"select":var u=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var p=r.value;p!=null?ac(s,!!r.multiple,p,!1):u!==!!r.multiple&&(r.defaultValue!=null?ac(s,!!r.multiple,r.defaultValue,!0):ac(s,!!r.multiple,r.multiple?[]:"",!1))}s[Th]=r}catch(g){ei(i,i.return,g)}}break;case 6:if(fr(e,i),Rr(i),n&4){if(i.stateNode===null)throw Error(Pe(162));s=i.stateNode,r=i.memoizedProps;try{s.nodeValue=r}catch(g){ei(i,i.return,g)}}break;case 3:if(fr(e,i),Rr(i),n&4&&t!==null&&t.memoizedState.isDehydrated)try{Ch(e.containerInfo)}catch(g){ei(i,i.return,g)}break;case 4:fr(e,i),Rr(i);break;case 13:fr(e,i),Rr(i),s=i.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(Fw=ii())),n&4&&gI(i);break;case 22:if(c=t!==null&&t.memoizedState!==null,i.mode&1?(Ni=(d=Ni)||c,fr(e,i),Ni=d):fr(e,i),Rr(i),n&8192){if(d=i.memoizedState!==null,(i.stateNode.isHidden=d)&&!c&&i.mode&1)for(Qe=i,c=i.child;c!==null;){for(h=Qe=c;Qe!==null;){switch(u=Qe,p=u.child,u.tag){case 0:case 11:case 14:case 15:Qu(4,u,u.return);break;case 1:Zd(u,u.return);var f=u.stateNode;if(typeof f.componentWillUnmount=="function"){n=u,t=u.return;try{e=n,f.props=e.memoizedProps,f.state=e.memoizedState,f.componentWillUnmount()}catch(g){ei(n,t,g)}}break;case 5:Zd(u,u.return);break;case 22:if(u.memoizedState!==null){vI(h);continue}}p!==null?(p.return=u,Qe=p):vI(h)}c=c.sibling}e:for(c=null,h=i;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,d?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=NO("display",o))}catch(g){ei(i,i.return,g)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(g){ei(i,i.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===i)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fr(e,i),Rr(i),n&4&&gI(i);break;case 21:break;default:fr(e,i),Rr(i)}}function Rr(i){var e=i.flags;if(e&2){try{e:{for(var t=i.return;t!==null;){if(dR(t)){var n=t;break e}t=t.return}throw Error(Pe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(vh(s,""),n.flags&=-33);var r=mI(i);Yb(i,r,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=mI(i);qb(i,a,o);break;default:throw Error(Pe(161))}}catch(l){ei(i,i.return,l)}i.flags&=-3}e&4096&&(i.flags&=-4097)}function x9(i,e,t){Qe=i,hR(i)}function hR(i,e,t){for(var n=(i.mode&1)!==0;Qe!==null;){var s=Qe,r=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||xf;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ni;a=xf;var d=Ni;if(xf=o,(Ni=l)&&!d)for(Qe=s;Qe!==null;)o=Qe,l=o.child,o.tag===22&&o.memoizedState!==null?xI(s):l!==null?(l.return=o,Qe=l):xI(s);for(;r!==null;)Qe=r,hR(r),r=r.sibling;Qe=s,xf=a,Ni=d}_I(i)}else s.subtreeFlags&8772&&r!==null?(r.return=s,Qe=r):_I(i)}}function _I(i){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ni||h0(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ni)if(t===null)n.componentDidMount();else{var s=e.elementType===e.type?t.memoizedProps:xr(e.type,t.memoizedProps);n.componentDidUpdate(s,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&tI(e,r,n);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}tI(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var c=d.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Ch(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Ni||e.flags&512&&Gb(e)}catch(u){ei(e,e.return,u)}}if(e===i){Qe=null;break}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function vI(i){for(;Qe!==null;){var e=Qe;if(e===i){Qe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Qe=t;break}Qe=e.return}}function xI(i){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{h0(4,e)}catch(l){ei(e,t,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){ei(e,s,l)}}var r=e.return;try{Gb(e)}catch(l){ei(e,r,l)}break;case 5:var o=e.return;try{Gb(e)}catch(l){ei(e,o,l)}}}catch(l){ei(e,e.return,l)}if(e===i){Qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qe=a;break}Qe=e.return}}var b9=Math.ceil,ag=Vo.ReactCurrentDispatcher,Pw=Vo.ReactCurrentOwner,ir=Vo.ReactCurrentBatchConfig,hn=0,yi=null,ri=null,Ti=0,Is=0,Qd=Xa(0),di=0,Ph=null,jl=0,p0=0,Mw=0,Ju=null,us=null,Fw=0,Dc=1/0,co=null,lg=!1,Xb=null,Ta=null,bf=!1,ga=null,dg=0,eh=0,Zb=null,fm=-1,mm=0;function Zi(){return hn&6?ii():fm!==-1?fm:fm=ii()}function Da(i){return i.mode&1?hn&2&&Ti!==0?Ti&-Ti:i9.transition!==null?(mm===0&&(mm=XO()),mm):(i=In,i!==0||(i=window.event,i=i===void 0?16:i3(i.type)),i):1}function Ir(i,e,t,n){if(50<eh)throw eh=0,Zb=null,Error(Pe(185));rp(i,t,n),(!(hn&2)||i!==yi)&&(i===yi&&(!(hn&2)&&(p0|=t),di===4&&ua(i,Ti)),ms(i,n),t===1&&hn===0&&!(e.mode&1)&&(Dc=ii()+500,d0&&Za()))}function ms(i,e){var t=i.callbackNode;i7(i,e);var n=Km(i,i===yi?Ti:0);if(n===0)t!==null&&DE(t),i.callbackNode=null,i.callbackPriority=0;else if(e=n&-n,i.callbackPriority!==e){if(t!=null&&DE(t),e===1)i.tag===0?n9(bI.bind(null,i)):C3(bI.bind(null,i)),Q7(function(){!(hn&6)&&Za()}),t=null;else{switch(ZO(n)){case 1:t=aw;break;case 4:t=qO;break;case 16:t=Um;break;case 536870912:t=YO;break;default:t=Um}t=bR(t,pR.bind(null,i))}i.callbackPriority=e,i.callbackNode=t}}function pR(i,e){if(fm=-1,mm=0,hn&6)throw Error(Pe(327));var t=i.callbackNode;if(hc()&&i.callbackNode!==t)return null;var n=Km(i,i===yi?Ti:0);if(n===0)return null;if(n&30||n&i.expiredLanes||e)e=cg(i,n);else{e=n;var s=hn;hn|=2;var r=mR();(yi!==i||Ti!==e)&&(co=null,Dc=ii()+500,Al(i,e));do try{w9();break}catch(a){fR(i,a)}while(!0);bw(),ag.current=r,hn=s,ri!==null?e=0:(yi=null,Ti=0,e=di)}if(e!==0){if(e===2&&(s=Sb(i),s!==0&&(n=s,e=Qb(i,s))),e===1)throw t=Ph,Al(i,0),ua(i,n),ms(i,ii()),t;if(e===6)ua(i,n);else{if(s=i.current.alternate,!(n&30)&&!y9(s)&&(e=cg(i,n),e===2&&(r=Sb(i),r!==0&&(n=r,e=Qb(i,r))),e===1))throw t=Ph,Al(i,0),ua(i,n),ms(i,ii()),t;switch(i.finishedWork=s,i.finishedLanes=n,e){case 0:case 1:throw Error(Pe(345));case 2:pl(i,us,co);break;case 3:if(ua(i,n),(n&130023424)===n&&(e=Fw+500-ii(),10<e)){if(Km(i,0)!==0)break;if(s=i.suspendedLanes,(s&n)!==n){Zi(),i.pingedLanes|=i.suspendedLanes&s;break}i.timeoutHandle=Rb(pl.bind(null,i,us,co),e);break}pl(i,us,co);break;case 4:if(ua(i,n),(n&4194240)===n)break;for(e=i.eventTimes,s=-1;0<n;){var o=31-Er(n);r=1<<o,o=e[o],o>s&&(s=o),n&=~r}if(n=s,n=ii()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*b9(n/1960))-n,10<n){i.timeoutHandle=Rb(pl.bind(null,i,us,co),n);break}pl(i,us,co);break;case 5:pl(i,us,co);break;default:throw Error(Pe(329))}}}return ms(i,ii()),i.callbackNode===t?pR.bind(null,i):null}function Qb(i,e){var t=Ju;return i.current.memoizedState.isDehydrated&&(Al(i,e).flags|=256),i=cg(i,e),i!==2&&(e=us,us=t,e!==null&&Jb(e)),i}function Jb(i){us===null?us=i:us.push.apply(us,i)}function y9(i){for(var e=i;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var s=t[n],r=s.getSnapshot;s=s.value;try{if(!Tr(r(),s))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===i)break;for(;e.sibling===null;){if(e.return===null||e.return===i)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ua(i,e){for(e&=~Mw,e&=~p0,i.suspendedLanes|=e,i.pingedLanes&=~e,i=i.expirationTimes;0<e;){var t=31-Er(e),n=1<<t;i[t]=-1,e&=~n}}function bI(i){if(hn&6)throw Error(Pe(327));hc();var e=Km(i,0);if(!(e&1))return ms(i,ii()),null;var t=cg(i,e);if(i.tag!==0&&t===2){var n=Sb(i);n!==0&&(e=n,t=Qb(i,n))}if(t===1)throw t=Ph,Al(i,0),ua(i,e),ms(i,ii()),t;if(t===6)throw Error(Pe(345));return i.finishedWork=i.current.alternate,i.finishedLanes=e,pl(i,us,co),ms(i,ii()),null}function Bw(i,e){var t=hn;hn|=1;try{return i(e)}finally{hn=t,hn===0&&(Dc=ii()+500,d0&&Za())}}function zl(i){ga!==null&&ga.tag===0&&!(hn&6)&&hc();var e=hn;hn|=1;var t=ir.transition,n=In;try{if(ir.transition=null,In=1,i)return i()}finally{In=n,ir.transition=t,hn=e,!(hn&6)&&Za()}}function Nw(){Is=Qd.current,Ln(Qd)}function Al(i,e){i.finishedWork=null,i.finishedLanes=0;var t=i.timeoutHandle;if(t!==-1&&(i.timeoutHandle=-1,Z7(t)),ri!==null)for(t=ri.return;t!==null;){var n=t;switch(_w(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zm();break;case 3:Ic(),Ln(ps),Ln(ji),Iw();break;case 5:Ew(n);break;case 4:Ic();break;case 13:Ln(Gn);break;case 19:Ln(Gn);break;case 10:yw(n.type._context);break;case 22:case 23:Nw()}t=t.return}if(yi=i,ri=i=Aa(i.current,null),Ti=Is=e,di=0,Ph=null,Mw=p0=jl=0,us=Ju=null,yl!==null){for(e=0;e<yl.length;e++)if(t=yl[e],n=t.interleaved,n!==null){t.interleaved=null;var s=n.next,r=t.pending;if(r!==null){var o=r.next;r.next=s,n.next=o}t.pending=n}yl=null}return i}function fR(i,e){do{var t=ri;try{if(bw(),um.current=og,rg){for(var n=Yn.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}rg=!1}if(Hl=0,vi=li=Yn=null,Zu=!1,kh=0,Pw.current=null,t===null||t.return===null){di=1,Ph=e,ri=null;break}e:{var r=i,o=t.return,a=t,l=e;if(e=Ti,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var u=c.alternate;u?(c.updateQueue=u.updateQueue,c.memoizedState=u.memoizedState,c.lanes=u.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=aI(o);if(p!==null){p.flags&=-257,lI(p,o,a,r,e),p.mode&1&&oI(r,d,e),e=p,l=d;var f=e.updateQueue;if(f===null){var g=new Set;g.add(l),e.updateQueue=g}else f.add(l);break e}else{if(!(e&1)){oI(r,d,e),Vw();break e}l=Error(Pe(426))}}else if(zn&&a.mode&1){var m=aI(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),lI(m,o,a,r,e),vw(Tc(l,a));break e}}r=l=Tc(l,a),di!==4&&(di=2),Ju===null?Ju=[r]:Ju.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var v=Z3(r,l,e);eI(r,v);break e;case 1:a=l;var _=r.type,x=r.stateNode;if(!(r.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ta===null||!Ta.has(x)))){r.flags|=65536,e&=-e,r.lanes|=e;var y=Q3(r,a,e);eI(r,y);break e}}r=r.return}while(r!==null)}_R(t)}catch(T){e=T,ri===t&&t!==null&&(ri=t=t.return);continue}break}while(!0)}function mR(){var i=ag.current;return ag.current=og,i===null?og:i}function Vw(){(di===0||di===3||di===2)&&(di=4),yi===null||!(jl&268435455)&&!(p0&268435455)||ua(yi,Ti)}function cg(i,e){var t=hn;hn|=2;var n=mR();(yi!==i||Ti!==e)&&(co=null,Al(i,e));do try{C9();break}catch(s){fR(i,s)}while(!0);if(bw(),hn=t,ag.current=n,ri!==null)throw Error(Pe(261));return yi=null,Ti=0,di}function C9(){for(;ri!==null;)gR(ri)}function w9(){for(;ri!==null&&!qV();)gR(ri)}function gR(i){var e=xR(i.alternate,i,Is);i.memoizedProps=i.pendingProps,e===null?_R(i):ri=e,Pw.current=null}function _R(i){var e=i;do{var t=e.alternate;if(i=e.return,e.flags&32768){if(t=g9(t,e),t!==null){t.flags&=32767,ri=t;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{di=6,ri=null;return}}else if(t=m9(t,e,Is),t!==null){ri=t;return}if(e=e.sibling,e!==null){ri=e;return}ri=e=i}while(e!==null);di===0&&(di=5)}function pl(i,e,t){var n=In,s=ir.transition;try{ir.transition=null,In=1,S9(i,e,t,n)}finally{ir.transition=s,In=n}return null}function S9(i,e,t,n){do hc();while(ga!==null);if(hn&6)throw Error(Pe(327));t=i.finishedWork;var s=i.finishedLanes;if(t===null)return null;if(i.finishedWork=null,i.finishedLanes=0,t===i.current)throw Error(Pe(177));i.callbackNode=null,i.callbackPriority=0;var r=t.lanes|t.childLanes;if(s7(i,r),i===yi&&(ri=yi=null,Ti=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||bf||(bf=!0,bR(Um,function(){return hc(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=ir.transition,ir.transition=null;var o=In;In=1;var a=hn;hn|=4,Pw.current=null,v9(i,t),uR(t,i),W7(kb),Gm=!!Ab,kb=Ab=null,i.current=t,x9(t),YV(),hn=a,In=o,ir.transition=r}else i.current=t;if(bf&&(bf=!1,ga=i,dg=s),r=i.pendingLanes,r===0&&(Ta=null),QV(t.stateNode),ms(i,ii()),e!==null)for(n=i.onRecoverableError,t=0;t<e.length;t++)s=e[t],n(s.value,{componentStack:s.stack,digest:s.digest});if(lg)throw lg=!1,i=Xb,Xb=null,i;return dg&1&&i.tag!==0&&hc(),r=i.pendingLanes,r&1?i===Zb?eh++:(eh=0,Zb=i):eh=0,Za(),null}function hc(){if(ga!==null){var i=ZO(dg),e=ir.transition,t=In;try{if(ir.transition=null,In=16>i?16:i,ga===null)var n=!1;else{if(i=ga,ga=null,dg=0,hn&6)throw Error(Pe(331));var s=hn;for(hn|=4,Qe=i.current;Qe!==null;){var r=Qe,o=r.child;if(Qe.flags&16){var a=r.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(Qe=d;Qe!==null;){var c=Qe;switch(c.tag){case 0:case 11:case 15:Qu(8,c,r)}var h=c.child;if(h!==null)h.return=c,Qe=h;else for(;Qe!==null;){c=Qe;var u=c.sibling,p=c.return;if(lR(c),c===d){Qe=null;break}if(u!==null){u.return=p,Qe=u;break}Qe=p}}}var f=r.alternate;if(f!==null){var g=f.child;if(g!==null){f.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(g!==null)}}Qe=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,Qe=o;else e:for(;Qe!==null;){if(r=Qe,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Qu(9,r,r.return)}var v=r.sibling;if(v!==null){v.return=r.return,Qe=v;break e}Qe=r.return}}var _=i.current;for(Qe=_;Qe!==null;){o=Qe;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Qe=x;else e:for(o=_;Qe!==null;){if(a=Qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:h0(9,a)}}catch(T){ei(a,a.return,T)}if(a===o){Qe=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,Qe=y;break e}Qe=a.return}}if(hn=s,Za(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(s0,i)}catch{}n=!0}return n}finally{In=t,ir.transition=e}}return!1}function yI(i,e,t){e=Tc(t,e),e=Z3(i,e,1),i=Ia(i,e,1),e=Zi(),i!==null&&(rp(i,1,e),ms(i,e))}function ei(i,e,t){if(i.tag===3)yI(i,i,t);else for(;e!==null;){if(e.tag===3){yI(e,i,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ta===null||!Ta.has(n))){i=Tc(t,i),i=Q3(e,i,1),e=Ia(e,i,1),i=Zi(),e!==null&&(rp(e,1,i),ms(e,i));break}}e=e.return}}function E9(i,e,t){var n=i.pingCache;n!==null&&n.delete(e),e=Zi(),i.pingedLanes|=i.suspendedLanes&t,yi===i&&(Ti&t)===t&&(di===4||di===3&&(Ti&130023424)===Ti&&500>ii()-Fw?Al(i,0):Mw|=t),ms(i,e)}function vR(i,e){e===0&&(i.mode&1?(e=cf,cf<<=1,!(cf&130023424)&&(cf=4194304)):e=1);var t=Zi();i=Oo(i,e),i!==null&&(rp(i,e,t),ms(i,t))}function I9(i){var e=i.memoizedState,t=0;e!==null&&(t=e.retryLane),vR(i,t)}function T9(i,e){var t=0;switch(i.tag){case 13:var n=i.stateNode,s=i.memoizedState;s!==null&&(t=s.retryLane);break;case 19:n=i.stateNode;break;default:throw Error(Pe(314))}n!==null&&n.delete(e),vR(i,t)}var xR;xR=function(i,e,t){if(i!==null)if(i.memoizedProps!==e.pendingProps||ps.current)hs=!0;else{if(!(i.lanes&t)&&!(e.flags&128))return hs=!1,f9(i,e,t);hs=!!(i.flags&131072)}else hs=!1,zn&&e.flags&1048576&&w3(e,eg,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;pm(i,e),i=e.pendingProps;var s=wc(e,ji.current);uc(e,t),s=Dw(null,e,n,i,s,t);var r=Aw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fs(n)?(r=!0,Qm(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ww(e),s.updater=u0,e.stateNode=s,s._reactInternals=e,Lb(e,n,i,t),e=jb(null,e,n,!0,r,t)):(e.tag=0,zn&&r&&gw(e),Ki(null,e,s,t),e=e.child),e;case 16:n=e.elementType;e:{switch(pm(i,e),i=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=A9(n),i=xr(n,i),s){case 0:e=Hb(null,e,n,i,t);break e;case 1:e=uI(null,e,n,i,t);break e;case 11:e=dI(null,e,n,i,t);break e;case 14:e=cI(null,e,n,xr(n.type,i),t);break e}throw Error(Pe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xr(n,s),Hb(i,e,n,s,t);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xr(n,s),uI(i,e,n,s,t);case 3:e:{if(nR(e),i===null)throw Error(Pe(387));n=e.pendingProps,r=e.memoizedState,s=r.element,A3(i,e),ig(e,n,null,t);var o=e.memoizedState;if(n=o.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Tc(Error(Pe(423)),e),e=hI(i,e,n,t,s);break e}else if(n!==s){s=Tc(Error(Pe(424)),e),e=hI(i,e,n,t,s);break e}else for(Ds=Ea(e.stateNode.containerInfo.firstChild),ks=e,zn=!0,Cr=null,t=T3(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Sc(),n===s){e=Ro(i,e,t);break e}Ki(i,e,n,t)}e=e.child}return e;case 5:return k3(e),i===null&&Bb(e),n=e.type,s=e.pendingProps,r=i!==null?i.memoizedProps:null,o=s.children,Ob(n,s)?o=null:r!==null&&Ob(n,r)&&(e.flags|=32),tR(i,e),Ki(i,e,o,t),e.child;case 6:return i===null&&Bb(e),null;case 13:return iR(i,e,t);case 4:return Sw(e,e.stateNode.containerInfo),n=e.pendingProps,i===null?e.child=Ec(e,null,n,t):Ki(i,e,n,t),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xr(n,s),dI(i,e,n,s,t);case 7:return Ki(i,e,e.pendingProps,t),e.child;case 8:return Ki(i,e,e.pendingProps.children,t),e.child;case 12:return Ki(i,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,r=e.memoizedProps,o=s.value,Bn(tg,n._currentValue),n._currentValue=o,r!==null)if(Tr(r.value,o)){if(r.children===s.children&&!ps.current){e=Ro(i,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var a=r.dependencies;if(a!==null){o=r.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(r.tag===1){l=bo(-1,t&-t),l.tag=2;var d=r.updateQueue;if(d!==null){d=d.shared;var c=d.pending;c===null?l.next=l:(l.next=c.next,c.next=l),d.pending=l}}r.lanes|=t,l=r.alternate,l!==null&&(l.lanes|=t),Nb(r.return,t,e),a.lanes|=t;break}l=l.next}}else if(r.tag===10)o=r.type===e.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(Pe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Nb(o,t,e),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Ki(i,e,s.children,t),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,uc(e,t),s=or(s),n=n(s),e.flags|=1,Ki(i,e,n,t),e.child;case 14:return n=e.type,s=xr(n,e.pendingProps),s=xr(n.type,s),cI(i,e,n,s,t);case 15:return J3(i,e,e.type,e.pendingProps,t);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:xr(n,s),pm(i,e),e.tag=1,fs(n)?(i=!0,Qm(e)):i=!1,uc(e,t),X3(e,n,s),Lb(e,n,s,t),jb(null,e,n,!0,i,t);case 19:return sR(i,e,t);case 22:return eR(i,e,t)}throw Error(Pe(156,e.tag))};function bR(i,e){return GO(i,e)}function D9(i,e,t,n){this.tag=i,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function er(i,e,t,n){return new D9(i,e,t,n)}function Lw(i){return i=i.prototype,!(!i||!i.isReactComponent)}function A9(i){if(typeof i=="function")return Lw(i)?1:0;if(i!=null){if(i=i.$$typeof,i===sw)return 11;if(i===rw)return 14}return 2}function Aa(i,e){var t=i.alternate;return t===null?(t=er(i.tag,e,i.key,i.mode),t.elementType=i.elementType,t.type=i.type,t.stateNode=i.stateNode,t.alternate=i,i.alternate=t):(t.pendingProps=e,t.type=i.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=i.flags&14680064,t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,e=i.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=i.sibling,t.index=i.index,t.ref=i.ref,t}function gm(i,e,t,n,s,r){var o=2;if(n=i,typeof i=="function")Lw(i)&&(o=1);else if(typeof i=="string")o=5;else e:switch(i){case jd:return kl(t.children,s,r,e);case iw:o=8,s|=8;break;case db:return i=er(12,t,e,s|2),i.elementType=db,i.lanes=r,i;case cb:return i=er(13,t,e,s),i.elementType=cb,i.lanes=r,i;case ub:return i=er(19,t,e,s),i.elementType=ub,i.lanes=r,i;case kO:return f0(t,s,r,e);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case DO:o=10;break e;case AO:o=9;break e;case sw:o=11;break e;case rw:o=14;break e;case sa:o=16,n=null;break e}throw Error(Pe(130,i==null?i:typeof i,""))}return e=er(o,t,e,s),e.elementType=i,e.type=n,e.lanes=r,e}function kl(i,e,t,n){return i=er(7,i,n,e),i.lanes=t,i}function f0(i,e,t,n){return i=er(22,i,n,e),i.elementType=kO,i.lanes=t,i.stateNode={isHidden:!1},i}function K_(i,e,t){return i=er(6,i,null,e),i.lanes=t,i}function G_(i,e,t){return e=er(4,i.children!==null?i.children:[],i.key,e),e.lanes=t,e.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},e}function k9(i,e,t,n,s){this.tag=e,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=T_(0),this.expirationTimes=T_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T_(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function $w(i,e,t,n,s,r,o,a,l){return i=new k9(i,e,t,a,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=er(3,null,null,e),i.current=r,r.stateNode=i,r.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},ww(r),i}function O9(i,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hd,key:n==null?null:""+n,children:i,containerInfo:e,implementation:t}}function yR(i){if(!i)return La;i=i._reactInternals;e:{if(nd(i)!==i||i.tag!==1)throw Error(Pe(170));var e=i;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(i.tag===1){var t=i.type;if(fs(t))return y3(i,t,e)}return e}function CR(i,e,t,n,s,r,o,a,l){return i=$w(t,n,!0,i,s,r,o,a,l),i.context=yR(null),t=i.current,n=Zi(),s=Da(t),r=bo(n,s),r.callback=e??null,Ia(t,r,s),i.current.lanes=s,rp(i,s,n),ms(i,n),i}function m0(i,e,t,n){var s=e.current,r=Zi(),o=Da(s);return t=yR(t),e.context===null?e.context=t:e.pendingContext=t,e=bo(r,o),e.payload={element:i},n=n===void 0?null:n,n!==null&&(e.callback=n),i=Ia(s,e,o),i!==null&&(Ir(i,s,o,r),cm(i,s,o)),o}function ug(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function CI(i,e){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var t=i.retryLane;i.retryLane=t!==0&&t<e?t:e}}function Hw(i,e){CI(i,e),(i=i.alternate)&&CI(i,e)}function R9(){return null}var wR=typeof reportError=="function"?reportError:function(i){console.error(i)};function jw(i){this._internalRoot=i}g0.prototype.render=jw.prototype.render=function(i){var e=this._internalRoot;if(e===null)throw Error(Pe(409));m0(i,e,null,null)};g0.prototype.unmount=jw.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var e=i.containerInfo;zl(function(){m0(null,i,null,null)}),e[ko]=null}};function g0(i){this._internalRoot=i}g0.prototype.unstable_scheduleHydration=function(i){if(i){var e=e3();i={blockedOn:null,target:i,priority:e};for(var t=0;t<ca.length&&e!==0&&e<ca[t].priority;t++);ca.splice(t,0,i),t===0&&n3(i)}};function zw(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function _0(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function wI(){}function P9(i,e,t,n,s){if(s){if(typeof n=="function"){var r=n;n=function(){var d=ug(o);r.call(d)}}var o=CR(e,n,i,0,null,!1,!1,"",wI);return i._reactRootContainer=o,i[ko]=o.current,Eh(i.nodeType===8?i.parentNode:i),zl(),o}for(;s=i.lastChild;)i.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var d=ug(l);a.call(d)}}var l=$w(i,0,!1,null,null,!1,!1,"",wI);return i._reactRootContainer=l,i[ko]=l.current,Eh(i.nodeType===8?i.parentNode:i),zl(function(){m0(e,l,t,n)}),l}function v0(i,e,t,n,s){var r=t._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var a=s;s=function(){var l=ug(o);a.call(l)}}m0(e,o,i,s)}else o=P9(t,e,i,s,n);return ug(o)}QO=function(i){switch(i.tag){case 3:var e=i.stateNode;if(e.current.memoizedState.isDehydrated){var t=Vu(e.pendingLanes);t!==0&&(lw(e,t|1),ms(e,ii()),!(hn&6)&&(Dc=ii()+500,Za()))}break;case 13:zl(function(){var n=Oo(i,1);if(n!==null){var s=Zi();Ir(n,i,1,s)}}),Hw(i,1)}};dw=function(i){if(i.tag===13){var e=Oo(i,134217728);if(e!==null){var t=Zi();Ir(e,i,134217728,t)}Hw(i,134217728)}};JO=function(i){if(i.tag===13){var e=Da(i),t=Oo(i,e);if(t!==null){var n=Zi();Ir(t,i,e,n)}Hw(i,e)}};e3=function(){return In};t3=function(i,e){var t=In;try{return In=i,e()}finally{In=t}};yb=function(i,e,t){switch(e){case"input":if(fb(i,t),e=t.name,t.type==="radio"&&e!=null){for(t=i;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==i&&n.form===i.form){var s=l0(n);if(!s)throw Error(Pe(90));RO(n),fb(n,s)}}}break;case"textarea":MO(i,t);break;case"select":e=t.value,e!=null&&ac(i,!!t.multiple,e,!1)}};HO=Bw;jO=zl;var M9={usingClientEntryPoint:!1,Events:[ap,Kd,l0,LO,$O,Bw]},cu={findFiberByHostInstance:bl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},F9={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vo.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=UO(i),i===null?null:i.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||R9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yf.isDisabled&&yf.supportsFiber)try{s0=yf.inject(F9),Wr=yf}catch{}}Vs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M9;Vs.createPortal=function(i,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zw(e))throw Error(Pe(200));return O9(i,e,null,t)};Vs.createRoot=function(i,e){if(!zw(i))throw Error(Pe(299));var t=!1,n="",s=wR;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=$w(i,1,!1,null,null,t,!1,n,s),i[ko]=e.current,Eh(i.nodeType===8?i.parentNode:i),new jw(e)};Vs.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var e=i._reactInternals;if(e===void 0)throw typeof i.render=="function"?Error(Pe(188)):(i=Object.keys(i).join(","),Error(Pe(268,i)));return i=UO(e),i=i===null?null:i.stateNode,i};Vs.flushSync=function(i){return zl(i)};Vs.hydrate=function(i,e,t){if(!_0(e))throw Error(Pe(200));return v0(null,i,e,!0,t)};Vs.hydrateRoot=function(i,e,t){if(!zw(i))throw Error(Pe(405));var n=t!=null&&t.hydratedSources||null,s=!1,r="",o=wR;if(t!=null&&(t.unstable_strictMode===!0&&(s=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=CR(e,null,i,1,t??null,s,!1,r,o),i[ko]=e.current,Eh(i),n)for(i=0;i<n.length;i++)t=n[i],s=t._getVersion,s=s(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,s]:e.mutableSourceEagerHydrationData.push(t,s);return new g0(e)};Vs.render=function(i,e,t){if(!_0(e))throw Error(Pe(200));return v0(null,i,e,!1,t)};Vs.unmountComponentAtNode=function(i){if(!_0(i))throw Error(Pe(40));return i._reactRootContainer?(zl(function(){v0(null,null,i,!1,function(){i._reactRootContainer=null,i[ko]=null})}),!0):!1};Vs.unstable_batchedUpdates=Bw;Vs.unstable_renderSubtreeIntoContainer=function(i,e,t,n){if(!_0(t))throw Error(Pe(200));if(i==null||i._reactInternals===void 0)throw Error(Pe(38));return v0(i,e,t,!1,n)};Vs.version="18.3.1-next-f1338f8080-20240426";function SR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SR)}catch(i){console.error(i)}}SR(),SO.exports=Vs;var x0=SO.exports,SI=x0;ab.createRoot=SI.createRoot,ab.hydrateRoot=SI.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Mh.apply(this,arguments)}var _a;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(_a||(_a={}));const EI="popstate";function B9(i){i===void 0&&(i={});function e(n,s){let{pathname:r,search:o,hash:a}=n.location;return ey("",{pathname:r,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(n,s){return typeof s=="string"?s:hg(s)}return V9(e,t,null,i)}function Xn(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ww(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function N9(){return Math.random().toString(36).substr(2,8)}function II(i,e){return{usr:i.state,key:i.key,idx:e}}function ey(i,e,t,n){return t===void 0&&(t=null),Mh({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?Wc(e):e,{state:t,key:e&&e.key||n||N9()})}function hg(i){let{pathname:e="/",search:t="",hash:n=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Wc(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let n=i.indexOf("?");n>=0&&(e.search=i.substr(n),i=i.substr(0,n)),i&&(e.pathname=i)}return e}function V9(i,e,t,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:r=!1}=n,o=s.history,a=_a.Pop,l=null,d=c();d==null&&(d=0,o.replaceState(Mh({},o.state,{idx:d}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=_a.Pop;let m=c(),v=m==null?null:m-d;d=m,l&&l({action:a,location:g.location,delta:v})}function u(m,v){a=_a.Push;let _=ey(g.location,m,v);d=c()+1;let x=II(_,d),y=g.createHref(_);try{o.pushState(x,"",y)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(y)}r&&l&&l({action:a,location:g.location,delta:1})}function p(m,v){a=_a.Replace;let _=ey(g.location,m,v);d=c();let x=II(_,d),y=g.createHref(_);o.replaceState(x,"",y),r&&l&&l({action:a,location:g.location,delta:0})}function f(m){let v=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof m=="string"?m:hg(m);return _=_.replace(/ $/,"%20"),Xn(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let g={get action(){return a},get location(){return i(s,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(EI,h),l=m,()=>{s.removeEventListener(EI,h),l=null}},createHref(m){return e(s,m)},createURL:f,encodeLocation(m){let v=f(m);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:u,replace:p,go(m){return o.go(m)}};return g}var TI;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(TI||(TI={}));function L9(i,e,t){return t===void 0&&(t="/"),$9(i,e,t)}function $9(i,e,t,n){let s=typeof e=="string"?Wc(e):e,r=Ac(s.pathname||"/",t);if(r==null)return null;let o=ER(i);H9(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=Q9(r);a=X9(o[l],d)}return a}function ER(i,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let s=(r,o,a)=>{let l={relativePath:a===void 0?r.path||"":a,caseSensitive:r.caseSensitive===!0,childrenIndex:o,route:r};l.relativePath.startsWith("/")&&(Xn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let d=ka([n,l.relativePath]),c=t.concat(l);r.children&&r.children.length>0&&(Xn(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),ER(r.children,e,c,d)),!(r.path==null&&!r.index)&&e.push({path:d,score:q9(d,r.index),routesMeta:c})};return i.forEach((r,o)=>{var a;if(r.path===""||!((a=r.path)!=null&&a.includes("?")))s(r,o);else for(let l of IR(r.path))s(r,o,l)}),e}function IR(i){let e=i.split("/");if(e.length===0)return[];let[t,...n]=e,s=t.endsWith("?"),r=t.replace(/\?$/,"");if(n.length===0)return s?[r,""]:[r];let o=IR(n.join("/")),a=[];return a.push(...o.map(l=>l===""?r:[r,l].join("/"))),s&&a.push(...o),a.map(l=>i.startsWith("/")&&l===""?"/":l)}function H9(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:Y9(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const j9=/^:[\w-]+$/,z9=3,W9=2,U9=1,K9=10,G9=-2,DI=i=>i==="*";function q9(i,e){let t=i.split("/"),n=t.length;return t.some(DI)&&(n+=G9),e&&(n+=W9),t.filter(s=>!DI(s)).reduce((s,r)=>s+(j9.test(r)?z9:r===""?U9:K9),n)}function Y9(i,e){return i.length===e.length&&i.slice(0,-1).every((n,s)=>n===e[s])?i[i.length-1]-e[e.length-1]:0}function X9(i,e,t){let{routesMeta:n}=i,s={},r="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],d=a===n.length-1,c=r==="/"?e:e.slice(r.length)||"/",h=ty({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},c),u=l.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:ka([r,h.pathname]),pathnameBase:iL(ka([r,h.pathnameBase])),route:u}),h.pathnameBase!=="/"&&(r=ka([r,h.pathnameBase]))}return o}function ty(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,n]=Z9(i.path,i.caseSensitive,i.end),s=e.match(t);if(!s)return null;let r=s[0],o=r.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((d,c,h)=>{let{paramName:u,isOptional:p}=c;if(u==="*"){let g=a[h]||"";o=r.slice(0,r.length-g.length).replace(/(.)\/+$/,"$1")}const f=a[h];return p&&!f?d[u]=void 0:d[u]=(f||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:o,pattern:i}}function Z9(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ww(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let n=[],s="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(n.push({paramName:"*"}),s+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":i!==""&&i!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Q9(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ww(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function Ac(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=i.charAt(t);return n&&n!=="/"?null:i.slice(t)||"/"}const J9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eL=i=>J9.test(i);function tL(i,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:s=""}=typeof i=="string"?Wc(i):i,r;if(t)if(eL(t))r=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),Ww(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+t))}t.startsWith("/")?r=AI(t.substring(1),"/"):r=AI(t,e)}else r=e;return{pathname:r,search:sL(n),hash:rL(s)}}function AI(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function q_(i,e,t,n){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nL(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Uw(i,e){let t=nL(i);return e?t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Kw(i,e,t,n){n===void 0&&(n=!1);let s;typeof i=="string"?s=Wc(i):(s=Mh({},i),Xn(!s.pathname||!s.pathname.includes("?"),q_("?","pathname","search",s)),Xn(!s.pathname||!s.pathname.includes("#"),q_("#","pathname","hash",s)),Xn(!s.search||!s.search.includes("#"),q_("#","search","hash",s)));let r=i===""||s.pathname==="",o=r?"/":s.pathname,a;if(o==null)a=t;else{let h=e.length-1;if(!n&&o.startsWith("..")){let u=o.split("/");for(;u[0]==="..";)u.shift(),h-=1;s.pathname=u.join("/")}a=h>=0?e[h]:"/"}let l=tL(s,a),d=o&&o!=="/"&&o.endsWith("/"),c=(r||o===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(d||c)&&(l.pathname+="/"),l}const ka=i=>i.join("/").replace(/\/\/+/g,"/"),iL=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),sL=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,rL=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function oL(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const TR=["post","put","patch","delete"];new Set(TR);const aL=["get",...TR];new Set(aL);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fh(){return Fh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},Fh.apply(this,arguments)}const b0=ne.createContext(null),DR=ne.createContext(null),Lo=ne.createContext(null),y0=ne.createContext(null),Qa=ne.createContext({outlet:null,matches:[],isDataRoute:!1}),AR=ne.createContext(null);function lL(i,e){let{relative:t}=e===void 0?{}:e;Uc()||Xn(!1);let{basename:n,navigator:s}=ne.useContext(Lo),{hash:r,pathname:o,search:a}=C0(i,{relative:t}),l=o;return n!=="/"&&(l=o==="/"?n:ka([n,o])),s.createHref({pathname:l,search:a,hash:r})}function Uc(){return ne.useContext(y0)!=null}function Kc(){return Uc()||Xn(!1),ne.useContext(y0).location}function kR(i){ne.useContext(Lo).static||ne.useLayoutEffect(i)}function Gw(){let{isDataRoute:i}=ne.useContext(Qa);return i?yL():dL()}function dL(){Uc()||Xn(!1);let i=ne.useContext(b0),{basename:e,future:t,navigator:n}=ne.useContext(Lo),{matches:s}=ne.useContext(Qa),{pathname:r}=Kc(),o=JSON.stringify(Uw(s,t.v7_relativeSplatPath)),a=ne.useRef(!1);return kR(()=>{a.current=!0}),ne.useCallback(function(d,c){if(c===void 0&&(c={}),!a.current)return;if(typeof d=="number"){n.go(d);return}let h=Kw(d,JSON.parse(o),r,c.relative==="path");i==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ka([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,o,r,i])}function C0(i,e){let{relative:t}=e===void 0?{}:e,{future:n}=ne.useContext(Lo),{matches:s}=ne.useContext(Qa),{pathname:r}=Kc(),o=JSON.stringify(Uw(s,n.v7_relativeSplatPath));return ne.useMemo(()=>Kw(i,JSON.parse(o),r,t==="path"),[i,o,r,t])}function cL(i,e){return uL(i,e)}function uL(i,e,t,n){Uc()||Xn(!1);let{navigator:s}=ne.useContext(Lo),{matches:r}=ne.useContext(Qa),o=r[r.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=Kc(),c;if(e){var h;let m=typeof e=="string"?Wc(e):e;l==="/"||(h=m.pathname)!=null&&h.startsWith(l)||Xn(!1),c=m}else c=d;let u=c.pathname||"/",p=u;if(l!=="/"){let m=l.replace(/^\//,"").split("/");p="/"+u.replace(/^\//,"").split("/").slice(m.length).join("/")}let f=L9(i,{pathname:p}),g=gL(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:ka([l,s.encodeLocation?s.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:ka([l,s.encodeLocation?s.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),r,t,n);return e&&g?ne.createElement(y0.Provider,{value:{location:Fh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:_a.Pop}},g):g}function hL(){let i=bL(),e=oL(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},e),t?ne.createElement("pre",{style:s},t):null,null)}const pL=ne.createElement(hL,null);class fL extends ne.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ne.createElement(Qa.Provider,{value:this.props.routeContext},ne.createElement(AR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mL(i){let{routeContext:e,match:t,children:n}=i,s=ne.useContext(b0);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),ne.createElement(Qa.Provider,{value:e},n)}function gL(i,e,t,n){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),i==null){var r;if(!t)return null;if(t.errors)i=t.matches;else if((r=n)!=null&&r.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,a=(s=t)==null?void 0:s.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||Xn(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,d=-1;if(t&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=c),h.route.id){let{loaderData:u,errors:p}=t,f=h.route.loader&&u[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||f){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((c,h,u)=>{let p,f=!1,g=null,m=null;t&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||pL,l&&(d<0&&u===0?(CL("route-fallback"),f=!0,m=null):d===u&&(f=!0,m=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,u+1)),_=()=>{let x;return p?x=g:f?x=m:h.route.Component?x=ne.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=c,ne.createElement(mL,{match:h,routeContext:{outlet:c,matches:v,isDataRoute:t!=null},children:x})};return t&&(h.route.ErrorBoundary||h.route.errorElement||u===0)?ne.createElement(fL,{location:t.location,revalidation:t.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var OR=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(OR||{}),RR=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(RR||{});function _L(i){let e=ne.useContext(b0);return e||Xn(!1),e}function vL(i){let e=ne.useContext(DR);return e||Xn(!1),e}function xL(i){let e=ne.useContext(Qa);return e||Xn(!1),e}function PR(i){let e=xL(),t=e.matches[e.matches.length-1];return t.route.id||Xn(!1),t.route.id}function bL(){var i;let e=ne.useContext(AR),t=vL(),n=PR();return e!==void 0?e:(i=t.errors)==null?void 0:i[n]}function yL(){let{router:i}=_L(OR.UseNavigateStable),e=PR(RR.UseNavigateStable),t=ne.useRef(!1);return kR(()=>{t.current=!0}),ne.useCallback(function(s,r){r===void 0&&(r={}),t.current&&(typeof s=="number"?i.navigate(s):i.navigate(s,Fh({fromRouteId:e},r)))},[i,e])}const kI={};function CL(i,e,t){kI[i]||(kI[i]=!0)}function wL(i,e){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function ny(i){let{to:e,replace:t,state:n,relative:s}=i;Uc()||Xn(!1);let{future:r,static:o}=ne.useContext(Lo),{matches:a}=ne.useContext(Qa),{pathname:l}=Kc(),d=Gw(),c=Kw(e,Uw(a,r.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(c);return ne.useEffect(()=>d(JSON.parse(h),{replace:t,state:n,relative:s}),[d,h,s,t,n]),null}function Hr(i){Xn(!1)}function SL(i){let{basename:e="/",children:t=null,location:n,navigationType:s=_a.Pop,navigator:r,static:o=!1,future:a}=i;Uc()&&Xn(!1);let l=e.replace(/^\/*/,"/"),d=ne.useMemo(()=>({basename:l,navigator:r,static:o,future:Fh({v7_relativeSplatPath:!1},a)}),[l,a,r,o]);typeof n=="string"&&(n=Wc(n));let{pathname:c="/",search:h="",hash:u="",state:p=null,key:f="default"}=n,g=ne.useMemo(()=>{let m=Ac(c,l);return m==null?null:{location:{pathname:m,search:h,hash:u,state:p,key:f},navigationType:s}},[l,c,h,u,p,f,s]);return g==null?null:ne.createElement(Lo.Provider,{value:d},ne.createElement(y0.Provider,{children:t,value:g}))}function MR(i){let{children:e,location:t}=i;return cL(iy(e),t)}new Promise(()=>{});function iy(i,e){e===void 0&&(e=[]);let t=[];return ne.Children.forEach(i,(n,s)=>{if(!ne.isValidElement(n))return;let r=[...e,s];if(n.type===ne.Fragment){t.push.apply(t,iy(n.props.children,r));return}n.type!==Hr&&Xn(!1),!n.props.index||!n.props.children||Xn(!1);let o={id:n.props.id||r.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=iy(n.props.children,r)),t.push(o)}),t}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pg(){return pg=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n])}return i},pg.apply(this,arguments)}function FR(i,e){if(i==null)return{};var t={},n=Object.keys(i),s,r;for(r=0;r<n.length;r++)s=n[r],!(e.indexOf(s)>=0)&&(t[s]=i[s]);return t}function EL(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function IL(i,e){return i.button===0&&(!e||e==="_self")&&!EL(i)}const TL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],DL=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],AL="6";try{window.__reactRouterVersion=AL}catch{}const kL=ne.createContext({isTransitioning:!1}),OL="startTransition",OI=EV[OL];function RL(i){let{basename:e,children:t,future:n,window:s}=i,r=ne.useRef();r.current==null&&(r.current=B9({window:s,v5Compat:!0}));let o=r.current,[a,l]=ne.useState({action:o.action,location:o.location}),{v7_startTransition:d}=n||{},c=ne.useCallback(h=>{d&&OI?OI(()=>l(h)):l(h)},[l,d]);return ne.useLayoutEffect(()=>o.listen(c),[o,c]),ne.useEffect(()=>wL(n),[n]),ne.createElement(SL,{basename:e,children:t,location:a.location,navigationType:a.action,navigator:o,future:n})}const PL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ML=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FL=ne.forwardRef(function(e,t){let{onClick:n,relative:s,reloadDocument:r,replace:o,state:a,target:l,to:d,preventScrollReset:c,viewTransition:h}=e,u=FR(e,TL),{basename:p}=ne.useContext(Lo),f,g=!1;if(typeof d=="string"&&ML.test(d)&&(f=d,PL))try{let x=new URL(window.location.href),y=d.startsWith("//")?new URL(x.protocol+d):new URL(d),T=Ac(y.pathname,p);y.origin===x.origin&&T!=null?d=T+y.search+y.hash:g=!0}catch{}let m=lL(d,{relative:s}),v=VL(d,{replace:o,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:h});function _(x){n&&n(x),x.defaultPrevented||v(x)}return ne.createElement("a",pg({},u,{href:f||m,onClick:g||r?n:_,ref:t,target:l}))}),BL=ne.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:s=!1,className:r="",end:o=!1,style:a,to:l,viewTransition:d,children:c}=e,h=FR(e,DL),u=C0(l,{relative:h.relative}),p=Kc(),f=ne.useContext(DR),{navigator:g,basename:m}=ne.useContext(Lo),v=f!=null&&LL(u)&&d===!0,_=g.encodeLocation?g.encodeLocation(u).pathname:u.pathname,x=p.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;s||(x=x.toLowerCase(),y=y?y.toLowerCase():null,_=_.toLowerCase()),y&&m&&(y=Ac(y,m)||y);const T=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let O=x===_||!o&&x.startsWith(_)&&x.charAt(T)==="/",L=y!=null&&(y===_||!o&&y.startsWith(_)&&y.charAt(_.length)==="/"),R={isActive:O,isPending:L,isTransitioning:v},$=O?n:void 0,V;typeof r=="function"?V=r(R):V=[r,O?"active":null,L?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let z=typeof a=="function"?a(R):a;return ne.createElement(FL,pg({},h,{"aria-current":$,className:V,ref:t,style:z,to:l,viewTransition:d}),typeof c=="function"?c(R):c)});var sy;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(sy||(sy={}));var RI;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(RI||(RI={}));function NL(i){let e=ne.useContext(b0);return e||Xn(!1),e}function VL(i,e){let{target:t,replace:n,state:s,preventScrollReset:r,relative:o,viewTransition:a}=e===void 0?{}:e,l=Gw(),d=Kc(),c=C0(i,{relative:o});return ne.useCallback(h=>{if(IL(h,t)){h.preventDefault();let u=n!==void 0?n:hg(d)===hg(c);l(i,{replace:u,state:s,preventScrollReset:r,relative:o,viewTransition:a})}},[d,l,c,n,s,t,i,r,o,a])}function LL(i,e){e===void 0&&(e={});let t=ne.useContext(kL);t==null&&Xn(!1);let{basename:n}=NL(sy.useViewTransitionState),s=C0(i,{relative:e.relative});if(!t.isTransitioning)return!1;let r=Ac(t.currentLocation.pathname,n)||t.currentLocation.pathname,o=Ac(t.nextLocation.pathname,n)||t.nextLocation.pathname;return ty(s.pathname,o)!=null||ty(s.pathname,r)!=null}function BR(i,e){return function(){return i.apply(e,arguments)}}const{toString:$L}=Object.prototype,{getPrototypeOf:qw}=Object,{iterator:w0,toStringTag:NR}=Symbol,S0=(i=>e=>{const t=$L.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),kr=i=>(i=i.toLowerCase(),e=>S0(e)===i),E0=i=>e=>typeof e===i,{isArray:Gc}=Array,kc=E0("undefined");function dp(i){return i!==null&&!kc(i)&&i.constructor!==null&&!kc(i.constructor)&&gs(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const VR=kr("ArrayBuffer");function HL(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&VR(i.buffer),e}const jL=E0("string"),gs=E0("function"),LR=E0("number"),cp=i=>i!==null&&typeof i=="object",zL=i=>i===!0||i===!1,_m=i=>{if(S0(i)!=="object")return!1;const e=qw(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(NR in i)&&!(w0 in i)},WL=i=>{if(!cp(i)||dp(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},UL=kr("Date"),KL=kr("File"),GL=kr("Blob"),qL=kr("FileList"),YL=i=>cp(i)&&gs(i.pipe),XL=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||gs(i.append)&&((e=S0(i))==="formdata"||e==="object"&&gs(i.toString)&&i.toString()==="[object FormData]"))},ZL=kr("URLSearchParams"),[QL,JL,e$,t$]=["ReadableStream","Request","Response","Headers"].map(kr),n$=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function up(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let n,s;if(typeof i!="object"&&(i=[i]),Gc(i))for(n=0,s=i.length;n<s;n++)e.call(null,i[n],n,i);else{if(dp(i))return;const r=t?Object.getOwnPropertyNames(i):Object.keys(i),o=r.length;let a;for(n=0;n<o;n++)a=r[n],e.call(null,i[a],a,i)}}function $R(i,e){if(dp(i))return null;e=e.toLowerCase();const t=Object.keys(i);let n=t.length,s;for(;n-- >0;)if(s=t[n],e===s.toLowerCase())return s;return null}const wl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HR=i=>!kc(i)&&i!==wl;function ry(){const{caseless:i,skipUndefined:e}=HR(this)&&this||{},t={},n=(s,r)=>{const o=i&&$R(t,r)||r;_m(t[o])&&_m(s)?t[o]=ry(t[o],s):_m(s)?t[o]=ry({},s):Gc(s)?t[o]=s.slice():(!e||!kc(s))&&(t[o]=s)};for(let s=0,r=arguments.length;s<r;s++)arguments[s]&&up(arguments[s],n);return t}const i$=(i,e,t,{allOwnKeys:n}={})=>(up(e,(s,r)=>{t&&gs(s)?i[r]=BR(s,t):i[r]=s},{allOwnKeys:n}),i),s$=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),r$=(i,e,t,n)=>{i.prototype=Object.create(e.prototype,n),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},o$=(i,e,t,n)=>{let s,r,o;const a={};if(e=e||{},i==null)return e;do{for(s=Object.getOwnPropertyNames(i),r=s.length;r-- >0;)o=s[r],(!n||n(o,i,e))&&!a[o]&&(e[o]=i[o],a[o]=!0);i=t!==!1&&qw(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},a$=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const n=i.indexOf(e,t);return n!==-1&&n===t},l$=i=>{if(!i)return null;if(Gc(i))return i;let e=i.length;if(!LR(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},d$=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&qw(Uint8Array)),c$=(i,e)=>{const n=(i&&i[w0]).call(i);let s;for(;(s=n.next())&&!s.done;){const r=s.value;e.call(i,r[0],r[1])}},u$=(i,e)=>{let t;const n=[];for(;(t=i.exec(e))!==null;)n.push(t);return n},h$=kr("HTMLFormElement"),p$=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,n,s){return n.toUpperCase()+s}),PI=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),f$=kr("RegExp"),jR=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),n={};up(t,(s,r)=>{let o;(o=e(s,r,i))!==!1&&(n[r]=o||s)}),Object.defineProperties(i,n)},m$=i=>{jR(i,(e,t)=>{if(gs(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const n=i[t];if(gs(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},g$=(i,e)=>{const t={},n=s=>{s.forEach(r=>{t[r]=!0})};return Gc(i)?n(i):n(String(i).split(e)),t},_$=()=>{},v$=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function x$(i){return!!(i&&gs(i.append)&&i[NR]==="FormData"&&i[w0])}const b$=i=>{const e=new Array(10),t=(n,s)=>{if(cp(n)){if(e.indexOf(n)>=0)return;if(dp(n))return n;if(!("toJSON"in n)){e[s]=n;const r=Gc(n)?[]:{};return up(n,(o,a)=>{const l=t(o,s+1);!kc(l)&&(r[a]=l)}),e[s]=void 0,r}}return n};return t(i,0)},y$=kr("AsyncFunction"),C$=i=>i&&(cp(i)||gs(i))&&gs(i.then)&&gs(i.catch),zR=((i,e)=>i?setImmediate:e?((t,n)=>(wl.addEventListener("message",({source:s,data:r})=>{s===wl&&r===t&&n.length&&n.shift()()},!1),s=>{n.push(s),wl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",gs(wl.postMessage)),w$=typeof queueMicrotask<"u"?queueMicrotask.bind(wl):typeof process<"u"&&process.nextTick||zR,S$=i=>i!=null&&gs(i[w0]),Ce={isArray:Gc,isArrayBuffer:VR,isBuffer:dp,isFormData:XL,isArrayBufferView:HL,isString:jL,isNumber:LR,isBoolean:zL,isObject:cp,isPlainObject:_m,isEmptyObject:WL,isReadableStream:QL,isRequest:JL,isResponse:e$,isHeaders:t$,isUndefined:kc,isDate:UL,isFile:KL,isBlob:GL,isRegExp:f$,isFunction:gs,isStream:YL,isURLSearchParams:ZL,isTypedArray:d$,isFileList:qL,forEach:up,merge:ry,extend:i$,trim:n$,stripBOM:s$,inherits:r$,toFlatObject:o$,kindOf:S0,kindOfTest:kr,endsWith:a$,toArray:l$,forEachEntry:c$,matchAll:u$,isHTMLForm:h$,hasOwnProperty:PI,hasOwnProp:PI,reduceDescriptors:jR,freezeMethods:m$,toObjectSet:g$,toCamelCase:p$,noop:_$,toFiniteNumber:v$,findKey:$R,global:wl,isContextDefined:HR,isSpecCompliantForm:x$,toJSONObject:b$,isAsyncFn:y$,isThenable:C$,setImmediate:zR,asap:w$,isIterable:S$};function Pt(i,e,t,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}Ce.inherits(Pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ce.toJSONObject(this.config),code:this.code,status:this.status}}});const WR=Pt.prototype,UR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{UR[i]={value:i}});Object.defineProperties(Pt,UR);Object.defineProperty(WR,"isAxiosError",{value:!0});Pt.from=(i,e,t,n,s,r)=>{const o=Object.create(WR);Ce.toFlatObject(i,o,function(c){return c!==Error.prototype},d=>d!=="isAxiosError");const a=i&&i.message?i.message:"Error",l=e==null&&i?i.code:e;return Pt.call(o,a,l,t,n,s),i&&o.cause==null&&Object.defineProperty(o,"cause",{value:i,configurable:!0}),o.name=i&&i.name||"Error",r&&Object.assign(o,r),o};const E$=null;function oy(i){return Ce.isPlainObject(i)||Ce.isArray(i)}function KR(i){return Ce.endsWith(i,"[]")?i.slice(0,-2):i}function MI(i,e,t){return i?i.concat(e).map(function(s,r){return s=KR(s),!t&&r?"["+s+"]":s}).join(t?".":""):e}function I$(i){return Ce.isArray(i)&&!i.some(oy)}const T$=Ce.toFlatObject(Ce,{},null,function(e){return/^is[A-Z]/.test(e)});function I0(i,e,t){if(!Ce.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Ce.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,m){return!Ce.isUndefined(m[g])});const n=t.metaTokens,s=t.visitor||c,r=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&Ce.isSpecCompliantForm(e);if(!Ce.isFunction(s))throw new TypeError("visitor must be a function");function d(f){if(f===null)return"";if(Ce.isDate(f))return f.toISOString();if(Ce.isBoolean(f))return f.toString();if(!l&&Ce.isBlob(f))throw new Pt("Blob is not supported. Use a Buffer instead.");return Ce.isArrayBuffer(f)||Ce.isTypedArray(f)?l&&typeof Blob=="function"?new Blob([f]):Buffer.from(f):f}function c(f,g,m){let v=f;if(f&&!m&&typeof f=="object"){if(Ce.endsWith(g,"{}"))g=n?g:g.slice(0,-2),f=JSON.stringify(f);else if(Ce.isArray(f)&&I$(f)||(Ce.isFileList(f)||Ce.endsWith(g,"[]"))&&(v=Ce.toArray(f)))return g=KR(g),v.forEach(function(x,y){!(Ce.isUndefined(x)||x===null)&&e.append(o===!0?MI([g],y,r):o===null?g:g+"[]",d(x))}),!1}return oy(f)?!0:(e.append(MI(m,g,r),d(f)),!1)}const h=[],u=Object.assign(T$,{defaultVisitor:c,convertValue:d,isVisitable:oy});function p(f,g){if(!Ce.isUndefined(f)){if(h.indexOf(f)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(f),Ce.forEach(f,function(v,_){(!(Ce.isUndefined(v)||v===null)&&s.call(e,v,Ce.isString(_)?_.trim():_,g,u))===!0&&p(v,g?g.concat(_):[_])}),h.pop()}}if(!Ce.isObject(i))throw new TypeError("data must be an object");return p(i),e}function FI(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Yw(i,e){this._pairs=[],i&&I0(i,this,e)}const GR=Yw.prototype;GR.append=function(e,t){this._pairs.push([e,t])};GR.toString=function(e){const t=e?function(n){return e.call(this,n,FI)}:FI;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function D$(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qR(i,e,t){if(!e)return i;const n=t&&t.encode||D$;Ce.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let r;if(s?r=s(e,t):r=Ce.isURLSearchParams(e)?e.toString():new Yw(e,t).toString(n),r){const o=i.indexOf("#");o!==-1&&(i=i.slice(0,o)),i+=(i.indexOf("?")===-1?"?":"&")+r}return i}class BI{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ce.forEach(this.handlers,function(n){n!==null&&e(n)})}}const YR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},A$=typeof URLSearchParams<"u"?URLSearchParams:Yw,k$=typeof FormData<"u"?FormData:null,O$=typeof Blob<"u"?Blob:null,R$={isBrowser:!0,classes:{URLSearchParams:A$,FormData:k$,Blob:O$},protocols:["http","https","file","blob","url","data"]},Xw=typeof window<"u"&&typeof document<"u",ay=typeof navigator=="object"&&navigator||void 0,P$=Xw&&(!ay||["ReactNative","NativeScript","NS"].indexOf(ay.product)<0),M$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",F$=Xw&&window.location.href||"http://localhost",B$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xw,hasStandardBrowserEnv:P$,hasStandardBrowserWebWorkerEnv:M$,navigator:ay,origin:F$},Symbol.toStringTag,{value:"Module"})),Vi={...B$,...R$};function N$(i,e){return I0(i,new Vi.classes.URLSearchParams,{visitor:function(t,n,s,r){return Vi.isNode&&Ce.isBuffer(t)?(this.append(n,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}function V$(i){return Ce.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function L$(i){const e={},t=Object.keys(i);let n;const s=t.length;let r;for(n=0;n<s;n++)r=t[n],e[r]=i[r];return e}function XR(i){function e(t,n,s,r){let o=t[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=t.length;return o=!o&&Ce.isArray(s)?s.length:o,l?(Ce.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!Ce.isObject(s[o]))&&(s[o]=[]),e(t,n,s[o],r)&&Ce.isArray(s[o])&&(s[o]=L$(s[o])),!a)}if(Ce.isFormData(i)&&Ce.isFunction(i.entries)){const t={};return Ce.forEachEntry(i,(n,s)=>{e(V$(n),s,t,0)}),t}return null}function $$(i,e,t){if(Ce.isString(i))try{return(e||JSON.parse)(i),Ce.trim(i)}catch(n){if(n.name!=="SyntaxError")throw n}return(t||JSON.stringify)(i)}const hp={transitional:YR,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",s=n.indexOf("application/json")>-1,r=Ce.isObject(e);if(r&&Ce.isHTMLForm(e)&&(e=new FormData(e)),Ce.isFormData(e))return s?JSON.stringify(XR(e)):e;if(Ce.isArrayBuffer(e)||Ce.isBuffer(e)||Ce.isStream(e)||Ce.isFile(e)||Ce.isBlob(e)||Ce.isReadableStream(e))return e;if(Ce.isArrayBufferView(e))return e.buffer;if(Ce.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return N$(e,this.formSerializer).toString();if((a=Ce.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return I0(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),$$(e)):e}],transformResponse:[function(e){const t=this.transitional||hp.transitional,n=t&&t.forcedJSONParsing,s=this.responseType==="json";if(Ce.isResponse(e)||Ce.isReadableStream(e))return e;if(e&&Ce.isString(e)&&(n&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Pt.from(a,Pt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vi.classes.FormData,Blob:Vi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ce.forEach(["delete","get","head","post","put","patch"],i=>{hp.headers[i]={}});const H$=Ce.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j$=i=>{const e={};let t,n,s;return i&&i.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!t||e[t]&&H$[t])&&(t==="set-cookie"?e[t]?e[t].push(n):e[t]=[n]:e[t]=e[t]?e[t]+", "+n:n)}),e},NI=Symbol("internals");function uu(i){return i&&String(i).trim().toLowerCase()}function vm(i){return i===!1||i==null?i:Ce.isArray(i)?i.map(vm):String(i)}function z$(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(i);)e[n[1]]=n[2];return e}const W$=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Y_(i,e,t,n,s){if(Ce.isFunction(n))return n.call(this,e,t);if(s&&(e=t),!!Ce.isString(e)){if(Ce.isString(n))return e.indexOf(n)!==-1;if(Ce.isRegExp(n))return n.test(e)}}function U$(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}function K$(i,e){const t=Ce.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(i,n+t,{value:function(s,r,o){return this[n].call(this,e,s,r,o)},configurable:!0})})}let _s=class{constructor(e){e&&this.set(e)}set(e,t,n){const s=this;function r(a,l,d){const c=uu(l);if(!c)throw new Error("header name must be a non-empty string");const h=Ce.findKey(s,c);(!h||s[h]===void 0||d===!0||d===void 0&&s[h]!==!1)&&(s[h||l]=vm(a))}const o=(a,l)=>Ce.forEach(a,(d,c)=>r(d,c,l));if(Ce.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Ce.isString(e)&&(e=e.trim())&&!W$(e))o(j$(e),t);else if(Ce.isObject(e)&&Ce.isIterable(e)){let a={},l,d;for(const c of e){if(!Ce.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[d=c[0]]=(l=a[d])?Ce.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,t)}else e!=null&&r(t,e,n);return this}get(e,t){if(e=uu(e),e){const n=Ce.findKey(this,e);if(n){const s=this[n];if(!t)return s;if(t===!0)return z$(s);if(Ce.isFunction(t))return t.call(this,s,n);if(Ce.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=uu(e),e){const n=Ce.findKey(this,e);return!!(n&&this[n]!==void 0&&(!t||Y_(this,this[n],n,t)))}return!1}delete(e,t){const n=this;let s=!1;function r(o){if(o=uu(o),o){const a=Ce.findKey(n,o);a&&(!t||Y_(n,n[a],a,t))&&(delete n[a],s=!0)}}return Ce.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let n=t.length,s=!1;for(;n--;){const r=t[n];(!e||Y_(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const t=this,n={};return Ce.forEach(this,(s,r)=>{const o=Ce.findKey(n,r);if(o){t[o]=vm(s),delete t[r];return}const a=e?U$(r):String(r).trim();a!==r&&delete t[r],t[a]=vm(s),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ce.forEach(this,(n,s)=>{n!=null&&n!==!1&&(t[s]=e&&Ce.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[NI]=this[NI]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=uu(o);n[a]||(K$(s,o),n[a]=!0)}return Ce.isArray(e)?e.forEach(r):r(e),this}};_s.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ce.reduceDescriptors(_s.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(n){this[t]=n}}});Ce.freezeMethods(_s);function X_(i,e){const t=this||hp,n=e||t,s=_s.from(n.headers);let r=n.data;return Ce.forEach(i,function(a){r=a.call(t,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function ZR(i){return!!(i&&i.__CANCEL__)}function qc(i,e,t){Pt.call(this,i??"canceled",Pt.ERR_CANCELED,e,t),this.name="CanceledError"}Ce.inherits(qc,Pt,{__CANCEL__:!0});function QR(i,e,t){const n=t.config.validateStatus;!t.status||!n||n(t.status)?i(t):e(new Pt("Request failed with status code "+t.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function G$(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function q$(i,e){i=i||10;const t=new Array(i),n=new Array(i);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const d=Date.now(),c=n[r];o||(o=d),t[s]=l,n[s]=d;let h=r,u=0;for(;h!==s;)u+=t[h++],h=h%i;if(s=(s+1)%i,s===r&&(r=(r+1)%i),d-o<e)return;const p=c&&d-c;return p?Math.round(u*1e3/p):void 0}}function Y$(i,e){let t=0,n=1e3/e,s,r;const o=(d,c=Date.now())=>{t=c,s=null,r&&(clearTimeout(r),r=null),i(...d)};return[(...d)=>{const c=Date.now(),h=c-t;h>=n?o(d,c):(s=d,r||(r=setTimeout(()=>{r=null,o(s)},n-h)))},()=>s&&o(s)]}const fg=(i,e,t=3)=>{let n=0;const s=q$(50,250);return Y$(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-n,d=s(l),c=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:d||void 0,estimated:d&&a&&c?(a-o)/d:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};i(h)},t)},VI=(i,e)=>{const t=i!=null;return[n=>e[0]({lengthComputable:t,total:i,loaded:n}),e[1]]},LI=i=>(...e)=>Ce.asap(()=>i(...e)),X$=Vi.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,Vi.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(Vi.origin),Vi.navigator&&/(msie|trident)/i.test(Vi.navigator.userAgent)):()=>!0,Z$=Vi.hasStandardBrowserEnv?{write(i,e,t,n,s,r,o){if(typeof document>"u")return;const a=[`${i}=${encodeURIComponent(e)}`];Ce.isNumber(t)&&a.push(`expires=${new Date(t).toUTCString()}`),Ce.isString(n)&&a.push(`path=${n}`),Ce.isString(s)&&a.push(`domain=${s}`),r===!0&&a.push("secure"),Ce.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(i){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+i+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(i){this.write(i,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Q$(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function J$(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function JR(i,e,t){let n=!Q$(e);return i&&(n||t==!1)?J$(i,e):e}const $I=i=>i instanceof _s?{...i}:i;function Wl(i,e){e=e||{};const t={};function n(d,c,h,u){return Ce.isPlainObject(d)&&Ce.isPlainObject(c)?Ce.merge.call({caseless:u},d,c):Ce.isPlainObject(c)?Ce.merge({},c):Ce.isArray(c)?c.slice():c}function s(d,c,h,u){if(Ce.isUndefined(c)){if(!Ce.isUndefined(d))return n(void 0,d,h,u)}else return n(d,c,h,u)}function r(d,c){if(!Ce.isUndefined(c))return n(void 0,c)}function o(d,c){if(Ce.isUndefined(c)){if(!Ce.isUndefined(d))return n(void 0,d)}else return n(void 0,c)}function a(d,c,h){if(h in e)return n(d,c);if(h in i)return n(void 0,d)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(d,c,h)=>s($I(d),$I(c),h,!0)};return Ce.forEach(Object.keys({...i,...e}),function(c){const h=l[c]||s,u=h(i[c],e[c],c);Ce.isUndefined(u)&&h!==a||(t[c]=u)}),t}const e6=i=>{const e=Wl({},i);let{data:t,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:a}=e;if(e.headers=o=_s.from(o),e.url=qR(JR(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Ce.isFormData(t)){if(Vi.hasStandardBrowserEnv||Vi.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ce.isFunction(t.getHeaders)){const l=t.getHeaders(),d=["content-type","content-length"];Object.entries(l).forEach(([c,h])=>{d.includes(c.toLowerCase())&&o.set(c,h)})}}if(Vi.hasStandardBrowserEnv&&(n&&Ce.isFunction(n)&&(n=n(e)),n||n!==!1&&X$(e.url))){const l=s&&r&&Z$.read(r);l&&o.set(s,l)}return e},eH=typeof XMLHttpRequest<"u",tH=eH&&function(i){return new Promise(function(t,n){const s=e6(i);let r=s.data;const o=_s.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:d}=s,c,h,u,p,f;function g(){p&&p(),f&&f(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let m=new XMLHttpRequest;m.open(s.method.toUpperCase(),s.url,!0),m.timeout=s.timeout;function v(){if(!m)return;const x=_s.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),T={data:!a||a==="text"||a==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:x,config:i,request:m};QR(function(L){t(L),g()},function(L){n(L),g()},T),m=null}"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(v)},m.onabort=function(){m&&(n(new Pt("Request aborted",Pt.ECONNABORTED,i,m)),m=null)},m.onerror=function(y){const T=y&&y.message?y.message:"Network Error",O=new Pt(T,Pt.ERR_NETWORK,i,m);O.event=y||null,n(O),m=null},m.ontimeout=function(){let y=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const T=s.transitional||YR;s.timeoutErrorMessage&&(y=s.timeoutErrorMessage),n(new Pt(y,T.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,i,m)),m=null},r===void 0&&o.setContentType(null),"setRequestHeader"in m&&Ce.forEach(o.toJSON(),function(y,T){m.setRequestHeader(T,y)}),Ce.isUndefined(s.withCredentials)||(m.withCredentials=!!s.withCredentials),a&&a!=="json"&&(m.responseType=s.responseType),d&&([u,f]=fg(d,!0),m.addEventListener("progress",u)),l&&m.upload&&([h,p]=fg(l),m.upload.addEventListener("progress",h),m.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(c=x=>{m&&(n(!x||x.type?new qc(null,i,m):x),m.abort(),m=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const _=G$(s.url);if(_&&Vi.protocols.indexOf(_)===-1){n(new Pt("Unsupported protocol "+_+":",Pt.ERR_BAD_REQUEST,i));return}m.send(r||null)})},nH=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let n=new AbortController,s;const r=function(d){if(!s){s=!0,a();const c=d instanceof Error?d:this.reason;n.abort(c instanceof Pt?c:new qc(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,r(new Pt(`timeout ${e} of ms exceeded`,Pt.ETIMEDOUT))},e);const a=()=>{i&&(o&&clearTimeout(o),o=null,i.forEach(d=>{d.unsubscribe?d.unsubscribe(r):d.removeEventListener("abort",r)}),i=null)};i.forEach(d=>d.addEventListener("abort",r));const{signal:l}=n;return l.unsubscribe=()=>Ce.asap(a),l}},iH=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let n=0,s;for(;n<t;)s=n+e,yield i.slice(n,s),n=s},sH=async function*(i,e){for await(const t of rH(i))yield*iH(t,e)},rH=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},HI=(i,e,t,n)=>{const s=sH(i,e);let r=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:d,value:c}=await s.next();if(d){a(),l.close();return}let h=c.byteLength;if(t){let u=r+=h;t(u)}l.enqueue(new Uint8Array(c))}catch(d){throw a(d),d}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},jI=64*1024,{isFunction:Cf}=Ce,oH=(({Request:i,Response:e})=>({Request:i,Response:e}))(Ce.global),{ReadableStream:zI,TextEncoder:WI}=Ce.global,UI=(i,...e)=>{try{return!!i(...e)}catch{return!1}},aH=i=>{i=Ce.merge.call({skipUndefined:!0},oH,i);const{fetch:e,Request:t,Response:n}=i,s=e?Cf(e):typeof fetch=="function",r=Cf(t),o=Cf(n);if(!s)return!1;const a=s&&Cf(zI),l=s&&(typeof WI=="function"?(f=>g=>f.encode(g))(new WI):async f=>new Uint8Array(await new t(f).arrayBuffer())),d=r&&a&&UI(()=>{let f=!1;const g=new t(Vi.origin,{body:new zI,method:"POST",get duplex(){return f=!0,"half"}}).headers.has("Content-Type");return f&&!g}),c=o&&a&&UI(()=>Ce.isReadableStream(new n("").body)),h={stream:c&&(f=>f.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(f=>{!h[f]&&(h[f]=(g,m)=>{let v=g&&g[f];if(v)return v.call(g);throw new Pt(`Response type '${f}' is not supported`,Pt.ERR_NOT_SUPPORT,m)})});const u=async f=>{if(f==null)return 0;if(Ce.isBlob(f))return f.size;if(Ce.isSpecCompliantForm(f))return(await new t(Vi.origin,{method:"POST",body:f}).arrayBuffer()).byteLength;if(Ce.isArrayBufferView(f)||Ce.isArrayBuffer(f))return f.byteLength;if(Ce.isURLSearchParams(f)&&(f=f+""),Ce.isString(f))return(await l(f)).byteLength},p=async(f,g)=>{const m=Ce.toFiniteNumber(f.getContentLength());return m??u(g)};return async f=>{let{url:g,method:m,data:v,signal:_,cancelToken:x,timeout:y,onDownloadProgress:T,onUploadProgress:O,responseType:L,headers:R,withCredentials:$="same-origin",fetchOptions:V}=e6(f),z=e||fetch;L=L?(L+"").toLowerCase():"text";let H=nH([_,x&&x.toAbortSignal()],y),I=null;const A=H&&H.unsubscribe&&(()=>{H.unsubscribe()});let E;try{if(O&&d&&m!=="get"&&m!=="head"&&(E=await p(R,v))!==0){let P=new t(g,{method:"POST",body:v,duplex:"half"}),k;if(Ce.isFormData(v)&&(k=P.headers.get("content-type"))&&R.setContentType(k),P.body){const[U,W]=VI(E,fg(LI(O)));v=HI(P.body,jI,U,W)}}Ce.isString($)||($=$?"include":"omit");const b=r&&"credentials"in t.prototype,w={...V,signal:H,method:m.toUpperCase(),headers:R.normalize().toJSON(),body:v,duplex:"half",credentials:b?$:void 0};I=r&&new t(g,w);let C=await(r?z(I,V):z(g,w));const S=c&&(L==="stream"||L==="response");if(c&&(T||S&&A)){const P={};["status","statusText","headers"].forEach(X=>{P[X]=C[X]});const k=Ce.toFiniteNumber(C.headers.get("content-length")),[U,W]=T&&VI(k,fg(LI(T),!0))||[];C=new n(HI(C.body,jI,U,()=>{W&&W(),A&&A()}),P)}L=L||"text";let D=await h[Ce.findKey(h,L)||"text"](C,f);return!S&&A&&A(),await new Promise((P,k)=>{QR(P,k,{data:D,headers:_s.from(C.headers),status:C.status,statusText:C.statusText,config:f,request:I})})}catch(b){throw A&&A(),b&&b.name==="TypeError"&&/Load failed|fetch/i.test(b.message)?Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,f,I),{cause:b.cause||b}):Pt.from(b,b&&b.code,f,I)}}},lH=new Map,t6=i=>{let e=i&&i.env||{};const{fetch:t,Request:n,Response:s}=e,r=[n,s,t];let o=r.length,a=o,l,d,c=lH;for(;a--;)l=r[a],d=c.get(l),d===void 0&&c.set(l,d=a?new Map:aH(e)),c=d;return d};t6();const Zw={http:E$,xhr:tH,fetch:{get:t6}};Ce.forEach(Zw,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const KI=i=>`- ${i}`,dH=i=>Ce.isFunction(i)||i===null||i===!1;function cH(i,e){i=Ce.isArray(i)?i:[i];const{length:t}=i;let n,s;const r={};for(let o=0;o<t;o++){n=i[o];let a;if(s=n,!dH(n)&&(s=Zw[(a=String(n)).toLowerCase()],s===void 0))throw new Pt(`Unknown adapter '${a}'`);if(s&&(Ce.isFunction(s)||(s=s.get(e))))break;r[a||"#"+o]=s}if(!s){const o=Object.entries(r).map(([l,d])=>`adapter ${l} `+(d===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(KI).join(`
`):" "+KI(o[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const n6={getAdapter:cH,adapters:Zw};function Z_(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new qc(null,i)}function GI(i){return Z_(i),i.headers=_s.from(i.headers),i.data=X_.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),n6.getAdapter(i.adapter||hp.adapter,i)(i).then(function(n){return Z_(i),n.data=X_.call(i,i.transformResponse,n),n.headers=_s.from(n.headers),n},function(n){return ZR(n)||(Z_(i),n&&n.response&&(n.response.data=X_.call(i,i.transformResponse,n.response),n.response.headers=_s.from(n.response.headers))),Promise.reject(n)})}const i6="1.13.2",T0={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{T0[i]=function(n){return typeof n===i||"a"+(e<1?"n ":" ")+i}});const qI={};T0.transitional=function(e,t,n){function s(r,o){return"[Axios v"+i6+"] Transitional option '"+r+"'"+o+(n?". "+n:"")}return(r,o,a)=>{if(e===!1)throw new Pt(s(o," has been removed"+(t?" in "+t:"")),Pt.ERR_DEPRECATED);return t&&!qI[o]&&(qI[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,a):!0}};T0.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function uH(i,e,t){if(typeof i!="object")throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const n=Object.keys(i);let s=n.length;for(;s-- >0;){const r=n[s],o=e[r];if(o){const a=i[r],l=a===void 0||o(a,r,i);if(l!==!0)throw new Pt("option "+r+" must be "+l,Pt.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Pt("Unknown option "+r,Pt.ERR_BAD_OPTION)}}const xm={assertOptions:uH,validators:T0},Pr=xm.validators;let Ol=class{constructor(e){this.defaults=e||{},this.interceptors={request:new BI,response:new BI}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?r&&!String(n.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+r):n.stack=r}catch{}}throw n}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Wl(this.defaults,t);const{transitional:n,paramsSerializer:s,headers:r}=t;n!==void 0&&xm.assertOptions(n,{silentJSONParsing:Pr.transitional(Pr.boolean),forcedJSONParsing:Pr.transitional(Pr.boolean),clarifyTimeoutError:Pr.transitional(Pr.boolean)},!1),s!=null&&(Ce.isFunction(s)?t.paramsSerializer={serialize:s}:xm.assertOptions(s,{encode:Pr.function,serialize:Pr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xm.assertOptions(t,{baseUrl:Pr.spelling("baseURL"),withXsrfToken:Pr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&Ce.merge(r.common,r[t.method]);r&&Ce.forEach(["delete","get","head","post","put","patch","common"],f=>{delete r[f]}),t.headers=_s.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(t)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const d=[];this.interceptors.response.forEach(function(g){d.push(g.fulfilled,g.rejected)});let c,h=0,u;if(!l){const f=[GI.bind(this),void 0];for(f.unshift(...a),f.push(...d),u=f.length,c=Promise.resolve(t);h<u;)c=c.then(f[h++],f[h++]);return c}u=a.length;let p=t;for(;h<u;){const f=a[h++],g=a[h++];try{p=f(p)}catch(m){g.call(this,m);break}}try{c=GI.call(this,p)}catch(f){return Promise.reject(f)}for(h=0,u=d.length;h<u;)c=c.then(d[h++],d[h++]);return c}getUri(e){e=Wl(this.defaults,e);const t=JR(e.baseURL,e.url,e.allowAbsoluteUrls);return qR(t,e.params,e.paramsSerializer)}};Ce.forEach(["delete","get","head","options"],function(e){Ol.prototype[e]=function(t,n){return this.request(Wl(n||{},{method:e,url:t,data:(n||{}).data}))}});Ce.forEach(["post","put","patch"],function(e){function t(n){return function(r,o,a){return this.request(Wl(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Ol.prototype[e]=t(),Ol.prototype[e+"Form"]=t(!0)});let hH=class s6{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const n=this;this.promise.then(s=>{if(!n._listeners)return;let r=n._listeners.length;for(;r-- >0;)n._listeners[r](s);n._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{n.subscribe(a),r=a}).then(s);return o.cancel=function(){n.unsubscribe(r)},o},e(function(r,o,a){n.reason||(n.reason=new qc(r,o,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=n=>{e.abort(n)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new s6(function(s){e=s}),cancel:e}}};function pH(i){return function(t){return i.apply(null,t)}}function fH(i){return Ce.isObject(i)&&i.isAxiosError===!0}const ly={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ly).forEach(([i,e])=>{ly[e]=i});function r6(i){const e=new Ol(i),t=BR(Ol.prototype.request,e);return Ce.extend(t,Ol.prototype,e,{allOwnKeys:!0}),Ce.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return r6(Wl(i,s))},t}const ni=r6(hp);ni.Axios=Ol;ni.CanceledError=qc;ni.CancelToken=hH;ni.isCancel=ZR;ni.VERSION=i6;ni.toFormData=I0;ni.AxiosError=Pt;ni.Cancel=ni.CanceledError;ni.all=function(e){return Promise.all(e)};ni.spread=pH;ni.isAxiosError=fH;ni.mergeConfig=Wl;ni.AxiosHeaders=_s;ni.formToJSON=i=>XR(Ce.isHTMLForm(i)?new FormData(i):i);ni.getAdapter=n6.getAdapter;ni.HttpStatusCode=ly;ni.default=ni;const{Axios:q0e,AxiosError:Y0e,CanceledError:X0e,isCancel:Z0e,CancelToken:Q0e,VERSION:J0e,all:e_e,Cancel:t_e,isAxiosError:n_e,spread:i_e,toFormData:s_e,AxiosHeaders:r_e,HttpStatusCode:o_e,formToJSON:a_e,getAdapter:l_e,mergeConfig:d_e}=ni,mH="http://localhost:4901",gH="/apiv1/auth2/admin",Bh=ni.create({baseURL:`${mH}${gH}`,timeout:3e4,headers:{"Content-Type":"application/json"}});Bh.interceptors.request.use(i=>{const e=localStorage.getItem("saf_admin_token");return e&&(i.headers["x-access-token"]=e),i},i=>Promise.reject(i));Bh.interceptors.response.use(i=>i,i=>(i.response?i.response.status===401&&(localStorage.removeItem("saf_admin_user"),localStorage.removeItem("saf_admin_token"),window.location.href="/login"):i.request?console.error("No response from server:",i.request):console.error("Request error:",i.message),Promise.reject(i)));var o6={exports:{}};function $u(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Q_={exports:{}};const _H={},vH=Object.freeze(Object.defineProperty({__proto__:null,default:_H},Symbol.toStringTag,{value:"Module"})),xH=dV(vH);var YI;function rn(){return YI||(YI=1,function(i,e){(function(t,n){i.exports=n()})(Ge,function(){var t=t||function(n,s){var r;if(typeof window<"u"&&window.crypto&&(r=window.crypto),typeof self<"u"&&self.crypto&&(r=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(r=globalThis.crypto),!r&&typeof window<"u"&&window.msCrypto&&(r=window.msCrypto),!r&&typeof Ge<"u"&&Ge.crypto&&(r=Ge.crypto),!r&&typeof $u=="function")try{r=xH}catch{}var o=function(){if(r){if(typeof r.getRandomValues=="function")try{return r.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof r.randomBytes=="function")try{return r.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function _(){}return function(x){var y;return _.prototype=x,y=new _,_.prototype=null,y}}(),l={},d=l.lib={},c=d.Base=function(){return{extend:function(_){var x=a(this);return _&&x.mixIn(_),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var x in _)_.hasOwnProperty(x)&&(this[x]=_[x]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=d.WordArray=c.extend({init:function(_,x){_=this.words=_||[],x!=s?this.sigBytes=x:this.sigBytes=_.length*4},toString:function(_){return(_||p).stringify(this)},concat:function(_){var x=this.words,y=_.words,T=this.sigBytes,O=_.sigBytes;if(this.clamp(),T%4)for(var L=0;L<O;L++){var R=y[L>>>2]>>>24-L%4*8&255;x[T+L>>>2]|=R<<24-(T+L)%4*8}else for(var $=0;$<O;$+=4)x[T+$>>>2]=y[$>>>2];return this.sigBytes+=O,this},clamp:function(){var _=this.words,x=this.sigBytes;_[x>>>2]&=4294967295<<32-x%4*8,_.length=n.ceil(x/4)},clone:function(){var _=c.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var x=[],y=0;y<_;y+=4)x.push(o());return new h.init(x,_)}}),u=l.enc={},p=u.Hex={stringify:function(_){for(var x=_.words,y=_.sigBytes,T=[],O=0;O<y;O++){var L=x[O>>>2]>>>24-O%4*8&255;T.push((L>>>4).toString(16)),T.push((L&15).toString(16))}return T.join("")},parse:function(_){for(var x=_.length,y=[],T=0;T<x;T+=2)y[T>>>3]|=parseInt(_.substr(T,2),16)<<24-T%8*4;return new h.init(y,x/2)}},f=u.Latin1={stringify:function(_){for(var x=_.words,y=_.sigBytes,T=[],O=0;O<y;O++){var L=x[O>>>2]>>>24-O%4*8&255;T.push(String.fromCharCode(L))}return T.join("")},parse:function(_){for(var x=_.length,y=[],T=0;T<x;T++)y[T>>>2]|=(_.charCodeAt(T)&255)<<24-T%4*8;return new h.init(y,x)}},g=u.Utf8={stringify:function(_){try{return decodeURIComponent(escape(f.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return f.parse(unescape(encodeURIComponent(_)))}},m=d.BufferedBlockAlgorithm=c.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=g.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var x,y=this._data,T=y.words,O=y.sigBytes,L=this.blockSize,R=L*4,$=O/R;_?$=n.ceil($):$=n.max(($|0)-this._minBufferSize,0);var V=$*L,z=n.min(V*4,O);if(V){for(var H=0;H<V;H+=L)this._doProcessBlock(T,H);x=T.splice(0,V),y.sigBytes-=z}return new h.init(x,z)},clone:function(){var _=c.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});d.Hasher=m.extend({cfg:c.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(_){return function(x,y){return new _.init(y).finalize(x)}},_createHmacHelper:function(_){return function(x,y){return new v.HMAC.init(_,y).finalize(x)}}});var v=l.algo={};return l}(Math);return t})}(Q_)),Q_.exports}var J_={exports:{}},XI;function D0(){return XI||(XI=1,function(i,e){(function(t,n){i.exports=n(rn())})(Ge,function(t){return function(n){var s=t,r=s.lib,o=r.Base,a=r.WordArray,l=s.x64={};l.Word=o.extend({init:function(d,c){this.high=d,this.low=c}}),l.WordArray=o.extend({init:function(d,c){d=this.words=d||[],c!=n?this.sigBytes=c:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,c=d.length,h=[],u=0;u<c;u++){var p=d[u];h.push(p.high),h.push(p.low)}return a.create(h,this.sigBytes)},clone:function(){for(var d=o.clone.call(this),c=d.words=this.words.slice(0),h=c.length,u=0;u<h;u++)c[u]=c[u].clone();return d}})}(),t})}(J_)),J_.exports}var ev={exports:{}},ZI;function bH(){return ZI||(ZI=1,function(i,e){(function(t,n){i.exports=n(rn())})(Ge,function(t){return function(){if(typeof ArrayBuffer=="function"){var n=t,s=n.lib,r=s.WordArray,o=r.init,a=r.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var d=l.byteLength,c=[],h=0;h<d;h++)c[h>>>2]|=l[h]<<24-h%4*8;o.call(this,c,d)}else o.apply(this,arguments)};a.prototype=r}}(),t.lib.WordArray})}(ev)),ev.exports}var tv={exports:{}},QI;function yH(){return QI||(QI=1,function(i,e){(function(t,n){i.exports=n(rn())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var d=l.words,c=l.sigBytes,h=[],u=0;u<c;u+=2){var p=d[u>>>2]>>>16-u%4*8&65535;h.push(String.fromCharCode(p))}return h.join("")},parse:function(l){for(var d=l.length,c=[],h=0;h<d;h++)c[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return r.create(c,d*2)}},o.Utf16LE={stringify:function(l){for(var d=l.words,c=l.sigBytes,h=[],u=0;u<c;u+=2){var p=a(d[u>>>2]>>>16-u%4*8&65535);h.push(String.fromCharCode(p))}return h.join("")},parse:function(l){for(var d=l.length,c=[],h=0;h<d;h++)c[h>>>1]|=a(l.charCodeAt(h)<<16-h%2*16);return r.create(c,d*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),t.enc.Utf16})}(tv)),tv.exports}var nv={exports:{}},JI;function id(){return JI||(JI=1,function(i,e){(function(t,n){i.exports=n(rn())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.WordArray,o=n.enc;o.Base64={stringify:function(l){var d=l.words,c=l.sigBytes,h=this._map;l.clamp();for(var u=[],p=0;p<c;p+=3)for(var f=d[p>>>2]>>>24-p%4*8&255,g=d[p+1>>>2]>>>24-(p+1)%4*8&255,m=d[p+2>>>2]>>>24-(p+2)%4*8&255,v=f<<16|g<<8|m,_=0;_<4&&p+_*.75<c;_++)u.push(h.charAt(v>>>6*(3-_)&63));var x=h.charAt(64);if(x)for(;u.length%4;)u.push(x);return u.join("")},parse:function(l){var d=l.length,c=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var u=0;u<c.length;u++)h[c.charCodeAt(u)]=u}var p=c.charAt(64);if(p){var f=l.indexOf(p);f!==-1&&(d=f)}return a(l,d,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,d,c){for(var h=[],u=0,p=0;p<d;p++)if(p%4){var f=c[l.charCodeAt(p-1)]<<p%4*2,g=c[l.charCodeAt(p)]>>>6-p%4*2,m=f|g;h[u>>>2]|=m<<24-u%4*8,u++}return r.create(h,u)}}(),t.enc.Base64})}(nv)),nv.exports}var iv={exports:{}},e2;function CH(){return e2||(e2=1,function(i,e){(function(t,n){i.exports=n(rn())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.WordArray,o=n.enc;o.Base64url={stringify:function(l,d){d===void 0&&(d=!0);var c=l.words,h=l.sigBytes,u=d?this._safe_map:this._map;l.clamp();for(var p=[],f=0;f<h;f+=3)for(var g=c[f>>>2]>>>24-f%4*8&255,m=c[f+1>>>2]>>>24-(f+1)%4*8&255,v=c[f+2>>>2]>>>24-(f+2)%4*8&255,_=g<<16|m<<8|v,x=0;x<4&&f+x*.75<h;x++)p.push(u.charAt(_>>>6*(3-x)&63));var y=u.charAt(64);if(y)for(;p.length%4;)p.push(y);return p.join("")},parse:function(l,d){d===void 0&&(d=!0);var c=l.length,h=d?this._safe_map:this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var p=0;p<h.length;p++)u[h.charCodeAt(p)]=p}var f=h.charAt(64);if(f){var g=l.indexOf(f);g!==-1&&(c=g)}return a(l,c,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,d,c){for(var h=[],u=0,p=0;p<d;p++)if(p%4){var f=c[l.charCodeAt(p-1)]<<p%4*2,g=c[l.charCodeAt(p)]>>>6-p%4*2,m=f|g;h[u>>>2]|=m<<24-u%4*8,u++}return r.create(h,u)}}(),t.enc.Base64url})}(iv)),iv.exports}var sv={exports:{}},t2;function sd(){return t2||(t2=1,function(i,e){(function(t,n){i.exports=n(rn())})(Ge,function(t){return function(n){var s=t,r=s.lib,o=r.WordArray,a=r.Hasher,l=s.algo,d=[];(function(){for(var g=0;g<64;g++)d[g]=n.abs(n.sin(g+1))*4294967296|0})();var c=l.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(g,m){for(var v=0;v<16;v++){var _=m+v,x=g[_];g[_]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var y=this._hash.words,T=g[m+0],O=g[m+1],L=g[m+2],R=g[m+3],$=g[m+4],V=g[m+5],z=g[m+6],H=g[m+7],I=g[m+8],A=g[m+9],E=g[m+10],b=g[m+11],w=g[m+12],C=g[m+13],S=g[m+14],D=g[m+15],P=y[0],k=y[1],U=y[2],W=y[3];P=h(P,k,U,W,T,7,d[0]),W=h(W,P,k,U,O,12,d[1]),U=h(U,W,P,k,L,17,d[2]),k=h(k,U,W,P,R,22,d[3]),P=h(P,k,U,W,$,7,d[4]),W=h(W,P,k,U,V,12,d[5]),U=h(U,W,P,k,z,17,d[6]),k=h(k,U,W,P,H,22,d[7]),P=h(P,k,U,W,I,7,d[8]),W=h(W,P,k,U,A,12,d[9]),U=h(U,W,P,k,E,17,d[10]),k=h(k,U,W,P,b,22,d[11]),P=h(P,k,U,W,w,7,d[12]),W=h(W,P,k,U,C,12,d[13]),U=h(U,W,P,k,S,17,d[14]),k=h(k,U,W,P,D,22,d[15]),P=u(P,k,U,W,O,5,d[16]),W=u(W,P,k,U,z,9,d[17]),U=u(U,W,P,k,b,14,d[18]),k=u(k,U,W,P,T,20,d[19]),P=u(P,k,U,W,V,5,d[20]),W=u(W,P,k,U,E,9,d[21]),U=u(U,W,P,k,D,14,d[22]),k=u(k,U,W,P,$,20,d[23]),P=u(P,k,U,W,A,5,d[24]),W=u(W,P,k,U,S,9,d[25]),U=u(U,W,P,k,R,14,d[26]),k=u(k,U,W,P,I,20,d[27]),P=u(P,k,U,W,C,5,d[28]),W=u(W,P,k,U,L,9,d[29]),U=u(U,W,P,k,H,14,d[30]),k=u(k,U,W,P,w,20,d[31]),P=p(P,k,U,W,V,4,d[32]),W=p(W,P,k,U,I,11,d[33]),U=p(U,W,P,k,b,16,d[34]),k=p(k,U,W,P,S,23,d[35]),P=p(P,k,U,W,O,4,d[36]),W=p(W,P,k,U,$,11,d[37]),U=p(U,W,P,k,H,16,d[38]),k=p(k,U,W,P,E,23,d[39]),P=p(P,k,U,W,C,4,d[40]),W=p(W,P,k,U,T,11,d[41]),U=p(U,W,P,k,R,16,d[42]),k=p(k,U,W,P,z,23,d[43]),P=p(P,k,U,W,A,4,d[44]),W=p(W,P,k,U,w,11,d[45]),U=p(U,W,P,k,D,16,d[46]),k=p(k,U,W,P,L,23,d[47]),P=f(P,k,U,W,T,6,d[48]),W=f(W,P,k,U,H,10,d[49]),U=f(U,W,P,k,S,15,d[50]),k=f(k,U,W,P,V,21,d[51]),P=f(P,k,U,W,w,6,d[52]),W=f(W,P,k,U,R,10,d[53]),U=f(U,W,P,k,E,15,d[54]),k=f(k,U,W,P,O,21,d[55]),P=f(P,k,U,W,I,6,d[56]),W=f(W,P,k,U,D,10,d[57]),U=f(U,W,P,k,z,15,d[58]),k=f(k,U,W,P,C,21,d[59]),P=f(P,k,U,W,$,6,d[60]),W=f(W,P,k,U,b,10,d[61]),U=f(U,W,P,k,L,15,d[62]),k=f(k,U,W,P,A,21,d[63]),y[0]=y[0]+P|0,y[1]=y[1]+k|0,y[2]=y[2]+U|0,y[3]=y[3]+W|0},_doFinalize:function(){var g=this._data,m=g.words,v=this._nDataBytes*8,_=g.sigBytes*8;m[_>>>5]|=128<<24-_%32;var x=n.floor(v/4294967296),y=v;m[(_+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,m[(_+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,g.sigBytes=(m.length+1)*4,this._process();for(var T=this._hash,O=T.words,L=0;L<4;L++){var R=O[L];O[L]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return T},clone:function(){var g=a.clone.call(this);return g._hash=this._hash.clone(),g}});function h(g,m,v,_,x,y,T){var O=g+(m&v|~m&_)+x+T;return(O<<y|O>>>32-y)+m}function u(g,m,v,_,x,y,T){var O=g+(m&_|v&~_)+x+T;return(O<<y|O>>>32-y)+m}function p(g,m,v,_,x,y,T){var O=g+(m^v^_)+x+T;return(O<<y|O>>>32-y)+m}function f(g,m,v,_,x,y,T){var O=g+(v^(m|~_))+x+T;return(O<<y|O>>>32-y)+m}s.MD5=a._createHelper(c),s.HmacMD5=a._createHmacHelper(c)}(Math),t.MD5})}(sv)),sv.exports}var rv={exports:{}},n2;function a6(){return n2||(n2=1,function(i,e){(function(t,n){i.exports=n(rn())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.WordArray,o=s.Hasher,a=n.algo,l=[],d=a.SHA1=o.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(c,h){for(var u=this._hash.words,p=u[0],f=u[1],g=u[2],m=u[3],v=u[4],_=0;_<80;_++){if(_<16)l[_]=c[h+_]|0;else{var x=l[_-3]^l[_-8]^l[_-14]^l[_-16];l[_]=x<<1|x>>>31}var y=(p<<5|p>>>27)+v+l[_];_<20?y+=(f&g|~f&m)+1518500249:_<40?y+=(f^g^m)+1859775393:_<60?y+=(f&g|f&m|g&m)-1894007588:y+=(f^g^m)-899497514,v=m,m=g,g=f<<30|f>>>2,f=p,p=y}u[0]=u[0]+p|0,u[1]=u[1]+f|0,u[2]=u[2]+g|0,u[3]=u[3]+m|0,u[4]=u[4]+v|0},_doFinalize:function(){var c=this._data,h=c.words,u=this._nDataBytes*8,p=c.sigBytes*8;return h[p>>>5]|=128<<24-p%32,h[(p+64>>>9<<4)+14]=Math.floor(u/4294967296),h[(p+64>>>9<<4)+15]=u,c.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var c=o.clone.call(this);return c._hash=this._hash.clone(),c}});n.SHA1=o._createHelper(d),n.HmacSHA1=o._createHmacHelper(d)}(),t.SHA1})}(rv)),rv.exports}var ov={exports:{}},i2;function Qw(){return i2||(i2=1,function(i,e){(function(t,n){i.exports=n(rn())})(Ge,function(t){return function(n){var s=t,r=s.lib,o=r.WordArray,a=r.Hasher,l=s.algo,d=[],c=[];(function(){function p(v){for(var _=n.sqrt(v),x=2;x<=_;x++)if(!(v%x))return!1;return!0}function f(v){return(v-(v|0))*4294967296|0}for(var g=2,m=0;m<64;)p(g)&&(m<8&&(d[m]=f(n.pow(g,1/2))),c[m]=f(n.pow(g,1/3)),m++),g++})();var h=[],u=l.SHA256=a.extend({_doReset:function(){this._hash=new o.init(d.slice(0))},_doProcessBlock:function(p,f){for(var g=this._hash.words,m=g[0],v=g[1],_=g[2],x=g[3],y=g[4],T=g[5],O=g[6],L=g[7],R=0;R<64;R++){if(R<16)h[R]=p[f+R]|0;else{var $=h[R-15],V=($<<25|$>>>7)^($<<14|$>>>18)^$>>>3,z=h[R-2],H=(z<<15|z>>>17)^(z<<13|z>>>19)^z>>>10;h[R]=V+h[R-7]+H+h[R-16]}var I=y&T^~y&O,A=m&v^m&_^v&_,E=(m<<30|m>>>2)^(m<<19|m>>>13)^(m<<10|m>>>22),b=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),w=L+b+I+c[R]+h[R],C=E+A;L=O,O=T,T=y,y=x+w|0,x=_,_=v,v=m,m=w+C|0}g[0]=g[0]+m|0,g[1]=g[1]+v|0,g[2]=g[2]+_|0,g[3]=g[3]+x|0,g[4]=g[4]+y|0,g[5]=g[5]+T|0,g[6]=g[6]+O|0,g[7]=g[7]+L|0},_doFinalize:function(){var p=this._data,f=p.words,g=this._nDataBytes*8,m=p.sigBytes*8;return f[m>>>5]|=128<<24-m%32,f[(m+64>>>9<<4)+14]=n.floor(g/4294967296),f[(m+64>>>9<<4)+15]=g,p.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p}});s.SHA256=a._createHelper(u),s.HmacSHA256=a._createHmacHelper(u)}(Math),t.SHA256})}(ov)),ov.exports}var av={exports:{}},s2;function wH(){return s2||(s2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Qw())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.WordArray,o=n.algo,a=o.SHA256,l=o.SHA224=a.extend({_doReset:function(){this._hash=new r.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var d=a._doFinalize.call(this);return d.sigBytes-=4,d}});n.SHA224=a._createHelper(l),n.HmacSHA224=a._createHmacHelper(l)}(),t.SHA224})}(av)),av.exports}var lv={exports:{}},r2;function l6(){return r2||(r2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),D0())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.Hasher,o=n.x64,a=o.Word,l=o.WordArray,d=n.algo;function c(){return a.create.apply(a,arguments)}var h=[c(1116352408,3609767458),c(1899447441,602891725),c(3049323471,3964484399),c(3921009573,2173295548),c(961987163,4081628472),c(1508970993,3053834265),c(2453635748,2937671579),c(2870763221,3664609560),c(3624381080,2734883394),c(310598401,1164996542),c(607225278,1323610764),c(1426881987,3590304994),c(1925078388,4068182383),c(2162078206,991336113),c(2614888103,633803317),c(3248222580,3479774868),c(3835390401,2666613458),c(4022224774,944711139),c(264347078,2341262773),c(604807628,2007800933),c(770255983,1495990901),c(1249150122,1856431235),c(1555081692,3175218132),c(1996064986,2198950837),c(2554220882,3999719339),c(2821834349,766784016),c(2952996808,2566594879),c(3210313671,3203337956),c(3336571891,1034457026),c(3584528711,2466948901),c(113926993,3758326383),c(338241895,168717936),c(666307205,1188179964),c(773529912,1546045734),c(1294757372,1522805485),c(1396182291,2643833823),c(1695183700,2343527390),c(1986661051,1014477480),c(2177026350,1206759142),c(2456956037,344077627),c(2730485921,1290863460),c(2820302411,3158454273),c(3259730800,3505952657),c(3345764771,106217008),c(3516065817,3606008344),c(3600352804,1432725776),c(4094571909,1467031594),c(275423344,851169720),c(430227734,3100823752),c(506948616,1363258195),c(659060556,3750685593),c(883997877,3785050280),c(958139571,3318307427),c(1322822218,3812723403),c(1537002063,2003034995),c(1747873779,3602036899),c(1955562222,1575990012),c(2024104815,1125592928),c(2227730452,2716904306),c(2361852424,442776044),c(2428436474,593698344),c(2756734187,3733110249),c(3204031479,2999351573),c(3329325298,3815920427),c(3391569614,3928383900),c(3515267271,566280711),c(3940187606,3454069534),c(4118630271,4000239992),c(116418474,1914138554),c(174292421,2731055270),c(289380356,3203993006),c(460393269,320620315),c(685471733,587496836),c(852142971,1086792851),c(1017036298,365543100),c(1126000580,2618297676),c(1288033470,3409855158),c(1501505948,4234509866),c(1607167915,987167468),c(1816402316,1246189591)],u=[];(function(){for(var f=0;f<80;f++)u[f]=c()})();var p=d.SHA512=r.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(f,g){for(var m=this._hash.words,v=m[0],_=m[1],x=m[2],y=m[3],T=m[4],O=m[5],L=m[6],R=m[7],$=v.high,V=v.low,z=_.high,H=_.low,I=x.high,A=x.low,E=y.high,b=y.low,w=T.high,C=T.low,S=O.high,D=O.low,P=L.high,k=L.low,U=R.high,W=R.low,X=$,j=V,q=z,B=H,F=I,K=A,ee=E,Q=b,Z=w,J=C,ae=S,ce=D,te=P,oe=k,le=U,fe=W,pe=0;pe<80;pe++){var me,ye,we=u[pe];if(pe<16)ye=we.high=f[g+pe*2]|0,me=we.low=f[g+pe*2+1]|0;else{var De=u[pe-15],Ve=De.high,Le=De.low,$e=(Ve>>>1|Le<<31)^(Ve>>>8|Le<<24)^Ve>>>7,rt=(Le>>>1|Ve<<31)^(Le>>>8|Ve<<24)^(Le>>>7|Ve<<25),nt=u[pe-2],Je=nt.high,et=nt.low,qe=(Je>>>19|et<<13)^(Je<<3|et>>>29)^Je>>>6,Fe=(et>>>19|Je<<13)^(et<<3|Je>>>29)^(et>>>6|Je<<26),Ye=u[pe-7],tt=Ye.high,Ze=Ye.low,Vt=u[pe-16],un=Vt.high,dt=Vt.low;me=rt+Ze,ye=$e+tt+(me>>>0<rt>>>0?1:0),me=me+Fe,ye=ye+qe+(me>>>0<Fe>>>0?1:0),me=me+dt,ye=ye+un+(me>>>0<dt>>>0?1:0),we.high=ye,we.low=me}var tn=Z&ae^~Z&te,Mt=J&ce^~J&oe,Ct=X&q^X&F^q&F,xn=j&B^j&K^B&K,nn=(X>>>28|j<<4)^(X<<30|j>>>2)^(X<<25|j>>>7),ft=(j>>>28|X<<4)^(j<<30|X>>>2)^(j<<25|X>>>7),Kt=(Z>>>14|J<<18)^(Z>>>18|J<<14)^(Z<<23|J>>>9),vn=(J>>>14|Z<<18)^(J>>>18|Z<<14)^(J<<23|Z>>>9),yt=h[pe],on=yt.high,mn=yt.low,lt=fe+vn,he=le+Kt+(lt>>>0<fe>>>0?1:0),lt=lt+Mt,he=he+tn+(lt>>>0<Mt>>>0?1:0),lt=lt+mn,he=he+on+(lt>>>0<mn>>>0?1:0),lt=lt+me,he=he+ye+(lt>>>0<me>>>0?1:0),ge=ft+xn,Se=nn+Ct+(ge>>>0<ft>>>0?1:0);le=te,fe=oe,te=ae,oe=ce,ae=Z,ce=J,J=Q+lt|0,Z=ee+he+(J>>>0<Q>>>0?1:0)|0,ee=F,Q=K,F=q,K=B,q=X,B=j,j=lt+ge|0,X=he+Se+(j>>>0<lt>>>0?1:0)|0}V=v.low=V+j,v.high=$+X+(V>>>0<j>>>0?1:0),H=_.low=H+B,_.high=z+q+(H>>>0<B>>>0?1:0),A=x.low=A+K,x.high=I+F+(A>>>0<K>>>0?1:0),b=y.low=b+Q,y.high=E+ee+(b>>>0<Q>>>0?1:0),C=T.low=C+J,T.high=w+Z+(C>>>0<J>>>0?1:0),D=O.low=D+ce,O.high=S+ae+(D>>>0<ce>>>0?1:0),k=L.low=k+oe,L.high=P+te+(k>>>0<oe>>>0?1:0),W=R.low=W+fe,R.high=U+le+(W>>>0<fe>>>0?1:0)},_doFinalize:function(){var f=this._data,g=f.words,m=this._nDataBytes*8,v=f.sigBytes*8;g[v>>>5]|=128<<24-v%32,g[(v+128>>>10<<5)+30]=Math.floor(m/4294967296),g[(v+128>>>10<<5)+31]=m,f.sigBytes=g.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var f=r.clone.call(this);return f._hash=this._hash.clone(),f},blockSize:1024/32});n.SHA512=r._createHelper(p),n.HmacSHA512=r._createHmacHelper(p)}(),t.SHA512})}(lv)),lv.exports}var dv={exports:{}},o2;function SH(){return o2||(o2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),D0(),l6())})(Ge,function(t){return function(){var n=t,s=n.x64,r=s.Word,o=s.WordArray,a=n.algo,l=a.SHA512,d=a.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new r.init(3418070365,3238371032),new r.init(1654270250,914150663),new r.init(2438529370,812702999),new r.init(355462360,4144912697),new r.init(1731405415,4290775857),new r.init(2394180231,1750603025),new r.init(3675008525,1694076839),new r.init(1203062813,3204075428)])},_doFinalize:function(){var c=l._doFinalize.call(this);return c.sigBytes-=16,c}});n.SHA384=l._createHelper(d),n.HmacSHA384=l._createHmacHelper(d)}(),t.SHA384})}(dv)),dv.exports}var cv={exports:{}},a2;function EH(){return a2||(a2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),D0())})(Ge,function(t){return function(n){var s=t,r=s.lib,o=r.WordArray,a=r.Hasher,l=s.x64,d=l.Word,c=s.algo,h=[],u=[],p=[];(function(){for(var m=1,v=0,_=0;_<24;_++){h[m+5*v]=(_+1)*(_+2)/2%64;var x=v%5,y=(2*m+3*v)%5;m=x,v=y}for(var m=0;m<5;m++)for(var v=0;v<5;v++)u[m+5*v]=v+(2*m+3*v)%5*5;for(var T=1,O=0;O<24;O++){for(var L=0,R=0,$=0;$<7;$++){if(T&1){var V=(1<<$)-1;V<32?R^=1<<V:L^=1<<V-32}T&128?T=T<<1^113:T<<=1}p[O]=d.create(L,R)}})();var f=[];(function(){for(var m=0;m<25;m++)f[m]=d.create()})();var g=c.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var m=this._state=[],v=0;v<25;v++)m[v]=new d.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(m,v){for(var _=this._state,x=this.blockSize/2,y=0;y<x;y++){var T=m[v+2*y],O=m[v+2*y+1];T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360;var L=_[y];L.high^=O,L.low^=T}for(var R=0;R<24;R++){for(var $=0;$<5;$++){for(var V=0,z=0,H=0;H<5;H++){var L=_[$+5*H];V^=L.high,z^=L.low}var I=f[$];I.high=V,I.low=z}for(var $=0;$<5;$++)for(var A=f[($+4)%5],E=f[($+1)%5],b=E.high,w=E.low,V=A.high^(b<<1|w>>>31),z=A.low^(w<<1|b>>>31),H=0;H<5;H++){var L=_[$+5*H];L.high^=V,L.low^=z}for(var C=1;C<25;C++){var V,z,L=_[C],S=L.high,D=L.low,P=h[C];P<32?(V=S<<P|D>>>32-P,z=D<<P|S>>>32-P):(V=D<<P-32|S>>>64-P,z=S<<P-32|D>>>64-P);var k=f[u[C]];k.high=V,k.low=z}var U=f[0],W=_[0];U.high=W.high,U.low=W.low;for(var $=0;$<5;$++)for(var H=0;H<5;H++){var C=$+5*H,L=_[C],X=f[C],j=f[($+1)%5+5*H],q=f[($+2)%5+5*H];L.high=X.high^~j.high&q.high,L.low=X.low^~j.low&q.low}var L=_[0],B=p[R];L.high^=B.high,L.low^=B.low}},_doFinalize:function(){var m=this._data,v=m.words;this._nDataBytes*8;var _=m.sigBytes*8,x=this.blockSize*32;v[_>>>5]|=1<<24-_%32,v[(n.ceil((_+1)/x)*x>>>5)-1]|=128,m.sigBytes=v.length*4,this._process();for(var y=this._state,T=this.cfg.outputLength/8,O=T/8,L=[],R=0;R<O;R++){var $=y[R],V=$.high,z=$.low;V=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360,z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,L.push(z),L.push(V)}return new o.init(L,T)},clone:function(){for(var m=a.clone.call(this),v=m._state=this._state.slice(0),_=0;_<25;_++)v[_]=v[_].clone();return m}});s.SHA3=a._createHelper(g),s.HmacSHA3=a._createHmacHelper(g)}(Math),t.SHA3})}(cv)),cv.exports}var uv={exports:{}},l2;function IH(){return l2||(l2=1,function(i,e){(function(t,n){i.exports=n(rn())})(Ge,function(t){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var s=t,r=s.lib,o=r.WordArray,a=r.Hasher,l=s.algo,d=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),p=o.create([0,1518500249,1859775393,2400959708,2840853838]),f=o.create([1352829926,1548603684,1836072691,2053994217,0]),g=l.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(O,L){for(var R=0;R<16;R++){var $=L+R,V=O[$];O[$]=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360}var z=this._hash.words,H=p.words,I=f.words,A=d.words,E=c.words,b=h.words,w=u.words,C,S,D,P,k,U,W,X,j,q;U=C=z[0],W=S=z[1],X=D=z[2],j=P=z[3],q=k=z[4];for(var B,R=0;R<80;R+=1)B=C+O[L+A[R]]|0,R<16?B+=m(S,D,P)+H[0]:R<32?B+=v(S,D,P)+H[1]:R<48?B+=_(S,D,P)+H[2]:R<64?B+=x(S,D,P)+H[3]:B+=y(S,D,P)+H[4],B=B|0,B=T(B,b[R]),B=B+k|0,C=k,k=P,P=T(D,10),D=S,S=B,B=U+O[L+E[R]]|0,R<16?B+=y(W,X,j)+I[0]:R<32?B+=x(W,X,j)+I[1]:R<48?B+=_(W,X,j)+I[2]:R<64?B+=v(W,X,j)+I[3]:B+=m(W,X,j)+I[4],B=B|0,B=T(B,w[R]),B=B+q|0,U=q,q=j,j=T(X,10),X=W,W=B;B=z[1]+D+j|0,z[1]=z[2]+P+q|0,z[2]=z[3]+k+U|0,z[3]=z[4]+C+W|0,z[4]=z[0]+S+X|0,z[0]=B},_doFinalize:function(){var O=this._data,L=O.words,R=this._nDataBytes*8,$=O.sigBytes*8;L[$>>>5]|=128<<24-$%32,L[($+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,O.sigBytes=(L.length+1)*4,this._process();for(var V=this._hash,z=V.words,H=0;H<5;H++){var I=z[H];z[H]=(I<<8|I>>>24)&16711935|(I<<24|I>>>8)&4278255360}return V},clone:function(){var O=a.clone.call(this);return O._hash=this._hash.clone(),O}});function m(O,L,R){return O^L^R}function v(O,L,R){return O&L|~O&R}function _(O,L,R){return(O|~L)^R}function x(O,L,R){return O&R|L&~R}function y(O,L,R){return O^(L|~R)}function T(O,L){return O<<L|O>>>32-L}s.RIPEMD160=a._createHelper(g),s.HmacRIPEMD160=a._createHmacHelper(g)}(),t.RIPEMD160})}(uv)),uv.exports}var hv={exports:{}},d2;function Jw(){return d2||(d2=1,function(i,e){(function(t,n){i.exports=n(rn())})(Ge,function(t){(function(){var n=t,s=n.lib,r=s.Base,o=n.enc,a=o.Utf8,l=n.algo;l.HMAC=r.extend({init:function(d,c){d=this._hasher=new d.init,typeof c=="string"&&(c=a.parse(c));var h=d.blockSize,u=h*4;c.sigBytes>u&&(c=d.finalize(c)),c.clamp();for(var p=this._oKey=c.clone(),f=this._iKey=c.clone(),g=p.words,m=f.words,v=0;v<h;v++)g[v]^=1549556828,m[v]^=909522486;p.sigBytes=f.sigBytes=u,this.reset()},reset:function(){var d=this._hasher;d.reset(),d.update(this._iKey)},update:function(d){return this._hasher.update(d),this},finalize:function(d){var c=this._hasher,h=c.finalize(d);c.reset();var u=c.finalize(this._oKey.clone().concat(h));return u}})})()})}(hv)),hv.exports}var pv={exports:{}},c2;function TH(){return c2||(c2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Qw(),Jw())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.Base,o=s.WordArray,a=n.algo,l=a.SHA256,d=a.HMAC,c=a.PBKDF2=r.extend({cfg:r.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,u){for(var p=this.cfg,f=d.create(p.hasher,h),g=o.create(),m=o.create([1]),v=g.words,_=m.words,x=p.keySize,y=p.iterations;v.length<x;){var T=f.update(u).finalize(m);f.reset();for(var O=T.words,L=O.length,R=T,$=1;$<y;$++){R=f.finalize(R),f.reset();for(var V=R.words,z=0;z<L;z++)O[z]^=V[z]}g.concat(T),_[0]++}return g.sigBytes=x*4,g}});n.PBKDF2=function(h,u,p){return c.create(p).compute(h,u)}}(),t.PBKDF2})}(pv)),pv.exports}var fv={exports:{}},u2;function Ja(){return u2||(u2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),a6(),Jw())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.Base,o=s.WordArray,a=n.algo,l=a.MD5,d=a.EvpKDF=r.extend({cfg:r.extend({keySize:128/32,hasher:l,iterations:1}),init:function(c){this.cfg=this.cfg.extend(c)},compute:function(c,h){for(var u,p=this.cfg,f=p.hasher.create(),g=o.create(),m=g.words,v=p.keySize,_=p.iterations;m.length<v;){u&&f.update(u),u=f.update(c).finalize(h),f.reset();for(var x=1;x<_;x++)u=f.finalize(u),f.reset();g.concat(u)}return g.sigBytes=v*4,g}});n.EvpKDF=function(c,h,u){return d.create(u).compute(c,h)}}(),t.EvpKDF})}(fv)),fv.exports}var mv={exports:{}},h2;function Ci(){return h2||(h2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ja())})(Ge,function(t){t.lib.Cipher||function(n){var s=t,r=s.lib,o=r.Base,a=r.WordArray,l=r.BufferedBlockAlgorithm,d=s.enc;d.Utf8;var c=d.Base64,h=s.algo,u=h.EvpKDF,p=r.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(V,z){return this.create(this._ENC_XFORM_MODE,V,z)},createDecryptor:function(V,z){return this.create(this._DEC_XFORM_MODE,V,z)},init:function(V,z,H){this.cfg=this.cfg.extend(H),this._xformMode=V,this._key=z,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(V){return this._append(V),this._process()},finalize:function(V){V&&this._append(V);var z=this._doFinalize();return z},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function V(z){return typeof z=="string"?$:O}return function(z){return{encrypt:function(H,I,A){return V(I).encrypt(z,H,I,A)},decrypt:function(H,I,A){return V(I).decrypt(z,H,I,A)}}}}()});r.StreamCipher=p.extend({_doFinalize:function(){var V=this._process(!0);return V},blockSize:1});var f=s.mode={},g=r.BlockCipherMode=o.extend({createEncryptor:function(V,z){return this.Encryptor.create(V,z)},createDecryptor:function(V,z){return this.Decryptor.create(V,z)},init:function(V,z){this._cipher=V,this._iv=z}}),m=f.CBC=function(){var V=g.extend();V.Encryptor=V.extend({processBlock:function(H,I){var A=this._cipher,E=A.blockSize;z.call(this,H,I,E),A.encryptBlock(H,I),this._prevBlock=H.slice(I,I+E)}}),V.Decryptor=V.extend({processBlock:function(H,I){var A=this._cipher,E=A.blockSize,b=H.slice(I,I+E);A.decryptBlock(H,I),z.call(this,H,I,E),this._prevBlock=b}});function z(H,I,A){var E,b=this._iv;b?(E=b,this._iv=n):E=this._prevBlock;for(var w=0;w<A;w++)H[I+w]^=E[w]}return V}(),v=s.pad={},_=v.Pkcs7={pad:function(V,z){for(var H=z*4,I=H-V.sigBytes%H,A=I<<24|I<<16|I<<8|I,E=[],b=0;b<I;b+=4)E.push(A);var w=a.create(E,I);V.concat(w)},unpad:function(V){var z=V.words[V.sigBytes-1>>>2]&255;V.sigBytes-=z}};r.BlockCipher=p.extend({cfg:p.cfg.extend({mode:m,padding:_}),reset:function(){var V;p.reset.call(this);var z=this.cfg,H=z.iv,I=z.mode;this._xformMode==this._ENC_XFORM_MODE?V=I.createEncryptor:(V=I.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==V?this._mode.init(this,H&&H.words):(this._mode=V.call(I,this,H&&H.words),this._mode.__creator=V)},_doProcessBlock:function(V,z){this._mode.processBlock(V,z)},_doFinalize:function(){var V,z=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(z.pad(this._data,this.blockSize),V=this._process(!0)):(V=this._process(!0),z.unpad(V)),V},blockSize:128/32});var x=r.CipherParams=o.extend({init:function(V){this.mixIn(V)},toString:function(V){return(V||this.formatter).stringify(this)}}),y=s.format={},T=y.OpenSSL={stringify:function(V){var z,H=V.ciphertext,I=V.salt;return I?z=a.create([1398893684,1701076831]).concat(I).concat(H):z=H,z.toString(c)},parse:function(V){var z,H=c.parse(V),I=H.words;return I[0]==1398893684&&I[1]==1701076831&&(z=a.create(I.slice(2,4)),I.splice(0,4),H.sigBytes-=16),x.create({ciphertext:H,salt:z})}},O=r.SerializableCipher=o.extend({cfg:o.extend({format:T}),encrypt:function(V,z,H,I){I=this.cfg.extend(I);var A=V.createEncryptor(H,I),E=A.finalize(z),b=A.cfg;return x.create({ciphertext:E,key:H,iv:b.iv,algorithm:V,mode:b.mode,padding:b.padding,blockSize:V.blockSize,formatter:I.format})},decrypt:function(V,z,H,I){I=this.cfg.extend(I),z=this._parse(z,I.format);var A=V.createDecryptor(H,I).finalize(z.ciphertext);return A},_parse:function(V,z){return typeof V=="string"?z.parse(V,this):V}}),L=s.kdf={},R=L.OpenSSL={execute:function(V,z,H,I,A){if(I||(I=a.random(64/8)),A)var E=u.create({keySize:z+H,hasher:A}).compute(V,I);else var E=u.create({keySize:z+H}).compute(V,I);var b=a.create(E.words.slice(z),H*4);return E.sigBytes=z*4,x.create({key:E,iv:b,salt:I})}},$=r.PasswordBasedCipher=O.extend({cfg:O.cfg.extend({kdf:R}),encrypt:function(V,z,H,I){I=this.cfg.extend(I);var A=I.kdf.execute(H,V.keySize,V.ivSize,I.salt,I.hasher);I.iv=A.iv;var E=O.encrypt.call(this,V,z,A.key,I);return E.mixIn(A),E},decrypt:function(V,z,H,I){I=this.cfg.extend(I),z=this._parse(z,I.format);var A=I.kdf.execute(H,V.keySize,V.ivSize,z.salt,I.hasher);I.iv=A.iv;var E=O.decrypt.call(this,V,z,A.key,I);return E}})}()})}(mv)),mv.exports}var gv={exports:{}},p2;function DH(){return p2||(p2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ci())})(Ge,function(t){return t.mode.CFB=function(){var n=t.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(r,o){var a=this._cipher,l=a.blockSize;s.call(this,r,o,l,a),this._prevBlock=r.slice(o,o+l)}}),n.Decryptor=n.extend({processBlock:function(r,o){var a=this._cipher,l=a.blockSize,d=r.slice(o,o+l);s.call(this,r,o,l,a),this._prevBlock=d}});function s(r,o,a,l){var d,c=this._iv;c?(d=c.slice(0),this._iv=void 0):d=this._prevBlock,l.encryptBlock(d,0);for(var h=0;h<a;h++)r[o+h]^=d[h]}return n}(),t.mode.CFB})}(gv)),gv.exports}var _v={exports:{}},f2;function AH(){return f2||(f2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ci())})(Ge,function(t){return t.mode.CTR=function(){var n=t.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(r,o){var a=this._cipher,l=a.blockSize,d=this._iv,c=this._counter;d&&(c=this._counter=d.slice(0),this._iv=void 0);var h=c.slice(0);a.encryptBlock(h,0),c[l-1]=c[l-1]+1|0;for(var u=0;u<l;u++)r[o+u]^=h[u]}});return n.Decryptor=s,n}(),t.mode.CTR})}(_v)),_v.exports}var vv={exports:{}},m2;function kH(){return m2||(m2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ci())})(Ge,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var n=t.lib.BlockCipherMode.extend();function s(a){if((a>>24&255)===255){var l=a>>16&255,d=a>>8&255,c=a&255;l===255?(l=0,d===255?(d=0,c===255?c=0:++c):++d):++l,a=0,a+=l<<16,a+=d<<8,a+=c}else a+=1<<24;return a}function r(a){return(a[0]=s(a[0]))===0&&(a[1]=s(a[1])),a}var o=n.Encryptor=n.extend({processBlock:function(a,l){var d=this._cipher,c=d.blockSize,h=this._iv,u=this._counter;h&&(u=this._counter=h.slice(0),this._iv=void 0),r(u);var p=u.slice(0);d.encryptBlock(p,0);for(var f=0;f<c;f++)a[l+f]^=p[f]}});return n.Decryptor=o,n}(),t.mode.CTRGladman})}(vv)),vv.exports}var xv={exports:{}},g2;function OH(){return g2||(g2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ci())})(Ge,function(t){return t.mode.OFB=function(){var n=t.lib.BlockCipherMode.extend(),s=n.Encryptor=n.extend({processBlock:function(r,o){var a=this._cipher,l=a.blockSize,d=this._iv,c=this._keystream;d&&(c=this._keystream=d.slice(0),this._iv=void 0),a.encryptBlock(c,0);for(var h=0;h<l;h++)r[o+h]^=c[h]}});return n.Decryptor=s,n}(),t.mode.OFB})}(xv)),xv.exports}var bv={exports:{}},_2;function RH(){return _2||(_2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ci())})(Ge,function(t){return t.mode.ECB=function(){var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(s,r){this._cipher.encryptBlock(s,r)}}),n.Decryptor=n.extend({processBlock:function(s,r){this._cipher.decryptBlock(s,r)}}),n}(),t.mode.ECB})}(bv)),bv.exports}var yv={exports:{}},v2;function PH(){return v2||(v2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ci())})(Ge,function(t){return t.pad.AnsiX923={pad:function(n,s){var r=n.sigBytes,o=s*4,a=o-r%o,l=r+a-1;n.clamp(),n.words[l>>>2]|=a<<24-l%4*8,n.sigBytes+=a},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},t.pad.Ansix923})}(yv)),yv.exports}var Cv={exports:{}},x2;function MH(){return x2||(x2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ci())})(Ge,function(t){return t.pad.Iso10126={pad:function(n,s){var r=s*4,o=r-n.sigBytes%r;n.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(n){var s=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=s}},t.pad.Iso10126})}(Cv)),Cv.exports}var wv={exports:{}},b2;function FH(){return b2||(b2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ci())})(Ge,function(t){return t.pad.Iso97971={pad:function(n,s){n.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(n,s)},unpad:function(n){t.pad.ZeroPadding.unpad(n),n.sigBytes--}},t.pad.Iso97971})}(wv)),wv.exports}var Sv={exports:{}},y2;function BH(){return y2||(y2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ci())})(Ge,function(t){return t.pad.ZeroPadding={pad:function(n,s){var r=s*4;n.clamp(),n.sigBytes+=r-(n.sigBytes%r||r)},unpad:function(n){for(var s=n.words,r=n.sigBytes-1,r=n.sigBytes-1;r>=0;r--)if(s[r>>>2]>>>24-r%4*8&255){n.sigBytes=r+1;break}}},t.pad.ZeroPadding})}(Sv)),Sv.exports}var Ev={exports:{}},C2;function NH(){return C2||(C2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ci())})(Ge,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(Ev)),Ev.exports}var Iv={exports:{}},w2;function VH(){return w2||(w2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),Ci())})(Ge,function(t){return function(n){var s=t,r=s.lib,o=r.CipherParams,a=s.enc,l=a.Hex,d=s.format;d.Hex={stringify:function(c){return c.ciphertext.toString(l)},parse:function(c){var h=l.parse(c);return o.create({ciphertext:h})}}}(),t.format.Hex})}(Iv)),Iv.exports}var Tv={exports:{}},S2;function LH(){return S2||(S2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),id(),sd(),Ja(),Ci())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.BlockCipher,o=n.algo,a=[],l=[],d=[],c=[],h=[],u=[],p=[],f=[],g=[],m=[];(function(){for(var x=[],y=0;y<256;y++)y<128?x[y]=y<<1:x[y]=y<<1^283;for(var T=0,O=0,y=0;y<256;y++){var L=O^O<<1^O<<2^O<<3^O<<4;L=L>>>8^L&255^99,a[T]=L,l[L]=T;var R=x[T],$=x[R],V=x[$],z=x[L]*257^L*16843008;d[T]=z<<24|z>>>8,c[T]=z<<16|z>>>16,h[T]=z<<8|z>>>24,u[T]=z;var z=V*16843009^$*65537^R*257^T*16843008;p[L]=z<<24|z>>>8,f[L]=z<<16|z>>>16,g[L]=z<<8|z>>>24,m[L]=z,T?(T=R^x[x[x[V^R]]],O^=x[x[O]]):T=O=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=r.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var y=this._keyPriorReset=this._key,T=y.words,O=y.sigBytes/4,L=this._nRounds=O+6,R=(L+1)*4,$=this._keySchedule=[],V=0;V<R;V++)V<O?$[V]=T[V]:(x=$[V-1],V%O?O>6&&V%O==4&&(x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255]):(x=x<<8|x>>>24,x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255],x^=v[V/O|0]<<24),$[V]=$[V-O]^x);for(var z=this._invKeySchedule=[],H=0;H<R;H++){var V=R-H;if(H%4)var x=$[V];else var x=$[V-4];H<4||V<=4?z[H]=x:z[H]=p[a[x>>>24]]^f[a[x>>>16&255]]^g[a[x>>>8&255]]^m[a[x&255]]}}},encryptBlock:function(x,y){this._doCryptBlock(x,y,this._keySchedule,d,c,h,u,a)},decryptBlock:function(x,y){var T=x[y+1];x[y+1]=x[y+3],x[y+3]=T,this._doCryptBlock(x,y,this._invKeySchedule,p,f,g,m,l);var T=x[y+1];x[y+1]=x[y+3],x[y+3]=T},_doCryptBlock:function(x,y,T,O,L,R,$,V){for(var z=this._nRounds,H=x[y]^T[0],I=x[y+1]^T[1],A=x[y+2]^T[2],E=x[y+3]^T[3],b=4,w=1;w<z;w++){var C=O[H>>>24]^L[I>>>16&255]^R[A>>>8&255]^$[E&255]^T[b++],S=O[I>>>24]^L[A>>>16&255]^R[E>>>8&255]^$[H&255]^T[b++],D=O[A>>>24]^L[E>>>16&255]^R[H>>>8&255]^$[I&255]^T[b++],P=O[E>>>24]^L[H>>>16&255]^R[I>>>8&255]^$[A&255]^T[b++];H=C,I=S,A=D,E=P}var C=(V[H>>>24]<<24|V[I>>>16&255]<<16|V[A>>>8&255]<<8|V[E&255])^T[b++],S=(V[I>>>24]<<24|V[A>>>16&255]<<16|V[E>>>8&255]<<8|V[H&255])^T[b++],D=(V[A>>>24]<<24|V[E>>>16&255]<<16|V[H>>>8&255]<<8|V[I&255])^T[b++],P=(V[E>>>24]<<24|V[H>>>16&255]<<16|V[I>>>8&255]<<8|V[A&255])^T[b++];x[y]=C,x[y+1]=S,x[y+2]=D,x[y+3]=P},keySize:256/32});n.AES=r._createHelper(_)}(),t.AES})}(Tv)),Tv.exports}var Dv={exports:{}},E2;function $H(){return E2||(E2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),id(),sd(),Ja(),Ci())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.WordArray,o=s.BlockCipher,a=n.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=a.DES=o.extend({_doReset:function(){for(var v=this._key,_=v.words,x=[],y=0;y<56;y++){var T=l[y]-1;x[y]=_[T>>>5]>>>31-T%32&1}for(var O=this._subKeys=[],L=0;L<16;L++){for(var R=O[L]=[],$=c[L],y=0;y<24;y++)R[y/6|0]|=x[(d[y]-1+$)%28]<<31-y%6,R[4+(y/6|0)]|=x[28+(d[y+24]-1+$)%28]<<31-y%6;R[0]=R[0]<<1|R[0]>>>31;for(var y=1;y<7;y++)R[y]=R[y]>>>(y-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var V=this._invSubKeys=[],y=0;y<16;y++)V[y]=O[15-y]},encryptBlock:function(v,_){this._doCryptBlock(v,_,this._subKeys)},decryptBlock:function(v,_){this._doCryptBlock(v,_,this._invSubKeys)},_doCryptBlock:function(v,_,x){this._lBlock=v[_],this._rBlock=v[_+1],f.call(this,4,252645135),f.call(this,16,65535),g.call(this,2,858993459),g.call(this,8,16711935),f.call(this,1,1431655765);for(var y=0;y<16;y++){for(var T=x[y],O=this._lBlock,L=this._rBlock,R=0,$=0;$<8;$++)R|=h[$][((L^T[$])&u[$])>>>0];this._lBlock=L,this._rBlock=O^R}var V=this._lBlock;this._lBlock=this._rBlock,this._rBlock=V,f.call(this,1,1431655765),g.call(this,8,16711935),g.call(this,2,858993459),f.call(this,16,65535),f.call(this,4,252645135),v[_]=this._lBlock,v[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function f(v,_){var x=(this._lBlock>>>v^this._rBlock)&_;this._rBlock^=x,this._lBlock^=x<<v}function g(v,_){var x=(this._rBlock>>>v^this._lBlock)&_;this._lBlock^=x,this._rBlock^=x<<v}n.DES=o._createHelper(p);var m=a.TripleDES=o.extend({_doReset:function(){var v=this._key,_=v.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=_.slice(0,2),y=_.length<4?_.slice(0,2):_.slice(2,4),T=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=p.createEncryptor(r.create(x)),this._des2=p.createEncryptor(r.create(y)),this._des3=p.createEncryptor(r.create(T))},encryptBlock:function(v,_){this._des1.encryptBlock(v,_),this._des2.decryptBlock(v,_),this._des3.encryptBlock(v,_)},decryptBlock:function(v,_){this._des3.decryptBlock(v,_),this._des2.encryptBlock(v,_),this._des1.decryptBlock(v,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(m)}(),t.TripleDES})}(Dv)),Dv.exports}var Av={exports:{}},I2;function HH(){return I2||(I2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),id(),sd(),Ja(),Ci())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.StreamCipher,o=n.algo,a=o.RC4=r.extend({_doReset:function(){for(var c=this._key,h=c.words,u=c.sigBytes,p=this._S=[],f=0;f<256;f++)p[f]=f;for(var f=0,g=0;f<256;f++){var m=f%u,v=h[m>>>2]>>>24-m%4*8&255;g=(g+p[f]+v)%256;var _=p[f];p[f]=p[g],p[g]=_}this._i=this._j=0},_doProcessBlock:function(c,h){c[h]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var c=this._S,h=this._i,u=this._j,p=0,f=0;f<4;f++){h=(h+1)%256,u=(u+c[h])%256;var g=c[h];c[h]=c[u],c[u]=g,p|=c[(c[h]+c[u])%256]<<24-f*8}return this._i=h,this._j=u,p}n.RC4=r._createHelper(a);var d=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var c=this.cfg.drop;c>0;c--)l.call(this)}});n.RC4Drop=r._createHelper(d)}(),t.RC4})}(Av)),Av.exports}var kv={exports:{}},T2;function jH(){return T2||(T2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),id(),sd(),Ja(),Ci())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.StreamCipher,o=n.algo,a=[],l=[],d=[],c=o.Rabbit=r.extend({_doReset:function(){for(var u=this._key.words,p=this.cfg.iv,f=0;f<4;f++)u[f]=(u[f]<<8|u[f]>>>24)&16711935|(u[f]<<24|u[f]>>>8)&4278255360;var g=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],m=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var f=0;f<4;f++)h.call(this);for(var f=0;f<8;f++)m[f]^=g[f+4&7];if(p){var v=p.words,_=v[0],x=v[1],y=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,T=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,O=y>>>16|T&4294901760,L=T<<16|y&65535;m[0]^=y,m[1]^=O,m[2]^=T,m[3]^=L,m[4]^=y,m[5]^=O,m[6]^=T,m[7]^=L;for(var f=0;f<4;f++)h.call(this)}},_doProcessBlock:function(u,p){var f=this._X;h.call(this),a[0]=f[0]^f[5]>>>16^f[3]<<16,a[1]=f[2]^f[7]>>>16^f[5]<<16,a[2]=f[4]^f[1]>>>16^f[7]<<16,a[3]=f[6]^f[3]>>>16^f[1]<<16;for(var g=0;g<4;g++)a[g]=(a[g]<<8|a[g]>>>24)&16711935|(a[g]<<24|a[g]>>>8)&4278255360,u[p+g]^=a[g]},blockSize:128/32,ivSize:64/32});function h(){for(var u=this._X,p=this._C,f=0;f<8;f++)l[f]=p[f];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var f=0;f<8;f++){var g=u[f]+p[f],m=g&65535,v=g>>>16,_=((m*m>>>17)+m*v>>>15)+v*v,x=((g&4294901760)*g|0)+((g&65535)*g|0);d[f]=_^x}u[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,u[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,u[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,u[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,u[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,u[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,u[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,u[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}n.Rabbit=r._createHelper(c)}(),t.Rabbit})}(kv)),kv.exports}var Ov={exports:{}},D2;function zH(){return D2||(D2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),id(),sd(),Ja(),Ci())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.StreamCipher,o=n.algo,a=[],l=[],d=[],c=o.RabbitLegacy=r.extend({_doReset:function(){var u=this._key.words,p=this.cfg.iv,f=this._X=[u[0],u[3]<<16|u[2]>>>16,u[1],u[0]<<16|u[3]>>>16,u[2],u[1]<<16|u[0]>>>16,u[3],u[2]<<16|u[1]>>>16],g=this._C=[u[2]<<16|u[2]>>>16,u[0]&4294901760|u[1]&65535,u[3]<<16|u[3]>>>16,u[1]&4294901760|u[2]&65535,u[0]<<16|u[0]>>>16,u[2]&4294901760|u[3]&65535,u[1]<<16|u[1]>>>16,u[3]&4294901760|u[0]&65535];this._b=0;for(var m=0;m<4;m++)h.call(this);for(var m=0;m<8;m++)g[m]^=f[m+4&7];if(p){var v=p.words,_=v[0],x=v[1],y=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,T=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,O=y>>>16|T&4294901760,L=T<<16|y&65535;g[0]^=y,g[1]^=O,g[2]^=T,g[3]^=L,g[4]^=y,g[5]^=O,g[6]^=T,g[7]^=L;for(var m=0;m<4;m++)h.call(this)}},_doProcessBlock:function(u,p){var f=this._X;h.call(this),a[0]=f[0]^f[5]>>>16^f[3]<<16,a[1]=f[2]^f[7]>>>16^f[5]<<16,a[2]=f[4]^f[1]>>>16^f[7]<<16,a[3]=f[6]^f[3]>>>16^f[1]<<16;for(var g=0;g<4;g++)a[g]=(a[g]<<8|a[g]>>>24)&16711935|(a[g]<<24|a[g]>>>8)&4278255360,u[p+g]^=a[g]},blockSize:128/32,ivSize:64/32});function h(){for(var u=this._X,p=this._C,f=0;f<8;f++)l[f]=p[f];p[0]=p[0]+1295307597+this._b|0,p[1]=p[1]+3545052371+(p[0]>>>0<l[0]>>>0?1:0)|0,p[2]=p[2]+886263092+(p[1]>>>0<l[1]>>>0?1:0)|0,p[3]=p[3]+1295307597+(p[2]>>>0<l[2]>>>0?1:0)|0,p[4]=p[4]+3545052371+(p[3]>>>0<l[3]>>>0?1:0)|0,p[5]=p[5]+886263092+(p[4]>>>0<l[4]>>>0?1:0)|0,p[6]=p[6]+1295307597+(p[5]>>>0<l[5]>>>0?1:0)|0,p[7]=p[7]+3545052371+(p[6]>>>0<l[6]>>>0?1:0)|0,this._b=p[7]>>>0<l[7]>>>0?1:0;for(var f=0;f<8;f++){var g=u[f]+p[f],m=g&65535,v=g>>>16,_=((m*m>>>17)+m*v>>>15)+v*v,x=((g&4294901760)*g|0)+((g&65535)*g|0);d[f]=_^x}u[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,u[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,u[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,u[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,u[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,u[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,u[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,u[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}n.RabbitLegacy=r._createHelper(c)}(),t.RabbitLegacy})}(Ov)),Ov.exports}var Rv={exports:{}},A2;function WH(){return A2||(A2=1,function(i,e){(function(t,n,s){i.exports=n(rn(),id(),sd(),Ja(),Ci())})(Ge,function(t){return function(){var n=t,s=n.lib,r=s.BlockCipher,o=n.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],d=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var c={pbox:[],sbox:[]};function h(m,v){let _=v>>24&255,x=v>>16&255,y=v>>8&255,T=v&255,O=m.sbox[0][_]+m.sbox[1][x];return O=O^m.sbox[2][y],O=O+m.sbox[3][T],O}function u(m,v,_){let x=v,y=_,T;for(let O=0;O<a;++O)x=x^m.pbox[O],y=h(m,x)^y,T=x,x=y,y=T;return T=x,x=y,y=T,y=y^m.pbox[a],x=x^m.pbox[a+1],{left:x,right:y}}function p(m,v,_){let x=v,y=_,T;for(let O=a+1;O>1;--O)x=x^m.pbox[O],y=h(m,x)^y,T=x,x=y,y=T;return T=x,x=y,y=T,y=y^m.pbox[1],x=x^m.pbox[0],{left:x,right:y}}function f(m,v,_){for(let L=0;L<4;L++){m.sbox[L]=[];for(let R=0;R<256;R++)m.sbox[L][R]=d[L][R]}let x=0;for(let L=0;L<a+2;L++)m.pbox[L]=l[L]^v[x],x++,x>=_&&(x=0);let y=0,T=0,O=0;for(let L=0;L<a+2;L+=2)O=u(m,y,T),y=O.left,T=O.right,m.pbox[L]=y,m.pbox[L+1]=T;for(let L=0;L<4;L++)for(let R=0;R<256;R+=2)O=u(m,y,T),y=O.left,T=O.right,m.sbox[L][R]=y,m.sbox[L][R+1]=T;return!0}var g=o.Blowfish=r.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var m=this._keyPriorReset=this._key,v=m.words,_=m.sigBytes/4;f(c,v,_)}},encryptBlock:function(m,v){var _=u(c,m[v],m[v+1]);m[v]=_.left,m[v+1]=_.right},decryptBlock:function(m,v){var _=p(c,m[v],m[v+1]);m[v]=_.left,m[v+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=r._createHelper(g)}(),t.Blowfish})}(Rv)),Rv.exports}(function(i,e){(function(t,n,s){i.exports=n(rn(),D0(),bH(),yH(),id(),CH(),sd(),a6(),Qw(),wH(),l6(),SH(),EH(),IH(),Jw(),TH(),Ja(),Ci(),DH(),AH(),kH(),OH(),RH(),PH(),MH(),FH(),BH(),NH(),VH(),LH(),$H(),HH(),jH(),zH(),WH())})(Ge,function(t){return t})})(o6);var UH=o6.exports;const KH=uO(UH),GH=i=>{try{return KH.SHA1(i).toString()}catch(e){throw console.error("Password encryption error:",e),new Error("Failed to encrypt password")}},d6=ne.createContext(),pp=()=>{const i=ne.useContext(d6);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i},qH=({children:i})=>{const[e,t]=ne.useState(null),[n,s]=ne.useState(!0);ne.useEffect(()=>{(()=>{try{const d=localStorage.getItem("saf_admin_user"),c=localStorage.getItem("saf_admin_token");d&&c&&t(JSON.parse(d))}catch(d){console.error("Error checking auth:",d),localStorage.removeItem("saf_admin_user"),localStorage.removeItem("saf_admin_token")}finally{s(!1)}})()},[]);const a={user:e,loading:n,login:async l=>{var d,c,h,u,p,f,g,m,v,_,x;try{const{username:y,password:T,captcha:O,captchaID:L}=l,R=GH(T),$=await Bh.post("/login",{username:y,password:R,captcha:O,captchaID:L,app:"web"});if(console.log("=== LOGIN RESPONSE ==="),console.log("Full response:",$),console.log("Response data:",$.data),console.log("Response status:",(d=$.data)==null?void 0:d.status),$.data&&$.data.status===200&&$.data.data){const V=$.data.data;console.log("Response data.data:",V),console.log("Assigned Profiles:",V.assignedProfiles),console.log("Home Page URL:",(c=V.assignedProfiles)==null?void 0:c.mnu_home_pg);const z={usr_id:V.user.usr_id,username:V.user.usr_nm,email:V.user.eml_tx,fullName:`${V.user.fst_nm||""} ${V.user.lst_nm||""}`.trim(),firstName:V.user.fst_nm,lastName:V.user.lst_nm,role:((h=V.user.roles)==null?void 0:h.rle_nm)||"User",roleId:(u=V.user.roles)==null?void 0:u.rle_id,isAdmin:((p=V.user.roles)==null?void 0:p.admn_rle_in)===1,designation:((f=V.user.dsgns)==null?void 0:f.dsgns_nm)||null,designationId:((g=V.user.dsgns)==null?void 0:g.dsgns_id)||null,clnt_id:V.user.clnt_id,tnt_id:V.user.tnt_id,a_in:V.user.a_in,clients:V.clnts||[],assignedProfiles:V.assignedProfiles||{},qrcode:V.qrcode,loginTime:new Date().toISOString()},H=$.headers["x-access-token"];console.log("JWT Token:",H),console.log("=== SAVING TO LOCALSTORAGE ==="),console.log("User data:",z),t(z),localStorage.setItem("saf_admin_user",JSON.stringify(z)),localStorage.setItem("saf_admin_clients",JSON.stringify(V.clnts||[])),localStorage.setItem("saf_admin_profiles",JSON.stringify(V.assignedProfiles||{})),H&&localStorage.setItem("saf_admin_token",H),console.log("LocalStorage saf_admin_user:",localStorage.getItem("saf_admin_user")),console.log("LocalStorage saf_admin_profiles:",localStorage.getItem("saf_admin_profiles"));const I=((m=V.assignedProfiles)==null?void 0:m.mnu_home_pg)||"/dashboard";console.log("Home Page URL to return:",I);const A={success:!0,data:z,homePageUrl:I};return console.log("=== RETURNING RESULT ===",A),A}else return{success:!1,error:((v=$.data)==null?void 0:v.message)||"Login failed. Please try again."}}catch(y){return console.error("Login error:",y),y.response?{success:!1,error:((_=y.response.data)==null?void 0:_.message)||((x=y.response.data)==null?void 0:x.err_message)||"Invalid credentials. Please try again."}:y.request?{success:!1,error:"Cannot connect to server. Please check if the server is running."}:{success:!1,error:"An error occurred during login. Please try again."}}},logout:async()=>{try{await Bh.get("/logout")}catch(l){console.error("Logout error:",l)}finally{t(null),localStorage.removeItem("saf_admin_user"),localStorage.removeItem("saf_admin_token")}},isAuthenticated:!!e};return N.jsx(d6.Provider,{value:a,children:i})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var YH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Nn=(i,e)=>{const t=ne.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:l,...d},c)=>ne.createElement("svg",{ref:c,...YH,width:s,height:s,stroke:n,strokeWidth:o?Number(r)*24/Number(s):r,className:["lucide",`lucide-${XH(i)}`,a].join(" "),...d},[...e.map(([h,u])=>ne.createElement(h,u)),...Array.isArray(l)?l:[l]]));return t.displayName=`${i}`,t};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=Nn("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=Nn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=Nn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=Nn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=Nn("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=Nn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=Nn("FileBarChart",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Nn("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Nn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=Nn("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nj=Nn("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=Nn("IndianRupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=Nn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k2=Nn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=Nn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=Nn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=Nn("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Nn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Nn("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=Nn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=Nn("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=Nn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=Nn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=Nn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Nn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=Nn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),lj=()=>{const i=Gw(),{login:e,isAuthenticated:t}=pp(),[n,s]=ne.useState({username:"",password:"",captcha:""}),[r,o]=ne.useState({}),[a,l]=ne.useState(!1),[d,c]=ne.useState(!1),[h,u]=ne.useState(""),[p,f]=ne.useState({image:"",id:null,saltKey:""});ne.useEffect(()=>{t&&i("/dashboard",{replace:!0})},[t,i]),ne.useEffect(()=>{g()},[]);const g=async()=>{try{const x=await Bh.get("/login/captcha");x.data&&x.data.status===200&&x.data.data?(f({image:x.data.data.data,id:x.data.data.cptch_id,saltKey:x.data.data.salt_ky}),s(y=>({...y,captcha:""}))):u("Failed to load captcha. Please refresh the page.")}catch(x){console.error("Captcha generation error:",x),u("Cannot connect to server. Please check if the server is running on port 4901.")}},m=x=>{const{name:y,value:T}=x.target;s(O=>({...O,[y]:T})),r[y]&&o(O=>({...O,[y]:""})),u("")},v=()=>{const x={};return n.username.trim()||(x.username="Username is required"),n.password||(x.password="Password is required"),n.captcha.trim()||(x.captcha="Captcha is required"),!p.id||!p.saltKey?(u("Captcha not loaded. Please refresh the page."),!1):(o(x),Object.keys(x).length===0)},_=async x=>{if(x.preventDefault(),u(""),!!v()){c(!0);try{const y=await e({username:n.username,password:n.password,captcha:n.captcha,captchaID:p.id});if(console.log("=== LOGIN RESULT IN LOGIN.JSX ===",y),y.success){const T=y.homePageUrl||"/dashboard";console.log("Home URL:",T);const O="/"+T.replace(/^\/+/,"");console.log("Final navigation URL:",O),i(O,{replace:!0})}else console.error("Login failed:",y.error),u(y.error),g()}catch{u("An unexpected error occurred. Please try again."),g()}finally{c(!1)}}};return N.jsxs("div",{className:"min-h-screen flex",children:[N.jsxs("div",{className:"hidden lg:flex lg:w-2/3 bg-gradient-to-br from-saf-red-600 via-saf-red-700 to-saf-maroon-800 relative overflow-hidden",children:[N.jsx("ul",{className:"floating-shapes absolute inset-0 z-0",children:[...Array(10)].map((x,y)=>N.jsx("li",{},y))}),N.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center w-full text-white px-12",children:N.jsxs("div",{className:"text-center max-w-2xl",children:[N.jsx("div",{className:"mb-8",children:N.jsx("div",{className:"w-32 h-32 mx-auto bg-white rounded-full flex items-center justify-center shadow-2xl",children:N.jsx(O2,{className:"w-20 h-20 text-saf-red-700"})})}),N.jsx("h1",{className:"text-5xl font-bold mb-4 text-white drop-shadow-lg",children:"Welcome to"}),N.jsx("h2",{className:"text-6xl font-bold mb-6 gradient-text-white",children:"SAF Admin Portal"}),N.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Settibalija Action Force Management System"}),N.jsx("div",{className:"inline-block px-8 py-3 bg-white/10 backdrop-blur-sm rounded-full border border-white/20",children:N.jsx("p",{className:"text-sm font-semibold",children:"Secure  Reliable  Professional"})})]})}),N.jsx("div",{className:"absolute bottom-0 left-0 right-0",children:N.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1440 320",className:"w-full",children:N.jsx("path",{fill:"rgba(255,255,255,0.1)",fillOpacity:"1",d:"M0,96L48,112C96,128,192,160,288,160C384,160,480,128,576,122.7C672,117,768,139,864,138.7C960,139,1056,117,1152,106.7C1248,96,1344,96,1392,96L1440,96L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"})})})]}),N.jsx("div",{className:"w-full lg:w-1/3 flex items-center justify-center p-8 bg-gray-50 relative",children:N.jsxs("div",{className:"w-full max-w-md",children:[N.jsxs("div",{className:"lg:hidden text-center mb-8",children:[N.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-saf-red-600 to-saf-red-700 rounded-full flex items-center justify-center shadow-lg",children:N.jsx(O2,{className:"w-12 h-12 text-white"})}),N.jsx("h2",{className:"text-2xl font-bold text-saf-dark-900 mt-4",children:"SAF Admin"})]}),N.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100",children:[N.jsxs("div",{className:"text-center mb-8",children:[N.jsx("h3",{className:"text-3xl font-bold text-saf-dark-900 mb-2",children:"Login"}),N.jsx("p",{className:"text-saf-dark-600",children:"Enter your credentials to access the portal"})]}),h&&N.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:N.jsx("p",{className:"text-sm text-red-700 font-medium",children:h})}),N.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[N.jsx("p",{className:"text-xs text-blue-800 font-semibold mb-2",children:"Server Connection:"}),N.jsx("p",{className:"text-xs text-blue-700",children:p.id?N.jsx("span",{className:"text-green-700 font-semibold",children:" Connected to backend"}):N.jsx("span",{className:"text-red-700 font-semibold",children:" Server not responding"})}),N.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"API: https://settibalijaactionforce.com"})]}),N.jsxs("form",{onSubmit:_,className:"space-y-5",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-saf-dark-700 mb-2",children:"Username"}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsx(h6,{className:"h-5 w-5 text-saf-dark-400"})}),N.jsx("input",{type:"text",name:"username",value:n.username,onChange:m,className:`input-field pl-10 ${r.username?"input-error":""}`,placeholder:"Enter your username"})]}),r.username&&N.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.username})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-saf-dark-700 mb-2",children:"Password"}),N.jsxs("div",{className:"relative",children:[N.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:N.jsx(k2,{className:"h-5 w-5 text-saf-dark-400"})}),N.jsx("input",{type:a?"text":"password",name:"password",value:n.password,onChange:m,className:`input-field pl-10 pr-10 ${r.password?"input-error":""}`,placeholder:"Enter your password"}),N.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a?N.jsx(ej,{className:"h-5 w-5 text-saf-dark-400 hover:text-saf-dark-600"}):N.jsx(Nh,{className:"h-5 w-5 text-saf-dark-400 hover:text-saf-dark-600"})})]}),r.password&&N.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.password})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-saf-dark-700 mb-2",children:"Captcha Verification"}),N.jsxs("div",{className:"flex gap-2 mb-3",children:[N.jsx("div",{className:"flex-1 h-14 bg-white rounded-lg flex items-center justify-center border-2 border-saf-dark-300 overflow-hidden",children:p.image?N.jsx("img",{src:p.image,alt:"Captcha",className:"w-full h-full object-contain"}):N.jsx("span",{className:"text-sm text-gray-500",children:"Loading captcha..."})}),N.jsx("button",{type:"button",onClick:g,disabled:d,className:"px-4 bg-saf-red-600 text-white rounded-lg hover:bg-saf-red-700 transition-colors duration-200 flex items-center justify-center disabled:opacity-50",title:"Refresh Captcha",children:N.jsx(Ul,{className:`h-5 w-5 ${d?"animate-spin":""}`})})]}),N.jsx("input",{type:"text",name:"captcha",value:n.captcha,onChange:m,className:`input-field ${r.captcha?"input-error":""}`,placeholder:"Enter the captcha code"}),r.captcha&&N.jsx("p",{className:"mt-1 text-xs text-red-600",children:r.captcha})]}),N.jsx("button",{type:"submit",disabled:d,className:"w-full btn-primary h-12 text-base font-bold flex items-center justify-center gap-2",children:d?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Logging in..."]}):N.jsxs(N.Fragment,{children:[N.jsx(k2,{className:"h-5 w-5"}),"Login to Portal"]})})]}),N.jsx("div",{className:"mt-6 text-center",children:N.jsx("a",{href:"#",className:"text-sm text-saf-red-600 hover:text-saf-red-700 font-semibold hover:underline",children:"Forgot Password?"})})]}),N.jsx("div",{className:"mt-8 text-center",children:N.jsx("p",{className:"text-xs text-saf-dark-500",children:" 2026 Settibalija Action Force. All rights reserved."})})]})})]})},dj=({sidebarOpen:i,setSidebarOpen:e})=>{const{user:t,logout:n}=pp(),[s,r]=ne.useState(!1),[o,a]=ne.useState(!1),l=ne.useRef(null),d=ne.useRef(null),c=p=>{if(!p)return"N/A";try{const f=new Date(p),g=String(f.getDate()).padStart(2,"0"),m=String(f.getMonth()+1).padStart(2,"0"),v=f.getFullYear(),_=String(f.getHours()).padStart(2,"0"),x=String(f.getMinutes()).padStart(2,"0"),y=String(f.getSeconds()).padStart(2,"0");return`${g}-${m}-${v} ${_}:${x}:${y}`}catch{return"N/A"}};ne.useEffect(()=>{const p=f=>{l.current&&!l.current.contains(f.target)&&r(!1),d.current&&!d.current.contains(f.target)&&a(!1)};return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);const h=()=>{window.confirm("Are you sure you want to logout?")&&n()},u=()=>t!=null&&t.fullName?t.fullName.charAt(0).toUpperCase():t!=null&&t.username?t.username.charAt(0).toUpperCase():"U";return N.jsx("header",{className:"sticky top-0 bg-gradient-to-r from-red-600 to-amber-600 border-b border-amber-300 z-50 shadow-lg",children:N.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[N.jsxs("div",{className:"flex items-center gap-3 lg:gap-4",children:[N.jsx("button",{onClick:()=>e(!i),className:"text-white hover:bg-white/20 rounded-lg p-2 transition-colors lg:hidden flex-shrink-0","aria-label":"Toggle sidebar",children:i?N.jsx(Oa,{className:"h-6 w-6"}):N.jsx(oj,{className:"h-6 w-6"})}),N.jsx("div",{className:"flex-shrink-0",children:N.jsx("img",{src:"/assets/saf_logo.jpeg",alt:"SAF Logo",className:"w-16 h-16 rounded object-cover border-2 border-white/30 shadow-md",onError:p=>{if(p.target.src.includes("/assets/"))p.target.src="/saf_logo.jpeg";else{p.target.style.display="none";const f=document.createElement("div");f.className="w-16 h-16 rounded bg-white/20 flex items-center justify-center text-white font-bold text-lg border-2 border-white/30 shadow-md",f.textContent="SAF",p.target.parentNode.appendChild(f)}}})}),N.jsx("div",{className:"hidden sm:block",children:N.jsx("div",{className:"text-xl font-semibold drop-shadow-md text-white",style:{color:"#ffffff !important",WebkitTextFillColor:"#ffffff !important"},children:"Settibalija Action Force Management"})})]}),N.jsxs("div",{className:"relative",children:[N.jsxs("button",{onClick:()=>r(!s),className:"group flex items-center space-x-2 p-2 rounded-md !text-white hover:!bg-white/20 hover:!text-black transition-all duration-200",children:[N.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-yellow-500 rounded-full flex items-center justify-center text-white font-medium text-sm shadow-md",children:u()}),N.jsx("span",{className:"hidden sm:block text-sm font-medium !text-white group-hover:!text-black drop-shadow-sm",children:(t==null?void 0:t.fullName)||(t==null?void 0:t.username)||"User"}),N.jsx(JH,{className:`h-4 w-4 !text-white group-hover:!text-black transition-transform duration-200 ${s?"rotate-180":""}`})]}),s&&N.jsx("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-800 rounded-md shadow-lg border border-gray-200 dark:border-gray-700 z-[100] animate-fade-in",children:N.jsxs("div",{className:"py-1",children:[N.jsxs("div",{className:"px-4 py-3 text-sm text-gray-700 dark:text-gray-300 border-b border-gray-200 dark:border-gray-700",children:[N.jsx("div",{className:"font-medium text-gray-900 dark:text-white text-base",children:(t==null?void 0:t.fullName)||(t==null?void 0:t.username)||"User"}),N.jsx("div",{className:"text-gray-600 dark:text-gray-400 text-xs mt-1 font-medium",children:(t==null?void 0:t.role)||(t==null?void 0:t.designation)||"Administrator"}),N.jsx("div",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1",children:(t==null?void 0:t.email)||"No email"}),N.jsxs("div",{className:"text-gray-500 dark:text-gray-400 text-xs mt-1",children:["Last Login: ",c(t==null?void 0:t.loginTime)]})]}),N.jsxs("div",{className:"py-1",children:[N.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700 flex items-center gap-2",children:[N.jsx(h6,{className:"h-4 w-4"}),"My Profile"]}),N.jsxs("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700 flex items-center gap-2",children:[N.jsx(aj,{className:"h-4 w-4"}),"Settings"]}),N.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 mt-1 pt-1",children:N.jsxs("button",{onClick:h,className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:text-red-400 dark:hover:bg-red-900/20 flex items-center gap-2",children:[N.jsx(rj,{className:"h-4 w-4"}),"Logout"]})})]})]})})]})]})})},cj=({sidebarOpen:i,setSidebarOpen:e})=>{const t=[{name:"Dashboard",icon:sj,path:"/dashboard",color:"text-blue-600"},{name:"SAF Members",icon:fc,path:"/dashboard/members",color:"text-saf-red-600"},{name:"SAF Updates",icon:pc,path:"/dashboard/updates",color:"text-saf-red-600"},{name:"SAF Donations",icon:mg,path:"/dashboard/donations",color:"text-saf-red-600"},{name:"Reports",icon:tj,path:"/dashboard/reports",color:"text-saf-red-600"}];return N.jsxs(N.Fragment,{children:[i&&N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 lg:hidden",onClick:()=>e(!1)}),N.jsx("aside",{className:`fixed left-0 top-0 h-full bg-white border-r border-gray-200 transition-all duration-300 z-30 ${i?"translate-x-0":"-translate-x-full"} lg:translate-x-0 w-64 pt-16`,children:N.jsxs("div",{className:"h-full overflow-y-auto",children:[N.jsx("div",{className:"lg:hidden flex justify-end p-4",children:N.jsx("button",{onClick:()=>e(!1),className:"text-gray-500 hover:text-gray-700",children:N.jsx(Oa,{className:"h-6 w-6"})})}),N.jsx("nav",{className:"px-4 py-6 space-y-2",children:t.map(n=>N.jsx(BL,{to:n.path,end:n.path==="/dashboard",onClick:()=>e(!1),className:({isActive:s})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-all duration-200 group ${s?"bg-gradient-to-r from-saf-red-600 to-saf-red-700 text-white shadow-md":"text-gray-700 hover:bg-gray-100"}`,children:({isActive:s})=>N.jsxs(N.Fragment,{children:[N.jsx(n.icon,{className:`h-5 w-5 ${s?"text-white":n.color}`}),N.jsx("span",{className:"font-medium",children:n.name})]})},n.name))}),N.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4 border-t border-gray-200 bg-gray-50",children:N.jsxs("div",{className:"text-center",children:[N.jsx("p",{className:"text-xs text-gray-500",children:"SAF Admin Portal v1.0"}),N.jsx("p",{className:"text-xs text-gray-400 mt-1",children:" 2026 All Rights Reserved"})]})})]})})]})},uj=({children:i})=>{const[e,t]=ne.useState(!1);return N.jsxs("div",{className:"min-h-screen bg-gray-50",children:[N.jsx(dj,{sidebarOpen:e,setSidebarOpen:t}),N.jsx(cj,{sidebarOpen:e,setSidebarOpen:t}),N.jsx("main",{className:"lg:ml-64 pt-16 min-h-screen",children:N.jsx("div",{className:"p-6",children:i})})]})},$o=function(i){this._options=i||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};$o.prototype._fireCore=function(i,e){const t=this._firingIndexes,n=this._list,{stopOnFalse:s}=this._options,r=t.length;for(t[r]=0;t[r]<n.length&&!(n[t[r]].apply(i,e)===!1&&s);t[r]++);t.pop()};$o.prototype.add=function(i){return typeof i=="function"&&(!this._options.unique||!this.has(i))&&this._list.push(i),this};$o.prototype.remove=function(i){const e=this._list,t=this._firingIndexes,n=e.indexOf(i);if(n>-1&&(e.splice(n,1),this._firing&&t.length))for(let s=0;s<t.length;s++)n<=t[s]&&t[s]--;return this};$o.prototype.has=function(i){const e=this._list;return i?e.indexOf(i)>-1:!!e.length};$o.prototype.empty=function(i){return this._list=[],this};$o.prototype.fireWith=function(i,e){const t=this._queue;if(e=e||[],e=e.slice?e.slice():e,this._options.syncStrategy)this._firing=!0,this._fireCore(i,e);else{if(t.push([i,e]),this._firing)return;for(this._firing=!0;t.length;){const n=t.shift();this._fireCore(n[0],n[1])}}return this._firing=!1,this._fired=!0,this};$o.prototype.fire=function(){this.fireWith(this,arguments)};$o.prototype.fired=function(){return this._fired};const Bt=function(i){return new $o(i)},Mn=(i,e)=>{if(Array.isArray(i))return i.map(e);const t=[];for(const n in i)t.push(e(i[n],n));return t},ie=(i,e)=>{if(i){if("length"in i)for(let t=0;t<i.length&&e.call(i[t],t,i[t])!==!1;t++);else for(const t in i)if(e.call(i[t],t,i[t])===!1)break;return i}};class e1{constructor(){this.memory=[],this.callbacks=Bt()}add(e){ie(this.memory,(t,n)=>e.apply(e,n)),this.callbacks.add(e)}remove(e){this.callbacks.remove(e)}fire(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.memory.push(t),this.callbacks.fire.apply(this.callbacks,t)}}const t1=new e1,hj=["pageX","pageY","screenX","screenY","clientX","clientY"],pj=function(i,e){if(e[i]&&!e.touches||!e.touches)return e[i];const t=e.touches.length?e.touches:e.changedTouches;if(t.length)return t[0][i]};function fj(i){hj.forEach(e=>{i(e,t=>pj(e,t))},this)}const n1=i=>{var e,t;const{originalEvent:n}=i;if(!n)return i.target;if(!!!(!((e=n.target)===null||e===void 0)&&e.shadowRoot))return n.target;const r=n.path??((t=n.composedPath)===null||t===void 0?void 0:t.call(n));return(r==null?void 0:r[0])??i.target},mj={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string"},Ji=function(i){if(i===null)return"null";const e=Object.prototype.toString.call(i);return typeof i=="object"?mj[e]||"object":typeof i},Kl=function(i){return typeof i=="boolean"},dy=function(i){return jt(i)&&i.toString().indexOf("e")!==-1},zi=function(i){return Ji(i)==="date"},G=function(i){return i!=null},Ie=function(i){return typeof i=="function"},Ke=function(i){return typeof i=="string"},jt=function(i){return typeof i=="number"&&isFinite(i)||!isNaN(i-parseFloat(i))},Me=function(i){return Ji(i)==="object"},ki=function(i){let e;for(e in i)return!1;return!0},ot=function(i){if(!i||Ji(i)!=="object")return!1;const e=Object.getPrototypeOf(i);if(!e)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return typeof t=="function"&&Object.toString.call(t)===Object.toString.call(Object)},mc=function(i){return!["object","array","function"].includes(Ji(i))},jn=function(i){return i!=null&&i===i.window},Dr=function(i){return!!i&&!!(i.jquery||i.dxRenderer)},Ho=function(i){return!!i&&Ie(i.then)},fp=function(i){return!!i&&Ie(i.done)&&Ie(i.fail)},p6=function(i){return!!(i&&i.preventDefault)},th={isBoolean:Kl,isDate:zi,isDeferred:fp,isDefined:G,isEmptyObject:ki,isEvent:p6,isExponential:dy,isFunction:Ie,isNumeric:jt,isObject:Me,isPlainObject:ot,isPrimitive:mc,isPromise:Ho,isRenderer:Dr,isString:Ke,isWindow:jn,type:Ji},gj=function(i,e,t){i=i||{};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const s=e[n];i[n]=s}return i},se=function(i){i=i||{};let e=1,t=!1;for(typeof i=="boolean"&&(t=i,i=arguments[1]||{},e++);e<arguments.length;e++){const n=arguments[e];if(n!=null)for(const s in n){const r=i[s],o=n[s];let a=!1,l;s==="__proto__"||s==="constructor"||i===o||(t&&o&&(ot(o)||(a=Array.isArray(o)))?(a?l=r&&Array.isArray(r)?r:[]:l=r&&ot(r)?r:{},i[s]=se(t,l,o)):o!==void 0&&(i[s]=o))}}return i},f6=function(){const i=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(e){return String(e).replace(i[0],"&amp;").replace(i[1],"&quot;").replace(i[2],"&#39;").replace(i[3],"&lt;").replace(i[4],"&gt;")}}(),_j=function(i){switch(typeof i){case"string":return i.split(/\s+/,4);case"object":return[i.x||i.h||i.left,i.y||i.v||i.top,i.x||i.h||i.right,i.y||i.v||i.bottom];case"number":return[i];default:return i}},vj=function(i){const e=_j(i);let t=parseInt(e&&e[0],10),n=parseInt(e&&e[1],10),s=parseInt(e&&e[2],10),r=parseInt(e&&e[3],10);return isFinite(t)||(t=0),isFinite(n)||(n=t),isFinite(s)||(s=t),isFinite(r)||(r=n),{top:n,right:s,bottom:r,left:t}};function Fs(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];return Ie(i)?i(...t):(t.forEach((s,r)=>{Ke(s)&&(s=s.replace(/\$/g,"$$$$"));const o=new RegExp(`\\{${r}\\}`,"gm");i=i.replace(o,s)}),i)}const bm=function(){const i=/\s/g;return function(e){return!e||!e.replace(i,"")}}(),xj="25.2.3",R2="25.2.3",bj=function(){},wf=function(i){return typeof console>"u"||!Ie(console[i])?bj:console[i].bind(console)},Gl={log:wf("log"),info:wf("info"),warn:wf("warn"),error:wf("error")},yj={logger:Gl},Cj=`https://js.devexpress.com/error/${xj.split(".").slice(0,2).join("_")}/`;function i1(i,e){const t={ERROR_MESSAGES:se(e,i),Error:function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return function(d){const c=d[0];d=d.slice(1);const h=n(c,d),u=r(c),p=s(c,h);return se(new Error(p),{__id:c,__details:h,url:u})}(a)},log(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];const d=a[0];let c="log";/^E\d+$/.test(d)?c="error":/^W\d+$/.test(d)&&(c="warn"),yj.logger[c](c==="log"?d:function(h){const u=h[0];return h=h.slice(1),s(u,n(u,h))}(a))}};function n(o,a){return a=[t.ERROR_MESSAGES[o]].concat(a),Fs.apply(this,a).replace(/\.*\s*?$/,"")}function s(o,a){const l=o!=null&&o.startsWith("W")?"warning":"error";return Fs.apply(this,[`{0} - {1}.

For additional information on this {2} message, see: {3}`,o,a,l,r(o)])}function r(o){return Cj+o}return t}const Ut=i1({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",E0122:"AIIntegration: The sendRequest method is missing.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view type: {0}",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2',W0019:`DevExtreme: Unable to Locate a Valid License Key.

Detailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.

If you are using a 30-day trial version of DevExtreme, you must uninstall all copies of DevExtreme once your 30-day trial period expires. For terms and conditions that govern use of DevExtreme UI components/libraries, please refer to the DevExtreme End User License Agreement: https://js.devexpress.com/EULAs/DevExtremeComplete.

To use DevExtreme in a commercial project, you must purchase a license. For pricing/licensing options, please visit: https://js.devexpress.com/Buy.

If you have licensing-related questions or need help with a purchase, please email clientservices@devexpress.com.

`,W0020:`DevExtreme: License Key Has Expired.

Detailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.

A mismatch exists between the license key used and the DevExtreme version referenced in this project.

To proceed, you can:
 use a version of DevExtreme linked to your license key: https://www.devexpress.com/ClientCenter/DownloadManager
 renew your DevExpress Subscription: https://www.devexpress.com/buy/renew (once you renew your subscription, you will be entitled to product updates and support service as defined in the DevExtreme End User License Agreement)

If you have licensing-related questions or need help with a renewal, please email clientservices@devexpress.com.

`,W0021:`DevExtreme: License Key Verification Has Failed.

Detailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.

To verify your DevExtreme license, make certain to specify a correct key in the GlobalConfig. If you continue to encounter this error, please visit https://www.devexpress.com/ClientCenter/DownloadManager to obtain a valid license key.

If you have a valid license and this problem persists, please submit a support ticket via the DevExpress Support Center. We will be happy to follow-up: https://supportcenter.devexpress.com/ticket/create.

`,W0022:`DevExtreme: Pre-release software. Not suitable for commercial use.

Detailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.

Pre-release software may contain deficiencies and as such, should not be considered for use or integrated in any mission critical application.

`,W0023:`DevExtreme: the following 'devextreme' package version does not match versions of other DevExpress products used in this application:

{0}

Interoperability between different versions of the products listed herein cannot be guaranteed.

`,W0024:`DevExtreme: Use Your DevExtreme License Key - Not Your DevExpress .NET License Key

Invalid/incorrect license key. You used your DevExpress .NET license key instead of your DevExtreme (React, Angular, Vue, JS) license key. Please copy your DevExtreme license key and try again. 

Go to https://www.devexpress.com/ClientCenter/DownloadManager (navigate to the DevExtreme Subscription section) to obtain a valid DevExtreme license key. To validate your license, specify the correct key within GlobalConfig.

For detailed license/registration information, visit https://js.devexpress.com/Documentation/Licensing/.

If you have a valid license and the issue persists, submit a support ticket via the DevExpress Support Center. We will be happy to follow-up: https://supportcenter.devexpress.com/ticket/create.

`}),P2={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,versionAssertions:[],copyStylesToShadowDom:!0,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:i=>{i.trim().charAt(0)!=="{"&&(i=`{${i}}`);try{return JSON.parse(i)}catch(e){try{return JSON.parse(wj(i))}catch{throw Ut.Error("E3018",e,i)}}}},wj=i=>i.replace(/'/g,'"').replace(/,\s*([\]}])/g,"$1").replace(/([{,])\s*([^":\s]+)\s*:/g,'$1"$2":'),Sj=["decimalSeparator","thousandsSeparator"],Ot=function(){if(!arguments.length)return P2;const i=arguments.length<=0?void 0:arguments[0];Sj.forEach(e=>{if(i[e]){const t=`Now, the ${e} is selected based on the specified locale.`;Ut.log("W0003","config",e,"19.2",t)}}),se(P2,i)};typeof DevExpress<"u"&&DevExpress.config&&Ot(DevExpress.config);const Ej=function(i,e,t){return function(){const n=this.callBase;this.callBase=i[e];try{return t.apply(this,arguments)}finally{this.callBase=n}}},Ij=function(i){const e=function(){};return e.prototype=i.prototype,new e},Tj=function(i){const e=this;let t,n,s;if(!i)return e;for(n in i)s=i[n],t=typeof e.prototype[n]=="function"&&typeof s=="function",e.prototype[n]=t?Ej(e.parent.prototype,n,s):s;return e},Dj=function(){const i=this;let e,t,n;const s=Object.prototype.hasOwnProperty.bind(i);!s("_includedCtors")&&!s("_includedPostCtors")&&(i._includedCtors=i._includedCtors.slice(0),i._includedPostCtors=i._includedPostCtors.slice(0));for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];for(n=0;n<a.length;n++){e=a[n],e.ctor&&i._includedCtors.push(e.ctor),e.postCtor&&i._includedPostCtors.push(e.postCtor);for(t in e)t==="ctor"||t==="postCtor"||t==="default"||(i.prototype[t]=e[t])}return i},Aj=function(i){if(!Object.prototype.hasOwnProperty.bind(this)("parent")&&this.parent){const n=Object.getPrototypeOf(this);return n===i||n.subclassOf(i)}return this.parent===i?!0:!this.parent||!this.parent.subclassOf?!1:this.parent.subclassOf(i)},m6=function(){throw Ut.Error("E0001")},Dt=function(){};Dt.inherit=function(i){const e=function(){if(!this||jn(this)||typeof this.constructor!="function")throw Ut.Error("E0003");const t=this,{ctor:n}=t,s=t.constructor._includedCtors,r=t.constructor._includedPostCtors;let o;for(o=0;o<s.length;o++)s[o].call(t);if(n){for(var a=arguments.length,l=new Array(a),d=0;d<a;d++)l[d]=arguments[d];n.apply(t,l)}for(o=0;o<r.length;o++)r[o].call(t)};return e.prototype=Ij(this),Object.setPrototypeOf(e,this),e.inherit=this.inherit,e.abstract=m6,e.redefine=Tj,e.include=Dj,e.subclassOf=Aj,e.parent=this,e._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],e._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],e.prototype.constructor=e,e.redefine(i),e};Dt.abstract=m6;const Xt=Dt.inherit({ctor:function(i){i&&(i=String(i)),this._value=this._normalize(i||this._generate())},_normalize:function(i){for(i=i.replace(/[^a-f0-9]/gi,"").toLowerCase();i.length<32;)i+="0";return[i.substr(0,8),i.substr(8,4),i.substr(12,4),i.substr(16,4),i.substr(20,12)].join("-")},_generate:function(){let i="";for(let e=0;e<32;e++)i+=Math.round(15*Math.random()).toString(16);return i},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),g6={};let ym;function kj(i,e){g6[i]=e}function Oj(i){if(Ke(i)){if(ym=g6[i],!ym)throw Ut.Error("E0020",i)}else ym=i}function M2(){return ym}function cr(i){const e=Dt.inherit(i);let t=e,n=new t(i);const s={},r=function(o,a){ie(o,function(l){Ie(n[l])?(a||!i[l])&&(i[l]=function(){return n[l].apply(i,arguments)}):(a&&(s[l]=i[l]),i[l]=n[l])})};return r(i,!0),i.inject=function(o){t=t.inherit(o),n=new t,r(o)},i.resetInjection=function(){se(i,s),t=e,n=new e},i}const bi=cr({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(i){return i},unwrap:function(i){return i},assign:function(){Gl.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}}),cy=function(i,e){const t=[];let n,s;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.push(n);for(t.sort(function(r,o){const a=jt(r),l=jt(o);return a&&l?r-o:a&&!l?-1:!a&&l?1:r<o?-1:r>o?1:0}),s=0;s<t.length;s++)n=t[s],e(n,i[n])},F2=i=>Me(i)?Array.isArray(i)?[]:ot(i)?{}:Object.create(Object.getPrototypeOf(i)):i,Rj=function(i,e,t,n,s,r){!s&&bi.isWrapped(i[e])?bi.assign(i[e],t):i[e]=t},_6=function(i,e,t,n,s,r){const o=n?Me(i):ot(i);!s&&bi.isWrapped(i[e])?bi.assign(i[e],t):!s&&Array.isArray(t)?i[e]=t.map(a=>Gi(F2(a),a,n,s,r)):!s&&o?i[e]=Gi(F2(t),t,n,s,r,_6):i[e]=t},Gi=function(i,e,t,n,s,r){let o,a;const l=r?_6:Rj;for(const d in e){if(o=i[d],a=e[d],d==="__proto__"||d==="constructor"||i===a)continue;if(ot(a)){const u=t?Me(o):ot(o);a=Gi(u?o:{},a,t,n,s)}(Array.isArray(a)&&!n||((s||a!==void 0)&&o!==a||s&&o===void 0))&&l(i,d,a,t,n,s)}return i},Pj=bi.unwrap,{isWrapped:v6}=bi,{assign:Mj}=bi,Fj=function(i){return i.replace(/\[/g,".").replace(/\]/g,"")},rd=function(i){return Fj(i).split(".")},Bj=function(i,e,t){return t=t||{},Lh(e==="this"?i:i[e],t)},x6=function(i,e,t,n){if(e==="this")throw new Ut.Error("E4016");const s=i[e];n.unwrapObservables&&v6(s)?Mj(s,t):i[e]=t},b6=function(i){return i=i||{},i.unwrapObservables=i.unwrapObservables!==void 0?i.unwrapObservables:!0,i};function Lh(i,e){return e.unwrapObservables?Pj(i):i}const qt=function(i){if(arguments.length>1&&(i=[].slice.call(arguments)),!i||i==="this")return function(e){return e};if(typeof i=="string"){const e=rd(i);return function(t,n){n=b6(n);const s=n.functionsAsIs,r="defaultValue"in n;let o=Lh(t,n);for(let a=0;a<e.length;a++){if(!o){if(o==null&&r)return n.defaultValue;break}const l=e[a];if(r&&Me(o)&&!(l in o))return n.defaultValue;let d=Lh(o[l],n);!s&&Ie(d)&&(d=d.call(o)),o=d}return o}}if(Array.isArray(i))return Nj(i);if(Ie(i))return i};function Nj(i){const e={};for(let t=0,n=i.length;t<n;t++){const s=i[t];e[s]=qt(s)}return function(t,n){let s;return ie(e,function(r){const o=this(t,n);if(o===void 0)return;let a=s||(s={});const l=r.split("."),d=l.length-1;for(let c=0;c<d;c++){const h=l[c];h in a||(a[h]={}),a=a[h]}a[l[d]]=o}),s}}function B2(i,e){return e!=null&&e.locale?i.toLocaleLowerCase(e.locale):i.toLowerCase()}function Vj(i,e){return e!=null&&e.locale?i.toLocaleUpperCase(e.locale):i.toUpperCase()}const N2=function(i,e,t,n){if(G(t))return t;const s={};return x6(i,e,s,n),s},s1=function(i){i=rd(i||"this");const e=i.length-1;return function(t,n,s){s=b6(s);let r=Lh(t,s);i.forEach(function(o,a){let l=Bj(r,o,s);const d=!s.functionsAsIs&&Ie(l)&&!v6(l);a===e?s.merge&&ot(n)&&(!G(l)||ot(l))?(l=N2(r,o,l,s),Gi(l,n,!1,!0)):d?r[o](n):x6(r,o,n,s):(l=N2(r,o,l,s),d&&(l=l.call(r)),r=l)})}},xi=function(i,e){var t;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(i instanceof Date)return i.getTime();const s=n==null||(t=n.collatorOptions)===null||t===void 0?void 0:t.sensitivity;if(i&&i instanceof Dt&&i.valueOf)i=i.valueOf();else if(typeof i=="string"&&(s==="base"||s==="case")){const a=/[\u0300-\u036f]/g;s==="base"&&(i=B2(i,n)),i=i.normalize("NFD").replace(a,"")}if(typeof i=="string"&&!(e||s==="case"||s==="variant")){var o;const a=n==null||(o=n.locale)===null||o===void 0?void 0:o.toLowerCase();return(a&&!!["hy","el"].find(d=>a===d||a.startsWith(`${d}-`))?Vj:B2)(i,n)}return i},y6=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}];let Oc=function(){const i=this;this._state="pending",this._promise={},y6.forEach((function(e){const t=e.method;this[`${t}Callbacks`]=Bt(),this[t]=(function(){return this[`${t}With`](this._promise,arguments)}).bind(this),this._promise[e.handler]=function(n){if(!n)return this;const s=i[`${t}Callbacks`];return s.fired()?n.apply(i[`${t}Context`],i[`${t}Args`]):s.add(function(r,o){n.apply(r,o)}),this}}).bind(this)),this._promise.always=function(e){return this.done(e).fail(e)},this._promise.catch=function(e){return this.then(null,e)},this._promise.then=function(e,t){const n=new Oc;return["done","fail"].forEach((function(s){const r=s==="done"?e:t;this[s](function(){if(!r){n[s==="done"?"resolve":"reject"].apply(this,arguments);return}const o=r&&r.apply(this,arguments);fp(o)?o.done(n.resolve).fail(n.reject):Ho(o)?o.then(n.resolve,n.reject):n.resolve.apply(this,G(o)?[o]:arguments)})}).bind(this)),n.promise()},this._promise.state=function(){return i._state},this._promise.promise=function(e){return e?se(e,i._promise):i._promise},this._promise.promise(this)};y6.forEach(function(i){const e=i.method,{state:t}=i;Oc.prototype[`${e}With`]=function(n,s){const r=this[`${e}Callbacks`];return this.state()==="pending"&&(this[`${e}Args`]=s,this[`${e}Context`]=n,t&&(this._state=t),r.fire(n,s),t!=="pending"&&(this.resolveCallbacks.empty(),this.rejectCallbacks.empty())),this}});function ci(i,e){if(fp(i))return i;if(Ho(i)){const t=new Oc;return i.then(function(){t.resolveWith.apply(t,[e].concat([[].slice.call(arguments)]))},function(){t.rejectWith.apply(t,[e].concat([[].slice.call(arguments)]))}),t}return new Oc().resolveWith(e,[i])}let Lj=function(){if(arguments.length===1)return ci(arguments[0]);const i=[].slice.call(arguments),e=[];let t=0;const n=new Oc,s=function(r){return function(o){e[r]=this,i[r]=arguments.length>1?[].slice.call(arguments):o,t++,t===i.length&&n.resolveWith(e,i)}};for(let r=0;r<i.length;r++)fp(i[r])?i[r].promise().done(s(r)).fail(n.reject):t++;return t===i.length&&n.resolveWith(e,i),n.promise()};function de(){return new Oc}function Ae(){return Lj.apply(this,arguments)}const k0=new de,wn=function(i,e){return G(i)?i:e},C6=function(i,e){const t=new de,n=e||this,s={promise:t.promise(),abort(){clearTimeout(r),t.rejectWith(n)}},r=(arguments[2]||setTimeout)(function(){const o=i.call(n);o&&o.done&&Ie(o.done)?o.done(function(){t.resolveWith(n)}):t.resolveWith(n)},typeof e=="number"?e:0);return s},Pv=[],V2=[],hu=[];let wd;const O0=function(i,e,t){if(wd&&wd!==i)return Pv.push(e),V2.push(i),t=t||new de,hu.push(t),t;const n=wd,s=hu.length;wd=i;let r=e();return r||(hu.length>s?r=Ae.apply(this,hu.slice(s)):t&&t.resolve()),wd=n,t&&r&&r.done&&r.done(t.resolve).fail(t.reject),!wd&&Pv.length&&(V2.shift()==="render"?qn:Si)(Pv.shift(),hu.shift()),r||Ae()},qn=function(i,e){return O0("render",i,e)},Si=function(i,e){return O0("update",i,e)},gc=function(i){return function(){const e=this;return O0("render",function(){return i.call(e)})}},uy=function(i){return function(){const e=this;return O0("update",function(){return i.call(e)})}},r1=(i,e,t)=>{const n=[];let s=0;return ie(e,(r,o)=>{let a=0;const l=t?t(o):o;ie(i,(d,c)=>{const h=l[d];if(h!==void 0){if($j(h,c)){a++;return}return a=-1,!1}}),!(a<s)&&(a>s&&(n.length=0,s=a),n.push(o))}),n},$j=function(i,e){if(Array.isArray(i)&&Array.isArray(e)){let t=!1;return ie(i,(n,s)=>{if(s!==e[n])return t=!0,!1}),!t}return i===e},od=function(i){switch(Ji(i)){case"string":return i.split(/\s+/,2);case"object":return[i.x??i.h,i.y??i.v];case"number":return[i];case"array":return i;default:return null}},Hj=function(i){let e=Ke(i)?i:i.toString();const t=e.match(/[^a-zA-Z0-9_]/g);return t&&ie(t,(n,s)=>{e=e.replace(s,`__${s.charCodeAt()}__`)}),e},jj=function(i){const e=i.match(/__\d+__/g);return e&&e.forEach(t=>{const n=parseInt(t.replace("__",""));i=i.replace(t,String.fromCharCode(n))}),i},o1=function(i,e){const t=od(i);let n=e?parseFloat(t&&t[0]):parseInt(t&&t[0],10),s=e?parseFloat(t&&t[1]):parseInt(t&&t[1],10);return isFinite(n)||(n=0),isFinite(s)||(s=n),{h:n,v:s}},vs=function(i){if(i instanceof Xt)return i.toString();if(Me(i)||Array.isArray(i))try{const e=JSON.stringify(i);return e==="{}"?i:e}catch{return i}return i},yo=function(i){return i.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},w6=function(i){const e=Ot().serverDecimalSeparator;return G(i)&&(i=i.toString().replace(".",e)),i},Te=function(){},S6=function(){return new de().resolve().promise()},Qi=function(i,e,t){const n=[];let s;const r=!t;for(let o=0;o<i.length;o++)s=!!e(i[o],o),s===r&&n.push(i[o]);return n},zj=(i,e,t,n)=>i.length!==e.length?!1:!i.some((s,r)=>!a1(s,e[r],t+1,Object.assign({},n,{strict:!0}))),Wj=(i,e,t,n)=>{const s=Object.keys(i),r=Object.keys(e);if(s.length!==r.length)return!1;const o=new Set(r);return!s.some(a=>!o.has(a)||!a1(i[a],e[a],t+1,n))},L2={maxDepth:3,strict:!0},a1=(i,e,t,n)=>{const{strict:s,maxDepth:r}=n,o=xi(i,!0),a=xi(e,!0),l=s?o===a:o==a;switch(!0){case l:case t>=r:return!0;case(Me(o)&&Me(a)):return Wj(o,a,t,n);case(Array.isArray(o)&&Array.isArray(a)):return zj(o,a,t,n);default:return!1}},dn=function(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:L2;const n=Object.assign({},L2,t);return a1(i,e,0,n)},l1={ensureDefined:wn,executeAsync:C6,deferRender:qn,deferUpdate:Si,deferRenderer:gc,deferUpdater:uy,findBestMatches:r1,splitPair:od,normalizeKey:Hj,denormalizeKey:jj,pairToObject:o1,getKeyHash:vs,escapeRegExp:yo,applyServerDecimalSeparator:w6,noop:Te,asyncNoop:S6,grep:Qi,equalByValue:dn};let Sf=null;function $2(i){try{return new CSSStyleSheet}catch{const t=i.ownerDocument.createElement("style");return i.appendChild(t),t.sheet}}function H2(i,e,t){for(let n=0;n<e.length;n++){const s=e[n];try{for(let r=0;r<s.cssRules.length;r++)Uj(i,s.cssRules[r],t)}catch{}}}function Uj(i,e,t){var n,s,r,o;(t||((n=e.selectorText)===null||n===void 0?void 0:n.includes("dx-"))||((s=e.cssRules)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.selectorText)===null||s===void 0?void 0:s.includes("dx-"))||((r=e.name)===null||r===void 0?void 0:r.startsWith("dx-"))||((o=e.style)===null||o===void 0?void 0:o.fontFamily)==="DXIcons")&&i.insertRule(e.cssText,i.cssRules.length)}const Mv=new WeakMap;function Kj(i){let e=2166136261;for(const t of i){if(Mv.has(t)){e^=Mv.get(t);continue}let n=2166136261;try{for(const s of t.cssRules){const r=s.cssText;for(let o=0;o<r.length;o++)n^=r.charCodeAt(o),n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24)}}catch{}n>>>=0,Mv.set(t,n),e^=n}return e>>>0}const j2=new WeakMap;function Gj(i){var e;if(!Ot().copyStylesToShadowDom)return;const t=i.get(0),n=(e=t.getRootNode)===null||e===void 0?void 0:e.call(t);if(!(n!=null&&n.host))return;Sf||(Sf=$2(n),H2(Sf,t.ownerDocument.styleSheets,!1));const s=Kj(n.styleSheets);if(j2.get(n)===s)return;j2.set(n,s);const r=$2(n);H2(r,n.styleSheets,!0),n.adoptedStyleSheets=[Sf,r]}function qj(i,e,t){var n;const s=(n=i.getBoundingClientRect)===null||n===void 0?void 0:n.call(i);return s&&e>=s.left&&e<s.right&&t>=s.top&&t<s.bottom}function Yj(){let i=0;const e=[];return{push(t){return e.push(t),this},shift(){return i++,e[i-1]},get length(){return e.length-i},get items(){return e}}}function Xj(i,e,t){const n=Yj().push(t);for(;n.length;){const r=n.shift();for(let o=0;o<r.childNodes.length;o++){const a=r.childNodes[o];a.nodeType===Node.ELEMENT_NODE&&qj(a,i,e)&&getComputedStyle(a).pointerEvents!=="none"&&n.push(a)}}const s=n.items.reverse();return s.pop(),s}const Zj={querySelectorAll:(i,e)=>i.querySelectorAll(e),elementMatches(i,e){return(i.matches||i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector||(n=>{const s=i.document||i.ownerDocument;if(!s)return!1;const r=this.querySelectorAll(s,n);for(let o=0;o<r.length;o++)if(r[o]===i)return!0})).call(i,e)},createElement(i,e){return e=e??this._document,e.createElement(i)},createElementNS(i,e,t){return t=t||this._document,t.createElementNS(i,e)},createTextNode(i,e){return e=e||this._document,e.createTextNode(i)},createAttribute(i,e){return e=e||this._document,e.createAttribute(i)},isNode:i=>!!i&&typeof i=="object"&&"nodeType"in i&&"nodeName"in i,isElementNode:i=>!!i&&i.nodeType===1,isTextNode:i=>i&&i.nodeType===3,isDocument:i=>i&&i.nodeType===9,isDocumentFragment:i=>i&&i.nodeType===11,removeElement(i){const e=i&&i.parentNode;e&&e.removeChild(i)},insertElement(i,e,t){i&&e&&i!==e&&(t?i.insertBefore(e,t):i.appendChild(e))},getAttribute:(i,e)=>i.getAttribute(e),setAttribute(i,e,t){e==="style"?i.style.cssText=t:i.setAttribute(e,t)},removeAttribute(i,e){i.removeAttribute(e)},setProperty(i,e,t){i[e]=t},setText(i,e){i&&(i.textContent=e)},setClass(i,e,t){i.nodeType===1&&e&&(t?i.classList.add(e):i.classList.remove(e))},setStyle(i,e,t){i.style[e]=t||""},_document:typeof document>"u"?void 0:document,getDocument(){return this._document},getActiveElement(i){return this.getRootNode(i).activeElement},getRootNode(i){var e;return(i==null||(e=i.getRootNode)===null||e===void 0?void 0:e.call(i))??this._document},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(i){return i in this._document},listen(i,e,t,n){return!i||!("addEventListener"in i)?Te:(i.addEventListener(e,t,n),()=>{i.removeEventListener(e,t)})},elementsFromPoint(i,e,t){const n=this.getRootNode(t);return n.host?Xj(i,e,n):n.elementsFromPoint(i,e)}},ve=cr(Zj),jo=function(i){let e,t=function(){return e=i.apply(this,arguments),t=function(){return e},e};return function(){return t.apply(this,arguments)}};let hy=typeof window<"u";const st=()=>hy;let va=st()?window:void 0;va||(va={},va.window=va);const bt=()=>va,Qj=(i,e)=>{e===void 0?hy=typeof window<"u"&&window===i:hy=e,va=i},d1=i=>st()&&i in va,R0=i=>i<768?"xs":i<992?"sm":i<1200?"md":"lg",c1=i=>{const e=i||R0,t=ve.getDocumentElement().clientWidth;return e(t)},mp=()=>{var i;return st()?(i=va)===null||i===void 0?void 0:i.navigator:{userAgent:""}},Di={defaultScreenFactorFunc:R0,getCurrentScreenFactor:c1,getNavigator:mp,getWindow:bt,hasProperty:d1,hasWindow:st,setWindow:Qj},Ef="dxEmptyEventType",z2={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},Jj={focusin:"focus",focusout:"blur"},ez=["blur","focus","load"],E6=["touchmove","wheel","mousewheel","touchstart"],tz=["altKey","altitudeAngle","azimuthAngle","bubbles","button","buttons","cancelable","cancelBubble","changedTouches","char","charCode","clipboardData","code","composed","ctrlKey","defaultPrevented","delegateTarget","deltaMode","deltaX","deltaY","deltaZ","detail","eventPhase","height","isComposing","isPrimary","key","keyCode","layerX","layerY","location","metaKey","movementX","movementY","offsetX","offsetY","pointerId","pointerType","pressure","relatedTarget","repeat","returnValue","srcElement","shiftKey","tangentialPressure","target","targetTouches","tiltX","tiltY","toElement","touches","twist","view","width","x","y"],u1=bt();function nz(i,e){return!jn(i)&&i.nodeName!=="#document"&&ve.elementMatches(i,e)}const Fv=new WeakMap;let I6=0,gg;const ha=function(){const i={};return t1.add((e,t)=>{i[e]=t}),{getField:(e,t)=>i[e]&&i[e][t],callMethod:(e,t,n,s)=>i[e]&&i[e][t]&&i[e][t].apply(n,s)}}(),Y=cr({on:pu(py(K2((i,e,t,n,s)=>{Bd(i,e).addHandler(s,t,n)}))),one:pu(py((i,e,t,n,s)=>{const r=function(){Y.off(i,e,t,r),s.apply(this,arguments)};Y.on(i,e,t,n,r)})),off:pu(rz(K2((i,e,t,n)=>{Bd(i,e).removeHandler(n,t)}))),trigger:pu(U2((i,e,t)=>{const n=e.type,s=Bd(i,e.type);if(ha.callMethod(n,"trigger",i,[e,t]),s.callHandlers(e,t),!(ha.getField(n,"noBubble")||e.isPropagationStopped()||ez.includes(n))){const o=[],a=function(d){const c=d.parentNode??(Me(d.host)?d.host:null);c&&(o.push(c),a(c))};a(i),o.push(u1);let l=0;for(;o[l]&&!e.isPropagationStopped();)Bd(o[l],e.type).callHandlers(se(e,{currentTarget:o[l]}),t),l++}(i.nodeType||jn(i))&&(ha.callMethod(n,"_default",i,[e,t]),az(n,i))})),triggerHandler:pu(U2((i,e,t)=>{Bd(i,e.type).callHandlers(e,t)}))});function h1(i,e){const t=i[0];if(t)if(ve.isNode(t)||jn(t))e.apply(Y,i);else if(!Ke(t)&&"length"in t){const n=Array.prototype.slice.call(i,0);Array.prototype.forEach.call(t,s=>{n[0]=s,h1(n,e)})}else throw Ut.Error("E0025")}function pu(i){return function(){h1(arguments,i)}}function iz(){let i=!1;try{const e=Object.defineProperty({},"passive",{get(){return i=!0,!0}});u1.addEventListener("test",null,e)}catch{}return i}const T6=jo(iz),D6=(i,e)=>jn(i)?D6(i.document,e):i.contains?i.contains(e):!!(e.compareDocumentPosition(i)&e.DOCUMENT_POSITION_CONTAINS);function Bd(i,e){let t=Fv.get(i);e=e||"";const n=e.split("."),s=n.slice(1),r=!!n[0];e=n[0]||Ef,t||(t={},Fv.set(i,t)),t[e]||(t[e]={handleObjects:[],nativeHandler:null});const o=t[e];return{addHandler(a,l,d){const c=function(g,m){const v=[g],_=g.currentTarget,{relatedTarget:x}=g;let y,T;e in z2&&(y=x&&_&&(x===_||D6(_,x))),m!==void 0&&v.push(m),ha.callMethod(e,"handle",i,[g,d]),y||(T=a.apply(_,v)),T===!1&&(g.preventDefault(),g.stopPropagation())},h={handler:a,wrappedHandler:function(g,m){if(!(gg&&g.type===gg))if(g.data=d,g.delegateTarget=i,l){let _=g.target;for(;_&&_!==i;)nz(_,l)&&(g.currentTarget=_,c(g,m)),_=_.parentNode}else{var v;if(g.currentTarget=g.delegateTarget||g.target,!!(!((v=g.target)===null||v===void 0)&&v.shadowRoot)){const x=n1(g);g.target=x}c(g,m)}},selector:l,type:e,data:d,namespace:s.join("."),namespaces:s,guid:++I6};o.handleObjects.push(h);let p=o.handleObjects.length===1&&r,f;p&&(p=!ha.callMethod(e,"setup",i,[d,s,a])),p&&(o.nativeHandler=sz(e),T6()&&E6.includes(e)&&(f={passive:!1}),o.removeListener=ve.listen(i,z2[e]||e,o.nativeHandler,f)),ha.callMethod(e,"add",i,[h])},removeHandler(a,l){const d=function(h){const u=t[h];if(!u.handleObjects.length){delete t[h];return}let p;u.handleObjects=u.handleObjects.filter(m=>{const v=s.length&&!W2(m.namespaces,s)||a&&m.handler!==a||l&&m.selector!==l;return v||(p=m.handler,ha.callMethod(h,"remove",i,[m])),v}),!u.handleObjects.length&&h!==Ef&&(ha.callMethod(h,"teardown",i,[s,p]),u.nativeHandler&&u.removeListener(),delete t[h])};if(r)d(e);else for(const h in t)d(h);Object.keys(t).length===0&&Fv.delete(i)},callHandlers(a,l){let d=!1;const c=function(h){d||(!s.length||W2(h.namespaces,s))&&(h.wrappedHandler(a,l),d=a.isImmediatePropagationStopped())};o.handleObjects.forEach(c),s.length&&t[Ef]&&t[Ef].handleObjects.forEach(c)}}}function sz(i){return function(e,t){const n=Bd(this,i);e=Y.Event(e),n.callHandlers(e,t)}}function W2(i,e){for(let t=0;t<e.length;t++)if(i.indexOf(e[t])<0)return!1;return!0}function py(i){return function(e,t,n,s,r){r||(r=s,s=void 0),typeof n!="string"&&(s=n,n=void 0),!r&&typeof t=="string"&&(r=s||n,n=void 0,s=void 0),i(e,t,n,s,r)}}function rz(i){return function(e,t,n,s){typeof n=="function"&&(s=n,n=void 0),i(e,t,n,s)}}function U2(i){return function(e,t,n){typeof t=="string"&&(t={type:t}),t.target||(t.target=e),t.currentTarget=e,t.delegateTarget||(t.delegateTarget=e),!t.type&&t.originalEvent&&(t.type=t.originalEvent.type),i(e,t instanceof Y.Event?t:Y.Event(t),n)}}function oz(i){return Y.Event=function(e,t){if(!(this instanceof Y.Event))return new Y.Event(e,t);e||(e={}),typeof e=="string"&&(e={type:e}),t||(t={}),i.call(this,e,t)},Object.assign(Y.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped(){return this._immediatePropagationStopped},stopImmediatePropagation(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),Y.Event}function K2(i){const e=function(t,n){if(n&&n.indexOf(" ")>-1){const s=Array.prototype.slice.call(arguments,0);n.split(" ").forEach(function(r){s[1]=r,i.apply(this,s)})}else i.apply(this,arguments)};return function(t,n){if(typeof n=="object"){const s=Array.prototype.slice.call(arguments,0);for(const r in n)s[1]=r,s[s.length-1]=n[r],e.apply(this,s)}else e.apply(this,arguments)}}function az(i,e){const t=Jj[i]||i;(function(n,s){return n==="click"&&s.localName==="a"})(i,e)||Ie(e[t])&&(gg=i,e[t](),gg=void 0)}function lz(i){return function(e){return e.which==null&&e.type.indexOf("key")===0}(i)?i.charCode!=null?i.charCode:i.keyCode:function(e){return!e.which&&e.button!==void 0&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)}(i)?{1:1,2:3,3:1,4:2}[i.button]:i.which}function A6(i){i&&(Y.Event=i,Y.Event.prototype=i.prototype)}A6(oz(function(i,e){var t;i instanceof Y.Event||st()&&i instanceof u1.Event||((t=i.view)===null||t===void 0?void 0:t.Event)&&i instanceof i.view.Event?(this.originalEvent=i,this.type=i.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(i,"isTrusted")&&(this.isTrusted=i.isTrusted),this.timeStamp=i.timeStamp||Date.now()):Object.assign(this,i),p1("which",lz,this),i.type.indexOf("touch")===0&&(delete e.pageX,delete e.pageY),Object.assign(this,e),this.guid=++I6}));function p1(i,e,t){Object.defineProperty(t||Y.Event.prototype,i,{enumerable:!0,configurable:!0,get(){return this.originalEvent&&e(this.originalEvent)},set(n){Object.defineProperty(this,i,{enumerable:!0,configurable:!0,writable:!0,value:n})}})}tz.forEach(i=>p1(i,e=>e[i]));fj(p1);const k6=Bt(),O6=Bt();Y.set=function(i){k6.fire(),Y.inject(i),A6(i.Event),O6.fire()};Y.subscribeGlobal=function(){h1(arguments,py(function(){const i=arguments;Y.on.apply(this,i),k6.add(function(){const e=Array.prototype.slice.call(i,0);e.splice(3,1),Y.off.apply(this,e)}),O6.add(function(){Y.on.apply(this,i)})}))};Y.forcePassiveFalseEventNames=E6;Y.passiveEventHandlersSupported=T6;const dz={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"},cz=(i,e)=>{const t=i[e];return t?t!=="root"&&t:e.substr(0,e.lastIndexOf("-"))},Bs=cr({locale:(()=>{let i="en";return e=>{if(!e)return i;i=e}})(),getValueByClosestLocale(i){let e=this.locale(),t=i(e),n=!1;for(;!t&&!n;)e=cz(dz,e),e?t=i(e):n=!0;return t===void 0&&e!=="en"?i("en"):t}}),uz={en:{Yes:"Yes",No:"No",Cancel:"Cancel",CheckState:"Check state",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK",Today:"Today",Yesterday:"Yesterday","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxList-listAriaLabel":"Items","dxList-listAriaLabel-deletable":"Deletable items","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxList-selectAll-indeterminate":"Half-checked","dxList-selectAll-checked":"Checked","dxList-selectAll-notChecked":"Not checked","dxList-ariaRoleDescription":"List","dxList-listAriaLabel-itemContent":"List item content","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxDateRangeBox-invalidStartDateMessage":"Start value must be a date","dxDateRangeBox-invalidEndDateMessage":"End value must be a date","dxDateRangeBox-startDateOutOfRangeMessage":"Start date is out of range","dxDateRangeBox-endDateOutOfRangeMessage":"End date is out of range","dxDateRangeBox-startDateLabel":"Start Date","dxDateRangeBox-endDateLabel":"End Date","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"KB","dxFileUploader-Mb":"MB","dxFileUploader-Gb":"GB","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxFileUploader-fileListLabel":"File list","dxFileUploader-removeFileButtonLabel":"Remove file {0}","dxFileUploader-uploadFileButtonLabel":"Upload file {0}","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxForm-smartPasteButtonText":"Smart Paste","dxForm-resetButtonText":"Reset","dxForm-submitButtonText":"Submit","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-aiPromptEditorTitle":"AI Prompt Editor","dxDataGrid-aiPromptEditorPlaceholder":"Prompt AI to generate column values...","dxDataGrid-aiPromptEditorApplyButton":"Apply","dxDataGrid-aiPromptEditorRegenerateButton":"Regenerate Data","dxDataGrid-aiPromptEditorStopButton":"Stop","dxDataGrid-aiDropDownAutofill":"Autofill with AI","dxDataGrid-aiDropDownClear":"Clear Data","dxDataGrid-emptyHeaderWithColumnChooserText":"Use {0} to display columns","dxDataGrid-emptyHeaderWithGroupPanelText":"Drag a column from the group panel here","dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText":"Use {0} or drag a column from the group panel","dxDataGrid-emptyHeaderColumnChooserText":"column chooser","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-ariaSearchBox":"Search box","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-ariaNotSortedColumn":"Not sorted column","dxDataGrid-ariaSortedAscendingColumn":"Column sorted in ascending order","dxDataGrid-ariaSortedDescendingColumn":"Column sorted in descending order","dxDataGrid-ariaSortIndex":"Sort index {0}","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Set Fixed Position","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"Left","dxDataGrid-columnFixingRightPosition":"Right","dxDataGrid-columnFixingStickyPosition":"Sticky","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaColumnHeader":"Column header","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaError":"Error","dxDataGrid-ariaRevertButton":"Press Escape to discard the changes","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaModifiedCell":"Modified","dxDataGrid-ariaDeletedCell":"Deleted","dxDataGrid-ariaEditableCell":"Editable","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaCollapsedRow":"Collapsed row","dxDataGrid-ariaExpandedRow":"Expanded row","dxDataGrid-ariaDataGrid":"Data grid with {0} rows and {1} columns","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-ariaEditForm":"Edit form","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxDataGrid-masterDetail":"Cell with details","dxDataGrid-moveColumnToTheRight":"Move to the right","dxDataGrid-moveColumnToTheLeft":"Move to the left","dxTreeList-ariaTreeList":"Tree list with {0} rows and {1} columns","dxTreeList-ariaExpandableInstruction":"Press Ctrl + right arrow to expand the focused node and Ctrl + left arrow to collapse it","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSize":"Items per page: {0}","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous page","dxPager-nextPage":"Next page","dxPager-ariaLabel":"Page navigation","dxPager-ariaPageSize":"Page size","dxPager-ariaPageNumber":"Page number","dxPagination-infoText":"Page {0} of {1} ({2} items)","dxPagination-pagesCountText":"of","dxPagination-pageSize":"Items per page: {0}","dxPagination-pageSizesAllText":"All","dxPagination-page":"Page {0}","dxPagination-prevPage":"Previous page","dxPagination-nextPage":"Next page","dxPagination-ariaLabel":"Page navigation","dxPagination-ariaPageSize":"Page size","dxPagination-ariaPageNumber":"Page number","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-dateRange":"from {0} to {1}","dxScheduler-ariaLabel":"Scheduler. {0} view: {1} with {2} appointments","dxScheduler-ariaLabel-currentIndicator-present":"The current time indicator is visible in the view","dxScheduler-ariaLabel-currentIndicator-not-present":"The current time indicator is not visible on the screen","dxScheduler-appointmentAriaLabel-group":"Group: {0}","dxScheduler-appointmentAriaLabel-recurring":"Recurring appointment","dxScheduler-appointmentListAriaLabel":"Appointment list","dxScheduler-newPopupTitle":"New Appointment","dxScheduler-editPopupTitle":"Edit Appointment","dxScheduler-editPopupSaveButtonText":"Save","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-noSubject":"(No subject)","dxScheduler-navigationToday":"Today","dxScheduler-navigationPrevious":"Previous page","dxScheduler-navigationNext":"Next page","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceUntilDateLabel":"Date when repeat ends","dxScheduler-recurrenceOccurrenceLabel":"Number of occurrences","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-ariaEditForm":"Edit form","dxScheduler-confirmRecurrenceEditTitle":"Edit Recurring Appointment","dxScheduler-confirmRecurrenceDeleteTitle":"Delete Recurring Appointment","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-currentDay":"Today","dxCalendar-currentMonth":"Current month","dxCalendar-currentYear":"Current year","dxCalendar-currentYearRange":"Current year range","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxCalendar-previousMonthButtonLabel":"Previous month","dxCalendar-previousYearButtonLabel":"Previous year","dxCalendar-previousDecadeButtonLabel":"Previous decade","dxCalendar-previousCenturyButtonLabel":"Previous century","dxCalendar-nextMonthButtonLabel":"Next month","dxCalendar-nextYearButtonLabel":"Next year","dxCalendar-nextDecadeButtonLabel":"Next decade","dxCalendar-nextCenturyButtonLabel":"Next century","dxCalendar-captionMonthLabel":"Month selection","dxCalendar-captionYearLabel":"Year selection","dxCalendar-captionDecadeLabel":"Decade selection","dxCalendar-captionCenturyLabel":"Century selection","dxCalendar-selectedDate":"The selected date is {0}","dxCalendar-selectedDates":"The selected dates","dxCalendar-selectedDateRange":"The selected date range is from {0} to {1}","dxCalendar-selectedMultipleDateRange":"from {0} to {1}","dxCalendar-selectedDateRangeCount":"There are {0} selected date ranges","dxCalendar-readOnlyLabel":"Read-only calendar","dxCardView-ariaSearchInGrid":"Search in the card view","dxCardView-ariaHeaderItemLabel":"Field name {0}","dxCardView-ariaHeaderItemSortingAscendingLabel":"Sorted in ascending order","dxCardView-ariaHeaderItemSortingDescendingLabel":"Sorted in descending order","dxCardView-ariaHeaderItemSortingIndexLabel":"Sort index {0}","dxCardView-ariaHeaderHasHeaderFilterLabel":"Header filter applied","dxCardView-ariaSelectCard":"Select card","dxCardView-ariaCardView":"Card view with {0} cards. Each card has {1} fields","dxCardView-ariaCard":"Card","dxCardView-ariaEditableCard":"Editable card","dxCardView-ariaCardPosition":"Row {0}, column {1}","dxCardView-ariaSelectedCardState":"Selected","dxCardView-ariaNotSelectedCardState":"Not selected","dxCardView-selectAll":"Select all","dxCardView-clearSelection":"Clear selection","dxCardView-cardNoImageAriaLabel":"No image","dxCardView-headerItemDropZoneText":"Drop the header item here","dxCardView-emptyHeaderPanelText":"Use {0} to display columns","dxCardView-emptyHeaderPanelColumnChooserText":"column chooser","dxAvatar-defaultImageAlt":"Avatar","dxChat-elementAriaLabel":"Chat","dxChat-textareaPlaceholder":"Type a message","dxChat-sendButtonAriaLabel":"Send","dxChat-cancelEditingButtonAriaLabel":"Cancel","dxChat-editingMessageCaption":"Edit Message","dxChat-defaultUserName":"Unknown User","dxChat-messageListAriaLabel":"Message list","dxChat-alertListAriaLabel":"Error list","dxChat-emptyListMessage":"There are no messages in this chat","dxChat-emptyListPrompt":"Write your first message","dxChat-typingMessageSingleUser":"{0} is typing...","dxChat-typingMessageTwoUsers":"{0} and {1} are typing...","dxChat-typingMessageThreeUsers":"{0}, {1} and {2} are typing...","dxChat-typingMessageMultipleUsers":"{0} and others are typing...","dxChat-editedMessageText":"Edited","dxChat-editingEditMessage":"Edit","dxChat-editingDeleteMessage":"Delete","dxChat-editingDeleteConfirmText":"Are you sure you want to delete this message?","dxChat-deletedMessageText":"This message was deleted","dxChat-defaultImageAlt":"Image shared in chat","dxChat-fileViewLabel":"File list","dxChat-downloadButtonLabel":"Download file {0}","dxChat-fileLimitReachedWarning":"You selected too many files. Select no more than {0} files and retry.","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","dxTagBox-tagRoleDescription":"Tag. Press the delete button to remove this tag","dxTagBox-ariaRoleDescription":"Tag box","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxFilterBuilder-filterAriaRootElement":"Filter builder","dxFilterBuilder-filterAriaGroupLevel":"Level {0}","dxFilterBuilder-filterAriaGroupItem":"Group item","dxFilterBuilder-filterAriaOperationButton":"Operation","dxFilterBuilder-filterAriaAddButton":"Add","dxFilterBuilder-filterAriaRemoveButton":"Remove {0}","dxFilterBuilder-filterAriaItemField":"Item field","dxFilterBuilder-filterAriaItemOperation":"Item operation","dxFilterBuilder-filterAriaItemValue":"Item value","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-borderWidth":"Border Width","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxHtmlEditor-borderStyleNone":"none","dxHtmlEditor-borderStyleHidden":"hidden","dxHtmlEditor-borderStyleDotted":"dotted","dxHtmlEditor-borderStyleDashed":"dashed","dxHtmlEditor-borderStyleSolid":"solid","dxHtmlEditor-borderStyleDouble":"double","dxHtmlEditor-borderStyleGroove":"groove","dxHtmlEditor-borderStyleRidge":"ridge","dxHtmlEditor-borderStyleInset":"inset","dxHtmlEditor-borderStyleOutset":"outset","dxHtmlEditor-aiDialogTitle":"AI Assistant","dxHtmlEditor-aiDialogError":"Something went wrong. Please try again.","dxHtmlEditor-aiDialogCanceled":"Generation canceled","dxHtmlEditor-aiReplace":"Replace","dxHtmlEditor-aiInsertAbove":"Insert above","dxHtmlEditor-aiInsertBelow":"Insert below","dxHtmlEditor-aiCopy":"Copy","dxHtmlEditor-aiRegenerate":"Regenerate","dxHtmlEditor-aiGenerate":"Generate","dxHtmlEditor-aiCancel":"Cancel","dxHtmlEditor-aiToolbarItemAriaLabel":"AI Assistant toolbar item","dxHtmlEditor-aiResultTextAreaAriaLabel":"AI Assistant result","dxHtmlEditor-aiAskPlaceholder":"Ask AI to modify text","dxHtmlEditor-aiCommandSummarize":"Summarize","dxHtmlEditor-aiCommandProofread":"Proofread","dxHtmlEditor-aiCommandExpand":"Expand","dxHtmlEditor-aiCommandShorten":"Shorten","dxHtmlEditor-aiCommandChangeStyle":"Change Style","dxHtmlEditor-aiCommandChangeTone":"Change Tone","dxHtmlEditor-aiCommandTranslate":"Translate","dxHtmlEditor-aiCommandAskAI":"Ask AI","dxHtmlEditor-aiCommandChangeStyleFormal":"Formal","dxHtmlEditor-aiCommandChangeStyleInformal":"Informal","dxHtmlEditor-aiCommandChangeStyleTechnical":"Technical","dxHtmlEditor-aiCommandChangeStyleBusiness":"Business","dxHtmlEditor-aiCommandChangeStyleCreative":"Creative","dxHtmlEditor-aiCommandChangeStyleJournalistic":"Journalistic","dxHtmlEditor-aiCommandChangeStyleAcademic":"Academic","dxHtmlEditor-aiCommandChangeStylePersuasive":"Persuasive","dxHtmlEditor-aiCommandChangeStyleNarrative":"Narrative","dxHtmlEditor-aiCommandChangeStyleExpository":"Expository","dxHtmlEditor-aiCommandChangeStyleDescriptive":"Descriptive","dxHtmlEditor-aiCommandChangeStyleConversational":"Conversational","dxHtmlEditor-aiCommandChangeToneProfessional":"Professional","dxHtmlEditor-aiCommandChangeToneCasual":"Casual","dxHtmlEditor-aiCommandChangeToneStraightforward":"Straightforward","dxHtmlEditor-aiCommandChangeToneConfident":"Confident","dxHtmlEditor-aiCommandChangeToneFriendly":"Friendly","dxHtmlEditor-aiCommandTranslateArabic":"Arabic","dxHtmlEditor-aiCommandTranslateChinese":"Chinese","dxHtmlEditor-aiCommandTranslateEnglish":"English","dxHtmlEditor-aiCommandTranslateFrench":"French","dxHtmlEditor-aiCommandTranslateGerman":"German","dxHtmlEditor-aiCommandTranslateJapanese":"Japanese","dxHtmlEditor-aiCommandTranslateSpanish":"Spanish","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}","dxGallery-itemName":"Gallery item","dxMultiView-elementAriaRoleDescription":"MultiView","dxMultiView-elementAriaLabel":"Use the arrow keys or swipe to navigate between views","dxMultiView-itemAriaRoleDescription":"View","dxMultiView-itemAriaLabel":"{0} of {1}","dxSplitter-resizeHandleAriaLabel":"Split bar","dxSplitter-resizeHandleAriaRoleDescription":"Separator","dxStepper-optionalMark":"(Optional)","dxSpeechToText-ariaLabelStart":"Press to start voice transcription","dxSpeechToText-ariaLabelStop":"Press to stop voice transcription"}},R6=function(i){return i==null?"":String(i)},f1=function(i){return R6(i).charAt(0).toUpperCase()+i.substr(1)},m1=function(i){return R6(i).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},gp=function(i){return Mn(m1(i),function(e){return e.toLowerCase()}).join("-")},hz=function(i){return gp(i).replace(/-/g,"_")},Rc=function(i,e){return Mn(m1(i),function(t,n){return t=t.toLowerCase(),(e||n>0)&&(t=f1(t)),t}).join("")},P6=function(i){return f1(gp(i).replace(/-/g," "))},Pc=function(i){return Mn(m1(i),function(e){return f1(e.toLowerCase())}).join(" ")},pz=["0","1","2","3","4","5","6","7","8","9"],Mc=function(i){const e=[];let t,n,s=!1,r=!1;for(t=0;t<i.length;t++)n=i.charAt(t),r=n===n.toUpperCase()&&n!=="-"&&n!==")"&&n!=="/"||n in pz,n==="_"||n==="."?(n=" ",r=!0):t===0?(n=n.toUpperCase(),r=!0):!s&&r&&e.length>0&&e.push(" "),e.push(n),s=r;return e.join("")},M6={dasherize:gp,underscore:hz,camelize:Rc,humanize:P6,titleize:Pc,captionize:Mc},fz=se(!0,{},uz),mz=(i,e)=>{var t;return i[e]||(e==null?void 0:e.toLowerCase)&&((t=Object.entries(i).find(n=>{let[s]=n;return s.toLowerCase()===e.toLowerCase()}))===null||t===void 0?void 0:t[1])||{}},Bv={},ue=cr({engine:()=>"base",_dictionary:fz,load(i){se(!0,this._dictionary,i)},_localizablePrefix:"@",setup(i){this._localizablePrefix=i},localizeString(i){const e=this,t=new RegExp(`(^|[^a-zA-Z_0-9${e._localizablePrefix}-]+)(${e._localizablePrefix}{1,2})([a-zA-Z_0-9-]+)`,"g"),n=e._localizablePrefix+e._localizablePrefix;return i.replace(t,(s,r,o,a)=>{const l=e._localizablePrefix+a;let d;return o!==n&&(d=e.format(a)),d||(Bv[a]=P6(a)),r+(d||l)})},getMessagesByLocales(){return this._dictionary},getDictionary(i){return i?Bv:se({},Bv,this.getMessagesByLocales()[Bs.locale()])},getFormatter(i){return this._getFormatterBase(i)||this._getFormatterBase(i,"en")},_getFormatterBase(i,e){const t=Bs.getValueByClosestLocale(n=>mz(this._dictionary,n)[i]);if(t)return function(){const n=arguments.length===1&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return n.unshift(t),Fs.apply(this,n)}},format(i){const e=this.getFormatter(i),t=Array.prototype.slice.call(arguments,1);return(e==null?void 0:e.apply(this,t))||""}}),fu=new WeakMap;let Rl;const gz=new e1;let F6=function(){};const _z=function(i){gz.fire(i),Rl=i;const{cleanData:e}=Rl;Rl.cleanData=function(t){return F6(t),e.call(this,t)}};_z({data:function(){const i=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1],t=arguments.length<=2?void 0:arguments[2];if(!i)return;let n=fu.get(i);return n||(n={},fu.set(i,n)),e===void 0?n:arguments.length===2?n[e]:(n[e]=t,t)},removeData:function(i,e){if(i)if(e===void 0)fu.delete(i);else{const t=fu.get(i);t&&delete t[e]}},cleanData:function(i){for(let e=0;e<i.length;e++)Y.off(i[e]),fu.delete(i[e])}});function kn(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return Rl.data.apply(this,e)}function vz(i){F6=i}function P0(i,e){return Rl.removeData.call(this,i,e)}function _p(i,e){if(!ve.isElementNode(i))return;const t=i.getElementsByTagName("*");Rl.cleanData(t),e&&Rl.cleanData([i])}const B6=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,jr={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};jr.tbody=jr.colgroup=jr.caption=jr.tfoot=jr.thead;jr.th=jr.td;const g1=function(i){if(typeof i!="string")return null;let t=ve.createDocumentFragment().appendChild(ve.createElement("div"));const n=B6.exec(i),s=n==null?void 0:n[1].toLowerCase(),r=jr[s]||jr.default;t.innerHTML=r.startTags+i+r.endTags;for(let o=0;o<r.tagsCount;o++)t=t.lastChild;return[...t.childNodes]},xz=function(i){const e=B6.exec(i);return e&&e[1]in jr},_g=bt(),bz=["auto","none","inherit","initial"],Nv=function(i,e){let t=0;return e.forEach(function(n){t+=parseFloat(i[n])||0}),t},_1=function(i,e){const t=i==="width"?"Left":"Top",n=i==="width"?"Right":"Bottom";return{padding:Nv(e,[`padding${t}`,`padding${n}`]),border:Nv(e,[`border${t}Width`,`border${n}Width`]),margin:Nv(e,[`margin${t}`,`margin${n}`])}},N6=function(i){var e;const t=(i==null||(e=i.ownerDocument)===null||e===void 0?void 0:e.defaultView)||_g;return t.getComputedStyle&&t.getComputedStyle(i)},fy=function(i,e,t,n){var s;return(e==null?void 0:e[t])||((s=i.style)===null||s===void 0?void 0:s[t])||n},Sd={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},G2={width:["left","right"],height:["top","bottom"]};function mu(i,e,t,n){const s=(o,a,l)=>parseFloat(fy(o,a,l,"0"))||0,r=t==="border"?"-width":"";return s(i,n,`${t}-${G2[e][0]}${r}`)+s(i,n,`${t}-${G2[e][1]}${r}`)}const yz=function(i,e,t){const n=e==="width"?"offsetWidth":"offsetHeight",s=N6(i);let r=fy(i,s,e);(r===""||r==="auto")&&(r=i[n]),r=parseFloat(r)||0;const o=fy(i,s,"boxSizing","content-box");let l=Sd[t||o],d=Sd[o];if(l===void 0||d===void 0)throw new Error;if(d===l)return r;const c=Math.sign(l-d);let h=!1,u=!1,p=!1,f=!1;c===1&&(l+=1,d+=1);for(let g=d;g!==l;g+=c)switch(g){case Sd.content:break;case Sd.padding:h=c*mu(i,e,"padding",s);break;case Sd.border:u=c*mu(i,e,"border",s);break;case Sd.margin:p=c*mu(i,e,"margin",s)}if(h||u){const g=(h===!1?c*mu(i,e,"padding",s):h)+(u===!1?c*mu(i,e,"border",s):u);f=c*Math.max(0,Math.floor(i[n]-r-c*g))||0}return r+p+h+u+f},Cz=function(i){return jn(i)?i.innerHeight:i.offsetHeight},V6=function(i,e,t){return i.indexOf("px")>0?i=parseInt(i.replace("px","")):i.indexOf("%")>0?i=parseInt(i.replace("%",""))*Cz(e)/100:isNaN(i)?i.indexOf("vh")>0?i=_g.innerHeight/100*parseInt(i.replace("vh","")):t&&i.indexOf("em")>0&&(i=parseFloat(i.replace("em",""))*parseFloat(_g.getComputedStyle(t).fontSize)):i=parseInt(i),i},L6=function(i,e,t){if(!i)return null;if(bz.includes(i))return e?null:i;if(Ke(i)&&(i=V6(i,t)),jt(i))return Math.max(0,i+e);const n=e<0?" - ":" ";return`calc(${i}${n}${Math.abs(e)}px)`},wz=function(i,e,t){const n=L6(i,e,t);return n!==null?n:"none"},Sz=function(i,e,t){const n=L6(i,e,t);return n!==null?n:0},_c=function(i,e){if(!i)return 0;const t=_1("height",_g.getComputedStyle(i));return t.padding+t.border+(e?t.margin:0)},q2=function(i){if(i){var e;const t=(e=i.getBoundingClientRect)===null||e===void 0?void 0:e.call(i);if(t!=null&&t.height)return t.height}return 0},eo={getWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("width",...e)},setWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("width",...e)},getHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("height",...e)},setHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("height",...e)},getOuterWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("outerWidth",...e)},setOuterWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("outerWidth",...e)},getOuterHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("outerHeight",...e)},setOuterHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("outerHeight",...e)},getInnerWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("innerWidth",...e)},setInnerWidth:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("innerWidth",...e)},getInnerHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("innerHeight",...e)},setInnerHeight:function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return zs("innerHeight",...e)}};function zs(i,e,t){return arguments.length===2?_y(e,i):_y(e,i,t)}const Xe=i=>eo.getWidth(i),$h=(i,e)=>eo.setWidth(i,e),ht=i=>eo.getHeight(i),$a=(i,e)=>eo.setHeight(i,e),kt=(i,e)=>eo.getOuterWidth(i,e||!1),Y2=(i,e)=>eo.setOuterWidth(i,e),gt=(i,e)=>eo.getOuterHeight(i,e||!1),X2=(i,e)=>eo.setOuterHeight(i,e),my=i=>eo.getInnerWidth(i),gy=i=>eo.getInnerHeight(i),_y=function(i,e,t){const n=e.toLowerCase().indexOf("width")>=0?"Width":"Height",s=n.toLowerCase(),r=e.indexOf("outer")===0,o=e.indexOf("inner")===0,a=arguments.length===2||typeof t=="boolean";if(Dr(i)){if(i.length>1&&!a){for(let l=0;l<i.length;l++)_y(i[l],e,t);return}i=i[0]}if(i){if(jn(i))return r?i[`inner${n}`]:ve.getDocumentElement()[`client${n}`];if(ve.isDocument(i)){const l=ve.getDocumentElement(),d=ve.getBody();return Math.max(d[`scroll${n}`],d[`offset${n}`],l[`scroll${n}`],l[`offset${n}`],l[`client${n}`])}if(a){let l="content";return r&&(l=t?"margin":"border"),o&&(l="padding"),yz(i,s,l)}if(jt(t)){const l=N6(i),d=_1(s,l),c=l.boxSizing==="border-box";t=Number(t),r?t-=c?0:d.border+d.padding:o?t+=c?d.border:-d.padding:c&&(t+=d.border+d.padding)}return t+=jt(t)?"px":"",ve.setStyle(i,s,t),null}},$6=i=>jn(i)?i:i.defaultView,vy=i=>{if(!i.getClientRects().length)return{top:0,left:0};const e=i.getBoundingClientRect(),t=$6(i.ownerDocument),n=i.ownerDocument.documentElement;return{top:e.top+t.pageYOffset-n.clientTop,left:e.left+t.pageXOffset-n.clientLeft}},vg=["","Webkit","Moz","O","Ms"],Ez={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},xy=jo(function(){return ve.createElement("dx").style}),Iz=function(i,e){i=Rc(i,!0);let t;for(let n=0,s=vg.length;n<s;n++){const r=vg[n],o=r+i,a=Rc(o);if(t=e(a,r),t===void 0&&(t=e(o,r)),t!==void 0)break}return t||""},ad=function(i){if(i in xy())return i;const e=i;i=i.charAt(0).toUpperCase()+i.substr(1);for(let t=1;t<vg.length;t++){const n=vg[t].toLowerCase()+i;if(n in xy())return n}return e},Cm=function(i){return Iz(i,function(e,t){if(e in xy())return Ez[t]})},Tz=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],Hh=function(i,e){return jt(e)&&!Tz.includes(i)&&(e+="px"),e},H6=function(i,e,t){if(i){t=jt(t)?t+="px":t;for(let n=0;n<i.length;++n)i[n].style[e]=t}},by=function(i,e){H6(i,"width",e)},Vv=function(i,e){H6(i,"height",e)},j6=function(i,e){(arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0)&&[].slice.call(i.style).forEach(s=>{i.style.removeProperty(s)}),e.split(";").forEach(n=>{const s=n.split(":").map(r=>r.trim());if(s.length===2){const[r,o]=s;i.style[r]=o}})},Dz=bt();let At;const at=function(i,e){return i?typeof i=="string"?i==="body"?(this[0]=e?e.body:ve.getBody(),this.length=1,this):(e=e||ve.getDocument(),i.startsWith("<")?(this[0]=ve.createElement(i.slice(1,-1),e),this.length=1,this):([].push.apply(this,ve.querySelectorAll(e,i)),this)):ve.isNode(i)||jn(i)?(this[0]=i,this.length=1,this):Array.isArray(i)?([].push.apply(this,i),this):At(i.toArray?i.toArray():[i]):(this.length=0,this)};At=function(i,e){return new at(i,e)};At.fn={dxRenderer:!0};at.prototype=At.fn;const Yc=function(i,e){for(let t=0;t<this.length;t++){const n=At(this[t]);n[i].apply(n,e)}return this},yy=function(i,e,t){t!=null&&t!==!1?ve.setAttribute(i,e,t):ve.removeAttribute(i,e)};at.prototype.show=function(){return this.toggle(!0)};at.prototype.hide=function(){return this.toggle(!1)};at.prototype.toggle=function(i){return this[0]&&this.toggleClass("dx-state-invisible",!i),this};at.prototype.attr=function(i,e){if(this.length>1&&arguments.length>1)return Yc.call(this,"attr",arguments);if(!this[0])return Me(i)||e!==void 0?this:void 0;if(!this[0].getAttribute)return this.prop(i,e);if(typeof i=="string"&&arguments.length===1){const t=this[0].getAttribute(i);return t??void 0}if(ot(i))for(const t in i)this.attr(t,i[t]);else yy(this[0],i,e);return this};at.prototype.removeAttr=function(i){return this.each(function(e,t){ve.removeAttribute(t,i)}),this};at.prototype.prop=function(i,e){if(!this[0])return this;if(typeof i=="string"&&arguments.length===1)return this[0][i];if(ot(i))for(const t in i)this.prop(t,i[t]);else ve.setProperty(this[0],i,e);return this};at.prototype.addClass=function(i){return this.toggleClass(i,!0)};at.prototype.removeClass=function(i){return this.toggleClass(i,!1)};at.prototype.hasClass=function(i){const e=i.split(" ");for(let t=0;t<this.length;t++)if(!(!this[t]||!this[t].className)){for(let n=0;n<e.length;n++)if(this[t].classList.contains(e[n]))return!0}return!1};at.prototype.toggleClass=function(i,e){if(this.length>1)return Yc.call(this,"toggleClass",arguments);if(!this[0]||!i)return this;e=e===void 0?!this.hasClass(i):e;const t=i.split(" ");for(let n=0;n<t.length;n++)ve.setClass(this[0],t[n],e);return this};at.prototype.html=function(i){return arguments.length?(this.empty(),typeof i=="string"&&!xz(i)||typeof i=="number"?(this[0].innerHTML=i,this):this.append(g1(i))):this[0].innerHTML};const z6=function(i,e){if(!(!this[0]||!i)){typeof i=="string"?i=g1(i):i.nodeType?i=[i]:jt(i)&&(i=[ve.createTextNode(i)]);for(let t=0;t<i.length;t++){const n=i[t];let s=this[0];s.tagName==="TABLE"&&n.tagName==="TR"&&s.tBodies&&s.tBodies.length&&(s=s.tBodies[0]),ve.insertElement(s,n.nodeType?n:n[0],e)}}},Z2=function(i,e){if(!(!this[0]||!this[0].style)&&!(e===null||typeof e=="number"&&isNaN(e))){i=ad(i);for(let t=0;t<this.length;t++)this[t].style[i]=Hh(i,e)}};at.prototype.css=function(i,e){if(Ke(i))if(arguments.length===2)Z2.call(this,i,e);else{if(!this[0])return;i=ad(i);const t=Dz.getComputedStyle(this[0])[i]||this[0].style[i];return jt(t)?t.toString():t}else if(ot(i))for(const t in i)Z2.call(this,t,i[t]);return this};at.prototype.prepend=function(i){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return z6.apply(this,[i,this[0].firstChild]),this};at.prototype.append=function(i){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return z6.apply(this,[i]),this};at.prototype.prependTo=function(i){if(this.length>1){for(let e=this.length-1;e>=0;e--)At(this[e]).prependTo(i);return this}return i=At(i),i[0]&&ve.insertElement(i[0],this[0],i[0].firstChild),this};at.prototype.appendTo=function(i){return this.length>1?Yc.call(this,"appendTo",arguments):(ve.insertElement(At(i)[0],this[0]),this)};at.prototype.insertBefore=function(i){return i&&i[0]&&ve.insertElement(i[0].parentNode,this[0],i[0]),this};at.prototype.insertAfter=function(i){return i&&i[0]&&ve.insertElement(i[0].parentNode,this[0],i[0].nextSibling),this};at.prototype.before=function(i){return this[0]&&ve.insertElement(this[0].parentNode,i[0],this[0]),this};at.prototype.after=function(i){return this[0]&&ve.insertElement(this[0].parentNode,i[0],this[0].nextSibling),this};at.prototype.wrap=function(i){if(this[0]){const e=At(i);e.insertBefore(this),e.append(this)}return this};at.prototype.wrapInner=function(i){const e=this.contents();return e.length?e.wrap(i):this.append(i),this};at.prototype.replaceWith=function(i){if(i&&i[0])return i.is(this)?this:(i.insertBefore(this),this.remove(),i)};at.prototype.remove=function(){return this.length>1?Yc.call(this,"remove",arguments):(_p(this[0],!0),ve.removeElement(this[0]),this)};at.prototype.detach=function(){return this.length>1?Yc.call(this,"detach",arguments):(ve.removeElement(this[0]),this)};at.prototype.empty=function(){return this.length>1?Yc.call(this,"empty",arguments):(_p(this[0]),ve.setText(this[0],""),this)};at.prototype.clone=function(){const i=[];for(let e=0;e<this.length;e++)i.push(this[e].cloneNode(!0));return At(i)};at.prototype.text=function(i){if(!arguments.length){let t="";for(let n=0;n<this.length;n++)t+=this[n]&&this[n].textContent||"";return t}const e=Ie(i)?i():i;return _p(this[0],!1),ve.setText(this[0],G(e)?e:""),this};at.prototype.val=function(i){return arguments.length===1?this.prop("value",G(i)?i:""):this.prop("value")};at.prototype.contents=function(){if(!this[0])return At();const i=[];return i.push.apply(i,this[0].childNodes),At(i)};at.prototype.find=function(i){const e=At();if(!i)return e;const t=[];let n;if(typeof i=="string")for(i=i.trim(),n=0;n<this.length;n++){const s=this[n];if(ve.isElementNode(s)){const r=s.getAttribute("id");let o=r||"dx-query-children";r||yy(s,"id",o),o=`[id='${o}'] `;const a=o+i.replace(/([^\\])(,)/g,`$1, ${o}`);t.push.apply(t,ve.querySelectorAll(s,a)),yy(s,"id",r)}else(ve.isDocument(s)||ve.isDocumentFragment(s))&&t.push.apply(t,ve.querySelectorAll(s,i))}else for(n=0;n<this.length;n++)i=ve.isNode(i)?i:i[0],this[n]!==i&&this[n].contains(i)&&t.push(i);return e.add(t)};const Q2=function(i,e){var t,n;return e=e.host??e,e.nodeType?!!(e.offsetWidth||e.offsetHeight||(t=(n=e).getClientRects)!==null&&t!==void 0&&t.call(n).length):!0};at.prototype.filter=function(i){if(!i)return At();if(i===":visible")return this.filter(Q2);if(i===":hidden")return this.filter(function(t,n){return!Q2(0,n)});const e=[];for(let t=0;t<this.length;t++){const n=this[t];if(ve.isElementNode(n)&&Ji(i)==="string")ve.elementMatches(n,i)&&e.push(n);else if(ve.isNode(i)||jn(i))i===n&&e.push(n);else if(Ie(i))i.call(n,t,n)&&e.push(n);else for(let s=0;s<i.length;s++)i[s]===n&&e.push(n)}return At(e)};at.prototype.not=function(i){const e=[],t=this.filter(i).toArray();for(let n=0;n<this.length;n++)t.indexOf(this[n])===-1&&e.push(this[n]);return At(e)};at.prototype.is=function(i){return!!this.filter(i).length};at.prototype.children=function(i){let e=[];for(let t=0;t<this.length;t++){const n=this[t]?this[t].childNodes:[];for(let s=0;s<n.length;s++)ve.isElementNode(n[s])&&e.push(n[s])}return e=At(e),i?e.filter(i):e};at.prototype.siblings=function(){const i=this[0];if(!i||!i.parentNode)return At();const e=[],t=i.parentNode.childNodes||[];for(let n=0;n<t.length;n++){const s=t[n];ve.isElementNode(s)&&s!==i&&e.push(s)}return At(e)};at.prototype.each=function(i){for(let e=0;e<this.length&&i.call(this[e],e,this[e])!==!1;e++);};at.prototype.index=function(i){return i?(i=At(i),this.toArray().indexOf(i[0])):this.parent().children().index(this)};at.prototype.get=function(i){return this[i<0?this.length+i:i]};at.prototype.eq=function(i){return i=i<0?this.length+i:i,At(this[i])};at.prototype.first=function(){return this.eq(0)};at.prototype.last=function(){return this.eq(-1)};at.prototype.select=function(){for(let i=0;i<this.length;i+=1)this[i].select&&this[i].select();return this};at.prototype.parent=function(i){if(!this[0])return At();const e=At(this[0].parentNode);return!i||e.is(i)?e:At()};at.prototype.parents=function(i){const e=[];let t=this.parent();for(;t&&t[0]&&!ve.isDocument(t[0]);)ve.isElementNode(t[0])&&(!i||t.is(i))&&e.push(t.get(0)),t=t.parent();return At(e)};at.prototype.closest=function(i){if(this.is(i))return this;let e=this.parent();for(;e&&e.length;){if(e.is(i))return e;e=e.parent()}return At()};at.prototype.next=function(i){if(!this[0])return At();let e=At(this[0].nextSibling);if(!arguments.length)return e;for(;e&&e.length;){if(e.is(i))return e;e=e.next()}return At()};at.prototype.prev=function(){return this[0]?At(this[0].previousSibling):At()};at.prototype.add=function(i){const e=At(i),t=this.toArray();for(let n=0;n<e.length;n++){const s=e[n];t.indexOf(s)===-1&&t.push(s)}return At(t)};const v1=[];at.prototype.splice=function(){return At(v1.splice.apply(this,arguments))};at.prototype.slice=function(){return At(v1.slice.apply(this,arguments))};at.prototype.toArray=function(){return v1.slice.call(this)};at.prototype.offset=function(){if(this[0])return vy(this[0])};at.prototype.offsetParent=function(){if(!this[0])return At();let i=At(this[0].offsetParent);for(;i[0]&&i.css("position")==="static";)i=At(i[0].offsetParent);return i=i[0]?i:At(ve.getDocumentElement()),i};at.prototype.position=function(){if(!this[0])return;let i;const e=parseFloat(this.css("marginTop")),t=parseFloat(this.css("marginLeft"));if(this.css("position")==="fixed")return i=this[0].getBoundingClientRect(),{top:i.top-e,left:i.left-t};i=this.offset();const n=this.offsetParent();let s={top:0,left:0};return n[0].nodeName!=="HTML"&&(s=n.offset()),s={top:s.top+parseFloat(n.css("borderTopWidth")),left:s.left+parseFloat(n.css("borderLeftWidth"))},{top:i.top-s.top-e,left:i.left-s.left-t}};[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(i,e){i.scrollTo(e,i.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(i,e){i.scrollTo(i.pageXOffset,e)}}].forEach(function(i){const e=i.name;at.prototype[e]=function(t){if(!this[0])return;const n=$6(this[0]);return t===void 0?n?n[i.offsetProp]:this[0][e]:(n?i.scrollWindow(n,t):this[0][e]=t,this)}});at.prototype.data=function(i,e){if(this[0])return arguments.length<2?kn.call(At,this[0],i):(kn.call(At,this[0],i,e),this)};at.prototype.removeData=function(i){return this[0]&&P0(this[0],i),this};const W6=function(){return At.apply(this,arguments)};Object.defineProperty(W6,"fn",{enumerable:!0,configurable:!0,get:function(){return At.fn},set:function(i){At.fn=i}});const Az={set:function(i){At=i},get:function(){return W6}},M=Az.get(),Cy={ariaColIndex:"aria-colindex",dragCell:"dx-drag-cell"},gu="rowsview",kz="table",Oz="edit-form",U6="dx-data-row",Rz="dx-group-row",Pz="dx-header-row",Mz="edit-form-item",K6="dx-master-detail-row",G6="dx-freespace-row",Fz="dx-virtual-row",Lv="dx-master-detail-cell",Bz="dx-dropdowneditor-overlay",If="dx-command-expand",Nz="dx-command-adaptive",Vz="dx-adaptive-item-text",q6="dx-command-select",Y6="dx-command-edit",$v="[class^=dx-command]",_u="dx-cell-focus-disabled",Lz="dxDateBox",J2="dx-state-focused",$z="dx-widget",Hz="dx-revert-button",eT="dx-focused",Hv="delete",nh=`
  input:not([type="hidden"]):not([disabled]),
  textarea:not([disabled]),
  a:not([disabled]),
  select:not([disabled]),
  button:not([disabled]),
  [tabindex]:not([disabled]),
  .dx-checkbox:not([disabled],.dx-state-readonly)
`,tT=`${nh}, .dx-dropdowneditor-icon`,nT="row",iT="cell",sT="columnHeadersView",jz="rowsView",zz=["shift","control","alt"],Wz="drag";var qi;(function(i){i.Next="next",i.Previous="previous"})(qi||(qi={}));var rT;(function(i){i.Group="group",i.Headers="headers"})(rT||(rT={}));const wy={G:71},oT="arrowleft",aT="arrowright",X6=i=>class extends i{constructor(){super(...arguments),this.isNeedToFocusColumn=!1}getMoveColumnContextMenuItems(e){var t,n;const{column:s,rowIndex:r}=e,o=(t=this.isColumnReorderingEnabled)===null||t===void 0?void 0:t.call(this,e==null?void 0:e.column),a=(n=this.getKeyboardNavigationController)===null||n===void 0?void 0:n.call(this);if(!o||!a)return[];const l=this.option("rtlEnabled"),d=c=>{var h;this.isNeedToFocusColumn=!0,a.moveColumn(s,(h=c.itemData)===null||h===void 0?void 0:h.value,r)};return[{text:l?ue.format("dxDataGrid-moveColumnToTheRight"):ue.format("dxDataGrid-moveColumnToTheLeft"),value:qi.Previous,beginGroup:!0,disabled:!a.canReorderColumn(s,qi.Previous,r),icon:l?aT:oT,onItemClick:d},{text:l?ue.format("dxDataGrid-moveColumnToTheLeft"):ue.format("dxDataGrid-moveColumnToTheRight"),value:qi.Next,disabled:!a.canReorderColumn(s,qi.Next,r),icon:l?oT:aT,onItemClick:d}]}},xg={draggableColumn:"draggable-column"},Z6=(i,e)=>{if(!Uz(i))return!1;const t=i.nodeName.toLowerCase(),n=!isNaN(e),s=i.disabled,r=/^(input|select|textarea|button|object|iframe)$/.test(t),o=t==="a";let a;const{isContentEditable:l}=i;return r||l?a=!s:o?a=i.href||n:a=n,a};function Uz(i){const e=M(i);return e.is(":visible")&&e.css("visibility")!=="hidden"&&e.parents().css("visibility")!=="hidden"}const Sy=(i,e)=>Z6(e,M(e).attr("tabIndex")),Kz=(i,e)=>{const t=M(e).attr("tabIndex");return(isNaN(t)||t>=0)&&Z6(e,t)},Ha=i=>{const e=M(i).get(0);return ve.getActiveElement(e)===e},lT={tabbable:Kz},Ey=(i,e)=>{if(!e)throw Ut.Error("E0017");return Array.isArray(i)?i.map(t=>Ey(t,e)).join(" "):i.indexOf(" ")!==-1?Ey(i.split(/\s+/g),e):`${i}.${e}`},Gz={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},qz={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},Yz={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},vp=i=>{let{type:e}=i,t="other";return ie(Yz,function(n){if(this.test(e))return t=n,!1}),t};let Xz=i=>i;const Zz=i=>Y.Event(i,i),Qz=i=>Xz(Zz(i)),x1=i=>vp(i)==="dx",Jz=i=>vp(i)==="mouse",Q6=i=>vp(i)==="touch",J6=i=>vp(i)==="pointer",ql=i=>Jz(i)||(J6(i)||x1(i))&&i.pointerType==="mouse",Li=i=>i&&i.type==="dxmousewheel",xp=i=>Q6(i)||(J6(i)||x1(i))&&i.pointerType==="touch",On=i=>{let{pageX:e,pageY:t,timeStamp:n}=i;return{x:e,y:t,time:n}},El=(i,e)=>({x:e.x-i.x,y:e.y-i.y,time:e.time-i.time||1}),eW=i=>{const{originalEvent:e,pointers:t}=i;return Q6(i)?(e.touches||[]).length:x1(i)?(t||[]).length:0},e5=i=>{const{target:e}=i,t=M(e),n=(e==null?void 0:e.isContentEditable)||(e==null?void 0:e.hasAttribute("contenteditable")),s=t.is("input, textarea, select")||n;if(Li(i))return t.is("textarea")&&t.hasClass("dx-texteditor-input")||n?!1:t.is("input[type='number'], textarea, select")&&t.is(":focus");if(ql(i))return s||i.which>1;if(xp(i))return s&&Ha(t)},xa=(i,e)=>{const t=Qz(i);return e&&se(t,e),t},el=i=>{const{originalEvent:e,delegateTarget:t}=i,n=xa(e,i);return Y.trigger(t||n.target,n),n},En=i=>{let{key:e,which:t}=i;const n=Gz[e==null?void 0:e.toLowerCase()]||e,s=qz[t];return s&&n===e?s:!n&&t?String.fromCharCode(t):n},Iy=i=>{let{key:e,which:t}=i;return e||String.fromCharCode(t)},be=Ey,$n=i=>{let{ctrlKey:e,metaKey:t}=i;return e||t},bg="dx-state-focused",tW="dx-cell-focus-disabled",t5=".dx-datagrid-rowsview .dx-row",dT=`${t5} > td`,n5=".dx-treelist-rowsview .dx-row",cT=`${n5} > td`,uT={groupPanel:[".dx-datagrid-group-panel .dx-group-panel-item[tabindex]"],columnHeaders:[".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action",".dx-treelist-headers .dx-header-row > td.dx-treelist-action"],filterRow:[".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input",".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input"],rowsView:[".dx-row-focused",`${t5}[tabindex]`,`${dT}[tabindex]`,`${dT}`,`${n5}[tabindex]`,`${cT}[tabindex]`,`${cT}`],footer:[".dx-datagrid-total-footer .dx-datagrid-summary-item",".dx-treelist-total-footer .dx-treelist-summary-item"],filterPanel:[".dx-datagrid-filter-panel .dx-icon-filter",".dx-treelist-filter-panel .dx-icon-filter"],pager:[".dx-datagrid-pager [tabindex]",".dx-treelist-pager [tabindex]"]};let Tf=!1,Ty=!1,Nd=null,Dy=!1;function i5(i,e){const t=M(e);let n=M();if(i){const s=i==null?void 0:i.replace(/\\/g,"\\\\").replace(/"/g,'\\"');n=t.find(`[aria-label="${s}"][tabindex]`)}else n=t.find("[tabindex]");return n}function s5(i,e){const t=M(i),n=t.attr("aria-label"),r=i5(n,e.element()).index(t);Nd=se({},{ariaLabel:n,index:r},{viewInstance:e})}function nW(i,e,t){const n={event:e,handled:!1};return t?t(n):i._createActionByOption("onKeyDown")(n),n.handled}function iW(i,e,t){const n=i??(t==null?void 0:t.getRootNode())??ve.getDocument();if(!n)return;const s=M(n);for(const r in e){const o=e[r],a=s.find(o).first();if(a.length)return a}}function b1(i,e,t){const n=En(t);if(t.ctrlKey&&(n==="upArrow"||n==="downArrow")){var s,r;const o=Object.keys(uT);let a=o.indexOf(i);const l=e==null||(s=e.component)===null||s===void 0||(r=s.element)===null||r===void 0?void 0:r.call(s);for(;a>=0&&a<o.length;){a+=n==="upArrow"?-1:1;const d=o[a],c=uT[d],h=iW(l,c,t.target);if(h!=null&&h.length){h.attr("tabindex",e.option("tabindex")||0),Y.trigger(h,"focus"),h.removeClass(tW);break}}}}function sW(i,e,t,n,s,r){if(nW(e,t.originalEvent,r))return;const a=En(t);a==="enter"||a==="space"?(s5(t.target,e),n==null||n({event:t})):a==="tab"?s.addClass(bg):b1(i,e,t)}function r5(){const i=ve.getActiveElement();Dy=i&&!i.closest(`.${bg}`)}function rW(){Y.on(ve.getDocument(),"visibilitychange",r5)}function hT(){Y.off(ve.getDocument(),"visibilitychange",r5)}function o5(i,e){Ty=!0,i.focus({preventScroll:e}),Ty=!1}function a5(i,e,t,n,s,r){const{useLegacyKeyboardNavigation:o}=e.option();if(o)return Te;const a=()=>M(e.element()),l=u=>sW(i,e,u,s,a(),r),d=()=>{Tf=!0,a().removeClass(bg)},c=()=>{if(Dy){Dy=!1;return}!Tf&&!Ty&&a().addClass(bg),Tf=!1},h=()=>{Tf=!1};return Y.on(t,"keydown",n,l),Y.on(t,"mousedown",n,d),Y.on(t,"focusin",n,c),Y.on(t,"mouseup contextmenu",n,h),()=>{Y.off(t,"keydown",n,l),Y.off(t,"mousedown",n,d),Y.off(t,"focusin",n,c),Y.off(t,"mouseup contextmenu",n,h)}}function y1(i){if(!i.option("useLegacyKeyboardNavigation")&&Nd){const{viewInstance:e}=Nd;if(e){const n=i5(Nd.ariaLabel,e.element()).eq(Nd.index);Nd=null,Y.trigger(n,"focus")}}}function oW(i,e){const{useLegacyKeyboardNavigation:t}=i.option();t||e.attr("tabindex",i.option("tabindex")||0)}const ih=function(i,e,t,n,s){let r=a=>{};const o=e.getController("keyboardNavigation");e.option("useLegacyKeyboardNavigation")||o&&!o.isKeyboardEnabled()||(i==="filterPanel"&&(r=a=>{e.executeAction("onKeyDown",a)},e.createAction("onKeyDown")),a5(i,e,t,n,s,r))},qs=st()?bt():{};let l5=function(i){return setTimeout(i,16.666666666666668)},d5=function(i){clearTimeout(i)};const c5=jo(()=>{const i=qs.requestAnimationFrame||qs.webkitRequestAnimationFrame||qs.mozRequestAnimationFrame||qs.oRequestAnimationFrame||qs.msRequestAnimationFrame,e=qs.cancelAnimationFrame||qs.webkitCancelAnimationFrame||qs.mozCancelAnimationFrame||qs.oCancelAnimationFrame||qs.msCancelAnimationFrame;i&&e&&(l5=i,d5=e)});function jh(){c5();for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return l5.apply(qs,e)}function po(i){c5(),d5.apply(qs,[i])}const aW=/matrix(3d)?\((.+?)\)/,lW=/translate(?:3d)?\((.+?)\)/,tr=function(i){i=M(i);const e=Cg(i);return{left:e.x,top:e.y}};function yg(i){return Ji(i)==="string"&&i[i.length-1]==="%"}function u5(i,e){i.length&&kn(i.get(0),"dxTranslator",e)}const C1=function(i){i.length&&P0(i.get(0),"dxTranslator")},bp=function(i){i.x=i.x||0,i.y=i.y||0;const e=yg(i.x)?i.x:`${i.x}px`,t=yg(i.y)?i.y:`${i.y}px`;return`translate(${e}, ${t})`},Cg=function(i){let e=i.length?kn(i.get(0),"dxTranslator"):null;if(!e){let n=(i.css("transform")||bp({x:0,y:0})).match(aW);const s=n&&n[1];n?(n=n[2].split(","),s==="3d"?n=n.slice(12,15):(n.push("0"),n=n.slice(4,7))):n=["0","0","0"],e={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},u5(i,e)}return e},ui=function(i,e){i=M(i);const{left:t,top:n}=e;let s;t===void 0?(s=Cg(i),s.y=n||0):n===void 0?(s=Cg(i),s.x=t||0):(s={x:t||0,y:n||0,z:0},u5(i,s)),i.css({transform:bp(s)}),(yg(t)||yg(n))&&C1(i)},yp=function(i,e){i=M(i);let t;const n={left:0,top:0,transform:"none"};e&&(t=i.css("transition"),n.transition="none"),i.css(n),C1(i),e&&(i.get(0).offsetHeight,i.css("transition",t))},dW=function(i){let e=i.match(lW);if(!(!e||!e[1]))return e=e[1].split(","),{x:parseFloat(e[0]),y:parseFloat(e[1]),z:parseFloat(e[2])}};class ld{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._events={},this._owner=e,this._options=t}static create(e,t){return t?Ie(t)?t(e):t:new ld(e)}hasEvent(e){const t=this._events[e];return t?t.has():!1}fireEvent(e,t){const n=this._events[e];return n&&n.fireWith(this._owner,t),this._owner}on(e,t){if(ot(e))ie(e,(n,s)=>{this.on(n,s)});else{let n=this._events[e];n||(n=Bt({syncStrategy:this._options.syncStrategy}),this._events[e]=n),(n.originalAdd||n.add).call(n,t)}}off(e,t){const n=this._events[e];n&&(Ie(t)?n.remove(t):n.empty())}dispose(){ie(this._events,(e,t)=>{t.empty()}),this._owner=null}}let jv=[];const cW=jo(()=>{const i=ve.listen(ve.getDocument(),"DOMContentLoaded",()=>{h5.fire(),i()})}),h5={add:i=>{const e=st();e&&ve.getReadyState()!=="loading"?i():(jv.push(i),e&&cW())},fire:()=>{jv.forEach(i=>i()),jv=[]}},Or=cr(h5),Yl=function(){let i;const e=Bt(),t=e.add,n=e.remove;if(!Di.hasWindow())return e;const s=function(){const l=Di.getWindow();return{width:l.innerWidth,height:l.innerHeight}},r=function(){const l=s();if(l.width===i.width&&l.height===i.height)return;let d;l.width===i.width&&(d="height"),l.height===i.height&&(d="width"),i=l,e.fire(d)},o=jo(function(){i=s()});let a;return e.add=function(){const l=t.apply(e,arguments);return o(),Or.add(function(){!a&&e.has()&&(a=ve.listen(Di.getWindow(),"resize",r))}),l},e.remove=function(){const l=n.apply(e,arguments);return!e.has()&&a&&(a(),a=void 0),l},e}(),uW=bt(),p5=function(){let i;try{i=uW.sessionStorage}catch{}return i},hW=Or.add,M0=Bt();let f5=M();const ja=function(){let i;return function(e){if(!arguments.length)return i;const t=M(e);f5=t;const n=!!t.length,s=ja();i=n?t:M("body"),M0.fire(n?ja():M(),s)}}();hW(function(){ja(".dx-viewport")});function m5(){return f5}const g5=bt(),pW={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},pT={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},zv={generic(i){const e=/windows phone/i.test(i)||i.match(/WPDesktop/),t=!e&&/Windows(.*)arm(.*)Tablet PC/i.test(i),n=!e&&!t&&/msapphost/i.test(i),s=/((intel|ppc) mac os x)/.test(i.toLowerCase());return e||t||n||s?{deviceType:e?"phone":t?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:s}:null},appleTouchDevice(i){const e=mp(),t=/Macintosh/i.test(i)&&(e==null?void 0:e.maxTouchPoints)>2;if(!/ip(hone|od|ad)/i.test(i)&&!t)return null;const s=/ip(hone|od)/i.test(i),r=i.match(/os\s{0,}X? (\d+)_(\d+)_?(\d+)?/i),o=r?[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3]||0,10)]:[],l=g5.screen.height===480?"B":"A";return{deviceType:/Macintosh/i.test(i)&&!/Mobile/i.test(i)?"desktop":s?"phone":"tablet",platform:"ios",version:o,grade:l}},android(i){const e=/android|htc_|silk/i.test(i),t=/windows phone/i.test(i);if(!e||t)return null;const n=/mobile/i.test(i),s=i.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),r=s?[parseInt(s[1],10),parseInt(s[2]||0,10),parseInt(s[3]||0,10)]:[],a=r.length>1&&(r[0]<4||r[0]===4&&r[1]<4)?"B":"A";return{deviceType:n?"phone":"tablet",platform:"android",version:r,grade:a}}},fT=[zv.appleTouchDevice,zv.android,zv.generic];class fW{constructor(e){this._window=(e==null?void 0:e.window)??g5,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new ld(this),this.changed=Bt(),st()&&(Or.add(this._recalculateOrientation.bind(this)),Yl.add(this._recalculateOrientation.bind(this)))}current(e){if(e){this._currentDevice=this._getDevice(e),this._forced=!0,this.changed.fire();return}if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch{e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice}real(e){return se({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(e){const t=[],n=this._realDevice;return e=e||this.current(),e.deviceType&&(t.push(`dx-device-${e.deviceType}`),e.deviceType!=="desktop"&&t.push("dx-device-mobile")),t.push(`dx-device-${n.platform}`),n.version&&n.version.length&&t.push(`dx-device-${n.platform}-${n.version[0]}`),this.isSimulator()&&t.push("dx-simulator"),Ot().rtlEnabled&&t.push("dx-rtl"),t}attachCssClasses(e,t){this._deviceClasses=this._getCssClasses(t).join(" "),M(e).addClass(this._deviceClasses)}detachCssClasses(e){M(e).removeClass(this._deviceClasses)}isSimulator(){try{var e;return this._isSimulator||st()&&this._window.top!==this._window.self&&((e=this._window.top)===null||e===void 0?void 0:e["dx-force-device"])||this.isRippleEmulator()}catch{return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(e){if(e==="genericPhone"&&(e={deviceType:"phone",platform:"generic",generic:!0}),ot(e))return this._fromConfig(e);let t;if(e){if(t=pW[e],!t)throw Ut.Error("E0005")}else t=mp().userAgent;return this._fromUA(t)}_getDeviceOrNameFromWindowScope(){var e,t;let n;if(st()&&((e=this._window.top)!==null&&e!==void 0&&e["dx-force-device-object"]||(t=this._window.top)!==null&&t!==void 0&&t["dx-force-device"])){var s,r;n=((s=this._window.top)===null||s===void 0?void 0:s["dx-force-device-object"])||((r=this._window.top)===null||r===void 0?void 0:r["dx-force-device"])}return n}_getDeviceNameFromSessionStorage(){const e=p5();if(!e)return;const t=e.getItem("dx-force-device");try{return JSON.parse(t)}catch{return t}}_fromConfig(e){const t=se({},pT,this._currentDevice,e),n={phone:t.deviceType==="phone",tablet:t.deviceType==="tablet",android:t.platform==="android",ios:t.platform==="ios",generic:t.platform==="generic"};return se(t,n)}_fromUA(e){for(let t=0;t<fT.length;t+=1){const n=fT[t],s=n(e);if(s)return this._fromConfig(s)}return pT}_changeOrientation(){const e=M(this._window),t=ht(e)>Xe(e)?"portrait":"landscape";this._currentOrientation!==t&&(this._currentOrientation=t,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:t}]))}_recalculateOrientation(){const e=Xe(this._window);this._currentWidth!==e&&(this._currentWidth=e,this._changeOrientation())}on(e,t){return this._eventsStrategy.on(e,t),this}off(e,t){return this._eventsStrategy.off(e,t),this}}const Oe=new fW;Ae(k0).done(()=>{const i=ja();i&&Oe.attachCssClasses(i),M0.add((e,t)=>{Oe.detachCssClasses(t),Oe.attachCssClasses(e)})});const mT=function(){let i=[];return{add(e){i.includes(e)||i.push(e)},remove(e){const t=i.indexOf(e);t!==-1&&i.splice(t,1)},fire(){const e=i.pop(),t=!!e;return t&&e(),t},hasCallback:()=>i.length>0}}(),{maxTouchPoints:_5}=mp(),mW={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},w1=function(i){return!!ad(i)},gW=function(){const{platform:i,mac:e}=Oe.real();return i==="ios"||i==="android"||e},F0=function(i){if(i==="text")return!0;const e=ve.createElement("input");try{return e.setAttribute("type",i),e.value="wrongValue",!e.value}catch{return!1}},_W=function(i,e){return(i("ontouchstart")||!!e)&&!i("callPhantom")},vW=function(i){return i("PointerEvent")},v5=_W(d1,_5),x5=vW(d1),xW=!!_5,Ay=v5||x5&&xW,bW=jo(function(){return w1("transition")}),yW=jo(function(){return mW[ad("transition")]}),CW=jo(function(){return w1("animation")}),wW=gW(),es={animation:CW,inputType:F0,nativeScrolling:wW,pointerEvents:x5,styleProp:ad,stylePropPrefix:Cm,supportProp:w1,touch:Ay,touchEvents:v5,transition:bW,transitionEndEventName:yW},SW=["January","February","March","April","May","June","July","August","September","October","November","December"],EW=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],IW=["AM","PM"],TW=["Q1","Q2","Q3","Q4"],gT=(i,e)=>{const t={abbreviated:3,short:2,narrow:1};return Mn(i,n=>n.substr(0,t[e]))},Jd={getMonthNames:i=>gT(SW,i),getDayNames:i=>gT(EW,i),getQuarterNames:i=>TW,getPeriodNames:i=>IW};function Ws(i,e){for(;i.length<e;)i=`0${i}`;return i}const vu={3:"abbreviated",4:"wide",5:"narrow"},ky={y(i,e,t){let n=i[t?"getUTCFullYear":"getFullYear"]();return e===2&&(n%=100),Ws(n.toString(),e)},M(i,e,t,n){const s=i[t?"getUTCMonth":"getMonth"](),r=vu[e];return r?n.getMonthNames(r,"format")[s]:Ws((s+1).toString(),Math.min(e,2))},L(i,e,t,n){const s=i[t?"getUTCMonth":"getMonth"](),r=vu[e];return r?n.getMonthNames(r,"standalone")[s]:Ws((s+1).toString(),Math.min(e,2))},Q(i,e,t,n){const s=i[t?"getUTCMonth":"getMonth"](),r=Math.floor(s/3),o=vu[e];return o?n.getQuarterNames(o)[r]:Ws((r+1).toString(),Math.min(e,2))},E(i,e,t,n){const s=i[t?"getUTCDay":"getDay"](),r=vu[e<3?3:e];return n.getDayNames(r)[s]},a(i,e,t,n){const r=i[t?"getUTCHours":"getHours"]()<12?0:1,o=vu[e];return n.getPeriodNames(o)[r]},d:(i,e,t)=>Ws(i[t?"getUTCDate":"getDate"]().toString(),Math.min(e,2)),H:(i,e,t)=>Ws(i[t?"getUTCHours":"getHours"]().toString(),Math.min(e,2)),h(i,e,t){const n=i[t?"getUTCHours":"getHours"]();return Ws((n%12||12).toString(),Math.min(e,2))},m:(i,e,t)=>Ws(i[t?"getUTCMinutes":"getMinutes"]().toString(),Math.min(e,2)),s:(i,e,t)=>Ws(i[t?"getUTCSeconds":"getSeconds"]().toString(),Math.min(e,2)),S:(i,e,t)=>Ws(i[t?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,e),x(i,e,t){const n=t?0:i.getTimezoneOffset(),s=n>0?"-":"+",r=Math.abs(n),o=Math.floor(r/60),a=r%60,l=Ws(o.toString(),2),d=Ws(a.toString(),2);return s+l+(e>=3?":":"")+(e>1||a?d:"")},X(i,e,t){return t||!i.getTimezoneOffset()?"Z":ky.x(i,e,t)},Z:(i,e,t)=>ky.X(i,e>=5?3:2,t)},b5=(i,e)=>t=>{let n,s,r,o=0,a=!1,l,d="";if(!t)return null;if(!i)return t;const c=i.endsWith("Z")||i.endsWith("'Z'");for(n=0;n<i.length;n+=1)r=i[n],s=ky[r],l=r===i[n+1],o+=1,l||(s&&!a&&(d+=s(t,o,c,e)),o=0),r==="'"&&!l?a=!a:(a||!s)&&(d+=r),r==="'"&&l&&(n+=1);return d},y5=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,C5=/^(\d{2}):(\d{2})(:(\d{2}))?$/,_T=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],DW=/^(\d{4})\/(\d{2})\/(\d{2})$/,w5=function(i,e){let t;return Ke(i)&&!e&&(t=kW(i)),t||AW(i)};function Bi(i){return+i||0}function AW(i){const e=S5(i)==="yyyy/MM/dd",t=!zi(i)&&Date.parse(i);if(!t&&e){const n=i.match(DW);if(n){const s=new Date(Bi(n[1]),Bi(n[2]),Bi(n[3]));return s.setFullYear(Bi(n[1])),s.setMonth(Bi(n[2])-1),s.setDate(Bi(n[3])),s}}return jt(t)?new Date(t):i}function kW(i){let e=i.match(y5);if(!e)return e=i.match(C5),e?new Date(0,0,0,Bi(e[1]),Bi(e[2]),Bi(e[4])):void 0;const t=Bi(e[1]),n=--e[3],s=e[5];let r=0,o=0;const a=u=>(t<100&&u.setFullYear(t),u);r=Bi(e[14]),o=Bi(e[16]),e[13]==="-"&&(r=-r,o=-o);const l=Bi(e[6])-r,d=Bi(e[8])-o,c=Bi(e[10]),h=function(u){return u=u||"",Bi(u)*10**(3-u.length)}(e[11]);return e[12]?a(new Date(Date.UTC(t,n,s,l,d,c,h))):a(new Date(t,n,s,l,d,c,h))}const OW=function(i,e){let t=i.match(y5),n="";if(!t)return t=i.match(C5),t?t[3]?"HH:mm:ss":"HH:mm":void 0;for(let s=1;s<_T.length;s++)t[s]&&(n+=_T[s]||t[s]);return t[12]==="Z"&&(n+="'Z'"),t[14]&&(t[15]?n+="xxx":t[16]?n+="xx":n+="x"),n},RW=function(i){return typeof i=="number"?new Date(i):w5(i,!Ot().forceIsoDateParsing)},PW=function(i,e){return e?zi(i)?e==="number"?i&&i.valueOf?i.valueOf():null:b5(e,Jd)(i):null:i},S5=function(i){if(typeof i=="number")return"number";if(Ke(i)){let e;return Ot().forceIsoDateParsing&&(e=OW(i)),e||(i.includes(":")?"yyyy/MM/dd HH:mm:ss":"yyyy/MM/dd")}if(i)return null},Wn={dateParser:w5,deserializeDate:RW,serializeDate:PW,getDateSerializationFormat:S5},Xl=function(i){return i===0?0:i/Math.abs(i)},Ii=function(i,e,t){const n=!e&&e!==0,s=!t&&t!==0;return n&&(e=s?i:Math.min(i,t)),s&&(t=n?i:Math.max(i,e)),Math.min(Math.max(i,e),t)},Co=function(i,e,t){return i>=e&&i<=t};function MW(i){const[e,t]=i.toExponential().split("e");return Math.abs(parseInt(t,10))}function FW(i){const e=i.toExponential().split("e"),t=parseFloat(e[0]);return{exponent:parseInt(e[1],10),mantissa:t}}function E5(i,e){const t=FW(i);return parseFloat(`${t.mantissa}e${t.exponent+e}`)}function I5(i,e){const t=Math.abs(i),n=t>1?10:0,r=NW(e??0)+2>7?15:7,[o,a]=i.toString().split("."),l=i;if(dy(i))return BW(i,r);if(!a)return i;if(dy(e)){const f=o.length+MW(e);return parseFloat(l.toPrecision(f))}const c=t-Math.floor(t),h=n+c,u=parseFloat(h.toPrecision(r)).toString().split(".");return u[0]===n.toString()?parseFloat(`${o}.${u[1]}`):parseFloat(l.toPrecision(r))}function BW(i,e){const t=i.toExponential(),[n,s]=t.split("e");return n.includes(".")?parseFloat(i.toPrecision(e)):parseFloat(t)}function NW(i){const e=i.toString();if(!e.includes("."))return 0;const[t,n]=e.split("."),s=n.indexOf("e");return s>=0?s:n.length}const VW={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,quarter:7776e6,year:31536e6};function Cp(i){return VW[i]}const Hu=["millisecond","second","minute","hour","day","week","month","quarter","year"],LW=function(i,e,t){const n=e.getTime()-i.getTime(),s=Cp(t)||1;return Math.floor(n/s)},$W=function(i,e){switch(B0(i)){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return e?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},T5=function(i){let e,t,n;const s=["millisecond","second","minute","hour","day","month","year"],r={};for(e=s.length-1;e>=0;e--)n=s[e],t=Math.floor(i/Cp(n)),t>0&&(r[`${n}s`]=t,i-=wg(n,t));return r},HW=function(i){let e=0;return Me(i)&&ie(i,function(t,n){e+=wg(t.substr(0,t.length-1),n)}),Ke(i)&&(e=wg(i,1)),e};function wg(i,e){return Cp(i)*e}function B0(i){let e=-1,t;return Ke(i)?i:Me(i)?(ie(i,function(n,s){for(t=0;t<Hu.length;t++)s&&(n===`${Hu[t]}s`||n===Hu[t])&&e<t&&(e=t)}),Hu[e]):""}const jW={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};function zW(i){return jW[B0(i)]||""}const D5=function(i){return Math.floor(i/3)},A5=function(i){return 3*D5(i)};function S1(i,e,t,n){i=new Date(i.getTime());const s=new Date(i.getTime());let r,o;const a=B0(e);switch(a){case"second":i=new Date(1e3*Math.floor(s.getTime()/1e3));break;case"minute":i=new Date(6e4*Math.floor(s.getTime()/6e4));break;case"hour":i=new Date(36e5*Math.floor(s.getTime()/36e5));break;case"year":i.setMonth(0);case"month":i.setDate(1);case"day":i.setHours(0,0,0,0);break;case"week":i=B5(i,n||0),i.setHours(0,0,0,0);break;case"quarter":r=A5(i.getMonth()),o=i.getMonth(),i.setDate(1),i.setHours(0,0,0,0),o!==r&&i.setMonth(r)}return t&&a!=="hour"&&a!=="minute"&&a!=="second"&&L5(s,i),i}function k5(i){return S1(i,"day")}const WW=function(i){const e=k5(i);return e.setDate(e.getDate()+1),new Date(e.getTime()-1)},UW=function(i,e){let t=0;const n={year:i.getFullYear()!==e.getFullYear(),month:i.getMonth()!==e.getMonth(),day:i.getDate()!==e.getDate(),hour:i.getHours()!==e.getHours(),minute:i.getMinutes()!==e.getMinutes(),second:i.getSeconds()!==e.getSeconds(),millisecond:i.getMilliseconds()!==e.getMilliseconds()};return ie(n,function(s,r){r&&t++}),t===0&&$5(i,e)!==0&&(n.hour=!0,t++),n.count=t,n};function O5(i,e,t){const n=new Date(i.getTime()),s=Ke(e)?P5(e.toLowerCase()):jt(e)?T5(e):e;return s.years&&n.setFullYear(n.getFullYear()+s.years*t),s.quarters&&n.setMonth(n.getMonth()+3*s.quarters*t),s.months&&n.setMonth(n.getMonth()+s.months*t),s.weeks&&n.setDate(n.getDate()+7*s.weeks*t),s.days&&n.setDate(n.getDate()+s.days*t),s.hours&&n.setTime(n.getTime()+36e5*s.hours*t),s.minutes&&n.setTime(n.getTime()+6e4*s.minutes*t),s.seconds&&n.setTime(n.getTime()+1e3*s.seconds*t),s.milliseconds&&n.setTime(n.getTime()+s.milliseconds*t),n}const R5=function(i,e,t){const n=t?-1:1;return zi(i)?O5(i,e,n):I5(i+e*n,e)},KW=function(i,e,t){const n=[];let s;for(n.push(zi(i)?new Date(i.getTime()):i),s=i;s<e;)s=R5(s,t),n.push(s);return n},GW=function(i,e){if(i==="month")return As(e.getFullYear(),e.getMonth(),1);if(i==="year")return As(e.getFullYear(),0,e.getDate());if(i==="decade")return As(Sp(e),e.getMonth(),e.getDate());if(i==="century")return As(wp(e),e.getMonth(),e.getDate())},qW=function(i,e){if(i==="month")return As(e.getFullYear(),e.getMonth(),Sg(e));if(i==="year")return As(e.getFullYear(),11,e.getDate());if(i==="decade")return As(Sp(e)+9,e.getMonth(),e.getDate());if(i==="century")return As(wp(e)+90,e.getMonth(),e.getDate())},YW=function(i,e){const t=As(e.getFullYear(),e.getMonth(),1);return i==="month"||(t.setMonth(0),i==="year")||(i==="decade"&&t.setFullYear(Sp(e)),i==="century"&&t.setFullYear(wp(e))),t},XW=function(i,e){const t=new Date(e);return t.setDate(Sg(e)),i==="month"||(t.setMonth(11),t.setDate(Sg(t)),i==="year")||(i==="decade"&&t.setFullYear(Sp(e)+9),i==="century"&&t.setFullYear(wp(e)+99)),t};function Sg(i){return As(i.getFullYear(),i.getMonth()+1,0).getDate()}const ZW=function(i){switch(i){case"month":return"year";case"year":return"decade";case"decade":return"century"}},QW=function(i){switch(i){case"century":return"decade";case"decade":return"year";case"year":return"month"}},JW=function(i){let e=1;return i==="year"&&(e=12),i==="decade"&&(e=120),i==="century"&&(e=1200),e},eU=function(i){let e=1;return i==="decade"&&(e=12),i==="century"&&(e=120),e};function P5(i){const e={};switch(i){case"year":e.years=1;break;case"month":e.months=1;break;case"quarter":e.months=3;break;case"week":e.weeks=1;break;case"day":e.days=1;break;case"hour":e.hours=1;break;case"minute":e.minutes=1;break;case"second":e.seconds=1;break;case"millisecond":e.milliseconds=1}return e}function M5(i,e){return Oy(i,e)&&i.getDate()===e.getDate()}function Oy(i,e){return F5(i,e)&&i.getMonth()===e.getMonth()}function F5(i,e){return i&&e&&i.getFullYear()===e.getFullYear()}function tU(i,e){return i&&e&&i.getHours()===e.getHours()&&i.getMinutes()===e.getMinutes()}const nU=function(i,e){if(!G(i)||!G(e))return!1;const t=i.getFullYear()-i.getFullYear()%10,n=e.getFullYear()-e.getFullYear()%10;return i&&e&&t===n},iU=function(i,e){if(!G(i)||!G(e))return!1;const t=i.getFullYear()-i.getFullYear()%100,n=e.getFullYear()-e.getFullYear()%100;return i&&e&&t===n},sU=(i,e)=>!Array.isArray(i)||!Array.isArray(e)||i.length!==e.length?!1:i.every((t,n)=>{const s=e[n];return[t,s].some(r=>r!==null&&!(r instanceof Date))?!1:t instanceof Date&&s instanceof Date?M5(t,s):t===s});function wp(i){return i&&i.getFullYear()-i.getFullYear()%100}function Sp(i){return i&&i.getFullYear()-i.getFullYear()%10}const rU=function(){return"yyyy/MM/dd"},oU=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!G(i))return;const t=new Date(i.getTime()),n=t.getMonth()+e;return t.setMonth(n),As(t.getFullYear(),n,1)},aU=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!G(i))return;const t=new Date(i.getTime()),n=t.getMonth()+e;return t.setMonth(n),As(t.getFullYear(),n+1,0)};function B5(i,e){const t=(i.getDay()-e+7)%7,n=new Date(i);return n.setDate(i.getDate()-t),n}function vT(i){return Date.UTC(i.getFullYear(),i.getMonth(),i.getDate())}function lU(i){const e=vT(i)-vT(N5(i.getFullYear()));return 1+Math.floor(e/Cp("day"))}function N5(i){return new Date(i,0,1)}function Wv(i){return new Date(i,11,31)}function xT(i,e){let t=i.getDay()-e+1;return t<=0&&(t+=7),t}function Ry(i,e,t){const n=xT(N5(i.getFullYear()),e),s=xT(Wv(i.getFullYear()),e),r=7-n+1;let o=Math.ceil((lU(i)-r)/7);switch(t){case"fullWeek":if(r===7&&(o+=1),o===0){const a=Wv(i.getFullYear()-1);return Ry(a,e,t)}return o;case"firstDay":{r>0&&(o+=1);const a=n===7||s===7;return(o>52&&!a||o===54)&&(o=1),o}case"firstFourDays":{r>3&&(o+=1);const a=n===4||s===4;if(o>52&&!a&&(o=1),o===0){const l=Wv(i.getFullYear()-1);return Ry(l,e,t)}return o}default:return o}}const dU=function(i,e){const t=Be.getDatesInterval(i,e,"day");let n=new Date(i);return t>=6&&(n=new Date(n.setDate(n.getDate()+7))),n},cU=function(i,e,t,n){return n==="date"&&(e=e&&Be.correctDateWithUnitBeginning(e,"day"),t=t&&Be.correctDateWithUnitBeginning(t,"day"),i=i&&Be.correctDateWithUnitBeginning(i,"day")),V5(i,e,t)===i},uU=function(i){const{firstMin:e,firstMax:t,secondMin:n,secondMax:s}=i;return e<=n&&n<=t||e>n&&e<s||e<s&&t>s},hU=function(i){const e=Math.floor(i),t=Math.round(i%1*60);return{hours:e,minutes:t}},pU=function(i,e){const t=this.dateTimeFromDecimal(e),n=new Date(i);return(i.getHours()===t.hours&&i.getMinutes()<t.minutes||i.getHours()<t.hours)&&n.setHours(t.hours,t.minutes,0,0),n};function V5(i,e,t){let n=i;return G(i)?(G(e)&&i<e&&(n=e),G(t)&&i>t&&(n=t),n):i}function L5(i,e){if(!G(i))return;const t=e.getHours()-i.getHours();if(t===0)return;const n=t===1||t===-23?-1:1,s=new Date(e.getTime()+36e5*n);(n>0||s.getDate()===e.getDate())&&e.setTime(s.getTime())}const fU=function(i){const e=new Date(i.getTime());return e.setHours(e.getHours()+1),e.setMinutes(0),e};function $5(i,e){return 60*(e.getTimezoneOffset()-i.getTimezoneOffset())*1e3}const mU=function(i){return new Date(i)},gU=function(i,e,t){const n=[];let s=new Date(i.getTime());for(;s<e;)n.push(new Date(s.getTime())),s=this.addInterval(s,t);return n},As=function(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),n=1;n<e;n++)t[n-1]=arguments[n];const s=new Date(i,...t);return s.setFullYear(i),s},_U=()=>typeof Intl<"u"?Intl.DateTimeFormat().resolvedOptions().timeZone:null,vU=i=>{const t=i.map(o=>S1(o,"day").getTime()).sort((o,a)=>o-a),n=Cp("day"),s=[];let r=t[0];for(let o=1;o<=t.length;++o){const a=t[o],l=t[o-1];if(a-l>n||o===t.length){const h=(r===t[o-1]?[r]:[r,t[o-1]]).map(u=>Wn.deserializeDate(u));s.push(h),r=a}}return s},xU=function(i,e,t){return Be[Rc(`same ${i}`)](e,t)},Be={dateUnitIntervals:Hu,convertMillisecondsToDateUnits:T5,dateToMilliseconds:HW,getNextDateUnit:$W,convertDateUnitToMilliseconds:wg,getDateUnitInterval:B0,getDateFormatByTickInterval:zW,getDatesDifferences:UW,correctDateWithUnitBeginning:S1,trimTime:k5,setToDayEnd:WW,roundDateByStartDayHour:pU,dateTimeFromDecimal:hU,addDateInterval:O5,addInterval:R5,getSequenceByInterval:KW,getDateIntervalByString:P5,sameHoursAndMinutes:tU,sameDate:M5,sameMonthAndYear:Oy,sameMonth:Oy,sameYear:F5,sameDecade:nU,sameCentury:iU,sameView:xU,sameDatesArrays:sU,getDifferenceInMonth:JW,getDifferenceInMonthForCells:eU,getFirstYearInDecade:Sp,getFirstDecadeInCentury:wp,getShortDateFormat:rU,getViewFirstCellDate:GW,getViewLastCellDate:qW,getViewDown:QW,getViewUp:ZW,getLastMonthDay:Sg,getLastMonthDate:aU,getFirstMonthDate:oU,getFirstWeekDate:B5,getWeekNumber:Ry,normalizeDateByWeek:dU,getQuarter:D5,getFirstQuarterMonth:A5,dateInRange:cU,intervalsOverlap:uU,roundToHour:fU,normalizeDate:V5,getViewMinBoundaryDate:YW,getViewMaxBoundaryDate:XW,fixTimezoneGap:L5,getTimezonesDifference:$5,makeDate:mU,getDatesInterval:LW,getDatesOfInterval:gU,createDateWithFullYear:As,getMachineTimezoneName:_U,getRangesByDates:vU},bU={value:["Etc/GMT+12","Etc/GMT+11","Pacific/Midway","Pacific/Niue","Pacific/Pago_Pago","Pacific/Samoa","US/Samoa","Etc/GMT+10","HST","Pacific/Honolulu","Pacific/Johnston","Pacific/Rarotonga","Pacific/Tahiti","US/Hawaii","Pacific/Marquesas","America/Adak","America/Atka","Etc/GMT+9","Pacific/Gambier","US/Aleutian","America/Anchorage","America/Juneau","America/Metlakatla","America/Nome","America/Sitka","America/Yakutat","Etc/GMT+8","Pacific/Pitcairn","US/Alaska","America/Creston","America/Dawson_Creek","America/Dawson","America/Ensenada","America/Fort_Nelson","America/Hermosillo","America/Los_Angeles","America/Phoenix","America/Santa_Isabel","America/Tijuana","America/Vancouver","America/Whitehorse","Canada/Pacific","Canada/Yukon","Etc/GMT+7","Mexico/BajaNorte","MST","PST8PDT","US/Arizona","US/Pacific","America/Belize","America/Boise","America/Cambridge_Bay","America/Chihuahua","America/Costa_Rica","America/Denver","America/Edmonton","America/El_Salvador","America/Guatemala","America/Inuvik","America/Managua","America/Mazatlan","America/Monterrey","America/Ojinaga","America/Regina","America/Shiprock","America/Swift_Current","America/Tegucigalpa","America/Yellowknife","Canada/Mountain","Canada/Saskatchewan","Chile/EasterIsland","Etc/GMT+6","Mexico/BajaSur","MST7MDT","Navajo","Pacific/Easter","Pacific/Galapagos","US/Mountain","America/Atikokan","America/Bahia_Banderas","America/Bogota","America/Cancun","America/Cayman","America/Chicago","America/Coral_Harbour","America/Eirunepe","America/Guayaquil","America/Indiana/Knox","America/Indiana/Tell_City","America/Jamaica","America/Knox_IN","America/Lima","America/Matamoros","America/Menominee","America/Merida","America/Mexico_City","America/North_Dakota/Beulah","America/North_Dakota/Center","America/North_Dakota/New_Salem","America/Panama","America/Porto_Acre","America/Rainy_River","America/Rankin_Inlet","America/Resolute","America/Rio_Branco","America/Winnipeg","Brazil/Acre","Canada/Central","CST6CDT","EST","Etc/GMT+5","Jamaica","Mexico/General","US/Central","US/Indiana-Starke","America/Anguilla","America/Antigua","America/Aruba","America/Asuncion","America/Barbados","America/Blanc-Sablon","America/Boa_Vista","America/Campo_Grande","America/Caracas","America/Cuiaba","America/Curacao","America/Detroit","America/Dominica","America/Fort_Wayne","America/Grand_Turk","America/Grenada","America/Guadeloupe","America/Guyana","America/Havana","America/Indiana/Indianapolis","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Indianapolis","America/Iqaluit","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Kralendijk","America/La_Paz","America/Louisville","America/Lower_Princes","America/Manaus","America/Marigot","America/Martinique","America/Montreal","America/Montserrat","America/Nassau","America/New_York","America/Nipigon","America/Pangnirtung","America/Port_of_Spain","America/Port-au-Prince","America/Porto_Velho","America/Puerto_Rico","America/Santiago","America/Santo_Domingo","America/St_Barthelemy","America/St_Kitts","America/St_Lucia","America/St_Thomas","America/St_Vincent","America/Thunder_Bay","America/Toronto","America/Tortola","America/Virgin","Brazil/West","Canada/Eastern","Chile/Continental","Cuba","EST5EDT","Etc/GMT+4","US/East-Indiana","US/Eastern","US/Michigan","America/Araguaina","America/Argentina/Buenos_Aires","America/Argentina/Catamarca","America/Argentina/ComodRivadavia","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La_Rioja","America/Argentina/Mendoza","America/Argentina/Rio_Gallegos","America/Argentina/Salta","America/Argentina/San_Juan","America/Argentina/San_Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Bahia","America/Belem","America/Buenos_Aires","America/Catamarca","America/Cayenne","America/Cordoba","America/Fortaleza","America/Glace_Bay","America/Goose_Bay","America/Halifax","America/Jujuy","America/Maceio","America/Mendoza","America/Moncton","America/Montevideo","America/Paramaribo","America/Punta_Arenas","America/Recife","America/Rosario","America/Santarem","America/Sao_Paulo","America/Thule","Antarctica/Palmer","Antarctica/Rothera","Atlantic/Bermuda","Atlantic/Stanley","Brazil/East","Canada/Atlantic","Etc/GMT+3","America/St_Johns","Canada/Newfoundland","America/Godthab","America/Miquelon","America/Noronha","America/Nuuk","Atlantic/South_Georgia","Brazil/DeNoronha","Etc/GMT+2","Atlantic/Cape_Verde","Etc/GMT+1","Africa/Abidjan","Africa/Accra","Africa/Bamako","Africa/Banjul","Africa/Bissau","Africa/Conakry","Africa/Dakar","Africa/Freetown","Africa/Lome","Africa/Monrovia","Africa/Nouakchott","Africa/Ouagadougou","Africa/Sao_Tome","Africa/Timbuktu","America/Danmarkshavn","America/Scoresbysund","Atlantic/Azores","Atlantic/Reykjavik","Atlantic/St_Helena","Etc/GMT-0","Etc/GMT","Etc/GMT+0","Etc/GMT0","Etc/Greenwich","Etc/UCT","Etc/Universal","Etc/UTC","Etc/Zulu","GMT-0","GMT","GMT+0","GMT0","Greenwich","Iceland","UCT","Universal","UTC","Zulu","Africa/Algiers","Africa/Bangui","Africa/Brazzaville","Africa/Casablanca","Africa/Douala","Africa/El_Aaiun","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Luanda","Africa/Malabo","Africa/Ndjamena","Africa/Niamey","Africa/Porto-Novo","Africa/Tunis","Atlantic/Canary","Atlantic/Faeroe","Atlantic/Faroe","Atlantic/Madeira","Eire","Etc/GMT-1","Europe/Belfast","Europe/Dublin","Europe/Guernsey","Europe/Isle_of_Man","Europe/Jersey","Europe/Lisbon","Europe/London","GB-Eire","GB","Portugal","WET","Africa/Blantyre","Africa/Bujumbura","Africa/Cairo","Africa/Ceuta","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Khartoum","Africa/Kigali","Africa/Lubumbashi","Africa/Lusaka","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Tripoli","Africa/Windhoek","Antarctica/Troll","Arctic/Longyearbyen","Atlantic/Jan_Mayen","CET","Egypt","Etc/GMT-2","Europe/Amsterdam","Europe/Andorra","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Budapest","Europe/Busingen","Europe/Copenhagen","Europe/Gibraltar","Europe/Kaliningrad","Europe/Ljubljana","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Monaco","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Rome","Europe/San_Marino","Europe/Sarajevo","Europe/Skopje","Europe/Stockholm","Europe/Tirane","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Warsaw","Europe/Zagreb","Europe/Zurich","Libya","MET","Poland","Africa/Addis_Ababa","Africa/Asmara","Africa/Asmera","Africa/Dar_es_Salaam","Africa/Djibouti","Africa/Juba","Africa/Kampala","Africa/Mogadishu","Africa/Nairobi","Antarctica/Syowa","Asia/Aden","Asia/Amman","Asia/Baghdad","Asia/Bahrain","Asia/Beirut","Asia/Damascus","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Istanbul","Asia/Jerusalem","Asia/Kuwait","Asia/Nicosia","Asia/Qatar","Asia/Riyadh","Asia/Tel_Aviv","EET","Etc/GMT-3","Europe/Athens","Europe/Bucharest","Europe/Chisinau","Europe/Helsinki","Europe/Istanbul","Europe/Kiev","Europe/Kirov","Europe/Mariehamn","Europe/Minsk","Europe/Moscow","Europe/Nicosia","Europe/Riga","Europe/Simferopol","Europe/Sofia","Europe/Tallinn","Europe/Tiraspol","Europe/Uzhgorod","Europe/Vilnius","Europe/Zaporozhye","Indian/Antananarivo","Indian/Comoro","Indian/Mayotte","Israel","Turkey","W-SU","Asia/Baku","Asia/Dubai","Asia/Muscat","Asia/Tbilisi","Asia/Yerevan","Etc/GMT-4","Europe/Astrakhan","Europe/Samara","Europe/Saratov","Europe/Ulyanovsk","Europe/Volgograd","Indian/Mahe","Indian/Mauritius","Indian/Reunion","Asia/Kabul","Asia/Tehran","Iran","Antarctica/Mawson","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Ashkhabad","Asia/Atyrau","Asia/Dushanbe","Asia/Karachi","Asia/Oral","Asia/Qyzylorda","Asia/Samarkand","Asia/Tashkent","Asia/Yekaterinburg","Etc/GMT-5","Indian/Kerguelen","Indian/Maldives","Asia/Calcutta","Asia/Colombo","Asia/Kolkata","Asia/Kathmandu","Asia/Katmandu","Antarctica/Vostok","Asia/Almaty","Asia/Bishkek","Asia/Dacca","Asia/Dhaka","Asia/Kashgar","Asia/Omsk","Asia/Qostanay","Asia/Thimbu","Asia/Thimphu","Asia/Urumqi","Etc/GMT-6","Indian/Chagos","Asia/Rangoon","Asia/Yangon","Indian/Cocos","Antarctica/Davis","Asia/Bangkok","Asia/Barnaul","Asia/Ho_Chi_Minh","Asia/Hovd","Asia/Jakarta","Asia/Krasnoyarsk","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Phnom_Penh","Asia/Pontianak","Asia/Saigon","Asia/Tomsk","Asia/Vientiane","Etc/GMT-7","Indian/Christmas","Antarctica/Casey","Asia/Brunei","Asia/Choibalsan","Asia/Chongqing","Asia/Chungking","Asia/Harbin","Asia/Hong_Kong","Asia/Irkutsk","Asia/Kuala_Lumpur","Asia/Kuching","Asia/Macao","Asia/Macau","Asia/Makassar","Asia/Manila","Asia/Shanghai","Asia/Singapore","Asia/Taipei","Asia/Ujung_Pandang","Asia/Ulaanbaatar","Asia/Ulan_Bator","Australia/Perth","Australia/West","Etc/GMT-8","Hongkong","PRC","ROC","Singapore","Australia/Eucla","Asia/Chita","Asia/Dili","Asia/Jayapura","Asia/Khandyga","Asia/Pyongyang","Asia/Seoul","Asia/Tokyo","Asia/Yakutsk","Etc/GMT-9","Japan","Pacific/Palau","ROK","Australia/Adelaide","Australia/Broken_Hill","Australia/Darwin","Australia/North","Australia/South","Australia/Yancowinna","Antarctica/DumontDUrville","Asia/Ust-Nera","Asia/Vladivostok","Australia/ACT","Australia/Brisbane","Australia/Canberra","Australia/Currie","Australia/Hobart","Australia/Lindeman","Australia/Melbourne","Australia/NSW","Australia/Queensland","Australia/Sydney","Australia/Tasmania","Australia/Victoria","Etc/GMT-10","Pacific/Chuuk","Pacific/Guam","Pacific/Port_Moresby","Pacific/Saipan","Pacific/Truk","Pacific/Yap","Australia/LHI","Australia/Lord_Howe","Antarctica/Macquarie","Asia/Magadan","Asia/Sakhalin","Asia/Srednekolymsk","Etc/GMT-11","Pacific/Bougainville","Pacific/Efate","Pacific/Guadalcanal","Pacific/Kosrae","Pacific/Norfolk","Pacific/Noumea","Pacific/Pohnpei","Pacific/Ponape","Antarctica/McMurdo","Antarctica/South_Pole","Asia/Anadyr","Asia/Kamchatka","Etc/GMT-12","Kwajalein","NZ","Pacific/Auckland","Pacific/Fiji","Pacific/Funafuti","Pacific/Kwajalein","Pacific/Majuro","Pacific/Nauru","Pacific/Tarawa","Pacific/Wake","Pacific/Wallis","NZ-CHAT","Pacific/Chatham","Etc/GMT-13","Pacific/Apia","Pacific/Enderbury","Pacific/Fakaofo","Pacific/Tongatapu","Etc/GMT-14","Pacific/Kiritimati"]};new Set(bU.value);Be.dateToMilliseconds;const yU=mp(),CU=/(webkit)[ /]([\w.]+)/,wU=/(mozilla)(?:.*? rv:([\w.]+))/,bT=i=>{i=i.toLowerCase();const e={},t=CU.exec(i)||i.indexOf("compatible")<0&&wU.exec(i)||[];let n=t[1],s=t[2];return n==="webkit"&&(e.webkit=!0,i.indexOf("chrome")>=0||i.indexOf("crios")>=0?(n="chrome",s=/(?:chrome|crios)\/(\d+\.\d+)/.exec(i),s=s&&s[1]):i.indexOf("fxios")>=0?(n="mozilla",s=/fxios\/(\d+\.\d+)/.exec(i),s=s&&s[1]):i.indexOf("safari")>=0&&/version|phantomjs/.test(i)?(n="safari",s=/(?:version|phantomjs)\/([0-9.]+)/.exec(i),s=s&&s[1]):(n="unknown",s=/applewebkit\/([0-9.]+)/.exec(i),s=s&&s[1])),n&&(e[n]=!0,e.version=s),e},gn=se({_fromUA:bT},bT(yU.userAgent)),tl=i=>i??Ot().rtlEnabled?"right":"left",en=i=>{var e;return jn(i)?{width:i.outerWidth,height:i.outerHeight}:(e=i.getBoundingClientRect)===null||e===void 0?void 0:e.call(i)},yT=bt(),SU=/left|right/,EU=/top|bottom/,CT=/fit|flip|none/,IU=/scale\(.+?\)/,TU=gn.safari,Py=function(i){const e={h:"center",v:"center"},t=od(i);return t&&ie(t,function(){const n=String(this).toLowerCase();SU.test(n)?e.h=n:EU.test(n)&&(e.v=n)}),e},wT=function(i,e){return o1(i,e)},DU=function(i){const e=od(i);let t=String(e&&e[0]).toLowerCase(),n=String(e&&e[1]).toLowerCase();return CT.test(t)||(t="none"),CT.test(n)||(n=t),{h:t,v:n}},ST=function(i){switch(i){case"center":return .5;case"right":case"bottom":return 1;default:return 0}},My=function(i){switch(i){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return i}},Fy=function(i,e){let t=0;return i.myLocation<e.min&&(t+=e.min-i.myLocation),i.myLocation>e.max&&(t+=i.myLocation-e.max),t},ET=function(i,e,t){return e.myLocation<t.min?i==="h"?"left":"top":e.myLocation>t.max?i==="h"?"right":"bottom":"none"},By=function(i){i.myLocation=i.atLocation+ST(i.atAlign)*i.atSize-ST(i.myAlign)*i.mySize+i.offset},Df={fit:function(i,e){let t=!1;i.myLocation>e.max&&(i.myLocation=e.max,t=!0),i.myLocation<e.min&&(i.myLocation=e.min,t=!0),i.fit=t},flip:function(i,e){if(i.flip=!1,!(i.myAlign==="center"&&i.atAlign==="center")&&(i.myLocation<e.min||i.myLocation>e.max)){const t=se({},i,{myAlign:My(i.myAlign),atAlign:My(i.atAlign),offset:-i.offset});By(t),t.oversize=Fy(t,e),(t.myLocation>=e.min&&t.myLocation<=e.max||i.oversize>t.oversize)&&(i.myLocation=t.myLocation,i.oversize=t.oversize,i.flip=!0)}},flipfit:function(i,e){this.flip(i,e),this.fit(i,e)},none:function(i){i.oversize=0}};let H5;const j5=function(){const i=M("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(M("body")),e=i.get(0).offsetWidth-i.get(0).clientWidth;i.remove(),H5=e},AU={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},z5=function(i,e){const t=M(i),n=t.offset(),s=se(!0,{},AU,{h:{location:n.left},v:{location:n.top}});if(!e)return s;const r=Py(e.my),o=Py(e.at);let a=M(e.of).length&&e.of||yT;const l=wT(e.offset,e.precise),d=DU(e.collision),{boundary:c}=e,h=wT(e.boundaryOffset,e.precise),u={mySize:kt(t),myAlign:r.h,atAlign:o.h,offset:l.h,collision:d.h,boundaryOffset:h.h},p={mySize:gt(t),myAlign:r.v,atAlign:o.v,offset:l.v,collision:d.v,boundaryOffset:h.v};if(a.preventDefault)u.atLocation=a.pageX,p.atLocation=a.pageY,u.atSize=0,p.atSize=0;else if(a=M(a),jn(a[0]))u.atLocation=a.scrollLeft(),p.atLocation=a.scrollTop(),Oe.real().deviceType==="phone"&&a[0].visualViewport?(u.atLocation=Math.max(u.atLocation,a[0].visualViewport.offsetLeft),p.atLocation=Math.max(p.atLocation,a[0].visualViewport.offsetTop),u.atSize=a[0].visualViewport.width,p.atSize=a[0].visualViewport.height):(u.atSize=a[0].innerWidth>a[0].outerWidth?a[0].innerWidth:Xe(a),p.atSize=a[0].innerHeight>a[0].outerHeight||TU?a[0].innerHeight:ht(a));else if(a[0].nodeType===9)u.atLocation=0,p.atLocation=0,u.atSize=Xe(a),p.atSize=ht(a);else{const m=en(a.get(0)),v=Eg(a);u.atLocation=v.left,p.atLocation=v.top,u.atSize=Math.max(m.width,kt(a)),p.atSize=Math.max(m.height,gt(a))}By(u),By(p);const f=function(){const m=M(yT),v=Xe(m),_=ht(m);let x=m.scrollLeft(),y=m.scrollTop();const T=ve.getDocumentElement(),O=Ay?T.clientWidth/v:1,L=Ay?T.clientHeight/_:1;H5===void 0&&j5();let R=v,$=_;if(c&&!jn(c)){const V=M(c),z=V.offset();x=z.left,y=z.top,R=Xe(V),$=ht(V)}return{h:{min:x+u.boundaryOffset,max:x+R/O-u.mySize-u.boundaryOffset},v:{min:y+p.boundaryOffset,max:y+$/L-p.mySize-p.boundaryOffset}}}();u.oversize=Fy(u,f.h),p.oversize=Fy(p,f.v),u.collisionSide=ET("h",u,f.h),p.collisionSide=ET("v",p,f.v),Df[u.collision]&&Df[u.collision](u,f.h),Df[p.collision]&&Df[p.collision](p,f.v);const g=function(m){return e.precise?m:Math.round(m)};return se(!0,s,{h:{location:g(u.myLocation),oversize:g(u.oversize),fit:u.fit,flip:u.flip,collisionSide:u.collisionSide},v:{location:g(p.myLocation),oversize:g(p.oversize),fit:p.fit,flip:p.flip,collisionSide:p.collisionSide},precise:e.precise}),s},IT=function(i,e,t,n){const s=G(i.style)&&!ve.isNode(i.style),r=n?t.replace(e,""):t;if(s)j6(i,r,!1);else{const o=ve.createAttribute("style");o.value=r,i.setAttributeNode(o)}},Eg=function(i){var e,t;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i;const s=n.get(0);if(!s)return i.offset();const r=((e=s.getAttribute)===null||e===void 0?void 0:e.call(s,"style"))||"",o=(t=r.match(IU))===null||t===void 0?void 0:t[0];let a;return o?(IT(s,o,r,!0),a=Eg(i,n.parent()),IT(s,o,r,!1)):a=Eg(i,n.parent()),a},zh=function(i,e){const t=M(i);if(!e)return t.offset();yp(t,!0);const n=Eg(t),s=e.h&&e.v?e:z5(t,e),r=function(o){return e.precise?o:Math.round(o)};return ui(t,{left:s.h.location-r(n.left),top:s.v.location-r(n.top)}),s},kU=function(i){return i=M(i).get(0),jn(i)?null:i&&"pageY"in i&&"pageX"in i?{top:i.pageY,left:i.pageX}:M(i).offset()};zh.inverseAlign||(zh.inverseAlign=My);zh.normalizeAlign||(zh.normalizeAlign=Py);const lr={calculateScrollbarWidth:j5,calculate:z5,setup:zh,offset:kU};function OU(i){return i&&i.get?i.get(0):i}let RU=OU;function We(i){return RU(i)}const ur=function(i,e){const t={};"noBubble"in e&&(t.noBubble=e.noBubble),"bindType"in e&&(t.bindType=e.bindType),"delegateType"in e&&(t.delegateType=e.delegateType),ie(["setup","teardown","add","remove","trigger","handle","_default","dispose"],(n,s)=>{e[s]&&(t[s]=function(){const r=[].slice.call(arguments);return r.unshift(this),e[s].apply(e,r)})}),t1.fire(i,t)};ur.callbacks=t1;const $s="dxremove",Ny="dxRemoveEvent";vz(i=>{i=[].slice.call(i);for(let e=0;e<i.length;e++){const t=M(i[e]);t.prop(Ny)&&(t[0][Ny]=null,Y.triggerHandler(t,"dxremove"))}});ur("dxremove",{noBubble:!0,setup(i){M(i).prop(Ny,!0)}});const TT=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,DT={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"},PU=(i,e,t,n)=>{const s=3*i,r=3*(t-i)-s,o=1-s-r,a=3*e,l=3*(n-e)-a,d=1-a-l,c=u=>u*(s+u*(r+u*o)),h=u=>s+u*(2*r+3*u*o);return u=>(p=>p*(a+p*(l+p*d)))((p=>{let f=p,g=0,m;for(;g<14&&(m=c(f)-p,!(Math.abs(m)<.001));)f-=m/h(f),g+=1;return f})(u))};let Vy={};const MU=i=>{i=DT[i]||i;let e=TT.exec(i);const t=[];let n=null;e||(n="linear",e=DT[n].match(TT)),e=e.slice(1,5);for(let r=0;r<e.length;r+=1)t[r]=parseFloat(e[r]);const s=n||`cubicbezier_${t.join("_").replace(/\./g,"p")}`;return Ie(Vy[s])||(Vy[s]=function(r,o,a,l,d){return l*PU(t[0],t[1],t[2],t[3])(o/d)+a}),s};function FU(i){return Vy[i]}const W5=bt(),sh=be($s,"dxFX"),BU=/^([+-])=(.*)/i,NU={initAnimation(i,e){i.css({transitionProperty:"none"}),typeof e.from=="string"?i.addClass(e.from):$y(i,e.from);const t=this,n=new de,{cleanupWhen:s}=e;e.transitionAnimation={deferred:n,finish(){t._finishTransition(i),s?Ae(n,s).always(()=>{t._cleanup(i,e)}):t._cleanup(i,e),n.resolveWith(i,[e,i])}},this._completeAnimationCallback(i,e).done(()=>{e.transitionAnimation.finish()}).fail(()=>{n.rejectWith(i,[e,i])}),e.duration||e.transitionAnimation.finish(),i.css("transform")},animate(i,e){return this._startAnimation(i,e),e.transitionAnimation.deferred.promise()},_completeAnimationCallback(i,e){const t=this,n=Date.now()+e.delay,s=new de,r=new de,o=new de;let a;const l=`${es.transitionEndEventName()}.dxFX`;e.transitionAnimation.cleanup=function(){clearTimeout(a),clearTimeout(d),Y.off(i,l),Y.off(i,sh)},Y.one(i,l,()=>{Date.now()-n>=e.duration&&r.reject()}),Y.off(i,sh),Y.on(i,sh,()=>{t.stop(i,e),s.reject()});const d=setTimeout(()=>{a=setTimeout(()=>{o.reject()},e.duration+e.delay+Ht._simulatedTransitionEndDelay),Ae(r,o).fail(()=>{s.resolve()})});return s.promise()},_startAnimation(i,e){i.css({transitionProperty:"all",transitionDelay:`${e.delay}ms`,transitionDuration:`${e.duration}ms`,transitionTimingFunction:e.easing}),typeof e.to=="string"?i[0].className+=` ${e.to}`:e.to&&$y(i,e.to)},_finishTransition(i){i.css("transition","none")},_cleanup(i,e){e.transitionAnimation.cleanup(),typeof e.from=="string"&&(i.removeClass(e.from),i.removeClass(e.to))},stop(i,e,t){e&&(t?e.transitionAnimation.finish():(ot(e.to)&&ie(e.to,n=>{i.css(n,i.css(n))}),this._finishTransition(i),this._cleanup(i,e)))}},AT={initAnimation(i,e){$y(i,e.from)},animate(i,e){const t=new de,n=this;return e?(ie(e.to,s=>{e.from[s]===void 0&&(e.from[s]=n._normalizeValue(i.css(s)))}),e.to.transform&&(e.from.transform=n._parseTransform(e.from.transform),e.to.transform=n._parseTransform(e.to.transform)),e.frameAnimation={to:e.to,from:e.from,currentValue:e.from,easing:MU(e.easing),duration:e.duration,startTime:new Date().valueOf(),finish(){this.currentValue=this.to,this.draw(),po(e.frameAnimation.animationFrameId),t.resolve()},draw(){if(e.draw){e.draw(this.currentValue);return}const s=se({},this.currentValue);s.transform&&(s.transform=Mn(s.transform,(r,o)=>{if(o==="translate")return bp(r);if(o==="scale")return`scale(${r})`;if(o.substr(0,o.length-1)==="rotate")return`${o}(${r}deg)`}).join(" ")),i.css(s)}},e.delay?(e.frameAnimation.startTime+=e.delay,e.frameAnimation.delayTimeout=setTimeout(()=>{n._startAnimation(i,e)},e.delay)):n._startAnimation(i,e),t.promise()):t.reject().promise()},_startAnimation(i,e){Y.off(i,sh),Y.on(i,sh,()=>{e.frameAnimation&&po(e.frameAnimation.animationFrameId)}),this._animationStep(i,e)},_parseTransform(i){const e={};return ie(i.match(/\w+\d*\w*\([^)]*\)\s*/g),(t,n)=>{const s=dW(n),r=n.match(/scale\((.+?)\)/),o=n.match(/(rotate.)\((.+)deg\)/);s&&(e.translate=s),r&&r[1]&&(e.scale=parseFloat(r[1])),o&&o[1]&&(e[o[1]]=parseFloat(o[2]))}),e},stop(i,e,t){const n=e&&e.frameAnimation;n&&(po(n.animationFrameId),clearTimeout(n.delayTimeout),t&&n.finish(),delete e.frameAnimation)},_animationStep(i,e){const t=e&&e.frameAnimation;if(!t)return;const n=new Date().valueOf();if(n>=t.startTime+t.duration){t.finish();return}t.currentValue=this._calcStepValue(t,n-t.startTime),t.draw();const s=this;t.animationFrameId=jh(()=>{s._animationStep(i,e)})},_calcStepValue(i,e){const t=function(n,s){const r=Array.isArray(s)?[]:{};return ie(s,(o,a)=>{if(typeof a=="string"&&parseFloat(a)===!1)return!0;r[o]=typeof a=="object"?t(n[o],a):function(l){const d=e/i.duration,c=e,h=1*n[l],u=s[l]-n[l],p=i.duration;return FU(i.easing)(d,c,h,u,p)}(o)}),r};return t(i.from,i.to)},_normalizeValue(i){const e=parseFloat(i);return e===!1?i:e}},VU={initAnimation(){},animate:()=>new de().resolve().promise(),stop:Te,isSynchronous:!0},LU=function(i){i=i||{};const e={transition:es.transition()?NU:AT,frame:AT,noAnimation:VU};let t=i.strategy||"transition";return i.type==="css"&&!es.transition()&&(t="noAnimation"),e[t]},U5=function(i,e,t,n){ie(["from","to"],function(){if(!t(i[this]))throw Ut.Error("E0010",e,this,n)})},K5=function(i,e){return U5(i,e,t=>ot(t),"a plain object")},$U=function(i,e){return U5(i,e,t=>typeof t=="string","a string")},HU={setup(){}},jU={validateConfig(i){$U(i,"css")},setup(){}},zU={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},Uv={validateConfig(i){K5(i,"slide")},setup(i,e){const t=tr(i);if(e.type!=="slide"){const n=e.type==="slideIn"?e.from:e.to;n.position=se({of:W5},zU[e.direction]),Ly(i,n)}this._setUpConfig(t,e.from),this._setUpConfig(t,e.to),C1(i)},_setUpConfig(i,e){e.left="left"in e?e.left:"+=0",e.top="top"in e?e.top:"+=0",this._initNewPosition(i,e)},_initNewPosition(i,e){const t={left:e.left,top:e.top};delete e.left,delete e.top;let n=this._getRelativeValue(t.left);n!==void 0?t.left=n+i.left:e.left=0,n=this._getRelativeValue(t.top),n!==void 0?t.top=n+i.top:e.top=0,e.transform=bp({x:t.left,y:t.top})},_getRelativeValue(i){let e;if(typeof i=="string"&&(e=BU.exec(i)))return parseInt(`${e[1]}1`,10)*e[2]}},Kv={setup(i,e){const{from:t,to:n}=e,s=e.type==="fadeOut"?1:0,r=e.type==="fadeOut"?0:1;let o=ot(t)?String(t.opacity??s):String(t),a=ot(n)?String(n.opacity??r):String(n);switch(e.skipElementInitialStyles||(o=i.css("opacity")),e.type){case"fadeIn":a=1;break;case"fadeOut":a=0}e.from={visibility:"visible",opacity:o},e.to={opacity:a}}},WU={validateConfig(i){K5(i,"pop")},setup(i,e){const{from:t,to:n}=e,s="opacity"in t?t.opacity:i.css("opacity"),r="opacity"in n?n.opacity:1,o="scale"in t?t.scale:0,a="scale"in n?n.scale:1;e.from={opacity:s};const l=Cg(i);e.from.transform=this._getCssTransform(l,o),e.to={opacity:r},e.to.transform=this._getCssTransform(l,a)},_getCssTransform:(i,e)=>`${bp(i)}scale(${e})`},G5={custom:HU,slide:Uv,slideIn:Uv,slideOut:Uv,fade:Kv,fadeIn:Kv,fadeOut:Kv,pop:WU,css:jU},UU=function(i){const e=G5[i.type];if(!e)throw Ut.Error("E0011",i.type);return e},KU={type:"custom",from:{},to:{},duration:400,start:Te,complete:Te,easing:"ease",delay:0},GU={duration:400,easing:"ease",delay:0};function qU(){const i=this.element,{config:e}=this;if(Ly(i,e.from),Ly(i,e.to),this.configurator.setup(i,e),i.data("dxAnimData",this),this.strategy.initAnimation(i,e),e.start){const t=We(i);e.start.apply(this,[t,e])}}const YU=function(i){const e=i.element,{config:t}=i;if(e.removeData("dxAnimData"),t.complete){const n=We(e);t.complete.apply(this,[n,t])}i.deferred.resolveWith(this,[e,t])},XU=function(){const i=this,e=i.element,{config:t}=i;return i.isStarted=!0,i.strategy.animate(e,t).done(()=>{YU(i)}).fail(function(){i.deferred.rejectWith(this,[e,t])})},ZU=function(i){const e=this,t=e.element,{config:n}=e;clearTimeout(e.startTimeout),e.isStarted||e.start(),e.strategy.stop(t,n,i)},Gv=be($s,"dxFXStartAnimation"),QU=function(i){Y.off(i.element,Gv),Y.on(i.element,Gv,()=>{Ht.stop(i.element)}),i.deferred.always(()=>{Y.off(i.element,Gv)})},q5=function(i,e){const t=e.type==="css"?GU:KU,n=se(!0,{},t,e),s=UU(n),r=LU(n),o={element:M(i),config:n,configurator:s,strategy:r,isSynchronous:r.isSynchronous,setup:qU,start:XU,stop:ZU,deferred:new de};return"validateConfig"in s&&Ie(s.validateConfig)&&s.validateConfig(n),QU(o),o},JU=function(i,e){const t=M(i);if(!t.length)return new de().resolve().promise();const n=q5(t,e);return eK(t,n),n.deferred.promise()};function eK(i,e){const t=E1(i);tK(i,t),t.push(e),N0(i)||I1(i,t)}function E1(i){return i.data("dxAnimQueue")||[]}function tK(i,e){i.data("dxAnimQueue",e)}const Y5=function(i){i.removeData("dxAnimQueue")};function N0(i){return!!M(i).data("dxAnimData")}function I1(i,e){if(e=E1(i),!e.length)return;const t=e.shift();e.length===0&&Y5(i),nK(t).done(()=>{N0(i)||I1(i)})}function nK(i){return i.setup(),i.isSynchronous?i.start():i.startTimeout=setTimeout(()=>{i.start()}),i.deferred.promise()}function Ly(i,e){if(!e||!e.position)return;const t=M(W5);let n=0,s=0;const r=lr.calculate(i,e.position),o=i.offset(),a=i.position();a.top>o.top&&(s=t.scrollTop()),a.left>o.left&&(n=t.scrollLeft()),se(e,{left:r.h.location-o.left+a.left-n,top:r.v.location-o.top+a.top-s}),delete e.position}function $y(i,e){ie(e,(t,n)=>{try{i.css(t,Ie(n)?n():n)}catch{}})}const iK=function(i,e){const t=M(i),n=E1(t);ie(n,(r,o)=>{o.config.delay=0,o.config.duration=0,o.isSynchronous=!0}),N0(t)||I1(t,n);const s=t.data("dxAnimData");s&&s.stop(e),t.removeData("dxAnimData"),Y5(t)},Ht={off:!1,animationTypes:G5,animate:JU,createAnimation:q5,isAnimating:N0,stop:iK,_simulatedTransitionEndDelay:100};class Yi{constructor(e,t){t=t||{},this._action=e,this._context=t.context||bt(),this._beforeExecute=t.beforeExecute,this._afterExecute=t.afterExecute,this._component=t.component,this._validatingTargetName=t.validatingTargetName;const n=this._excludeValidators={};if(t.excludeValidators)for(let s=0;s<t.excludeValidators.length;s++)n[t.excludeValidators[s]]=!0}execute(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s={action:this._action,args:Array.prototype.slice.call(t),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},r=this._beforeExecute,o=this._afterExecute,a=s.args[0]||{};if(!this._validateAction(s)||(r==null||r.call(this._context,s),s.cancel))return;const l=this._executeAction(s);if(!a.cancel)return o==null||o.call(this._context,s),l}_validateAction(e){const t=this._excludeValidators,{executors:n}=Yi;for(const r in n)if(!t[r]){var s;const o=n[r];if((s=o.validate)===null||s===void 0||s.call(o,e),e.cancel)return!1}return!0}_executeAction(e){let t;const{executors:n}=Yi;for(const r in n){var s;const o=n[r];if((s=o.execute)===null||s===void 0||s.call(o,e),e.handled){t=e.result;break}}return t}static registerExecutor(e,t){if(ot(e)){ie(e,Yi.registerExecutor);return}Yi.executors[e]=t}static unregisterExecutor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];ie(t,function(){delete Yi.executors[this]})}}Yi.executors={};const kT=i=>e=>{if(!e.args.length)return;const t=e.args[0],n=t[e.validatingTargetName]||t.element;n&&i(M(n))&&(e.cancel=!0)};Yi.registerExecutor({disabled:{validate:kT(i=>i.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:kT(i=>i.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:i=>{i.action||(i.result=void 0,i.handled=!0)}},func:{execute:i=>{Ie(i.action)&&(i.result=i.action.call(i.context,i.args[0]),i.handled=!0)}}});const qv={},Fc=i=>{const e=Oe.current();return i.reduce((t,n)=>{let{device:s,options:r}=n;const o=s||{};return(Ie(o)?o(e):rK(e,o))&&se(!0,t,r),t},{})},sK=(i,e)=>typeof i!="string"?i:{[i]:e},rK=(i,e)=>ki(e)||r1(i,[e]).length>0,OT=i=>i.substr(i.lastIndexOf(".")+1),RT=i=>i.substr(0,i.lastIndexOf(".")),oK=function(i,e){return qv[e]=qv[e]||qt(e),qv[e](i,{functionsAsIs:!0})},aK=function(){return arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]},lK=function(i,e){return 1/i===1/e},dK=function(i,e){return i=xi(i,!0),e=xi(e,!0),i&&e&&Dr(i)&&Dr(e)?e.is(i):i!==i&&e!==e?!0:i===0&&e===0?lK(i,e):i===null||typeof i!="object"||ve.isElementNode(i)?i===e:!1},Yv={},Xv={};class cK{constructor(e,t){this._options=e,this._optionsByReference=t,this._changingCallback,this._changedCallback,this._namePreparedCallbacks,this._validateOptionsCallback}_setByReference(e,t){se(!0,e,t);for(const n in this._optionsByReference)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}_setPreparedValue(e,t,n,s){const r=this.get(this._options,e,!1);if(!dK(r,t)){const o=rd(e);!s&&this._changingCallback(e,r,t),Xv[e]=Xv[e]||s1(e),Xv[e](this._options,t,{functionsAsIs:!0,merge:G(n)?n:!this._optionsByReference[e],unwrapObservables:o.length>1&&!!this._optionsByReference[o[0]]}),!s&&this._changedCallback(e,t,r)}}_prepareRelevantNames(e,t,n,s){if(ot(n))for(const r in n)this._prepareRelevantNames(e,`${t}.${r}`,n[r]);this._namePreparedCallbacks(e,t,n,s)}get(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._options,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Yv[t]=Yv[t]||qt(t),Yv[t](e,{functionsAsIs:!0,unwrapObservables:n})}set(e,t,n,s){e=sK(e,t);for(const r in e)this._prepareRelevantNames(e,r,e[r],s);this._validateOptionsCallback&&(e=this._validateOptionsCallback(e));for(const r in e)this._setPreparedValue(r,e[r],n,s)}onRelevantNamesPrepared(e){this._namePreparedCallbacks=e}onChanging(e){this._changingCallback=e}onChanged(e){this._changedCallback=e}onValidateOptions(e){this._validateOptionsCallback=e}dispose(){this._changingCallback=Te,this._changedCallback=Te}}class uK{constructor(e,t,n,s){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._validateOptionsCallback,this._default=t,this._deprecated=s,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new cK(e,n),this._optionManager.onRelevantNamesPrepared((r,o,a,l)=>this._setRelevantNames(r,o,a,l)),this._rules=[]}set _initial(e){this._initialOptions=e}get _initial(){if(!this._initialOptions){const e=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,e)}return this._initialOptions}_initDeprecatedNames(){for(const e in this._deprecated)this._deprecatedNames.push(e)}_getByRules(e){return e=Array.isArray(e)?this._rules.concat(e):this._rules,Fc(e)}_notifyDeprecated(e){const t=this._deprecated[e];t&&this._deprecatedCallback(e,t)}_setRelevantNames(e,t,n,s){if(t){const r=this._normalizeName(t,s);r&&r!==t&&(this._setField(e,r,n),this._clearField(e,t))}}_setField(e,t,n){let s="",r=null;do s=s?`.${s}`:"",s=OT(t)+s,t=RT(t),r=t?this._optionManager.get(e,t,!1):e;while(!r);r[s]=n}_clearField(e,t){delete e[t];const n=RT(t),s=n?this._optionManager.get(e,n,!1):e;s&&delete s[OT(t)]}_normalizeName(e,t){if(this._deprecatedNames.length&&e){for(let n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===e){const s=this._deprecated[e];if(s)return!t&&this._notifyDeprecated(e),s.alias||e}}return e}addRules(e){this._rules=e.concat(this._rules)}applyRules(e){const t=this._getByRules(e);this.silent(t)}dispose(){this._deprecatedCallback=Te,this._startChangeCallback=Te,this._endChangeCallback=Te,this._optionManager.dispose()}onChanging(e){this._optionManager.onChanging(e)}onChanged(e){this._optionManager.onChanged(e)}validateOptions(e){this._optionManager.onValidateOptions(e)}onDeprecated(e){this._deprecatedCallback=e}onStartChange(e){this._startChangeCallback=e}onEndChange(e){this._endChangeCallback=e}isInitial(e){const t=this.silent(e),n=this.initial(e);return Ie(t)&&Ie(n)?t.toString()===n.toString():dn(t,n)}initial(e){return oK(this._initial,e)}option(e,t){if(arguments.length<2&&Ji(e)!=="object")return this._optionManager.get(void 0,this._normalizeName(e));this._startChangeCallback();try{this._optionManager.set(e,t)}finally{this._endChangeCallback()}}silent(e,t){if(arguments.length<2&&Ji(e)!=="object")return this._optionManager.get(void 0,e,void 0,!0);this._optionManager.set(e,t,void 0,!0)}reset(e){if(e){const n=rd(e).reduce((r,o)=>r?r[o]:this.initial(o),null),s=Me(n)?Object.assign({},n):n;this._optionManager.set(e,s,!1)}}getAliasesByName(e){return Object.keys(this._deprecated).filter(t=>e===this._deprecated[t].alias)}isDeprecated(e){return Object.prototype.hasOwnProperty.call(this._deprecated,e)}cache(e,t){const n=arguments.length<2,s=`_cached_${e}`;if(n)return this.option(s);this.option(s,t)}}class hK{constructor(){this._postponedOperations={}}add(e,t,n){if(e in this._postponedOperations)n&&this._postponedOperations[e].promises.push(n);else{const s=new de;this._postponedOperations[e]={fn:t,completePromise:s,promises:n?[n]:[]}}return this._postponedOperations[e].completePromise.promise()}callPostponedOperations(){for(const e in this._postponedOperations){const t=this._postponedOperations[e];G(t)&&(t.promises&&t.promises.length?Ae(...t.promises).done(t.fn).then(t.completePromise.resolve):t.fn().done(t.completePromise.resolve))}this._postponedOperations={}}}const Af=new WeakMap;let pK=0;const Ep=function(i,e){if(G(e)){Af.set(i,e);return}if(!Af.has(i)){const t="dxPrivateComponent"+pK++;return Af.set(i,t),t}return Af.get(i)};function X5(i,e,t){const n=kn(i.get(0)),s=Ep(e.constructor);n[s]=e,t&&Y.one(i,$s,function(){t.call(e)}),n.dxComponents||(n.dxComponents=[]),n.dxComponents.push(s)}function Z5(i,e){const t=Ep(e);return kn(i.get(0),t)}const PT=i=>i.charAt(2).toLowerCase()+i.substr(3),fK=i=>i.indexOf("_",0)===0;let Q5=class extends Dt.inherit({}){_setDeprecatedOptions(){this._deprecatedOptions={}}_getDeprecatedOptions(){return this._deprecatedOptions}_getDefaultOptions(){return{onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}}_defaultOptionsRules(){return[]}_setOptionsByDevice(e){this._options.applyRules(e)}_convertRulesToOptions(e){return Fc(e)}_isInitialOptionValue(e){return this._options.isInitial(e)}_setOptionsByReference(){this._optionsByReference={}}_getOptionsByReference(){return this._optionsByReference}ctor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{_optionChangedCallbacks:t,_disposingCallbacks:n}=e;this.NAME=Ep(this.constructor),this._eventsStrategy=ld.create(this,e.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=t||Bt(),this._disposingCallbacks=n||Bt(),this.postponedOperations=new hK,this._createOptions(e)}_createOptions(e){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new uK(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((t,n,s)=>this._initialized&&this._optionChanging(t,n,s)),this._options.onDeprecated((t,n)=>this._logDeprecatedOptionWarning(t,n)),this._options.onChanged((t,n,s)=>this._notifyOptionChanged(t,n,s)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),this._options.validateOptions(t=>this._validateOptions(t)),e&&e.onInitializing&&e.onInitializing.apply(this,[e]),this._setOptionsByDevice(e.defaultOptionsRules),this._initOptions(e)}finally{this.endUpdate()}}_initOptions(e){this.option(e)}_init(){this._createOptionChangedAction(),this.on("disposing",e=>{this._disposingCallbacks.fireWith(this,[e])})}_logDeprecatedOptionWarning(e,t){const n=t.message||`Use the '${t.alias}' option instead`;Ut.log("W0001",this.NAME,e,t.since,n)}_logDeprecatedComponentWarning(e,t){Ut.log("W0000",this.NAME,e,`Use the '${t}' widget instead`)}_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})}_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})}_optionChanged(e){const{name:t}=e;switch(t){case"onDisposing":case"onInitialized":case"defaultOptionsRules":default:break;case"onOptionChanged":this._createOptionChangedAction()}}_dispose(){var e;this._optionChangedCallbacks.empty(),this._createDisposingAction(),(e=this._disposingAction)===null||e===void 0||e.call(this),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0}_lockUpdate(){this._updateLockCount+=1}_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)}_isUpdateAllowed(){return this._updateLockCount===0}_isInitializingRequired(){return!this._initializing&&!this._initialized}isInitialized(){return this._initialized}_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()}_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}}instance(){return this}beginUpdate(){this._lockUpdate()}endUpdate(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()}_optionChanging(){}_notifyOptionChanged(e,t,n){if(this._initialized){const r=[e].concat(this._options.getAliasesByName(e));for(let o=0;o<r.length;o+=1){const a=r[o],l={name:rd(a)[0],fullName:a,value:t,previousValue:n};if(!fK(a)){var s;this._optionChangedCallbacks.fireWith(this,[se(this._defaultActionArgs(),l)]),(s=this._optionChangedAction)===null||s===void 0||s.call(this,se({},l))}!this._disposed&&this._cancelOptionChange!==a&&this._optionChanged(l)}}}initialOption(e){return this._options.initial(e)}_defaultActionConfig(){return{context:this,component:this}}_defaultActionArgs(){return{component:this}}_createAction(e,t){let n;return s=>(G(s)||(s={}),ot(s)||(s={actionValue:s}),n=n||new Yi(e,se({},t,this._defaultActionConfig())),n.execute.call(n,se(s,this._defaultActionArgs())))}_createActionByOption(e,t){var n=this;let s,r,o,a=Object.assign({},t??{});const l=function(){var c,h;if(!r){if(a=a||{},typeof e!="string")throw Ut.Error("E0008");e.startsWith("on")&&(r=PT(e)),o=n.option(e)}if(!(!s&&!o&&!((c=a)!==null&&c!==void 0&&c.beforeExecute)&&!((h=a)!==null&&h!==void 0&&h.afterExecute)&&!n._eventsStrategy.hasEvent(r))){if(!s){const{beforeExecute:g}=a;a.beforeExecute=function(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];g==null||g.apply(n,v),n._eventsStrategy.fireEvent(r,v[0].args)},s=n._createAction(o,a)}for(var u=arguments.length,p=new Array(u),f=0;f<u;f++)p[f]=arguments[f];if(Ot().wrapActionsBeforeExecute){const{beforeActionExecute:g=Te}=n.option();return(g(n,s,a)||s).apply(n,p)}return s.apply(n,p)}};if(Ot().wrapActionsBeforeExecute)return l;const{onActionCreated:d=Te}=this.option();return d(this,l,a)||l}on(e,t){return this._eventsStrategy.on(e,t),this}off(e,t){return this._eventsStrategy.off(e,t),this}hasActionSubscription(e){return!!this._options.silent(e)||Ke(e)&&this._eventsStrategy.hasEvent(PT(e))}isOptionDeprecated(e){return this._options.isDeprecated(e)}_setOptionWithoutOptionChange(e,t){this._cancelOptionChange=e,this.option(e,t),this._cancelOptionChange=!1}_getOptionValue(e,t){const n=this.option(e);return Ie(n)?n.bind(t)():n}option(){return this._options.option(...arguments)}resetOption(e){this.beginUpdate(),this._options.reset(e),this.endUpdate()}_validateOptions(e){return e}};const kf={forward:" dx-forward",backward:" dx-backward",none:" dx-no-direction",undefined:" dx-no-direction"},mK=Q5.inherit({ctor:function(){this.callBase.apply(this,arguments),this._registeredPresets=[],this.resetToDefaults()},_getDefaultOptions:function(){return se(this.callBase(),{defaultAnimationDuration:400,defaultAnimationDelay:0,defaultStaggerAnimationDuration:300,defaultStaggerAnimationDelay:40,defaultStaggerAnimationStartDelay:500})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(i){return i.phone},options:{defaultStaggerAnimationDuration:350,defaultStaggerAnimationDelay:50,defaultStaggerAnimationStartDelay:0}},{device:function(){return Oe.current().android||Oe.real.android},options:{defaultAnimationDelay:100}}])},_getPresetOptionName:function(i){return"preset_"+i},_createAndroidSlideAnimationConfig:function(i,e){const t=this,n=function(s){return{type:"slide",delay:s.delay===void 0?t.option("defaultAnimationDelay"):s.delay,duration:s.duration===void 0?t.option("defaultAnimationDuration"):s.duration}};return{enter:function(s,r){const o=Xe(s.parent())*e,{direction:a}=r,l=n(r);return l.to={left:0,opacity:1},a==="forward"?l.from={left:o,opacity:i}:a==="backward"?l.from={left:-o,opacity:i}:l.from={left:0,opacity:0},Ht.createAnimation(s,l)},leave:function(s,r){const o=Xe(s.parent())*e,{direction:a}=r,l=n(r);switch(l.from={left:0,opacity:1},a){case"forward":l.to={left:-o,opacity:i};break;case"backward":l.to={left:o,opacity:i};break;default:l.to={left:0,opacity:0}}return Ht.createAnimation(s,l)}}},_createOpenDoorConfig:function(){const i=this,e=function(t){return{type:"css",extraCssClasses:"dx-opendoor-animation",delay:t.delay===void 0?i.option("defaultAnimationDelay"):t.delay,duration:t.duration===void 0?i.option("defaultAnimationDuration"):t.duration}};return{enter:function(t,n){const{direction:s}=n,r=e(n);return r.delay=s==="none"?r.delay:r.duration,r.from=`dx-enter dx-opendoor-animation${kf[s]}`,r.to="dx-enter-active",Ht.createAnimation(t,r)},leave:function(t,n){const{direction:s}=n,r=e(n);return r.from=`dx-leave dx-opendoor-animation${kf[s]}`,r.to="dx-leave-active",Ht.createAnimation(t,r)}}},_createWinPopConfig:function(){const i=this,e={type:"css",extraCssClasses:"dx-win-pop-animation",duration:i.option("defaultAnimationDuration")};return{enter:function(t,n){const s=e,{direction:r}=n;return s.delay=r==="none"?i.option("defaultAnimationDelay"):i.option("defaultAnimationDuration")/2,s.from=`dx-enter dx-win-pop-animation${kf[r]}`,s.to="dx-enter-active",Ht.createAnimation(t,s)},leave:function(t,n){const s=e,{direction:r}=n;return s.delay=i.option("defaultAnimationDelay"),s.from=`dx-leave dx-win-pop-animation${kf[r]}`,s.to="dx-leave-active",Ht.createAnimation(t,s)}}},resetToDefaults:function(){this.clear(),this.registerDefaultPresets(),this.applyChanges()},clear:function(i){const e=this,t=[];ie(this._registeredPresets,function(n,s){!i||i===s.name?e.option(e._getPresetOptionName(s.name),void 0):t.push(s)}),this._registeredPresets=t,this.applyChanges()},registerPreset:function(i,e){this._registeredPresets.push({name:i,config:e})},applyChanges:function(){const i=this,e=[];ie(this._registeredPresets,function(t,n){const s={device:n.config.device,options:{}};s.options[i._getPresetOptionName(n.name)]=n.config.animation,e.push(s)}),this._setOptionsByDevice(e)},getPreset:function(i){let e=i;for(;typeof e=="string";)e=this.option(this._getPresetOptionName(e));return e},registerDefaultPresets:function(){this.registerPreset("pop",{animation:{extraCssClasses:"dx-android-pop-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("openDoor",{animation:this._createOpenDoorConfig()}),this.registerPreset("win-pop",{animation:this._createWinPopConfig()}),this.registerPreset("fade",{animation:{extraCssClasses:"dx-fade-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("slide",{device:function(){return Oe.current().android||Oe.real.android},animation:this._createAndroidSlideAnimationConfig(1,1)}),this.registerPreset("slide",{device:function(){return!Oe.current().android&&!Oe.real.android},animation:{extraCssClasses:"dx-slide-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-slide",{animation:{extraCssClasses:"dx-ios7-slide-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("overflow",{animation:{extraCssClasses:"dx-overflow-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-toolbar",{device:function(){return!Oe.current().android&&!Oe.real.android},animation:{extraCssClasses:"dx-ios7-toolbar-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-toolbar",{device:function(){return Oe.current().android||Oe.real.android},animation:this._createAndroidSlideAnimationConfig(0,.4)}),this.registerPreset("stagger-fade",{animation:{extraCssClasses:"dx-fade-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-slide",{animation:{extraCssClasses:"dx-slide-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-slide",{animation:{extraCssClasses:"dx-fade-slide-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-drop",{animation:{extraCssClasses:"dx-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-drop",{animation:{extraCssClasses:"dx-fade-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-rise",{animation:{extraCssClasses:"dx-fade-rise-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-3d-drop",{animation:{extraCssClasses:"dx-3d-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-zoom",{animation:{extraCssClasses:"dx-fade-zoom-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}})}}),gK=new mK,_K={forward:" dx-forward",backward:" dx-backward",none:" dx-no-direction",undefined:" dx-no-direction"};Dt.inherit({ctor(){this._accumulatedDelays={enter:0,leave:0},this._animations=[],this.reset()},_createAnimations(i,e,t,n){i=M(i);const s=this,r=[];t=t||{};const o=this._prepareElementAnimationConfig(e,t,n);return o&&i.each(function(){const a=s._createAnimation(M(this),o,t);a&&(a.element.addClass("dx-animating"),a.setup(),r.push(a))}),r},_prepareElementAnimationConfig(i,e,t){let n;if(typeof i=="string"){const s=i;i=gK.getPreset(s)}if(!i)n=void 0;else if(Ie(i[t]))n=i[t];else{if(n=se({skipElementInitialStyles:!0,cleanupWhen:this._completePromise},i,e),!n.type||n.type==="css"){const s=`dx-${t}`,r=(n.extraCssClasses?` ${n.extraCssClasses}`:"")+_K[n.direction];n.type="css",n.from=(n.from||s)+r,n.to=n.to||`${s}-active`}n.staggerDelay=n.staggerDelay||0,n.delay=n.delay||0,n.staggerDelay&&(n.delay+=this._accumulatedDelays[t],this._accumulatedDelays[t]+=n.staggerDelay)}return n},_createAnimation(i,e,t){let n;return ot(e)?n=Ht.createAnimation(i,e):Ie(e)&&(n=e(i,t)),n},_startAnimations(){const i=this._animations;for(let e=0;e<i.length;e+=1)i[e].start()},_stopAnimations(i){const e=this._animations;for(let t=0;t<e.length;t+=1)e[t].stop(i)},_clearAnimations(){const i=this._animations;for(let e=0;e<i.length;e+=1)i[e].element.removeClass("dx-animating");this._animations.length=0},reset(){this._accumulatedDelays.enter=0,this._accumulatedDelays.leave=0,this._clearAnimations(),this._completeDeferred=new de,this._completePromise=this._completeDeferred.promise()},enter(i,e,t){const n=this._createAnimations(i,e,t,"enter");this._animations.push.apply(this._animations,n)},leave(i,e,t){const n=this._createAnimations(i,e,t,"leave");this._animations.push.apply(this._animations,n)},start(){const i=this;let e;if(!this._animations.length)i.reset(),e=new de().resolve().promise();else{const t=Mn(this._animations,n=>{const s=new de;return n.deferred.always(()=>{s.resolve()}),s.promise()});e=Ae.apply(M,t).always(()=>{i._completeDeferred.resolve(),i.reset()}),l1.executeAsync(()=>{i._startAnimations()})}return e},stop(i){this._stopAnimations(i)}});const V0=Dt.inherit({ctor(i){this._$element=M(i),this._cancelCallback=Bt(),this._acceptCallback=Bt()},getElement(){return this._$element},validate:i=>!Li(i),validatePointers:i=>eW(i)===1,allowInterruptionByMouseWheel:()=>!0,configure(i){se(this,i)},addCancelCallback(i){this._cancelCallback.add(i)},removeCancelCallback(){this._cancelCallback.empty()},_cancel(i){this._cancelCallback.fire(this,i)},addAcceptCallback(i){this._acceptCallback.add(i)},removeAcceptCallback(){this._acceptCallback.empty()},_accept(i){this._acceptCallback.fire(this,i)},_requestAccept(i){this._acceptRequestEvent=i},_forgetAccept(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:Te,move:Te,end:Te,cancel:Te,reset(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent(i,e,t){const n=se({type:i,originalEvent:e,target:this._getEmitterTarget(e),delegateTarget:this.getElement().get(0)},t);return e=el(n),e.cancel&&this._cancel(e),e},_getEmitterTarget(i){return(this.delegateSelector?M(i.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:Te}),Ip="dxmousewheel";var MT;(function(i){i[i.DOM_DELTA_PIXEL=0]="DOM_DELTA_PIXEL",i[i.DOM_DELTA_LINE=1]="DOM_DELTA_LINE",i[i.DOM_DELTA_PAGE=2]="DOM_DELTA_PAGE"})(MT||(MT={}));const Hy={setup(i){const e=M(i);Y.on(e,be("wheel","dxWheel"),Hy._wheelHandler.bind(Hy))},teardown(i){Y.off(i,".dxWheel")},_wheelHandler(i){const{deltaMode:e,deltaY:t,deltaX:n,deltaZ:s}=i.originalEvent,r=this._getWheelDelta(t,n);el({type:Ip,originalEvent:i,delta:this._normalizeDelta(r,e),deltaX:n,deltaY:t,deltaZ:s,deltaMode:e,pointerType:"mouse"}),i.stopPropagation()},_normalizeDelta(i){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:0)===0?-i:-30*i},_getWheelDelta(i,e){return i||e||0}};ur(Ip,Hy);const T1=Dt.inherit({ctor(i,e){this._eventName=i,this._originalEvents=be(e,"dxPointerEvents"),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble(){const i=this._eventName;return i==="dxpointerenter"||i==="dxpointerleave"},_handler(i){const e=this._getDelegateTarget(i),t={type:this._eventName,pointerType:i.pointerType||vp(i),originalEvent:i,delegateTarget:e,timeStamp:gn.mozilla?new Date().getTime():i.timeStamp},n=n1(i);return t.target=n,this._fireEvent(t)},_getDelegateTarget(i){let e;return this.noBubble&&(e=i.delegateTarget),e},_fireEvent:i=>el(i),_setSelector(i){this._selector=this.noBubble&&i?i.selector:null},_getSelector(){return this._selector},setup:()=>!0,add(i,e){if(this._handlerCount<=0||this.noBubble){i=this.noBubble?i:ve.getDocument(),this._setSelector(e);const t=this;Y.on(i,this._originalEvents,this._getSelector(),n=>{t._handler(n)})}this.noBubble||this._handlerCount++},remove(i){this._setSelector(i),this.noBubble||this._handlerCount--},teardown(i){this._handlerCount&&!this.noBubble||(i=this.noBubble?i:ve.getDocument(),this._originalEvents!==".dxPointerEvents"&&Y.off(i,this._originalEvents,this._getSelector()))},dispose(i){i=this.noBubble?i:ve.getDocument(),Y.off(i,this._originalEvents)}}),Of=function(i,e){Or.add(()=>{i.split(" ").forEach(t=>{ve.listen(ve.getDocument(),t,e,!0)})})},vK=function(i,e,t){t=t||function(){};let n=[];const s=function(o){let a=-1;return ie(n,(l,d)=>e(o,d)?(a=l,!1):!0),a},r=function(o){const a=s(o);a>-1&&n.splice(a,1)};Of(i.dxpointerdown,function(o){s(o)===-1&&(t(o),n.push(o))}),Of(i.dxpointermove,function(o){n[s(o)]=o}),Of(i.dxpointerup,r),Of(i.dxpointercancel,r),this.pointers=function(){return n},this.reset=function(){n=[]}},D1={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"pointercancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"};gn.safari&&(D1.dxpointercancel+=" dragstart");const J5=function(i){return i.pointerId=1,{pointers:A1.pointers(),pointerId:1}};let A1,FT=!1;const eP=function(){FT||(A1=new vK(D1,()=>!0),FT=!0)},zo=T1.inherit({ctor(){this.callBase.apply(this,arguments),eP()},_fireEvent(i){return this.callBase(se(J5(i.originalEvent),i))}});zo.map=D1;zo.normalize=J5;zo.activate=eP;zo.resetObserver=function(){A1.reset()};const xK={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},tP=function(i){const e=[];return ie(i.touches,(t,n)=>{e.push(se({pointerId:n.identifier},n))}),{pointers:e,pointerId:i.changedTouches[0].identifier}},bK=function(i){return Oe.real().platform==="ios"&&(i==="dxpointerdown"||i==="dxpointerup")},Tp=T1.inherit({ctor(){this.callBase.apply(this,arguments),this._pointerId=0},_handler(i){if(bK(this._eventName)){const e=i.changedTouches[0];if(this._pointerId===e.identifier&&this._pointerId!==0)return;this._pointerId=e.identifier}return this.callBase.apply(this,arguments)},_fireEvent(i){return this.callBase(se(tP(i.originalEvent),i))}});Tp.map=xK;Tp.normalize=tP;const yK={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"};let BT=!1;const CK=function(){BT||(zo.activate(),BT=!0)},L0=T1.inherit({EVENT_LOCK_TIMEOUT:100,ctor(){this.callBase.apply(this,arguments),CK()},_handler(i){const e=ql(i);if(e||(this._skipNextEvents=!0),!(e&&this._mouseLocked)){if(e&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);const t=this;this._unlockMouseTimer=setTimeout(()=>{t._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT);return}return this.callBase(i)}},_fireEvent(i){const e=ql(i.originalEvent)?zo.normalize:Tp.normalize;return this.callBase(se(e(i.originalEvent),i))},dispose(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});L0.map=yK;L0.resetObserver=zo.resetObserver;const wK=(i,e)=>{let{tablet:t,phone:n}=e;const s=SK();return s||(i.touch&&!(t||n)?L0:i.touch?Tp:zo)},NT=wK(es,Oe.real());ie(NT.map,(i,e)=>{ur(i,new NT(i,e))});const mt={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",out:"dxpointerout"};function SK(){const i=Ot().pointerEventStrategy;return{"mouse-and-touch":L0,touch:Tp,mouse:zo}[i]}const Rf="dxEventManager",EK=Dt.inherit({ctor(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers(){Or.add(()=>{const i=ve.getDocument();Y.subscribeGlobal(i,be(mt.down,Rf),this._pointerDownHandler.bind(this)),Y.subscribeGlobal(i,be(mt.move,Rf),this._pointerMoveHandler.bind(this)),Y.subscribeGlobal(i,be([mt.up,mt.cancel].join(" "),Rf),this._pointerUpHandler.bind(this)),Y.subscribeGlobal(i,be(Ip,Rf),this._mouseWheelHandler.bind(this))})},_eachEmitter(i){const e=this._activeEmitters||[];let t=0;for(;e.length>t;){const n=e[t];if(i(n)===!1)break;e[t]===n&&t++}},_applyToEmitters(i,e){this._eachEmitter(t=>{t[i].call(t,e)})},reset(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter(i){this._proxiedCancelHandler(i)},_pointerDownHandler(i){ql(i)&&i.which>1||this._updateEmitters(i)},_updateEmitters(i){this._isSetChanged(i)&&(this._cleanEmitters(i),this._fetchEmitters(i))},_isSetChanged(i){const e=this._closestEmitter(i),t=this._emittersSet||[];let n=e.length!==t.length;return ie(e,(s,r)=>(n=n||t[s]!==r,!n)),this._emittersSet=e,n},_closestEmitter(i){const e=this,t=[];let n=M(i.target);function s(r,o){o&&o.validatePointers(i)&&o.validate(i)&&(o.addCancelCallback(e._proxiedCancelHandler),o.addAcceptCallback(e._proxiedAcceptHandler),t.push(o))}for(;n.length;){const r=kn(n.get(0),"dxEmitter")||[];ie(r,s),n=n.parent()}return t},_acceptHandler(i,e){this._eachEmitter(t=>{t!==i&&this._cancelEmitter(t,e)})},_cancelHandler(i,e){this._cancelEmitter(i,e)},_cancelEmitter(i,e){const t=this._activeEmitters;e?i.cancel(e):i.reset(),i.removeCancelCallback(),i.removeAcceptCallback();const n=t.indexOf(i);n>-1&&t.splice(n,1)},_cleanEmitters(i){this._applyToEmitters("end",i),this.reset(i)},_fetchEmitters(i){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",i)},_pointerMoveHandler(i){this._applyToEmitters("move",i)},_pointerUpHandler(i){this._updateEmitters(i)},_mouseWheelHandler(i){this._allowInterruptionByMouseWheel()&&(i.pointers=[null],this._pointerDownHandler(i),this._adjustWheelEvent(i),this._pointerMoveHandler(i),i.pointers=[],this._pointerUpHandler(i))},_allowInterruptionByMouseWheel(){let i=!0;return this._eachEmitter(e=>(i=e.allowInterruptionByMouseWheel()&&i,i)),i},_adjustWheelEvent(i){let e=null;if(this._eachEmitter(r=>{if(!r.gesture)return;const o=r.getDirection(i);if(o!=="horizontal"&&!i.shiftKey||o!=="vertical"&&i.shiftKey)return e=r,!1}),!e)return;const t=e.getDirection(i),s=t==="both"&&!i.shiftKey||t==="vertical"?"pageY":"pageX";i[s]+=i.delta},isActive(i){let e=!1;return this._eachEmitter(t=>{e=e||t.getElement().is(i)}),e}}),VT=new EK,Xc=function(i){const e=i.emitter,t=i.events[0],n=i.events;ie(n,(s,r)=>{ur(r,{noBubble:!i.bubble,setup(o){const a=kn(o,"dxEmitterSubscription")||{},l=kn(o,"dxEmitter")||{},d=l[t]||new e(o);a[r]=!0,l[t]=d,kn(o,"dxEmitter",l),kn(o,"dxEmitterSubscription",a)},add(o,a){kn(o,"dxEmitter")[t].configure(se({delegateSelector:a.selector},a.data),a.type)},teardown(o){const a=kn(o,"dxEmitterSubscription"),l=kn(o,"dxEmitter"),d=l[t];delete a[r];let c=!0;ie(n,(h,u)=>(c=c&&!a[u],c)),c&&(VT.isActive(o)&&VT.resetEmitter(d),d&&d.dispose(),delete l[t])}})})};function nP(i){return i&&[i.target,i.delegateTarget,i.relatedTarget,i.currentTarget].filter(e=>!!e)}const IK=(i,e)=>{Y.one(nP(i),$s,e)},TK=(i,e)=>{Y.off(nP(i),$s,e)},k1=bt(),DK=i=>{if(!i.getRootNode)return;const{host:e}=i.getRootNode();if(!Ke(e))return e},AK=()=>{const i=ve.getActiveElement();if(i&&i!==ve.getBody()){var e;(e=i.blur)===null||e===void 0||e.call(i)}},kK=()=>{const i=k1.getSelection();if(i&&i.type!=="Caret"){if(i.empty)i.empty();else if(i.removeAllRanges)try{i.removeAllRanges()}catch{}}},iP=(i,e)=>{const t=M(i),n=M(e);if(t[0]===n[0])return t[0];const s=t.parents(),r=n.parents(),o=Math.min(s.length,r.length);for(let a=-o;a<0;a++)if(s.get(a)===r.get(a))return s.get(a)},OK=i=>{i=M(i);const e=i.length&&i.filter(function(){const t=M(this);return t.is("script[type]")&&!t.attr("type").includes("script")});return e.length?e.eq(0).html():(i=M("<div>").append(i),i.html())},$0=i=>{let e=M();return G(i)&&(i.nodeType||Dr(i))?e=M(i):typeof i!="object"&&(e=M("<div>").html(i).contents()),e.length===1&&(e.is("script")?e=$0(e.html().trim()):e.is("table")&&(e=e.children("tbody").contents())),e},Ig=(i,e)=>{const t=i.originalEvent&&i.originalEvent.clipboardData||k1.clipboardData;if(!e)return t&&t.getData("Text");t&&t.setData("Text",e)},za=(i,e)=>e?jn(i)?za(i.document,e):i.contains(e)||za(i,DK(e)):!1,sP=(i,e,t)=>{const n=k1.getComputedStyle(M(i).get(0)),s=t&&t.includePaddings;return M("<div>").text(e).css({fontStyle:n.fontStyle,fontVariant:n.fontVariant,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFamily:n.fontFamily,letterSpacing:n.letterSpacing,border:n.border,paddingTop:s?n.paddingTop:"",paddingRight:s?n.paddingRight:"",paddingBottom:s?n.paddingBottom:"",paddingLeft:s?n.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},rP=(i,e)=>(e&&ve.insertElement(i.parentNode,e,i),i),oP=(i,e)=>{if(e&&e[0])return e.is(i)?i:(ie(e,(t,n)=>{rP(i[0],n)}),i.remove(),e)},Zc=i=>{const e=i==null?void 0:i.get(0),t=e==null?void 0:e.getRootNode().host;return!!M(t||e).closest(bt().document).length},Sr={resetActiveElement:AK,clearSelection:kK,closestCommonParent:iP,extractTemplateMarkup:OK,normalizeTemplateElement:$0,clipboardText:Ig,contains:za,createTextElementHiddenCopy:sP,insertBefore:rP,replaceWith:oP,isElementInDom:Zc},Nt="dxclick";let jy=null,ju=null;const LT=()=>{ju=null},$T=function(i){const{originalEvent:e}=i,t=ju===e||e&&e.DXCLICK_FIRED;(!i.which||i.which===1)&&!jy&&!t&&(e&&(e.DXCLICK_FIRED=!0),TK(ju,LT),ju=e,IK(ju,LT),el({type:"dxclick",originalEvent:i}))},RK=V0.inherit({ctor(i){this.callBase(i),Y.on(this.getElement(),"click",$T)},start(){jy=null},cancel(){jy=!0},dispose(){Y.off(this.getElement(),"click",$T)}});(function(){if(!Oe.real().generic){let e=null,t=!1;const n=function(d){return M(d).is("input, textarea, select, button ,:focus, :focus *")},s=function(d){e=d.target,t=d.isDefaultPrevented()},r=function(d){const c=n1(d);return M(c)},o=function(d){const c=r(d);!t&&e&&!c.is(e)&&!M(e).is("label")&&n(c)&&Sr.resetActiveElement(),e=null,t=!1},a="NATIVE_CLICK_FIXER",l=ve.getDocument();Y.subscribeGlobal(l,be(mt.down,a),s),Y.subscribeGlobal(l,be("click",a),o)}})();Xc({emitter:RK,bubble:!0,events:["dxclick"]});const Dp="dxdblclick",HT=be(Nt,"dxDblClick"),PK=Dt.inherit({ctor(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick(){this._firstClickTarget=null,this._lastClickTimeStamp=-300},add(){this._handlerCount<=0&&Y.on(ve.getDocument(),HT,this._clickHandler.bind(this)),this._handlerCount+=1},_clickHandler(i){const e=i.timeStamp||Date.now(),t=e-this._lastClickTimeStamp;!(t<0)&&t<300?(el({type:"dxdblclick",target:iP(this._firstClickTarget,i.target),originalEvent:i}),this._forgetLastClick()):(this._firstClickTarget=i.target,this._lastClickTimeStamp=e,clearTimeout(this._lastClickClearTimeout),this._lastClickClearTimeout=setTimeout(()=>{this._forgetLastClick()},600))},remove(){this._handlerCount-=1,this._handlerCount<=0&&(this._forgetLastClick(),Y.off(ve.getDocument(),HT,void 0),clearTimeout(this._lastClickClearTimeout),this._handlerCount=0)}}),MK=new PK;ur(Dp,MK);const FK=i=>class extends i{_applyColumnState(e){var t;const n=this.option("rtlEnabled"),s=this._getColumnAlignment(e.column.alignment,n),r=se(!0,{columnAlignment:s},e),o=r.rootElement.hasClass("dx-group-panel-item"),a=this._createIndicatorContainer(r,o),l=M("<span>").addClass(this._getIndicatorClassName(e.name)),d=(t=this.component)===null||t===void 0?void 0:t.getController("columns"),c=(d==null?void 0:d.getHeaderContentAlignment(s))||s;return r.container=a,r.indicator=l,this._renderIndicator(r),a[(o||!e.showColumnLines)&&c==="left"?"appendTo":"prependTo"](e.rootElement),l}_getIndicatorClassName(e){}_getColumnAlignment(e){const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||this.option("rtlEnabled");return e&&e!=="center"?e:tl(n)}_createIndicatorContainer(e,t){let n=this._getIndicatorContainer(e.rootElement);const s=e.columnAlignment==="left"?"right":"left";return n.length||(n=M("<div>").addClass("dx-column-indicators")),this.setAria("role","presentation",n),n.css("float",e.showColumnLines&&!t?s:null)}_getIndicatorContainer(e){return e&&e.find(".dx-column-indicators")}_getIndicatorElements(e){const t=this._getIndicatorContainer(e);return t==null?void 0:t.children()}_renderIndicator(e){const t=e.container,n=e.indicator;t&&n&&t.append(n)}_updateIndicators(e){const t=this,n=t.getColumns(),s=t.getColumnElements();let r;if(!(!s||n.length!==s.length))for(let o=0;o<n.length;o++){r=s.eq(o),t._updateIndicator(r,n[o],e);const a=r.parent().data("options");a&&a.cells&&(a.cells[r.index()].column=n[o])}}_updateIndicator(e,t,n){if(!t.command)return this._applyColumnState({name:n,rootElement:e,column:t,showColumnLines:this.option("showColumnLines")})}},pt=i1(Ut.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" and "endDayHour" options must be integers in the [0, 24] range, with "endDayHour" being greater than "startDayHour".',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",E1061:'The "offset" option must be an integer in the [-1440, 1440] range, divisible by 5 without a remainder.',E1062:'The "cellDuration" must be a positive integer, evenly dividing the ("endDayHour" - "startDayHour") interval into minutes.',E1063:"The 'smartPaste(text)' method was called, but 'aiIntegration' is not configured.",E1064:"AI returned {1} for the {0} field, but this field only accepts {2} values. Update the 'instruction' for this field.",E1065:"The browser does not support Web Speech API (SpeechRecognition)",E1066:"All AI columns must have names.",E1067:"'aiIntegration' is not configured in the {0} column.",W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true",W1021:`The '{0}' is not rendered because none of the DOM elements match the value of the "container" property.`,W1022:"{0} JSON parsing error: '{1}'",W1023:"Appointments require unique keys. Otherwise, the agenda view may not work correctly.",W1024:"The client-side export is enabled. Implement the 'onExporting' function.",W1025:"'scrolling.mode' is set to 'virtual' or 'infinite'. Specify the height of the component.",W1026:"The 'ai' toolbar item is defined, but aiIntegration is missing.",W1027:"A prompt should be specified for a custom command.",W1028:"Nested/banded columns do not support the following properties: {0}."});function Hs(i,e){if(i==null)return{};var t={};for(var n in i)if({}.hasOwnProperty.call(i,n)){if(e.indexOf(n)!==-1)continue;t[n]=i[n]}return t}const BK=["rowsView"],Xo={borderedTop:"dx-bordered-top-view",borderedBottom:"dx-bordered-bottom-view"},NK=i=>{let{columnHeadersView:e,rowsView:t}=i;return e!=null&&e.isVisible()?e.element():t.element()},VK=i=>{let{filterPanelView:e,footerView:t,rowsView:n}=i;return e!=null&&e.isVisible()?e.element():t!=null&&t.isVisible()?t.element():n.element()},jT=(i,e)=>{const t=Object.values(i).find(n=>{var s;return n==null||(s=n.element())===null||s===void 0?void 0:s.hasClass(e)});return(t==null?void 0:t.element())??null},LK=(i,e)=>{var t;if(!Object.keys(e).includes(i))return!1;const{rowsView:n}=e,s=Hs(e,BK);return G(n==null||(t=n.element)===null||t===void 0?void 0:t.call(n))?Object.values(s).filter(r=>{var o;return r==null||(o=r.isVisible)===null||o===void 0?void 0:o.call(r)}).every(r=>G(r==null?void 0:r.element())):!1},$K=(i,e)=>{if(!LK(i,e))return;const t=jT(e,Xo.borderedTop),n=jT(e,Xo.borderedBottom),s=NK(e),r=VK(e);t&&!t.is(s)&&t.removeClass(Xo.borderedTop),n&&!n.is(r)&&n.removeClass(Xo.borderedBottom),s.hasClass(Xo.borderedTop)||s.addClass(Xo.borderedTop),r.hasClass(Xo.borderedBottom)||r.addClass(Xo.borderedBottom)};class aP{constructor(e){const t=this;t._updateLockCount=0,t.component=e,t._actions={},t._actionConfigs={},ie(this.callbackNames()||[],function(n,s){const r=t.callbackFlags(s)||{};r.unique=!0,r.syncStrategy=!0,t[this]=Bt(r)})}_endUpdateCore(){}init(){}callbackNames(){}callbackFlags(e){}publicMethods(){return[]}beginUpdate(){this._updateLockCount++}endUpdate(){this._updateLockCount>0&&(this._updateLockCount--,this._updateLockCount||this._endUpdateCore())}option(e){const{component:t}=this,n=t._optionCache;return arguments.length===1&&n?(e in n||(n[e]=t.option(e)),n[e]):t.option.apply(t,arguments)}_silentOption(e,t){const{component:n}=this,s=n._optionCache;return s&&(s[e]=t),n._setOptionWithoutOptionChange(e,t)}localize(e){const t=this.component._optionCache;return t?(e in t||(t[e]=ue.format(e)),t[e]):ue.format(e)}on(e,t){return this.component.on.apply(this.component,arguments)}off(){return this.component.off.apply(this.component,arguments)}optionChanged(e){e.name in this._actions&&(this.createAction(e.name,this._actionConfigs[e.name]),e.handled=!0)}getAction(e){return this._actions[e]}setAria(e,t,n){const s=n.get(0),r=e!=="role"&&e!=="id"?"aria-":"";s.setAttribute?s.setAttribute(r+e,t):n.attr(r+e,t)}_createComponent(e,t,n){return this.component._createComponent(e,t,n)}getController(e){return this.component._controllers[e]}createAction(e,t){if(Ie(e)){const n=this.component._createAction(e.bind(this),t);return function(s){n({event:s})}}this._actions[e]=this.component._createActionByOption(e,t),this._actionConfigs[e]=t}executeAction(e,t){const n=this._actions[e];return n&&n(t)}dispose(){const e=this;ie(e.callbackNames()||[],function(){e[this].empty()})}addWidgetPrefix(e){return`dx-${this.component.NAME.slice(2).toLowerCase()}${e?`-${e}`:""}`}getWidgetContainerClass(){const e=this.component.NAME==="dxDataGrid"?null:"container";return this.addWidgetPrefix(e)}elementIsInsideGrid(e){return e.closest(`.${this.getWidgetContainerClass()}`).parent().is(this.component.$element())}}class dd extends aP{}class O1 extends dd{getView(e){return this.component._views[e]}getViews(){return this.component._views}}class H0 extends aP{constructor(e){super(e),this.renderCompleted=Bt(),this.resizeCompleted=Bt()}_isReady(){return this.component.isReady()}_endUpdateCore(){super._endUpdateCore(),!this._isReady()&&this._requireReady&&(this._requireRender=!1,this.component._requireResize=!1),this._requireRender&&(this._requireRender=!1,this.render(this._$parent))}_invalidate(e,t){this._requireRender=!0,this.component._requireResize=st()&&(this.component._requireResize||e),this._requireReady=this._requireReady||t}_renderCore(e){}_resizeCore(){}_parentElement(){return this._$parent}element(){return this._$element}getElementHeight(){const e=this.element();if(!e)return 0;const t=parseFloat(e.css("marginTop"))||0,n=parseFloat(e.css("marginBottom"))||0,{offsetHeight:s}=e.get(0);return s+t+n}isVisible(){return!0}getTemplate(e){return this.component._getTemplate(e)}getView(e){return this.component._views[e]}_getBorderedViews(){return{columnHeadersView:this.component._views.columnHeadersView,rowsView:this.component._views.rowsView,filterPanelView:this.component._views.filterPanelView,footerView:this.component._views.footerView}}render(e,t){let n=this._$element;const s=this.isVisible();if(!(!n&&!e)&&(this._requireReady=!1,n||(n=this._$element=M("<div>").appendTo(e),this._$parent=e),n.toggleClass("dx-hidden",!s),this.component._views&&$K(this.name,this._getBorderedViews()),s)){this.component._optionCache={};const r=this._renderCore(t);this.component._optionCache=void 0,r?r.done(()=>{this.renderCompleted.fire(t)}):this.renderCompleted.fire(t)}}resize(){this.isResizing=!0,this._resizeCore(),this.resizeCompleted.fire(),this.isResizing=!1}focus(e){this.element().get(0).focus({preventScroll:e})}}function zT(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t={};return Object.entries(e).forEach(n=>{let[s,r]=n;const o=i[s];if(o)if(Ie(r))t[s]=r(o);else{const a=o;t[s]=a.inherit(r)}}),t}function HK(i,e,t){const n=t.publicMethods();n&&ie(n,(s,r)=>{if(t[r])if(!i[r])i[r]=function(){return t[r](...arguments)};else throw pt.Error("E1005",r);else throw pt.Error("E1006",e,r)})}function jK(i,e){const{modules:t}=e,{modulesOrder:n}=e;function s(c){const h={};return ie(c,(u,p)=>{const f=new p(i);f.name=u,HK(i,u,f),h[u]=f}),h}n&&t.sort((c,h)=>{let u=n.indexOf(c.name),p=n.indexOf(h.name);return u<0&&(u=1e6),p<0&&(p=1e6),u-p});const r={},o={};t.forEach(c=>{let{name:h,controllers:u={},views:p={}}=c;Object.entries(u).forEach(f=>{let[g,m]=f;if(r[g])throw pt.Error("E1001",h,g);if(!((m==null?void 0:m.prototype)instanceof dd))throw pt.Error("E1002",h,g);r[g]=m}),Object.entries(p).forEach(f=>{let[g,m]=f;if(o[g])throw pt.Error("E1003",h,g);if(!((m==null?void 0:m.prototype)instanceof H0))throw pt.Error("E1004",h,g);o[g]=m})});const a=t.filter(c=>{let{extenders:h}=c;return!!h}),l=a.reduce((c,h)=>{let{extenders:u}=h;return Object.assign({},c,zT(c,u==null?void 0:u.controllers))},r),d=a.reduce((c,h)=>{let{extenders:u}=h;return Object.assign({},c,zT(c,u==null?void 0:u.views))},o);i._controllers=s(l),i._views=s(d)}const zK=function(i,e,t){t=t||[],i._controllers&&ie(i._controllers,function(){this[e]&&this[e].apply(this,t)}),i._views&&ie(i._views,function(){this[e]&&this[e].apply(this,t)})},fn={modules:[],View:H0,ViewController:O1,Controller:dd,registerModule(i,e){const{modules:t}=this;for(let n=0;n<t.length;n++)if(t[n].name===i)return;e.name=i,t.push(e)},registerModulesOrder(i){this.modulesOrder=i},unregisterModule(i){this.modules=Qi(this.modules,e=>e.name!==i)},processModules:jK,callModuleItemsMethod:zK},pn=i1(Ut.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"});let WK=null;const j0=function(i){var e;(e=WK)===null||e===void 0||e(i)},UK=Or.add,R1="DEVEXTREME_XHR_ERROR_UNLOAD",lP=function(i){return[i[0],i.length<3?"=":String(i[1]).toLowerCase(),i.length<2?!0:i[i.length-1]]},Po=function(i){return Array.isArray(i)||(i=[i]),Mn(i,e=>{const t={selector:Ie(e)||typeof e=="string"?e:e.getter||e.field||e.selector,desc:!!(e.desc||String(e.dir).charAt(0).toLowerCase()==="d")};return e.compare&&(t.compare=e.compare),t})},dP=function(){const i={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"};let e;return UK(()=>{const t=bt();ve.listen(t,"beforeunload",()=>{e=!0})}),function(t,n){return e?R1:t.status<400?function(s){let r=i[s];return r||s}(n):t.statusText}}(),P1={count:{seed:0,step:i=>1+i},sum:{seed:0,step:(i,e)=>i+e},min:{step:(i,e)=>e<i?e:i},max:{step:(i,e)=>e>i?e:i},avg:{seed:[0,0],step:(i,e)=>[i[0]+e,i[1]+1],finalize:i=>i[1]?i[0]/i[1]:NaN}},KK=function(){let i=0,e;return{obtain:function(){i===0&&(e=new de),i++},release:function(){i--,i<1&&e.resolve()},promise:function(){return(i===0?new de().resolve():e).promise()},reset:function(){i=0,e&&e.resolve()}}}();function cP(i){return/^(and|&&|&)$/i.test(i)}const Ap=function(i,e,t){if(Array.isArray(i)){const n=Mn(e,(r,o)=>o);let s;for(let r=0;r<n.length;r++)if(s=n[r],!dn(e[s],t[s],{strict:!1}))return!1;return!0}return dn(e,t,{strict:!1})},uP=function(i){return i[0]==="!"&&Array.isArray(i[1])},GK=function(i){return i==="and"||i==="or"},qK=function(i){if(i.length>2&&Array.isArray(i[0])&&i[1]==="or"&&typeof i[0][0]=="string"&&i[0][1]==="="){const[e]=i[0];return!i.find((t,n)=>n%2!==0?t!=="or":!Array.isArray(t)||t.length!==3||t[0]!==e||t[1]!=="=")}return!1},YK=function(i){const e=i[0],t=i[1];return!!(Array.isArray(e)||Ie(e)&&(Array.isArray(t)||Ie(t)||GK(t)))},vc=function(){const i=new de;return i.resolve.apply(i,arguments).promise()},hP=function(){const i=new de;return i.reject.apply(i,arguments).promise()};function XK(i,e){let t;return function(){return t||(t=setTimeout(()=>{t=void 0,i.call(this)},Ie(e)?e():e)),t}}function ZK(i,e){let t=[];const n=XK(function(){i.call(this,t),t=[]},e);return function(s){return Array.isArray(s)&&t.push(...s),n.call(this,t)}}function QK(i,e){let t;const n=typeof e=="string"?e.split():e.slice();for(;n.length;)if(t=n.shift(),t in i)return!0;return!1}function pP(i,e,t,n){let s,r;if(n){for(let o=0;o<e.length;o++)if(s=e[o].items||e[o].collapsedItems||[],r=pP(i,s||[],t,n-1),r)return r}else if(Zl(i,e,t)>=0)return e}function JK(i,e,t,n){return n?pP(i,e,t,n)||[]:e}function eG(i,e){if(i.key()&&(!e._dataByKeyMap||e._dataByKeyMapLength!==e.length)){const t={},n=e.length;for(let s=0;s<n;s++)t[JSON.stringify(i.keyOf(e[s]))]=e[s];e._dataByKeyMap=t,e._dataByKeyMapLength=n}}function tG(i,e){if(i._dataByKeyMap)return i._dataByKeyMap[JSON.stringify(e)]}function nG(i,e){return i._dataByKeyMap?i._dataByKeyMap[JSON.stringify(e)]:!0}function fP(i,e,t){i._dataByKeyMap&&(i._dataByKeyMap[JSON.stringify(e)]=t,i._dataByKeyMapLength+=t?1:-1)}function mP(i,e,t){t=t||new WeakMap;const n=i?Object.create(Object.getPrototypeOf(i)):{};i&&t.set(i,n);const s=Object.assign({},i);Gi(n,s,!0,!0,!0);for(const r in s){const o=s[r],a=e==null?void 0:e[r];Me(o)&&!ot(o)&&Me(a)&&!t.has(o)&&(n[r]=mP(o,a,t))}for(const r in n){const o=n[r];Me(o)&&t.has(o)&&(n[r]=t.get(o))}return n}function ba(i,e){const t=mP(i,e);return Gi(t,e,!0,!0,!0)}function Pl(i){let{keyInfo:e,data:t,changes:n,groupCount:s,useInsertIndex:r,immutable:o,disableCache:a,logError:l,skipCopying:d}=i;const c=o===!0?[...t]:t;return n.forEach(h=>{const u=h.type==="insert"?c:JK(e,c,h.key,s);switch(!a&&eG(e,u),h.type){case"update":M1(e,u,h.key,h.data,!0,o,l);break;case"insert":F1(e,u,h.data,r&&G(h.index)?h.index:-1,!0,l,d);break;case"remove":gP(e,u,h.key,!0,l)}}),c}function Tg(i,e,t){return i?e&&pn.log(t):hP(pn.Error(t))}function M1(i,e,t,n,s,r,o){let a;const l=i.key();if(l){if(QK(n,l)&&!Ap(l,t,i.keyOf(n)))return Tg(s,o,"E4017");if(a=tG(e,t),!a){const d=Zl(i,e,t);if(d<0)return Tg(s,o,"E4009");if(a=e[d],r===!0&&G(a)){const c=ba(a,n);return e[d]=c,!s&&vc(c,t)}}}else a=t;if(Gi(a,n,!0,!1,!0,!0),!s)return Ot().useLegacyStoreResult?vc(t,n):vc(a,t)}function F1(i,e,t,n,s,r,o){let a;const l=i.key(),d=ot(t)&&!o?se({},t):t;if(l){if(a=i.keyOf(d),a===void 0||typeof a=="object"&&ki(a)){if(Array.isArray(l))throw pn.Error("E4007");a=d[l]=String(new Xt)}else if(e[Zl(i,e,a)]!==void 0)return Tg(s,r,"E4008")}else a=d;if(n>=0?e.splice(n,0,d):e.push(d),fP(e,a,d),!s)return vc(Ot().useLegacyStoreResult?t:d,a)}function gP(i,e,t,n,s){const r=Zl(i,e,t);if(r>-1&&(e.splice(r,1),fP(e,t,null)),!n)return vc(t);if(r<0)return Tg(n,s,"E4009")}function Zl(i,e,t){const n=i.key();if(!nG(e,t))return-1;for(let s=0,r=e.length;s<r;s++)if(Ap(n,i.keyOf(e[s]),t))return s;return-1}const kp=Dt.inherit({toArray(){const i=[];for(this.reset();this.next();)i.push(this.current());return i},countable:()=>!1}),B1=kp.inherit({ctor(i){this.array=i,this.index=-1},next(){return this.index+1<this.array.length?(this.index++,!0):!1},current(){return this.array[this.index]},reset(){this.index=-1},toArray(){return this.array.slice(0)},countable:()=>!0,count(){return this.array.length}}),z0=kp.inherit({ctor(i){this.iter=i},next(){return this.iter.next()},current(){return this.iter.current()},reset(){return this.iter.reset()}}),Zv=z0.inherit({ctor(i,e){this.callBase(i),this.index=-1,this.mapper=e},current(){return this.mapper(this.callBase(),this.index)},next(){const i=this.callBase();return i&&this.index++,i}}),iG=function(i,e,t){return Ke(i)&&Ke(e)&&(t!=null&&t.locale||t!=null&&t.collatorOptions)?new Intl.Collator((t==null?void 0:t.locale)||void 0,(t==null?void 0:t.collatorOptions)||void 0).compare(i,e):(i=xi(i,!1,t),e=xi(e,!1,t),i===null&&e!==null?-1:i!==null&&e===null||i===void 0&&e!==void 0?1:i!==void 0&&e===void 0||i<e?-1:i>e?1:0)},zy=kp.inherit({ctor(i,e,t,n){this.langParams=i.langParams,i instanceof Zv||(i=new Zv(i,this._wrap),i.langParams=this.langParams),this.iter=i,this.rules=[{getter:e,desc:t,compare:n,langParams:this.langParams}]},thenBy(i,e,t){const n=new zy(this.sortedIter||this.iter,i,e,t);return this.sortedIter||(n.rules=this.rules.concat(n.rules)),n},next(){return this._ensureSorted(),this.sortedIter.next()},current(){return this._ensureSorted(),this.sortedIter.current()},reset(){delete this.sortedIter},countable(){return this.sortedIter||this.iter.countable()},count(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted(){const i=this;i.sortedIter||(ie(i.rules,function(){this.getter=qt(this.getter)}),i.sortedIter=new Zv(new B1(this.iter.toArray().sort((e,t)=>i._compare(e,t))),i._unwrap))},_wrap:(i,e)=>({index:e,value:i}),_unwrap:i=>i.value,_getDefaultCompare:i=>(e,t)=>iG(e,t,i),_compare(i,e){const t=i.index,n=e.index;if(i=i.value,e=e.value,i===e)return t-n;for(let s=0,r=this.rules.length;s<r;s++){const o=this.rules[s],a=o.getter(i),l=o.getter(e),c=(o.compare||this._getDefaultCompare(o.langParams))(a,l);if(c)return o.desc?-c:c}return t-n}}),Wy=function(){let i={};const e=o=>xi(o,!1,i),t=function(o){if(qK(o))return(c=>{const h=qt(c[0][0]),u=c.reduce((p,f,g)=>(g%2===0&&p.push(e(f[2])),p),[]);return p=>{const f=e(h(p));return u.some(g=>r(g)?f===g:f==g)}})(o);const a=[];let l=!1,d=!1;return ie(o,function(){if(Array.isArray(this)||Ie(this)){if(a.length>1&&l!==d)throw pn.Error("E4019");a.push(Wy(this,i)),l=d,d=!0}else d=cP(this)}),function(c){let h=l;for(let u=0;u<a.length;u++)if(a[u](c)!==l){h=!l;break}return h}},n=function(o){var a;return G(o)?(a=i)!==null&&a!==void 0&&a.locale?o.toLocaleString(i.locale):o.toString():""};function s(o,a,l){return function(d){d=e(o(d));let c=r(a)?d===a:d==a;return l&&(c=!c),c}}function r(o){return o===""||o===0||o===!1}return function(o,a){return i=a||{},Ie(o)?o:YK(o)?t(o):uP(o)?function(l){const d=l[0],c=Wy(l[1],i);if(d==="!")return function(h){return!c(h)};throw pn.Error("E4003",d)}(o):function(l){l=lP(l);const d=qt(l[0]),c=l[1];let h=l[2];h=e(h);const u=(p,f)=>(p=e(d(p)),(h==null||p==null)&&h!==p?!1:f(p,h));switch(c.toLowerCase()){case"=":return s(d,h);case"<>":return s(d,h,!0);case">":return p=>u(p,(f,g)=>f>g);case"<":return p=>u(p,(f,g)=>f<g);case">=":return p=>u(p,(f,g)=>f>=g);case"<=":return p=>u(p,(f,g)=>f<=g);case"startswith":return p=>e(n(d(p))).startsWith(h);case"endswith":return p=>e(n(d(p))).endsWith(h);case"contains":return p=>e(n(d(p))).includes(h);case"notcontains":return p=>!e(n(d(p))).includes(h)}throw pn.Error("E4003",c)}(o)}}(),sG=z0.inherit({ctor(i,e){this.callBase(i),this.langParams=i.langParams,this.criteria=Wy(e,this.langParams)},next(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),rG=kp.inherit({ctor(i,e){this.iter=i,this.getter=e},next(){return this._ensureGrouped(),this.groupedIter.next()},current(){return this._ensureGrouped(),this.groupedIter.current()},reset(){delete this.groupedIter},countable(){return!!this.groupedIter},count(){return this.groupedIter.count()},_ensureGrouped(){if(this.groupedIter)return;const i={},e=[],{iter:t}=this,n=qt(this.getter);for(t.reset();t.next();){const s=t.current(),r=n(s);r in i?i[r].push(s):(i[r]=[s],e.push(r))}this.groupedIter=new B1(Mn(e,s=>({key:s,items:i[s]})))}}),oG=z0.inherit({ctor(i,e){this.callBase(i),this.getter=qt(e)},current(){return this.getter(this.callBase())},countable(){return this.iter.countable()},count(){return this.iter.count()}}),aG=z0.inherit({ctor(i,e,t){this.callBase(i),this.skip=Math.max(0,e),this.take=Math.max(0,t),this.pos=0},next(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset(){this.callBase(),this.pos=0},countable(){return this.iter.countable()},count(){return Math.min(this.iter.count()-this.skip,this.take)}}),Op=function(i,e){e=e||{},i instanceof kp||(i=new B1(i)),e.langParams&&(i.langParams=e.langParams);const t=function(l){const d=e.errorHandler;d&&d(l),j0(l)},n=function(l){const d=new de().fail(t);let c;const{step:h}=l,{finalize:u}=l;try{i.reset(),"seed"in l?c=l.seed:c=i.next()?i.current():NaN;let p=c;for(;i.next();)p=h(p,i.current());d.resolve(u?u(p):p)}catch(p){d.reject(p)}return d.promise()},s=function(l){return n(P1[l])},r=function(l){return!Ie(l)&&!Array.isArray(l)&&(l=[].slice.call(arguments)),a(new oG(i,l))},o=function(l){return r(qt(l))};function a(l){return Op(l,e)}return{toArray:()=>i.toArray(),enumerate(){const l=new de().fail(t);try{l.resolve(i.toArray())}catch(d){l.reject(d)}return l.promise()},setLangParams(l){i.langParams=l},sortBy:(l,d,c)=>a(new zy(i,l,d,c)),thenBy(l,d,c){if(i instanceof zy)return a(i.thenBy(l,d,c));throw pn.Error("E4004")},filter(l){return Array.isArray(l)||(l=[].slice.call(arguments)),a(new sG(i,l))},slice(l,d){return d===void 0&&(d=Number.MAX_VALUE),a(new aG(i,l,d))},select:r,groupBy:l=>a(new rG(i,l)),aggregate:function(l,d,c){return arguments.length<2?n({step:arguments[0]}):n({seed:l,step:d,finalize:c})},count(){if(i.countable()){const l=new de().fail(t);try{l.resolve(i.count())}catch(d){l.reject(d)}return l.promise()}return s("count")},sum(l){return l?o(l).sum():s("sum")},min(l){return l?o(l).min():s("min")},max(l){return l?o(l).max():s("max")},avg(l){return l?o(l).avg():s("avg")}}};function N1(i,e){return i=i.groupBy(e[0].selector),e.length>1&&(i=i.select(t=>se({},t,{items:N1(Op(t.items),e.slice(1)).toArray()}))),i}function _P(i,e){const t=[];return ie(i,(n,s)=>{Qi(e,o=>s.selector===o.selector).length<1&&t.push(s)}),t.concat(e)}function lG(i,e,t){var n;e=e||{};const{filter:s}=e;if((n=e)!==null&&n!==void 0&&n.langParams){var r,o;(r=(o=i).setLangParams)===null||r===void 0||r.call(o,e.langParams)}if(s&&(i=i.filter(s)),t)return i;let{sort:a}=e;const{select:l}=e;let{group:d}=e;const{skip:c}=e,{take:h}=e;return d&&(d=Po(d),d.keepInitialKeyOrder=!!e.group.keepInitialKeyOrder),(a||d)&&(a=Po(a||[]),d&&!d.keepInitialKeyOrder&&(a=_P(d,a)),ie(a,function(u){i=i[u?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),l&&(i=i.select(l)),d&&(i=N1(i,d)),(h||c)&&(i=i.slice(c||0,h)),i}const Mo={multiLevelGroup:N1,arrangeSortingInfo:_P,queryByOptions:lG},{abstract:xu}=Dt,{queryByOptions:WT}=Mo,Uy={},sr=Dt.inherit({_langParams:{},ctor(i){const e=this;i=i||{},this._eventsStrategy=new ld(this),ie(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],(t,n)=>{n in i&&e.on(n.slice(2).toLowerCase(),i[n])}),this._key=i.key,this._errorHandler=i.errorHandler,this._useDefaultSearch=!0},_clearCache:Te,_customLoadOptions:()=>null,key(){return this._key},keyOf(i){return this._keyGetter||(this._keyGetter=qt(this.key())),this._keyGetter(i)},_requireKey(){if(!this.key())throw pn.Error("E4005")},load(i){const e=this;return i=i||{},this._eventsStrategy.fireEvent("loading",[i]),this._withLock(this._loadImpl(i)).done(t=>{e._eventsStrategy.fireEvent("loaded",[t,i])})},_loadImpl(i){return ki(this._langParams)||(i=i||{},i._langParams=Object.assign({},this._langParams,i._langParams)),WT(this.createQuery(i),i).enumerate()},_withLock(i){const e=new de;return i.done(function(){const t=this,n=arguments;KK.promise().done(()=>{e.resolveWith(t,n)})}).fail(function(){e.rejectWith(this,arguments)}),e},createQuery:xu,totalCount(i){return this._totalCountImpl(i)},_totalCountImpl(i){return WT(this.createQuery(i),i,!0).count()},byKey(i,e){return this._addFailHandlers(this._withLock(this._byKeyImpl(i,e)))},_byKeyImpl:xu,insert(i){const e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("inserting",[i]),e._addFailHandlers(e._insertImpl(i).done((t,n)=>{e._eventsStrategy.fireEvent("inserted",[t,n]),e._eventsStrategy.fireEvent("modified")}))},_insertImpl:xu,update(i,e){const t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("updating",[i,e]),t._addFailHandlers(t._updateImpl(i,e).done(()=>{t._eventsStrategy.fireEvent("updated",[i,e]),t._eventsStrategy.fireEvent("modified")}))},_updateImpl:xu,push(i){const e={changes:i,waitFor:[]};this._eventsStrategy.fireEvent("beforePushAggregation",[e]),Ae(...e.waitFor).done(()=>{this._pushImpl(i),this._eventsStrategy.fireEvent("beforePush",[{changes:i}]),this._eventsStrategy.fireEvent("push",[i])})},_pushImpl:Te,remove(i){const e=this;return e._eventsStrategy.fireEvent("modifying"),e._eventsStrategy.fireEvent("removing",[i]),e._addFailHandlers(e._removeImpl(i).done(t=>{e._eventsStrategy.fireEvent("removed",[t]),e._eventsStrategy.fireEvent("modified")}))},_removeImpl:xu,_addFailHandlers(i){return i.fail(this._errorHandler).fail(j0)},on(i,e){return this._eventsStrategy.on(i,e),this},off(i,e){return this._eventsStrategy.off(i,e),this}});sr.create=function(i,e){if(!(i in Uy))throw pn.Error("E4020",i);return new Uy[i](e)};sr.registerClass=function(i,e){return e&&(Uy[e]=i),i};sr.inherit=function(i){return function(e,t){const n=i.apply(this,[e]);return sr.registerClass(n,t),n}}(sr.inherit);const vP="totalCount",Ky="load",xP="byKey",UT="insert",KT="update",GT="remove";function xc(i){return i&&Ie(i.then)}function Ml(i){return new de().resolve(i).promise()}function rh(i,e){if(!Ie(e))throw pn.Error("E4011",i)}function bP(i){throw pn.Error("E4012",i)}function fl(i){return function(e){let t;e instanceof Error?t=e:t=new Error(function(n){const s=n[0],r=n[1];return!s||!s.getResponseHeader?null:dP(s,r)}(arguments)||e&&String(e)||"Unknown error"),t.message!==R1&&i.reject(t)}}function yP(i,e){const t=i._loadFunc;let n;return rh(Ky,t),n=t.apply(i,[e]),Array.isArray(n)?n=Ml(n):n==null?n=Ml([]):xc(n)||bP(Ky),ci(n)}function dG(i,e){const t=i._totalCountFunc;let n;if(!Ie(t))throw pn.Error("E4021");return n=t.apply(i,[e]),xc(n)||(n=Number(n),isFinite(n)||bP(vP),n=Ml(n)),ci(n)}function cG(i,e,t){const n=i._byKeyFunc;let s;return rh(xP,n),s=n.apply(i,[e,t]),xc(s)||(s=Ml(s)),ci(s)}function CP(i,e,t,n){if(e.__rawData)n(e.__rawData);else{const s=e.__rawDataPromise||yP(e,t);e._cacheRawData&&(e.__rawDataPromise=s),s.always(()=>{delete e.__rawDataPromise}).done(r=>{e._cacheRawData&&(e.__rawData=r),n(r)}).fail(r=>{var o;const a=fl(i);(o=e._errorHandler)===null||o===void 0||o.call(e,r),a(r)})}}function qT(i,e,t,n){t=t||{};const s={};"userData"in t&&(s.userData=t.userData),CP(i,e,s,r=>{const o=Op(r,{errorHandler:e._errorHandler});let a,l;const d=[];let c,h;n||(a=Mo.queryByOptions(o,t),a===o?c=r.slice(0):d.push(a.enumerate().done(u=>{c=u}))),(t.requireTotalCount||n)&&(l=Mo.queryByOptions(o,t,!0),l===o?h=r.length:d.push(l.count().done(u=>{h=u}))),Ae.apply(M,d).done(()=>{n?i.resolve(h):t.requireTotalCount?i.resolve(c,{totalCount:h}):i.resolve(c)}).fail(u=>{i.reject(u)})})}function uG(i,e,t){CP(i,e,{},n=>{const s=e.key();let r;for(let o=0,a=n.length;o<a;o++)if(r=n[o],Ap(s,e.keyOf(n[o]),t)){i.resolve(r);return}i.reject(pn.Error("E4009"))})}function hG(i){return i==null||typeof i!="object"?!1:"key"in i&&"items"in i}function pG(i){return Array.isArray(i)&&!!i.length&&hG(i[0])}const W0=sr.inherit({ctor(i){i=i||{},this.callBase(i),this._useDefaultSearch=!!i.useDefaultSearch||i.loadMode==="raw",this._loadMode=i.loadMode,this._cacheRawData=i.cacheRawData!==!1,this._loadFunc=i[Ky],this._totalCountFunc=i[vP],this._byKeyFunc=i[xP],this._insertFunc=i[UT],this._updateFunc=i[KT],this._removeFunc=i[GT]},_clearCache(){delete this.__rawData},createQuery(){throw pn.Error("E4010")},clearRawDataCache(){this._clearCache()},_totalCountImpl(i){let e=new de;return this._loadMode==="raw"&&!this._totalCountFunc?qT(e,this,i,!0):(dG(this,i).done(t=>{e.resolve(Number(t))}).fail(fl(e)),e=this._addFailHandlers(e)),e.promise()},_pushImpl(i){this.__rawData&&Pl({keyInfo:this,data:this.__rawData,changes:i})},_loadImpl(i){let e=new de;return this._loadMode==="raw"?qT(e,this,i,!1):(yP(this,i).done((t,n)=>{e.resolve(t,n)}).fail(fl(e)),e=this._addFailHandlers(e)),e.promise()},_byKeyImpl(i,e){const t=new de;return this._byKeyViaLoad()?(this._requireKey(),uG(t,this,i)):cG(this,i,e).done(n=>{t.resolve(n)}).fail(fl(t)),t.promise()},_byKeyViaLoad(){return this._loadMode==="raw"&&!this._byKeyFunc},_insertImpl(i){const e=this,t=e._insertFunc;let n;const s=new de;return rh(UT,t),n=t.apply(e,[i]),xc(n)||(n=Ml(n)),ci(n).done(r=>{Ot().useLegacyStoreResult?s.resolve(i,r):s.resolve(r||i,e.keyOf(r))}).fail(fl(s)),s.promise()},_updateImpl(i,e){const t=this._updateFunc;let n;const s=new de;return rh(KT,t),n=t.apply(this,[i,e]),xc(n)||(n=Ml(n)),ci(n).done(r=>{Ot().useLegacyStoreResult?s.resolve(i,e):s.resolve(r||e,i)}).fail(fl(s)),s.promise()},_removeImpl(i){const e=this._removeFunc;let t;const n=new de;return rh(GT,e),t=e.apply(this,[i]),xc(t)||(t=Ml()),ci(t).done(()=>{n.resolve(i)}).fail(fl(n)),n.promise()}}),wP={},SP=function(i,e,t){t=t||[],e=e||{};const n=function(o,a){return{name:o,args:a}},s=function(o){const a=new de;let l,d,c,h,u;const p=function(g){const m=e.errorHandler;m&&m(g),j0(g),a.reject(g)};function f(g){switch(g.name){case"sortBy":return u=[g.args],!0;case"thenBy":if(!u)throw pn.Error("E4004");return u.push(g.args),!0}return!1}try{l=e.adapter,Ie(l)||(l=wP[l]),d=l(e),c=[].concat(t).concat(o);const{optimize:g}=d;for(g&&g(c);c.length;){if(h=c[0],!f(h)){if(u){c.unshift(n("multiSort",[u])),u=null;continue}if(String(h.name)!=="enumerate"&&(!d[h.name]||d[h.name].apply(d,h.args)===!1))break}c.shift()}(function(){const m=c[0],v=[];m&&m.name==="multiSort"&&(c.shift(),ie(m.args[0],function(){v.push(n(v.length?"thenBy":"sortBy",this))})),c=v.concat(c)})(),d.exec(i).done((m,v)=>{if(!c.length)a.resolve(m,v);else{let _=Op(m,{errorHandler:e.errorHandler});ie(c,function(){_=_[this.name].apply(_,this.args)}),_.done(a.resolve).fail(a.reject)}}).fail(p)}catch(g){p(g)}return a.promise()},r={};return ie(["sortBy","thenBy","filter","slice","select","groupBy"],function(){const o=String(this);r[o]=function(){return SP(i,e,t.concat(n(o,arguments)))}}),ie(["count","min","max","sum","avg","aggregate","enumerate"],function(){const o=String(this);r[o]=function(){return s.call(this,n(o,arguments))}}),r},fG={array:Op,remote:SP},Hi=function(){const i=Array.isArray(arguments[0])?"array":"remote";return fG[i].apply(this,arguments)},Qc=sr.inherit({ctor(i){Array.isArray(i)?i={data:i}:i=i||{},this.callBase(i);const e=i.data;if(e&&!Array.isArray(e))throw pn.Error("E4006");this._array=e||[]},createQuery(){return Hi(this._array,{errorHandler:this._errorHandler})},_byKeyImpl(i){const e=Zl(this,this._array,i);return e===-1?hP(pn.Error("E4009")):vc(this._array[e])},_insertImpl(i){return F1(this,this._array,i)},_pushImpl(i){Pl({keyInfo:this,data:this._array,changes:i})},_updateImpl(i,e){return M1(this,this._array,i,e)},_removeImpl(i){return gP(this,this._array,i)},clear(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),mG=bt(),gG={getXhr:()=>new mG.XMLHttpRequest},_G=cr(gG),EP=bt(),IP=function(i){const e=ve.createElement("script");for(const t in i)e[t]=i[t];return e},TP=function(i){return ve.getHead().appendChild(i)},DP=function(i){i.parentNode.removeChild(i)},YT=function(i){const e=IP({text:i});TP(e),DP(e)},vG=function(i){const e=IP({src:i});return new Promise((t,n)=>{const s={load:t,error:n},r=function(o){s[o.type](),DP(e)};for(const o in s)ve.listen(e,o,r);TP(e)})};function V1(i){return(i.method||"GET").toUpperCase()}const xG=function(i){const e=[];for(const t in i){let n=i[t];n!==void 0&&(n===null&&(n=""),typeof n=="function"&&(n=n()),e.push(`${encodeURIComponent(t)}=${encodeURIComponent(n)}`))}return e.join("&")},bG=function(i){let e;return i.data&&!i.upload&&V1(i)!=="GET"&&(e="application/x-www-form-urlencoded;charset=utf-8"),i.contentType||e},yG=function(i){const e=i.dataType||"*",t="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",n={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:t,script:t};return gj(n,i.accepts),n[e]?n[e]+(e!=="*"?", */*; q=0.01":""):n["*"]},CG=function(i){const e=i.headers||{};return e["Content-Type"]=e["Content-Type"]||bG(i),e.Accept=e.Accept||yG(i),!i.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest"),e},wG=function(i){if(i.dataType==="jsonp"){const e=Math.random().toString().replace(/\D/g,""),t=i.jsonpCallback||`dxCallback${Date.now()}_${e}`,n=i.jsonp||"callback";return i.data=i.data||{},i.data[n]=t,t}},SG=function(i,e){let t=i.data;const n=typeof t=="string";let s=i.url||EP.location.href;return!n&&!i.cache&&(t=t||{},t._=Date.now()),t&&!i.upload&&(n||(t=xG(t)),V1(i)==="GET"?(t!==""&&(s+=(s.indexOf("?")>-1?"&":"?")+t),t=null):e["Content-Type"]&&e["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(t=t.replace(/%20/g,"+"))),{url:s,parameters:t}},EG=function(i){if(!st())return!0;let e=!1;const t=ve.createElement("a"),n=ve.createElement("a");t.href=EP.location.href;try{n.href=i,n.href=n.href,e=`${t.protocol}//${t.host}`!=`${n.protocol}//${n.host}`}catch{e=!0}return e},IG=bt(),oh="success",Qv="error",TG="timeout",DG="nocontent",AG="parsererror",kG=function(i){return i>=200&&i<300},OG=function(i){return i!==204},RG=function(i){return i.responseType&&i.responseType!=="text"||typeof i.responseText!="string"?i.response:i.responseText},PG=function(i,e,t){const n=RG(e);switch(t){case"jsonp":YT(n);break;case"script":YT(n),i.resolve(n,oh,e);break;case"json":try{i.resolve(JSON.parse(n),oh,e)}catch(s){i.reject(e,AG,s)}break;default:i.resolve(n,oh,e)}},MG=function(i,e){return i&&setTimeout(function(){e.customStatus=TG,e.abort()},i)},FG=function(i){const e=_G.getXhr(),t=new de,n=t.promise(),s=G(i.async)?i.async:!0,{dataType:r}=i,o=i.timeout||0;let a;i.crossDomain=EG(i.url);const l=r==="jsonp"||r==="script";i.cache===void 0&&(i.cache=!l);const d=wG(i),c=CG(i),h=SG(i,c),{url:u}=h,{parameters:p}=h;if(d&&(IG[d]=function(f){t.resolve(f,oh,e)}),i.crossDomain&&l){const f=function(){t.reject(e,Qv)},g=function(){r!=="jsonp"&&t.resolve(null,oh,e)};return vG(u).then(g,f),n}if(i.crossDomain&&!("withCredentials"in e))return t.reject(e,Qv),n;if(e.open(V1(i),u,s,i.username,i.password),s&&(e.timeout=o,a=MG(o,e)),e.onreadystatechange=function(f){e.readyState===4&&(clearTimeout(a),kG(e.status)?OG(e.status)?PG(t,e,r):t.resolve(null,DG,e):t.reject(e,e.customStatus||Qv))},i.upload&&(e.upload.onprogress=i.upload.onprogress,e.upload.onloadstart=i.upload.onloadstart,e.upload.onabort=i.upload.onabort),i.xhrFields)for(const f in i.xhrFields)e[f]=i.xhrFields[f];i.responseType==="arraybuffer"&&(e.responseType=i.responseType);for(const f in c)Object.prototype.hasOwnProperty.call(c,f)&&G(c[f])&&e.setRequestHeader(f,c[f]);return i.beforeSend&&i.beforeSend(e),e.send(p),n.abort=function(){e.abort()},n},AP=cr({sendRequest:FG}),BG=["items"],kP="canceled",XT=i=>i.state()==="pending",ZT=i=>{switch(i.length){case 0:return;case 1:return i[0]}return[].slice.call(i)},NG=(i,e,t)=>Mn(i,n=>{const s=Hs(n,BG);return Object.assign({},s,{items:OP(n.items,e-1,t)})}),OP=(i,e,t)=>Array.isArray(i)?e?NG(i,e,t):Mn(i,t):i,VG=(i,e,t)=>{const n=t?Po(t).length:0;return OP(i,n,e)},RP=(i,e)=>{var t;return(t=i)!==null&&t!==void 0&&t.data&&(e=i,i=i.data),Array.isArray(i)||(i=[i]),{data:i,extra:e}},LG=i=>{const e={};return ie(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){e[this]=i[this],delete i[this]}),new W0(e)},$G=i=>{const e=i.type;return delete i.type,sr.create(e,i)},HG=(i,e)=>new W0({load:()=>AP.sendRequest({url:i,dataType:"json"}),loadMode:e==null?void 0:e.fromUrlLoadMode}),nl=(i,e)=>{let t;return typeof i=="string"&&(i={paginate:!1,store:HG(i,e)}),i===void 0&&(i=[]),Array.isArray(i)||i instanceof sr?i={store:i}:i=se({},i),i.store===void 0&&(i.store=[]),t=i.store,"load"in i?t=LG(i):Array.isArray(t)?t=new Qc(t):ot(t)&&(t=$G(se({},t))),i.store=t,i};class jG{constructor(){this._counter=-1,this._deferreds={}}add(e){return this._counter++,this._deferreds[this._counter]=e,this._counter}remove(e){return delete this._deferreds[e]}cancel(e){return e in this._deferreds?(this._deferreds[e].reject(kP),!0):!1}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}function PP(i){let e=[],t=!1;function n(){for(;e.length;){t=!0;const r=e.shift()();if(r!==void 0){if(r.then){Ae(r).always(n);return}throw Ut.Error("E0015")}}t=!1}return{add:function(s,r){e.push(s),t||n()},busy:function(){return t}}}PP().add;const Os=Dt.inherit({ctor(i){if(i=nl(i),this._eventsStrategy=new ld(this,{syncStrategy:!0}),this._store=i.store,this._changedTime=0,i.pushAggregationTimeout!==0){const t=i.pushAggregationTimeout===void 0?()=>5*this._changedTime:i.pushAggregationTimeout;let n,s;const r=ZK(o=>{n.resolve(),Ae(...s).done(()=>this._onPush(o)),s=void 0,n=void 0},t);this._onPushHandler=o=>{this._aggregationTimeoutId=r(o.changes),n||(n=new de),s=o.waitFor,o.waitFor.push(n.promise())},this._store.on("beforePushAggregation",this._onPushHandler)}else this._onPushHandler=t=>this._onPush(t),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(i),this._mapFunc=i.map,this._postProcessFunc=i.postProcess,this._pageIndex=i.pageIndex!==void 0?i.pageIndex:0,this._pageSize=i.pageSize!==void 0?i.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in i?i.searchValue:null,this._searchOperation=i.searchOperation||"contains",this._searchExpr=i.searchExpr,this._paginate=i.paginate,this._reshapeOnPush=i.reshapeOnPush??!1,ie(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(t,n)=>{n in i&&this.on(n.substr(2,1).toLowerCase()+n.substr(3),i[n])}),this._operationManager=new jG,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,G(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var i;this._store.off("beforePushAggregation",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),(i=this._delayedLoadTask)===null||i===void 0||i.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(i){const e={};let t=["sort","filter","langParams","select","group","requireTotalCount"];const n=this._store._customLoadOptions();return n&&(t=t.concat(n)),ie(t,function(){e[this]=i[this]}),e},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(i){if(!jt(i))return this._pageIndex;this._pageIndex=i,this._isLastPage=!this._paginate},paginate(i){if(!Kl(i))return this._paginate;this._paginate!==i&&(this._paginate=i,this.pageIndex(0))},pageSize(i){if(!jt(i))return this._pageSize;this._pageSize=i},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(i){return e=>{const t=ZT(e);if(t===void 0)return this._storeLoadOptions[i];this._storeLoadOptions[i]=t}},sort(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("sort")(e)},filter(){const i=ZT(arguments);if(i===void 0)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=i,this.pageIndex(0)},group(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("group")(e)},select(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return this.generateStoreLoadOptionAccessor("select")(e)},requireTotalCount(i){if(!Kl(i))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=i},searchValue(i){if(arguments.length<1)return this._searchValue;this._searchValue=i,this.pageIndex(0)},searchOperation(i){if(!Ke(i))return this._searchOperation;this._searchOperation=i,this.pageIndex(0)},searchExpr(i){const e=arguments.length;if(e===0)return this._searchExpr;e>1&&(i=[].slice.call(arguments)),this._searchExpr=i,this.pageIndex(0)},store(){return this._store},key(){var i;return(i=this._store)===null||i===void 0?void 0:i.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>PP(),_changeLoadingCount(i){const e=this.isLoading();this._loadingCount+=i;const t=this.isLoading();e^t&&this._eventsStrategy.fireEvent("loadingChanged",[t])},_scheduleLoadCallbacks(i){this.beginLoading(),i.always(()=>{this.endLoading()})},_scheduleFailCallbacks(i){var e=this;i.fail(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];n[0]!==kP&&e._eventsStrategy.fireEvent("loadError",n)})},_fireChanged(i){const e=new Date;this._eventsStrategy.fireEvent("changed",i),this._changedTime=new Date-e},_scheduleChangedCallbacks(i){i.done(()=>this._fireChanged())},loadSingle(i,e){const t=new de,n=this.key(),s=this._store,r=this._createStoreLoadOptions();return this._scheduleFailCallbacks(t),arguments.length<2&&(e=i,i=n),delete r.skip,delete r.group,delete r.refresh,delete r.pageIndex,delete r.searchString,(i===n||s instanceof W0&&!s._byKeyViaLoad()?s.byKey(e,r):(r.take=1,r.filter=r.filter?[r.filter,[i,e]]:[i,e],s.load(r))).fail(t.reject).done(o=>{const a=Array.isArray(o)&&!o.length;!G(o)||a?t.reject(pn.Error("E4009")):(Array.isArray(o)||(o=[o]),t.resolve(this._applyMapFunction(o)[0]))}),t.promise()},load(){const i=new de,e=()=>{if(!this._disposed&&XT(i))return this._loadFromStore(t,i)};this._scheduleLoadCallbacks(i),this._scheduleFailCallbacks(i),this._scheduleChangedCallbacks(i);const t=this._createLoadOperation(i);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[t]),this._loadQueue.add(()=>(typeof t.delay=="number"?this._delayedLoadTask=l1.executeAsync(e,t.delay):e(),i.promise())),i.promise({operationId:t.operationId})},_onPush(i){if(this._reshapeOnPush)this.load();else{const e={changes:i};this._eventsStrategy.fireEvent("changing",[e]);const t=this.group(),n=this.items();let s=0,r=this.paginate()||t?i.filter(o=>o.type==="update"):i;t&&(s=Array.isArray(t)?t.length:1),this._mapFunc&&r.forEach(o=>{o.type==="insert"&&(o.data=this._mapFunc(o.data))}),e.postProcessChanges&&(r=e.postProcessChanges(r)),Pl({keyInfo:this.store(),data:n,changes:r,groupCount:s,useInsertIndex:!0}),this._fireChanged([{changes:i}])}},_createLoadOperation(i){const e=this._operationManager.add(i),t=this._createStoreLoadOptions();return this._store&&!ki(t==null?void 0:t.langParams)&&(this._store._langParams=Object.assign({},this._store._langParams,t.langParams)),i.always(()=>this._operationManager.remove(e)),{operationId:e,storeLoadOptions:t}},reload(){return this.store()._clearCache(),this._init(),this.load()},cancel(i){return this._operationManager.cancel(i)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(i){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(i):(i.searchOperation=this._searchOperation,i.searchValue=this._searchValue,i.searchExpr=this._searchExpr))},_createStoreLoadOptions(){const i=se({},this._storeLoadOptions);return this._addSearchOptions(i),this._paginate&&this._pageSize&&(i.skip=this._pageIndex*this._pageSize,i.take=this._pageSize),i.userData=this._userData,i},_addSearchFilter(i){const e=this._searchValue,t=this._searchOperation;let n=this._searchExpr;const s=[];e&&(n||(n="this"),Array.isArray(n)||(n=[n]),ie(n,(r,o)=>{s.length&&s.push("or"),s.push([o,t,e])}),i.filter?i.filter=[s,i.filter]:i.filter=s)},_loadFromStore(i,e){const t=(n,s)=>{if(this._disposed||!XT(e))return;const r=se(RP(n,s),i);this._eventsStrategy.fireEvent("customizeLoadResult",[r]),Ae(r.data).done(o=>{r.data=o,this._processStoreLoadResult(r,e)}).fail(e.reject)};return i.data?new de().resolve(i.data).done(t):this.store().load(i.storeLoadOptions).done(t).fail(e.reject)},_processStoreLoadResult(i,e){let{data:t}=i,{extra:n}=i;const{storeLoadOptions:s}=i,r=()=>(this._isLoaded=!0,this._totalCount=isFinite(n.totalCount)?n.totalCount:-1,e.resolve(t,n)),o=()=>{this.store().totalCount(s).done(a=>{n.totalCount=a,r()}).fail(e.reject)};this._disposed||(t=this._applyPostProcessFunction(this._applyMapFunction(t)),Me(n)||(n={}),this._items=t,(!t.length||!this._paginate||this._pageSize&&t.length<this._pageSize)&&(this._isLastPage=!0),s.requireTotalCount&&!isFinite(n.totalCount)?o():r())},_applyMapFunction(i){return this._mapFunc?VG(i,this._mapFunc,this.group()):i},_applyPostProcessFunction(i){return this._postProcessFunc?this._postProcessFunc(i):i},on(i,e){return this._eventsStrategy.on(i,e),this},off(i,e){return this._eventsStrategy.off(i,e),this}}),zG={_formatNumberCore(i,e,t){if(e==="currency"){t.precision=t.precision??0;let n=this.format(i,Object.assign({},t,{type:"fixedpoint"}));const s=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return n=n.replace(/^(\D*)(\d.*)/,`$1${s}$2`),n}return this.callBase.apply(this,[i,e,t])},getCurrencySymbol:()=>({symbol:"$"}),getOpenXmlCurrencyFormat:()=>"$#,##0{0}_);\\($#,##0{0}\\)"},WG={af:"#,##0.00;(#,##0.00)","af-NA":"#,##0.00;(#,##0.00)",agq:"#,##0.00",ak:"#,##0.00",am:"#,##0.00;(#,##0.00)",ar:"#,##0.00;(#,##0.00)","ar-AE":"#,##0.00;(#,##0.00)","ar-BH":"#,##0.00;(#,##0.00)","ar-DJ":"#,##0.00;(#,##0.00)","ar-DZ":"#,##0.00;(#,##0.00)","ar-EG":"#,##0.00;(#,##0.00)","ar-EH":"#,##0.00;(#,##0.00)","ar-ER":"#,##0.00;(#,##0.00)","ar-IL":"#,##0.00;(#,##0.00)","ar-IQ":"#,##0.00;(#,##0.00)","ar-JO":"#,##0.00;(#,##0.00)","ar-KM":"#,##0.00;(#,##0.00)","ar-KW":"#,##0.00;(#,##0.00)","ar-LB":"#,##0.00;(#,##0.00)","ar-LY":"#,##0.00;(#,##0.00)","ar-MA":"#,##0.00;(#,##0.00)","ar-MR":"#,##0.00;(#,##0.00)","ar-OM":"#,##0.00;(#,##0.00)","ar-PS":"#,##0.00;(#,##0.00)","ar-QA":"#,##0.00;(#,##0.00)","ar-SA":"#,##0.00;(#,##0.00)","ar-SD":"#,##0.00;(#,##0.00)","ar-SO":"#,##0.00;(#,##0.00)","ar-SS":"#,##0.00;(#,##0.00)","ar-SY":"#,##0.00;(#,##0.00)","ar-TD":"#,##0.00;(#,##0.00)","ar-TN":"#,##0.00;(#,##0.00)","ar-YE":"#,##0.00;(#,##0.00)",as:"#,##,##0.00",asa:"#,##0.00",ast:"#,##0.00",az:"#,##0.00","az-Cyrl":"#,##0.00","az-Latn":"#,##0.00",bas:"#,##0.00",be:"#,##0.00","be-tarask":"#,##0.00",bem:"#,##0.00;(#,##0.00)",bez:"#,##0.00",bg:"0.00;(0.00)",bm:"#,##0.00;(#,##0.00)",bn:"#,##,##0.00;(#,##,##0.00)","bn-IN":"#,##,##0.00;(#,##,##0.00)",bo:"#,##0.00","bo-IN":"#,##0.00",br:"#,##0.00",brx:"#,##,##0.00",bs:"#,##0.00","bs-Cyrl":"#,##0.00","bs-Latn":"#,##0.00",ca:"#,##0.00;(#,##0.00)","ca-AD":"#,##0.00;(#,##0.00)","ca-ES-valencia":"#,##0.00;(#,##0.00)","ca-FR":"#,##0.00;(#,##0.00)","ca-IT":"#,##0.00;(#,##0.00)",ccp:"#,##,##0.00;(#,##,##0.00)","ccp-IN":"#,##,##0.00;(#,##,##0.00)",ce:"#,##0.00",ceb:"#,##0.00;(#,##0.00)",cgg:"#,##0.00",chr:"#,##0.00;(#,##0.00)",ckb:"#,##0.00","ckb-IR":"#,##0.00",cs:"#,##0.00",cy:"#,##0.00;(#,##0.00)",da:"#,##0.00","da-GL":"#,##0.00",dav:"#,##0.00;(#,##0.00)",de:"#,##0.00","de-AT":"#,##0.00","de-BE":"#,##0.00","de-CH":"#,##0.00","de-IT":"#,##0.00","de-LI":"#,##0.00","de-LU":"#,##0.00",dje:"#,##0.00",doi:"#,##0.00",dsb:"#,##0.00",dua:"#,##0.00",dyo:"#,##0.00",dz:"#,##,##0.00",ebu:"#,##0.00;(#,##0.00)",ee:"#,##0.00;(#,##0.00)","ee-TG":"#,##0.00;(#,##0.00)",el:"#,##0.00","el-CY":"#,##0.00",en:"#,##0.00;(#,##0.00)","en-001":"#,##0.00;(#,##0.00)","en-150":"#,##0.00","en-AE":"#,##0.00;(#,##0.00)","en-AG":"#,##0.00;(#,##0.00)","en-AI":"#,##0.00;(#,##0.00)","en-AS":"#,##0.00;(#,##0.00)","en-AT":"#,##0.00","en-AU":"#,##0.00;(#,##0.00)","en-BB":"#,##0.00;(#,##0.00)","en-BE":"#,##0.00","en-BI":"#,##0.00;(#,##0.00)","en-BM":"#,##0.00;(#,##0.00)","en-BS":"#,##0.00;(#,##0.00)","en-BW":"#,##0.00;(#,##0.00)","en-BZ":"#,##0.00;(#,##0.00)","en-CA":"#,##0.00;(#,##0.00)","en-CC":"#,##0.00;(#,##0.00)","en-CH":"#,##0.00;-#,##0.00","en-CK":"#,##0.00;(#,##0.00)","en-CM":"#,##0.00;(#,##0.00)","en-CX":"#,##0.00;(#,##0.00)","en-CY":"#,##0.00;(#,##0.00)","en-DE":"#,##0.00","en-DG":"#,##0.00;(#,##0.00)","en-DK":"#,##0.00","en-DM":"#,##0.00;(#,##0.00)","en-ER":"#,##0.00;(#,##0.00)","en-FI":"#,##0.00","en-FJ":"#,##0.00;(#,##0.00)","en-FK":"#,##0.00;(#,##0.00)","en-FM":"#,##0.00;(#,##0.00)","en-GB":"#,##0.00;(#,##0.00)","en-GD":"#,##0.00;(#,##0.00)","en-GG":"#,##0.00;(#,##0.00)","en-GH":"#,##0.00;(#,##0.00)","en-GI":"#,##0.00;(#,##0.00)","en-GM":"#,##0.00;(#,##0.00)","en-GU":"#,##0.00;(#,##0.00)","en-GY":"#,##0.00;(#,##0.00)","en-HK":"#,##0.00;(#,##0.00)","en-IE":"#,##0.00;(#,##0.00)","en-IL":"#,##0.00;(#,##0.00)","en-IM":"#,##0.00;(#,##0.00)","en-IN":"#,##0.00;(#,##0.00)","en-IO":"#,##0.00;(#,##0.00)","en-JE":"#,##0.00;(#,##0.00)","en-JM":"#,##0.00;(#,##0.00)","en-KE":"#,##0.00;(#,##0.00)","en-KI":"#,##0.00;(#,##0.00)","en-KN":"#,##0.00;(#,##0.00)","en-KY":"#,##0.00;(#,##0.00)","en-LC":"#,##0.00;(#,##0.00)","en-LR":"#,##0.00;(#,##0.00)","en-LS":"#,##0.00;(#,##0.00)","en-MG":"#,##0.00;(#,##0.00)","en-MH":"#,##0.00;(#,##0.00)","en-MO":"#,##0.00;(#,##0.00)","en-MP":"#,##0.00;(#,##0.00)","en-MS":"#,##0.00;(#,##0.00)","en-MT":"#,##0.00;(#,##0.00)","en-MU":"#,##0.00;(#,##0.00)","en-MV":"#,##0.00","en-MW":"#,##0.00;(#,##0.00)","en-MY":"#,##0.00;(#,##0.00)","en-NA":"#,##0.00;(#,##0.00)","en-NF":"#,##0.00;(#,##0.00)","en-NG":"#,##0.00;(#,##0.00)","en-NL":"#,##0.00;(#,##0.00)","en-NR":"#,##0.00;(#,##0.00)","en-NU":"#,##0.00;(#,##0.00)","en-NZ":"#,##0.00;(#,##0.00)","en-PG":"#,##0.00;(#,##0.00)","en-PH":"#,##0.00;(#,##0.00)","en-PK":"#,##0.00;(#,##0.00)","en-PN":"#,##0.00;(#,##0.00)","en-PR":"#,##0.00;(#,##0.00)","en-PW":"#,##0.00;(#,##0.00)","en-RW":"#,##0.00;(#,##0.00)","en-SB":"#,##0.00;(#,##0.00)","en-SC":"#,##0.00;(#,##0.00)","en-SD":"#,##0.00;(#,##0.00)","en-SE":"#,##0.00","en-SG":"#,##0.00;(#,##0.00)","en-SH":"#,##0.00;(#,##0.00)","en-SI":"#,##0.00;(#,##0.00)","en-SL":"#,##0.00;(#,##0.00)","en-SS":"#,##0.00;(#,##0.00)","en-SX":"#,##0.00;(#,##0.00)","en-SZ":"#,##0.00;(#,##0.00)","en-TC":"#,##0.00;(#,##0.00)","en-TK":"#,##0.00;(#,##0.00)","en-TO":"#,##0.00;(#,##0.00)","en-TT":"#,##0.00;(#,##0.00)","en-TV":"#,##0.00;(#,##0.00)","en-TZ":"#,##0.00;(#,##0.00)","en-UG":"#,##0.00;(#,##0.00)","en-UM":"#,##0.00;(#,##0.00)","en-VC":"#,##0.00;(#,##0.00)","en-VG":"#,##0.00;(#,##0.00)","en-VI":"#,##0.00;(#,##0.00)","en-VU":"#,##0.00;(#,##0.00)","en-WS":"#,##0.00;(#,##0.00)","en-ZA":"#,##0.00;(#,##0.00)","en-ZM":"#,##0.00;(#,##0.00)","en-ZW":"#,##0.00;(#,##0.00)",eo:"#,##0.00",es:"#,##0.00","es-419":"#,##0.00","es-AR":"#,##0.00;(#,##0.00)","es-BO":"#,##0.00","es-BR":"#,##0.00","es-BZ":"#,##0.00","es-CL":"#,##0.00","es-CO":"#,##0.00","es-CR":"#,##0.00","es-CU":"#,##0.00","es-DO":"#,##0.00;(#,##0.00)","es-EA":"#,##0.00","es-EC":"#,##0.00","es-GQ":"#,##0.00","es-GT":"#,##0.00","es-HN":"#,##0.00","es-IC":"#,##0.00","es-MX":"#,##0.00","es-NI":"#,##0.00","es-PA":"#,##0.00","es-PE":"#,##0.00","es-PH":"#,##0.00","es-PR":"#,##0.00","es-PY":"#,##0.00","es-SV":"#,##0.00","es-US":"#,##0.00","es-UY":"#,##0.00;(#,##0.00)","es-VE":"#,##0.00",et:"#,##0.00;(#,##0.00)",eu:"#,##0.00;(#,##0.00)",ewo:"#,##0.00",fa:"#,##0.00;(#,##0.00)","fa-AF":"#,##0.00;(#,##0.00)",ff:"#,##0.00","ff-Adlm":"#,##0.00","ff-Adlm-BF":"#,##0.00","ff-Adlm-CM":"#,##0.00","ff-Adlm-GH":"#,##0.00","ff-Adlm-GM":"#,##0.00","ff-Adlm-GW":"#,##0.00","ff-Adlm-LR":"#,##0.00","ff-Adlm-MR":"#,##0.00","ff-Adlm-NE":"#,##0.00","ff-Adlm-NG":"#,##0.00","ff-Adlm-SL":"#,##0.00","ff-Adlm-SN":"#,##0.00","ff-Latn":"#,##0.00","ff-Latn-BF":"#,##0.00","ff-Latn-CM":"#,##0.00","ff-Latn-GH":"#,##0.00","ff-Latn-GM":"#,##0.00","ff-Latn-GN":"#,##0.00","ff-Latn-GW":"#,##0.00","ff-Latn-LR":"#,##0.00","ff-Latn-MR":"#,##0.00","ff-Latn-NE":"#,##0.00","ff-Latn-NG":"#,##0.00","ff-Latn-SL":"#,##0.00",fi:"#,##0.00",fil:"#,##0.00;(#,##0.00)",fo:"#,##0.00;(#,##0.00)","fo-DK":"#,##0.00;(#,##0.00)",fr:"#,##0.00;(#,##0.00)","fr-BE":"#,##0.00;(#,##0.00)","fr-BF":"#,##0.00;(#,##0.00)","fr-BI":"#,##0.00;(#,##0.00)","fr-BJ":"#,##0.00;(#,##0.00)","fr-BL":"#,##0.00;(#,##0.00)","fr-CA":"#,##0.00;(#,##0.00)","fr-CD":"#,##0.00;(#,##0.00)","fr-CF":"#,##0.00;(#,##0.00)","fr-CG":"#,##0.00;(#,##0.00)","fr-CH":"#,##0.00;(#,##0.00)","fr-CI":"#,##0.00;(#,##0.00)","fr-CM":"#,##0.00;(#,##0.00)","fr-DJ":"#,##0.00;(#,##0.00)","fr-DZ":"#,##0.00;(#,##0.00)","fr-GA":"#,##0.00;(#,##0.00)","fr-GF":"#,##0.00;(#,##0.00)","fr-GN":"#,##0.00;(#,##0.00)","fr-GP":"#,##0.00;(#,##0.00)","fr-GQ":"#,##0.00;(#,##0.00)","fr-HT":"#,##0.00;(#,##0.00)","fr-KM":"#,##0.00;(#,##0.00)","fr-LU":"#,##0.00;(#,##0.00)","fr-MA":"#,##0.00;(#,##0.00)","fr-MC":"#,##0.00;(#,##0.00)","fr-MF":"#,##0.00;(#,##0.00)","fr-MG":"#,##0.00;(#,##0.00)","fr-ML":"#,##0.00;(#,##0.00)","fr-MQ":"#,##0.00;(#,##0.00)","fr-MR":"#,##0.00;(#,##0.00)","fr-MU":"#,##0.00;(#,##0.00)","fr-NC":"#,##0.00;(#,##0.00)","fr-NE":"#,##0.00;(#,##0.00)","fr-PF":"#,##0.00;(#,##0.00)","fr-PM":"#,##0.00;(#,##0.00)","fr-RE":"#,##0.00;(#,##0.00)","fr-RW":"#,##0.00;(#,##0.00)","fr-SC":"#,##0.00;(#,##0.00)","fr-SN":"#,##0.00;(#,##0.00)","fr-SY":"#,##0.00;(#,##0.00)","fr-TD":"#,##0.00;(#,##0.00)","fr-TG":"#,##0.00;(#,##0.00)","fr-TN":"#,##0.00;(#,##0.00)","fr-VU":"#,##0.00;(#,##0.00)","fr-WF":"#,##0.00;(#,##0.00)","fr-YT":"#,##0.00;(#,##0.00)",fur:"#,##0.00",fy:"#,##0.00;(#,##0.00)",ga:"#,##0.00;(#,##0.00)","ga-GB":"#,##0.00;(#,##0.00)",gd:"#,##0.00;(#,##0.00)",gl:"#,##0.00",gsw:"#,##0.00","gsw-FR":"#,##0.00","gsw-LI":"#,##0.00",gu:"#,##,##0.00;(#,##,##0.00)",guz:"#,##0.00;(#,##0.00)",gv:"#,##0.00",ha:"#,##0.00","ha-GH":"#,##0.00","ha-NE":"#,##0.00",haw:"#,##0.00;(#,##0.00)",he:"#,##0.00",hi:"#,##,##0.00","hi-Latn":"#,##,##0.00",hr:"#,##0.00","hr-BA":"#,##0.00",hsb:"#,##0.00",hu:"#,##0.00",hy:"#,##0.00",ia:"#,##0.00;(#,##0.00)",id:"#,##0.00",ig:"#,##0.00;(#,##0.00)",ii:"#,##0.00",is:"#,##0.00",it:"#,##0.00","it-CH":"#,##0.00","it-SM":"#,##0.00","it-VA":"#,##0.00",ja:"#,##0.00;(#,##0.00)",jgo:"#,##0.00",jmc:"#,##0.00",jv:"#,##0.00",ka:"#,##0.00",kab:"#,##0.00",kam:"#,##0.00;(#,##0.00)",kde:"#,##0.00;(#,##0.00)",kea:"#,##0.00;(#,##0.00)",kgp:"#,##0.00",khq:"#,##0.00",ki:"#,##0.00;(#,##0.00)",kk:"#,##0.00",kkj:"#,##0.00",kl:"#,##0.00;-#,##0.00",kln:"#,##0.00;(#,##0.00)",km:"#,##0.00;(#,##0.00)",kn:"#,##0.00;(#,##0.00)",ko:"#,##0.00;(#,##0.00)","ko-KP":"#,##0.00;(#,##0.00)",kok:"#,##0.00;(#,##0.00)",ks:"#,##0.00","ks-Arab":"#,##0.00","ks-Deva":"#,##0.00",ksb:"#,##0.00",ksf:"#,##0.00",ksh:"#,##0.00",ku:"#,##0.00;(#,##0.00)",kw:"#,##0.00",ky:"#,##0.00",lag:"#,##0.00",lb:"#,##0.00",lg:"#,##0.00",lkt:"#,##0.00",ln:"#,##0.00","ln-AO":"#,##0.00","ln-CF":"#,##0.00","ln-CG":"#,##0.00",lo:"#,##0.00;-#,##0.00",lrc:"#,##0.00","lrc-IQ":"#,##0.00",lt:"#,##0.00",lu:"#,##0.00",luo:"#,##0.00",luy:"#,##0.00;-#,##0.00",lv:"#,##0.00",mai:"#,##0.00",mas:"#,##0.00;(#,##0.00)","mas-TZ":"#,##0.00;(#,##0.00)",mer:"#,##0.00;(#,##0.00)",mfe:"#,##0.00",mg:"#,##0.00",mgh:"#,##0.00",mgo:"#,##0.00",mi:"#,##0.00",mk:"#,##0.00",ml:"#,##0.00;(#,##0.00)",mn:"#,##0.00",mni:"#,##0.00","mni-Beng":"#,##0.00",mr:"#,##0.00;(#,##0.00)",ms:"#,##0.00;(#,##0.00)","ms-BN":"#,##0.00;(#,##0.00)","ms-ID":"#,##0.00","ms-SG":"#,##0.00;(#,##0.00)",mt:"#,##0.00",mua:"#,##0.00;(#,##0.00)",my:"#,##0.00",mzn:"#,##0.00",naq:"#,##0.00",nb:"#,##0.00;(#,##0.00)","nb-SJ":"#,##0.00;(#,##0.00)",nd:"#,##0.00;(#,##0.00)",nds:"#,##0.00","nds-NL":"#,##0.00",ne:"#,##,##0.00","ne-IN":"#,##,##0.00",nl:"#,##0.00;(#,##0.00)","nl-AW":"#,##0.00;(#,##0.00)","nl-BE":"#,##0.00;(#,##0.00)","nl-BQ":"#,##0.00;(#,##0.00)","nl-CW":"#,##0.00;(#,##0.00)","nl-SR":"#,##0.00;(#,##0.00)","nl-SX":"#,##0.00;(#,##0.00)",nmg:"#,##0.00",nn:"#,##0.00",nnh:"#,##0.00",no:"#,##0.00;(#,##0.00)",nus:"#,##0.00;(#,##0.00)",nyn:"#,##0.00",om:"#,##0.00","om-KE":"#,##0.00",or:"#,##0.00;(#,##0.00)",os:"#,##0.00","os-RU":"#,##0.00",pa:"#,##0.00","pa-Arab":"#,##0.00","pa-Guru":"#,##0.00",pcm:"#,##0.00",pl:"#,##0.00;(#,##0.00)",ps:"#,##0.00;(#,##0.00)","ps-PK":"#,##0.00;(#,##0.00)",pt:"#,##0.00","pt-AO":"#,##0.00;(#,##0.00)","pt-CH":"#,##0.00;(#,##0.00)","pt-CV":"#,##0.00;(#,##0.00)","pt-GQ":"#,##0.00;(#,##0.00)","pt-GW":"#,##0.00;(#,##0.00)","pt-LU":"#,##0.00;(#,##0.00)","pt-MO":"#,##0.00;(#,##0.00)","pt-MZ":"#,##0.00;(#,##0.00)","pt-PT":"#,##0.00;(#,##0.00)","pt-ST":"#,##0.00;(#,##0.00)","pt-TL":"#,##0.00;(#,##0.00)",qu:"#,##0.00","qu-BO":"#,##0.00","qu-EC":"#,##0.00",rm:"#,##0.00",rn:"#,##0.00",ro:"#,##0.00;(#,##0.00)","ro-MD":"#,##0.00;(#,##0.00)",rof:"#,##0.00",ru:"#,##0.00","ru-BY":"#,##0.00","ru-KG":"#,##0.00","ru-KZ":"#,##0.00","ru-MD":"#,##0.00","ru-UA":"#,##0.00",rw:"#,##0.00",rwk:"#,##0.00",sa:"#,##0.00",sah:"#,##0.00",saq:"#,##0.00;(#,##0.00)",sat:"#,##0.00","sat-Olck":"#,##0.00",sbp:"#,##0.00",sc:"#,##0.00",sd:"#,##0.00","sd-Arab":"#,##0.00","sd-Deva":"#,##0.00",se:"#,##0.00","se-FI":"#,##0.00","se-SE":"#,##0.00",seh:"#,##0.00",ses:"#,##0.00",sg:"#,##0.00;-#,##0.00",shi:"#,##0.00","shi-Latn":"#,##0.00","shi-Tfng":"#,##0.00",si:"#,##0.00;(#,##0.00)",sk:"#,##0.00;(#,##0.00)",sl:"#,##0.00;(#,##0.00)",smn:"#,##0.00",sn:"#,##0.00;(#,##0.00)",so:"#,##0.00;(#,##0.00)","so-DJ":"#,##0.00;(#,##0.00)","so-ET":"#,##0.00;(#,##0.00)","so-KE":"#,##0.00;(#,##0.00)",sq:"#,##0.00;(#,##0.00)","sq-MK":"#,##0.00;(#,##0.00)","sq-XK":"#,##0.00;(#,##0.00)",sr:"#,##0.00;(#,##0.00)","sr-Cyrl":"#,##0.00;(#,##0.00)","sr-Cyrl-BA":"#,##0.00;(#,##0.00)","sr-Cyrl-ME":"#,##0.00;(#,##0.00)","sr-Cyrl-XK":"#,##0.00;(#,##0.00)","sr-Latn":"#,##0.00;(#,##0.00)","sr-Latn-BA":"#,##0.00;(#,##0.00)","sr-Latn-ME":"#,##0.00;(#,##0.00)","sr-Latn-XK":"#,##0.00;(#,##0.00)",su:"#,##0.00","su-Latn":"#,##0.00",sv:"#,##0.00","sv-AX":"#,##0.00","sv-FI":"#,##0.00",sw:"#,##0.00","sw-CD":"#,##0.00","sw-KE":"#,##0.00","sw-UG":"#,##0.00",ta:"#,##0.00;(#,##0.00)","ta-LK":"#,##0.00;(#,##0.00)","ta-MY":"#,##0.00;(#,##0.00)","ta-SG":"#,##0.00;(#,##0.00)",te:"#,##0.00;(#,##0.00)",teo:"#,##0.00;(#,##0.00)","teo-KE":"#,##0.00;(#,##0.00)",tg:"#,##0.00",th:"#,##0.00;(#,##0.00)",ti:"#,##0.00","ti-ER":"#,##0.00",tk:"#,##0.00",to:"#,##0.00",tr:"#,##0.00;(#,##0.00)","tr-CY":"#,##0.00;(#,##0.00)",tt:"#,##0.00",twq:"#,##0.00",tzm:"#,##0.00",ug:"#,##0.00;(#,##0.00)",uk:"#,##0.00",und:"#,##0.00",ur:"#,##0.00;(#,##0.00)","ur-IN":"#,##0.00;(#,##0.00)",uz:"#,##0.00","uz-Arab":"#,##0.00","uz-Cyrl":"#,##0.00","uz-Latn":"#,##0.00",vai:"#,##0.00;(#,##0.00)","vai-Latn":"#,##0.00;(#,##0.00)","vai-Vaii":"#,##0.00;(#,##0.00)",vi:"#,##0.00",vun:"#,##0.00",wae:"#,##0.00",wo:"#,##0.00",xh:"#,##0.00",xog:"#,##0.00",yav:"#,##0.00;(#,##0.00)",yi:"#,##0.00",yo:"#,##0.00;(#,##0.00)","yo-BJ":"#,##0.00;(#,##0.00)",yrl:"#,##0.00","yrl-CO":"#,##0.00","yrl-VE":"#,##0.00",yue:"#,##0.00;(#,##0.00)","yue-Hans":"#,##0.00;(#,##0.00)","yue-Hant":"#,##0.00;(#,##0.00)",zgh:"#,##0.00",zh:"#,##0.00;(#,##0.00)","zh-Hans":"#,##0.00;(#,##0.00)","zh-Hans-HK":"#,##0.00;(#,##0.00)","zh-Hans-MO":"#,##0.00;(#,##0.00)","zh-Hans-SG":"#,##0.00;(#,##0.00)","zh-Hant":"#,##0.00;(#,##0.00)","zh-Hant-HK":"#,##0.00;(#,##0.00)","zh-Hant-MO":"#,##0.00;(#,##0.00)",zu:"#,##0.00;(#,##0.00)"},UG=(i,e)=>{if(!e)return;let t=i;if(typeof i=="string"){t="";for(let r=0;r<i.length;r+=1)i[r]!=="$"&&(t+="\\"),t+=i[r]}const n={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\":t},s=e.split(";");for(let r=0;r<s.length;r+=1)for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&(s[r]=s[r].replace(new RegExp(o,"g"),n[o]));return s.length===2?`${s[0]}_);${s[1]}`:s[0]},KG=["standard","accounting"],GG=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,Jv={},QT=i=>{const e=`${Bs.locale()}/${JSON.stringify(i)}`;return Jv[e]||(Jv[e]=new Intl.NumberFormat(Bs.locale(),i).format),Jv[e]},qG=i=>new Intl.NumberFormat(Bs.locale(),{style:"currency",currency:i}),YG={engine:()=>"intl",_formatNumberCore(i,e,t){return e==="exponential"?this.callBase.apply(this,[i,e,t]):QT(this._normalizeFormatConfig(e,t,i))(i)},_normalizeFormatConfig(i,e,t){let n;if(i==="decimal"){const s=String(t).split(".")[1];n={minimumIntegerDigits:e.precision||void 0,useGrouping:!1,maximumFractionDigits:s==null?void 0:s.length,round:t<0?"ceil":"floor"}}else n=this._getPrecisionConfig(e.precision);if(i==="percent")n.style="percent";else if(i==="currency"){const s=e.useCurrencyAccountingStyle??Ot().defaultUseCurrencyAccountingStyle;n.style="currency",n.currency=e.currency||Ot().defaultCurrency,n.currencySign=KG[+s]}return n},_getPrecisionConfig(i){let e;return i===null?e={minimumFractionDigits:0,maximumFractionDigits:20}:e={minimumFractionDigits:i||0,maximumFractionDigits:i||0},e},format(i,e){return typeof i!="number"?i:(e=this._normalizeFormat(e),e.currency==="default"&&(e.currency=Ot().defaultCurrency),!e||typeof e!="function"&&!e.type&&!e.formatter?QT(e)(i):this.callBase.apply(this,[i,e]))},_getCurrencySymbolInfo(i){const e=qG(i);return this._extractCurrencySymbolInfo(e.format(0))},_extractCurrencySymbolInfo(i){const e=GG.exec(i)||[],t=e[1]?"before":"after",n=e[1]||e[4]||"",s=e[2]||e[3]||"";return{position:t,symbol:n,delimiter:s}},getCurrencySymbol(i){return i||(i=Ot().defaultCurrency),{symbol:this._getCurrencySymbolInfo(i).symbol}},getOpenXmlCurrencyFormat(i){const e=i||Ot().defaultCurrency,t=this._getCurrencySymbolInfo(e).symbol,n=Bs.getValueByClosestLocale(s=>WG[s]);return UG(t,n)}};function XG(i){return Xl(i)*Math.round(Math.abs(i))}function ZG(i,e){const t=10**e,n=E5(i,e);return XG(n)/t}function MP(i,e){const t=e??0;return(t>0?ZG(i,t):i).toFixed(t)}const QG={thousandsSeparator:",",decimalSeparator:"."};function JG(i){return i.split(",").slice(1).map(e=>{let t=0;return e.split("").filter(n=>{t+=+(n==="'");const s=n==="#"||n==="0",r=t%2;return s&&!r}).length})}function eq(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:";",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"'";const n=[];let s="",r="searchingSeparator";for(let o=0;o<i.length;o+=1){const a=i[o];r==="searchingSeparator"&&a===t?r="skippingSeparationInsideEscaping":r==="skippingSeparationInsideEscaping"&&a===t?r="searchingSeparator":r==="searchingSeparator"&&a===e&&(r="separating",n.push(s),s=""),r!=="separating"?s+=a:r="searchingSeparator"}return n.push(s),n}function tq(i){const e=eq(i);return e.length===1&&e.push(`-${e[0]}`),e}function ex(i){return i.toString().split("").reverse().join("")}function nq(i){return i.includes("%")&&!i.match(/'[^']*%[^']*'/g)}function FP(i){return i.replace(/'[^']*'/g,"")}function JT(i){if(!i)return 0;const e=FP(i);return e.length-e.replace(/[#]/g,"").length}function eD(i){if(!i)return 0;const e=FP(i);return e.length-e.replace(/[0]/g,"").length}function tD(i,e,t){if(!i)return"";for(i.length>t&&(i=i.substr(0,t));i.length>e&&i.endsWith("0");)i=i.substr(0,i.length-1);for(;i.length<e;)i+="0";return i}function iq(i,e,t){if(!e.length)return i;const n=[];let s=0;for(;i;){const r=e[s];if(!r)break;n.push(i.slice(0,r)),i=i.slice(r),s<e.length-1&&(s+=1)}return n.join(t)}function nD(i,e){return i.split("'").map((t,n)=>{const s=n%2;return!t&&s?"'":s?t:t.replace(/[,#0]+/,e)}).join("")}function sq(i){let e=!1;for(let t=0;t<i.length;t+=1)if(i[t]==="'"&&(e=!e),i[t]==="."&&!e)return t;return i.length}function rq(i,e){return e=e||QG,t=>{if(typeof t!="number"||isNaN(t))return"";const n=tq(i),s=1/t===1/0,r=t>0||s,o=n[r?0:1],a=sq(o),l=[o.substr(0,a),o.substr(a+1)],d=eD(l[1]),c=d+JT(l[1]);nq(o)&&(t=E5(t,2)),r||(t=-t);const h=eD(l[0]),u=JT(l[0])||e.unlimitedIntegerDigits?void 0:h,p=Math.floor(t).toString().length,f=Ii(c,0,15-p),g=JG(l[0]).reverse(),m=MP(t,f<0?0:f).split(".");let v=tD(ex(m[0]),h,u);const _=tD(m[1],d,c);v=iq(v,g,e.thousandsSeparator);const x=ex(nD(ex(l[0]),v)),y=c?nD(l[1],_):"";return x+(y.match(/\d/)?e.decimalSeparator:"")+y}}function ah(i,e,t){const n=(e?.01:1)*parseFloat(i)||0;return t?-n:n}function iD(i,e,t,n){let s=i,r="",o="",a="";do a&&(r=o.length===a.length?"0":"1",i=n?r+i:i+r),o=a||e(ah(s,t)),s=n?`1${s}`:`${s}1`,a=e(ah(s,t));while(o!==a&&(n?o.length===a.length:o.length<=a.length));if(n&&a.length>o.length){const l=!e(12345).includes("12345");do i=`1${i}`;while(l&&ah(i,t)<1e5)}return i}function sD(i,e,t,n){let s=e(ah(i,t,n));const r=i.split("."),o=`${r[0]}.3${r[1].slice(1)}`,a=ah(o,t,n),l=e(a).indexOf("3")-1;return s=s.replace(/(\d)\D(\d)/g,"$1,$2"),l>=0&&(s=`${s.slice(0,l)}.${s.slice(l+1)}`),s=s.replace(/1+/,"1").replace(/1/g,"#"),t||(s=s.replace(/%/g,"'%'")),s}function oq(i){let e=".";const t=i(1).includes("100");e=iD(e,i,t,!0),e=iD(e,i,t,!1);const n=sD(e,i,t,!1),s=sD(e,i,t,!0);return s===`-${n}`?n:`${n};${s}`}const aq=typeof Intl<"u",rD=["currency","fixedpoint","exponential","percent","decimal"],tx={1:"K",2:"M",3:"B",4:"T"},oD={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},Jt=cr({engine:()=>"base",numericFormats:rD,defaultLargeNumberFormatPostfixes:tx,_parseNumberFormatString(i){const e={};if(!i||typeof i!="string")return;const t=i.toLowerCase().split(" ");if(ie(t,(s,r)=>{rD.includes(r)?e.formatType=r:r in oD&&(e.power=oD[r])}),e.power&&!e.formatType&&(e.formatType="fixedpoint"),n=e,"formatType"in n&&e.formatType)return e;var n},_calculateNumberPower(i,e,t,n){let s=Math.abs(i),r=0;if(s>1)for(;s&&s>=e&&(n===void 0||r<n);)r+=1,s/=e;else if(s>0&&s<1)for(;s<1&&(t===void 0||r>t);)r-=1,s*=e;return r},_getNumberByPower(i,e,t){let n=i;for(;e>0;)n/=t,e-=1;for(;e<0;)n*=t,e+=1;return n},_formatNumber(i,e,t){e.power==="auto"&&(e.power=this._calculateNumberPower(i,1e3,0,4)),e.power&&(i=this._getNumberByPower(i,e.power,1e3));const n=e.power&&this.defaultLargeNumberFormatPostfixes[e.power]||"";let s=this._formatNumberCore(i,e.formatType,t);return s=s.replace(/(\d|.$)(\D*)$/,`$1${n}$2`),s},_formatNumberExponential(i,e){let t=this._calculateNumberPower(i,10),n=this._getNumberByPower(i,t,10);e.precision===void 0&&(e.precision=1),n.toFixed(e.precision||0)>=10&&(t+=1,n/=10);const s=(t>=0?"+":"")+t.toString();return`${this._formatNumberCore(n,"fixedpoint",e)}E${s}`},_addZeroes(i,e){const t=10**e,n=i<0?"-":"";i=(Math.abs(i)*t>>>0)/t;let s=i.toString();for(;s.length<e;)s=`0${s}`;return n+s},_addGroupSeparators(i){const e=i.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?!\d))/g,Ot().thousandsSeparator)+(e[1]?Ot().decimalSeparator+e[1]:"")},_formatNumberCore(i,e,t){if(e==="exponential")return this._formatNumberExponential(i,t);e!=="decimal"&&t.precision!==null&&(t.precision=t.precision||0),e==="percent"&&(i*=100);let n=`${i}`;return t.precision!==void 0&&(e==="decimal"?n=this._addZeroes(i,t.precision):n=t.precision===null?i.toPrecision():MP(i,t.precision)),e!=="decimal"?n=this._addGroupSeparators(n):n=n.toString().replace(".",Ot().decimalSeparator),e==="percent"&&(n+="%"),n},_normalizeFormat(i){return i?(typeof i=="function"||ot(i)||(i={type:i}),i):{}},_getSeparators(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits(i,e){const t=this.format(90,"decimal");if(typeof i!="string"||t[1]==="0")return i;const n=e?t[1]:"0",s=e?"0":t[1],r=e?t[0]:"9",o=new RegExp(`[${n}-${r}]`,"g");return i.replace(o,a=>String.fromCharCode(a.charCodeAt(0)+(s.charCodeAt(0)-n.charCodeAt(0))))},getNegativeEtalonRegExp(i){const e=this._getSeparators(),t=new RegExp(`[0-9${yo(e.decimalSeparator+e.thousandsSeparator)}]+`,"g");let n=this.format(-1,i).replace(t,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(s=>{n=n.replace(new RegExp(`\\${s}`,"g"),`\\${s}`)}),n=n.replace(/ /g,"\\s"),n=n.replace(/1/g,".*"),new RegExp(n,"g")},getSign(i,e){if(!e)return i.replace(/[^0-9-]/g,"").startsWith("-")?-1:1;const t=this.getNegativeEtalonRegExp(e);return i.match(t)?-1:1},format(i,e){var t;if(typeof i!="number"||typeof e=="number")return i;if(e=((t=e)===null||t===void 0?void 0:t.formatter)||e,typeof e=="function")return e(i);e=this._normalizeFormat(e),e.type||(e.type="decimal");const n=this._parseNumberFormatString(e.type);if(!n){const s=this._getSeparators();s.unlimitedIntegerDigits=e.unlimitedIntegerDigits;const r=rq(e.type,s)(i);return this.convertDigits(r)}return this._formatNumber(i,n,e)},parse(i,e){var t;if(!i)return;if(typeof e!="string"&&(t=e)!==null&&t!==void 0&&t.parser)return e.parser(i);i=this.convertDigits(i,!0),e&&typeof e!="string"&&Ut.log("W0011");const n=this.getDecimalSeparator(),s=new RegExp(`[^0-9${yo(n)}]`,"g"),r=i.replace(s,"").replace(n,".").replace(/\.$/g,"");if(r==="."||r==="")return null;if(this._calcSignificantDigits(r)>15)return NaN;let o=+r*this.getSign(i,e);e=this._normalizeFormat(e);const a=this._parseNumberFormatString(e.type);let l=a==null?void 0:a.power;if(l){if(l==="auto"){const d=/\d(K|M|B|T)/.exec(i);d&&(l=Object.keys(tx).map(Number).find(c=>tx[c]===d[1]))}o*=10**(3*l)}return(a==null?void 0:a.formatType)==="percent"&&(o/=100),o},_calcSignificantDigits(i){const[e,t]=i.split("."),n=r=>{let o=-1;for(let a=0;a<r.length;a+=1)if(r[a]!=="0"){o=a;break}return o>-1?r.length-o:0};let s=0;return e&&(s+=n(e.split(""))),t&&(s+=n(t.split("").reverse())),s}});Jt.inject(zG);aq&&Jt.inject(YG);const lq={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1},dq=/[\u200E\u200F]/g,cq=/[\u202F]/g,nx={},uq=i=>{const e=`${Bs.locale()}/${JSON.stringify(i)}`;return nx[e]||(nx[e]=new Intl.DateTimeFormat(Bs.locale(),i).format),nx[e]};function Gy(i,e){return uq(e)(i).replace(dq,"").replace(cq," ")}const _l=i=>e=>{if(!i.timeZoneName){const t=e.getFullYear(),n=String(t).length<3,r=n?t+400:t,o=new Date(Date.UTC(r,e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));n&&o.setFullYear(t);const a=se({timeZone:"UTC"},i);return Gy(o,a)}return Gy(e,i)},qy=i=>new Intl.NumberFormat(Bs.locale()).format(i),hq=(()=>{const i={};return e=>{if(!(e in i)){if(qy(0)==="0")return i[e]=!1,!1;i[e]={};for(let t=0;t<10;++t)i[e][qy(t)]=t}return i[e]}})(),Pf=i=>{const e=hq(Bs.locale());return e?i.split("").map(t=>t in e?String(e[t]):t).join(""):i},aD=i=>i.replace(/(\D)0+(\d)/g,"$1$2"),pq=(i,e)=>aD(i)===aD(e),Yy=i=>i.replace("d","de "),L1={day:{day:"numeric"},date:{year:"numeric",month:"long",day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(L1,"shortdateshorttime",{get(){const i=Intl.DateTimeFormat(Bs.locale()).resolvedOptions();return{year:i.year,month:i.month,day:i.day,hour:"numeric",minute:"numeric"}}});const fq=i=>typeof i=="string"&&L1[i.toLowerCase()],BP={standalone(i,e){const t=new Date(1999,i,13,1);return _l({month:e})(t)},format(i,e){const t=new Date(0,i,13,1),s=Yy(_l({day:"numeric",month:e})(t)).split(" ").filter(r=>!r.includes("13"));return s.length===1?s[0]:s.length===2?s[0].length>s[1].length?s[0]:s[1]:BP.standalone(i,e)}},mq={engine:()=>"intl",getMonthNames(i,e){const t={wide:"long",abbreviated:"short",narrow:"narrow"}[i||"wide"];return e=e==="format"?e:"standalone",Array.from({length:12},(n,s)=>BP[e](s,t))},getDayNames:i=>(e=>Array.from({length:7},(t,n)=>_l({weekday:e})(new Date(0,0,n))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[i||"wide"]),getPeriodNames(){const i=_l({hour:"numeric",hour12:!0});return[1,13].map(e=>{const t=qy(1),n=i(new Date(0,0,1,e)).split(t);return n.length!==2?"":(n[0].length>n[1].length?n[0]:n[1]).trim()})},format(i,e){if(!i)return;if(!e)return i;typeof e!="function"&&!e.formatter&&(e=e.type??e);const t=fq(e);if(t)return _l(t)(i);const n=typeof e;return e.formatter||n==="function"||n==="string"?this.callBase.apply(this,[i,e]):_l(e)(i)},parse(i,e){let t;return e&&!e.parser&&typeof i=="string"&&(i=Yy(i),t=n=>Yy(this.format(n,e))),this.callBase(i,t??e)},_parseDateBySimpleFormat(i,e){i=Pf(i);const t=this.getFormatParts(e),n=i.split(/\D+/).filter(o=>o.length>0);if(t.length!==n.length)return;const s=this._generateDateArgs(t,n),r=o=>{const a=((l,d)=>{const c=d?12:0;return new Date(l.year,l.month,l.day,(l.hours+c)%24,l.minutes,l.seconds)})(s,o);if(pq(Pf(this.format(a,e)),i))return a};return r(!1)??r(!0)},_generateDateArgs(i,e){const t=new Date,n={year:t.getFullYear(),month:t.getMonth(),day:t.getDate(),hours:0,minutes:0,seconds:0};return i.forEach((s,r)=>{const o=e[r];let a=parseInt(o,10);s==="month"&&(a-=1),n[s]=a}),n},formatUsesMonthName(i){return typeof i=="object"&&!(i.type||i.format)?i.month==="long":this.callBase.apply(this,[i])},formatUsesDayName(i){return typeof i=="object"&&!(i.type||i.format)?i.weekday==="long":this.callBase.apply(this,[i])},getTimeSeparator:()=>Pf(Gy(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,""),getFormatParts(i){if(typeof i=="string")return this.callBase(i);const e=se({},L1[i.toLowerCase()]),t=new Date(2001,2,4,5,6,7);let n=_l(e)(t);return n=Pf(n),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(s=>({name:s.name,index:n.indexOf(`${s.value}`)})).filter(s=>s.index>-1).sort((s,r)=>s.index-r.index).map(s=>s.name)}},NP=" .,:;/\\<>()-[]",Ra=i=>{const e=i&&Jt.convertDigits(i,!1).charCodeAt(0),t=Jt.convertDigits("0",!1).charCodeAt(0);return t<=e&&e<t+10},gq=(i,e,t,n)=>{const s=i[t],r=i[t+1];if(!n&&(s==="."||s===" "&&i.slice(t-1,t+3)===". m."||s==="-"&&!Ra(r)))return!0;const o=n&&e.some(a=>i[t]!==a[t]);return!NP.includes(s)&&n===Ra(s)&&(!n||o)},_q=(i,e)=>{if(!Ra(i[e]))for(;e>0&&!Ra(i[e-1])&&(i[e-1]==="."||!NP.includes(i[e-1]));)e-=1;return e},vq=(i,e,t,n)=>{let s=0;const r=[],o=a=>i[s]!==a[s]&&(n===void 0||Ra(i[s])===n);for(Array.isArray(e)||(e=[e]),s=0;s<i.length;s+=1)if(!t.includes(s)&&e.filter(o).length){s=_q(i,s);do{if(n=Ra(i[s]),!r.length&&!n&&Ra(e[0][s]))break;r.push(s),t.unshift(s),s+=1}while(i[s]&&gq(i,e,s,n));break}return r.length===1&&(i[t[0]-1]==="0"||i[t[0]-1]==="")&&t.unshift(t[0]-1),r},xq=(i,e,t,n)=>{const s=e[0],r=s<n.length?n[s]:s;return e.forEach((o,a)=>{i=i.substr(0,r+a)+(t.length>1?t[a]:t)+i.substr(r+a+1)}),e.length===1&&(i=i.replace(`0${t}`,t+t),i=i.replace(`${t}`,t+t)),i},bq=(i,e,t,n)=>{let s,r,o;if(!Ra(i[e[0]]||"0")){const a=Math.max(e.length<=3?3:4,t.length);for(;e.length>a;){for(r=e.pop(),o=n[r],n[r]=-1,s=r+1;s<n.length;s+=1)n[s]-=1;i=i.substr(0,o)+i.substr(o+1)}for(r=e[e.length-1]+1,o=r<n.length?n[r]:r;e.length<a;){for(e.push(e[e.length-1]+1),s=r;s<n.length;s+=1)n[s]+=1;i=`${i.substr(0,o)} ${i.substr(o)}`}}return i=xq(i,e,t,n),i},lD=(i,e)=>Array.isArray(i)?i.map(t=>(e(t)||"").toString()):(e(i)||"").toString(),yq=/[a-zA-Z]/g,Cq=(i,e,t,n)=>{const s=e.split("").map((r,o)=>!t.includes(o)&&(r.match(yq)||r==="'")?n[o]:-1);return i=i.split("").map((r,o)=>{let a=r;const l=s.includes(o),d=o>0&&s.includes(o-1),c=s.includes(o+1);return l&&(d||(a=`'${a}`),c||(a=`${a}'`)),a}).join(""),i},$1=i=>{const e=[],t=lD(new Date(2009,8,8,6,5,4),i),n=t.split("").map((a,l)=>l);let s=t;const r={},o=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(s&&(o.forEach(a=>{const l=vq(t,lD(a.date,i),e,a.isDigit),d=a.pattern==="M"&&!r.d?"L":a.pattern;s=bq(s,l,d,n),r[d]=l.length}),s=Cq(s,t,e,n),e.length))return s},wo={3:"abbreviated",4:"wide",5:"narrow"},dD=(i,e)=>i>2?Object.keys(wo).map(t=>["format","standalone"].map(n=>e.getMonthNames(wo[t],n).join("|")).join("|")).join("|"):i===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]",wq={":":(i,e)=>{var t;const n=i>1?`{${i}}`:"";let s=yo((t=e.getTimeSeparator)===null||t===void 0?void 0:t.call(e));return s!==":"&&(s=`${s}|:`),`${s}${n}`},y:i=>i===2?`[0-9]{${i}}`:"[0-9]+?",M:dD,L:dD,Q(i,e){return i>2?e.getQuarterNames(wo[i],"format").join("|"):"0?[1-4]"},E:(i,e)=>"\\D*",a:(i,e)=>e.getPeriodNames(wo[i<3?3:i],"format").join("|"),d:i=>i===2?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]",H:i=>i===2?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]",h:i=>i===2?"1[012]|0?[1-9]":"0??[1-9]|1[012]",m:i=>i===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]",s:i=>i===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]",S:i=>`[0-9]{1,${i}}`,w:i=>i===2?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]",x:i=>i===3?"[+-](?:2[0-3]|[01][0-9]):(?:[0-5][0-9])|Z":"[+-](?:2[0-3]|[01][0-9])(?:[0-5][0-9])|Z"},oo=Number,Xy=(i,e)=>i.map(t=>t.toLowerCase()).indexOf(e.toLowerCase()),cD=(i,e,t)=>e>2?["format","standalone"].map(n=>Object.keys(wo).map(s=>{const r=t.getMonthNames(wo[s],n);return Xy(r,i)})).reduce((n,s)=>n.concat(s)).filter(n=>n>=0)[0]:oo(i)-1,Sq={y(i,e){const t=oo(i);return e===2?t<30?2e3+t:1900+t:t},M:cD,L:cD,Q(i,e,t){return e>2?t.getQuarterNames(wo[e],"format").indexOf(i):oo(i)-1},E(i,e,t){const n=t.getDayNames(wo[e<3?3:e],"format");return Xy(n,i)},a(i,e,t){const n=t.getPeriodNames(wo[e<3?3:e],"format");return Xy(n,i)},d:oo,H:oo,h:oo,m:oo,s:oo,S(i,e){for(e=Math.max(e,3),i=i.slice(0,3);e<3;)i=`${i}0`,e+=1;return oo(i)}},Dg=["y","M","d","h","m","s","S"],H1={y:"setFullYear",M:"setMonth",L:"setMonth",a(i,e,t){let n=i.getHours();const s=t.h;s!==void 0&&s!==n&&(n-=1),!e&&n===12?n=0:e&&n!==12&&(n+=12),i.setHours(n)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},Eq=(i,e)=>{const t=i[e];if(!t)return 0;let n=0;do e+=1,n+=1;while(i[e]===t);return n},Iq=(i,e)=>{let t="";for(let n=0;n<e;n+=1)t+=i;return t},Tq=["d","H","h","m","s","w","M","L","Q"],Dq=i=>{const e=s=>{if(!s)return!1;const r=s[0];return["y","S"].includes(r)||Tq.includes(r)&&s.length<3};let t=!0,n=0;return i.every((s,r,o)=>(e(s)&&((a=>!a.startsWith("S")&&a.length!==2)(s)&&(t=++n<2),e(o[r+1])||(n=0)),t))},VP=(i,e)=>{let t="",n="",s=!1;const r=[],o=()=>{n&&(r.push(`'${n}'`),t+=`${yo(n)})`,n="")};for(let a=0;a<i.length;a+=1){const l=i[a],d=l==="'",c=wq[l];if(!(d&&(s=!s,i[a-1]!=="'")))if(c&&!s){const h=Eq(i,a),u=Iq(l,h);o(),r.push(u),t+=`(${c(h,e)})`,a+=h-1}else n||(t+="("),n+=l}return o(),Dq(r)||Gl.warn(`The following format may be parsed incorrectly: ${i}.`),{patterns:r,regexp:new RegExp(`^${t}$`,"i")}},Aq=()=>H1,kq=(i,e,t,n,s)=>{const r=e[0],o=H1[r],a=Sq[r];if(o&&a){const l=a(t,e.length,n);s[e]=l,i[o]?i[o](l):o(i,l,s)}},Oq=(i,e,t)=>{const n=H1[e],s=`g${n.substr(1)}`,r=t[s]();i[n](r)},Rq=i=>i.map(e=>e.startsWith("'")?"":e.startsWith("H")?"h":e[0]),Pq=i=>{const e=i.map(t=>Dg.indexOf(t));return Math.max(...e)},Mq=i=>{const e=i.filter(t=>!Dg.includes(t));return Dg.concat(e)},Fq=(i,e)=>{const t=VP(i,e);return n=>{const s=t.regexp.exec(n);if(s){const r=new Date,o=new Date(r.getFullYear(),0,1),a=Rq(t.patterns),l=Pq(a),d=Mq(a),c={};return d.forEach((h,u)=>{if(!h||u<Dg.length&&u>l)return;const p=a.indexOf(h);if(p>=0){const f=t.patterns[p],g=s[p+1];kq(o,f,g,e,c)}else Oq(o,h,r)}),o}return null}},Bq=typeof Intl<"u",ix={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},Nq={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},ut=cr({engine:()=>"base",_getPatternByFormat:i=>ix[i.toLowerCase()],_expandPattern(i){return this._getPatternByFormat(i)||i},formatUsesMonthName(i){return this._expandPattern(i).indexOf("MMMM")!==-1},formatUsesDayName(i){return this._expandPattern(i).indexOf("EEEE")!==-1},getFormatParts(i){const e=this._getPatternByFormat(i)||i,t=[];return ie(e.split(/\W+/),(n,s)=>{ie(Nq,(r,o)=>{o.includes(s)&&t.push(r)})}),t},getMonthNames:i=>Jd.getMonthNames(i),getDayNames:i=>Jd.getDayNames(i),getQuarterNames:i=>Jd.getQuarterNames(i),getPeriodNames:i=>Jd.getPeriodNames(i),getTimeSeparator:()=>":",is24HourFormat(i){const e=new Date(2017,0,20,11,0,0,0),t=new Date(2017,0,20,23,0,0,0),n=this.format(e,i),s=this.format(t,i);for(let r=0;r<n.length;r+=1)if(n[r]!==s[r])return!isNaN(parseInt(n[r],10))},format(i,e){if(!i)return;if(!e)return i;let t;if(typeof e=="function")t=e;else if(e.formatter)t=e.formatter;else if(e=e.type??e,Ke(e))return e=ix[e.toLowerCase()]||e,Jt.convertDigits(b5(e,this)(i));if(t)return t(i)},parse(i,e){const t=this;let n,s;if(!i)return;if(!e)return this.parse(i,"shortdate");if(typeof e=="object"&&e.parser)return e.parser(i);if(typeof e=="string"&&!ix[e.toLowerCase()])n=e;else{s=o=>{const a=t.format(o,e);return Jt.convertDigits(a,!0)};try{n=$1(s)}catch{}}if(n)return i=Jt.convertDigits(i,!0),Fq(n,this)(i);Ut.log("W0012");const r=new Date(i);if(!(!r||isNaN(r.getTime())))return r},firstDayOfWeekIndex(){return Bs.getValueByClosestLocale(e=>lq[e])??0}});Bq&&ut.inject(mq);const Zy=cr({format:function(i,e){const t=Ke(e)&&e!==""||ot(e)||Ie(e),n=jt(i)||zi(i);if(!t||!n)return G(i)?i.toString():"";if(Ie(e))return e(i);if(Ke(e)&&(e={type:e}),jt(i))return Jt.format(i,e);if(zi(i))return ut.format(i,e)},getTimeFormat:function(i){return i?"longtime":"shorttime"},_normalizeFormat:function(i){return Array.isArray(i)?i.length===1?i[0]:function(e){return i.map(function(t){return ut.format(e,t)}).join(" ")}:i},getDateFormatByDifferences:function(i,e){const t=[],n=e&&i.millisecond&&!(i.year||i.month||i.day);if(n){const s=function(r){return r.getSeconds()+r.getMilliseconds()/1e3+"s"};t.push(s)}else i.millisecond&&t.push("millisecond");if((i.hour||i.minute||!n&&i.second)&&t.unshift(this.getTimeFormat(i.second)),i.year&&i.month&&i.day)return e&&e==="month"?"monthandyear":(t.unshift("shortdate"),this._normalizeFormat(t));if(i.year&&i.month)return"monthandyear";if(i.year&&i.quarter)return"quarterandyear";if(i.year)return"year";if(i.quarter)return"quarter";if(i.month&&i.day){if(e){const s=function(r){return ut.getMonthNames("abbreviated")[r.getMonth()]+" "+ut.format(r,"day")};t.unshift(s)}else t.unshift("monthandday");return this._normalizeFormat(t)}if(i.month)return"month";if(i.day){if(e)t.unshift("day");else{const s=function(r){return ut.format(r,"dayofweek")+", "+ut.format(r,"day")};t.unshift(s)}return this._normalizeFormat(t)}return this._normalizeFormat(t)},getDateFormatByTicks:function(i){let e,t,n;if(i.length>1)for(e=Be.getDatesDifferences(i[0],i[1]),n=1;n<i.length-1;n++)t=Be.getDatesDifferences(i[n],i[n+1]),e.count<t.count&&(e=t);else e={year:!0,month:!0,day:!0,hour:i[0].getHours()>0,minute:i[0].getMinutes()>0,second:i[0].getSeconds()>0,millisecond:i[0].getMilliseconds()>0};return this.getDateFormatByDifferences(e)},getDateFormatByTickInterval:function(i,e,t){let n;const s=function(a,l,d){switch(l){case"year":case"quarter":a.month=d;case"month":a.day=d;case"week":case"day":a.hour=d;case"hour":a.minute=d;case"minute":a.second=d;case"second":a.millisecond=d}};t=Ke(t)?t.toLowerCase():t;const r=Be.getDatesDifferences(i,e);return i!==e&&function(a,l,d){!d.getMilliseconds()&&d.getSeconds()?d.getSeconds()-l.getSeconds()===1&&(a.millisecond=!0,a.second=!1):!d.getSeconds()&&d.getMinutes()?d.getMinutes()-l.getMinutes()===1&&(a.second=!0,a.minute=!1):!d.getMinutes()&&d.getHours()?d.getHours()-l.getHours()===1&&(a.minute=!0,a.hour=!1):!d.getHours()&&d.getDate()>1?d.getDate()-l.getDate()===1&&(a.hour=!0,a.day=!1):d.getDate()===1&&d.getMonth()?d.getMonth()-l.getMonth()===1&&(a.day=!0,a.month=!1):!d.getMonth()&&d.getFullYear()&&d.getFullYear()-l.getFullYear()===1&&(a.month=!0,a.year=!1)}(r,i>e?e:i,i>e?i:e),n=Be.getDateUnitInterval(r),s(r,n,!0),n=Be.getDateUnitInterval(t||"second"),s(r,n,!1),r[{week:"day"}[n]||n]=!0,this.getDateFormatByDifferences(r)}}),LP=new e1,St=function(i,e,t){t?e[i]=t:t=e,Ep(t,i),LP.fire(i,t)},Vq=function(i,e){M.fn[i]=function(t){const n=typeof t=="string";let s;if(n){const r=t,o=[].slice.call(arguments).slice(1);this.each(function(){const a=e.getInstance(this);if(!a)throw Ut.Error("E0009",i);const d=a[r].apply(a,o);s===void 0&&(s=d)})}else this.each(function(){const r=e.getInstance(this);r?r.option(t):new e(this,t)}),s=this;return s}};LP.add(Vq);const ec=Bt(),$P=bt(),Lq=Or.add,$q=ja,Hq=M0;let Wh=new de;const HP="link[rel=dx-theme]",jq="data-theme",zq="data-active";let So,Qy,Eo,Es,pa,uD=15e3;function j1(){if(!st())return null;const i=M("<div>",So).addClass("dx-theme-marker").appendTo(So.documentElement);let e;try{return e=$P.getComputedStyle(i.get(0)).fontFamily,!e||(e=e.replace(/["']/g,""),e.substr(0,3)!=="dx.")?null:e.substr(3)}finally{i.remove()}}function hD(){if(!pa)return!0;const i=pa==="any";if(Wh.state()==="resolved"&&i)return!0;const e=j1();return e&&i?!0:e===pa}function pD(i){let e,t,n=!0;pa=i;function s(){pa=null,clearInterval(t),n=!0,ec.fire(),ec.empty(),Wh.resolve()}if(hD()||!uD)s();else{if(!n){pa&&(pa=i);return}e=Date.now(),n=!1,t=setInterval(()=>{const r=hD(),o=!r&&Date.now()-e>uD;o&&pt.log("W0004",pa),(r||o)&&s()},10)}}function Wq(){const i=M(HP,So);i.length&&(Eo={},Qy=M(g1("<link rel=stylesheet>"),So),i.each(function(){const e=M(this,So),t=e.attr(jq),n=e.attr("href"),s=e.attr(zq)==="true";Eo[t]={url:n,isActive:s}}),i.last().after(Qy),i.remove())}function Uq(i){const e=i?i.split("."):[];let t=null;if(Eo){if(i in Eo)return i;ie(Eo,(n,s)=>{const r=n.split(".");if(!(e[0]&&r[0]!==e[0])&&!(e[1]&&e[1]!==r[1])&&!(e[2]&&e[2]!==r[2])&&((!t||s.isActive)&&(t=n),s.isActive))return!1})}return t}function Kq(i){try{i!==So&&(Eo=null)}catch{Eo=null}So=i}function Gq(i){var e;i=i||z1();const t=[],n=(e=i)===null||e===void 0?void 0:e.split(".");return n&&(t.push(`dx-theme-${n[0]}`,`dx-theme-${n[0]}-typography`),n.length>1&&t.push(`dx-color-scheme-${n[1]}${GP(i)?`-${n[2]}`:""}`)),t}let wm;function qq(i,e){wm=Gq(e).join(" "),M(i).addClass(wm),(()=>{const t=st()&&$P.devicePixelRatio;if(!t||t<2)return;const n=M("<div>");n.css("border",".5px solid transparent"),M("body").append(n),gt(n)===1&&(M(i).addClass("dx-hairlines"),wm+=" dx-hairlines"),n.remove()})()}function jP(i,e){Ae(k0).done(()=>{qq(i,e)})}function zP(i){Ae(k0).done(()=>{M(i).removeClass(wm)})}function z1(i){if(!arguments.length)return Es=Es||j1(),Es;zP($q()),i=i||{},typeof i=="string"&&(i={theme:i});const e=i._autoInit,{loadCallback:t}=i;let n;if(Es=Uq(i.theme||Es),Es&&(n=Eo[Es]),t&&ec.add(t),n)Qy.attr("href",Eo[Es].url),(ec.has()||Wh.state()!=="resolved"||i._forceTimeout)&&pD(Es);else if(e)st()&&pD("any"),ec.fire(),ec.empty();else throw pt.Error("E0021",Es);Wh.done(()=>jP(m5(),Es))}function WP(i){i=i||{},Kq(i.context||ve.getDocument()),So&&(Wq(),Es=void 0,z1(i))}function W1(i,e){return e||(e=Es||j1()),new RegExp(i).test(e)}function UP(i){return W1("material",i)}function KP(i){return W1("fluent",i)}function GP(i){return UP(i)||KP(i)}function Yq(i){return W1("generic",i)}function Xq(i,e){var t;const n=ve.getDocument(),s=n.createElement("span");s.style.position="absolute",s.style.top="-9999px",s.style.left="-9999px",s.style.visibility="hidden",s.style.fontFamily="arial",s.style.fontSize="250px",s.style.fontWeight=e,s.innerHTML=i,n.body.appendChild(s);const r=s.offsetWidth;s.style.fontFamily="roboto, 'roboto fallback', arial";const o=s.offsetWidth;return(t=s.parentNode)===null||t===void 0||t.removeChild(s),r!==o}function Zq(i,e){return new Promise(t=>{const n=()=>{clearInterval(s),clearTimeout(r),t()},s=setInterval(()=>{Xq(i,e)&&n()},15),r=setTimeout(n,2e3)})}function fD(){if(WP({_autoInit:!0,_forceTimeout:!0}),M(HP,So).length)throw pt.Error("E0022")}st()?fD():Lq(fD);Hq.add((i,e)=>{Wh.done(()=>{zP(e),jP(i)})});Oe.changed.add(()=>{WP({_autoInit:!0})});const Qq={waitWebFont:Zq,isGeneric:Yq,isMaterial:UP,isFluent:KP,isMaterialBased:GP,current:z1},{waitWebFont:Jq,isGeneric:qP,isMaterial:xs,isFluent:ts,isMaterialBased:Ns,current:Yt}=Qq,eY="dxactive",Mf=Dt.inherit({ctor(i,e){this._timeout=i,this._fire=e},start(){const i=this;this._schedule(()=>{i.force()})},_schedule(i){this.stop(),this._timer=setTimeout(i,this._timeout)},stop(){clearTimeout(this._timer)},force(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired(){return this._fired}});let vr;const U1=V0.inherit({ctor(){this.callBase.apply(this,arguments),this._active=new Mf(0,Te),this._inactive=new Mf(0,Te)},configure(i,e){switch(e){case"dxactive":i.activeTimeout=i.timeout;break;case"dxinactive":i.inactiveTimeout=i.timeout}this.callBase(i)},start(i){if(vr){const e=za(this.getElement().get(0),vr.getElement().get(0)),t=!vr._active.fired();if(e&&t){this._cancel();return}vr._inactive.force()}vr=this,this._initEvents(i),this._active.start()},_initEvents(i){const e=this,t=this._getEmitterTarget(i),n=ql(i),r=Oe.isSimulator()||!n,o=wn(this.activeTimeout,30),a=wn(this.inactiveTimeout,400);this._active=new Mf(r?o:0,()=>{e._fireEvent("dxactive",i,{target:t})}),this._inactive=new Mf(r?a:0,()=>{e._fireEvent("dxinactive",i,{target:t}),vr=null})},cancel(i){this.end(i)},end(i){const e=i.type!==mt.up;e?this._active.stop():this._active.force(),this._inactive.start(),e&&this._inactive.force()},dispose(){this._active.stop(),this._inactive.stop(),vr===this&&(vr=null),this.callBase()},lockInactive(){return this._active.force(),this._inactive.stop(),vr=null,this._cancel(),this._inactive.force.bind(this._inactive)}});U1.lock=function(i){const e=vr?vr.lockInactive():Te;i.done(e)};Xc({emitter:U1,events:["dxactive","dxinactive"]});const{lock:tY}=U1,Rp="dxhoverstart",nY=be(mt.enter,"dxHoverStart"),Pp="dxhoverend",iY=be(mt.leave,"dxHoverEnd"),YP=Dt.inherit({noBubble:!0,ctor(){this._handlerArrayKeyPath=`${this._eventNamespace}_HandlerStore`},setup(i){kn(i,this._handlerArrayKeyPath,{})},add(i,e){const t=this,n=function(s){t._handler(s)};Y.on(i,this._originalEventName,e.selector,n),kn(i,this._handlerArrayKeyPath)[e.guid]=n},_handler(i){xp(i)||Oe.isSimulator()||el({type:this._eventName,originalEvent:i,delegateTarget:i.delegateTarget})},remove(i,e){const t=kn(i,this._handlerArrayKeyPath)[e.guid];Y.off(i,this._originalEventName,e.selector,t)},teardown(i){P0(i,this._handlerArrayKeyPath)}}),sY=YP.inherit({ctor(){this._eventNamespace="dxHoverStart",this._eventName=Rp,this._originalEventName=nY,this.callBase()},_handler(i){(i.pointers||[]).length||this.callBase(i)}}),rY=YP.inherit({ctor(){this._eventNamespace="dxHoverEnd",this._eventName=Pp,this._originalEventName=iY,this.callBase()}});ur(Rp,new sY);ur(Pp,new rY);const sx="KeyboardProcessor",XP=i=>({keyName:En(i),key:i.key,code:i.code,ctrl:i.ctrlKey,location:i.location,metaKey:i.metaKey,shift:i.shiftKey,alt:i.altKey,which:i.which,originalEvent:i}),K1=Dt.inherit({_keydown:be("keydown",sx),_compositionStart:be("compositionstart",sx),_compositionEnd:be("compositionend",sx),ctor(i){i=i||{},i.element&&(this._element=M(i.element)),i.focusTarget&&(this._focusTarget=i.focusTarget),this._handler=i.handler,this._element&&(this._processFunction=e=>{const t=M(this._focusTarget).toArray(),n=this._focusTarget&&this._focusTarget!==e.target&&!t.includes(e.target),s=this._isComposingJustFinished&&e.which===229||this._isComposing||n;this._isComposingJustFinished=!1,s||this.process(e)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),Y.on(this._element,this._keydown,this._processFunction),Y.on(this._element,this._compositionStart,this._toggleProcessingWithContext),Y.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose(){this._element&&(Y.off(this._element,this._keydown,this._processFunction),Y.off(this._element,this._compositionStart,this._toggleProcessingWithContext),Y.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process(i){this._handler(XP(i))},toggleProcessing(i){let{type:e}=i;this._isComposing=e==="compositionstart",this._isComposingJustFinished=!this._isComposing}});K1.createKeyDownOptions=XP;function ti(i,e){return e?be(i,e):i}function Jy(i,e){return typeof i=="function"?i(e):i.execute(e)}const mD={on:(i,e,t,n)=>{const{selector:s,showTimeout:r,hideTimeout:o,namespace:a}=n;Y.on(i,ti("dxactive",a),s,{timeout:r},l=>Jy(e,{event:l,element:l.currentTarget})),Y.on(i,ti("dxinactive",a),s,{timeout:o},l=>Jy(t,{event:l,element:l.currentTarget}))},off:(i,e)=>{let{namespace:t,selector:n}=e;Y.off(i,ti("dxactive",t),n),Y.off(i,ti("dxinactive",t),n)}},Ag={on:function(i,e){let{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Y.on(i,ti("dxresize",t),e)},off:function(i){let{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y.off(i,ti("dxresize",e))}},gD={on:(i,e,t,n)=>{let{selector:s,namespace:r}=n;Y.on(i,ti("dxhoverend",r),s,o=>t(o)),Y.on(i,ti("dxhoverstart",r),s,o=>Jy(e,{element:o.target,event:o}))},off:(i,e)=>{let{selector:t,namespace:n}=e;Y.off(i,ti("dxhoverstart",n),t),Y.off(i,ti("dxhoverend",n),t)}},kg={on:(i,e,t,n)=>{let{namespace:s}=n;Y.on(i,ti("dxhiding",s),t),Y.on(i,ti("dxshown",s),e)},off:(i,e)=>{let{namespace:t}=e;Y.off(i,ti("dxhiding",t)),Y.off(i,ti("dxshown",t))}},Sm={on:(i,e,t,n)=>{let{namespace:s}=n;Y.on(i,ti("focusin",s),e),Y.on(i,ti("focusout",s),t)},off:(i,e)=>{let{namespace:t}=e;Y.off(i,ti("focusin",t)),Y.off(i,ti("focusout",t))},trigger:i=>Y.trigger(i,"focus")},_D={on:function(i,e){let{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Y.on(i,ti("dxclick",t),e)},off:function(i){let{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y.off(i,ti("dxclick",e))}},vD={on:function(i,e){let{namespace:t}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Y.on(i,ti("click",t),e)},off:function(i){let{namespace:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Y.off(i,ti("click",e))}};let oY=0;const bu={},aY=()=>"keyboardProcessorId"+oY++,Pa={on:(i,e,t)=>{const n=aY();return bu[n]=new K1({element:i,focusTarget:e,handler:t}),n},off:i=>{i&&bu[i]&&(bu[i].dispose(),delete bu[i])},_getProcessor:i=>bu[i]};function lY(i,e,t){function n(r){return typeof r=="string"?r.split("."):typeof r=="number"?[r]:r}i=n(i),e=n(e);let s=Math.max(i.length,e.length);isFinite(t)&&(s=Math.min(s,t));for(let r=0;r<s;r++){const o=parseInt(i[r]||0,10),a=parseInt(e[r]||0,10);if(o<a)return-1;if(o>a)return 1}return 0}function dY(i){const{major:e,minor:t,patch:n}=i;return[e,t,n].join(".")}function ZP(i){const[e,t,n]=i.split(".").map(Number);return{major:e,minor:t,patch:n}}function cY(){var i;return((i=Ot())===null||i===void 0?void 0:i.versionAssertions)??[]}function uY(i){return i.map(e=>`${e.packageName}: ${e.version}`).join(`
`)}function hY(i,e){return i.major===e.major&&i.minor===e.minor&&i.patch===e.patch}function pY(i){let{major:e,minor:t,patch:n}=i;return t===1?{major:e-1,minor:2,patch:n}:{major:e,minor:t-1,patch:n}}function fY(i){const e=cY().filter(t=>!hY(ZP(t.version),i));return e.length?(Ut.log("W0023",uY([{packageName:"devextreme",version:dY(i)},...e])),!1):!0}function mY(i){return new Uint8Array(atob(i).split("").map(e=>e.charCodeAt(0)))}function gY(i){var e;return new Uint8Array(((e=i.match(/.{1,2}/g))===null||e===void 0?void 0:e.map(t=>parseInt(t,16)))??[])}function _Y(i){const e=new Uint8Array(i.length);for(let t=0;t<i.length;t+=1)e[t]=255&i.charCodeAt(t);return e}function vY(i){const e=new Uint8Array(4*i.length);for(let t=0;t<e.length;t+=1)e[t]=i[t>>2]>>>8*(3-t%4);return e}function xY(i){const e=new Uint32Array(1+(i.length-1>>2));for(let t=0;t<i.length;t+=1)e[t>>2]|=i[t]<<8*(3-t%4);return e}function xD(i,e){return(i<<e|i>>>32-e)>>>0}function bD(i,e){const t=new Uint8Array(i.length+e.length);return t.set(i,0),t.set(e,i.length),t}const QP={e:65537,n:new Uint8Array([200,219,153,203,140,7,228,253,193,243,62,137,139,60,68,242,48,142,113,88,185,235,253,105,80,74,32,170,96,74,111,250,7,205,154,3,146,115,153,53,45,132,123,56,61,208,184,201,63,24,109,223,0,179,169,102,139,224,73,233,45,173,138,66,98,88,69,76,177,111,113,218,192,33,101,152,25,134,34,173,32,82,230,44,247,200,253,170,192,246,30,12,96,205,100,249,181,93,0,231])},bY="V2QpQmJVXWy6Nexkq9Xk9o",yY="3021300906052b0e03021a05000414";function CY(i){const e=(8*QP.n.length+6)/8,t=bD(gY(yY),i);if(t.length+10>e)throw Error("Key is too short for SHA1 signing algorithm");const n=new Uint8Array(e-t.length);return n.fill(255,0,n.length-1),n[0]=0,n[1]=1,n[n.length-1]=0,bD(n,t)}function wY(i){try{const e=BigInt(0),t=BigInt(1),n=BigInt(8),s=(h,u,p)=>{let f=t,g=h,m=u;for(;m;)m&t&&(f=f*g%p),g=g*g%p,m>>=t;return f},r=h=>h.reduce((u,p)=>(u<<n)+BigInt(p),e),o=r(i.actual),a=r(i.signature),l=BigInt(i.key.e),d=r(i.key.n);return s(a,l,d)===o}catch{return!0}}function SY(i){const e=new Uint8Array(i.length+1);e.set(_Y(i)),e[e.length-1]=128;const t=xY(new Uint8Array(e)),n=new Uint32Array(16*Math.ceil((t.length+2)/16));return n.set(t,0),n[n.length-1]=8*(e.length-1),n}function EY(i){const e=SY(i),t=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]);for(let n=0;n<e.length;n+=16){const s=new Uint32Array(80);for(let c=0;c<16;c+=1)s[c]=e[n+c];for(let c=16;c<80;c+=1){const h=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=h<<1|h>>>31}let r=t[0],o=t[1],a=t[2],l=t[3],d=t[4];for(let c=0;c<80;c+=1){const[h,u]=c<20?[o&a|~o&l,1518500249]:c<40?[o^a^l,1859775393]:c<60?[o&a|o&l|a&l,2400959708]:[o^a^l,3395469782],p=xD(r,5)+h+d+u+s[c];d=l,l=a,a=xD(o,30),o=r,r=p}t[0]+=r,t[1]+=o,t[2]+=a,t[3]+=l,t[4]+=d}return vY(t)}const JP=()=>typeof HTMLElement<"u"&&typeof customElements<"u",e8=JP()?HTMLElement:class{},Fl={trigger:"dx-license-trigger",panel:"dx-license"},Js={buyNow:"buy-now",licensingDoc:"licensing-doc",version:"version",subscriptions:"subscriptions"},t8={opacity:"1",visibility:"visible","clip-path":"none",filter:"none"},n8=Object.assign({},t8,{width:"100%",height:"auto","line-height":"normal",display:"block","z-index":"1500",position:"static",transform:"translate(0px, 0px)","background-color":"#FF7200",border:"none",margin:"auto","box-sizing":"border-box","text-align":"center"}),IY=Object.assign({},n8,{display:"flex","align-items":"center","flex-direction":"row",position:"relative",top:"0px",left:"0px",padding:"0.5rem"}),TY={width:"1rem",cursor:"pointer",height:"1rem"},yD=Object.assign({},t8,{display:"inline",position:"static",padding:"0px",margin:"0px",color:"white","font-family":"-apple-system, BlinkMacSystemFont, 'avenir next', avenir, 'helvetica neue', 'adwaita sans', cantarell, ubuntu, roboto, noto, helvetica, arial, sans-serif","font-size":"0.875rem","font-weight":"600"});function ao(i,e){const t=e?Object.assign({},i,e):i;return Object.keys(t).reduce((n,s)=>`${n}${[s,`${t[s]} !important;`].join(": ")}`,"")}class ds extends e8{constructor(){var e,t,n,s,r;super(),this._observer=null,this._inReassign=!1,this._spanStyles=ao(yD,(e=ds.customStyles)===null||e===void 0?void 0:e.textStyles),this._linkStyles=ao(yD,(t=ds.customStyles)===null||t===void 0?void 0:t.linkStyles),this._containerStyles=ao(IY,(n=ds.customStyles)===null||n===void 0?void 0:n.containerStyles),this._contentStyles=ao(n8,(s=ds.customStyles)===null||s===void 0?void 0:s.contentStyles),this._buttonStyles=ao(TY,(r=ds.customStyles)===null||r===void 0?void 0:r.contentStyles)}_getSubscriptionsArray(e){return(e==null?void 0:e.split(",").map(t=>t.trim()))??[]}updateSubscriptions(e){if(!this._subscriptionsSpan||!e)return;const t=this.getAttribute(Js.subscriptions),n=this._getSubscriptionsArray(t);if(!n.length){this._updateSubscriptionsText(e);return}const s=this._getSubscriptionsArray(e),r=[];s.forEach(o=>{n.some(a=>a===o)&&r.push(o)}),this._updateSubscriptionsText(r.length!==0?r.join(", "):[...n,...s].join(", "))}_updateSubscriptionsText(e){e&&this._subscriptionsSpan&&(this.setAttribute(Js.subscriptions,e),this._subscriptionsSpan.innerText=` Included in Subscriptions: ${e}`)}_createSubscriptionsSpan(){return this._subscriptionsSpan=this._createSpan(""),this._updateSubscriptionsText(this.getAttribute(Js.subscriptions)),this._subscriptionsSpan}_createSpan(e){const t=document.createElement("span");return t.innerText=e,t.style.cssText=this._spanStyles,t}_createLink(e,t){const n=document.createElement("a");return n.innerText=e,n.style.cssText=this._linkStyles,n.href=t,n.target="_blank",n}_createButton(){const e=document.createElement("div");e.style.cssText=this._buttonStyles;const t=document.createElementNS("http://www.w3.org/2000/svg","polygon"),n=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("points","13.4 12.7 8.7 8 13.4 3.4 12.6 2.6 8 7.3 3.4 2.6 2.6 3.4 7.3 8 2.6 12.6 3.4 13.4 8 8.7 12.7 13.4 13.4 12.7"),t.style.cssText=ao({fill:"#fff",opacity:".5","stroke-width":"0px"}),n.setAttribute("id","Layer_1"),n.setAttribute("data-name","Layer 1"),n.setAttribute("version","1.1"),n.setAttribute("viewBox","0 0 16 16"),n.style.cssText=ao({"vertical-align":"baseline"}),n.appendChild(t),e.appendChild(n),e.onclick=()=>{ds.closed=!0,this.style.cssText=ao({display:"none"})},e}_createContentContainer(){const e=document.createElement("div");return e.style.cssText=this._contentStyles,e.append(this._createSpan("For evaluation purposes only. Redistribution prohibited. Please "),this._createLink("register",this.getAttribute(Js.licensingDoc)),this._createSpan(" an existing license or "),this._createLink("purchase a new license",this.getAttribute(Js.buyNow)),this._createSpan(` to continue use of DevExpress product libraries (v${this.getAttribute(Js.version)}).`),this._createSubscriptionsSpan()),e}_reassignComponent(){this.innerHTML="",this.style.cssText=this._containerStyles,this.append(this._createContentContainer(),this._createButton())}connectedCallback(){this._reassignComponent(),this._observer||(this._observer=new MutationObserver(()=>{if(ds.closed){var e;(e=this._observer)===null||e===void 0||e.disconnect();return}this._inReassign?this._inReassign=!1:(this._inReassign=!0,this._reassignComponent())}),this._observer.observe(this,{childList:!0,attributes:!0,subtree:!0}))}disconnectedCallback(){ds.closed||Promise.resolve().then(()=>{if(!document)return;document.getElementsByTagName(Fl.panel).length||document.body.prepend(this)})}}ds.customStyles=void 0;ds.closed=!1;class DY extends e8{connectedCallback(){this.style.cssText=ao({display:"none"});const e=document.getElementsByTagName(Fl.panel);if(!ds.closed)if(e.length){const t=this.getAttribute(Js.subscriptions);e[0].updateSubscriptions(t)}else{const t=document.createElement(Fl.panel);Object.values(Js).forEach(n=>{const s=this.getAttribute(n);s&&t.setAttribute(n,s)}),t.setAttribute("data-permanent",""),document.body.prepend(t)}}}function AY(i){customElements.get(Fl.trigger)||(ds.customStyles=i,customElements.define(Fl.panel,ds),customElements.define(Fl.trigger,DY))}function kY(i,e,t,n,s){AY(s);const r=document.createElement(Fl.trigger);r.setAttribute(Js.buyNow,i),r.setAttribute(Js.licensingDoc,e),r.setAttribute(Js.version,t),r.setAttribute(Js.subscriptions,n),document.body.appendChild(r)}function OY(i,e,t,n,s){JP()&&kY(i,e,t,n,s)}var dr;(function(i){i.corrupted="corrupted",i.verified="verified",i.internal="internal"})(dr||(dr={}));const RY=["customerId","maxVersionAllowed","format","internalUsageId"],PY="https://go.devexpress.com/Licensing_Installer_Watermark_DevExtremeJQuery.aspx",MY="https://go.devexpress.com/Licensing_Documentation_DevExtremeJQuery.aspx",FY="Universal, DXperience, ASP.NETandBlazor, DevExtremeComplete",CD={kind:dr.corrupted,error:"general"},BY={kind:dr.corrupted,error:"verification"},NY={kind:dr.corrupted,error:"decoding"},VY={kind:dr.corrupted,error:"deserialization"},LY={kind:dr.corrupted,error:"payload"},$Y={kind:dr.corrupted,error:"version"};let eC=!1;function HY(i){let{text:e,signature:t}=i;return wY({key:QP,signature:mY(t),actual:CY(EY(e))})}function jY(i){if(i===void 0)return CD;const e=i.split(".");if(e.length!==2||e[0].length===0||e[1].length===0)return CD;if(!HY({text:e[0],signature:e[1]}))return BY;let t="";try{t=atob(e[0])}catch{return NY}let n={};try{n=JSON.parse(t)}catch{return VY}const{customerId:s,maxVersionAllowed:r,format:o,internalUsageId:a}=n,l=Hs(n,RY);return a!==void 0?{kind:dr.internal,internalUsageId:a}:s===void 0||r===void 0||o===void 0?LY:o!==1?$Y:{kind:dr.verified,payload:Object.assign({customerId:s,maxVersionAllowed:r},l)}}function i8(i){return isNaN(i)||i<3}function zY(i){return i.startsWith("LCX")||i.startsWith("LCP")}function WY(i){let{licenseKey:e,version:t}=i,n=!1;try{n=i8(t.patch);const{major:s,minor:r}=n?pY(t):t;if(!e)return{preview:n,error:"W0019"};if(zY(e))return{preview:n,error:"W0024"};const o=jY(e);return o.kind===dr.corrupted?{preview:n,error:"W0021"}:o.kind===dr.internal?{preview:n,internal:!0,error:o.internalUsageId===bY?void 0:"W0020"}:s&&r?10*s+r>o.payload.maxVersionAllowed?{preview:n,error:"W0020"}:{preview:n,error:void 0}:{preview:n,error:"W0021"}}catch{return{preview:n,error:"W0021"}}}function UY(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R2;if(eC)return;eC=!0;const t=ZP(e),n=fY(t),{internal:s,error:r}=WY({licenseKey:i,version:t});if(!n&&s)return;if(r&&!s){const a=Ot().buyNowLink??PY,l=Ot().licensingDocLink??MY;OY(a,l,R2,FY)}const o=i8(t.patch);if(r){Ut.log(o?"W0022":r);return}o&&!s&&Ut.log("W0022")}function wD(){return eC}const KY={validateLicense:UY},G1=function(i){return function(e){const t=M(e||"body"),n=t.filter(".dx-visibility-change-handler").add(t.find(".dx-visibility-change-handler"));for(let s=0;s<n.length;s++)Y.triggerHandler(n[s],i)}},GY=G1("dxshown"),qY=G1("dxhiding"),YY=G1("dxresize"),q1={triggerHidingEvent:qY,triggerResizeEvent:YY,triggerShownEvent:GY},Y1=q1.triggerShownEvent,XY=q1.triggerHidingEvent,Xs=q1.triggerResizeEvent,ZY=Bt({syncStrategy:!0});class cd{render(e){e=e||{};const{onRendered:t}=e;delete e.onRendered;let n;return e.renovated&&e.transclude&&this._element?n=M("<div>").append(this._element).contents():n=this._renderCore(e),this._ensureResultInContainer(n,e.container),ZY.fire(n,e.container),t&&t(),n}_ensureResultInContainer(e,t){if(!t)return;const n=M(t),s=za(n.get(0),e.get(0));n.append(e),!(s||!za(ve.getBody(),n.get(0)))&&Y1(e)}_renderCore(){throw Ut.Error("E0001")}}class Bl extends cd{_renderCore(){return M()}}class Bc extends cd{constructor(e){super(),this._render=e}_renderCore(e){return $0(this._render(e))}}class X1 extends cd{constructor(e){super(),this.name=e}}kj("default",{compile:i=>$0(i),render:(i,e,t)=>i.clone()});Oj("default");class QY extends cd{constructor(e){super(),this._element=e}_renderCore(e){const{transclude:t}=e;return!t&&!this._compiledTemplate&&(this._compiledTemplate=M2().compile(this._element)),M("<div>").append(t?this._element:M2().render(this._compiledTemplate,e.model,e.index)).contents()}source(){return M(this._element).clone()}}function JY(i){return i.reduce((e,t)=>{const n=(e.get(t)??0)+1;return e.set(t,n),e},new Map)}const eX=function(i){return Array.isArray(i)?i:[i]},tX=function(i){return[...new Set(i)]},SD=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const t=JY(e);return i.filter(n=>{const s=t.get(n);return s&&t.set(n,s-1),!s})},Uh=function(i,e,t,n){const s={},{useLegacyVisibleIndex:r}=Ot();let o=0;const a=l=>!G(l[e])&&(!n||n(l));i.forEach(l=>{const d=l[e];d>=0?(s[d]=s[d]||[],l===t?s[d].unshift(l):s[d].push(l)):l[e]=void 0}),r||i.forEach(l=>{if(a(l)){for(;s[o];)o++;s[o]=[l],o++}}),o=0,cy(s,function(l,d){d.forEach(c=>{l>=0&&(c[e]=o++)})}),r&&i.forEach(l=>{a(l)&&(l[e]=o++)})},nX=(i,e)=>i.reduce((t,n)=>{const s=e(n);return t[s]=t[s]??[],t[s].push(n),t},{}),s8=(i,e)=>{const t=M(i).contents().filter(`[data-options*="${e}"]`);return[].slice.call(t).map(n=>{const s=M(n).attr("data-options")||"";return{element:n,options:Ot().optionsParser(s)[e]}}).filter(n=>!!n.options)},iX=i=>{const e=nX(i,n=>n.options.name);if(e.undefined)throw Ut.Error("E0023");const t={};return Object.keys(e).forEach(n=>{var s;const r=(s=r1(Oe.current(),e[n],o=>o.options)[0])===null||s===void 0?void 0:s.element;r&&(t[n]=r)}),t},r8=i=>{const e=i.render.bind(i);return se({},i,{render(t){const n=e(t);return t&&t.onRendered&&t.onRendered(),n}})},sX=i=>{const e=i.render.bind(i);return se({},i,{render(t){const n=M(t.container);return e(Object.assign({},t,{container:We(n)}))}})},rX=i=>{const e=[];return"model"in i&&e.push(i.model),"index"in i&&e.push(i.index),e.push(i.container),e},oX=i=>typeof i=="string"?Sr.normalizeTemplateElement(i):i,ED=i=>th.isRenderer(i)&&i[0]||i,aX=i=>new QY(i),lX=(i,e,t,n)=>{let s=null;return(!n||n.indexOf(i)===-1)&&(s=e[i],s&&!(s instanceof cd)&&(th.isFunction(s.render)&&(s=sX(s)),t||(s=r8(s)))),s},ID=(i,e,t,n,s,r)=>i==null?new Bl:i instanceof X1?r[i.name]:i instanceof cd?i:th.isFunction(i.render)&&!th.isRenderer(i)?n?i:r8(i):i.nodeType||th.isRenderer(i)?e(M(i)):lX(i,t,n,s)||r[i]||e(i),dX=new Bc(i=>{let{model:e,parent:t}=i;const n=e.widget;if(!n)return M();const s=M("<div>"),r=e.options||{};return t?t._createComponent(s,n,r):s[n](r),s});let cX=class{constructor(e,t){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=t||"template",this._createElement=e||aX,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(e,t){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}).skipImmediate||t(e()),Te},templates:{"dx-polymorph-widget":dX},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(e){this._defaultTemplates=se({},this._defaultTemplates,e)}dispose(){this._tempTemplates.forEach(e=>{e.template.dispose&&e.template.dispose()}),this._tempTemplates=[]}extractTemplates(e){const t=this._extractTemplates(e),n=this._extractAnonymousTemplate(e);return{templates:t,anonymousTemplateMeta:n}}_extractTemplates(e){const t=s8(e,"dxTemplate"),n=iX(t);return t.forEach(s=>{let{element:r,options:{name:o}}=s;r===n[o]?M(r).addClass("dx-template-wrapper").detach():M(r).remove()}),Object.keys(n).map(s=>({name:s,template:this._createTemplate(n[s])}))}_extractAnonymousTemplate(e){const t=e.contents().detach();return t.filter((s,r)=>{const o=r.nodeType===3,a=M(r).text().trim().length<1;return!(o&&a)}).length>0?{template:this._createTemplate(t),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(e){const t=this._tempTemplates.filter(s=>s.source===ED(e))[0];if(t)return t.template;const n=this._createTemplate(e);return this._tempTemplates.push({template:n,source:ED(e)}),n}_createTemplate(e){return this._createElement(oX(e))}getTemplate(e,t,n,s){let{isAsyncTemplate:r,skipTemplates:o}=n;return Ie(e)?new Bc(a=>{const l=e.apply(s,rX(a));if(!G(l))return new Bl;let d=!1;const c=ID(l,u=>u.nodeType||Dr(u)&&!M(u).is("script")?new Bc(()=>u):(d=!0,this._createTemplate(u)),t,r,o,this._defaultTemplates),h=c.render(a);return d&&c.dispose&&c.dispose(),h}):ID(e,this._createTemplateIfNeeded,t,r,o,this._defaultTemplates)}};const TD={TemplateManager:cX};class Ar extends Q5{static getInstance(e){return Z5(M(e),this)}static defaultOptions(e){this._classCustomRules=Object.hasOwnProperty.bind(this)("_classCustomRules")&&this._classCustomRules?this._classCustomRules:[],this._classCustomRules.push(e)}_getDefaultOptions(){return se(super._getDefaultOptions(),{width:void 0,height:void 0,rtlEnabled:Ot().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?TD.TemplateManager.createDefaultOptions():{})}ctor(e,t){this._customClass=null,this._createElement(e),X5(this._$element,this,this._dispose),super.ctor(t);const n=wD();KY.validateLicense(Ot().licenseKey),!n&&wD()&&Ot({licenseKey:""}),k0.resolve()}_createElement(e){this._$element=M(e)}_getSynchronizableOptionsForCreateComponent(){return["rtlEnabled","disabled","templatesRenderAsynchronously"]}_checkFunctionValueDeprecation(e){this.option("_ignoreFunctionValueDeprecation")||e.forEach(t=>{Ie(this.option(t))&&Ut.log("W0017",t)})}_visibilityChanged(e){}_dimensionChanged(){}_init(){super._init(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()}_setOptionsByDevice(e){const t=this.constructor,n=Object.prototype.hasOwnProperty.call(t,"_classCustomRules"),s=Object.prototype.hasOwnProperty.call(t,"defaultOptions"),r=n||s?t._classCustomRules:[];super._setOptionsByDevice([].concat(r||[],e||[]))}_isInitialOptionValue(e){return!(this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),e))&&super._isInitialOptionValue(e)}_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){const e=this._windowResizeCallBack=this._dimensionChanged.bind(this);Yl.add(e)}}_isDimensionChangeSupported(){return this._dimensionChanged!==Ar.prototype._dimensionChanged}_renderComponent(){Gj(this.$element()),this._initMarkup(),st()&&this._render()}_initMarkup(){const{rtlEnabled:e}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(e),this._renderVisibilityChange(),this._renderDimensions()}_render(){this._attachVisibilityChangeHandlers()}_renderElementAttributes(){const{elementAttr:e}=this.option()||{},t=se({},e),n=t.class;delete t.class,this.$element().attr(t).removeClass(this._customClass).addClass(n),this._customClass=n}_renderVisibilityChange(){this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()&&this.$element().addClass("dx-visibility-change-handler")}_renderDimensions(){const e=this.$element(),t=e.get(0),n=this._getOptionValue("width",t),s=this._getOptionValue("height",t);this._isCssUpdateRequired(t,s,n)&&e.css({width:n===null?"":n,height:s===null?"":s})}_isCssUpdateRequired(e,t,n){return!!(G(n)||G(t)||e.style.width||e.style.height)}_attachDimensionChangeHandlers(){const e=this.$element(),t=`${this.NAME}VisibilityChange`;Ag.off(e,{namespace:t}),Ag.on(e,()=>this._dimensionChanged(),{namespace:t})}_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){const e=this.$element(),t=`${this.NAME}VisibilityChange`;this._isHidden=!this._isVisible(),kg.off(e,{namespace:t}),kg.on(e,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:t})}}_isVisible(){return this.$element().is(":visible")}_checkVisibilityChanged(e){this._isVisible()&&(e==="hiding"&&!this._isHidden?(this._visibilityChanged(!1),this._isHidden=!0):e==="shown"&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)))}_isVisibilityChangeSupported(){return this._visibilityChanged!==Ar.prototype._visibilityChanged&&st()}_clean(){}_modelByElement(e){const{modelByElement:t}=this.option();return t?t(this.$element()):void 0}_invalidate(){if(this._isUpdateAllowed())throw Ut.Error("E0007");this._requireRefresh=!0}_refresh(){this._clean(),this._renderComponent()}_dispose(){var e;(e=this._templateManager)===null||e===void 0||e.dispose(),super._dispose(),this._clean(),this._detachWindowResizeCallback()}_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&Yl.remove(this._windowResizeCallBack)}_toggleRTLDirection(e){this.$element().toggleClass("dx-rtl",e)}_createComponent(e,t,n){const s=n??{},r=this._getSynchronizableOptionsForCreateComponent().filter(c=>!(c in s)),{integrationOptions:o}=this.option();let{nestedComponentOptions:a}=this.option();a=a??Te;const l=se({integrationOptions:o},a(this));r.forEach(c=>{const{[c]:h}=this.option();l[c]=h}),this._extendConfig(s,l);let d;if(Ke(t)?d=M(e)[t](s)[t]("instance"):e&&(d=t.getInstance(e),d?d.option(s):d=new t(e,s)),d){const c=h=>{let{name:u,value:p}=h;r.includes(u)&&d.option(u,p)};this.on("optionChanged",c),d.on("disposing",()=>this.off("optionChanged",c))}return d}_extendConfig(e,t){ie(t,(n,s)=>{e[n]??(e[n]=s)})}_defaultActionConfig(){const e=this.$element(),t=this._modelByElement(e),n=super._defaultActionConfig();return t&&(n.context=t),n}_defaultActionArgs(){const e=super._defaultActionArgs(),t=this.$element(),n=this._modelByElement(t),s=this.element();return s&&(e.element=s),n&&(e.model=n),e}_optionChanged(e){const{name:t}=e;switch(t){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:super._optionChanged(e)}}_removeAttributes(e){const t=e.attributes;for(let n=t.length-1;n>=0;n-=1){const s=t[n];if(s){const{name:r}=s;(!r.indexOf("aria-")||r.indexOf("dx-")!==-1||r==="role"||r==="style"||r==="tabindex")&&e.removeAttribute(r)}}}_removeClasses(e){e.className=e.className.split(" ").filter(t=>t.lastIndexOf("dx-",0)!==0).join(" ")}_updateDOMComponent(e){e?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())}endUpdate(){const e=this._isInitializingRequired();super.endUpdate(),this._isUpdateAllowed()&&this._updateDOMComponent(e)}$element(){return this._$element}element(){const e=this.$element();return We(e)}dispose(){const e=this.$element().get(0);_p(e,!0),e.textContent="",this._removeAttributes(e),this._removeClasses(e)}resetOption(e){if(super.resetOption(e),e==="width"||e==="height"){const t=this.initialOption(e);!G(t)&&this.$element().css(e,"")}}_getAnonymousTemplateName(){}_initTemplateManager(){if(this._templateManager||!this._useTemplates())return;const{integrationOptions:e={}}=this.option(),{createTemplate:t}=e;this._templateManager=new TD.TemplateManager(t,this._getAnonymousTemplateName()),this._initTemplates()}_initTemplates(){const{templates:e,anonymousTemplateMeta:t}=this._templateManager.extractTemplates(this.$element()),n=this.option(`integrationOptions.templates.${t.name}`);e.forEach(s=>{let{name:r,template:o}=s;this._options.silent(`integrationOptions.templates.${r}`,o)}),t.name&&!n&&(this._options.silent(`integrationOptions.templates.${t.name}`,t.template),this._options.silent("_hasAnonymousTemplateContent",!0))}_getTemplateByOption(e){return this._getTemplate(this.option(e))}_getTemplate(e){const t=this.option("integrationOptions.templates"),n=this.option("templatesRenderAsynchronously"),s=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(e,t,{isAsyncTemplate:n,skipTemplates:s},this)}_saveTemplate(e,t){this._setOptionWithoutOptionChange(`integrationOptions.templates.${e}`,this._templateManager._createTemplate(t))}_useTemplates(){return!0}}const uX="dx-state-focused";function DD(i,e,t){const n=i==="role"||i==="id"?i:`aria-${i}`,s=G(e)?e.toString():null;t.attr(n,s)}let Oi=class extends Ar{static getOptionsFromContainer(e){let{name:t,fullName:n,value:s}=e,r={};if(t===n)r=s;else{const o=n.split(".").pop();r[o]=s}return r}_activeStateUnit(){return""}_feedbackHideTimeout(){return 400}_feedbackShowTimeout(){return 30}_supportedKeys(e){return{}}_getDefaultOptions(){return se(super._getDefaultOptions(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})}_defaultOptionsRules(){return[...super._defaultOptionsRules(),{device(){const t=Oe.real(),{platform:n}=t,{version:s}=t;return n==="ios"&&lY(s,"13.3")<=0},options:{useResizeObserver:!1}}]}_init(){super._init(),this._initContentReadyAction()}_innerWidgetOptionChanged(e,t){const{fullName:n,value:s}=t;if(n.indexOf(".")>-1){const r=n.split(".").slice(1).join(".");e==null||e.option(r,s)}else e==null||e.option(s);this._options.cache(n,s)}_bindInnerWidgetOptions(e,t){const n=()=>this._options.silent(t,se({},e.option()));n(),e.on("optionChanged",n)}_getAriaTarget(){return this._focusTarget()}_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})}_initMarkup(){const{disabled:e,visible:t}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(e),this._toggleVisibility(t),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),super._initMarkup()}_render(){super._render(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()}_renderHint(){const{hint:e}=this.option();this.$element().attr("title",e||null)}_renderContent(){qn(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())}_renderContentImpl(){}_fireContentReadyAction(){return qn(()=>{var e;return(e=this._contentReadyAction)===null||e===void 0?void 0:e.call(this)})}_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),super._dispose()}_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)}_clean(){this._cleanFocusState(),this._resetActiveState(),super._clean(),this.$element().empty()}_toggleVisibility(e){this.$element().toggleClass("dx-state-invisible",!e)}_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())}_renderAccessKey(){const e=this._focusTarget(),{accessKey:t}=this.option();e.attr("accesskey",t)}_isFocusable(){const{focusStateEnabled:e,disabled:t}=this.option();return e&&!t}_eventBindingTarget(){return this.$element()}_focusTarget(){return this._getActiveElement()}_isFocusTarget(e){return M(this._focusTarget()).toArray().includes(e)}_findActiveTarget(e){return e.find(this._activeStateUnit()).not(".dx-state-disabled")}_getActiveElement(){const e=this._eventBindingTarget();return this._activeStateUnit()?this._findActiveTarget(e):e}_renderFocusTarget(){const{tabIndex:e}=this.option();this._focusTarget().attr("tabIndex",e)}_keyboardEventBindingTarget(){return this._eventBindingTarget()}_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()}_focusEventTarget(){return this._focusTarget()}_focusInHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(e,!0),excludeValidators:["readOnly"]})({event:e})}_focusOutHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(e,!1),excludeValidators:["readOnly","disabled"]})({event:e})}_updateFocusState(e,t){let{target:n}=e;this._isFocusTarget(n)&&this._toggleFocusClass(t,M(n))}_toggleFocusClass(e,t){const n=t!=null&&t.length?t:this._focusTarget();n==null||n.toggleClass("dx-state-focused",e)}_hasFocusClass(e){return M(e??this._focusTarget()).hasClass("dx-state-focused")}_isFocused(){return this._hasFocusClass()}_getKeyboardListeners(){return[]}_attachKeyboardEvents(){this._detachKeyboardEvents();const{focusStateEnabled:e,onKeyboardHandled:t}=this.option(),n=this._getKeyboardListeners().length;(e||n||!!t)&&(this._keyboardListenerId=Pa.on(this._keyboardEventBindingTarget(),this._focusTarget(),o=>this._keyboardHandler(o)))}_keyboardHandler(e,t){if(!t){const{originalEvent:r,keyName:o,which:a}=e,l=this._supportedKeys(r),d=l[o]||l[a];if(d!==void 0&&!d.bind(this)(r,e))return!1}const n=this._getKeyboardListeners(),{onKeyboardHandled:s}=this.option();return n.forEach(r=>r==null?void 0:r._keyboardHandler(e)),s&&s(e),!0}_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()}_cleanFocusState(){const e=this._focusTarget();e==null||e.removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()}_detachKeyboardEvents(){Pa.off(this._keyboardListenerId),this._keyboardListenerId=null}_attachHoverEvents(){const{hoverStateEnabled:e}=this.option(),t=this._activeStateUnit(),n=this._eventBindingTarget();gD.off(n,{selector:t,namespace:"UIFeedback"}),e&&gD.on(n,new Yi(s=>{let{event:r,element:o}=s;this._hoverStartHandler(r),this.option("hoveredElement",M(o))},{excludeValidators:["readOnly"]}),s=>{this.option("hoveredElement",null),this._hoverEndHandler(s)},{selector:t,namespace:"UIFeedback"})}_attachFeedbackEvents(){const{activeStateEnabled:e}=this.option(),t=this._activeStateUnit(),n=this._eventBindingTarget();mD.off(n,{namespace:"UIFeedback",selector:t}),e&&mD.on(n,new Yi(s=>{let{event:r,element:o}=s;return this._toggleActiveState(M(o),!0,r)}),new Yi(s=>{let{event:r,element:o}=s;return this._toggleActiveState(M(o),!1,r)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout(),hideTimeout:this._feedbackHideTimeout(),selector:t,namespace:"UIFeedback"})}_detachFocusEvents(){const e=this._focusEventTarget();Sm.off(e,{namespace:`${this.NAME}Focus`})}_attachFocusEvents(){const e=this._focusEventTarget();Sm.on(e,t=>this._focusInHandler(t),t=>this._focusOutHandler(t),{namespace:`${this.NAME}Focus`,isFocusable:(t,n)=>M(n).is(Sy)})}_hoverStartHandler(e){}_hoverEndHandler(e){}_toggleActiveState(e,t,n){this.option("isActive",t),e.toggleClass("dx-state-active",t)}_updatedHover(){const e=this._options.silent("hoveredElement");this._hover(e,e)}_findHoverTarget(e){return e==null?void 0:e.closest(this._activeStateUnit()||this._eventBindingTarget())}_hover(e,t){var n;const{hoverStateEnabled:s,disabled:r,isActive:o}=this.option();if(t=this._findHoverTarget(t),(n=t)===null||n===void 0||n.toggleClass("dx-state-hover",!1),e&&s&&!r&&!o){const a=this._findHoverTarget(e);a==null||a.toggleClass("dx-state-hover",!0)}}_toggleDisabledState(e){this.$element().toggleClass("dx-state-disabled",!!e),this.setAria("disabled",e||void 0)}_toggleIndependentState(){const{ignoreParentReadOnly:e}=this.option();this.$element().toggleClass("dx-state-independent",e)}_setWidgetOption(e,t){if(!this[e])return;if(ot(t[0])){ie(t[0],(o,a)=>this._setWidgetOption(e,[o,a]));return}const n=t[0];let s=t[1];t.length===1&&(s=this.option(n));const r=this[`${e}OptionMap`];this[e].option(r?r(n):n,s)}_optionChanged(e){const{name:t,value:n,previousValue:s}=e;switch(t){case"disabled":this._toggleDisabledState(n),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(n,s);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(n),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(n?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:super._optionChanged(e)}}_isVisible(){const{visible:e}=this.option();return super._isVisible()&&e}beginUpdate(){this._ready(!1),super.beginUpdate()}endUpdate(){super.endUpdate(),this._initialized&&this._ready(!0)}_ready(e){return arguments.length===0?!!this._isReady:(this._isReady=!!e,this._isReady)}setAria(){if(!ot(arguments.length<=0?void 0:arguments[0]))DD(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget());else{const e=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();ie(arguments.length<=0?void 0:arguments[0],(t,n)=>DD(t,n,e))}}isReady(){return this._ready()}repaint(){this._refresh()}focus(){Sm.trigger(this._focusTarget())}registerKeyHandler(e,t){const n=this._supportedKeys();this._supportedKeys=()=>Object.assign({},n,{[e]:t})}};const hX="dx-loadindicator-content";var Ma;(function(i){i.Circle="circle",i.Sparkle="sparkle"})(Ma||(Ma={}));const pX={[Ma.Circle]:"dx-loadindicator-content-circle",[Ma.Sparkle]:"dx-loadindicator-content-sparkle"};class Rs extends Oi{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{_animatingSegmentCount:1,_animatingSegmentInner:!1,animationType:Ma.Circle,activeStateEnabled:!1,hoverStateEnabled:!1,indicatorSrc:""})}_defaultOptionsRules(){const e=Yt();return super._defaultOptionsRules().concat([{device:()=>Ns(e),options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:()=>qP(e),options:{_animatingSegmentCount:7}}])}_useTemplates(){return!1}_init(){super._init(),this.$element().addClass("dx-loadindicator");const t={role:"alert",label:ue.format("Loading")};this.setAria(t)}_initMarkup(){super._initMarkup(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()}_renderWrapper(){this._$wrapper=M("<div>").addClass("dx-loadindicator-wrapper"),this.$element().append(this._$wrapper)}_getAnimationTypeContentClass(){const{animationType:e}=this.option();return e&&pX[e]}_renderIndicatorContent(){const e=this._getAnimationTypeContentClass()??"",t=[hX,e].join(" ");this._$content=M("<div>").addClass(t),this._$wrapper.append(this._$content)}_renderMarkup(){const{indicatorSrc:e}=this.option(),t=es.animation();e?this._renderImageMarkup():t&&this._renderAnimationMarkup()}_getSegmentParams(){const{animationType:e,_animatingSegmentCount:t,_animatingSegmentInner:n}=this.option();switch(e){case Ma.Sparkle:return{segmentCount:2,segmentInner:!1};case Ma.Circle:default:return{segmentCount:t??0,segmentInner:!!n}}}_renderAnimationMarkup(){this._$indicator=M("<div>").addClass("dx-loadindicator-icon"),this._$content.append(this._$indicator);const e=this._getSegmentParams();this._renderSegments(e)}_renderSegments(e){const{segmentCount:t,segmentInner:n}=e;for(let r=t;r>=0;r-=1){var s;const o=M("<div>").addClass("dx-loadindicator-segment").addClass(`dx-loadindicator-segment${r}`);if(n){const a=M("<div>").addClass("dx-loadindicator-segment-inner");o.append(a)}(s=this._$indicator)===null||s===void 0||s.append(o)}}_renderImageMarkup(){const{indicatorSrc:e}=this.option();this._$wrapper.addClass("dx-loadindicator-image"),this._$wrapper.css("backgroundImage",`url(${e})`)}_renderDimensions(){super._renderDimensions(),this._updateContentSizeForAnimation()}_updateContentSizeForAnimation(){if(!this._$indicator)return;const{width:e,height:t}=this.option();if(e||t){const n=Xe(this.$element()),s=ht(this.$element()),r=Math.min(s,n);this._$wrapper.css({height:r,width:r,fontSize:r})}}_clean(){super._clean(),this._removeMarkupForAnimation(),this._removeMarkupForImage()}_removeMarkupForAnimation(){this._$indicator&&(this._$indicator.remove(),this._$indicator=void 0)}_removeMarkupForImage(){this._$wrapper.css("backgroundImage","none")}_optionChanged(e){switch(e.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"animationType":case"indicatorSrc":this._invalidate();break;default:super._optionChanged(e)}}}St("dxLoadIndicator",Rs);const fX=Or.add,{abs:AD}=Math;let Og=10;const mX=function(){return ad("pointer-events")},gX=jo(()=>{const i=Oe.real().deviceType==="desktop";if(!mX()||!i)return Te;const e=M("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return Y.subscribeGlobal(e,"dxmousewheel",t=>{t.preventDefault()}),fX(()=>{e.appendTo("body")}),function(t,n){e.css("pointerEvents",t?"all":"none"),t&&e.css("cursor",n)}}),_X=function(i,e){gX()(i,e)},Mp=V0.inherit({gesture:!0,configure(i){this.getElement().css("msTouchAction",i.immediate?"pinch-zoom":""),this.callBase(i)},allowInterruptionByMouseWheel(){return this._stage!==2},getDirection(){return this.direction},_cancel(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=0},start(i){if(i._needSkipEvent||e5(i)){this._cancel(i);return}this._startEvent=xa(i),this._startEventData=On(i),this._stage=1,this._init(i),this._setupImmediateTimer()},_setupImmediateTimer(){if(clearTimeout(this._immediateTimer),this._immediateAccepted=!1,!!this.immediate){if(this.immediateTimeout===0){this._immediateAccepted=!0;return}this._immediateTimer=setTimeout(()=>{this._immediateAccepted=!0},this.immediateTimeout??180)}},move(i){if(this._stage===1&&this._directionConfirmed(i)){if(this._stage=2,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(i),this._adjustStartEvent(i),this._start(this._startEvent),this._stage===0)return;this._requestAccept(i),this._move(i),this._forgetAccept()}else this._stage===2&&(this._clearSelection(i),this._move(i))},_directionConfirmed(i){const e=this._getTouchBoundary(i),t=El(this._startEventData,On(i)),n=AD(t.x),s=AD(t.y),r=this._validateMove(e,n,s),o=this._validateMove(e,s,n),a=this.getDirection(i);return a==="both"&&(r||o)||a==="horizontal"&&r||a==="vertical"&&o||this._immediateAccepted},_validateMove(i,e,t){return e&&e>=i&&(this.immediate?e>=t:!0)},_getTouchBoundary(i){return this.immediate||Li(i)?0:Og},_adjustStartEvent(i){const e=this._getTouchBoundary(i),t=El(this._startEventData,On(i));this._startEvent.pageX+=Xl(t.x)*e,this._startEvent.pageY+=Xl(t.y)*e},_resetActiveElement(){Oe.real().platform==="ios"&&this.getElement().find(":focus").length&&Sr.resetActiveElement()},_toggleGestureCover(i){this._toggleGestureCoverImpl(i)},_toggleGestureCoverImpl(i){this._stage===2&&_X(i,this.getElement().css("cursor"))},_clearSelection(i){Li(i)||xp(i)||Sr.clearSelection()},end(i){this._toggleGestureCover(!1),this._stage===2?this._end(i):this._stage===1&&this._stop(i),this._stage=0},dispose(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:Te,_start:Te,_move:Te,_stop:Te,_end:Te});Mp.initialTouchBoundary=Og;Mp.touchBoundary=function(i){if(G(i)){Og=i;return}return Og};const Kh="dxdragstart",Nc="dxdrag",Gh="dxdragend",U0="dxdragenter",K0="dxdragleave",Z1="dxdrop",fo=[],tc=[],tC=[],Q1={setup(i,e){fo.includes(i)||(fo.push(i),tc.push([]),tC.push(e||{}))},add(i,e){const t=fo.indexOf(i);this.updateEventsCounter(i,e.type,1);const{selector:n}=e;tc[t].includes(n)||tc[t].push(n)},updateEventsCounter(i,e,t){if([U0,K0,Z1].includes(e)){const n=kn(i,"dxDragEventsCount")||0;kn(i,"dxDragEventsCount",Math.max(0,n+t))}},remove(i,e){this.updateEventsCounter(i,e.type,-1)},teardown(i){if(!kn(i,"dxDragEventsCount")){const t=fo.indexOf(i);fo.splice(t,1),tc.splice(t,1),tC.splice(t,1),P0(i,"dxDragEventsCount")}}};ur(U0,Q1);ur(K0,Q1);ur(Z1,Q1);const vX=function(i){const e=fo.indexOf(i.get(0)),t=tc[e].filter(s=>s);let n=i.find(t.join(", "));return tc[e].includes(void 0)&&(n=n.add(i)),n},xX=function(i){const e=fo.indexOf(i.get(0));return tC[e]},bX=function(i,e){return i.itemPositionFunc?i.itemPositionFunc(e):e.offset()},yX=function(i,e){return i.itemSizeFunc?i.itemSizeFunc(e):{width:e.get(0).getBoundingClientRect().width,height:e.get(0).getBoundingClientRect().height}},CX=Mp.inherit({ctor(i){this.callBase(i),this.direction="both"},_init(i){this._initEvent=i},_start(i){if(i=this._fireEvent("dxdragstart",this._initEvent),this._maxLeftOffset=i.maxLeftOffset,this._maxRightOffset=i.maxRightOffset,this._maxTopOffset=i.maxTopOffset,this._maxBottomOffset=i.maxBottomOffset,i.targetElements||i.targetElements===null){const e=eX(i.targetElements||[]);this._dropTargets=Mn(e,t=>M(t).get(0))}else this._dropTargets=fo},_move(i){const e=On(i),t=this._calculateOffset(e);i=this._fireEvent("dxdrag",i,{offset:t}),this._processDropTargets(i),i._cancelPreventDefault||i.preventDefault()},_calculateOffset(i){return{x:this._calculateXOffset(i),y:this._calculateYOffset(i)}},_calculateXOffset(i){if(this.direction!=="vertical"){const e=i.x-this._startEventData.x;return this._fitOffset(e,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset(i){if(this.direction!=="horizontal"){const e=i.y-this._startEventData.y;return this._fitOffset(e,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset(i,e,t){return e!=null&&(i=Math.max(i,-e)),t!=null&&(i=Math.min(i,t)),i},_processDropTargets(i){const e=this._findDropTarget(i);e===this._currentDropTarget||(this._fireDropTargetEvent(i,K0),this._currentDropTarget=e,this._fireDropTargetEvent(i,U0))},_fireDropTargetEvent(i,e){if(!this._currentDropTarget)return;const t={type:e,originalEvent:i,draggingElement:this._$element.get(0),target:this._currentDropTarget};el(t)},_findDropTarget(i){const e=this;let t;return ie(fo,(n,s)=>{if(!e._checkDropTargetActive(s))return;const r=M(s);ie(vX(r),(o,a)=>{const l=M(a);e._checkDropTarget(xX(r),l,M(t),i)&&(t=a)})}),t},_checkDropTargetActive(i){let e=!1;return ie(this._dropTargets,(t,n)=>(e=e||n===i||za(n,i),!e)),e},_checkDropTarget(i,e,t,n){if(e.get(0)===M(n.target).get(0))return!1;const r=bX(i,e);if(n.pageX<r.left||n.pageY<r.top)return!1;const o=yX(i,e);return n.pageX>r.left+o.width||n.pageY>r.top+o.height||t.length&&t.closest(e).length||i.checkDropTarget&&!i.checkDropTarget(e,n)?!1:e},_end(i){const e=On(i);this._fireEvent("dxdragend",i,{offset:this._calculateOffset(e)}),this._fireDropTargetEvent(i,Z1),delete this._currentDropTarget}});Xc({emitter:CX,events:["dxdragstart","dxdrag","dxdragend"]});const wX=i=>{const t=M(i).closest('[class^="dx-swatch-"], [class*=" dx-swatch-"]'),n=ja();if(!t.length)return n;const s=new RegExp("(\\s|^)(dx-swatch-.*?)(\\s|$)"),r=t[0].className.match(s)[2];let o=n.children(`.${r}`);return o.length||(o=M("<div>").addClass(r).appendTo(n)),o},o8={getSwatchContainer:wX},SX=Di.getWindow(),a8={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},kD={h:0,v:0},EX=i=>Ke(i);class l8{constructor(e){const{properties:t,elements:n}=e,{container:s,position:r,visualContainer:o}=t,{$root:a,$content:l,$wrapper:d}=n;this._properties=t,this._$root=a,this._$content=l,this._$wrapper=d,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(s),this.updatePosition(r),this.updateVisualContainer(o)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(e){this._properties._fixWrapperPosition=e,this.styleWrapperPosition()}set restorePosition(e){this._properties.restorePosition=e}updatePosition(e){this._properties.position=e,this._position=this._normalizePosition(e),this.updateVisualContainer()}updateContainer(e){const t=e??this._properties.container;G(e)&&(this._properties.container=t),t?this._$markupContainer=M(t):this._$root&&(this._$markupContainer=o8.getSwatchContainer(this._$root)),this.updateVisualContainer(this._properties.visualContainer)}updateVisualContainer(e){G(e)&&(this._properties.visualContainer=e),this._$visualContainer=this._getVisualContainer()}restorePositionOnNextRender(e){this._shouldRenderContentInitialPosition=e||!this._visualPosition}openingHandled(){const e=!!this._properties.restorePosition;this.restorePositionOnNextRender(e)}detectVisualPositionChange(e){this._updateVisualPositionValue(),this._raisePositionedEvents(e)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(this._$content&&ui(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&lr.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){var e,t;const r=jn((e=this.$visualContainer)===null||e===void 0?void 0:e.get(0))||this._properties._fixWrapperPosition?"fixed":"absolute";(t=this._$wrapper)===null||t===void 0||t.css("position",r)}clean(){this._$root=void 0,this._$content=void 0,this._$wrapper=void 0,this._$markupContainer=void 0,this._$visualContainer=void 0}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._$content&&(this._visualPosition=tr(this._$content))}_renderContentInitialPosition(){var e,t,n;this._renderBoundaryOffset(),this._$content&&yp(this._$content);const s=((e=this._$wrapper)===null||e===void 0?void 0:e.css("overflow"))??"";if((t=this._$wrapper)===null||t===void 0||t.css("overflow","hidden"),!this._properties._skipContentPositioning){const r=lr.setup(this._$content,this._position);this._initialPosition=r}(n=this._$wrapper)===null||n===void 0||n.css("overflow",s),this.detectVisualPositionChange()}_raisePositionedEvents(e){var t,n;const s=this._previousVisualPosition,r=this._visualPosition,o=(s==null?void 0:s.top)===(r==null?void 0:r.top),a=(s==null?void 0:s.left)===(r==null?void 0:r.left);if(!(o&&a)){var d,c;(d=(c=this._properties).onVisualPositionChanged)===null||d===void 0||d.call(c,{event:e,previousPosition:s,position:r})}(t=(n=this._properties).onPositioned)===null||t===void 0||t.call(n,{position:this._initialPosition})}_renderBoundaryOffset(){var e,t;const n=((e=this._position)===null||e===void 0?void 0:e.boundaryOffset)??kD,{v:s,h:r}=n;s&&r&&((t=this._$content)===null||t===void 0||t.css("margin",`${n.v}px ${n.h}px`))}_getVisualContainer(){var e,t,n;const s=this._properties.container,r=this._properties.visualContainer,o=p6((e=this._properties.position)===null||e===void 0?void 0:e.of)?(t=this._properties.position)===null||t===void 0||(t=t.of)===null||t===void 0?void 0:t.target:(n=this._properties.position)===null||n===void 0?void 0:n.of;return M(r||s||o||SX)}_normalizePosition(e){const t={boundaryOffset:kD};if(G(e)){const n=this._positionToObject(e);return se(!0,{},t,n)}return t}_positionToObject(e){return EX(e)?Object.assign({},a8[e]):e}}let Em=1500,Fa=[];const IX=i=>(Em=wn(i,Em),Em),nC=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Em;const{length:e}=Fa,t=(e?Fa[e-1]:i)+1;return Fa.push(t),t},iC=i=>{const e=Fa.indexOf(i);e>=0&&Fa.splice(e,1)},TX=i=>Fa.length?Fa[Fa.length-1]===i:!1,DX=Or.add,Ed=Di.getWindow(),OD=M0,sC=[];DX(()=>{Y.subscribeGlobal(ve.getDocument(),mt.down,i=>{for(let n=sC.length-1;n>=0;n-=1){var e,t;if(!((e=(t=sC[n])._proxiedDocumentDownHandler)!==null&&e!==void 0&&e.call(t,i)))return}})});class Ps extends Oi{_supportedKeys(){return Object.assign({},super._supportedKeys(),{escape(){this.hide()}})}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:Object.assign({},a8.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,from:{opacity:1,scale:1},to:{opacity:0,scale:.55}}},hideOnOutsideClick:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,hideOnParentScroll:!1,preventScrollEvents:!0,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixWrapperPosition:!1,_loopFocus:!1,_ignorePreventScrollEventsDeprecation:!1,hideTopOverlayHandler:()=>{this.hide()}})}_defaultOptionsRules(){return[...super._defaultOptionsRules(),{device:()=>!Di.hasWindow(),options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}]}_setOptionsByReference(){super._setOptionsByReference(),this._optionsByReference=Object.assign({},this._optionsByReference,{animation:!0})}$wrapper(){return this._$wrapper}_eventBindingTarget(){return this._$content}ctor(e,t){super.ctor(e,t),t&&"preventScrollEvents"in t&&!t._ignorePreventScrollEventsDeprecation&&this._logDeprecatedPreventScrollEventsInfo()}_logDeprecatedPreventScrollEventsInfo(){this._logDeprecatedOptionWarning("preventScrollEvents",{since:"23.1",message:"If you enable this option, end-users may experience scrolling issues."})}_init(){super._init(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=M("<div>").addClass("dx-overlay-wrapper"),this._$content=M("<div>").addClass("dx-overlay-content"),this._initInnerOverlayClass(),this.$element().addClass("dx-overlay"),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0);const{hideTopOverlayHandler:t}=this.option();this._initHideTopOverlayHandler(t),this._parentsScrollSubscriptionInfo={handler:n=>{this._hideOnParentsScrollHandler(n)}},this.warnPositionAsFunction()}warnPositionAsFunction(){const{position:e}=this.option();Ie(e)&&Ut.log("W0018")}_initInnerOverlayClass(){var e;const{innerOverlay:t}=this.option();(e=this._$content)===null||e===void 0||e.toggleClass("dx-inner-overlay",t)}_initHideTopOverlayHandler(e){e&&(this._hideTopOverlayHandler=e)}_getActionsList(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]}_initActions(){this._actions={};const e=this._getActionsList();ie(e,(t,n)=>{this._actions&&(this._actions[n]=this._createActionByOption(n,{excludeValidators:["disabled","readOnly"]})||Te)})}_initHideOnOutsideClickHandler(){this._proxiedDocumentDownHandler=e=>this._documentDownHandler(e)}_initMarkup(){super._initMarkup(),this._renderWrapperAttributes(),this._initPositionController()}_documentDownHandler(e){var t,n;this._showAnimationProcessing&&this._stopAnimation();const{target:s}=e,r=M(s),o=Sr.contains(Ed.document,s),a=M(Ed.document).is(r)||o,l=M(r).closest(".dx-inner-overlay").length,d=(t=this._$content)===null||t===void 0?void 0:t.is(r),c=(n=this._$content)===null||n===void 0?void 0:n.get(0),h=c?Sr.contains(c,s):!1;a&&!l&&!(d||h)&&this._shouldHideOnOutsideClick(e)&&this._outsideClickHandler(e);const{propagateOutsideClick:p}=this.option();return!!p}_shouldHideOnOutsideClick(e){const{hideOnOutsideClick:t}=this.option();return Ie(t)?t(e):!!t}_outsideClickHandler(e){const{shading:t}=this.option();t&&e.preventDefault(),this.hide()}_getAnonymousTemplateName(){return"content"}_initTemplates(){this._templateManager.addDefaultTemplates({content:new Bl}),super._initTemplates()}_isTopOverlay(){const e=this._overlayStack();for(let t=e.length-1;t>=0;t-=1){const n=e[t]._findTabbableBounds();if(n.$first||n.$last)return e[t]===this}return!1}_overlayStack(){return sC}_zIndexInitValue(){return Ps.baseZIndex()}_toggleViewPortSubscription(e){this._viewPortChangeHandle&&OD.remove(this._viewPortChangeHandle),e&&(this._viewPortChangeHandle=()=>{this._viewPortChangeHandler()},OD.add(this._viewPortChangeHandle))}_viewPortChangeHandler(){const{container:e}=this.option();this._positionController.updateContainer(e),this._refresh()}_renderWrapperAttributes(){const{wrapperAttr:e}=this.option(),t=Object.assign({},e),n=t.class;delete t.class;const s=this.$wrapper();s==null||s.attr(t),this._customWrapperClass&&(s==null||s.removeClass(this._customWrapperClass)),s==null||s.addClass(n),this._customWrapperClass=n}_renderVisibilityAnimate(e){return this._stopAnimation(),e?this._show():this._hide()}_getAnimationConfig(){return this._getOptionValue("animation",this)??{}}_toggleBodyScroll(e){}_animateShowing(){const e=this._getAnimationConfig(),t=this._normalizeAnimation(e.show,"to"),n=(t==null?void 0:t.start)??Te,s=(t==null?void 0:t.complete)??Te;this._animate(t,(r,o)=>{var a,l;if(this._isAnimationPaused)return;const{focusStateEnabled:d}=this.option();d&&Y.trigger(this._focusTarget(),"focus"),s.call(this,r,o),this._showAnimationProcessing=!1,this._isHidden=!1,(a=this._actions)===null||a===void 0||(l=a.onShown)===null||l===void 0||l.call(a),this._toggleSafariScrolling(),this._showingDeferred.resolve()},(r,o)=>{this._isAnimationPaused||(n.call(this,r,o),this._showAnimationProcessing=!0)})}_processShowingHidingCancel(e,t,n){Ho(e)?e.then(s=>{s?n():t()}).catch(()=>t()):e?n():t()}_show(){return this._showingDeferred=de(),this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden?(this._isHidden=!0,this._showingDeferred.resolve()):this._currentVisible?de().resolve().promise():(this._currentVisible=!0,this._isHidingActionCanceled?(delete this._isHidingActionCanceled,this._showingDeferred.reject()):(()=>{var t,n,s,r;this._stopAnimation();const{enableBodyScroll:o}=this.option();this._toggleBodyScroll(o),this._toggleVisibility(!0),(t=this._$content)===null||t===void 0||t.css("visibility","hidden"),(n=this._$content)===null||n===void 0||n.toggleClass("dx-state-invisible",!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();const a={cancel:!1};(s=this._actions)===null||s===void 0||(r=s.onShowing)===null||r===void 0||r.call(s,a),this._processShowingHidingCancel(a.cancel,()=>{var l;(l=this._$content)===null||l===void 0||l.css("visibility",""),this._renderVisibility(!0),this._animateShowing()},()=>{var l,d;this._toggleVisibility(!1),(l=this._$content)===null||l===void 0||l.css("visibility",""),(d=this._$content)===null||d===void 0||d.toggleClass("dx-state-invisible",!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this._toggleBodyScroll(!0),this.option("visible",!1),this._showingDeferred.resolve()})})(),this._showingDeferred.promise())}_normalizeAnimation(e,t){if(!e)return;const n=Object.assign({type:"slide",skipElementInitialStyles:!0},e);return Me(n[t])&&se(n[t],{position:this._positionController.position}),n}_animateHiding(){const e=this._getAnimationConfig(),t=this._normalizeAnimation(e.hide,"from"),n=(t==null?void 0:t.start)??Te,s=(t==null?void 0:t.complete)??Te;this._animate(t,(r,o)=>{var a,l,d;(a=this._$content)===null||a===void 0||a.css("pointerEvents",""),this._renderVisibility(!1),s.call(this,r,o),this._hideAnimationProcessing=!1,(l=this._actions)===null||l===void 0||(d=l.onHidden)===null||d===void 0||d.call(l),this._hidingDeferred.resolve()},(r,o)=>{var a;(a=this._$content)===null||a===void 0||a.css("pointerEvents","none"),n.call(this,r,o),this._hideAnimationProcessing=!0})}_hide(){if(!this._currentVisible)return de().resolve().promise();this._currentVisible=!1,this._hidingDeferred=de();const e={cancel:!1};if(this._isShowingActionCanceled)delete this._isShowingActionCanceled,this._hidingDeferred.reject();else{var t,n;(t=this._actions)===null||t===void 0||(n=t.onHiding)===null||n===void 0||n.call(t,e),this._toggleSafariScrolling(),this._toggleBodyScroll(!0);const s=()=>{this._isHidingActionCanceled=!0;const{enableBodyScroll:o}=this.option();this._toggleBodyScroll(o),this.option("visible",!0),this._hidingDeferred.resolve()},r=()=>{this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._animateHiding()};this._processShowingHidingCancel(e.cancel,r,s)}return this._hidingDeferred.promise()}_forceFocusLost(){var e;const t=ve.getActiveElement();!!((e=this._$content)!==null&&e!==void 0&&e.find(t).length)&&Sr.resetActiveElement()}_animate(e,t,n){if(e){const s=n??e.start??Te,r=Object.assign({},e,{start:s,complete:t});this._$content&&Ht.animate(this._$content.get(0),r)}else t()}_stopAnimation(){this._$content&&Ht.stop(this._$content.get(0),!0)}_renderVisibility(e){if(!(e&&this._isParentHidden())){if(this._currentVisible=e,this._stopAnimation(),e||XY(this._$content),e)this._checkContainerExists(),this._moveToContainer(),this._renderGeometry(),Y1(this._$content),Xs(this._$content);else{var t;this._toggleVisibility(e),(t=this._$content)===null||t===void 0||t.toggleClass("dx-state-invisible",!e),this._updateZIndexStackPosition(e),this._moveFromContainer()}this._toggleShading(e),this._toggleSubscriptions(e)}}_handleZIndexOptionChanged(){const{zIndex:e}=this.option();this._zIndex=e??nC(this._zIndexInitValue()),this._updateZIndexStackPosition(this._isVisible())}_updateZIndexStackPosition(e){const t=this._overlayStack(),n=t.indexOf(this),s=n!==-1,{zIndex:r}=this.option();if(!e){s&&(t.splice(n,1),iC(this._zIndex));return}s||(this._zIndex=r??nC(this._zIndexInitValue()),t.push(this)),this._updateZIndex()}_updateZIndex(){var e,t;(e=this._$wrapper)===null||e===void 0||e.css("zIndex",this._zIndex),(t=this._$content)===null||t===void 0||t.css("zIndex",this._zIndex)}_toggleShading(e){var t,n;const{shading:s,shadingColor:r}=this.option();(t=this._$wrapper)===null||t===void 0||t.toggleClass("dx-overlay-shader",e&&s),(n=this._$wrapper)===null||n===void 0||n.css("backgroundColor",s?r??"":""),this._toggleTabTerminator(!!(e&&s))}_initTabTerminatorHandler(){this._proxiedTabTerminatorHandler=e=>{this._tabKeyHandler(e)}}_toggleTabTerminator(e){const{_loopFocus:t}=this.option(),n=be("keydown",this.NAME);t||e?Y.on(ve.getDocument(),n,this._proxiedTabTerminatorHandler):this._destroyTabTerminator()}_destroyTabTerminator(){const e=be("keydown",this.NAME);Y.off(ve.getDocument(),e,this._proxiedTabTerminatorHandler)}_findTabbableBounds(){var e;const t=(e=this._$wrapper)===null||e===void 0?void 0:e.find("*"),n=((t==null?void 0:t.length)??0)-1;let s=null,r=null;for(let o=0;o<=n;o+=1){const a=(t==null?void 0:t.eq(o))??null,l=(t==null?void 0:t.eq(n-o))??null;if(!s&&a.is(lT.tabbable)&&(s=a),!r&&l.is(lT.tabbable)&&(r=l),s&&r)break}return{$first:s,$last:r}}_tabKeyHandler(e){var t;if(En(e)!=="tab"||!this._isTopOverlay())return;const n=(t=this._$wrapper)===null||t===void 0?void 0:t.get(0),s=ve.getActiveElement(n),{$first:r,$last:o}=this._findTabbableBounds(),a=!e.shiftKey&&s===(o==null?void 0:o.get(0)),l=e.shiftKey&&s===(r==null?void 0:r.get(0)),d=!Sr.contains(n,s);if(a||l||d){e.preventDefault();const h=e.shiftKey?o:r;Y.trigger(h,"focusin"),Y.trigger(h,"focus")}}_toggleSubscriptions(e){Di.hasWindow()&&(this._toggleHideTopOverlayCallback(e),this._toggleHideOnParentsScrollSubscription(e))}_toggleHideTopOverlayCallback(e){this._hideTopOverlayHandler&&(e?mT.add(this._hideTopOverlayHandler):mT.remove(this._hideTopOverlayHandler))}_toggleHideOnParentsScrollSubscription(e){const t=be("scroll",this.NAME),n=this._parentsScrollSubscriptionInfo??{},{prevTargets:s,handler:r}=n;Y.off(s,t,r);const{hideOnParentScroll:o}=this.option();if(e&&o){var a;let d=(a=this._getHideOnParentScrollTarget())===null||a===void 0?void 0:a.parents();if(Oe.real().deviceType==="desktop"){var l;d=(l=d)===null||l===void 0?void 0:l.add(Ed)}Y.on(d,t,r),this._parentsScrollSubscriptionInfo=Object.assign({},n,{prevTargets:d})}}_hideOnParentsScrollHandler(e){let t=!1;const{hideOnParentScroll:n}=this.option();Ie(n)&&(t=n(e)),!t&&!this._showAnimationProcessing&&this.hide()}_getHideOnParentScrollTarget(){const{_hideOnParentScrollTarget:e}=this.option(),t=M(e);return t.length?t:this._$wrapper}_render(){super._render(),this._appendContentToElement(),this._renderVisibilityAnimate(this._isVisible())}_appendContentToElement(){var e;if(!((e=this._$content)!==null&&e!==void 0&&e.parent().is(this.$element()))){var t;(t=this._$content)===null||t===void 0||t.appendTo(this.$element())}}_renderContent(){const{deferRendering:e}=this.option(),t=!this._currentVisible&&e;if(this._isVisible()&&this._isParentHidden()){this._isHidden=!0;return}this._contentAlreadyRendered||t||(this._contentAlreadyRendered=!0,this._appendContentToElement(),super._renderContent())}_isParentHidden(){const{_checkParentVisibility:e}=this.option();if(!e)return!1;if(this._parentHidden!==void 0)return this._parentHidden;const t=this.$element().parent();if(t.is(":visible"))return!1;let n=!1;return t.add(t.parents()).each((s,r)=>{if(M(r).css("display")==="none")return n=!0,!1}),n||!ve.getBody().contains(t.get(0))}_renderContentImpl(){const{contentTemplate:e}=this.option(),t=de(),n=this._getTemplate(e),s=this._templateManager.anonymousTemplateName===e;n==null||n.render({container:this.content(),noModel:!0,transclude:s,onRendered:()=>{t.resolve();const{templatesRenderAsynchronously:o}=this.option();o&&this._dimensionChanged()}});const{preventScrollEvents:r}=this.option();return this._toggleWrapperScrollEventsSubscription(r),t.done(()=>{this._processContentRendering()}),t.promise()}_processContentRendering(){this._isVisible()&&this._moveToContainer()}_getPositionControllerConfig(){var e,t;const{container:n,visualContainer:s,restorePosition:r,_fixWrapperPosition:o,_skipContentPositioning:a}=this.option(),l={container:n,visualContainer:s,restorePosition:r,_fixWrapperPosition:o,_skipContentPositioning:a,onPositioned:(e=this._actions)===null||e===void 0?void 0:e.onPositioned,onVisualPositionChanged:(t=this._actions)===null||t===void 0?void 0:t.onVisualPositionChanged},d={$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper};return{properties:l,elements:d}}_initPositionController(){this._positionController=new l8(this._getPositionControllerConfig())}_toggleWrapperScrollEventsSubscription(e){const t=be(Nc,this.NAME);if(Y.off(this._$wrapper,t),e){const n=r=>{const{originalEvent:o}=r.originalEvent,{type:a}=o??{},l=a==="wheel",d=a==="mousemove",c=l&&$n(r);r._cancelPreventDefault=!0,o&&r.cancelable!==!1&&!(d||c)&&r.preventDefault()},s={validate:()=>!0,getDirection:()=>"both",_toggleGestureCover(r){r||this._toggleGestureCoverImpl(r)},_clearSelection:Te,isNative:!0};Y.on(this._$wrapper,t,s,n)}}_moveFromContainer(){var e,t;(e=this._$content)===null||e===void 0||e.appendTo(this.$element()),(t=this._$wrapper)===null||t===void 0||t.detach()}_checkContainerExists(){const e=this._positionController.$container;if(e===void 0)return;e.length>0||pt.log("W1021",this.NAME)}_moveToContainer(){const e=this._positionController.$container;if(e!==void 0){var t;(t=this._$wrapper)===null||t===void 0||t.appendTo(e)}if(this._$wrapper){var n;(n=this._$content)===null||n===void 0||n.appendTo(this._$wrapper)}}_renderGeometry(){this._isVisible()&&Di.hasWindow()&&(this._stopAnimation(),this._renderGeometryImpl())}_renderGeometryImpl(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()}_renderPosition(e){this._positionController.positionContent()}_isAllWindowCovered(){var e;const{shading:t}=this.option(),n=(e=this._positionController.$visualContainer)===null||e===void 0?void 0:e.get(0);return jn(n)&&!!t}_toggleSafariScrolling(){const e=this._isVisible(),t=M(ve.getBody()),n=Oe.real().platform==="ios"&&gn.safari,s=this._isAllWindowCovered(),r=t.hasClass("dx-prevent-safari-scrolling"),o=!r&&e&&s,a=r&&(!e||!s||this._disposed);n&&(a?(t.removeClass("dx-prevent-safari-scrolling"),Ed.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):o&&(this._cachedBodyScrollTop=Ed.pageYOffset,t.addClass("dx-prevent-safari-scrolling")))}_renderWrapper(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()}_renderWrapperDimensions(){var e;const{$visualContainer:t}=this._positionController,n=ve.getDocumentElement(),s=jn(t==null?void 0:t.get(0)),r=s?n.clientWidth:kt(t),o=s?Ed.innerHeight:gt(t);(e=this._$wrapper)===null||e===void 0||e.css({width:r,height:o})}_renderDimensions(){var e,t;const n=(e=this._$content)===null||e===void 0?void 0:e.get(0);(t=this._$content)===null||t===void 0||t.css({minWidth:this._getOptionValue("minWidth",n),maxWidth:this._getOptionValue("maxWidth",n),minHeight:this._getOptionValue("minHeight",n),maxHeight:this._getOptionValue("maxHeight",n),width:this._getOptionValue("width",n),height:this._getOptionValue("height",n)})}_focusTarget(){return this._$content}_attachKeyboardEvents(){this._keyboardListenerId=Pa.on(this._$content,null,e=>this._keyboardHandler(e))}_keyboardHandler(e,t){const n=e.originalEvent,s=M(n.target),{ignoreChildEvents:r}=this.option();(s.is(this._$content??"")||!r)&&super._keyboardHandler(e,t)}_isVisible(){return!!this.option("visible")}_visibilityChanged(e){e?this._isVisible()&&this._renderVisibilityAnimate(e):this._renderVisibilityAnimate(e)}_dimensionChanged(){this._renderGeometry()}_clean(){if(!this._contentAlreadyRendered){var e;(e=this.$content())===null||e===void 0||e.empty()}this._renderVisibility(!1),this._cleanFocusState()}_dispose(){var e,t;this._$content&&Ht.stop(this._$content.get(0),!1),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),super._dispose(),this._toggleSafariScrolling(),this._isVisible()&&iC(this._zIndex),this._destroyTabTerminator(),this._positionController.clean(),this._actions={},this._parentsScrollSubscriptionInfo=void 0,(e=this._$wrapper)===null||e===void 0||e.remove(),(t=this._$content)===null||t===void 0||t.remove(),this._$wrapper=null,this._$content=null}_toggleRTLDirection(e){var t;(t=this._$content)===null||t===void 0||t.toggleClass("dx-rtl",e)}_optionChanged(e){const{value:t,name:n}=e;if(this._getActionsList().includes(n)){this._initActions();return}switch(n){case"animation":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"_loopFocus":case"shading":this._toggleShading(this._isVisible()),this._toggleSafariScrolling();break;case"shadingColor":this._toggleShading(this._isVisible());break;case"width":case"height":case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":{const{position:s}=this.option();this._positionController.updatePosition(s),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break}case"visible":this._renderVisibilityAnimate(!!t).done(()=>{var s;return(s=this._animateDeferred)===null||s===void 0?void 0:s.resolveWith(this)}).fail(()=>{var s;return(s=this._animateDeferred)===null||s===void 0?void 0:s.reject()});break;case"container":this._positionController.updateContainer(t),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(t),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(t),this._toggleHideTopOverlayCallback(this._isVisible());break;case"zIndex":this._handleZIndexOptionChanged();break;case"hideOnParentScroll":case"_hideOnParentScrollTarget":this._toggleHideOnParentsScrollSubscription(this._isVisible());break;case"rtlEnabled":this._contentAlreadyRendered=!1,super._optionChanged(e);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=t;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=t;break;case"preventScrollEvents":this._logDeprecatedPreventScrollEventsInfo(),this._toggleWrapperScrollEventsSubscription(t);break;default:super._optionChanged(e)}}toggle(e){const t=this._isVisible(),n=e??!t,s=de();if(n===t)return s.resolveWith(this,[n]).promise();const r=de();return this._animateDeferred=r,this.option("visible",n),r.promise().done(()=>{delete this._animateDeferred,s.resolveWith(this,[this._isVisible()])}).fail(()=>{delete this._animateDeferred,s.reject()}),s.promise()}$content(){return this._$content}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}content(){return We(this._$content)}repaint(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),Xs(this._$content)):super.repaint()}static baseZIndex(e){return IX(e)}}St("dxOverlay",Ps);const AX=["src"];class Fp extends Ps{_supportedKeys(){return Object.assign({},super._supportedKeys(),{escape:Te})}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{message:ue.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0,preventScrollEvents:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:()=>xs(Yt()),options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}},{device:()=>ts(Yt()),options:{width:"auto",height:"auto"}}])}_init(){super._init()}_render(){var e;super._render(),this.$element().addClass("dx-loadpanel"),(e=this.$wrapper())===null||e===void 0||e.addClass("dx-loadpanel-wrapper"),this._updateWrapperAria()}_setDeprecatedOptions(){super._setDeprecatedOptions(),this._deprecatedOptions=Object.assign({},this._deprecatedOptions,{indicatorSrc:{since:"25.2",alias:"indicatorOptions.src"}})}_updateWrapperAria(){var e;if((e=this.$wrapper())===null||e===void 0||e.removeAttr("aria-label").removeAttr("role"),!this.option("showIndicator")){const n=this._getAriaAttributes();this.$wrapper().attr(n)}}_getAriaAttributes(){const{message:e}=this.option();return{role:"alert","aria-label":e||ue.format("Loading")}}_renderContentImpl(){const e=this.$content();if(!e)return Promise.resolve(void 0);const t=super._renderContentImpl();return e.addClass("dx-loadpanel-content"),this._$loadPanelContentWrapper=M("<div>").addClass("dx-loadpanel-content-wrapper"),this._$loadPanelContentWrapper.appendTo(e),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage(),t}_show(){const{delay:e}=this.option();if(!e)return super._show();const t=de(),n=super._show.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(()=>{n().done(()=>{t.resolve()})},e),t.promise()}_hide(){return this._clearShowTimeout(),super._hide()}_clearShowTimeout(){clearTimeout(this._showTimeout)}_renderMessage(){if(!this._$loadPanelContentWrapper)return;const{message:e}=this.option();if(!e)return;const t=M("<div>").addClass("dx-loadpanel-message").text(e);this._$loadPanelContentWrapper.append(t)}_renderLoadIndicator(){if(!this._$loadPanelContentWrapper||!this.option("showIndicator"))return;this._$indicator||(this._$indicator=M("<div>").addClass("dx-loadpanel-indicator").appendTo(this._$loadPanelContentWrapper));const{indicatorOptions:e={},indicatorSrc:t}=this.option(),{src:n}=e,s=Hs(e,AX);this._createComponent(this._$indicator,Rs,Object.assign({elementAttr:this._getAriaAttributes(),indicatorSrc:n??t},s))}_cleanPreviousContent(){var e,t;(e=this.$content())===null||e===void 0||e.find(".dx-loadpanel-message").remove(),(t=this.$content())===null||t===void 0||t.find(".dx-loadpanel-indicator").remove(),this._$indicator=void 0}_togglePaneVisible(){var e;(e=this.$content())===null||e===void 0||e.toggleClass("dx-loadpanel-pane-hidden",!this.option("showPane"))}_optionChanged(e){switch(e.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage(),this._updateWrapperAria();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":case"indicatorOptions":this._renderLoadIndicator();break;default:super._optionChanged(e)}}_dispose(){this._clearShowTimeout(),super._dispose()}}St("dxLoadPanel",Fp);const kX=["year","month","day"],OX=["year","month","day","hour","minute"],rC=i=>i==="date"||i==="datetime",rx=i=>{var e;let t,n=[];const s=["year","month","day","hour","minute","second"],r=(e=i.headerFilter)===null||e===void 0?void 0:e.groupInterval,o=r==="quarter"?"month":r;if(rC(i.dataType)&&r!==null)return n=i.dataType==="datetime"?OX:kX,t=s.indexOf(o),t>=0&&(n=s.slice(0,t),n.push(r)),n;if(G(r))return Array.isArray(r)?r:[r]},RX=i=>{var e;return(e=i.calculateDisplayValue)!==null&&e!==void 0&&e.context?i.calculateDisplayValue:null},ud=function(){const i=(s,r)=>{let o=s.dataField||s.selector;return r==="search"&&(o=s.displayField||RX(s)||o),o},e=function(s,r){const o=this;let a,l,d;const c=i(o,r);if(Array.isArray(s)&&G(s[0])&&G(s[1]))return l=[c,">=",s[0]],d=[c,"<=",s[1]],rC(o.dataType)&&(h=s[1],h.getHours()+h.getMinutes()+h.getSeconds()+h.getMilliseconds()<1)&&(a=new Date(s[1].getTime()),o.dataType==="date"&&a.setDate(s[1].getDate()+1),d=[c,"<",a]),[l,"and",d];var h},t=function(s,r,o){const a=this;let l,d,c;const h=(f=>zi(f)?[f.getFullYear(),f.getMonth(),f.getDate(),f.getHours(),f.getMinutes(),f.getSeconds()]:Mn(`${f}`.split("/"),(g,m)=>m===1?Number(g)-1:Number(g)))(s),u=i(a,o);if(o==="headerFilter"){var p;c=(p=rx(a))===null||p===void 0?void 0:p[h.length-1]}else a.dataType==="datetime"&&(c="minute");switch(c){case"year":l=new Date(h[0],0,1),d=new Date(h[0]+1,0,1);break;case"month":l=new Date(h[0],h[1],1),d=new Date(h[0],h[1]+1,1);break;case"quarter":l=new Date(h[0],3*h[1],1),d=new Date(h[0],3*h[1]+3,1);break;case"hour":l=new Date(h[0],h[1],h[2],h[3]),d=new Date(h[0],h[1],h[2],h[3]+1);break;case"minute":l=new Date(h[0],h[1],h[2],h[3],h[4]),d=new Date(h[0],h[1],h[2],h[3],h[4]+1);break;case"second":l=new Date(h[0],h[1],h[2],h[3],h[4],h[5]),d=new Date(h[0],h[1],h[2],h[3],h[4],h[5]+1);break;default:l=new Date(h[0],h[1],h[2]),d=new Date(h[0],h[1],h[2]+1)}switch(r){case"<":return[u,"<",l];case"<=":return[u,"<",d];case">":return[u,">=",d];case">=":return[u,">=",l];case"<>":return[[u,"<",l],"or",[u,">=",d]];default:return[[u,">=",l],"and",[u,"<",d]]}},n=function(s,r,o){const a=i(this,o),l=rx(this);if(o==="headerFilter"&&l&&G(s)){const d=`${s}`.split("/"),c=Number(d[d.length-1]),h=l[d.length-1],u=[a,">=",c],p=[a,"<",c+h];return[u,"and",p]}return[a,r||"=",s]};return{defaultCalculateFilterExpression(s,r,o){var a;const l=this,d=i(l,o),c=l.calculateDisplayValue&&o==="search",h=c&&((a=l.lookup)===null||a===void 0?void 0:a.dataType)||l.dataType;let u=null;if((o==="headerFilter"||o==="filterBuilder")&&s===null)u=[d,r||"=",null],h==="string"&&(u=[u,r==="="?"or":"and",[d,r||"=",""]]);else if(h==="string"&&(!l.lookup||c))u=[d,r||"contains",s];else{if(r==="between")return e.apply(l,[s,o]);if(rC(h)&&G(s))return t.apply(l,arguments);if(h==="number")return n.apply(l,arguments);u=[d,r||"=",s]}return u},getGroupInterval:rx}}(),bs="ai",PX="chatsparkleoutline",Rg={aiColumn:"dx-command-ai",aiColumnHeaderContent:"dx-command-ai-header-content",aiColumnHeaderButton:"dx-command-ai-header-button"},ox={autoFill:"chatsparkleoutline",regenerate:"refresh",clear:"trash"},RD=i=>"originalCallback"in i?i.originalCallback:i,PD=i=>"columnIndex"in i?i.columnIndex??null:void 0,d8=(i,e)=>{const t=RD(i),n=RD(e),s=PD(i),r=PD(e);return t===n&&(!(s!==void 0)||s===r)},MD=(i,e)=>typeof i=="string"&&typeof e=="string"?i===e:typeof i=="function"&&typeof e=="function"?d8(i,e):!1,MX=(i,e)=>typeof i=="function"&&typeof e=="function"?d8(i,e):!1,FX="scrolling.legacyMode",BX="scrolling.rowRenderingMode",NX={year:i=>i&&i.getFullYear(),month:i=>i&&i.getMonth()+1,day:i=>i&&i.getDate(),quarter:i=>i&&Math.floor(i.getMonth()/3)+1,hour:i=>i&&i.getHours(),minute:i=>i&&i.getMinutes(),second:i=>i&&i.getSeconds()},VX=function(){const i=arguments[1],e=this.calculateCellValue(i);if(!G(e))return null;if(c8(this.dataType)){const t=arguments[0];return NX[t](e)}if(this.dataType==="number"){const t=arguments[0];return Math.floor(Number(e)/t)*t}};function c8(i){return i==="date"||i==="datetime"}const FD=function(i){i.get(0).textContent=""},ax=function(i){i=i||[];const e=Po(i);for(let t=0;t<i.length;t++)i&&i[t]&&i[t].isExpanded!==void 0&&(e[t].isExpanded=i[t].isExpanded),i&&i[t]&&i[t].groupInterval!==void 0&&(e[t].groupInterval=i[t].groupInterval);return e},u8=function(i,e){const t=Zy.format(i,e.format)||i&&i.toString()||"",n={value:i,valueText:e.getDisplayFormat?e.getDisplayFormat(t):t,target:e.target||"row",groupInterval:e.groupInterval};return e.customizeText?e.customizeText.call(e,n):n.valueText},BD=function(i,e){const t=i.displayFormat||i.columnCaption&&e[`${i.summaryType}OtherColumn`]||e[i.summaryType];return u8(i.value,{format:i.valueFormat,getDisplayFormat:n=>t?Fs(t,n,i.columnCaption):n,customizeText:i.customizeText})},ND=function(i){const e=i.data&&i.data(),t=e&&e.dxComponents,n=t&&t[0];return n&&e[n]},h8=function(i,e,t){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++)if(!h8(i[n],e[n],t))return!1;return!0}return Ie(i)&&i.columnIndex>=0&&Ie(e)&&e.columnIndex>=0?i.columnIndex===e.columnIndex&&xi(i.filterValue,void 0,t)===xi(e.filterValue,void 0,t)&&xi(i.selectedFilterOperation,void 0,t)===xi(e.selectedFilterOperation,void 0,t):xi(i,void 0,t)==xi(e,void 0,t)},LX=i=>({index:i.index,columnIndex:i.columnIndex,x:i.x,y:i.y}),VD=(i,e,t)=>{let n=!1;if(t&&(n=t(e)),!n){const s=LX(e);i.push(s)}},$X=i=>i.map(e=>{const t=e.visibleWidth||e.width;return jt(t)?parseFloat(t):50});function HX(i){return Array.isArray(i)||(i=[i]),i.map((e,t)=>Ke(e)?{selector:e,isExpanded:t<i.length-1}:e)}const xe={renderNoDataText(i){const e=this;if(i=i||this.element(),!i)return;const t=e.addWidgetPrefix("nodata");let n=i.find(`.${t}`).last();const s=this._dataController.isEmpty(),r=this._dataController.isLoading();n.length||(n=M("<span>").addClass(t)),n.parent().is(i)||n.appendTo(i),s&&!r?n.removeClass("dx-hidden").text(e._getNoDataText()):n.addClass("dx-hidden")},renderLoadPanel(i,e,t){const n=this;let s;n._loadPanel&&n._loadPanel.$element().remove(),s=n.option("loadPanel"),s&&(s.enabled==="auto"?!t:s.enabled)?(s=se({shading:!1,message:s.text,container:e,zIndex:1e3},s),n._loadPanel=n._createComponent(M("<div>").appendTo(e),Fp,s)):n._loadPanel=null},calculateLoadPanelPosition(i){const e=M(bt());return ht(i)>ht(e)?{of:e,boundary:i,collision:"fit"}:{of:i}},getIndexByKey(i,e,t){let n=-1;if(i!==void 0&&Array.isArray(e)){t=arguments.length<=2?"key":t;for(let s=0;s<e.length;s++){const r=G(t)?e[s][t]:e[s];if(dn(i,r)){n=s;break}}}return n},combineFilters(i,e){let t=[];e=e||"and";for(let s=0;s<i.length;s++){var n;if(i[s]){if(((n=i[s])===null||n===void 0?void 0:n.length)===1&&i[s][0]==="!"){if(e==="and")return["!"];if(e==="or")continue}t.length&&t.push(e),t.push(i[s])}}if(t.length===1&&(t=t[0]),t.length)return t},checkChanges(i,e){let t=0;for(let n=0;n<e.length;n++)i[e[n]]&&t++;return i.length&&i.length===t},equalFilterParameters:h8,proxyMethod(i,e,t){i[e]||(i[e]=function(){const n=this._dataSource;return n?n[e].apply(n,arguments):t})},formatValue:u8,getFormatOptionsByColumn:(i,e)=>({format:i.format,getDisplayFormat:i.getDisplayFormat,customizeText:i.customizeText,target:e,trueText:i.trueText,falseText:i.falseText}),getDisplayValue(i,e,t,n){return i.displayValueMap&&i.displayValueMap[e]!==void 0?i.displayValueMap[e]:i.calculateDisplayValue&&t&&n!=="group"?i.calculateDisplayValue(t):i.lookup&&i.type!==bs&&(n!=="group"||!i.calculateGroupValue&&!i.calculateDisplayValue)?i.lookup.calculateCellValue(e):e},getGroupRowSummaryText(i,e){let t="(";for(let n=0;n<i.length;n++){const s=i[n];t+=(n>0?", ":"")+BD(s,e)}return t+")"},getSummaryText:BD,normalizeSortingInfo:ax,getFormatByDataType(i){switch(i){case"date":return"shortDate";case"datetime":return"shortDateShortTime";default:return}},getHeaderFilterGroupParameters(i,e){let t=[];const n=i.dataField||i.name,s=ud.getGroupInterval(i);return s?(ie(s,(r,o)=>{t.push(e?{selector:n,groupInterval:o,isExpanded:r<s.length-1}:VX.bind(i,o))}),t):(e?t=[{selector:n,isExpanded:!1}]:(t=function(r){let o=i.calculateCellValue(r);return(o===void 0||o==="")&&(o=null),o},i.sortingMethod&&(t=[{selector:t,compare:i.sortingMethod.bind(i)}])),t)},equalSortParameters(i,e,t){if(i=ax(i),e=ax(e),Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;for(let n=0;n<i.length;n++)if(!MD(i[n].selector,e[n].selector)||i[n].desc!==e[n].desc||i[n].groupInterval!==e[n].groupInterval||!t&&!!i[n].isExpanded!=!!e[n].isExpanded)return!1;return!0}return(!i||!i.length)==(!e||!e.length)},getPointsByColumns(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const r=[],o=i.length;let a,l={left:0,top:0},d={width:0,height:0},c=n,h;for(let p=0;p<=o;p++){var u;p<o&&(a=i.eq(p),l=a.offset(),d=en(a.get(0)),h=a.css("direction")==="rtl");const f=l.left+d.width,g=l.top+d.height,m={index:c,columnIndex:c,item:(u=a)===null||u===void 0?void 0:u.get(0),x:!t&&h!==(p===o)?f:l.left,y:t&&p===o?g:l.top};if(!t&&p>0){const v=i.eq(p-1).offset(),{width:_}=en(i[p-1]),x=h?v.left:v.left+_;if(v.top<m.y&&(m.y=v.top),s&&Math.round(x)!==Math.round(m.x)){const y=Object.assign({},m,{item:i[p-1],x});h?(m.isRightBoundary=!0,y.isLeftBoundary=!0):(m.isLeftBoundary=!0,y.isRightBoundary=!0),VD(r,y,e)}}VD(r,m,e),c++}return r},getExpandCellTemplate:()=>({allowRenderToDetachedContainer:!0,render(i,e){const t=M(i);if(G(e.value)&&!(e.data&&e.data.isContinuation)&&!e.row.isNewRow){const n=e.component.getView("rowsView");t.addClass("dx-datagrid-expand").addClass("dx-selection-disabled"),M("<div>").addClass(e.value?"dx-datagrid-group-opened":"dx-datagrid-group-closed").appendTo(t),n.setAria("label",e.value?n.localize("dxDataGrid-ariaCollapse"):n.localize("dxDataGrid-ariaExpand"),t)}else FD(t)}}),setEmptyText:FD,isDateType:c8,getSelectionRange(i){try{if(i)return{selectionStart:i.selectionStart,selectionEnd:i.selectionEnd}}catch{}return{}},setSelectionRange(i,e){try{i&&i.setSelectionRange&&i.setSelectionRange(e.selectionStart,e.selectionEnd)}catch{}},focusAndSelectElement(i,e){const t=e.is(":focus");Y.trigger(e,"focus");const n=i.option("editing.selectTextOnEditStart"),s=e.get(0);if(!t&&n&&e.is(".dx-texteditor-input")&&!e.is("[readonly]")){const r=ND(e.closest(".dx-texteditor"));Ae(r&&r._loadItemDeferred).done(()=>{s.select()})}},getWidgetInstance:ND,getLastResizableColumnIndex(i,e){const t=i.some(s=>s&&!s.command&&!s.fixed&&s.allowResizing!==!1);let n;for(n=i.length-1;i[n];n--){const s=i[n],r=e&&e[n],o=!t||s.allowResizing!==!1;if(!s.command&&!s.fixed&&r!=="adaptiveHidden"&&o)break}return n},isElementInCurrentGrid(i,e){return e&&e.length?e.closest(`.${i.getWidgetContainerClass()}`).parent().is(i.component.$element()):!1},isVirtualRowRendering(i){const e=i.option(BX),t=i.option("scrolling.mode")==="virtual",n=i.option("scrolling.mode")==="infinite";return i.option(FX)===!1&&(t||n)?!0:e==="virtual"},getPixelRatio:i=>i.devicePixelRatio||1,getContentHeightLimit(i){return i.mozilla?8e6:15e6/this.getPixelRatio(bt())},normalizeLookupDataSource(i){let e;return i.items?e=i.items:(e=i.dataSource,Ie(e)&&!bi.isWrapped(e)&&(e=e({}))),nl(e)},getWrappedLookupDataSource(i,e,t){if(!e)return[];const n=this.normalizeLookupDataSource(i.lookup);if(i.calculateCellValue!==i.defaultCalculateCellValue)return n;const s=e.remoteOperations().groupPaging,r=i.displayField&&Ke(i.displayField);let o,a,l;const d=(h,u)=>{const p=u.skip??0,f=u.take?p+u.take:h.length;return h.slice(p,f)};return Object.assign({},n,{__dataGridSourceFilter:t,load:h=>{const u=new de;return(p=>{const f=HX(r?[i.dataField,i.displayField]:i.dataField),g=new de;return o&&(!s||p.skip===l&&p.take===a)?g.resolve(d(o,p)):(l=p.skip,a=p.take,e.load({filter:t,group:f,take:s?p.take:void 0,skip:s?p.skip:void 0}).done(v=>{o=v,g.resolve(s?v:d(v,p))}).fail(g.fail)),g})(h).done(p=>{if(p.length===0){u.resolve([]);return}const f=this.combineFilters(p.flatMap(m=>m.key).map(m=>[i.lookup.valueExpr,m]),"or");new Os(Object.assign({},n,h,{filter:this.combineFilters([f,h.filter],"and"),paginate:!1})).load().done(u.resolve).fail(u.fail)}).fail(u.fail),u},key:i.lookup.valueExpr,byKey(h){const u=de();return this.load({filter:[i.lookup.valueExpr,"=",h]}).done(p=>{u.resolve(p[0])}),u.promise()}})},logHeaderFilterDeprecatedWarningIfNeed(i){const e=i._logDeprecatedOptionWarning.bind(i);G(i.option("headerFilter.allowSearch"))&&e("headerFilter.allowSearch",{since:"23.1",alias:"headerFilter.search.enabled"}),G(i.option("headerFilter.searchTimeout"))&&e("headerFilter.searchTimeout",{since:"23.1",alias:"headerFilter.search.timeout"});const t=i.NAME==="dxPivotGrid"?"dataSource.fields":"columns",n=i.option(t);if(!Array.isArray(n))return;const s=r=>{r.forEach(o=>{var a;const l=o.headerFilter||{};G(l.allowSearch)&&e(`${t}[].headerFilter.allowSearch`,{since:"23.1",alias:`${t}[].headerFilter.search.enabled`}),G(l.searchMode)&&e(`${t}[].headerFilter.searchMode`,{since:"23.1",alias:`${t}[].headerFilter.search.mode`}),(a=o.columns)!==null&&a!==void 0&&a.length&&s(o.columns)})};s(n)},getComponentBorderWidth(i,e){return i.option("showBorders")?Math.ceil(kt(e)-my(e)):0},isCustomCommandColumn(i,e){return!!i.filter(n=>n.type===e.type).length},isEqualSelectors:MD,isSelectorEqualWithCallback:MX,getColumnWidths:$X},lx="dx-master-detail-row",dx="dxCellHintVisible",jX={render(i){i.container.append(i.content)}},zX=function(i,e){let t,n,s;function r(o){return setTimeout(()=>{t=n=null},o)}Y.on(e,"touchstart touchend",".dx-row",o=>{var a;o!=null&&(a=o.event)!==null&&a!==void 0&&a.target&&!xe.isElementInCurrentGrid(i,M(o.event.target))||(clearTimeout(s),o.type==="touchstart"?(t=o.target,n=o.currentTarget,s=r(1e3)):s=r())}),Y.on(e,[Nt,Dp,mt.down].join(" "),".dx-row",i.createAction(o=>{var a;const{event:l}=o;o!=null&&(a=o.event)!==null&&a!==void 0&&a.target&&!xe.isElementInCurrentGrid(i,M(l.target))||(t&&(l.target=t,l.currentTarget=n),M(l.target).closest("a").length||(o.rowIndex=i.getRowIndex(l.currentTarget),o.rowIndex>=0&&(o.rowElement=We(M(l.currentTarget)),o.columns=i.getColumns(),l.type===mt.down?i._rowPointerDown(o):l.type===Nt?i._rowClick(o):i._rowDblClick(o))))}))},Ff=function(i){return i==="auto"?"":jt(i)?`${i}px`:i},WX=function(i,e,t){i.style.width=i.style.maxWidth=e.width==="auto"?"":t},UX=function(i,e){if(!i||!e)return;const t=i.attributes,n=e.attributes;let s;for(s=0;s<t.length;s++){const r=t[s].nodeName;e.hasAttribute(r)||i.removeAttribute(r)}for(s=0;s<n.length;s++)i.setAttribute(n[s].nodeName,n[s].nodeValue)},KX=function(i){i.resolve()},p8=i=>typeof i=="number"?`${i.toFixed(3)}px`:i==="adaptiveHidden"?"0.0001px":i;class Bp extends FK(fn.View){init(){this._scrollLeft=-1,this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._columnChooserController=this.getController("columnChooser"),this._editorFactoryController=this.getController("editorFactory"),this._selectionController=this.getController("selection"),this._columnChooserView=this.getView("columnChooserView"),this._delayedTemplates=[],this._templateDeferreds=new Set,this._templatesCache={},this._templateTimeouts=new Set,this.createAction("onCellClick"),this.createAction("onRowClick"),this.createAction("onCellDblClick"),this.createAction("onRowDblClick"),this.createAction("onCellHoverChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onCellPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onRowPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering",afterExecute:e=>{this._afterRowPrepared(e)}}),this._columnsController.columnsChanged.add(this._columnOptionChanged.bind(this)),this._dataController&&this._dataController.changed.add(this._handleDataChanged.bind(this))}dispose(){if(st()){var e,t;const n=bt();(e=this._templateTimeouts)===null||e===void 0||e.forEach(s=>n.clearTimeout(s)),(t=this._templateTimeouts)===null||t===void 0||t.clear()}}optionChanged(e){switch(super.optionChanged(e),e.name){case"cellHintEnabled":case"onCellPrepared":case"onRowPrepared":case"onCellHoverChanged":this._invalidate(!0,!0),e.handled=!0;break;case"keyboardNavigation":e.fullName==="keyboardNavigation.enabled"&&this._invalidate(!0,!0),e.handled=!0}}_createScrollableOptions(){const e=this.option("scrolling");let t=this.option("scrolling.useNative");const n=se({},e,{direction:"both",bounceEnabled:!1,useKeyboard:!1});return t===void 0&&(t=!0),t==="auto"?(delete n.useNative,delete n.useSimulatedScrollbar):(n.useNative=!!t,n.useSimulatedScrollbar=!t),n}_updateCell(e,t){t.rowType&&this._cellPrepared(e,t)}_needToSetCellWidths(){return this.option("columnAutoWidth")}_createCell(e){const{column:t}=e,n=t.alignment||tl(this.option("rtlEnabled")),s=this._needToSetCellWidths(),r=ve.createElement("td");r.style.textAlign=n;const o=M(r);return t.cssClass&&o.addClass(t.cssClass),Array.isArray(t.elementAttr)&&t.elementAttr.forEach(a=>{let{name:l,value:d}=a;o.attr(l,d)}),t.command==="expand"&&(o.addClass(t.cssClass),o.addClass(this.addWidgetPrefix("group-space"))),t.colspan>1?o.attr("colSpan",t.colspan):!t.isBand&&t.visibleWidth!=="auto"&&s&&((t.width||t.minWidth)&&(r.style.minWidth=Ff(t.minWidth||t.width)),t.width&&WX(r,t,Ff(t.width))),o}_createRow(e,t){t=t||"tr";const n=M(`<${t}>`).addClass("dx-row");return t==="tr"&&this.setAria("role","row",n),n}_isAltRow(e){return e&&e.dataIndex%2===1}_createTable(e,t){const n=M("<table>").addClass(this.addWidgetPrefix("table")).addClass(this.addWidgetPrefix("table-fixed"));if(e&&!t?(n.attr("id",`dx-${new Xt}`).append(this._createColGroup(e)),gn.safari&&n.append(M("<thead>").append("<tr>")),this.setAria("role","presentation",n)):this.setAria("hidden",!0,n),this.setAria("role","presentation",M("<tbody>").appendTo(n)),t)return n;gn.mozilla&&Y.on(n,"mousedown","td",r=>{r.ctrlKey&&r.preventDefault()}),this.option("cellHintEnabled")&&Y.on(n,"mousemove",".dx-row > td",this.createAction(r=>{const o=r.event,a=M(o.target),l=M(o.currentTarget),d=l.parent(),c=this._columnsController.getVisibleColumns(),h=d.data("options"),u=l.index(),p=h&&h.cells&&h.cells[u],f=p?p.column:c[u],g=d.hasClass("dx-header-row"),m=d.hasClass("dx-data-row"),v=d.hasClass(lx),_=d.hasClass("dx-group-row"),x=d.hasClass(this.addWidgetPrefix("filter-row")),y=m&&(!f||f.cellTemplate),T=m&&p&&(h.isEditing||p.isEditing||(f==null?void 0:f.showEditorAlways)),O=g&&(!f||f.headerCellTemplate),L=_&&(!f||f.groupIndex&&f.groupCellTemplate);!v&&!x&&!T&&!y&&!O&&!L&&(a.data(dx)&&(a.removeAttr("title"),a.data(dx,!1)),a[0].scrollWidth-a[0].clientWidth>0&&!G(a.attr("title"))&&(a.attr("title",a.text()),a.data(dx,!0)))}));const s=r=>{const o=M(r.currentTarget),a=M(r.target).closest(".dx-field-item-content"),l=o.parent(),d=l.data("options"),c=d&&d.cells&&d.cells[o.index()];if(!o.closest("table").is(r.delegateTarget))return;const h=se({},c,{cellElement:We(o),event:r,eventType:r.type});if(h.rowIndex=this.getRowIndex(l),a.length){const u=a.data("dx-form-item");u.column&&(h.column=u.column,h.columnIndex=this._columnsController.getVisibleIndex(h.column.index))}return h};return Y.on(n,"mouseover",".dx-row > td",r=>{const o=s(r);o&&this.executeAction("onCellHoverChanged",o)}),Y.on(n,"mouseout",".dx-row > td",r=>{const o=s(r);o&&this.executeAction("onCellHoverChanged",o)}),Y.on(n,Nt,".dx-row > td",r=>{const o=s(r);o&&this.executeAction("onCellClick",o)}),Y.on(n,Dp,".dx-row > td",r=>{const o=s(r);o&&this.executeAction("onCellDblClick",o)}),zX(this,n),n}_rowPointerDown(e){}_rowClick(){}_rowDblClick(){}_createColGroup(e){const t=M("<colgroup>");for(let n=0;n<e.length;n++){const s=e[n].colspan||1;for(let r=0;r<s;r++)t.append(this._createCol(e[n]))}return t}_createCol(e){let t=e.visibleWidth||e.width;t==="adaptiveHidden"&&(t="0.0001px");const n=M("<col>");return by(n,t),n}renderDelayedTemplates(e){const t=this._delayedTemplates,n=t.filter(r=>!r.async),s=t.filter(r=>r.async);this._delayedTemplates=[],this._renderDelayedTemplatesCore(n,!1,e),this._renderDelayedTemplatesCoreAsync(s)}_renderDelayedTemplatesCoreAsync(e){if(e.length){const t=bt().setTimeout(()=>{this._templateTimeouts.delete(t),this._renderDelayedTemplatesCore(e,!0)});this._templateTimeouts.add(t)}}_renderDelayedTemplatesCore(e,t,n){const s=new Date;for(;e.length;){const r=e.shift(),{options:o}=r,a=ve.getRootNode(M(o.container).get(0)),l=this.needWaitAsyncTemplates();if((!t||M(o.container).closest(a).length||l)&&(n&&(o.change=n),r.template.render(o)),t&&new Date-s>30){this._renderDelayedTemplatesCoreAsync(e);break}}!e.length&&this._delayedTemplates.length&&this.renderDelayedTemplates()}_processTemplate(e,t){const n=this;let s;if(e&&e.render&&!Dr(e))s={allowRenderToDetachedContainer:e.allowRenderToDetachedContainer,render(r){e.render(r.container,r.model,r.change),r.deferred&&r.deferred.resolve()}};else if(Ie(e))s={render(r){const o=e(We(r.container),r.model,r.change);o&&(o.nodeType||Dr(o))&&r.container.append(o),r.deferred&&r.deferred.resolve()}};else{const r=Ke(e)?e:M(e).attr("id");r?(n._templatesCache[r]||(n._templatesCache[r]=n.getTemplate(e)),s=n._templatesCache[r]):s=n.getTemplate(e)}return s}renderTemplate(e,t,n,s,r){const o=this._processTemplate(t,n),{column:a}=n,l=n.rowType==="data",d=new de,c={container:e,model:n,deferred:d,onRendered:()=>{this.isDisposed()?d.reject():d.resolve()}};if(o){n.component=this.component;const h=a&&(a.renderAsync&&l||this.option("renderAsync")&&(a.renderAsync!==!1&&(a.command||a.showEditorAlways)&&l||n.rowType==="filter")),u=n.renderAsync??h;(o.allowRenderToDetachedContainer||s)&&!u?o.render(c):this._delayedTemplates.push({template:o,options:c,async:u}),this._templateDeferreds.add(d),Y.on(e,$s,KX.bind(null,d))}else d.reject();return d.promise().always(()=>{this._templateDeferreds.delete(d)})}_getBodies(e){return M(e).children("tbody").not(".dx-header").not(".dx-footer")}_needWrapRow(e){var t;return!!this.option().rowTemplate&&!!((t=this._getBodies(e))!==null&&t!==void 0&&t.filter(".dx-row").length)}_wrapRowIfNeed(e,t,n){const s=n?e||this._tableElement:this._tableElement||e;if(this._needWrapRow(s)){const o=M("<tbody>").addClass(t.attr("class"));return this.setAria("role","presentation",o),o.append(t)}return t}_appendRow(e,t,n){n=n||jX,n.render({content:t,container:e})}_resizeCore(){const e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}_renderCore(e){const t=this.element().parent();return(!t||t.parent().length)&&this.renderDelayedTemplates(e),new de().resolve()}_renderTable(e){e=e||{},e.columns=this._columnsController.getVisibleColumns();const t=e.change&&e.change.changeType,n=this._createTable(e.columns,t==="append"||t==="prepend"||t==="update");return this._renderRows(n,e),n}_renderRows(e,t){const n=this,s=n._getRows(t.change),r=t.change&&t.change.columnIndices||[],o=t.change&&t.change.changeTypes||[];for(let a=0;a<s.length;a++)n._renderRow(e,se({row:s[a],columnIndices:r[a],changeType:o[a]},t))}_renderRow(e,t){t.columnIndices||(t.row.cells=[]);const n=this._createRow(t.row),s=this._wrapRowIfNeed(e,n);t.changeType!=="remove"&&this._renderCells(n,t),this._appendRow(e,s);const r=se({columns:t.columns},t.row);this._addWatchMethod(r,t.row),this._rowPrepared(s,r,t.row)}_needRenderCell(e,t){return!t||t.indexOf(e)>=0}_renderCells(e,t){const n=this;let s=0;const{row:r}=t,{columns:o}=t;for(let a=0;a<o.length;a++)this._needRenderCell(a,t.columnIndices)&&n._renderCell(e,se({column:o[a],columnIndex:s,value:r.values&&r.values[s],oldValue:r.oldValues&&r.oldValues[s]},t)),o[a].colspan>1?s+=o[a].colspan:s++}_updateCells(e,t,n,s){var r;const o=this,a=e.children(),l=t.children(),d=this.option("highlightChanges"),c=this.addWidgetPrefix("cell-updated-animation");s!=null&&(r=s.node)!==null&&r!==void 0&&r.hasChildren&&a.each(function(){o.setAria("expanded",s.isExpanded,M(this))}),n.forEach((h,u)=>{const p=a.eq(h),f=l.eq(u);p.replaceWith(f),d&&!f.hasClass("dx-command-expand")&&f.addClass(c)}),UX(e.get(0),t.get(0))}_setCellAriaAttributes(e,t,n){var s;const{row:r}=n,o=t.rowType==="freeSpace",a=t.rowType==="group",l=r==null||(s=r.node)===null||s===void 0?void 0:s.hasChildren;if(o)return;this.setAria("role","gridcell",e),l&&this.setAria("expanded",r.isExpanded,e);const d=this._columnsController.getColumnIndexOffset(),c=a?t.columnIndex+1:t.columnIndex+d+1;this.setAria("colindex",c,e)}_renderCell(e,t){const n=this._getCellOptions(t);if(t.columnIndices){if(t.row.cells){const r=t.row.cells.findIndex(o=>o.columnIndex===n.columnIndex);t.row.cells[r]=n}}else t.row.cells.push(n);const s=this._createCell(n);return this._setCellAriaAttributes(s,n,t),this._renderCellContent(s,n,t),e.get(0).appendChild(s.get(0)),s}_renderCellContent(e,t,n){const s=this._getCellTemplate(t);Ae(!s||this.renderTemplate(e,s,t,void 0,n.change)).done(()=>{this._updateCell(e,t)})}_getCellTemplate(e){}_getRows(e){return[]}_getCellOptions(e){const t={column:e.column,columnIndex:e.columnIndex,rowType:e.row.rowType,rowIndex:e.row.rowIndex,isAltRow:this._isAltRow(e.row)};return this._addWatchMethod(t),t}_addWatchMethod(e,t){if(!this.option("repaintChangesOnly"))return;const n=[];return t=t||e,t.watch=t.watch||function(s,r,o){let a=s(t.data);const l=function(d){d&&o&&o(d);const c=s(t.data);JSON.stringify(a)!==JSON.stringify(c)&&(d&&r(c),a=c)};return n.push(l),function(){const d=n.indexOf(l);d>=0&&n.splice(d,1)}},t.update=t.update||function(s,r){s&&(this.data=e.data=s.data,this.rowIndex=e.rowIndex=s.rowIndex,this.dataIndex=e.dataIndex=s.dataIndex,this.isExpanded=e.isExpanded=s.isExpanded,e.row&&!r&&(e.row=s)),n.forEach(o=>{o(s)})},t!==e&&(e.watch=t.watch.bind(t)),e}_cellPrepared(e,t){t.cellElement=We(M(e)),this.executeAction("onCellPrepared",t)}_rowPrepared(e,t,n){kn(e.get(0),"options",t),t.rowElement=We(e),this.executeAction("onRowPrepared",t)}_columnOptionChanged(e){const{optionNames:t}=e;if(xe.checkChanges(t,["width","visibleWidth"])){const s=this._columnsController.getVisibleColumns().map(r=>r.visibleWidth||r.width);this.setColumnWidths({widths:s,optionNames:t});return}this._requireReady||this.render()}getCellIndex(e,t){return e.length?e[0].cellIndex:-1}getTableElements(){return this._tableElement||M()}getTableElement(e){return this._tableElement}setTableElement(e,t){this._tableElement=e}_afterRowPrepared(e){}_handleDataChanged(e){}callbackNames(){return["scrollChanged"]}_updateScrollLeftPosition(){const e=this._scrollLeft;e>=0&&(this._scrollLeft=0,this.scrollTo({left:e}))}scrollTo(e){const t=this.element(),n=t&&t.children(`.${this.addWidgetPrefix("scroll-container")}`).not(`.${this.addWidgetPrefix("content-fixed")}`);G(e)&&G(e.left)&&this._scrollLeft!==e.left&&(this._scrollLeft=e.left,n&&n.scrollLeft(e.left))}getContent(e){var t;return(t=this._tableElement)===null||t===void 0?void 0:t.parent()}_removeContent(e){const t=this.getContent(e);t!=null&&t.length&&t.remove()}handleScroll(e){const t=M(e.target).scrollLeft();t!==this._scrollLeft&&this.scrollChanged.fire({left:t},this.name)}_wrapTableInScrollContainer(e,t){const n=M("<div>"),s=this.option("scrolling.useNative");return(s===!1||s==="auto"&&!es.nativeScrolling)&&n.addClass(this.addWidgetPrefix("scrollable-simulated")),Y.on(n,"scroll",this.handleScroll.bind(this)),n.addClass(this.addWidgetPrefix("content")).addClass(this.addWidgetPrefix("scroll-container")).append(e).appendTo(this.element()),this.setAria("role","presentation",n),n}needWaitAsyncTemplates(){return this.option("templatesRenderAsynchronously")&&this.option("renderAsync")===!1}waitAsyncTemplates(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const t=new de;if(!(e||this.needWaitAsyncTemplates())||!G(this._templateDeferreds))return t.resolve();const s=()=>Ae.apply(this,Array.from(this._templateDeferreds)).done(()=>{this.isDisposed()?t.reject():this._templateDeferreds.size>0?s():t.resolve()}).fail(t.reject);return s(),t.promise()}_updateContent(e,t,n){return this.waitAsyncTemplates().done(()=>{this._removeContent(n),this.setTableElement(e,n),this._wrapTableInScrollContainer(e,n)})}_findContentElement(e){}_getWidths(e){if(!e)return[];const t=[];return e.toArray().forEach(s=>{let r=s.offsetWidth;if(s.getBoundingClientRect){const o=en(s);o.width>s.offsetWidth-1&&(r=o.width)}t.push(r)}),t}getColumnWidths(e,t){if((this.option("forceApplyBindings")||Te)(),e=e??this.getTableElement(),e){const n=e.children("tbody:not(.dx-header)").children();for(let s=0;s<n.length;s++){const r=n.eq(s),o=r.hasClass("dx-group-row"),a=r.hasClass(lx),l=r.hasClass("dx-error-row");if(r.get(0).style.display!=="none"&&!r.hasClass("dx-state-invisible")&&(!o&&!a&&!l)){const h=r.children("td");return this._getWidths(h)}}}return[]}getVisibleColumnIndex(e,t){return e}setCellPropertiesCore(e,t,n){const s=t.hasClass("dx-group-row")?t.find(`td[aria-colindex='${n+1}']:not(.dx-group-cell)`):t.find("td").eq(n);for(let r=0;r<s.length;r+=1){const o=s.get(r);Object.assign(o.style,e)}}setCellProperties(e,t,n){const s=this.getTableElement();if(!(s!=null&&s.length))return;const r=s.children().children(".dx-row").not(`.${lx}`);if(G(n))this.setCellPropertiesCore(e,r.eq(n),t);else for(let o=0;o<r.length;o++){const a=this.getVisibleColumnIndex(t,o);a>=0&&this.setCellPropertiesCore(e,r.eq(o),a)}}setColumnWidths(e){let{widths:t,optionNames:n}=e;const s=this.getTableElement();if(!(s!=null&&s.length)||!t)return;const r=this.getColumns(),o=this._needToSetCellWidths(),a=s.children("colgroup").children("col");a.toArray().forEach(l=>l.removeAttribute("style")),r.forEach((l,d)=>{if(o&&l.width&&!l.command){const h={},u=Ff(l.visibleWidth||l.width),p=Ff(l.minWidth||u);h.width=l.width==="auto"?"":u,h.maxWidth=h.width,h.minWidth=p,this.setCellProperties(h,d)}const c=p8(t[d]);G(c)&&by(a.eq(d),c)})}getCellElements(e){return this._getCellElementsCore(e)}_getCellElementsCore(e){return e<0?void 0:this._getRowElements().eq(e).children()}_getCellElement(e,t){const n=this.getCellElements(e),s=this._getVisibleColumnIndex(n,e,t);if(!(n!=null&&n.length)||s<0)return;const r=n.eq(s);return r.length>0?r:void 0}_getRowElement(e){const t=this;let n=M();const s=t.getTableElements();if(ie(s,(r,o)=>{n=n.add(t._getRowElements(M(o)).eq(e))}),n.length)return n}getCellElement(e,t){const n=this._getCellElement(e,t);if(n)return We(n)}getRowElement(e){const t=this._getRowElement(e);let n=[];if(t&&!We(t).get)for(let s=0;s<t.length;s++)n.push(t[s]);else n=t;return n}_getVisibleColumnIndex(e,t,n){if(Ke(n)){const s=this._columnsController.columnOption(n,"index");return this._columnsController.getVisibleIndex(s)}return n}getColumnElements(){}getColumns(e,t){return this._columnsController.getVisibleColumns(e)}getCell(e,t,n){const s=t||this._getRowElements();let r;if(s.length>0&&e.rowIndex>=0){var o;if(this.option("scrolling.mode")!=="virtual"&&this.option("scrolling.rowRenderingMode")!=="virtual"&&(e.rowIndex=e.rowIndex<s.length?e.rowIndex:s.length-1),r=n||this.getCellElements(e.rowIndex),((o=r)===null||o===void 0?void 0:o.length)>0)return r.eq(r.length>e.columnIndex?e.columnIndex:r.length-1)}}getRowsCount(){const e=this.getTableElement();return e&&e.length===1?e[0].rows.length:0}_getRowElementsCore(e){if(e=e||this.getTableElement(),e){const n=(this.option().rowTemplate||this.option("dataRowTemplate"))&&e.find("> tbody.dx-row");return n&&n.length?n:e.find("> tbody > .dx-row, > .dx-row")}return M()}_getRowElements(e){return this._getRowElementsCore(e)}getRowIndex(e){return this._getRowElements().index(e)}getBoundingRect(){}getName(){}setScrollerSpacing(e){const t=this.element(),n=this.option("rtlEnabled");t&&t.css({paddingLeft:n?e:"",paddingRight:n?"":e})}isScrollbarVisible(e){const t=this.element(),n=this._tableElement;return t&&n?e?kt(n)-Xe(t)>0:gt(n)-ht(t)>0:!1}isDisposed(){var e;return(e=this.component)===null||e===void 0?void 0:e._disposed}renderDragCellContent(e,t){e.text(t.caption??"")}}const cx={cellContent:"text-content"},GX="dx-link";class qX extends X6(Bp){addCssClassesToCellContent(e,t,n){const s=this._getIndicatorElements(e,!0),r=this._getIndicatorElements(e),o=s==null?void 0:s.length,a=this._getColumnAlignment(t.alignment??""),l=`.${this._getIndicatorClassName("sort")}`,d=`.${this._getIndicatorClassName("sortIndex")}`,c=r.filter(l),h=r.children().filter(d);(n??e.children(`.${this.addWidgetPrefix(cx.cellContent)}`)).toggleClass("dx-text-content-alignment-"+a,o>0).toggleClass("dx-text-content-alignment-"+(a==="left"?"right":"left"),o>0&&t.alignment==="center").toggleClass("dx-sort-indicator",!!c.length).toggleClass("dx-sort-index-indicator",!!h.length).toggleClass("dx-header-filter-indicator",!!r.filter(`.${this._getIndicatorClassName("headerFilter")}`).length)}createCellContent(e,t){const n=M("<div>").addClass(this.addWidgetPrefix(cx.cellContent));this.setAria("role","presentation",n),this.addCssClassesToCellContent(e,t,n);const s=this.option("showColumnLines"),r=this.getController("columns").getHeaderContentAlignment(t.alignment);return s||r==="right"?n.appendTo(e):n.prependTo(e),n}init(){super.init(),this._headerPanelView=this.getView("headerPanel"),this._headerFilterController=this.getController("headerFilter"),this._dataController=this.getController("data"),this._headersKeyboardNavigation=this.getController("headersKeyboardNavigation")}_createTable(){const e=super._createTable.apply(this,arguments);return Y.on(e,"mousedown selectstart",this.createAction(t=>{const{event:n}=t;n.shiftKey&&n.preventDefault()})),e}_isLegacyKeyboardNavigation(){return this.option("useLegacyKeyboardNavigation")}getHeaderDefaultTemplate(e,t){const{column:n}=t,{caption:s}=n,r=!n.command||s&&n.command!=="expand";n.command==="empty"?this._renderEmptyMessage(e,t):r?this.createCellContent(e,n).text(s):n.command&&e.html("&nbsp;")}_renderEmptyMessage(e,t){const n=this._getEmptyHeaderText();if(!n){e.html("&nbsp;");return}const s=this.createCellContent(e,t.column);if(n.includes("{0}")){const[o,a]=n.split("{0}"),l=ue.format("dxDataGrid-emptyHeaderColumnChooserText"),d=this._columnChooserView,c=M("<a>").text(l).addClass(GX);Y.on(c,"click",this.createAction(()=>d.showColumnChooser())),s.append(ve.createTextNode(o)).append(c).append(ve.createTextNode(a))}else s.text(n)}_getEmptyHeaderText(){const e=!!this._columnChooserView.hasHiddenColumns(),t=!!this._headerPanelView.hasGroupedColumns();switch(!0){case(e&&t):return ue.format("dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText");case t:return ue.format("dxDataGrid-emptyHeaderWithGroupPanelText");case e:return ue.format("dxDataGrid-emptyHeaderWithColumnChooserText");default:return""}}_getHeaderTemplate(e){return e.headerCellTemplate||{allowRenderToDetachedContainer:!0,render:this.getHeaderDefaultTemplate.bind(this)}}_processTemplate(e,t){const n=this;let s;const{column:r}=t,o=super._processTemplate(e);return t.rowType==="header"&&o&&r.headerCellTemplate&&!r.command?s={render(a){const l=n.createCellContent(a.container,a.model);o.render(se({},a,{container:l}))}}:s=o,s}_handleDataChanged(e){e.changeType==="refresh"&&(this._isGroupingChanged||this._requireReady)&&(this._isGroupingChanged=!1,this.render())}_renderCell(e,t){const n=super._renderCell(e,t);if(t.row.rowType==="header"&&(n.addClass("dx-cell-focus-disabled"),!this._isLegacyKeyboardNavigation())){const{column:s}=t,r=this._columnsController.isCustomCommandColumn(s);s&&(!s.type||r)&&n.attr("tabindex",this.option("tabindex")||0)}return n}_setCellAriaAttributes(e,t,n){super._setCellAriaAttributes(e,t,n),t.rowType==="header"&&(t.column.type||this.setAria("role","columnheader",e),t.column&&!t.column.command&&!t.column.isBand&&(e.attr("id",t.column.headerId),this.setAria("label",`${ue.format("dxDataGrid-ariaColumn")} ${t.column.caption}`,e)))}_createRow(e){const t=super._createRow.apply(this,arguments);return t.toggleClass("dx-column-lines",this.option("showColumnLines")),e.rowType==="header"&&(t.addClass("dx-header-row"),this._isLegacyKeyboardNavigation()||ih("columnHeaders",this,t,"td",this._handleActionKeyDown.bind(this))),t}_processHeaderAction(e,t){}_handleActionKeyDown(e){const{event:t}=e,n=M(t.target);if(this._lastActionElement=t.target,n.is(".dx-header-filter")){const s=this._headerFilterController,r=n.closest("td"),o=this.getColumnIndexByElement(r);o>=0&&s.showHeaderFilterMenu(o,!1)}else{const s=n.closest(".dx-row");this._processHeaderAction(t,s)}t.preventDefault()}_renderCore(){const e=this.element(),t={};if(this._tableElement&&!this._dataController.isLoaded()&&!this._hasRowElements)return new de().resolve();e.addClass(this.addWidgetPrefix("headers")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")),this.setAria("role","presentation",e);const n=this._updateContent(this._renderTable({change:t}),t);return e.toggleClass("dx-header-multi-row",this.getRowCount()>1),super._renderCore.apply(this,arguments),n}_renderRows(){const e=this;(e._dataController.isLoaded()||e._hasRowElements)&&(super._renderRows.apply(e,arguments),e._hasRowElements=!0)}_renderRow(e,t){const n=this.getRowCount()===1?null:t.row.rowIndex;t.columns=this.getColumns(n),super._renderRow(e,t)}_createCell(e){const{column:t}=e,n=super._createCell.apply(this,arguments);return t.rowspan>1&&e.rowType==="header"&&n.attr("rowSpan",t.rowspan),n}_getRows(){const e=[],t=this.getRowCount();if(this.option("showColumnHeaders"))for(let n=0;n<t;n++)e.push({rowType:"header",rowIndex:n});return e}_getCellTemplate(e){if(e.rowType==="header")return this._getHeaderTemplate(e.column)}_columnOptionChanged(e){const{changeTypes:t}=e,{optionNames:n}=e;if(t.grouping||t.groupExpanding){t.grouping&&(this._isGroupingChanged=!0);return}super._columnOptionChanged(e),(n.width||n.visible)&&this.resizeCompleted.fire()}_isElementVisible(e){return e==null?void 0:e.visible}_alignCaptionByCenter(e){var t;let n=this._getIndicatorContainer(e,!0);(t=n)!==null&&t!==void 0&&t.length&&(n.filter(".dx-visibility-hidden").remove(),n=this._getIndicatorContainer(e),n.clone().addClass("dx-visibility-hidden").css("float","").insertBefore(e.children(`.${this.addWidgetPrefix(cx.cellContent)}`)))}_updateCell(e,t){t.rowType==="header"&&t.column.alignment==="center"&&this._alignCaptionByCenter(e),super._updateCell.apply(this,arguments)}_updateIndicator(e,t,n){const s=super._updateIndicator.apply(this,arguments);return t.alignment==="center"&&this._alignCaptionByCenter(e),this.addCssClassesToCellContent(e,t),s}_getIndicatorContainer(e,t){const n=super._getIndicatorContainer(e);return t?n:n.filter(":not(.dx-visibility-hidden)")}_isSortableElement(e){return!0}getHeadersRowHeight(){const e=this.getTableElement(),t=e==null?void 0:e.find(".dx-header-row");return(t==null?void 0:t.toArray().reduce((n,s)=>n+ht(s),0))||0}getHeaderElement(e){const t=this.getColumnElements();return(t==null?void 0:t.eq(e))??M("")}getColumnElements(e,t){let n;const s=this._columnsController,r=this.getRowCount();if(this.option("showColumnHeaders")){if(r>1&&(!G(e)||G(t))){const o=[];let a=[];return G(t)?a=s.getChildrenByBandColumn(t,!0):a=s.getVisibleColumns(),a.forEach(l=>{const d=e??s.getRowIndex(l.index),c=s.getVisibleIndex(l.index,d);n=this._getCellElement(d,c),n&&o.push(n.get(0))}),M(o)}if(!e||e<r)return this.getCellElements(e||0)}}getColumnIndexByElement(e){const t=this.getCellIndex(e),n=e.closest(".dx-row"),{rowIndex:s}=n[0],r=this.getColumns(s)[t];return r?r.index:-1}getVisibleColumnIndex(e,t){const n=this.getColumns()[e];return n?this._columnsController.getVisibleIndex(n.index,t):-1}getColumnWidths(e,t){const n=this.getColumnElements(t);return n!=null&&n.length?this._getWidths(n):super.getColumnWidths.apply(this,arguments)}isColumnReorderingEnabled(e){return e.allowReordering&&(this.option("allowColumnReordering")??this._columnsController.isColumnOptionUsed("allowReordering"))}allowDragging(e){const t=e&&this._columnsController.getRowIndex(e.index),n=this.getColumns(t);return this.isColumnReorderingEnabled(e)&&n.length>1}getBoundingRect(){const e=this,t=e.getColumnElements();return t!=null&&t.length?{top:e.getTableElement().offset().top}:null}getName(){return"headers"}getColumnCount(){const e=this.getColumnElements();return e?e.length:0}isVisible(){return this.option("showColumnHeaders")}optionChanged(e){const t=this;switch(e.name){case"showColumnHeaders":case"wordWrapEnabled":case"showColumnLines":t._invalidate(!0,!0),e.handled=!0;break;default:super.optionChanged(e)}}getHeight(){return this.getElementHeight()}getContextMenuItems(e){let t;const{column:n}=e;if(e.row&&(e.row.rowType==="header"||e.row.rowType==="detailAdaptive")){const s=this.option("sorting");if(s&&s.mode!=="none"&&n!==null&&n!==void 0&&n.allowSorting){const r=o=>{setTimeout(()=>{this._columnsController.changeSortOrder(n.index,o.itemData.value)})};t=[{text:s.ascendingText,value:"asc",disabled:n.sortOrder==="asc",icon:"context-menu-sort-asc",onItemClick:r},{text:s.descendingText,value:"desc",disabled:n.sortOrder==="desc",icon:"context-menu-sort-desc",onItemClick:r},{name:"clearSorting",text:s.clearText,value:"none",disabled:!n.sortOrder,icon:"context-menu-sort-none",onItemClick:r}]}if(e.row.rowType==="header"){const r=this.getMoveColumnContextMenuItems(e);r!=null&&r.length&&(t=t??[],t.push(...r))}}return t}getRowCount(){var e;return(e=this._columnsController)===null||e===void 0?void 0:e.getRowCount()}toggleDraggableColumnClass(e,t,n){let s,r;const o=this.getRowCount(),a=this._columnsController.getColumns(),l=a==null?void 0:a[e],d=(l==null?void 0:l.isBand)&&l.index,c=(h,u)=>{h.ownerBand===d&&(r.eq(u).toggleClass(this.addWidgetPrefix(xg.draggableColumn),t),h.isBand&&this.toggleDraggableColumnClass(h.index,t,s+1))};if(G(d))for(n=n||0,s=n;s<o;s++)r=this.getCellElements(s),r&&this.getColumns(s).forEach(c)}isFilterRowCell(e){return!1}getKeyboardNavigationController(){return this._headersKeyboardNavigation}renderDragCellContent(e,t){e.text(t.caption??"")}}const f8={defaultOptions:()=>({showColumnHeaders:!0,cellHintEnabled:!0}),views:{columnHeadersView:qX}},Ue=Object.assign({},fn,xe,{modules:[]});f8.views.columnHeadersView;Ue.registerModule("columnHeaders",f8);const YX=2;var cn;(function(i){i.Left="left",i.Right="right",i.Sticky="sticky"})(cn||(cn={}));const Tn={stickyColumn:"sticky-column",stickyColumnLeft:"sticky-column-left",stickyColumnRight:"sticky-column-right",stickyColumnBorderRight:"sticky-column-border-right",stickyColumnBorderLeft:"sticky-column-border-left",stickyColumns:"sticky-columns",firstHeader:"first-header",columnNoBorder:"column-no-border",groupRowContainer:"group-row-container",focusedFixedElement:"dx-focused-fixed-element"},m8=["filterValues","filterType","fixed","fixedPosition"],Pg=["visibleIndex","dataField","name","dataType","width","visible","sortOrder","lastSortOrder","sortIndex","groupIndex","filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","added"].concat(m8),XX={visibleWidth:!0,bestFitWidth:!0,bufferedFilterValue:!0},ZX="dx-command-expand",LD=Number.MAX_SAFE_INTEGER||9007199254740991,Ba="groupExpand",QX="detailExpand",ux=/columns\[(\d+)\]\.?/gi,JX={visible:!0,showInColumnChooser:!0},eZ={number:["=","<>","<",">","<=",">=","between"],string:["contains","notcontains","startswith","endswith","=","<>"],date:["=","<>","<",">","<=",">=","between"],datetime:["=","<>","<",">","<=",">=","between"]},tZ={visibleIndex:!0,groupIndex:!0,grouped:!0,sortIndex:!0,sortOrder:!0},Vd="group",Ld="columnChooser",nZ=["fixed","fixedPosition","type","buttons"],iZ=["ai"],J1="adaptiveHidden",Wa=(i,e)=>{const{fixedPosition:t}=e,n=i.option("rtlEnabled"),s=e.command&&e.command==="expand";return e.command&&!xe.isCustomCommandColumn(i._columns,e)&&n&&!s?t===cn.Right?cn.Left:cn.Right:t??cn.Left},eS=function(i,e){return i.isVirtualMode()&&!!e.fixed&&e.fixedPosition===cn.Sticky},$D=function(i,e){return e.map(t=>eS(i,t)?Object.assign({},t,{fixed:!1,fixedPosition:""}):t)},tS=function(i,e){return e.visibleWidth!==J1&&(!e.isBand||!!i.getVisibleDataColumnsByBandColumn(e.index).length)},HD=function(i,e){return!e.some(t=>!t.fixed&&tS(i,t))},Bf=function(i,e,t,n,s,r){const o=e[n],a=G(o.ownerBand),l=s===cn.Right,d=o.fixedPosition===cn.Sticky,c=l?e.slice(n+1):e.slice(0,n).reverse(),h=l?t.slice(n+1):t.slice(0,n).reverse();let u=0,p=0,f=!HD(i,c)&&d&&c.length?1:0;if(c.forEach((m,v)=>{if(m.fixed&&(!G(r)||o.ownerBand===m.ownerBand)){const _=m.fixedPosition===cn.Sticky;u+=h[v]??m.visibleWidth,d&&_&&!HD(i,c.slice(v+1))&&(v!==p?(f+=1,p=v+1):p+=1)}else tS(i,m)||(p+=1)}),a&&G(r)){var g;return u+=(r==null||(g=r[o.ownerBand])===null||g===void 0?void 0:g[s])??0,u}return u-f*YX},g8=function(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,r=arguments.length>5?arguments[5]:void 0;const a=i.option("rtlEnabled")!==s?"isLastColumn":"isFirstColumn";if(e.fixedPosition===cn.Sticky){const l=i.getParentColumn(e)??e;if(i[a](l,0))return!1}return i[a](e,t,n,r)},sZ=function(i,e,t,n){const s=i.getVisibleIndex(e.index,n);return t==null?void 0:t.slice(0,s).reverse().find(r=>tS(i,r))},_8=function(i,e,t,n,s){const r={},o=e[n];if(o)switch(Wa(i,o)){case cn.Sticky:{const l=Bf(i,e,t,n,cn.Left,s),d=Bf(i,e,t,n,cn.Right,s);r.left=l,r.right=d;break}case cn.Right:{const l=Bf(i,e,t,n,cn.Right,s);r.right=l;break}default:{const l=Bf(i,e,t,n,cn.Left,s);r.left=l}}return r},jD=function(i,e,t,n){const s=sZ(i,e,t,n),r=Wa(i,e),o=s&&Wa(i,s);return!!(s!=null&&s.fixed)&&!eS(i,s)&&(!e.fixed||r===cn.Sticky||o===cn.Sticky)},rZ=function(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const s=i.getVisibleColumns(n?null:t),r=i.getParentColumn(e);return r?i.isFirstColumn(e,t,!0)&&jD(i,r,i.getVisibleColumns(0),0):jD(i,e,s,t)},v8=function(i){const e={};return G(i.left)&&(e.left=`${i.left}px`),G(i.right)&&(e.right=`${i.right}px`),e},oZ=function(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=arguments.length>4?arguments[4]:void 0;return g8(i,e,t,n,!1,s)},aZ=function(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=arguments.length>4?arguments[4]:void 0;return g8(i,e,t,n,!0,s)},x8=function(i,e,t){return!(G(i.isLeftBoundary)||G(i.isRightBoundary))&&!!e&&!!t&&e.fixed!==t.fixed},lZ=(i,e)=>{if(i!=null&&i._isWarnedAboutUnsupportedProperties||!e||!Array.isArray(e)||(e==null?void 0:e.length)===0)return;let t=null;for(const n of e){if(t)break;if(!(!n||typeof n!="object"||n===null)){for(const s of nZ)if(s in n){t=s;break}}}t&&(i&&(i._isWarnedAboutUnsupportedProperties=!0),pt.log("W1028",t))},b8=function(i){i.filterOperations=i.defaultFilterOperations};let dZ=1;const G0=function(i,e,t,n){let s={};if(e){Ke(e)&&(e={dataField:e}),i.setName(e);let r={};if(e.command)r=Gi(s,e);else{s=i.getCommonSettings(e),t&&t.name&&t.dataField&&(e=se({},e,{dataField:t.dataField}));const o=i._createCalculatedColumnOptions(e,n);e.type||(r={headerId:"dx-col-"+dZ++}),r=Gi(r,JX,!1,!0),Gi(r,s,!1,!0),Gi(r,o,!1,!0),Gi(r,e,!1,!0),Gi(r,{selector:null},!1,!0)}return e.filterOperations===e.defaultFilterOperations&&b8(r),r}},vl=function(i,e,t,n){let s=[];return e&&ie(e,(r,o)=>{const a=(n??0)+s.length,l=i._columnsUserState&&nS(o,i._columnsUserState[a])&&i._columnsUserState[a],d=G0(i,o,l,t);d&&(t&&(d.ownerBand=t),s.push(d),d.columns&&(lZ(i,d.columns),s=s.concat(vl(i,d.columns,d,s.length)),delete d.columns,d.hasColumns=!0))}),s},mo=function(i,e){const t=[];let n=e[i];for(;n;)t.unshift(n),i=n.index,n=e[i];return t},y8=function(i,e,t){let n=[];const s=e[i];if(s)for(let r=0;r<s.length;r++){const o=s[r];(!G(o.groupIndex)||o.showWhenGrouped)&&(n.push(o),t&&o.isBand&&(n=n.concat(y8(o.index,e,t))))}return n},cZ=function(i,e){let t,n;const s=i.getBandColumnsCache(),r=function(o){const a=t?t.index:void 0;return o.ownerBand===a};if(s.isPlain)t=i._columns[e[0]];else{n=i._columns.filter(r);for(let o=0;o<e.length;o++)t=n[e[o]],t&&(n=i._columns.filter(r))}return t},uZ=function(i,e){let t=[],n;const s=i.getBandColumnsCache(),r=function(o){return o.ownerBand===e.ownerBand};if(s.isPlain){const o=i._columns.indexOf(e);o>=0&&(t=[`columns[${o}]`])}else for(n=i._columns.filter(r);n.length&&n.indexOf(e)!==-1;)t.unshift(`columns[${n.indexOf(e)}]`),e=s.columnParentByIndex[e.index],n=e?i._columns.filter(r):[];return t.join(".")},C8=function(i,e){let t=0;const n=i.getChildrenByBandColumn(e,!0);return ie(n,(s,r)=>{r.isBand?(r.colspan=r.colspan||C8(i,r.index),t+=r.colspan||1):t+=1}),t},hZ=function(i,e,t){let n;for(let s=0;s<e.length;s++){const r=e[s];(r.visible||r.command)&&(r.isBand&&(r.colspan=r.colspan||C8(i,r.index)),(!r.isBand||!r.colspan)&&(n=i.getRowCount(),!r.command&&(!G(r.groupIndex)||r.showWhenGrouped)&&(n-=mo(r.index,t.columnParentByIndex).length),n>1&&(r.rowspan=n)))}},hx=function(i){let e=Ji(i);return e!=="string"&&e!=="boolean"&&e!=="number"&&e!=="date"&&e!=="object"&&(e=void 0),e},zD=function(i,e){switch(i){case"date":case"datetime":return Wn.getDateSerializationFormat(e);case"number":if(Ke(e))return"string";if(jt(e))return null}},WD=function(i,e){i.deserializeValue||(xe.isDateType(e)&&(i.deserializeValue=function(t){return Wn.deserializeDate(t)},i.serializeValue=function(t){return Ke(t)?t:Wn.serializeDate(t,this.serializationFormat)}),e==="number"&&(i.deserializeValue=function(t){const n=parseFloat(t);return isNaN(n)?t:n},i.serializeValue=function(t,n){return n==="filter"?t:G(t)&&this.serializationFormat==="string"?t.toString():t}))},pZ=function(i,e){switch(i){case"number":return"right";case"boolean":return"center";default:return tl(e)}},fZ=function(i){return i.value===!0?this.trueText||"true":i.value===!1?this.falseText||"false":i.valueText||""},UD=function(i){if(i==="boolean")return fZ},mZ=function(i,e){const t=i._getFirstItems(e);let n;const s={},r=[];for(let o=0;o<t.length;o++)if(t[o])for(n in t[o])(!Ie(t[o][n])||bi.isWrapped(t[o][n]))&&(s[n]=!0);for(n in s)if(n.indexOf("__")!==0){const o=G0(i,n);r.push(o)}return r},w8=function(i){ie(i._columns,(e,t)=>{t.index=e}),ie(i._columns,(e,t)=>{Me(t.ownerBand)&&(t.ownerBand=t.ownerBand.index)}),ie(i._commandColumns,(e,t)=>{t.index=-(e+1)})},S8=function(i,e){Uh(i._columns,"groupIndex",e,t=>{const{grouped:n}=t;return delete t.grouped,n})},gZ=function(i,e){ie(i._columns,(t,n)=>{G(n.sortIndex)&&!Mg(n.sortOrder)&&delete n.sortIndex}),Uh(i._columns,"sortIndex",e,t=>!G(t.groupIndex)&&Mg(t.sortOrder))},_Z=function(i,e){let t;const n=[],s=i.getBandColumnsCache(),r=[],o=i._columns.filter(a=>!a.command);for(let a=0;a<o.length;a++)t=o[a],mo(a,s.columnParentByIndex).length?r.push(t):n.push(t);Uh(r,"visibleIndex",e),Uh(n,"visibleIndex",e)},px=function(i,e,t){const n=Me(e)?e.rowIndex:null,s=t===Vd?i.getGroupColumns():t===Ld?i.getChooserColumns():i.getVisibleColumns(n,!0);let r;return e=Me(e)?e.columnIndex:e,r=s[e],r&&r.type===Ba&&(r=i._columns.filter(o=>r.type===o.type)[0]||r),r&&G(r.index)?r.index:-1},vZ=function(i,e,t){const n=i.getGroupColumns();let s;if(t>=0)for(s=0;s<n.length;s++)n[s].groupIndex>=t&&n[s].groupIndex++;else for(t=0,s=0;s<n.length;s++)t=Math.max(t,n[s].groupIndex+1);return t};function nS(i,e){return i&&e&&e.name===(i.name||i.dataField)&&(e.dataField===i.dataField||i.name)}const KD=function(i){const e=i._columnsUserState,t=i._ignoreColumnOptionNames||[],n=i._columns,s={};let r=[],o=!0;const a=[];let l,d,c;function h(p,f){if(f)for(let g=0;g<Pg.length;g++){const m=Pg[g];t.includes(m)||(m==="dataType"?p[m]=p[m]||f[m]:m8.includes(m)?m in f&&(p[m]=f[m]):(m==="selectedFilterOperation"&&f[m]&&(p.defaultSelectedFilterOperation=p[m]||null),p[m]=f[m]))}}function u(p,f){const g=f.name||f.dataField;let m=s[g]||0;for(let v=0;v<p.length;v++)if(nS(f,p[v]))if(m)m--;else return s[g]=s[g]||0,s[g]++,v;return-1}if(e){for(c=0;c<n.length;c++)d=u(e,n[c]),o=o&&d>=0,a.push(d);for(c=0;c<n.length;c++)l=n[c],d=a[c],(i._hasUserState||o)&&h(l,e[d]),d>=0&&G(e[d].initialIndex)?r[d]=l:r.push(l);let p=!1;for(c=0;c<e.length;c++){const f=e[c];f.added&&u(n,f)<0&&(l=G0(i,f.added),h(l,f),r.push(l),f.added.columns&&(p=!0))}p&&(w8(i),r=vl(i,r)),$d(i,r)}},ml=function(i,e){w8(i),S8(i,e),gZ(i,e),I8(i),_Z(i,e)},q0=function(i){i.resetColumnsCache()};function $d(i,e){i._previousColumns=i._columns,i._columns=e,q0(i),i.updateColumnDataTypes()}const Br=function(i,e,t,n){const s=i._columnChanges||{optionNames:{length:0},changeTypes:{length:0},columnIndex:n};t=t||"all",t=t.split(".")[0];const{changeTypes:r}=s;e&&!r[e]&&(r[e]=!0,r.length++);const{optionNames:o}=s;t&&!o[t]&&(o[t]=!0,o.length++),(n===void 0||n!==s.columnIndex)&&(G(n)&&(s.columnIndices??(s.columnIndices=[]),G(s.columnIndex)&&s.columnIndices.push(s.columnIndex),s.columnIndices.push(n)),delete s.columnIndex),i._columnChanges=s,q0(i)},yu=function(i){const e=i.option("onColumnsChanging"),t=i._columnChanges,n=["dataField","lookup","dataType","columns"];i.isInitialized()&&!i._updateLockCount&&t&&(e&&(i._updateLockCount++,e(se({component:i.component},t)),i._updateLockCount--),i._columnChanges=void 0,s=t.optionNames,s&&n.some(r=>s[r])?(i._reinitAfterLookupChanges=t==null?void 0:t.optionNames.lookup,i.reinit(),i._reinitAfterLookupChanges=void 0):i.columnsChanged.fire(t));var s},xZ=function(i,e,t,n){const s=n>=0;if(t>=0)s||(e.lastSortOrder=e.sortOrder);else{const r=i.option("sorting.mode");let o=e.lastSortOrder;r==="single"&&i._columns.some(l=>l!==e&&G(l.sortIndex))&&(o=void 0),e.sortOrder=o}},bZ=function(i,e){const{value:t}=e,{optionName:n}=e,{prevValue:s}=e,{fullOptionName:r}=e,o=`${r}.${n}`;!XX[n]&&i._skipProcessingColumnsChange!==o&&(i._skipProcessingColumnsChange=o,i.component._notifyOptionChanged(o,t,s),i._skipProcessingColumnsChange=!1)},fx=function(i,e,t,n,s){const r=qt(t),o=e.index;let a,l,d;if(arguments.length===3)return r(e,{functionsAsIs:!0});const c=r(e,{functionsAsIs:!0});if(!dn(c,n,{maxDepth:5})){t==="groupIndex"?(l="grouping",xZ(i,e,n,c)):t==="calculateGroupValue"?l="grouping":t==="sortIndex"||t==="sortOrder"||t==="calculateSortValue"?l="sorting":l="columns";const h=s1(t);h(e,n,{functionsAsIs:!0});const u=uZ(i,e);tZ[t]&&(ml(i,e),n=r(e)),(t==="name"||t==="allowEditing")&&i._checkColumns(),!G(c)&&!G(n)&&t.indexOf("buffer")!==0&&s!==!1&&(s=!0),s?q0(i):(!Pg.includes(t)&&t!=="visibleWidth"&&(a=i.option("columns"),d=i.getColumnByPath(u,a),Ke(d)&&(d=a[o]={dataField:d}),d&&nS(d,e)&&h(d,n,{functionsAsIs:!0})),Br(i,l,t,o)),u&&bZ(i,{fullOptionName:u,optionName:t,value:n,prevValue:c}),e.type===bs&&i.aiColumnOptionChanged.fire(e,t,n)}};function Mg(i){return i==="asc"||i==="desc"}const yZ=function(i){const e=i._getExpandColumnOptions();i.addCommandColumn(e)},CZ=function(i,e){if(!this.dataField)return;const t=this.dataField.split("."),n=t.length-1;this.serializeValue&&(e=this.serializeValue(e));for(let s=0;s<n;s++){const r=t[s];i=i[r]=i[r]||{}}i[t[n]]=e},E8=function(i,e,t){const n=[];return e=e||0,i[e]&&ie(i[e],(s,r)=>{(r.ownerBand===t||r.type===Ba)&&(!r.isBand||!r.colspan?(!r.command||e<1)&&n.push(r):n.push.apply(n,E8(i,e+1,r.index)))}),n},wZ=function(i){let e=1;const t=i.getBandColumnsCache(),{columnParentByIndex:n}=t;return i._columns.forEach(s=>{const r=mo(s.index,n),o=r.filter(a=>!a.visible);s.visible&&!o.length&&(e=Math.max(e,r.length+1))}),e},GD=function(i,e){const t=i.option("rtlEnabled");return e.command&&!xe.isCustomCommandColumn(i._columns,e)||!e.fixedPosition?t?"right":"left":e.fixedPosition},qD=function(i,e,t,n){let s;const r=this.getRowCount();let o=i[n]&&i[n].rowspan,a=e.filter(l=>l.type===t);return i.forEach((l,d)=>{l.type===t&&(s=d,o=i[d+1]?i[d+1].rowspan:r)}),o>1&&(a=Mn(a,l=>se({},l,{rowspan:o}))),a.unshift.apply(a,G(s)?[s,1]:[n,0]),i.splice.apply(i,a),o||1},SZ=function(i){let e;for(e=0;i>1;e++)i/=10;return e},YD=function(i,e){let t=i?i.toString():"0";for(;t.length<e;)t=`0${t}`;return t},XD=(i,e,t,n)=>{let s,r,o=e.slice().map(h=>se({},h));const a=i._isColumnFixing();let l=t.slice().map(h=>se({fixed:a},h));const d=h=>t.reduce((u,p,f)=>{const g=n&&h.type===Ba?"expand":h.type;return p.type===g||p.command===h.command?f:u},-1),c=h=>h.command!==t[r].command;for(let h=0;h<e.length;h++)if(s=e[h],r=s&&(s.type||s.command)?d(s):-1,r>=0)if(n)o[h]=se({fixed:a},t[r],s,{calculateCellValue:t[r].calculateCellValue,cssClass:[t[r].cssClass??"",s.cssClass??""].join(" ").trim()}),s.type!==Ba&&(l=l.filter(c));else{const u={visibleIndex:s.visibleIndex,index:s.index,headerId:s.headerId,allowFixing:s.groupIndex===0,allowReordering:s.groupIndex===0,groupIndex:s.groupIndex};o[h]=se({},s,t[r],s.type===Ba&&u)}return e.length&&n&&l.length&&(o=o.concat(l)),o},ZD=(i,e)=>e.type&&e.type!==bs?i._isColumnFixing():e.fixed&&e.fixedPosition!==cn.Sticky,EZ=i=>{i.forEach(e=>{G(e.ownerBand)&&(e.ownerBand=i[e.ownerBand])})},I8=i=>{i._bandColumnsCache=void 0},QD=(i,e)=>{const t=Ke(e)&&e.substr(0,e.indexOf(":"));let n;if(e!==void 0)return t&&(e=e.substr(t.length+1)),t?n=i.filter(s=>`${s[t]}`===e)[0]:["index","name","dataField","caption"].some(s=>(n=i.filter(r=>r[s]===e)[0],!!n)),n},IZ=(i,e)=>{if(e!=="asc"&&e!=="desc")return i;const t=e==="asc"?1:-1;return i.sort((n,s)=>{const r=n.caption||"",o=s.caption||"";return t*r.localeCompare(o)}),i},TZ=function(i,e){const t=Jt.parse(i);if(jt(t)){const n=Jt.format(t,e),s=Jt.format(t,"decimal");if(n===i||s===i)return t}},DZ=function(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=arguments.length>4?arguments[4]:void 0;return e.every((r,o)=>t&&o===0||T8(i,r,o,t,n,s))},T8=function(i,e,t){var n,s;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,a=arguments.length>5?arguments[5]:void 0;const l=e.index,d=(c=t,i.getVisibleColumns(c).filter(u=>{let p=!0;return u.visibleWidth===J1?!1:(r&&e?p&&(p=u.ownerBand===e.ownerBand):a&&p&&(p=u.fixed&&Wa(i,u)===a),p)}));var c;const h=i.getVisibleIndex(l,t);return o?h===i.getVisibleIndex((n=d[d.length-1])===null||n===void 0?void 0:n.index,t):h===i.getVisibleIndex((s=d[0])===null||s===void 0?void 0:s.index,t)},JD=function(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,r=arguments.length>5?arguments[5]:void 0;const o=e.index,a=i.getBandColumnsCache(),l=!G(e.type)&&mo(o,a.columnParentByIndex);return l!=null&&l.length?DZ(i,l.concat([e]),n,s,r):n||T8(i,e,t,n,s,r)},eA=function(i){let{type:e=""}=i;return iZ.includes(e)},AZ=i=>`.dx-header-row td[aria-colindex="${i+1}"]`;class kZ extends fn.Controller{getCommonColumnSettings(e){switch(!0){case!(e!=null&&e.type):return this.option("commonColumnSettings");case(e==null?void 0:e.type)===bs:return this.getAIColumnSettings();default:return{}}}getAIColumnSettings(){return{allowHiding:!0,ai:{mode:"auto",showHeaderMenu:!0}}}init(e){this._dataController=this.getController("data"),this._focusController=this.getController("focus"),this._stateStoringController=this.getController("stateStoring");const t=this.option("columns");this._commandColumns=this._commandColumns||[],this._columns=this._columns||[],this._isColumnsFromOptions=!!t,this._isColumnsFromOptions?($d(this,t?vl(this,t):[]),KD(this)):$d(this,this._columnsUserState?vl(this,this._columnsUserState):this._columns),yZ(this),this._dataSourceApplied?this.applyDataSource(this._dataSource,!0,e):ml(this),this._checkColumns()}_getExpandColumnOptions(){return{type:"expand",command:"expand",width:"auto",cssClass:ZX,allowEditing:!1,allowGrouping:!1,allowSorting:!1,allowResizing:!1,allowReordering:!1,allowHiding:!1}}_getFirstItems(e){let t,n=[];const s=function(r,o){if(!r||!o)return r;for(let a=0;a<r.length;a++){const l=s(r[a].items||r[a].collapsedItems,o-1);if(l&&l.length)return l}};return e&&e.items().length>0&&(t=xe.normalizeSortingInfo(e.group()).length,n=s(e.items(),t)||[]),n}_endUpdateCore(){!this._skipProcessingColumnsChange&&yu(this)}callbackNames(){return["columnsChanged","aiColumnOptionChanged"]}getColumnByPath(e,t){const n=this;let s;const r=[];return e.replace(ux,(o,a)=>(r.push(parseInt(a)),"")),r.length&&(t?s=r.reduce((o,a)=>o&&o.columns&&o.columns[a],{columns:t}):s=cZ(n,r)),s}optionChanged(e){let t;switch(e.name){case"adaptColumnWidthByRatio":e.handled=!0;break;case"dataSource":e.value!==e.previousValue&&!this.option("columns")&&(!Array.isArray(e.value)||!Array.isArray(e.previousValue))&&(this._columns=[]);break;case"columns":t=this._skipProcessingColumnsChange,e.handled=!0,this._skipProcessingColumnsChange||(e.name===e.fullName?(this._columnsUserState=null,this._ignoreColumnOptionNames=null,this.init()):(this._columnOptionChanged(e),t=!0)),t&&this._updateRequireResize(e);break;case"commonColumnSettings":case"columnAutoWidth":case"allowColumnResizing":case"allowColumnReordering":case"columnFixing":case"grouping":case"groupPanel":case"regenerateColumnsByVisibleItems":case"customizeColumns":case"columnHidingEnabled":case"dateSerializationFormat":case"columnResizingMode":case"columnMinWidth":case"columnWidth":{e.handled=!0;const n=e.fullName==="columnWidth"&&["width"];this.reinit(n);break}case"rtlEnabled":this.reinit();break;default:super.optionChanged(e)}}_columnOptionChanged(e){let t={};const n=this.getColumnByPath(e.fullName),s=this.getColumnOptionNameByFullName(e.fullName);n&&(s?t[s]=e.value:t=e.value,this._skipProcessingColumnsChange=e.fullName,this.columnOption(n.index,t),this._skipProcessingColumnsChange=!1)}_updateRequireResize(e){const{component:t}=this;e.fullName.replace(ux,"")==="width"&&t._updateLockCount&&(t._requireResize=!0)}publicMethods(){return["addColumn","deleteColumn","columnOption","columnCount","clearSorting","clearGrouping","getVisibleColumns","getVisibleColumnIndex","getColumns"]}applyDataSource(e,t,n){const s=this,r=e&&e.isLoaded();if(s._dataSource=e,!s._dataSourceApplied||s._dataSourceColumnsCount===0||t||s.option("regenerateColumnsByVisibleItems")){if(r){if(!s._isColumnsFromOptions){const o=mZ(s,e);o.length&&($d(s,o),s._dataSourceColumnsCount=s._columns.length,KD(s))}return s.updateColumns(e,t,n)}s._dataSourceApplied=!1,ml(s)}else if(r&&!s.isAllDataTypesDefined(!0)&&s.updateColumnDataTypes(e))return Br(s,"columns"),yu(s),new de().reject().promise()}reset(){this._dataSource=null,this._dataSourceApplied=!1,this._dataSourceColumnsCount=void 0,this.reinit()}resetColumnsCache(){this._visibleColumns=void 0,this._fixedColumns=void 0,this._rowCount=void 0,I8(this)}reinit(e){this._columnsUserState=this.getUserState(),this._ignoreColumnOptionNames=e||null,this.init(),e&&(this._ignoreColumnOptionNames=null)}isInitialized(){return!!this._columns.length||!!this.option("columns")}isDataSourceApplied(){return this._dataSourceApplied}getCommonSettings(e){const t=this.getCommonColumnSettings(e),n=this.option("grouping")??{},s=this.option("groupPanel")??{};return se({allowFixing:this.option("columnFixing.enabled"),allowResizing:this.option("allowColumnResizing")||void 0,allowReordering:this.option("allowColumnReordering"),minWidth:this.option("columnMinWidth"),width:this.option("columnWidth"),autoExpandGroup:n.autoExpandAll,allowCollapsing:n.allowCollapsing,allowGrouping:s.allowColumnDragging&&s.visible||n.contextMenuEnabled},t)}isColumnOptionUsed(e){for(let t=0;t<this._columns.length;t++)if(this._columns[t][e])return!0}isAllDataTypesDefined(e){const t=this._columns;if(!t.length)return!1;for(let n=0;n<t.length;n++)if(!(!t[n].dataField&&t[n].calculateCellValue===t[n].defaultCalculateCellValue)&&(!t[n].dataType||e&&t[n].deserializeValue&&t[n].serializationFormat===void 0))return!1;return!0}getColumns(){return this._columns}getColumnByName(e){return this.getColumns().find(t=>t.name===e)}isBandColumnsUsed(){return this.getColumns().some(e=>e.isBand)}getGroupColumns(){const e=[];return this._columns.forEach(t=>{G(t.groupIndex)&&!t.type&&(e[t.groupIndex]=t)}),e}_shouldReturnVisibleColumns(){return!0}_compileVisibleColumns(e){return this._visibleColumns=this._visibleColumns||this._compileVisibleColumnsCore(),e=G(e)?e:this._visibleColumns.length-1,this._visibleColumns[e]||[]}getVisibleColumns(e,t){return this._shouldReturnVisibleColumns()?this._compileVisibleColumns.apply(this,arguments):[]}getFixedColumns(e){return this._fixedColumns=this._fixedColumns||this._getFixedColumnsCore(),e=G(e)?e:this._fixedColumns.length-1,this._fixedColumns[e]||[]}getFilteringColumns(){return this.getColumns().filter(e=>(e.dataField||e.name)&&(e.allowFiltering||e.allowHeaderFiltering)).map(e=>{const t=se(!0,{},e);return G(t.dataField)||(t.dataField=t.name),t.filterOperations=e.filterOperations!==e.defaultFilterOperations?t.filterOperations:null,t})}getColumnIndexOffset(){return 0}getStickyColumns(e){return this.getVisibleColumns(e,!0).filter(n=>n.fixed)}_getFixedColumnsCore(){const e=this,t=[],n=e.getRowCount(),s=e._isColumnFixing(),r={command:"transparent"};let o=0,a,l,d;if(s)for(let c=0;c<=n;c++){a=0,d=null,l=null;const h=e.getVisibleColumns(c,!0);for(let u=0;u<h.length;u++){const p=h[u-1],f=h[u];!f.fixed||f.fixedPosition===cn.Sticky?(c===0&&(f.isBand&&f.colspan?o+=f.colspan:o++),a++,G(l)||(l=u)):p&&p.fixed&&GD(e,p)!==GD(e,f)?G(l)||(l=u):d=f.fixedPosition}if(c===0&&(a===0||a>=h.length))return[];G(l)||(l=d==="right"?0:h.length),t[c]=h.slice(0),r.colspan||(r.colspan=o),t[c].splice(l,a,r)}return t.map(c=>c.map(h=>{const u=Object.assign({},h);return u.headerId&&(u.headerId+="-fixed"),u}))}_isColumnFixing(){let e=this.option("columnFixing.enabled");return!e&&ie(this._columns,(t,n)=>{if(n.fixed)return e=!0,!1}),e}_getExpandColumnsCore(){return this.getGroupColumns()}getExpandColumns(){let e=this._getExpandColumnsCore(),t;const n=e.filter(a=>a.groupIndex===0)[0],s=n&&n.fixed,r=this._isColumnFixing(),o=this.option("rtlEnabled");return e.length&&(t=this.columnOption("command:expand")),e=Mn(e,a=>se({},Object.assign({},a,{ownerBand:void 0}),{visibleWidth:null,minWidth:null,cellTemplate:G(a.groupIndex)?null:a.cellTemplate,headerCellTemplate:null,fixed:!G(a.groupIndex)||!s?r:!0,fixedPosition:o?"right":"left"},t,{index:a.index,type:a.type||Ba})),e}getBandColumnsCache(){if(!this._bandColumnsCache){const e=this._columns,t={},n={};let s=!0;e.forEach(r=>{const{ownerBand:o}=r;let a=Me(o)?o.index:o;const l=e[a];r.hasColumns&&(s=!1),r.colspan&&(r.colspan=void 0),r.rowspan&&(r.rowspan=void 0),l?n[r.index]=l:a=-1,t[a]=t[a]||[],t[a].push(r)}),this._bandColumnsCache={isPlain:s,columnChildrenByIndex:t,columnParentByIndex:n}}return this._bandColumnsCache}_isColumnVisible(e){return e.visible&&this.isParentColumnVisible(e.index)}_isColumnInGroupPanel(e){return G(e.groupIndex)&&!e.showWhenGrouped}hasVisibleDataColumns(){return this._columns.some(t=>{const n=this._isColumnVisible(t),s=this._isColumnInGroupPanel(t),r=!!t.command;return n&&!s&&!r})}_compileVisibleColumnsCore(){const e=this.getBandColumnsCache(),t=XD(this,this._columns,this._commandColumns,!0);hZ(this,t,e);const n=this._getIndexedColumns(t),s=this._getVisibleColumnsFromIndexed(n);return!this.hasVisibleDataColumns()&&this._columns.length&&s[s.length-1].push({command:"empty",type:"empty"}),s}_getIndexedColumns(e){const t=this.option("rtlEnabled"),n=this.getRowCount(),s=SZ(e.length),r=this.getBandColumnsCache(),o=[],a=[];for(let l=0;l<n;l+=1)a[l]=[{}],o[l]=[{},{},{}];return e.forEach(l=>{let{visibleIndex:d}=l,c;const h=mo(l.index,r.columnParentByIndex),u=this._isColumnVisible(l),p=this._isColumnInGroupPanel(l);if(u&&!p){const m=h.length;if(d<0)d=-d,c=a[m];else{var f,g;if(l.fixed=((f=h[0])===null||f===void 0?void 0:f.fixed)??l.fixed,l.fixedPosition=((g=h[0])===null||g===void 0?void 0:g.fixedPosition)??l.fixedPosition,l.fixed&&l.fixedPosition!==cn.Sticky){const v=!!l.command&&!xe.isCustomCommandColumn(this._columns,l);let _=l.fixedPosition==="right";t&&!v&&(_=!_),c=_?o[m][2]:o[m][0]}else c=o[m][1]}if(h.length){d=YD(d,s);for(let v=h.length-1;v>=0;v-=1)d=YD(h[v].visibleIndex,s)+d}c[d]=c[d]||[],c[d].push(l)}}),{positiveIndexedColumns:o,negativeIndexedColumns:a}}_getVisibleColumnsFromIndexed(e){let{positiveIndexedColumns:t,negativeIndexedColumns:n}=e;const s=[],r=this.getRowCount(),o=XD(this,this.getExpandColumns(),this._columns);let a=0,l=0;for(let d=0;d<r;d+=1){s.push([]),cy(n[d],(u,p)=>{s[d].unshift.apply(s[d],p)});const c=s[d].length;t[d].forEach(u=>{cy(u,(p,f)=>{s[d].push.apply(s[d],f)})}),l<=d&&(l+=qD.call(this,s[d],o,QX,c)),a<=d&&(a+=qD.call(this,s[d],o,Ba,c))}return s.push(E8(s)),s}getInvisibleColumns(e,t){const n=this;let s=[],r;return e=e||n._columns,ie(e,(o,a)=>{if(a.ownerBand===t){if(a.isBand){a.visible?r=n.getInvisibleColumns(n.getChildrenByBandColumn(a.index),a.index):r=n.getChildrenByBandColumn(a.index),r.length&&(s.push(a),s=s.concat(r));return}a.visible||s.push(a)}}),s}getChooserColumns(e){const n=(e?this.getColumns():this.getInvisibleColumns()).filter(r=>r.showInColumnChooser),s=this.option("columnChooser.sortOrder");return IZ(n,s)}allowMoveColumn(e,t,n,s){const r=px(this,e,n),o=this._columns[r];return o&&(o.allowReordering||o.allowGrouping||o.allowHiding)?n===s?n===Ld?!1:(e=Me(e)?e.columnIndex:e,t=Me(t)?t.columnIndex:t,e!==t&&e+1!==t):n===Vd&&s!==Ld||s===Vd?o&&o.allowGrouping:n===Ld||s===Ld?o&&o.allowHiding:!0:!1}moveColumn(e,t,n,s){const r=this,o={};let a;const l=px(r,e,n),d=px(r,t,s);let c;if(l>=0){const h=r._columns[l];if(t=Me(t)?t.columnIndex:t,c=d>=0?r._columns[d].groupIndex:-1,G(h.groupIndex)&&n===Vd&&(c>h.groupIndex&&c--,s!==Vd?o.groupIndex=void 0:(a=h.groupIndex,delete h.groupIndex,S8(r))),s===Vd)o.groupIndex=vZ(r,h,c),h.groupIndex=a;else if(t>=0){const p=r._columns[d];!p||h.ownerBand!==p.ownerBand||ZD(r,h)^ZD(r,p)?o.visibleIndex=LD:o.visibleIndex=p.visibleIndex}const u=s!==Ld;h.visible!==u&&(o.visible=u),r.columnOption(h.index,o)}}allowColumnSorting(e){const t=this.option("sorting");return((t==null?void 0:t.mode)==="single"||(t==null?void 0:t.mode)==="multiple")&&(e==null?void 0:e.allowSorting)}changeSortOrder(e,t){const n=this,s={},r=n.option("sorting"),a=(r==null?void 0:r.mode)==="single"||!t,l=n._columns[e];this.allowColumnSorting(l)&&(a&&!G(l.groupIndex)&&ie(n._columns,function(d){d!==e&&this.sortOrder&&(G(this.groupIndex)||delete this.sortOrder,delete this.sortIndex)}),Mg(t)?l.sortOrder!==t&&(s.sortOrder=t):t==="none"?l.sortOrder&&(s.sortIndex=void 0,s.sortOrder=void 0):function(d){if(t==="ctrl"){if(!("sortOrder"in d&&"sortIndex"in d))return!1;s.sortOrder=void 0,s.sortIndex=void 0}else G(d.groupIndex)||G(d.sortIndex)?s.sortOrder=d.sortOrder==="desc"?"asc":"desc":s.sortOrder="asc";return!0}(l)),n.columnOption(l.index,s)}getSortDataSourceParameters(e){const t=[],n=[];return ie(this._columns,function(){(this.dataField||this.selector||this.calculateCellValue)&&G(this.sortIndex)&&!G(this.groupIndex)&&(t[this.sortIndex]=this)}),ie(t,function(){const s=this&&this.sortOrder;if(Mg(s)){const r={selector:this.calculateSortValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue,desc:this.sortOrder==="desc"};this.sortingMethod&&(r.compare=this.sortingMethod.bind(this)),n.push(r)}}),n.length>0?n:null}getGroupDataSourceParameters(e){const t=[];return ie(this.getGroupColumns(),function(){const n=this.calculateGroupValue||this.displayField||this.calculateDisplayValue||e&&this.selector||this.dataField||this.calculateCellValue;if(n){const s={selector:n,desc:this.sortOrder==="desc",isExpanded:!!this.autoExpandGroup};this.sortingMethod&&(s.compare=this.sortingMethod.bind(this)),t.push(s)}}),t.length>0?t:null}refresh(e){const t=[];return ie(this._columns,function(){const{lookup:n}=this;if(n&&!this.calculateDisplayValue){if(e&&n.valueMap)return;n.update&&t.push(n.update())}}),Ae.apply(M,t).done(q0.bind(null,this))}_updateColumnOptions(e,t){var n,s;const r=this._reinitAfterLookupChanges&&((n=this._previousColumns)===null||n===void 0?void 0:n[t]);e.selector=e.selector??(l=>e.calculateCellValue(l)),e.selector.columnIndex=t,e.selector.originalCallback=r?((s=this._previousColumns[t].selector)===null||s===void 0?void 0:s.originalCallback)??e.selector:e.selector,ie(["calculateSortValue","calculateGroupValue","calculateDisplayValue"],(l,d)=>{const c=e[d];if(Ie(c))if(c.originalCallback)e[d].context.column=e;else{const h={column:e};e[d]=function(u){return c.call(h.column,u)},e[d].originalCallback=c,e[d].columnIndex=t,e[d].context=h}}),Ke(e.calculateDisplayValue)&&(e.displayField=e.calculateDisplayValue,e.calculateDisplayValue=qt(e.displayField)),e.calculateDisplayValue&&(e.displayValueMap=e.displayValueMap||{}),WD(e,e.dataType);const{lookup:o}=e;o&&WD(o,o.dataType);const a=o?o.dataType:e.dataType;a&&(e.alignment=e.alignment||pZ(a,this.option("rtlEnabled")),e.format=e.format||xe.getFormatByDataType(a),e.customizeText=e.customizeText||UD(a),e.defaultFilterOperations=e.defaultFilterOperations||!o&&eZ[a]||[],G(e.filterOperations)||b8(e),e.defaultFilterOperation=e.filterOperations&&e.filterOperations[0]||"=",e.showEditorAlways=G(e.showEditorAlways)?e.showEditorAlways:a==="boolean"&&!e.cellTemplate&&!e.lookup)}updateColumnDataTypes(e){const t=this,n=t.option("dateSerializationFormat"),s=t._getFirstItems(e);let r=!1;return ie(t._columns,(o,a)=>{if(a.type===bs)return;let l,d,c,h,u;const{lookup:p}=a;if(xe.isDateType(a.dataType)&&a.serializationFormat===void 0&&(a.serializationFormat=n),p&&xe.isDateType(p.dataType)&&a.serializationFormat===void 0&&(p.serializationFormat=n),a.calculateCellValue&&s.length){if(!a.dataType||p&&!p.dataType){for(l=0;l<s.length;l++)d=a.calculateCellValue(s[l]),a.dataType||(u=hx(d),c=c||u,c&&u&&c!==u&&(c="string")),p&&!p.dataType&&(u=hx(xe.getDisplayValue(a,d,s[l])),h=h||u,h&&u&&h!==u&&(h="string"));(c||h)&&(c&&(a.dataType=c),p&&h&&(p.dataType=h),r=!0)}if(a.serializationFormat===void 0||p&&p.serializationFormat===void 0)for(l=0;l<s.length;l++)d=a.calculateCellValue(s[l],!0),a.serializationFormat===void 0&&(a.serializationFormat=zD(a.dataType,d)),p&&p.serializationFormat===void 0&&(p.serializationFormat=zD(p.dataType,p.calculateCellValue(d,!0)))}t._updateColumnOptions(a,o)}),r}_customizeColumns(e){const t=this,n=t.option("customizeColumns");n&&(e.some(r=>Me(r.ownerBand))&&ml(t),n(e),$d(t,vl(t,e)))}updateColumns(e,t,n){if(t||this.updateSortingGrouping(e),!e||e.isLoaded()){const s=e?e.sort()||[]:this.getSortDataSourceParameters(),r=e?e.group()||[]:this.getGroupDataSourceParameters(),o=e==null?void 0:e.lastLoadOptions().filter;n||this._customizeColumns(this._columns),ml(this);const a=this._columns;return Ae(this.refresh(!0)).always(()=>{this._columns===a&&(this._updateChanges(e,{sorting:s,grouping:r,filtering:o}),yu(this))})}}_updateChanges(e,t){var n;const s=e==null||(n=e.loadOptions)===null||n===void 0||(n=n.call(e))===null||n===void 0?void 0:n.langParams;e&&(this.updateColumnDataTypes(e),this._dataSourceApplied=!0),xe.equalSortParameters(t.sorting,this.getSortDataSourceParameters())||Br(this,"sorting"),xe.equalSortParameters(t.grouping,this.getGroupDataSourceParameters())||Br(this,"grouping"),this._dataController&&!xe.equalFilterParameters(t.filtering,this._dataController.getCombinedFilter(),s)&&Br(this,"filtering"),Br(this,"columns")}updateSortingGrouping(e,t){const n=this;let s;const r=function(a,l,d){ie(a,(c,h)=>{if(delete h[d],l)for(let u=0;u<l.length;u++){const{selector:p}=l[u],{isExpanded:f}=l[u];if(p===h.dataField||p===h.name||p===h.displayField||xe.isEqualSelectors(p,h.selector)||xe.isSelectorEqualWithCallback(p,h.calculateCellValue)||xe.isSelectorEqualWithCallback(p,h.calculateGroupValue)||xe.isSelectorEqualWithCallback(p,h.calculateDisplayValue)){t?h.sortOrder="sortOrder"in h?h.sortOrder:l[u].desc?"desc":"asc":h.sortOrder=h.sortOrder||(l[u].desc?"desc":"asc"),f!==void 0&&(h.autoExpandGroup=f),h[d]=u;break}}})};if(e){var o;const a=xe.normalizeSortingInfo(e.sort()),l=xe.normalizeSortingInfo(e.group()),d=n.getGroupDataSourceParameters(),c=n.getSortDataSourceParameters(),h=(o=this._columnChanges)===null||o===void 0?void 0:o.changeTypes,u=!xe.equalSortParameters(a,c),p=t&&!(h!=null&&h.sorting),f=t&&!(h!=null&&h.grouping),g=!xe.equalSortParameters(l,d,!0),m=!g&&!xe.equalSortParameters(l,d);n._columns.length||(ie(l,(v,_)=>{n._columns.push(_.selector)}),ie(a,(v,_)=>{Ie(_.selector)||n._columns.push(_.selector)}),$d(n,vl(n,n._columns))),(f||!d&&!n._hasUserState)&&(g||m)&&(r(n._columns,l,"groupIndex"),t&&(g&&Br(n,"grouping"),m&&Br(n,"groupExpanding"),s=!0)),(p||!c&&!n._hasUserState)&&u&&(r(n._columns,a,"sortIndex"),t&&(Br(n,"sorting"),s=!0)),s&&yu(n)}}updateFilter(e,t,n,s){const r=this;if(!Array.isArray(e))return e;if(e=se([],e),n=e.columnIndex!==void 0?e.columnIndex:n,s=e.filterValue!==void 0?e.filterValue:s,Ke(e[0])&&e[0]!=="!"){const o=r.columnOption(e[0]);t?Ot().forceIsoDateParsing&&o&&o.serializeValue&&e.length>1&&(e[e.length-1]=o.serializeValue(e[e.length-1],"filter")):o&&o.selector&&(e[0]=o.selector,e[0].columnIndex=o.index)}else Ie(e[0])&&(e[0].columnIndex=n,e[0].filterValue=s,e[0].selectedFilterOperation=e.selectedFilterOperation);for(let o=0;o<e.length;o++)e[o]=r.updateFilter(e[o],t,n,s);return e}columnCount(){return this._columns?this._columns.length:0}columnOption(e,t,n,s){const r=this,o=r._columns.concat(r._commandColumns),a=QD(o,e);if(a){if(arguments.length===1)return se({},a);if(Ke(t)){if(arguments.length===2)return fx(r,a,t);fx(r,a,t,n,s)}else Me(t)&&ie(t,(l,d)=>{fx(r,a,l,d,s)});yu(r)}}clearSorting(){const e=this,t=this.columnCount();e.beginUpdate();for(let n=0;n<t;n++)e.columnOption(n,"sortOrder",void 0),delete QD(e._columns,n).sortOrder;e.endUpdate()}clearGrouping(){const e=this,t=this.columnCount();e.beginUpdate();for(let n=0;n<t;n++)e.columnOption(n,"groupIndex",void 0);e.endUpdate()}getVisibleIndex(e,t){const n=this.getVisibleColumns(t);for(let s=n.length-1;s>=0;s--)if(n[s].index===e)return s;return-1}getVisibleIndexByColumn(e,t){const n=this.getVisibleColumns(t),s=n.filter(r=>r.index===e.index&&r.command===e.command)[0];return n.indexOf(s)}getVisibleColumnIndex(e,t){const n=this.columnOption(e,"index");return this.getVisibleIndex(n,t)}addColumn(e){const t=this;let n=G0(t,e);const s=t._columns.length;t._columns.push(n),n.isBand&&(t._columns=vl(t,t._columns),n=t._columns[s]),n.added=e,ml(t,n),t.updateColumns(t._dataSource),t._checkColumns()}deleteColumn(e){const t=this,n=t.columnOption(e);if(n&&n.index>=0){if(EZ(t._columns),t._columns.splice(n.index,1),n.isBand){const s=t.getChildrenByBandColumn(n.index).map(r=>r.index);t._columns=t._columns.filter(r=>s.indexOf(r.index)<0)}ml(t),t.updateColumns(t._dataSource)}}addCommandColumn(e){let t=this._commandColumns.filter(n=>n.command===e.command)[0];t||(t=e,this._commandColumns.push(t))}getUserState(){const e=this._columns,t=[];let n;function s(r,o){e[n][o]!==void 0&&(t[n][o]=e[n][o])}for(n=0;n<e.length;n++)t[n]={},ie(Pg,s);return t}setName(e){eA(e)||(e.name=e.name||e.dataField||e.type)}setUserState(e){const t=this,n=t._dataSource;let s=t.option("stateStoring.ignoreColumnOptionNames");if(e==null||e.forEach(this.setName),!s){s=[];const r=t.getCommonSettings();t.option("columnChooser.enabled")||s.push("visible"),t.option("sorting.mode")==="none"&&s.push("sortIndex","sortOrder"),r.allowGrouping||s.push("groupIndex"),r.allowFixing||s.push("fixed","fixedPosition"),r.allowResizing||s.push("width","visibleWidth");const o=!t.option("filterPanel.visible");!t.option("filterRow.visible")&&o&&s.push("filterValue","selectedFilterOperation"),!t.option("headerFilter.visible")&&o&&s.push("filterValues","filterType")}t._columnsUserState=e,t._ignoreColumnOptionNames=s,t._hasUserState=!!e,Br(t,"filtering"),t.init(!0),n&&(n.sort(t.getSortDataSourceParameters()),n.group(t.getGroupDataSourceParameters()))}_checkColumns(){const e={},t=[];let n=!1,s=!1;this._columns.forEach(r=>{var o;const{name:a}=r,l=(o=r.columns)===null||o===void 0?void 0:o.length,d=r.allowEditing&&(r.dataField||r.setCellValue)&&!l;a?(e[a]&&t.push(`"${a}"`),e[a]=!0):eA(r)?s=!0:d&&(n=!0)}),t.length&&pt.log("E1059",t.join(", ")),s&&pt.log("E1066"),n&&pt.log("E1060")}_createCalculatedColumnOptions(e,t){let n={},{dataField:s}=e;if((Array.isArray(e.columns)&&e.columns.length||e.isBand)&&(n.isBand=!0,s=null),s){if(Ke(s)){const r=qt(s);n={caption:M6.captionize(s),calculateCellValue(o,a){const l=r(o);return this.deserializeValue&&!a?this.deserializeValue(l):l},setCellValue:CZ,parseValue(o){const a=this;let l,d;return a.dataType==="number"?Ke(o)&&a.format?l=TZ(o.trim(),a.format):G(o)&&jt(o)&&(l=Number(o)):a.dataType==="boolean"?o===a.trueText?l=!0:o===a.falseText&&(l=!1):xe.isDateType(a.dataType)?(d=ut.parse(o,a.format),d&&(l=d)):l=o,l}}}n.allowFiltering=!0}else n.allowFiltering=!!e.calculateFilterExpression;return n.calculateFilterExpression=function(){return ud.defaultCalculateFilterExpression.apply(this,arguments)},n.defaultFilterOperation="=",n.createFilterExpression=function(r,o){let a;return this.calculateFilterExpression&&(a=this.calculateFilterExpression.apply(this,arguments)),Ie(a)&&(a=[a,"=",!0]),a&&(a.columnIndex=this.index,a.filterValue=r,a.selectedFilterOperation=o),a},(!s||!Ke(s))&&se(!0,n,{allowSorting:!1,allowGrouping:!1,calculateCellValue:()=>null}),t&&(n.allowFixing=!1),e.dataType&&(n.userDataType=e.dataType),e.selectedFilterOperation&&!("defaultSelectedFilterOperation"in n)&&(n.defaultSelectedFilterOperation=e.selectedFilterOperation),e.lookup&&e.type!==bs&&(n.lookup={calculateCellValue(r,o){return this.valueExpr&&(r=this.valueMap&&this.valueMap[r]),this.deserializeValue&&!o?this.deserializeValue(r):r},updateValueMap(){if(this.valueMap={},this.items){const r=qt(this.valueExpr),o=qt(this.displayExpr);for(let a=0;a<this.items.length;a++){const l=this.items[a],d=o(l);this.valueMap[r(l)]=d,this.dataType=this.dataType||hx(d)}}},update(){const r=this;let{dataSource:o}=r;if(o)if(Ie(o)&&!bi.isWrapped(o)&&(o=o({})),ot(o)||o instanceof sr||Array.isArray(o)){if(r.valueExpr){const a=nl(o);return a.paginate=!1,o=new Os(a),o.load().done(l=>{r.items=l,r.updateValueMap&&r.updateValueMap()})}}else pt.log("E1016");else r.updateValueMap&&r.updateValueMap()}}),n.resizedCallbacks=Bt(),e.resized&&n.resizedCallbacks.add(e.resized.bind(e)),ie(n,r=>{if(Ie(n[r])&&r.indexOf("default")!==0){const o=`default${r.charAt(0).toUpperCase()}${r.substr(1)}`;n[o]=n[r]}}),n}getRowCount(){return this._rowCount=this._rowCount||wZ(this),this._rowCount}getRowIndex(e,t){const n=this._columns[e];if(!n)return 0;const s=n.command||this._isColumnInGroupPanel(n),r=n.visible&&!s;if(!t&&!r)return 0;const o=this.getBandColumnsCache();return mo(e,o.columnParentByIndex).length}getChildrenByBandColumn(e,t){const n=this.getBandColumnsCache(),s=y8(e,n.columnChildrenByIndex,!t);return t?s.filter(r=>r.visible&&!r.command).sort((r,o)=>r.visibleIndex-o.visibleIndex):s}getVisibleDataColumnsByBandColumn(e){const t=this.getBandColumnsCache();return this.getChildrenByBandColumn(e,t.columnChildrenByIndex).filter(s=>!s.isBand&&s.visible)}isParentBandColumn(e,t){let n=!1;const s=this._columns[e],r=this.getBandColumnsCache(),o=s&&mo(e,r.columnParentByIndex);return o&&ie(o,(a,l)=>{if(l.index===t)return n=!0,!1}),n}isParentColumnVisible(e){let t=!0;const n=this.getBandColumnsCache(),s=e>=0&&mo(e,n.columnParentByIndex);return s&&ie(s,(r,o)=>(t=t&&o.visible,t)),t}getParentColumn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.getBandColumnsCache(),s=mo(e.index,n.columnParentByIndex),r=t?-1:0;return s.at(r)}isFirstColumn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3?arguments[3]:void 0;return JD(this,e,t,n,!1,s)}isLastColumn(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=arguments.length>3?arguments[3]:void 0;return JD(this,e,t,n,!0,s)}isCustomCommandColumn(e){return xe.isCustomCommandColumn(this._columns,e)}getColumnId(e){return e.command&&e.type===Ba?xe.isCustomCommandColumn(this._columns,e)?`type:${e.type}`:`command:${e.command}`:e.index}getCustomizeTextByDataType(e){return UD(e)}getHeaderContentAlignment(e){return this.option("rtlEnabled")?e==="left"?"right":"left":e}isVirtualMode(){return!1}isNeedToRenderVirtualColumns(e){return!1}getColumnOptionNameByFullName(e){return e.replace(ux,"")}}const tA={defaultOptions:()=>({commonColumnSettings:{allowFiltering:!0,allowHiding:!0,allowSorting:!0,allowEditing:!0,encodeHtml:!0,trueText:ue.format("dxDataGrid-trueText"),falseText:ue.format("dxDataGrid-falseText")},allowColumnReordering:!1,allowColumnResizing:!1,columnResizingMode:"nextColumn",columnMinWidth:void 0,columnWidth:void 0,adaptColumnWidthByRatio:!0,columns:void 0,regenerateColumnsByVisibleItems:!1,customizeColumns:null,dateSerializationFormat:void 0}),controllers:{columns:kZ}};Ue.registerModule("columns",{defaultOptions:()=>se(!0,{},tA.defaultOptions(),{commonColumnSettings:{allowExporting:!0}}),controllers:tA.controllers});const iS=function(i,e){const t=e(i);if(Me(t))try{return JSON.stringify(t)}catch{return t}return t},OZ=function(i,e,t,n){const s=iS(i,n);return e[t[s]]},RZ=function(i,e){if(i.length!==e.length)return!1;for(let t=0;t<e.length;t++)if(i[t]!==e[t])return!1;return!0},nA=function(i,e){const t={};return i.forEach((n,s)=>{const r=iS(n,e);if(G(t[String(r)]))throw pt.Error("E1040",r);t[r]=s}),t},D8=function(i){let{oldItems:e,newItems:t,getKey:n,isItemEquals:s,detectReorders:r=!1}=i;try{const o=nA(e,n),a=nA(t,n);let l=0,d=0;const c=[],h=Math.max(e.length,t.length);for(let u=0;u<h+l;u+=1){const p=t[u],f=u-l+d,g=e[f];if(!p||g&&!OZ(g,t,a,n))g&&(c.push({type:"remove",key:n(g),index:u,oldItem:g}),d++,u--);else{const v=iS(p,n),_=o[v],x=e[_];if(!x)l++,c.push({type:"insert",data:p,index:u});else if(_===f)s(x,p)||c.push({type:"update",data:p,key:n(p),index:u,oldItem:x});else{if(!r)return;c.push({type:"remove",key:n(x),index:_,oldItem:x}),c.push({type:"insert",data:p,index:u}),l++,d++}}}if(r){const u=c.filter(g=>g.type==="remove").sort((g,m)=>m.index-g.index),p=c.filter(g=>g.type==="insert").sort((g,m)=>g.index-m.index),f=c.filter(g=>g.type==="update");return[...u,...p,...f]}return c}catch(o){Gl.error(o);return}},PZ={load:()=>de().reject(),loadSingle:()=>de().reject(),loadFromStore:()=>de().reject(),loadNextPage:()=>de().reject(),loadOptions:Te,userData:Te,cancel:Te,cancelAll:Te,filter:Te,addSearchFilter:Te,group:Te,paginate:Te,pageSize:Te,pageIndex:Te,resetDataSourcePageIndex:Te,totalCount:Te,isLastPage:Te,isLoading:Te,isLoaded:Te,searchValue:Te,searchOperation:Te,searchExpr:Te,select:Te,key:Te,keyOf:Te,store:Te,items:Te,applyMapFunction:Te,getDataSource:Te,reload:Te,on:Te,off:Te};let A8=class{constructor(e){if(!e)return PZ;this._dataSource=e}load(){return this._dataSource.load()}loadSingle(e,t){return arguments.length<2&&(t=e,e=this.key()),this._dataSource.loadSingle(e,t)}loadFromStore(e){return this.store().load(e)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(e){this._dataSource.cancel(e)}cancelAll(){this._dataSource.cancelAll()}filter(e){return this._dataSource.filter(e)}addSearchFilter(e){this._dataSource._addSearchFilter(e)}group(e){return this._dataSource.group(e)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(e){return this._dataSource.pageIndex(e)}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(e){return arguments.length?this._dataSource.searchValue(e):this._dataSource.searchValue()}searchOperation(e){return this._dataSource.searchOperation(e)}searchExpr(e){return arguments.length?this._dataSource.searchExpr(e):this._dataSource.searchExpr()}select(){return this._dataSource.select(...arguments)}key(){return this._dataSource.key()}keyOf(e){return this.store().keyOf(e)}store(){return this._dataSource.store()}items(){return this._dataSource.items()}applyMapFunction(e){return this._dataSource._applyMapFunction(e)}getDataSource(){return this._dataSource||null}reload(){return this._dataSource.reload()}on(e,t){this._dataSource.on(e,t)}off(e,t){this._dataSource.off(e,t)}};const iA="_dataSourceChangedHandler",sA="_getSpecificDataSourceOption",rA="_normalizeDataSource",MZ=i=>class extends i{postCtor(){this.on("disposing",()=>{this._disposeDataSource()})}_refreshDataSource(){this._initDataSource(),this._loadDataSource()}_initDataSource(){let e=sA in this?this[sA]():this.option("dataSource"),t,n;this._disposeDataSource(),e&&(e instanceof Os?(this._isSharedDataSource=!0,this._dataSource=e):(t="_dataSourceOptions"in this?this._dataSourceOptions():{},n=this._dataSourceType?this._dataSourceType():Os,e=nl(e,{fromUrlLoadMode:"_dataSourceFromUrlLoadMode"in this&&this._dataSourceFromUrlLoadMode()}),this._dataSource=new n(se(!0,{},t,e))),rA in this&&(this._dataSource=this[rA](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())}_initDataController(){var e;const t=(e=this.option)===null||e===void 0?void 0:e.call(this,"_dataController"),n=this._dataSource;t?this._dataController=t:this._dataController=new A8(n)}_addDataSourceHandlers(){iA in this&&this._addDataSourceChangeHandler(),"_dataSourceLoadErrorHandler"in this&&this._addDataSourceLoadErrorHandler(),"_dataSourceLoadingChangedHandler"in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()}_addReadyWatcher(){this.readyWatcher=(function(e){this._ready&&this._ready(!e)}).bind(this),this._dataSource.on("loadingChanged",this.readyWatcher)}_addDataSourceChangeHandler(){const e=this._dataSource;this._proxiedDataSourceChangedHandler=(function(t){this[iA](e.items(),t)}).bind(this),e.on("changed",this._proxiedDataSourceChangedHandler)}_addDataSourceLoadErrorHandler(){this._proxiedDataSourceLoadErrorHandler=this._dataSourceLoadErrorHandler.bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)}_addDataSourceLoadingChangedHandler(){this._proxiedDataSourceLoadingChangedHandler=this._dataSourceLoadingChangedHandler.bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)}_loadDataSource(){const e=this._dataSource;e&&(e.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():e.load())}_loadSingle(e,t){return e=e==="this"?this._dataSource.key()||"this":e,this._dataSource.loadSingle(e,t)}_isLastPage(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize}_isDataSourceLoading(){return this._dataSource&&this._dataSource.isLoading()}_disposeDataSource(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler),this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)}getDataSource(){return this._dataSource||null}},oA=function(i,e,t){const n=i._dataSource;if(n){if(t!==void 0){if(i._getPagingOptionValue(e)!==t){e==="pageSize"&&n.pageIndex(0),n[e](t),i._skipProcessingPagingChange=!0,i.option(`paging.${e}`,t),i._skipProcessingPagingChange=!1;const r=n.pageIndex();return i._isPaging=e==="pageIndex",n[e==="pageIndex"?"load":"reload"]().done(()=>{i._isPaging=!1,i.pageChanged.fire(r)})}return de().resolve().promise()}return n[e]()}return e==="pageIndex"&&t!==void 0?de().resolve().promise():0};let FZ=class extends MZ(fn.Controller){init(){this._items=[],this._cachedProcessedItems=null,this._columnsController=this.getController("columns"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._editingController=this.getController("editing"),this._editorFactoryController=this.getController("editorFactory"),this._errorHandlingController=this.getController("errorHandling"),this._filterSyncController=this.getController("filterSync"),this._applyFilterController=this.getController("applyFilter"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._focusController=this.getController("focus"),this._headerFilterController=this.getController("headerFilter"),this._selectionController=this.getController("selection"),this._stateStoringController=this.getController("stateStoring"),this._validatingController=this.getController("validating"),this._isPaging=!1,this._currentOperationTypes=null,this._dataChangedHandler=e=>{this._currentOperationTypes=this._dataSource.operationTypes(),this._handleDataChanged(e),this._currentOperationTypes=null},this._columnsChangedHandler=this._handleColumnsChanged.bind(this),this._loadingChangedHandler=this._handleLoadingChanged.bind(this),this._loadErrorHandler=this._handleLoadError.bind(this),this._customizeStoreLoadOptionsHandler=this._handleCustomizeStoreLoadOptions.bind(this),this._changingHandler=this._handleChanging.bind(this),this._dataPushedHandler=this._handleDataPushed.bind(this),this._columnsController.columnsChanged.add(this._columnsChangedHandler),this._isLoading=!1,this._isCustomLoading=!1,this._repaintChangesOnly=void 0,this._changes=[],this.createAction("onDataErrorOccurred"),this.dataErrorOccurred.add(e=>this.executeAction("onDataErrorOccurred",{error:e})),this._refreshDataSource(),this.postCtor()}_getPagingOptionValue(e){return this._dataSource[e]()}callbackNames(){return["changed","loadingChanged","dataErrorOccurred","pageChanged","dataSourceChanged","pushed"]}callbackFlags(e){if(e==="dataErrorOccurred")return{stopOnFalse:!0}}publicMethods(){return["_disposeDataSource","beginCustomLoading","byKey","clearFilter","endCustomLoading","filter","getCombinedFilter","getDataByKeys","getDataSource","getKeyByRowIndex","getRowIndexByKey","getVisibleRows","keyOf","pageCount","pageIndex","pageSize","refresh","repaintRows","totalCount"]}reset(){this._columnsController.reset(),this._items=[],this._refreshDataSource()}_handleDataSourceChange(e){if(e.value===e.previousValue||this.option("columns")&&Array.isArray(e.value)&&Array.isArray(e.previousValue)){if(e.value!==e.previousValue){const n=this.store();n&&(n._array=e.value)}return this.needToRefreshOnDataSourceChange(e)&&this.refresh(this.option("repaintChangesOnly")),!0}return!1}needToRefreshOnDataSourceChange(e){return!0}optionChanged(e){const t=this;let n,s;function r(){e.handled=!0}if(e.name==="dataSource"&&e.name===e.fullName&&this._handleDataSourceChange(e)){r();return}switch(e.name){case"cacheEnabled":case"repaintChangesOnly":case"highlightChanges":case"loadingTimeout":r();break;case"remoteOperations":case"keyExpr":case"dataSource":case"scrolling":r(),t.reset();break;case"paging":if(n=t.dataSource(),n&&(s=t._setPagingOptions(n),s)){const o=n.pageIndex();this._isPaging=s.isPageIndexChanged,n.load().done(()=>{this._isPaging=!1,t.pageChanged.fire(o)})}r();break;case"rtlEnabled":t.reset();break;case"columns":n=t.dataSource(),n&&n.isLoading()&&e.name===e.fullName&&(this._useSortingGroupingFromColumns=!0,n.load());break;default:super.optionChanged(e)}}isReady(){return!this._isLoading}getDataSource(){return this._dataSource&&this._dataSource._dataSource}getCombinedFilter(e){return this.combinedFilter(void 0,e)}combinedFilter(e,t){if(!this._dataSource)return e;let n=e??this._dataSource.filter();if(this._columnsController.isDataSourceApplied()||this._columnsController.isAllDataTypesDefined()){const o=this._calculateAdditionalFilter();n=o?xe.combineFilters([o,n]):n}const r=this._dataSource.remoteOperations().filtering||t;return n=this._columnsController.updateFilter(n,r),n}waitReady(){return this._updateLockCount?(this._readyDeferred=new de,this._readyDeferred):Ae()}_endUpdateCore(){const e=this._changes;if(e.length){this._changes=[];const t=e.every(n=>n.repaintChangesOnly);this.updateItems(e.length===1?e[0]:{repaintChangesOnly:t})}this._readyDeferred&&(this._readyDeferred.resolve(),this._readyDeferred=null)}_handleCustomizeStoreLoadOptions(e){var t;const n=this._columnsController,s=this._dataSource,{storeLoadOptions:r}=e;e.isCustomLoading&&!r.isLoadingAll||(r.filter=this.combinedFilter(r.filter),((t=r.filter)===null||t===void 0?void 0:t.length)===1&&r.filter[0]==="!"&&(e.data=[],e.extra=e.extra||{},e.extra.totalCount=0),n.isDataSourceApplied()||n.updateColumnDataTypes(s),this._columnsUpdating=!0,n.updateSortingGrouping(s,!this._useSortingGroupingFromColumns),this._columnsUpdating=!1,r.sort=n.getSortDataSourceParameters(),r.group=n.getGroupDataSourceParameters(),s.sort(r.sort),s.group(r.group),r.sort=n.getSortDataSourceParameters(!s.remoteOperations().sorting),e.group=n.getGroupDataSourceParameters(!s.remoteOperations().grouping))}_handleColumnsChanged(e){const t=this,{changeTypes:n}=e,{optionNames:s}=e;let r,o,a;const l=function(d){var c,h;t._columnsController.columnsChanged.remove(l);const u=s.visible||t._columnsController.getVisibleColumns().some(p=>p.showEditorAlways);t.updateItems({repaintChangesOnly:u?!1:t.option("repaintChangesOnly"),event:d==null||(c=d.changeTypes)===null||c===void 0?void 0:c.event,virtualColumnsScrolling:d==null||(h=d.changeTypes)===null||h===void 0?void 0:h.virtualColumnsScrolling})};if(n.sorting||n.grouping)t._dataSource&&!t._columnsUpdating&&(t._dataSource.group(t._columnsController.getGroupDataSourceParameters()),t._dataSource.sort(t._columnsController.getSortDataSourceParameters()),t.reload());else if(n.columns){o=t._columnsController.columnOption(e.columnIndex,"filterValues"),(s.filterValues||s.filterType&&Array.isArray(o)||s.filterValue||s.selectedFilterOperation||s.allowFiltering)&&(r=t._columnsController.columnOption(e.columnIndex,"filterValue"),(Array.isArray(o)||e.columnIndex===void 0||G(r)||!s.selectedFilterOperation||s.filterValue)&&(t._applyFilter(),a=!0));const d=["width","visibleWidth","filterValue","bufferedFilterValue","selectedFilterOperation","filterValues","filterType"];if(!t._needApplyFilter&&!xe.checkChanges(s,d)&&t._columnsController.columnsChanged.add(l),G(s.visible)){const c=t._columnsController.columnOption(e.columnIndex);c&&(G(c.filterValue)||G(c.filterValues))&&(t._applyFilter(),a=!0)}}!a&&n.filtering&&!this._needApplyFilter&&t.reload()}_handleDataChanged(e){const t=this,n=t._dataSource,s=t._columnsController;let r=!1;this._useSortingGroupingFromColumns=!1,n&&!t._isDataSourceApplying&&(t._isDataSourceApplying=!0,Ae(t._columnsController.applyDataSource(n)).done(()=>{t._isLoading&&t._handleLoadingChanged(!1),r&&e&&e.isDelayed&&(e.isDelayed=!1),t._isDataSourceApplying=!1;const o=t._needApplyFilter;t._needApplyFilter=!1,o&&!t._isAllDataTypesDefined&&(()=>{const a=t._calculateAdditionalFilter();return a&&a.length})()?(pt.log("W1005",t.component.NAME),t._applyFilter()):t.updateItems(e,!0)}).fail(()=>{t._isDataSourceApplying=!1}),t._isDataSourceApplying&&(r=!0,t._handleLoadingChanged(!0)),t._needApplyFilter=!t._columnsController.isDataSourceApplied(),t._isAllDataTypesDefined=s.isAllDataTypesDefined())}_handleLoadingChanged(e){this._isLoading=e,this._fireLoadingChanged()}_handleLoadError(e){this.dataErrorOccurred.fire(e)}_handleDataPushed(e){this.pushed.fire(e)}fireError(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.dataErrorOccurred.fire(pt.Error.apply(pt,t))}_setPagingOptions(e){const t=this.option("paging.pageIndex"),n=this.option("paging.pageSize"),s=this.option("paging.enabled"),r=this.option("scrolling.mode"),o=r==="infinite",l=s||r==="virtual"||o;let d=!1,c=!1,h=!1;return e.requireTotalCount(!o),s!==void 0&&e.paginate()!==l&&(e.paginate(l),d=!0),n!==void 0&&e.pageSize()!==n&&(e.pageSize(n),c=!0),t!==void 0&&e.pageIndex()!==t&&(e.pageIndex(t),h=!0),d||c||h?{isPaginateChanged:d,isPageSizeChanged:c,isPageIndexChanged:h}:!1}_getSpecificDataSourceOption(){const e=this.option("dataSource");return Array.isArray(e)?{store:{type:"array",data:e,key:this.option("keyExpr")}}:e}_initDataSource(){const e=this,t=this._dataSource;super._initDataSource();const n=e._dataSource;if(e._useSortingGroupingFromColumns=!0,e._cachedProcessedItems=null,n){const s=e._setPagingOptions(n);this._isPaging=s==null?void 0:s.isPageIndexChanged,e.setDataSource(n)}else t&&e.updateItems()}_loadDataSource(){const e=this,t=e._dataSource,n=new de;return Ae(this._columnsController.refresh(!0)).always(()=>{t?t.load().done(function(){e._isPaging=!1,n.resolve.apply(n,arguments)}).fail(n.reject):n.resolve()}),n.promise()}_beforeProcessItems(e){return e.slice(0)}getRowIndexDelta(){return 0}getDataIndex(e){const t=this._items,n=e.changeType==="append"&&t.length>0?t[t.length-1]:null;return G(n==null?void 0:n.dataIndex)?n.dataIndex+1:0}_processItems(e,t){const n=this,s=n.getRowIndexDelta(),{changeType:r}=t,o=n._columnsController.getVisibleColumns(null,r==="loadingAll"),a=this.getDataIndex(t),l={visibleColumns:o,dataIndex:a},d=[];return ie(e,(c,h)=>{G(h)&&(l.rowIndex=c-s,h=n._processItem(h,l),d.push(h))}),d}_processItem(e,t){return e=this._generateDataItem(e,t),e=this._processDataItem(e,t),e.dataIndex=t.dataIndex++,e}_generateDataItem(e,t){return{rowType:"data",data:e,key:this.keyOf(e)}}_processDataItem(e,t){return e.values=this.generateDataValues(e.data,t.visibleColumns),e}generateDataValues(e,t,n){const s=[];let r;for(let o=0;o<t.length;o++){const a=t[o];r=n?void 0:null,(!a.command||a.type===bs)&&(a.calculateCellValue?r=a.calculateCellValue(e):a.dataField&&(r=e[a.dataField])),s.push(r)}return s}_applyChange(e){const t=this;e.changeType==="update"?t._applyChangeUpdate(e):t.items().length&&e.repaintChangesOnly&&e.changeType==="refresh"?t._applyChangesOnly(e):e.changeType==="refresh"&&t._applyChangeFull(e)}_applyChangeFull(e){this._items=e.items.slice(0)}_getRowIndices(e){const t=e.rowIndices.slice(0),n=this.getRowIndexDelta();t.sort((s,r)=>s-r);for(let s=0;s<t.length;s++){let r=t[s];e.allowInvisibleRowIndices&&(r+=n),r<0&&(t.splice(s,1),s--)}return t}_applyChangeUpdate(e){const t=this,{items:n}=e,s=t._getRowIndices(e),r=t.getRowIndexDelta(),o=t.option("repaintChangesOnly");let a=-1,l=0,d;e.items=[],e.rowIndices=[],e.columnIndices=[],e.changeTypes=[];const c=function(h,u,p){let f=h&&u&&dn(h.key,u.key);return f&&p&&(f=h.rowType===u.rowType&&(u.rowType!=="detail"||h.isEditing===u.isEditing)),f};ie(s,(h,u)=>{let p;if(u+=l+r,a===u)return;a=u;const f=t._items[u],g=t._items[u+1],m=n[u],v=n[u+1],_=c(f,g)||c(m,v);if(m&&(m.rowIndex=u,e.items.push(m)),f&&m&&c(f,m,_))d="update",t._items[u]=m,f.visible!==m.visible?e.items.splice(-1,1,{visible:m.visible}):o&&!e.isFullUpdate&&(p=t._partialUpdateRow(f,m,u-r));else if(m&&!f||v&&c(f,v,_))d="insert",t._items.splice(u,0,m),l++;else if(f&&!m||g&&c(m,g,_))d="remove",t._items.splice(u,1),l--,a=-1;else if(m)d="update",t._items[u]=m;else return;e.rowIndices.push(u-r),e.changeTypes.push(d),e.columnIndices.push(p)})}_isCellChanged(e,t,n,s,r){if(JSON.stringify(e.values[s])!==JSON.stringify(t.values[s]))return!0;function o(a,l){return a.modifiedValues?a.modifiedValues[l]!==void 0:!1}return o(e,s)!==o(t,s)}_getChangedColumnIndices(e,t,n,s){let r;if(e.rowType===t.rowType){if(t.rowType!=="group"&&t.rowType!=="groupFooter"&&(r=[],t.rowType!=="detail"))for(let o=0;o<e.values.length;o++)this._isCellChanged(e,t,n,o,s)&&r.push(o);t.rowType==="group"&&e.cells&&t.isExpanded===e.isExpanded&&t.data.isContinuation===e.data.isContinuation&&t.data.isContinuationOnNextPage===e.data.isContinuationOnNextPage&&(r=e.cells.map((a,l)=>{var d;return((d=a.column)===null||d===void 0?void 0:d.type)!=="groupExpand"?l:-1}).filter(a=>a>=0))}return r}_partialUpdateRow(e,t,n,s){var r;let o=this._getChangedColumnIndices(e,t,n,s);return(r=o)!==null&&r!==void 0&&r.length&&this.option("dataRowTemplate")&&(o=void 0),o&&(e.cells&&e.cells.forEach((a,l)=>{!(o.indexOf(l)>=0)&&a&&a.update&&a.update(t)}),t.update=e.update,t.watch=e.watch,t.cells=e.cells,s&&(t.oldValues=e.values),e.update&&e.update(t)),o}_isItemEquals(e,t){if(JSON.stringify(e.values)!==JSON.stringify(t.values)||["modified","isNewRow","removed","isEditing"].some(a=>e[a]!==t[a]))return!1;if(e.rowType==="group"||e.rowType==="groupFooter"){var n,s,r,o;const a=e.isExpanded===t.isExpanded,l=JSON.stringify(e.summaryCells)===JSON.stringify(t.summaryCells),d=((n=e.data)===null||n===void 0?void 0:n.isContinuation)===((s=t.data)===null||s===void 0?void 0:s.isContinuation)&&((r=e.data)===null||r===void 0?void 0:r.isContinuationOnNextPage)===((o=t.data)===null||o===void 0?void 0:o.isContinuationOnNextPage);if(!a||!l||!d)return!1}return!0}_applyChangesOnly(e){const t=[],n=[],s=[],r=[],o={},a=(e==null?void 0:e.isLiveUpdate)??!0;function l(u){if(u)return`${u.rowType},${JSON.stringify(u.key)}`}const d=this._items,c=d.slice();e.items.forEach((u,p)=>{const f=l(u);o[f]=p,u.rowIndex=p});const h=D8({oldItems:c,newItems:e.items,getKey:l,isItemEquals:(u,p)=>this._isItemEquals(u,p)?(u.cells&&(u.update&&u.update(p),u.cells.forEach(f=>{f&&f.update&&f.update(p,!0)})),!0):!1});if(!h){this._applyChangeFull(e);return}h.forEach(u=>{switch(u.type){case"update":{const{index:p}=u,f=u.data,{oldItem:g}=u,m=this._partialUpdateRow(g,f,p,a);t.push(p),s.push("update"),r.push(f),d[p]=f,n.push(m);break}case"insert":t.push(u.index),s.push("insert"),r.push(u.data),n.push(void 0),d.splice(u.index,0,u.data);break;case"remove":t.push(u.index),s.push("remove"),d.splice(u.index,1),r.push(u.oldItem),n.push(void 0)}}),e.repaintChangesOnly=!0,e.changeType="update",e.rowIndices=t,e.columnIndices=n,e.changeTypes=s,e.items=r,c.length&&(e.isLiveUpdate=!0),this._correctRowIndices(u=>{const p=this._rowIndexOffset||0,f=this.getRowIndexOffset(),g=c[u-p],m=l(g),v=o[m];return v>=0?v+f-u:0})}_correctRowIndices(e){}_afterProcessItems(e,t){return e}_updateItemsCore(e){let t;const n=this._dataSource,s=e.changeType||"refresh";if(e.changeType=s,n){const r=this._cachedProcessedItems;e.useProcessedItemsCache&&r?t=r:(t=e.items||n.items(),t=this._beforeProcessItems(t),t=this._processItems(t,e),this._cachedProcessedItems=t),t=this._afterProcessItems(t,e),e.items=t;const o=this._items.length===t.length&&this._items;this._applyChange(e);const a=this.getRowIndexDelta();ie(this._items,(l,d)=>{d.rowIndex=l-a,o&&(d.cells=o[l].cells??[]);const c=t[l];c&&(d.loadIndex=c.loadIndex)}),this._rowIndexOffset=this.getRowIndexOffset()}else this._items=[]}_handleChanging(e){const t=this.getVisibleRows();this.dataSource()&&e.changes.forEach(s=>{if(s.type==="insert"&&s.index>=0){let r=0;for(let o=0;o<s.index;o++){const a=t[o];a&&(a.rowType==="data"||a.rowType==="group")&&r++}s.index=r}})}updateItems(e,t){e=e||{};const n=this;if(e.isFirstRender=!n.changed.fired(),n._repaintChangesOnly!==void 0)e.repaintChangesOnly=e.repaintChangesOnly??n._repaintChangesOnly,e.needUpdateDimensions=e.needUpdateDimensions||n._needUpdateDimensions;else if(e.changes)e.repaintChangesOnly=n.option("repaintChangesOnly");else if(t){const s=n.dataSource().operationTypes();e.repaintChangesOnly=s&&!s.grouping&&!s.filtering&&n.option("repaintChangesOnly"),e.isDataChanged=!0,s&&(s.reload||s.paging||s.groupExpanding)&&(e.needUpdateDimensions=!0)}if(n._updateLockCount&&!e.cancel){n._changes.push(e);return}n._updateItemsCore(e),!e.cancel&&n._fireChanged(e)}loadingOperationTypes(){const e=this.dataSource();return e&&e.loadingOperationTypes()||{}}_fireChanged(e){this._currentOperationTypes&&(e.operationTypes=this._currentOperationTypes,this._currentOperationTypes=null),qn(()=>{this.changed.fire(e)})}isLoading(){return this._isLoading||this._isCustomLoading}_fireLoadingChanged(){this.loadingChanged.fire(this.isLoading(),this._loadingText)}_calculateAdditionalFilter(){return null}_applyFilter(){const e=this._dataSource;return e?(e.pageIndex(0),this._isFilterApplying=!0,this.reload().done(()=>{this._isFilterApplying&&this.pageChanged.fire()})):new de().resolve()}resetFilterApplying(){this._isFilterApplying=!1}filter(e){var t;const n=this._dataSource,s=n==null?void 0:n.filter(),r=n==null||(t=n.loadOptions)===null||t===void 0||(t=t.call(n))===null||t===void 0?void 0:t.langParams;if(arguments.length===0)return s;e=arguments.length>1?Array.prototype.slice.call(arguments,0):e,!xe.equalFilterParameters(s,e,r)&&(n&&n.filter(e),this._applyFilter())}clearFilter(e){const t=this,n=t._columnsController,s=function(r){const o=n.columnCount();for(let a=0;a<o;a++)n.columnOption(a,r,void 0)};if(t.component.beginUpdate(),arguments.length>0)switch(e){case"dataSource":t.filter(null);break;case"search":t.searchByText("");break;case"header":s("filterValues");break;case"row":s("filterValue")}else t.filter(null),t.searchByText(""),s("filterValue"),s("bufferedFilterValue"),s("filterValues");t.component.endUpdate()}_fireDataSourceChanged(){const e=this,t=function(){e.changed.remove(t),e.dataSourceChanged.fire()};e.changed.add(t)}_getDataSourceAdapter(){}_createDataSourceAdapterCore(e,t){const s=this._getDataSourceAdapter().create(this.component);return s.init(e,t),s}isLocalStore(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.store())instanceof Qc}isCustomStore(e){return e=e||this.store(),e instanceof W0}_createDataSourceAdapter(e){let t=this.option("remoteOperations");const n=e.store(),s={filtering:!0,sorting:!0,paging:!0,grouping:!0,summary:!0};return Me(t)&&t.groupPaging&&(t=se({},s,t)),t==="auto"&&(t=this.isLocalStore(n)||this.isCustomStore(n)?{}:{filtering:!0,sorting:!0,paging:!0}),t===!0&&(t=s),this._createDataSourceAdapterCore(e,t)}setDataSource(e){const t=this,n=t._dataSource;!e&&n&&(n.cancelAll(),n.changed.remove(t._dataChangedHandler),n.loadingChanged.remove(t._loadingChangedHandler),n.loadError.remove(t._loadErrorHandler),n.customizeStoreLoadOptions.remove(t._customizeStoreLoadOptionsHandler),n.changing.remove(t._changingHandler),n.pushed.remove(t._dataPushedHandler),n.dispose(t._isSharedDataSource)),e&&(e=t._createDataSourceAdapter(e)),t._dataSource=e,e&&(t._fireDataSourceChanged(),t._isLoading=!e.isLoaded(),t._needApplyFilter=!0,t._isAllDataTypesDefined=t._columnsController.isAllDataTypesDefined(),e.changed.add(t._dataChangedHandler),e.loadingChanged.add(t._loadingChangedHandler),e.loadError.add(t._loadErrorHandler),e.customizeStoreLoadOptions.add(t._customizeStoreLoadOptionsHandler),e.changing.add(t._changingHandler),e.pushed.add(t._dataPushedHandler))}items(e){return this._items}isEmpty(){return!this.items().length}pageCount(){return this._dataSource?this._dataSource.pageCount():1}dataSource(){return this._dataSource}store(){const e=this._dataSource;return e&&e.store()}loadAll(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this,s=new de,r=n._dataSource;if(r)if(e){const o={data:e,isCustomLoading:!0,storeLoadOptions:{isLoadingAll:!0},loadOptions:{filter:t?null:n.getCombinedFilter(),group:r.group(),sort:r.sort()}};r._handleDataLoaded(o),Ae(o.data).done(a=>{var l;a=n._beforeProcessItems(a),s.resolve(n._processItems(a,{changeType:"loadingAll"}),(l=o.extra)===null||l===void 0?void 0:l.summary)}).fail(s.reject)}else if(r.isLoading())s.reject();else{const o=se({},r.loadOptions(),{isLoadingAll:!0,requireTotalCount:!1});r.load(o).done((a,l)=>{a=n._beforeProcessItems(a),a=n._processItems(a,{changeType:"loadingAll"}),s.resolve(a,l&&l.summary)}).fail(s.reject)}else s.resolve([]);return s}getKeyByRowIndex(e,t){const n=this.items(t)[e];if(n)return n.key}getRowIndexByKey(e,t){return xe.getIndexByKey(e,this.items(t))}getRowByKey(e){var t;return(t=this.items())===null||t===void 0?void 0:t[this.getRowIndexByKey(e)]}keyOf(e){const t=this.store();if(t)return t.keyOf(e)}byKey(e){const t=this.store(),n=this.getRowIndexByKey(e);let s;if(t)return n>=0&&(s=new de().resolve(this.items()[n].data)),s||t.byKey(e)}key(){const e=this.store();if(e)return e.key()}getRowIndexOffset(e){return 0}getDataByKeys(e){const t=this,n=new de,s=[],r=[];return ie(e,(o,a)=>{s.push(t.byKey(a).done(l=>{r[o]=l}))}),Ae.apply(M,s).always(()=>{n.resolve(r)}),n}pageIndex(e){return oA(this,"pageIndex",e)}pageSize(e){return oA(this,"pageSize",e)}isCustomLoading(){return this._isCustomLoading}beginCustomLoading(e){this._isCustomLoading=!0,this._loadingText=e??"",this._fireLoadingChanged()}endCustomLoading(){this._isCustomLoading=!1,this._loadingText=void 0,this._fireLoadingChanged()}refresh(e){e===!0?e={reload:!0,changesOnly:!0}:e||(e={reload:!0,lookup:!0});const t=this,n=t.getDataSource(),{changesOnly:s}=e,r=new de,o=function(){t._repaintChangesOnly=!!s};return Ae(!e.lookup||t._columnsController.refresh()).always(()=>{e.load||e.reload?(n&&n.on("customizeLoadResult",o),Ae(t.reload(e.reload,s)).always(()=>{n&&n.off("customizeLoadResult",o),t._repaintChangesOnly=void 0}).done(r.resolve).fail(r.reject)):(t.updateItems({repaintChangesOnly:e.changesOnly}),r.resolve())}),r.promise()}getVisibleRows(){return this.items()}_disposeDataSource(){this._dataSource&&this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher),this.setDataSource(null)}dispose(){this._disposeDataSource(),super.dispose()}repaintRows(e,t){e=Array.isArray(e)?e:[e],(e.length>1||G(e[0]))&&this.updateItems({changeType:"update",rowIndices:e,isFullUpdate:!t})}skipProcessingPagingChange(e){return this._skipProcessingPagingChange&&(e==="paging.pageIndex"||e==="paging.pageSize")}getUserState(){return{searchText:this.option("searchPanel.text"),pageIndex:this.pageIndex(),pageSize:this.pageSize()}}getCachedStoreData(){return this._dataSource&&this._dataSource.getCachedStoreData()}isLastPageLoaded(){const e=this.pageIndex(),t=this.pageCount();return e===t-1}load(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.load()}reload(e,t){var n;return(n=this._dataSource)===null||n===void 0?void 0:n.reload(e,t)}push(){for(var e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return(e=this._dataSource)===null||e===void 0?void 0:e.push(...n)}itemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.itemsCount():0}totalItemsCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalItemsCount():0}hasKnownLastPage(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.hasKnownLastPage():!0}isLoaded(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.isLoaded():!0}totalCount(){var e;return this._dataSource?(e=this._dataSource)===null||e===void 0?void 0:e.totalCount():0}hasLoadOperation(){var e;const t=((e=this._dataSource)===null||e===void 0?void 0:e.operationTypes())??{};return Object.keys(t).some(n=>t[n])}isViewportChanging(){return!1}};const BZ={defaultOptions:()=>({loadingTimeout:0,dataSource:null,cacheEnabled:!0,repaintChangesOnly:!1,highlightChanges:!1,onDataErrorOccurred:null,remoteOperations:"auto",paging:{enabled:!0,pageSize:void 0,pageIndex:void 0}})},Im=function(i,e){if(i&&(i=i.slice(0),e))for(let t=0;t<i.length;t++)i[t]=se({key:i[t].key},i[t]),i[t].items=Im(i[t].items,e-1);return i},aA=function(i,e,t){let n={reload:!0,fullReload:!0};return e&&(n={sorting:!xe.equalSortParameters(i.sort,e.sort),grouping:!xe.equalSortParameters(i.group,e.group,!0),groupExpanding:!xe.equalSortParameters(i.group,e.group)||e.groupExpand,filtering:!xe.equalFilterParameters(i.filter,e.filter,i.langParams),pageIndex:i.pageIndex!==e.pageIndex,skip:i.skip!==e.skip,take:i.take!==e.take,pageSize:i.pageSize!==e.pageSize,fullReload:t,reload:!1,paging:!1},n.reload=t||n.sorting||n.grouping||n.filtering,n.paging=n.pageIndex||n.pageSize||n.take),n},NZ=function(i,e){G(e)?l1.executeAsync(i,e):i()},Cu=function(){return{items:{}}},lA=function(i,e){const t=xe.normalizeSortingInfo(i.group||i.storeLoadOptions.group||i.loadOptions.group).length,n=[];if(k8(n,i,t))return n;e&&LZ(n,i,t)},k8=function(i,e,t,n){var s;const{storeLoadOptions:r}=e,o=e.take??r.take??0,a=(s=e.cachedData)===null||s===void 0?void 0:s.items;if(o&&a){const l=e.skip??r.skip??0;for(let d=0;d<o;d+=1){const c=n?o-1-d:d,h=c+l,u=a[h];if(u===void 0&&h in a)return!0;const p=VZ(e,u,t,c,o);if(p)i.push(p);else return!1}return!0}return!1},VZ=function(i,e,t,n,s){if(t&&e){const r=n===0&&i.skips||[],o=n===s-1&&i.takes||[];return O8(e,t,r,o)}return e},O8=function(i,e,t,n){if(e&&i){const s=Object.assign({},i),r=t[0]||0,o=n[0],{items:a}=i;if(a){if(o===void 0&&!a[r])return;s.items=[],t.length&&(s.isContinuation=!0),o&&(s.isContinuationOnNextPage=i.count>o);for(let l=0;o===void 0?a[l+r]:l<o;l+=1){const d=a[l+r],c=l+1===o,h=O8(d,e-1,l===0?t.slice(1):[],c?n.slice(1):[]);if(h!==void 0)s.items.push(h);else return}}return s}return i},LZ=function(i,e,t){const n=i.length,{storeLoadOptions:s}=e;if(s.skip!==void 0&&s.take&&!t){const r=[];k8(r,e,t,!0);const o=r.length;(n||o)&&(e.skip=e.skip??s.skip,e.take=e.take??s.take),n&&(s.skip+=n,s.take-=n,e.cachedDataPartBegin=i),o&&(s.take-=o,e.cachedDataPartEnd=r.reverse())}},$Z=function(i,e,t){const{storeLoadOptions:n}=i,s=i.skip??n.skip??0,r=i.take??n.take??0;for(let o=0;o<r;o+=1){const a=o+s,l=i.cachedData.items,d=o===0&&i.skips||[];l[a]=R8(l[a],e[o],t,d)}},R8=function(i,e,t,n){if(t&&e){const s=Object.assign({},e);delete s.isContinuation,delete s.isContinuationOnNextPage;const r=n[0]||0;return e.items&&(s.items=(i==null?void 0:i.items)||{},e.items.forEach((o,a)=>{const l=a+r,d=a===0?n.slice(1):[];s.items[l]=R8(s.items[l],o,t-1,d)})),s}return e};class HZ extends fn.Controller{init(e,t){const n=this;n._dataSource=e,n._remoteOperations=t||{},n._isLastPage=!e.isLastPage(),n._hasLastPage=!1,n._currentTotalCount=0,n._cachedData=Cu(),n._lastOperationTypes={},n._eventsStrategy=e._eventsStrategy,n._totalCountCorrection=0,n._isLoadingAll=!1,n.changed=Bt(),n.loadingChanged=Bt(),n.loadError=Bt(),n.customizeStoreLoadOptions=Bt(),n.changing=Bt(),n.pushed=Bt(),n._dataChangedHandler=n._handleDataChanged.bind(n),n._customizeStoreLoadOptionsHandler=n._handleCustomizeStoreLoadOptions.bind(n),n._dataLoadedHandler=n._handleDataLoaded.bind(n),n._loadingChangedHandler=n._handleLoadingChanged.bind(n),n._loadErrorHandler=n._handleLoadError.bind(n),n._pushHandler=n._handlePush.bind(n),n._changingHandler=n._handleChanging.bind(n),e.on("changed",n._dataChangedHandler),e.on("customizeStoreLoadOptions",n._customizeStoreLoadOptionsHandler),e.on("customizeLoadResult",n._dataLoadedHandler),e.on("loadingChanged",n._loadingChangedHandler),e.on("loadError",n._loadErrorHandler),e.on("changing",n._changingHandler),e.store().on("beforePush",n._pushHandler),ie(e,(s,r)=>{!n[s]&&Ie(r)&&(n[s]=function(){return this._dataSource[s].apply(this._dataSource,arguments)})})}dispose(e){const t=this._dataSource,n=t.store();t.off("changed",this._dataChangedHandler),t.off("customizeStoreLoadOptions",this._customizeStoreLoadOptionsHandler),t.off("customizeLoadResult",this._dataLoadedHandler),t.off("loadingChanged",this._loadingChangedHandler),t.off("loadError",this._loadErrorHandler),t.off("changing",this._changingHandler),n&&n.off("beforePush",this._pushHandler),e||t.dispose()}remoteOperations(){return this._remoteOperations}refresh(e,t){const n=this,s=n._dataSource;t.reload&&(n.resetCurrentTotalCount(),n._isLastPage=!s.paginate(),n._hasLastPage=n._isLastPage)}resetCurrentTotalCount(){this._currentTotalCount=0,this._totalCountCorrection=0}resetCache(){this._cachedStoreData=void 0,this._cachedPagingData=void 0}resetPagesCache(e){this._cachedData=Cu()}_needClearStoreDataCache(){const e=this.remoteOperations(),t=aA(this._lastLoadOptions||{},{});return!Object.keys(e).every(s=>!t[s]||!e[s])}push(e,t){const n=this.store();this._needClearStoreDataCache()&&(this._cachedStoreData=void 0),this._cachedPagingData=void 0,this.resetPagesCache(!0),this._cachedStoreData&&Pl({keyInfo:n,data:this._cachedStoreData,changes:e}),t||this._applyBatch(e),this.pushed.fire(e)}getDataIndexGetter(){if(!this._dataIndexGetter){let e,t;const n=this.store();this._dataIndexGetter=s=>{const r=t&&t!==this._cachedStoreData;if(!e||r){t=this._cachedStoreData||[],e={};for(let o=0;o<t.length;o++)e[vs(n.keyOf(t[o]))]=o}return e[vs(n.keyOf(s))]}}return this._dataIndexGetter}_getKeyInfo(){return this.store()}_needToCopyDataObject(){return!0}_applyBatch(e,t){const n=this._getKeyInfo(),s=this._dataSource,r=xe.normalizeSortingInfo(this.group()).length,o=this.option("editing.refreshMode")==="reshape",a=this.option("scrolling.mode")==="virtual";e=e.filter(h=>!s.paginate()||h.type!=="insert"||h.index!==void 0);const l=()=>r?this.itemsCount():this.items().length,d=l();Pl({keyInfo:n,data:this._items,changes:e,groupCount:r,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),Pl({keyInfo:n,data:s.items(),changes:e,groupCount:r,useInsertIndex:!0,skipCopying:!this._needToCopyDataObject()}),(this._currentTotalCount>0||(t||!o)&&a)&&(this._totalCountCorrection+=l()-d),e.splice(0,e.length)}_handlePush(e){let{changes:t}=e;this.push(t,!0)}_handleChanging(e){this.changing.fire(e),this._applyBatch(e.changes,!0)}_needCleanCacheByOperation(e,t){const n=["filtering","sorting","paging"],s=n.indexOf(e);return(s>=0?n.slice(s):[e]).some(o=>t[o])}_customizeRemoteOperations(e,t){let n=this._cachedStoreData,s=this._cachedPagingData,r=this._cachedData;(e.storeLoadOptions.filter&&!e.remoteOperations.filtering||e.storeLoadOptions.sort&&!e.remoteOperations.sorting)&&(e.remoteOperations={filtering:e.remoteOperations.filtering,summary:e.remoteOperations.summary}),t.fullReload?(n=void 0,s=void 0,r=Cu()):(t.reload?(s=void 0,r=Cu()):t.groupExpanding&&(r=Cu()),ie(t,(o,a)=>{a&&this._needCleanCacheByOperation(o,e.remoteOperations)&&(n=void 0,s=void 0)})),s&&(e.remoteOperations.paging=!1),e.cachedStoreData=n,e.cachedPagingData=s,e.cachedData=r,e.isCustomLoading||(this._cachedStoreData=n,this._cachedPagingData=s,this._cachedData=r)}_handleCustomizeStoreLoadOptions(e){var t;this._handleDataLoading(e),((t=e.data)===null||t===void 0?void 0:t.length)!==0&&(e.data=lA(e,!0)||e.cachedStoreData)}_handleDataLoading(e){const t=this._dataSource,n=this._lastLoadOptions;this.customizeStoreLoadOptions.fire(e),e.delay=this.option("loadingTimeout"),e.originalStoreLoadOptions=e.storeLoadOptions,e.remoteOperations=se({},this.remoteOperations());const s=!this.isLoaded()&&!this._isRefreshing;this.option("integrationOptions.renderedOnServer")&&!this.isLoaded()&&(e.delay=void 0);const r=se({pageIndex:this.pageIndex(),pageSize:this.pageSize()},e.storeLoadOptions),o=aA(r,n,s);if(this._customizeRemoteOperations(e,o),!e.isCustomLoading){const a=this._isRefreshing;e.pageIndex=t.pageIndex(),e.lastLoadOptions=r,e.operationTypes=o,this._loadingOperationTypes=o,this._isRefreshing=!0,Ae(a||this._isRefreshed||this.refresh(e,o)).done(()=>{this._lastOperationId===e.operationId&&(this._isRefreshed=!0,this.load().always(()=>{this._isRefreshed=!1}))}).fail(()=>{t.cancel(e.operationId)}).always(()=>{this._isRefreshing=!1}),t.cancel(this._lastOperationId),this._lastOperationId=e.operationId,this._isRefreshing&&t.cancel(this._lastOperationId)}this._handleDataLoadingCore(e)}_handleDataLoadingCore(e){const{remoteOperations:t}=e;e.loadOptions={};const n=e.cachedData.extra,s={filter:!t.filtering,sort:!t.sorting,group:!t.grouping,summary:!t.summary,skip:!t.paging,take:!t.paging,requireTotalCount:n&&"totalCount"in n||!t.paging,langParams:!t.filtering||!t.sorting};ie(e.storeLoadOptions,(r,o)=>{s[r]&&(e.loadOptions[r]=o,delete e.storeLoadOptions[r])}),n&&(e.extra=n)}_handleDataLoaded(e){const{loadOptions:t}=e,n=e.remoteOperations&&!e.remoteOperations.paging,{cachedData:s}=e,{storeLoadOptions:r}=e,o=this.option("cacheEnabled")!==!1&&r,a=o&&!e.isCustomLoading&&s&&(!n||r.group),l=o&&n,d=l&&!e.isCustomLoading;if(!t){this._dataSource.cancel(e.operationId);return}n&&(e.skip=t.skip,e.take=t.take,delete t.skip,delete t.take),t.group&&(t.group=e.group||t.group);const c=xe.normalizeSortingInfo(e.group||r.group||t.group).length;if(e.cachedDataPartBegin&&(e.data=e.cachedDataPartBegin.concat(e.data)),e.cachedDataPartEnd&&(e.data=e.data.concat(e.cachedDataPartEnd)),!a||!lA(e)){var h;l&&e.cachedPagingData?e.data=Im(e.cachedPagingData,c):(d&&(this._cachedStoreData?e.mergeStoreLoadData&&(e.data=this._cachedStoreData=this._cachedStoreData.concat(e.data)):this._cachedStoreData=Im(e.data,xe.normalizeSortingInfo(r.group).length)),new Qc(e.data).load(t).done(u=>{e.data=u,d&&(this._cachedPagingData=Im(e.data,c))}).fail(u=>{e.data=new de().reject(u)})),t.requireTotalCount&&n&&(e.extra=ot(e.extra)?e.extra:{},e.extra.totalCount=e.data.length),e.extra&&e.extra.totalCount>=0&&(r.requireTotalCount===!1||t.requireTotalCount===!1)&&(e.extra.totalCount=-1),!t.data&&(r.requireTotalCount||(((h=e.extra)===null||h===void 0?void 0:h.totalCount)??-1)>=0)&&(this._totalCountCorrection=0),this._handleDataLoadedCore(e),a&&(s.extra=s.extra||se({},e.extra),Ae(e.data).done(u=>{$Z(e,u,c)}))}Ae(e.data).done(()=>{e.lastLoadOptions&&(this._lastLoadOptions=e.lastLoadOptions,Object.keys(e.operationTypes).forEach(u=>{this._lastOperationTypes[u]=this._lastOperationTypes[u]||e.operationTypes[u]}))}),e.storeLoadOptions=e.originalStoreLoadOptions}_handleDataLoadedCore(e){e.remoteOperations&&!e.remoteOperations.paging&&Array.isArray(e.data)&&(e.skip!==void 0&&(e.data=e.data.slice(e.skip)),e.take!==void 0&&(e.data=e.data.slice(0,e.take)))}_handleLoadingChanged(e){this.loadingChanged.fire(e)}_handleLoadError(e){this.loadError.fire(e),this.changed.fire({changeType:"loadError",error:e})}_loadPageSize(){return this.pageSize()}_handleDataChanged(e){let t;const n=this._dataSource;let s=!1;const r=!e||G(e.changeType),o=this.itemsCount();r&&(this._isLastPage=!o||!this._loadPageSize()||o<this._loadPageSize(),this._isLastPage&&(this._hasLastPage=!0)),n.totalCount()>=0?n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),this.pageIndex(n.pageIndex()),this.resetPagesCache(),n.load(),s=!0):r&&(t=n.pageIndex()*this.pageSize()+o,t>this._currentTotalCount&&(this._currentTotalCount=t,(n.pageIndex()===0||!this.option("scrolling.legacyMode"))&&(this._totalCountCorrection=0)),o===0&&n.pageIndex()>=this.pageCount()&&(n.pageIndex(this.pageCount()-1),this.option("scrolling.mode")!=="infinite"&&(n.load(),s=!0))),s||(this._operationTypes=this._lastOperationTypes,this._lastOperationTypes={},this.component._optionCache={},this.changed.fire(e),this.component._optionCache=void 0)}_scheduleCustomLoadCallbacks(e){const t=this;t._isCustomLoading=!0,e.always(()=>{t._isCustomLoading=!1})}loadingOperationTypes(){return this._loadingOperationTypes}operationTypes(){return this._operationTypes}lastLoadOptions(){return this._lastLoadOptions||{}}isLastPage(){return this._isLastPage}_dataSourceTotalCount(){return this._dataSource.totalCount()}_changeRowExpandCore(e){}changeRowExpand(e){}totalCount(){return parseInt((this._currentTotalCount||this._dataSourceTotalCount())+this._totalCountCorrection)}totalCountCorrection(){return this._totalCountCorrection}items(){}itemsCount(){return this._dataSource.items().length}totalItemsCount(){return this.totalCount()}pageSize(){const e=this._dataSource;return!arguments.length&&!e.paginate()?0:e.pageSize.apply(e,arguments)}pageCount(){const e=this.totalItemsCount()-this._totalCountCorrection,t=this.pageSize();return t&&e>0?Math.max(1,Math.ceil(e/t)):1}hasKnownLastPage(){return this._hasLastPage||this._dataSource.totalCount()>=0}loadFromStore(e,t){const n=this._dataSource,s=new de;if(n)return t=t||n.store(),t.load(e).done((r,o)=>{r&&!Array.isArray(r)&&Array.isArray(r.data)&&(o=r,r=r.data),s.resolve(r,o)}).fail(s.reject),s}isCustomLoading(){return!!this._isCustomLoading}load(e){const t=this,n=t._dataSource,s=new de;if(e){const r=n.store(),o=n.loadOptions(),a={storeLoadOptions:se({},e,{langParams:o==null?void 0:o.langParams}),isCustomLoading:!0};return ie(r._customLoadOptions()||[],(l,d)=>{d in a.storeLoadOptions||(a.storeLoadOptions[d]=o[d])}),this._isLoadingAll=e.isLoadingAll,t._scheduleCustomLoadCallbacks(s),n._scheduleLoadCallbacks(s),t._handleCustomizeStoreLoadOptions(a),NZ(()=>{if(!n.store())return s.reject("canceled");Ae(a.data||t.loadFromStore(a.storeLoadOptions)).done((l,d)=>{a.data=l,a.extra=d||{},t._handleDataLoaded(a),e.requireTotalCount&&a.extra.totalCount===void 0&&(a.extra.totalCount=r.totalCount(a.storeLoadOptions)),Ae(a.data,a.extra.totalCount).done((c,h)=>{a.extra.totalCount=h,s.resolve(c,a.extra)}).fail(s.reject)}).fail(s.reject)},t.option("loadingTimeout")),s.fail(function(){t._eventsStrategy.fireEvent("loadError",arguments)}).always(()=>{this._isLoadingAll=!1}).promise()}return n.load()}reload(e){return e?this._dataSource.reload():this._dataSource.load()}getCachedStoreData(){return this._cachedStoreData}isLoaded(){}pageIndex(e){}}let mx=HZ;const Y0={extend(i){mx=i(mx)},create:i=>new mx(i)};class jZ extends FZ{_getDataSourceAdapter(){return Y0}_getSpecificDataSourceOption(){const e=this.option("dataSource");return e&&!Array.isArray(e)&&this.option("keyExpr")&&pt.log("W1011"),super._getSpecificDataSourceOption()}}Ue.registerModule("data",{defaultOptions:BZ.defaultOptions,controllers:{data:jZ}});const P8=i=>class extends i{_applyColumnState(e){const t=this;let n,s;const r=t.option("sorting.mode"),{rootElement:o}=e,{column:a}=e,l=t._getIndicatorContainer(o);if(e.name==="sort"){o.find(".dx-sort").remove(),!l.children().length&&l.remove();const d=r!=="none"&&a.allowSorting,c=t.getController&&!!t.getController("columns").columnOption("sortIndex:1");return!G(a.groupIndex)&&(d||G(a.sortOrder))&&(n=a.sortOrder==="asc"?"ascending":"descending",s=super._applyColumnState(e).toggleClass("dx-sort-up",a.sortOrder==="asc").toggleClass("dx-sort-down",a.sortOrder==="desc"),c&&t.option("sorting.showSortIndexes")&&a.sortIndex>=0&&(M("<span>").addClass("dx-sort-index-icon").text(a.sortIndex+1).appendTo(s),s.addClass("dx-sort-index")),d&&e.rootElement.addClass(t.addWidgetPrefix("action"))),this._setAriaSortAttribute(a,n,o,c),s}return super._applyColumnState(e)}_setAriaSortAttribute(e,t,n,s){if(n.removeAttr("aria-roledescription"),e.isGrouped){let r=this.localize("dxDataGrid-ariaNotSortedColumn");G(e.sortOrder)&&(r=e.sortOrder==="asc"?this.localize("dxDataGrid-ariaSortedAscendingColumn"):this.localize("dxDataGrid-ariaSortedDescendingColumn")),this.setAria("roledescription",r,n)}else if(!G(e.sortOrder))this.setAria("sort","none",n);else if(this.setAria("sort",t,n),s&&e.sortIndex>=0){const r=ue.format("dxDataGrid-ariaColumnHeader"),o=ue.format("dxDataGrid-ariaSortIndex",e.sortIndex+1),a=`${r}, ${o}`;this.setAria("roledescription",a,n)}}_getIndicatorClassName(e){return e==="sort"?"dx-sort":e==="sortIndex"?"dx-sort-index-icon":super._getIndicatorClassName(e)}_renderIndicator(e){const{column:t}=e,n=e.container,s=e.indicator;if(e.name==="sort"){const r=this.option("rtlEnabled");if(G(t.sortOrder)||s&&s.addClass("dx-sort-none"),n.children().length&&(!r&&e.columnAlignment==="left"||r&&e.columnAlignment==="right")){n.prepend(s);return}}super._renderIndicator(e)}_updateIndicator(e,t,n){if(!(n==="sort"&&G(t.groupIndex)))return super._updateIndicator.apply(this,arguments)}_getIndicatorElements(e,t){const n=super._getIndicatorElements(e);return t?n:n&&n.not(".dx-sort-none")}},zZ=i=>class extends P8(i){optionChanged(e){const t=this;e.name==="sorting"?(t._invalidate(),e.handled=!0):super.optionChanged(e)}_createRow(e){const t=super._createRow(e);return e.rowType==="header"&&Y.on(t,be(Nt,"dxDataGridColumnHeadersView"),"td",this.createAction(n=>{this._processHeaderAction(n.event,t)})),t}_processHeaderAction(e,t){if(M(e.currentTarget).parent().get(0)!==t.get(0))return;const n=this;let s=null;const r=M(e.currentTarget),o=r.parent().index();let a=-1;[].slice.call(n.getCellElements(o)).some((p,f)=>{if(p===r.get(0))return a=f,!0});const d=n._columnsController.getVisibleColumns(o)[a],c=n.getController("editing"),h=n.option("editing.mode");c&&c.isEditing()&&(h==="batch"||h==="cell")||!n._isSortableElement(M(e.target))||d&&!G(d.groupIndex)&&!d.command&&(e.shiftKey?s="shift":$n(e)&&(s="ctrl"),setTimeout(()=>{n._columnsController.changeSortOrder(d.index,s)}))}_renderCellContent(e,t){const n=this,{column:s}=t;!s.command&&t.rowType==="header"&&n._applyColumnState({name:"sort",rootElement:e,column:s,showColumnLines:n.option("showColumnLines")}),super._renderCellContent.apply(this,arguments)}_columnOptionChanged(e){const{changeTypes:t}=e;if(t.length===1&&t.sorting){this._updateIndicators("sort");return}super._columnOptionChanged(e)}},WZ=i=>class extends P8(i){optionChanged(e){const t=this;e.name==="sorting"?(t._invalidate(),e.handled=!0):super.optionChanged(e)}_createGroupPanelItem(e,t){const n=this,s=super._createGroupPanelItem(...arguments);return Y.on(s,be(Nt,"dxDataGridHeaderPanel"),n.createAction(()=>{n._processGroupItemAction(t.index)})),n._applyColumnState({name:"sort",rootElement:s,column:{alignment:n.option("rtlEnabled")?"right":"left",allowSorting:t.allowSorting,sortOrder:t.sortOrder==="desc"?"desc":"asc",isGrouped:!0},showColumnLines:!0}),s}_processGroupItemAction(e){setTimeout(()=>this.getController("columns").changeSortOrder(e))}},UZ={defaultOptions:()=>({sorting:{mode:"single",ascendingText:ue.format("dxDataGrid-sortingAscendingText"),descendingText:ue.format("dxDataGrid-sortingDescendingText"),clearText:ue.format("dxDataGrid-sortingClearText"),showSortIndexes:!0}}),extenders:{views:{columnHeadersView:zZ,headerPanel:WZ}}};Ue.registerModule("sorting",UZ);const{abstract:KZ}=Dt,GZ=Oe.real(),M8=Dt.inherit(function(){const i=be("scroll","dxScrollEmitter");return{ctor(e){this._element=e,this._locked=!1,this._proxiedScroll=t=>{this._disposed||this._scroll(t)},Y.on(this._element,i,this._proxiedScroll)},_scroll:KZ,check(e,t){this._locked&&t()},dispose(){this._disposed=!0,Y.off(this._element,i,this._proxiedScroll)}}}()),F8=M8.inherit({ctor(i,e){this.callBase(i),this._timeout=e},_scroll(){this._prepare(),this._forget()},_prepare(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget(){const i=this;this._timer=setTimeout(()=>{i._clearTimer()},this._timeout)},dispose(){this.callBase(),this._clearTimer()}}),dA=F8.inherit({ctor(i){this.callBase(i,400),this._lastWheelDirection=null},check(i,e){this._checkDirectionChanged(i),this.callBase(i,e)},_checkDirectionChanged(i){if(!Li(i)){this._lastWheelDirection=null;return}const e=i.shiftKey||!1,t=this._lastWheelDirection!==null&&e!==this._lastWheelDirection;this._lastWheelDirection=e,this._locked=this._locked&&!t}});let oC=F8.inherit({ctor(i){this.callBase(i,400)}});(function(){const{ios:i,android:e}=GZ;(i||e)&&(oC=M8.inherit({_scroll(){this._locked=!0;const t=this;po(this._scrollFrame),this._scrollFrame=jh(()=>{t._locked=!1})},check(t,n){po(this._scrollFrame),po(this._checkFrame);const s=this,{callBase:r}=this;this._checkFrame=jh(()=>{r.call(s,t,n),s._locked=!1})},dispose(){this.callBase(),po(this._scrollFrame),po(this._checkFrame)}}))})();const qZ=Mp.inherit(function(){const i=Math.round(16.666666666666668);return{ctor(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new oC(e),this._wheelLocker=new dA(e)},validate:()=>!0,configure(e){e.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new oC(e.scrollTarget),this._wheelLocker=new dA(e.scrollTarget)),this.callBase(e)},_init(e){this._wheelLocker.check(e,()=>{Li(e)&&this._accept(e)}),this._pointerLocker.check(e,()=>{const t=this.isNative&&ql(e);!Li(e)&&!t&&this._accept(e)}),this._fireEvent("dxscrollinit",e),this._prevEventData=On(e)},move(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start(e){this._savedEventData=On(e),this._fireEvent("dxscrollstart",e),this._prevEventData=On(e)},_move(e){const t=On(e);this._fireEvent("dxscroll",e,{delta:El(this._prevEventData,t)}),El(this._savedEventData,t).time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=On(e)},_end(e){const t=El(this._prevEventData,On(e));let n={x:0,y:0};if(!Li(e)&&t.time<100){const s=El(this._savedEventData,this._prevEventData),r=i/s.time;n={x:s.x*r,y:s.y*r}}this._fireEvent("dxscrollend",e,{velocity:n})},_stop(e){this._fireEvent("dxscrollstop",e)},cancel(e){this.callBase.apply(this,arguments),this._fireEvent("dxscrollcancel",e)},dispose(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());Xc({emitter:qZ,events:["dxscrollinit","dxscrollstart","dxscroll","dxscrollend","dxscrollstop","dxscrollcancel"]});const gl={init:"dxscrollinit",start:"dxscrollstart",move:"dxscroll",end:"dxscrollend",stop:"dxscrollstop",cancel:"dxscrollcancel"},Fg="vertical",B8="horizontal",gx="both",aC="dx-scrollable",Bg="dx-scrollable-content",YZ="dx-scrollable-wrapper",XZ="dx-scrollable-container",ZZ="dx-scrollable-disabled",N8=function(){return[{device:()=>!es.nativeScrolling,options:{useNative:!1}},{device:i=>!Oe.isSimulator()&&Oe.real().deviceType==="desktop"&&i.platform==="generic",options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:es.touch,showScrollbar:"onHover"}}]},lC="dxScrollbar",QZ="dx-scrollbar-hoverable",cA="horizontal";let nc=null;class V8 extends Oi{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{visible:!1,activeStateEnabled:!1,visibilityMode:"onScroll",containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})}_init(){super._init(),this._isHovered=!1}_initMarkup(){this._renderThumb(),super._initMarkup()}_render(){super._render(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode());const{hoverStateEnabled:e}=this.option();this.$element().toggleClass(QZ,e)}_renderThumb(){this._$thumb=M("<div>").addClass("dx-scrollable-scroll"),M("<div>").addClass("dx-scrollable-scroll-content").appendTo(this._$thumb),this.$element().addClass("dx-scrollable-scrollbar").append(this._$thumb)}isThumb(e){return!!this.$element().find(e).length}_isHoverMode(){const{visibilityMode:e,expandable:t}=this.option();return(e==="onHover"||e==="always")&&t}_renderDirection(){const{direction:e}=this.option();this.$element().addClass(`dx-scrollbar-${e}`),this._dimension=e===cA?"width":"height",this._prop=e===cA?"left":"top"}_attachPointerDownHandler(){Y.on(this._$thumb,be(mt.down,lC),this.feedbackOn.bind(this))}feedbackOn(e){e==null||e.preventDefault(),this.$element().addClass("dx-scrollable-scrollbar-active"),nc=this}feedbackOff(){this.$element().removeClass("dx-scrollable-scrollbar-active"),nc=null}cursorEnter(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)}cursorLeave(){this._isHovered=!1,this.option("visible",!1)}_renderDimensions(){this._$thumb.css({width:this.option("width"),height:this.option("height")})}_toggleVisibility(e){const{visibilityMode:t}=this.option();t==="onScroll"&&this._$thumb.css("opacity");const n=this._adjustVisibility(e);this.option().visible=n,this._$thumb.toggleClass("dx-state-invisible",!n)}_adjustVisibility(e){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;const{visibilityMode:t}=this.option();let n=e;switch(t){case"onScroll":default:break;case"onHover":n=n||!!this._isHovered;break;case"never":n=!1;break;case"always":n=!0}return n}moveTo(e){if(this._isAlwaysHidden())return;let t=e;ot(e)&&(t=e[this._prop]||0);const n={};n[this._prop]=this._calculateScrollBarPosition(t),ui(this._$thumb,n)}_calculateScrollBarPosition(e){return-e*this._thumbRatio}_getSizes(){const{containerSize:e,contentSize:t,baseContainerSize:n,baseContentSize:s}=this.option();return{containerSize:Math.round(e),contentSize:Math.round(t),baseContainerSize:Math.round(n),baseContentSize:Math.round(s)}}_update(){const{containerSize:e,contentSize:t}=this._getSizes();let{baseContainerSize:n,baseContentSize:s}=this._getSizes();isNaN(n)&&(n=e,s=t);const{scaleRatio:r}=this.option();this._baseContainerToContentRatio=s?n/s:n,this._realContainerToContentRatio=t?e/t:e;const o=Math.round(Math.max(Math.round(e*this._realContainerToContentRatio),15));this._thumbRatio=(e-o)/(r*(t-e)),this.option(this._dimension,o/r),this.$element().css("display",this._needScrollbar()?"":"none")}_isAlwaysHidden(){const{visibilityMode:e}=this.option();return e==="never"}_needScrollbar(){return!this._isAlwaysHidden()&&this._baseContainerToContentRatio<1}containerToContentRatio(){return this._realContainerToContentRatio}_normalizeSize(e){return ot(e)?e[this._dimension]||0:e}_clean(){super._clean(),this===nc&&(nc=null),Y.off(this._$thumb,`.${lC}`)}_optionChanged(e){if(this._isAlwaysHidden())return;const{name:t,value:n}=e;switch(t){case"containerSize":case"contentSize":this.option()[t]=this._normalizeSize(n),this._update();break;case"baseContentSize":case"baseContainerSize":case"scaleRatio":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;default:super._optionChanged(e)}}update(){gc(()=>{this._adjustVisibility()&&this.option("visible",!0)})()}}Or.add(()=>{Y.subscribeGlobal(ve.getDocument(),be(mt.up,lC),()=>{nc&&nc.feedbackOff()})});const uA="dxNativeScrollable",JZ="dx-scrollable-scrollbar-simulated",eQ="dx-scrollable-scrollbars-hidden",wu="vertical",Nf="horizontal";let sS=class{constructor(e){this._init(e)}_init(e){this._component=e,this._$element=e.$element(),this._$container=M(e.container()),this._$content=e.$content();const{direction:t,useSimulatedScrollbar:n}=e.option();this._direction=t,this._useSimulatedScrollbar=n,this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e),this._isRtlNativeStrategy=e._isRtlNativeStrategy.bind(e)}render(){const t=Oe.real().platform;this._$element.addClass("dx-scrollable-native").addClass(`dx-scrollable-native-${t}`).toggleClass(eQ,!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()}updateRtlPosition(e){const{rtlEnabled:t}=this.option();e&&t&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()}_renderScrollbars(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass(JZ),this._renderScrollbar(wu),this._renderScrollbar(Nf)}_renderScrollbar(e){if(!this._isDirection(e))return;const{scrollByThumb:t}=this.option();this._scrollbars[e]=new V8(M("<div>").appendTo(this._$element),{direction:e,expandable:t})}handleInit(e){}handleStart(){}handleMove(e){if(this._isLocked()){e.cancel=!0;return}this._allowedDirection()&&(e.originalEvent.isScrollingEvent=!0)}handleEnd(){}handleCancel(){}handleStop(){}_eachScrollbar(e){ie(this._scrollbars||{},(t,n)=>{e(n,t)})}createActions(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")}_createActionArgs(){const{left:e,top:t}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-e):this._isReachedLeft(e),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(e)):this._isReachedRight(e),reachedTop:this._isDirection(wu)?Math.round(t)>=0:void 0,reachedBottom:this._isDirection(wu)?Math.round(Math.abs(t)-this._getMaxOffset().top)>=0:void 0}}_getScrollOffset(){const{top:e,left:t}=this.location();return{top:-e,left:this._normalizeOffsetLeft(-t)}}_normalizeOffsetLeft(e){return this._isRtlNativeStrategy()?this._getMaxOffset().left+e:e}_isReachedLeft(e){return this._isDirection(Nf)?Math.round(e)>=0:void 0}_isReachedRight(e){return this._isDirection(Nf)?Math.round(Math.abs(e)-this._getMaxOffset().left)>=0:void 0}_isScrollbarVisible(){const e=this.option("showScrollbar");return e!=="never"&&e!==!1}handleScroll(e){var t;this._eventForUserAction=e,this._moveScrollbars(),(t=this._scrollAction)===null||t===void 0||t.call(this,this._createActionArgs())}_moveScrollbars(){const{top:e,left:t}=this._getScrollOffset();this._eachScrollbar(n=>{n.moveTo({top:-e,left:-t}),n.option("visible",!0)}),this._hideScrollbars()}_hideScrollbars(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(()=>{this._eachScrollbar(e=>{e.option("visible",!1)})},500)}location(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}}disabledChanged(){}update(){this._update(),this._updateAction(this._createActionArgs())}_update(){this._updateDimensions(),this._updateScrollbars()}_updateDimensions(){this._containerSize={height:ht(this._$container),width:Xe(this._$container)},this._componentContentSize={height:ht(this._component.$content()),width:Xe(this._component.$content())},this._contentSize={height:ht(this._$content),width:Xe(this._$content)}}_updateScrollbars(){this._eachScrollbar((e,t)=>{const n=t===wu?"height":"width";e.option({containerSize:this._containerSize[n],contentSize:this._componentContentSize[n]}),e.update()})}_prepareDirections(){}_allowedDirections(){return{vertical:this._isDirection(wu)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(Nf)&&this._contentSize.width>this._containerSize.width}}dispose(){const{className:e}=this._$element.get(0),t=new RegExp("dx-scrollable-native\\S*","g");if(t.test(e)){const n=e.match(t);n&&this._$element.removeClass(n.join(" "))}Y.off(this._$element,`.${uA}`),Y.off(this._$container,`.${uA}`),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)}_removeScrollbars(){this._eachScrollbar(e=>{e.$element().remove()})}scrollBy(e){const t=this.location();this._$container.scrollTop(Math.round(-t.top-e.top)),this._$container.scrollLeft(Math.round(-t.left-e.left))}validate(e){const{disabled:t}=this.option();return t||Li(e)&&this._isScrolledInMaxDirection(e)?!1:!!this._allowedDirection()}_isScrolledInMaxDirection(e){const t=this._$container.get(0);let n=!1;return e.delta>0?n=e.shiftKey?!t.scrollLeft:!t.scrollTop:e.shiftKey?n=t.scrollLeft>=this._getMaxOffset().left:n=t.scrollTop>=this._getMaxOffset().top,n}getDirection(){return this._allowedDirection()}};class L8{constructor(){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)}start(){this._stopped=!1,this._finished=!1,this._stepCore()}stop(){this._stopped=!0,G(this._stepAnimationFrame)&&po(this._stepAnimationFrame)}_stepCore(){if(this._isStopped()){this._stop();return}if(this._isFinished()){this._finished=!0,this._complete();return}this._step(),this._stepAnimationFrame=jh(this._proxiedStepCore)}_step(){Dt.abstract()}_isFinished(){return this._finished}_stop(){}_complete(){}_isStopped(){return this._stopped}inProgress(){return!(this._stopped||this._finished)}}const $8="dxSimulatedScrollable",tQ="dxScrollableStrategy",Vf=`${$8}Cursor`,_x=`${$8}Keyboard`,nQ="dx-scrollable-scrollbars-alwaysvisible",Mr="vertical",Fi="horizontal",iQ=Math.round(1e3/60),sQ=400/iQ,rQ=(1-.92**sQ)/(1-.92),io={PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home",LEFT:"leftArrow",UP:"upArrow",RIGHT:"rightArrow",DOWN:"downArrow",TAB:"tab"};class H8 extends L8{constructor(e){super(),this.VELOCITY_LIMIT=1,this.scroller=e}_isFinished(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT}_step(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()}_acceleration(){return this.scroller._inBounds()?.92:.5}_complete(){this.scroller._scrollComplete()}}class oQ extends H8{constructor(){super(...arguments),this.VELOCITY_LIMIT=.2}_isFinished(){return this.scroller._crossBoundOnNextStep()||super._isFinished()}_acceleration(){return .92}_complete(){this.scroller._move(this.scroller._bounceLocation),super._complete()}}class j8{constructor(e){this._initOptions(e),this._initAnimators(),this._initScrollbar()}_initOptions(e){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=e.direction===Fi?"x":"y",this._prop=e.direction===Fi?"left":"top",this._dimension=e.direction===Fi?"width":"height",this._scrollProp=e.direction===Fi?"scrollLeft":"scrollTop",ie(e,(t,n)=>{this[`_${t}`]=n})}_initAnimators(){this._inertiaAnimator=new H8(this),this._bounceAnimator=new oQ(this)}_initScrollbar(){this._scrollbar=new V8(M("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()}_visibilityModeNormalize(e){return e===!0?"onScroll":e===!1?"never":e??"never"}_scrollStep(e){const t=this._location;this._location+=e,this._suppressBounce(),this._move(),!(Math.abs(t-this._location)<1)&&Y.triggerHandler(this._$container,{type:"scroll"})}_suppressBounce(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())}_boundLocation(e){const t=e??this._location;return Math.max(Math.min(t,this._maxOffset),this._minOffset)}_move(e){this._location=e!==void 0?e*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()}_moveContent(){const e=this._location;this._$container[this._scrollProp](-e/this._getScaleRatio()),this._moveContentByTranslator(e)}_getScaleRatio(){if(st()&&!this._scaleRatio){const e=this._$element[0],t=this._dimension,n=this._getRealDimension(e,t),s=this._getBaseDimension(e,t);this._scaleRatio=Math.round(n/s*100)/100}return this._scaleRatio||1}_getRealDimension(e,t){return Math.round(en(e)[t])}_getBaseDimension(e,t){const n=`offset${Pc(t)}`;return e[n]}_moveContentByTranslator(e){let t;const n=-this._maxScrollPropValue;if(e>0&&(t=e),e<=n&&(t=e-n),this._translateOffset===t)return;const s={};if(s[this._prop]=t,this._translateOffset=t,!t){yp(this._$content);return}ui(this._$content,s)}_moveScrollbar(){this._scrollbar.moveTo(this._location)}_scrollComplete(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()}_scrollToBounds(){var e;this._inBounds()||((e=this._bounceAction)===null||e===void 0||e.call(this),this._setupBounce(),this._bounceAnimator.start())}_setupBounce(){this._bounceLocation=this._boundLocation();const e=this._bounceLocation-this._location;this._velocity=e/rQ}_inBounds(e){const t=e??this._location;return this._boundLocation(t)===t}_crossBoundOnNextStep(){const e=this._location,t=e+this._velocity;return e<this._minOffset&&t>=this._minOffset||e>this._maxOffset&&t<=this._maxOffset}_initHandler(e){this._stopScrolling(),this._prepareThumbScrolling(e)}_stopScrolling(){gc(()=>{this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()})()}_prepareThumbScrolling(e){if(Li(e.originalEvent))return;const t=M(e.originalEvent.target),n=this._isScrollbar(t);n&&this._moveToMouseLocation(e),this._thumbScrolling=n||this._isThumb(t),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(t),this._thumbScrolling&&this._scrollbar.feedbackOn()}_isThumbScrollingHandler(e){return this._isThumb(e)}_moveToMouseLocation(e){const t=e[`page${this._axis.toUpperCase()}`]-this._$element.offset()[this._prop],n=this._location+t/this._containerToContentRatio()-ht(this._$container)/2;this._scrollStep(-Math.round(n))}_startHandler(){this._showScrollbar()}_moveHandler(e){this._crossThumbScrolling||(this._thumbScrolling&&(e[this._axis]=-Math.round(e[this._axis]/this._containerToContentRatio())),this._scrollBy(e))}_scrollBy(e){let t=e[this._axis];this._inBounds()||(t*=.5),this._scrollStep(t)}_scrollByHandler(e){!e.x&&!e.y||(this._scrollBy(e),this._scrollComplete())}_containerToContentRatio(){return this._scrollbar.containerToContentRatio()}_endHandler(e){return this._completeDeferred=de(),this._velocity=e[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()}_inertiaHandler(){this._suppressInertia(),this._inertiaAnimator.start()}_suppressInertia(){(!this._inertiaEnabled||this._thumbScrolling)&&(this._velocity=0)}_resetThumbScrolling(){this._thumbScrolling=!1,this._crossThumbScrolling=!1}_stopHandler(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()}_disposeHandler(){this._stopScrolling(),this._$scrollbar.remove()}_updateHandler(){this._update(),this._moveToBounds()}_update(){return this._stopScrolling(),Si(()=>(this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),qn(()=>{this._moveScrollbar(),this._scrollbar.update()})))}_resetScaleRatio(){this._scaleRatio=null}_updateLocation(){this._location=(tr(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()}_updateBounds(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()}_getMaxOffset(){return 0}_getMinOffset(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue}_updateScrollbar(){uy(()=>{const e=this._containerSize(),t=this._contentSize(),n=this._dimension,s=this._getBaseDimension(this._$container[0],n),r=this._getBaseDimension(this._$content[0],n);qn(()=>{this._scrollbar.option({containerSize:e,contentSize:t,baseContainerSize:s,baseContentSize:r,scaleRatio:this._getScaleRatio()})})})()}_moveToBounds(){gc(uy(gc(()=>{const e=this._boundLocation(),t=e!==this._location;if(this._location=e,this._move(),t){var n;(n=this._scrollAction)===null||n===void 0||n.call(this)}})))()}_createActionsHandler(e){this._scrollAction=e.scroll,this._bounceAction=e.bounce}_showScrollbar(){this._scrollbar.option("visible",!0)}_hideScrollbar(){this._scrollbar.option("visible",!1)}_containerSize(){return this._getRealDimension(this._$container.get(0),this._dimension)}_contentSize(){const e=this._$content.css(`overflow${this._axis.toUpperCase()}`)==="hidden";let t=this._getRealDimension(this._$content.get(0),this._dimension);if(!e){const n=this._$content[0][`scroll${Pc(this._dimension)}`]*this._getScaleRatio();t=Math.max(n,t)}return t}_validateEvent(e){const t=M(e.originalEvent.target);return this._isThumb(t)||this._isScrollbar(t)}_isThumb(e){return this._scrollByThumb&&this._scrollbar.isThumb(e)}_isScrollbar(e){return!!(this._scrollByThumb&&(e!=null&&e.is(this._$scrollbar)))}_reachedMin(){return Math.round(this._location-this._minOffset)<=0}_reachedMax(){return Math.round(this._location-this._maxOffset)>=0}_cursorEnterHandler(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()}_cursorLeaveHandler(){this._scrollbar.cursorLeave()}isBottomReached(){return!1}dispose(){}}let mr=null,Id=null;class z8{constructor(e){this._init(e)}_init(e){this._component=e,this._$element=e.$element(),this._$container=M(e.container()),this._$wrapper=e._$wrapper,this._$content=e.$content(),this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e)}render(){this._$element.addClass("dx-scrollable-simulated"),this._createScrollers();const{useKeyboard:e}=this.option();e&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()}_createScrollers(){this._scrollers={},this._isDirection(Fi)&&this._createScroller(Fi),this._isDirection(Mr)&&this._createScroller(Mr),this._$element.toggleClass(nQ,this.option("showScrollbar")==="always")}_createScroller(e){this._scrollers[e]=new j8(this._scrollerOptions(e))}_scrollerOptions(e){return{direction:e,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}}_applyScaleRatio(e){for(const t in this._scrollers){const n=this._getPropByDirection(t);if(G(e[n])){const s=this._scrollers[t],r=e[n];r!==void 0&&(e[n]=r*s._getScaleRatio())}}return e}_isAnyThumbScrolling(e){let t=!1;return this._eventHandler("isThumbScrolling",e).done((n,s)=>{t=n||s}),t}handleInit(e){this._suppressDirections(e),this._eventForUserAction=e,this._eventHandler("init",e)}_suppressDirections(e){if(Li(e.originalEvent)){this._prepareDirections(!0);return}this._prepareDirections(),this._eachScroller(function(t,n){const s=M(e.originalEvent.target),r=t._validateEvent(e)||this.option("scrollByContent")&&this._isContent(s);this._validDirections[n]=r})}_isContent(e){return!!e.closest(this._$element).length}_prepareDirections(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._validDirections={},this._validDirections[Fi]=e,this._validDirections[Mr]=e}_eachScroller(e){const t=e.bind(this);ie(this._scrollers,(n,s)=>{t(s,n)})}handleStart(e){this._eventForUserAction=e,this._eventHandler("start").done(this._startAction)}_saveActive(){Id=this}_resetActive(){Id===this&&(Id=null)}handleMove(e){var t;if(this._isLocked()){e.cancel=!0,this._resetActive();return}this._saveActive(),(t=e.preventDefault)===null||t===void 0||t.call(e),this._adjustDistance(e,e.delta),this._eventForUserAction=e,this._eventHandler("move",e.delta)}_adjustDistance(e,t){t.x*=this._validDirections[Fi],t.y*=this._validDirections[Mr];const n=this._tryGetDevicePixelRatio();n&&Li(e.originalEvent)&&(t.x=Math.round(t.x/n*100)/100,t.y=Math.round(t.y/n*100)/100)}_tryGetDevicePixelRatio(){if(st())return bt().devicePixelRatio}handleEnd(e){var t;return this._resetActive(),this._refreshCursorState(((t=e.originalEvent)===null||t===void 0?void 0:t.target)??void 0),this._adjustDistance(e,e.velocity),this._eventForUserAction=e,this._eventHandler("end",e.velocity).done(this._endAction)}handleCancel(e){return this._resetActive(),this._eventForUserAction=e,this._eventHandler("end",{x:0,y:0})}handleStop(){this._resetActive(),this._eventHandler("stop")}handleScroll(){var e;this._updateRtlConfig(),(e=this._scrollAction)===null||e===void 0||e.call(this)}_attachKeyboardHandler(){Y.off(this._$element,`.${_x}`),!this.option("disabled")&&this.option("useKeyboard")&&Y.on(this._$element,be("keydown",_x),this._keyDownHandler.bind(this))}_keyDownHandler(e){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{En(e)===io.TAB&&this._eachScroller(n=>{n._updateHandler()})}),!this._$container.is(ve.getActiveElement(this._$container.get(0))))return;let t=!0;switch(En(e)){case io.DOWN:this._scrollByLine({y:1});break;case io.UP:this._scrollByLine({y:-1});break;case io.RIGHT:this._scrollByLine({x:1});break;case io.LEFT:this._scrollByLine({x:-1});break;case io.PAGE_DOWN:this._scrollByPage(1);break;case io.PAGE_UP:this._scrollByPage(-1);break;case io.HOME:this._scrollToHome();break;case io.END:this._scrollToEnd();break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault())}_scrollByLine(e){const t=this._tryGetDevicePixelRatio();let n=40;t&&(n=Math.abs(n/t*100)/100),this.scrollBy({top:(e.y??0)*-n,left:(e.x??0)*-n})}_scrollByPage(e){const t=this._wheelProp(),n=this._dimensionByProp(t),s={},r=n==="width"?Xe:ht;s[t]=e*-r(this._$container),this.scrollBy(s)}_dimensionByProp(e){return e==="left"?"width":"height"}_getPropByDirection(e){return e===Fi?"left":"top"}_scrollToHome(){const e=this._wheelProp(),t={};t[e]=0,this._component.scrollTo(t)}_scrollToEnd(){const e=this._wheelProp(),t=this._dimensionByProp(e),n={},s=t==="width"?Xe:ht;n[e]=s(this._$content)-s(this._$container),this._component.scrollTo(n)}createActions(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()}_createScrollerActions(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})}_createActionHandler(e){var t=this;const n=this._createActionByOption(e);return function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];n(se(t._createActionArgs(),r))}}_createActionArgs(){const{horizontal:e,vertical:t}=this._scrollers,n=this._getScrollOffset();return this._scrollOffset={top:t&&n.top,left:e&&n.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:e==null?void 0:e._reachedMax(),reachedRight:e==null?void 0:e._reachedMin(),reachedTop:t==null?void 0:t._reachedMax(),reachedBottom:t==null?void 0:t._reachedMin()}}_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}}_eventHandler(e,t){const n=[].slice.call(arguments).slice(1),s=Mn(this._scrollers,r=>r[`_${e}Handler`].apply(r,n));return Ae.apply(M,s).promise()}location(){const e=tr(this._$content);return e.top-=this._$container.scrollTop(),e.left-=this._$container.scrollLeft(),e}disabledChanged(){this._attachCursorHandlers()}_attachCursorHandlers(){Y.off(this._$element,`.${Vf}`);const{disabled:e}=this.option();!e&&this._isHoverMode()&&(Y.on(this._$element,be("mouseenter",Vf),this._cursorEnterHandler.bind(this)),Y.on(this._$element,be("mouseleave",Vf),this._cursorLeaveHandler.bind(this)))}_isHoverMode(){return this.option("showScrollbar")==="onHover"}_cursorEnterHandler(e){const t=e||{};t.originalEvent=t.originalEvent||{},!(Id||t.originalEvent._hoverHandled)&&(mr&&mr._cursorLeaveHandler(),mr=this,this._eventHandler("cursorEnter"),t.originalEvent._hoverHandled=!0)}_cursorLeaveHandler(e){mr!==this||Id===mr||(this._eventHandler("cursorLeave"),mr=null,this._refreshCursorState(e==null?void 0:e.relatedTarget))}_refreshCursorState(e){if(!this._isHoverMode()&&(!e||Id))return;const n=M(e).closest(".dx-scrollable-simulated:not(.dx-state-disabled)"),s=n.length&&n.data(tQ);mr&&mr!==s&&mr._cursorLeaveHandler(),s&&s._cursorEnterHandler()}update(){const e=this._eventHandler("update").done(this._updateAction);return Ae(e,Si(()=>{const t=this._allowedDirections();return qn(()=>{let n=t.vertical?"pan-x":"";n=t.horizontal?"pan-y":n,n=t.vertical&&t.horizontal?"none":n,this._$container.css("touchAction",n)}),Ae().promise()}))}_allowedDirections(){const{bounceEnabled:e}=this.option(),t=this._scrollers[Mr],n=this._scrollers[Fi];return{vertical:!!(t&&(t._minOffset<0||e)),horizontal:!!(n&&(n._minOffset<0||e))}}_updateBounds(){var e;(e=this._scrollers[Fi])===null||e===void 0||e._updateBounds()}_isHorizontalAndRtlEnabled(){return this.option("rtlEnabled")&&this.option("direction")!==Mr}updateRtlPosition(e){if(e&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()){let t=this._getMaxOffset().left-this._rtlConfig.scrollRight;t<=0&&(t=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),this._getScrollOffset().left!==t&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:t}),this._rtlConfig.skipUpdating=!1)}}_updateRtlConfig(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){const{clientWidth:e,scrollLeft:t}=this._$container.get(0),n=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===n&&this._rtlConfig.clientWidth===e&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-t),this._rtlConfig.clientWidth=e,this._rtlConfig.windowPixelRatio=n}}_getWindowDevicePixelRatio(){return st()?bt().devicePixelRatio:1}scrollBy(e){var t,n;const s=this._scrollers[Mr],r=this._scrollers[Fi];s&&(e.top=s._boundLocation(e.top+s._location)-s._location),r&&(e.left=r._boundLocation(e.left+r._location)-r._location),this._prepareDirections(!0),(t=this._startAction)===null||t===void 0||t.call(this),this._eventHandler("scrollBy",{x:e.left,y:e.top}),(n=this._endAction)===null||n===void 0||n.call(this),this._updateRtlConfig()}validate(e){return Li(e)&&$n(e)||this.option("disabled")?!1:this.option("bounceEnabled")?!0:Li(e)?this._validateWheel(e):this._validateMove(e)}_validateWheel(e){const t=this._scrollers[this._wheelDirection(e)],n=t._reachedMin(),s=t._reachedMax(),r=!n||!s,o=!n&&!s,a=n&&e.delta>0,l=s&&e.delta<0;let d=r&&(o||a||l);return d=d||this._validateWheelTimer!==void 0,d&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},500)),d}_validateMove(e){const{scrollByContent:t}=this.option();return!t&&!M(e.target).closest(".dx-scrollable-scrollbar").length?!1:this._allowedDirection()}getDirection(e){return Li(e)?this._wheelDirection(e):this._allowedDirection()}_wheelProp(){return this._wheelDirection()===Fi?"left":"top"}_wheelDirection(e){const{direction:t}=this.option();switch(t){case Fi:return Fi;case Mr:return Mr;default:return e!=null&&e.shiftKey?Fi:Mr}}dispose(){this._resetActive(),mr===this&&(mr=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass("dx-scrollable-simulated"),this._eventForUserAction=void 0,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)}_detachEventHandlers(){Y.off(this._$element,`.${Vf}`),Y.off(this._$container,`.${_x}`)}}function W8(i,e){const t={left:0,top:0};let n=e;for(;(s=n)!==null&&s!==void 0&&s.offsetParent&&!n.classList.contains(i);){var s;const r=n.offsetParent,o=n.getBoundingClientRect(),a=r.getBoundingClientRect();t.left+=o.left-a.left,t.top+=o.top-a.top,n=n.offsetParent}return t}function U8(i,e,t,n,s){let r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:Bg;const o=Object.assign({top:0,left:0,right:0,bottom:0},s),a=e===Fg,l=a?"top":"left",d=a?"bottom":"right",c=a?"height":"width",h=t[`offset${Pc(c)}`],u=t[`client${Pc(c)}`],p=t.getBoundingClientRect()[c],f=i.getBoundingClientRect()[c];let g=1;Math.abs(p-h)>1&&(g=p/h);const m=W8(r,i)[l]/g,v=n[l],_=v-m+o[l],x=v-m-f/g+u-o[d];return _<=0&&x>=0?v:v-(Math.abs(_)>Math.abs(x)?x:_)}const Nr="dxScrollable",aQ="dxScrollableStrategy",Fr="vertical",Zo="horizontal",vx="both";class ys extends Ar{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{disabled:!1,onScroll:null,direction:Fr,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1,_onVisibilityChanged:Te})}_defaultOptionsRules(){return super._defaultOptionsRules().concat(N8(),[{device:()=>!!(es.nativeScrolling&&Oe.real().platform==="android"&&!gn.mozilla),options:{useSimulatedScrollbar:!0}}])}_initOptions(e){super._initOptions(e),"useSimulatedScrollbar"in e||this._setUseSimulatedScrollbar()}_setUseSimulatedScrollbar(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))}_init(){super._init(),this._initScrollableMarkup(),this._locked=!1}_visibilityChanged(e){if(e){this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset;const{_onVisibilityChanged:t}=this.option();t==null||t(this)}else this._savedScrollOffset=this.scrollOffset()}_initScrollableMarkup(){const e=this.$element().addClass(aC),t=M("<div>").addClass(XZ),n=M("<div>").addClass(YZ),s=M("<div>").addClass(Bg);this._$container=t,this._$wrapper=n,this._$content=s,s.append(e.contents()).appendTo(t),t.appendTo(n),n.appendTo(e)}_dimensionChanged(){this.update(),this._updateRtlPosition()}_initMarkup(){super._initMarkup(),this._renderDirection()}_render(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),super._render(),this._updateRtlPosition(!0)}_updateRtlPosition(e){this._strategy.updateRtlPosition(e)}_getMaxOffset(){const{scrollWidth:e,clientWidth:t,scrollHeight:n,clientHeight:s}=M(this.container()).get(0);return{left:e-t,top:n-s}}_attachEventHandlers(){const e=this._strategy,t={getDirection:e.getDirection.bind(e),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};Y.off(this._$wrapper,`.${Nr}`),Y.on(this._$wrapper,be(gl.init,Nr),t,this._initHandler.bind(this)),Y.on(this._$wrapper,be(gl.start,Nr),e.handleStart.bind(e)),Y.on(this._$wrapper,be(gl.move,Nr),e.handleMove.bind(e)),Y.on(this._$wrapper,be(gl.end,Nr),e.handleEnd.bind(e)),Y.on(this._$wrapper,be(gl.cancel,Nr),e.handleCancel.bind(e)),Y.on(this._$wrapper,be(gl.stop,Nr),e.handleStop.bind(e)),Y.off(this._$container,`.${Nr}`),Y.on(this._$container,be("scroll",Nr),e.handleScroll.bind(e))}_validate(e){return this._isLocked()?!1:(this._updateIfNeed(),this._moveIsAllowed(e))}_moveIsAllowed(e){return!!this._strategy.validate(e)}handleMove(e){this._strategy.handleMove(e)}_prepareDirections(e){this._strategy._prepareDirections(e)}_initHandler(e){this._strategy.handleInit(e)}_renderDisabledState(){const{disabled:e}=this.option();this.$element().toggleClass(ZZ,e),this.option("disabled")?this._lock():this._unlock()}_renderDirection(){const{direction:e}=this.option();this.$element().removeClass(`dx-scrollable-${Zo}`).removeClass(`dx-scrollable-${Fr}`).removeClass(`dx-scrollable-${vx}`).addClass(`dx-scrollable-${e}`)}_renderStrategy(){this._createStrategy(),this._strategy.render(),this.$element().data(aQ,this._strategy)}_createStrategy(){const{useNative:e}=this.option();this._strategy=e?new sS(this):new z8(this)}_createActions(){var e;(e=this._strategy)===null||e===void 0||e.createActions()}_clean(){var e;(e=this._strategy)===null||e===void 0||e.dispose()}_optionChanged(e){var t;switch(e.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),(t=this._strategy)===null||t===void 0||t.disabledChanged();break;case"updateManually":case"scrollByContent":case"_onVisibilityChanged":break;case"width":super._optionChanged(e),this._updateRtlPosition();break;default:super._optionChanged(e)}}_resetInactiveDirection(){const e=this._getInactiveProp();if(!e||!st())return;const t=this.scrollOffset();t[e]=0,this.scrollTo(t)}_getInactiveProp(){const{direction:e}=this.option();return e===Fr?"left":"top"}_location(){return this._strategy.location()}_normalizeLocation(e){if(ot(e)){const n=wn(e.left,e.x),s=wn(e.top,e.y);return{left:G(n)?-n:void 0,top:G(s)?-s:void 0}}const{direction:t}=this.option();return{left:t!==Fr?-e:void 0,top:t!==Zo?-e:void 0}}_isLocked(){return this._locked}_lock(){this._locked=!0}_unlock(){this.option("disabled")||(this._locked=!1)}_isDirection(e){const{direction:t}=this.option();return e===Fr?t!==Zo:e===Zo?t!==Fr:t===e}_updateAllowedDirection(){const e=this._strategy._allowedDirections();this._isDirection(vx)&&e.vertical&&e.horizontal?this._allowedDirectionValue=vx:this._isDirection(Zo)&&e.horizontal?this._allowedDirectionValue=Zo:this._isDirection(Fr)&&e.vertical?this._allowedDirectionValue=Fr:this._allowedDirectionValue=null}_allowedDirection(){return this._allowedDirectionValue}$content(){return this._$content}content(){return We(this._$content)}container(){return We(this._$container)}scrollOffset(){return this._strategy._getScrollOffset()}_isRtlNativeStrategy(){const{useNative:e,rtlEnabled:t}=this.option();return e&&t}scrollTop(){return this.scrollOffset().top}scrollLeft(){return this.scrollOffset().left}clientHeight(){return ht(this._$container)}scrollHeight(){return gt(this.$content())}clientWidth(){return Xe(this._$container)}scrollWidth(){return kt(this.$content())}update(){return this._strategy?Ae(this._strategy.update()).done(()=>{this._updateAllowedDirection()}):de().resolve()}scrollBy(e){const t=this._normalizeLocation(e);!t.top&&!t.left||(this._updateIfNeed(),this._strategy.scrollBy(t))}scrollTo(e){if(!st())return;let t=this._normalizeLocation(e);this._updateIfNeed();let n=this._location();const{useNative:s}=this.option();if(!s){const o=this._strategy;t=o._applyScaleRatio(t),n=o._applyScaleRatio(n)}this._isRtlNativeStrategy()&&(n.left-=this._getMaxOffset().left);const r=this._normalizeLocation({left:n.left-wn(t.left,n.left),top:n.top-wn(t.top,n.top)});!r.top&&!r.left||this._strategy.scrollBy(r)}scrollToElement(e,t){const n=M(e),s=this.$content().find(e).length,r=n.parents(`.${aC}`).length-n.parents(`.${Bg}`).length===0;if(!s||!r)return;const o={top:0,left:0},{direction:a}=this.option();a!==Fr&&(o.left=this.getScrollElementPosition(n,Zo,t)),a!==Zo&&(o.top=this.getScrollElementPosition(n,Fr,t)),this.scrollTo(o)}getScrollElementPosition(e,t,n){const s=this.scrollOffset();return U8(e[0],t,M(this.container())[0],s,n)}_updateIfNeed(){this.option("updateManually")||this.update()}_useTemplates(){return!1}}St(Nr,ys);const lQ=(i,e)=>!i.command||i.type===bs?xe.formatValue(e,i):"",Lf="dx-freespace-row",hA="dx-last-row-border";function pA(i){return i?Math.round(i.scrollWidth()-i.clientWidth()):0}function dC(i){let{rowType:e,column:t}=i;return e==="group"&&G(t.groupIndex)&&!t.showWhenGrouped&&!t.command}function fA(i){let{element:e,watch:t,getter:n,callBack:s}=i;if(t){const r=t(n,s);Y.on(e,$s,r)}}const dQ=function(i,e){const t=bm(e.text)&&e.rowType==="data",{text:n}=e,s=i.get(0);t?xe.setEmptyText(i):e.column.encodeHtml?s.textContent=n:s.innerHTML=n},cQ=function(i){const e=i.getScrollable();return e?Math.ceil(parseFloat(M(e.content()).css("paddingBottom"))):0};class uQ extends Bp{init(){super.init(),this._editingController=this.getController("editing"),this._resizingController=this.getController("resizing"),this._columnsResizerController=this.getController("columnsResizer"),this._focusController=this.getController("focus"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._validatingController=this.getController("validating"),this._errorHandlingController=this.getController("errorHandling"),this._columnHeadersView=this.getView("columnHeadersView"),this._rowHeight=0,this._scrollTop=0,this._scrollLeft=-1,this._scrollRight=0,this._hasHeight=void 0,this._contentChanges=[],this._dataController.loadingChanged.add((e,t)=>{this.setLoading(e,t)}),this._dataController.dataSourceChanged.add(()=>{this._scrollLeft>=0&&!this._dataController.isLoading()&&this._handleScroll({component:this.getScrollable(),forceUpdateScrollPosition:!0,scrollOffset:{top:this._scrollTop,left:this._scrollLeft}})})}_getDefaultTemplate(e){return e.command==="empty"?function(t){t.html("&nbsp;")}:dQ}renderFocusState(e){}_getDefaultGroupTemplate(e){const t=this.option("summary.texts");return function(n,s){const{data:r}=s;let o=`${s.column.caption}: ${s.text}`;const a=n.get(0);s.summaryItems&&s.summaryItems.length&&(o+=` ${xe.getGroupRowSummaryText(s.summaryItems,t)}`),r&&(s.groupContinuedMessage&&s.groupContinuesMessage?o+=` (${s.groupContinuedMessage}. ${s.groupContinuesMessage})`:s.groupContinuesMessage?o+=` (${s.groupContinuesMessage})`:s.groupContinuedMessage&&(o+=` (${s.groupContinuedMessage})`)),e.encodeHtml?a.textContent=o:a.innerHTML=o}}_update(e){}_updateCell(e,t){dC(t)&&(e.is(`.${this.addWidgetPrefix(Tn.groupRowContainer)}`)?e.parent():e).addClass("dx-group-cell"),super._updateCell.apply(this,arguments)}_getCellTemplate(e){const t=this,{column:n}=e;let s;return dC(e)?s=n.groupCellTemplate||{allowRenderToDetachedContainer:!0,render:t._getDefaultGroupTemplate(n)}:(e.rowType==="data"||n.command)&&n.cellTemplate?s=n.cellTemplate:s={allowRenderToDetachedContainer:!0,render:t._getDefaultTemplate(n)},s}_createRow(e,t){const n=super._createRow.apply(this,arguments);if(e){const s=e.rowType==="group",r=e.rowType==="data";r&&n.addClass("dx-data-row"),r&&this.option("showRowLines")&&n.addClass("dx-row-lines"),this.option("showColumnLines")&&n.addClass("dx-column-lines"),e.visible===!1&&n.hide(),s&&(n.addClass("dx-group-row"),this.setAriaExpandedAttribute(n,e))}return n}_rowPrepared(e,t,n){t.rowType==="data"&&(this.option("rowAlternationEnabled")&&(this._isAltRow(n)&&e.addClass("dx-row-alt"),fA({element:e.get(0),watch:t.watch,getter:()=>this._isAltRow(this._dataController.getRowByKey(n.key)),callBack:s=>{e.toggleClass("dx-row-alt",s)}})),this._setAriaRowIndex(t,e),fA({element:e.get(0),watch:t.watch,getter:()=>t.rowIndex,callBack:()=>this._setAriaRowIndex(t,e)})),super._rowPrepared.apply(this,arguments)}_setAriaRowIndex(e,t){if(!t.is("tr"))return;const{component:n}=this,s=n.option("scrolling.mode")==="standard"&&!xe.isVirtualRowRendering(n);let r=e.rowIndex+1;s?r=n.pageIndex()*n.pageSize()+r:r+=this._dataController.getRowIndexOffset(),this.setAria("rowindex",r,t)}setAriaExpandedAttribute(e,t){const n=t.isExpanded?this.localize("dxDataGrid-ariaExpandedRow"):this.localize("dxDataGrid-ariaCollapsedRow");this.setAria("roledescription",n,e)}_afterRowPrepared(e){const t=e.args[0],n=this._dataController,s=n.getVisibleRows()[t.rowIndex],r=this.option("integrationOptions.watchMethod");if(!t.data||t.rowType!=="data"||t.isNewRow||!this.option("twoWayBindingEnabled")||!r||!s)return;const o=r(()=>n.generateDataValues(t.data,t.columns),()=>{n.repaintRows([s.rowIndex],this.option("repaintChangesOnly"))},{deep:!0,skipImmediate:!0});Y.on(t.rowElement,$s,o)}_renderScrollable(e){const t=this,n=t.element();if(n.children().length||n.append("<div>"),(e||!t._loadPanel)&&t._renderLoadPanel(n,n.parent(),t._dataController.isLocalStore()),(e||!t.getScrollable())&&t._dataController.isLoaded()){const s=t.getColumns();let r=!0;for(let o=0;o<s.length;o++)if(!s[o].width&&!s[o].minWidth){r=!1;break}(t.option("columnAutoWidth")||t._hasHeight||r||t._columnsController._isColumnFixing())&&t._renderScrollableCore(n)}}_handleScroll(e){const t=this.option("rtlEnabled"),n=e.component.option("useNative");this._scrollTop=e.scrollOffset.top,this._scrollLeft=e.scrollOffset.left;let s=e.scrollOffset.left;t&&(this._scrollRight=pA(e.component)-this._scrollLeft,n&&(s=-this._scrollRight),this.isScrollbarVisible(!0)||(this._scrollLeft=-1)),this.scrollChanged.fire(Object.assign({},e.scrollOffset,{left:s}),this.name)}_renderScrollableCore(e){const t=this._createScrollableOptions(),n=this._handleScroll.bind(this);t.onScroll=n,this._scrollable=this._createComponent(e,ys,t),this._scrollableContainer=this._scrollable&&M(this._scrollable.container())}_renderLoadPanel(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return xe.renderLoadPanel.apply(this,arguments)}_renderContent(e,t,n){return e.empty().append(t),this._findContentElement()}_updateContent(e,t,n){return this._contentChanges.push({newTableElement:e,change:t,isFixedTableRendering:n}),this.waitAsyncTemplates().done(()=>{const s=this._contentChanges;this._contentChanges=[],s.forEach(r=>{let{newTableElement:o,change:a,isFixedTableRendering:l}=r;const d=this.getTableElement(l),c=this._findContentElement(l),h=a==null?void 0:a.changeType,u=[],p=this.option("highlightChanges"),f=this.addWidgetPrefix("row-inserted-animation");h==="update"?(ie(a.rowIndices,(g,m)=>{var v;const _=this._getRowElements(o).eq(g),x=(v=a.changeTypes)===null||v===void 0?void 0:v[g],y=a.items&&a.items[g];u.push(()=>{const T=this._getRowElements(d),O=T.eq(m);switch(x){case"update":if(y){var L;const R=(L=a.columnIndices)===null||L===void 0?void 0:L[g];G(y.visible)&&y.visible!==O.is(":visible")?O.toggle(y.visible):R?this._updateCells(O,_,R,y):O.replaceWith(_)}break;case"insert":if(T.length)O.length?_.insertBefore(O):_.insertAfter(T.last());else if(d){const R=_.is("tbody")?d:d.children("tbody");_.prependTo(R)}p&&a.isLiveUpdate&&_.addClass(f);break;case"remove":O.remove()}})}),ie(u,function(){this()}),o.remove()):(this.setTableElement(o,l),c.addClass(this.addWidgetPrefix("content")),this._setGridRole(c),this._renderContent(c,o,l))})}).fail(()=>{this._contentChanges=[]})}_getGridRoleName(){return"grid"}_setGridRole(e){var t;const n=!((t=this._dataController)!==null&&t!==void 0&&t.isEmpty()),s=this._getGridRoleName();e!=null&&e.length&&n&&this.setAria("role",s,e)}_createEmptyRow(e,t,n){const s=this;let r;const o=s._createRow(),a=t?this.getFixedColumns():this.getColumns();o.addClass(e).toggleClass("dx-column-lines",s.option("showColumnLines"));for(let l=0;l<a.length;l++)r=s._createCell({column:a[l],rowType:"freeSpace",columnIndex:l,columns:a}),jt(n)&&r.css("height",n),o.append(r);return s.setAria("role","presentation",o),o}getFixedColumns(){throw new Error("Method not implemented.")}_appendEmptyRow(e,t,n){const s=this._getBodies(e),r=!s.length||t.is("tbody"),o=r?e:s;if(n==="top"){if(o.first().prepend(t),r){const a=o.children("colgroup");o.prepend(a)}}else o.last().append(t)}_renderFreeSpaceRow(e,t){let n=this._createEmptyRow(Lf);n=this._wrapRowIfNeed(e,n,(t==null?void 0:t.changeType)==="refresh"),this._appendEmptyRow(e,n)}_checkRowKeys(e){const t=this,n=t._getRows(e),s=t._dataController.store()&&t._dataController.store().key();s&&n.some(r=>{if(r.rowType==="data"&&r.key===void 0)return t._dataController.fireError("E1046",s),!0})}_needUpdateRowHeight(e){return e>0&&!this._rowHeight}_getRowsHeight(e){return e=e||this._tableElement,e.children("tbody").children().not(".dx-virtual-row").not(`.${Lf}`).toArray().reduce((n,s)=>n+en(s).height,0)}_updateRowHeight(){const e=this,t=e.getTableElement(),n=e._dataController.items().length;if(t&&e._needUpdateRowHeight(n)){const s=e._getRowsHeight(t);e._rowHeight=s/n}}_findContentElement(e){let t=this.element();const n=this.getScrollable();if(t)return n&&(t=M(n.content())),t.children().first()}_getRowElements(e){const t=super._getRowElements(e);return t&&t.not(`.${Lf}`)}_getFreeSpaceRowElements(e){const t=e||this.getTableElements();return t&&t.children("tbody").children(`.${Lf}`)}_getNoDataText(){return this.option("noDataText")}_rowClick(e){const t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowClick",se({evaluate(n){return qt(n)(t.data)}},e,t))}_rowDblClick(e){const t=this._dataController.items()[e.rowIndex]||{};this.executeAction("onRowDblClick",se({},e,t))}_getColumnsCountBeforeGroups(e){for(let t=0;t<e.length;t++)if(e[t].type==="groupExpand")return t;return 0}_getGroupCellOptions(e){const t=this._getColumnsCountBeforeGroups(e.columns),n=(e.row.groupIndex||0)+t;return{columnIndex:n,colspan:e.columns.length-n-1}}_needWrapRow(){return super._needWrapRow.apply(this,arguments)||!!this.option("dataRowTemplate")}_renderCells(e,t){t.row.rowType==="group"?this._renderGroupedCells(e,t):t.row.values&&super._renderCells(e,t)}_renderGroupedCells(e,t){const{row:n}=t;let s;const{columns:r}=t,{rowIndex:o}=n;let a;const l=this._getGroupCellOptions(t);for(let h=0;h<=l.columnIndex;h++)h===l.columnIndex&&r[h].allowCollapsing&&t.scrollingMode!=="infinite"?(a=!!n.isExpanded,s=r[h]):(a=null,s={command:"expand",cssClass:r[h].cssClass,fixed:r[h].fixed}),this._needRenderCell(h,t.columnIndices)&&this._renderCell(e,{value:a,row:n,rowIndex:o,column:s,columnIndex:h,columnIndices:t.columnIndices,change:t.change});const d=tl(this.option("rtlEnabled")),c=se({},r[l.columnIndex],{command:null,type:null,cssClass:null,width:null,showWhenGrouped:!1,alignment:d});l.colspan>1&&(c.colspan=l.colspan),this._needRenderCell(l.columnIndex+1,t.columnIndices)&&this._renderCell(e,{value:n.values[n.groupIndex],row:n,rowIndex:o,column:c,columnIndex:l.columnIndex+1,columnIndices:t.columnIndices,change:t.change})}_renderRows(e,t){const n=this,s=n.option("scrolling.mode");super._renderRows(e,se({scrollingMode:s},t)),n._checkRowKeys(t.change),n._renderFreeSpaceRow(e,t.change),n._hasHeight||n.updateFreeSpaceRowHeight(e)}_renderDataRowByTemplate(e,t,n){const{row:s}=t,r=se({columns:t.columns},s),o=this._createRow(s,"tbody");o.appendTo(e),this.renderTemplate(o,n,r,!0,t.change),this._rowPrepared(o,r,t.row)}_renderRow(e,t){const{row:n}=t,{rowTemplate:s}=this.option(),r=this.option("dataRowTemplate");n.rowType==="data"&&r?this._renderDataRowByTemplate(e,t,r):(n.rowType==="data"||n.rowType==="group")&&!G(n.groupIndex)&&s?this.renderTemplate(e,s,se({columns:t.columns},n),!0):super._renderRow(e,t)}_renderTable(e){const t=this,n=super._renderTable(e),s=function(){const r=t.getScrollable();r&&t.element().closest(bt().document).length&&(t.resizeCompleted.remove(s),r._visibilityChanged(!0))};return G(t.getTableElement())?t._renderScrollable():(t.setTableElement(n),t._renderScrollable(!0),t.resizeCompleted.add(s)),n}_createTable(){const e=super._createTable.apply(this,arguments);return(this.option().rowTemplate||this.option().dataRowTemplate)&&e.appendTo(this.component.$element()),e}_renderCore(e){const t=this.element();t.addClass(this.addWidgetPrefix("rowsview")).toggleClass(this.addWidgetPrefix("nowrap"),!this.option("wordWrapEnabled")),t.toggleClass("dx-empty",this._dataController.isEmpty()),this.setAria("role","presentation",t);const n=this._renderTable({change:e}),s=this._updateContent(n,e);return super._renderCore(e),this._lastColumnWidths=null,s}_getRows(e){return e&&e.items||this._dataController.items()}_getCellOptions(e){const t=this,{column:n}=e,{row:s}=e,{data:r}=s,o=s&&s.summaryCells,{value:a}=e,l=xe.getDisplayValue(n,a,r,s.rowType),d=super._getCellOptions(e);if(d.value=a,d.oldValue=e.oldValue,d.displayValue=l,d.row=s,d.key=s.key,d.data=r,d.rowType=s.rowType,d.values=s.values,d.text=lQ(n,l),d.rowIndex=s.rowIndex,d.summaryItems=o&&o[e.columnIndex],d.resized=n.resizedCallbacks,G(n.groupIndex)&&!n.command){const c=t.option("grouping.texts"),h=t.option("scrolling.mode");h!=="virtual"&&h!=="infinite"&&(d.groupContinuesMessage=r&&r.isContinuationOnNextPage&&c&&c.groupContinuesMessage,d.groupContinuedMessage=r&&r.isContinuation&&c&&c.groupContinuedMessage)}return d}_toggleDraggableSourceColumnClass(e,t,n,s){const r=this._columnsController,o=r.getColumns(),a=o&&o[n],l=a&&a.isBand&&a.index;ie(e,(d,c)=>{if(!M(c).hasClass("dx-group-row"))for(let h=0;h<t.length&&!((jt(l)&&r.isParentBandColumn(t[h].index,l)||t[h].index===n)&&(e.eq(d).children().eq(h).toggleClass(this.addWidgetPrefix(xg.draggableColumn),s),!jt(l)));h++);})}_getDevicePixelRatio(){return bt().devicePixelRatio}renderNoDataText(){return xe.renderNoDataText.apply(this,arguments)}getCellOptions(e,t){const n=this._dataController.items()[e];let s,r;return n&&(Ke(t)?r=this._columnsController.columnOption(t):r=this._columnsController.getVisibleColumns()[t],r&&(s=this._getCellOptions({value:r.calculateCellValue(n.data),rowIndex:n.rowIndex,row:n,column:r}))),s}getRow(e){if(e>=0){const t=this._getRowElements();if(t.length>e)return M(t[e])}}updateFreeSpaceRowHeight(e){const t=this._dataController,n=t.items(!0).length,s=this._findContentElement(),r=this._getFreeSpaceRowElements(e);if(r&&s&&t.totalCount()>=0){let o=!1;if(n>0)if(this._hasHeight)r.hide(),Si(()=>{const a=this.getScrollbarWidth(!0),l=ht(this.element())-a,d=gt(s),c=l-d>0,h=this._getRowsHeight(s.children().first()),u=e||this.getTableElements(),p=Math.ceil(parseFloat(u.css("borderTopWidth"))),f=this._getHeightCorrection(),g=l-h-p-f;c&&qn(()=>{r.css("height",g),o=!0,r.show()}),qn(()=>this._updateLastRowBorder(o))});else{const a=t.pageSize()-n,l=this.option("scrolling.mode");a>0&&t.pageCount()>1&&l!=="virtual"&&l!=="infinite"&&(Vv(r,a*this._rowHeight),o=!0),!o&&e?Vv(r,0):r.toggle(o),this._updateLastRowBorder(o)}else r.css("height",0),r.show(),this._updateLastRowBorder(!0)}}_getHeightCorrection(){const e=gn.webkit&&this._getDevicePixelRatio()>=2,t=gn.chrome&&gn.version>=91,n=gn.mozilla&&gn.version>=70&&!this.option("showRowLines");return e||n||t?1:0}_columnOptionChanged(e){const{optionNames:t}=e;e.changeTypes.grouping||(t.width||t.visibleWidth)&&(super._columnOptionChanged(e),this._fireColumnResizedCallbacks())}getScrollable(){return this._scrollable}_handleDataChanged(e){const t=this;switch(e.changeType){case"refresh":case"prepend":case"append":case"update":t.render(null,e);break;default:t._update(e)}}publicMethods(){return["isScrollbarVisible","getTopVisibleRowData","getScrollbarWidth","getCellElement","getRowElement","getScrollable"]}contentWidth(){return Xe(this.element())-this.getScrollbarWidth()}getScrollbarWidth(e){const t=this._scrollableContainer&&this._scrollableContainer.get(0);let n=0;return t&&(e?(n=t.clientHeight?t.offsetHeight-t.clientHeight:0,n+=cQ(this)):n=t.clientWidth?t.offsetWidth-t.clientWidth:0),n>0?n:0}_fireColumnResizedCallbacks(){const e=this._lastColumnWidths||[],t=[],n=this.getColumns();for(let s=0;s<n.length;s++)t[s]=n[s].visibleWidth,n[s].resizedCallbacks&&!G(n[s].groupIndex)&&e[s]!==t[s]&&n[s].resizedCallbacks.fire(t[s]);this._lastColumnWidths=t}_updateLastRowBorder(e){this.option("showBorders")&&!e?this.element().addClass(hA):this.element().removeClass(hA)}_updateScrollable(){const e=ys.getInstance(this.element());e&&(e.update(),this._updateHorizontalScrollPosition())}_updateHorizontalScrollPosition(){const e=this.getScrollable(),t=e&&e.scrollOffset().left;if(this.option("rtlEnabled")){const s=pA(e);s-t!==this._scrollRight&&(this._scrollLeft=s-this._scrollRight)}this._scrollLeft>=0&&t!==this._scrollLeft&&e.scrollTo({x:this._scrollLeft})}_resizeCore(){const e=this;e._fireColumnResizedCallbacks(),e._updateRowHeight(),qn(()=>{e._renderScrollable(),e.renderNoDataText(),e.updateFreeSpaceRowHeight(),Si(()=>{e._updateScrollable()})})}scrollTo(e){const t=this.element(),n=t&&ys.getInstance(t);n&&n.scrollTo(e)}height(e){const t=this,n=this.element();if(arguments.length===0)return n?gt(n,!0):0;G(e)&&n&&(t.hasHeight(e!=="auto"),Vv(n,e))}hasHeight(e){if(arguments.length===0)return!!this._hasHeight;this._hasHeight=e}setLoading(e,t){const n=this;let s=n._loadPanel;const r=n._dataController,o=n.option("loadPanel")||{},a=r.isLoaded()?o.animation:null,l=n.element();if(st()&&(!s&&t!==void 0&&r.isLocalStore()&&o.enabled==="auto"&&l&&(n._renderLoadPanel(l,l.parent()),s=n._loadPanel),s)){const d={message:t||o.text,animation:a,visible:e};e&&(d.position=xe.calculateLoadPanelPosition(l)),clearTimeout(n._hideLoadingTimeoutID),s.option("visible")&&!e?n._hideLoadingTimeoutID=setTimeout(()=>{s.option(d)},200):s.option(d)}}toggleDraggableColumnClass(e,t){const n=this._getRowElements().not(".dx-group-row")||[];this._toggleDraggableSourceColumnClass(n,this.getColumns(),e,t)}_getCellElementsCore(e){const t=super._getCellElementsCore.apply(this,arguments);if(t){const n=t.filter(".dx-group-cell").index();if(n>=0&&t.length>n+1)return t.slice(0,n+1)}return t}_getBoundaryVisibleItemIndex(e,t){const n=this;let s=0,r=0,o=0,a=n._scrollTop;const l=n._findContentElement(),d=l&&l.offset().top,c=this._dataController.items(),h=n.getTableElement();if(c.length&&h){const u=n._getRowElements(h).filter(":visible");if(!e){const p=gt(this._hasHeight?this.element():bt());a+=p}for(s=0;s<c.length;s++){r=o;const p=M(u).eq(s);if(p.length&&(o=p.offset(),o=(e?o.top:o.top+gt(p))-d,o>a)){s&&(t||2*a<Math.round(o+r))&&s--;break}}s&&s===c.length&&s--}return s}getTopVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!0,e)}getBottomVisibleItemIndex(e){return this._getBoundaryVisibleItemIndex(!1,e)}getTopVisibleRowData(){const e=this.getTopVisibleItemIndex(),t=this._dataController.items();if(t[e])return t[e].data}_scrollToElement(e,t){const n=this.getScrollable();n&&n.scrollToElement(e,t)}optionChanged(e){const t=this;switch(super.optionChanged(e),e.name){case"wordWrapEnabled":case"showColumnLines":case"showRowLines":case"rowAlternationEnabled":case"rowTemplate":case"dataRowTemplate":case"twoWayBindingEnabled":t._invalidate(!0,!0),e.handled=!0;break;case"scrolling":t._rowHeight=null,t._tableElement=null,e.handled=!0;break;case"rtlEnabled":t._rowHeight=null,t._tableElement=null;break;case"loadPanel":t._tableElement=null,t._invalidate(!0,e.fullName!=="loadPanel.enabled"),e.handled=!0;break;case"noDataText":t.renderNoDataText(),e.handled=!0}}setAriaOwns(e,t,n){const s=this._findContentElement(),r=this.getTableElement();r!=null&&r.length&&this.setAria("owns",`${e??""} ${r.attr("id")??""} ${t??""}`.trim(),s)}dispose(){super.dispose(),clearTimeout(this._hideLoadingTimeoutID),this._scrollable&&this._scrollable.dispose()}setScrollerSpacing(e,t){}getFixedContentElement(){var e;const t=this.addWidgetPrefix("content-fixed");return(e=this.element())===null||e===void 0?void 0:e.children(`.${t}`)}_restoreErrorRow(e){}isElementInside(e){return e.closest(`.${this.addWidgetPrefix("rowsview")}`).is(this.element())}_renderIcons(e,t){return e}normalizeScrollLeft(e){const t=this.getScrollable();return this.option("rtlEnabled")&&t?Xe(t.$content())-Xe(t.$element())-e:e}}const K8={defaultOptions:()=>({hoverStateEnabled:!1,scrolling:{useNative:"auto"},loadPanel:{enabled:"auto",text:ue.format("Loading"),width:200,height:90,showIndicator:!0,showPane:!0},dataRowTemplate:null,columnAutoWidth:!1,noDataText:ue.format("dxDataGrid-noDataText"),wordWrapEnabled:!1,showColumnLines:!0,showRowLines:!1,rowAlternationEnabled:!1,activeStateEnabled:!1,twoWayBindingEnabled:!0}),views:{rowsView:uQ}};K8.views.rowsView;Ue.registerModule("rows",K8);const{abs:mA}=Math,hQ=V0.inherit({start(i){this._startEventData=On(i),this._startTimer(i)},_startTimer(i){const e="timeout"in this?this.timeout:750;this._holdTimer=setTimeout(()=>{this._requestAccept(i),this._fireEvent("dxhold",i,{target:i.target}),this._forgetAccept()},e)},move(i){this._touchWasMoved(i)&&this._cancel(i)},_touchWasMoved(i){const e=El(this._startEventData,On(i));return mA(e.x)>5||mA(e.y)>5},end(){this._stopTimer()},_stopTimer(){clearTimeout(this._holdTimer)},cancel(){this._stopTimer()},dispose(){this._stopTimer()}});Xc({emitter:hQ,bubble:!0,events:["dxhold"]});const Fo={name:"dxhold"},pQ=be("contextmenu","dxContexMenu"),fQ=be(Fo.name,"dxContexMenu"),mQ=Dt.inherit({setup(i){const e=M(i);Y.on(e,pQ,this._contextMenuHandler.bind(this)),(es.touch||Oe.isSimulator())&&Y.on(e,fQ,this._holdHandler.bind(this))},_holdHandler(i){ql(i)&&!Oe.isSimulator()||this._fireContextMenu(i)},_contextMenuHandler(i){this._fireContextMenu(i)},_fireContextMenu:i=>el({type:"dxcontextmenu",originalEvent:i}),teardown(i){Y.off(i,".dxContexMenu")}});ur("dxcontextmenu",new mQ);const rS="dxcontextmenu",G8=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{useHoldAnimation:e,waveSizeCoefficient:t,isCentered:n,wavesNumber:s}=i;return{waveSizeCoefficient:t||2,isCentered:n||!1,wavesNumber:s||1,durations:xQ(e??!0)}},oS=function(i){const e=G8(i);return{showWave:Y8.bind(this,e),hideWave:Z8.bind(this,e)}},gQ=function(i){let e=i.children(".dx-inkripple");return e.length===0&&(e=M("<div>").addClass("dx-inkripple").appendTo(i)),e},q8=function(i,e){const t=gQ(M(i)),n=t.children(".dx-inkripple-wave").toArray();for(let s=n.length;s<e;s++){const r=M("<div>").appendTo(t).addClass("dx-inkripple-wave");n.push(r[0])}return M(n)},_Q=function(i,e){const t=M(e.element),n=kt(t),s=gt(t),r=parseInt(Math.sqrt(n*n+s*s)),o=Math.min(4e3,parseInt(r*i.waveSizeCoefficient));let a,l;if(i.isCentered)a=(n-o)/2,l=(s-o)/2;else{const{event:d}=e,c=t.offset(),h=d.pageX-c.left,u=d.pageY-c.top;a=h-o/2,l=u-o/2}return{left:a,top:l,height:o,width:o}};function Y8(i,e){const t=q8(e.element,i.wavesNumber).eq(e.wave||0);i.hidingTimeout&&clearTimeout(i.hidingTimeout),X8(t),t.css(_Q(i,e)),i.showingTimeout=setTimeout(vQ.bind(this,i,t),0)}function vQ(i,e){const t=`${i.durations.showingScale}ms`;e.addClass("dx-inkripple-showing").css("transitionDuration",t)}function xQ(i){return{showingScale:i?1e3:300,hidingScale:300,hidingOpacity:300}}function X8(i){i.removeClass("dx-inkripple-hiding").css("transitionDuration","")}function Z8(i,e){i.showingTimeout&&clearTimeout(i.showingTimeout);const t=q8(e.element,e.wavesNumber).eq(e.wave||0),{durations:n}=i,s=`${n.hidingScale}ms, ${n.hidingOpacity}ms`;t.addClass("dx-inkripple-hiding").removeClass("dx-inkripple-showing").css("transitionDuration",s);const r=Math.max(n.hidingScale,n.hidingOpacity);i.hidingTimeout=setTimeout(X8.bind(this,t),r)}const bQ=(i,e,t)=>{const n=(()=>{let s;return r=>{s!==r&&(t(r,s),s=r)}})();return{dispose:i(e,n),force(){n(e())}}};class Ua{constructor(e,t,n){this._$element=e,this._options=t,this._rawData=n,X5(e,this,this._dispose),this._render()}_render(){const e=M("<div>").addClass("dx-item-content-placeholder");this._$element.append(e),this._watchers=[],this._renderWatchers()}_renderWatchers(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))}_startWatcher(e,t){const n=this._rawData,s=this._options.fieldGetter(e),r=bQ(this._options.watchMethod(),()=>s(n),(o,a)=>{this._dirty=!0,t(o,a)});this._watchers.push(r)}setDataField(){return this._dirty=!1,ie(this._watchers,(e,t)=>{t.force()}),this._dirty}_renderDisabled(e,t){this._$element.toggleClass("dx-state-disabled",!!e),this._$element.attr("aria-disabled",!!e),this._updateOwnerFocus(e)}_updateOwnerFocus(e){const t=this._options.owner;t&&e&&t._resetItemFocus(this._$element)}_renderVisible(e,t){this._$element.toggleClass("dx-state-invisible",e!==void 0&&!e)}_dispose(){ie(this._watchers,(e,t)=>{t.dispose()})}static getInstance(e){return Z5(e,this)}static isClickableItem(e){return Me(e)&&"onClick"in e}}class yQ{constructor(e){this._collectionWidget=e}_getItems(){const{items:e=[]}=this._collectionWidget.option();return e}getIndexByItemData(e){return Dt.abstract()}getItemDataByIndex(e){return Dt.abstract()}getKeysByItems(e){return Dt.abstract()}getItemsByKeys(e,t){return Dt.abstract()}itemsGetter(){return Dt.abstract()}getKeyByIndex(e){const t=this._denormalizeItemIndex(e);return this.getKeysByItems([this.getItemDataByIndex(t)])[0]}_equalKeys(e,t){return this._collectionWidget._isKeySpecified()?dn(e,t):e===t}beginCache(){this._cache={}}endCache(){this._cache=null}getIndexByKey(e){return Dt.abstract()}getNormalizedIndex(e){return this._isNode(e)?this._getNormalizedItemIndex(e):this._isNormalizedItemIndex(e)?e:this._isItemIndex(e)?this._normalizeItemIndex(e):this._normalizeItemIndex(this.getIndexByItemData(e))}getIndex(e){return this._isNode(e)?this._denormalizeItemIndex(this._getNormalizedItemIndex(e)):this._isNormalizedItemIndex(e)?this._denormalizeItemIndex(e):this._isItemIndex(e)?e:this.getIndexByItemData(e)}getItemElement(e){if(this._isNode(e))return M(e);if(this._isNormalizedItemIndex(e))return this._getItemByNormalizedIndex(e);if(this._isItemIndex(e))return this._getItemByNormalizedIndex(this._normalizeItemIndex(e));const t=this._normalizeItemIndex(this.getIndexByItemData(e));return this._getItemByNormalizedIndex(t)}_isNode(e){return ve.isNode(e&&Dr(e)?e.get(0):e)}deleteItemAtIndex(e){return Dt.abstract()}itemPlacementFunc(e,t){return this._itemsFromSameParent(e,t)&&e<t?"after":"before"}moveItemAtIndexToIndex(e,t){return Dt.abstract()}_isNormalizedItemIndex(e){return typeof e=="number"&&Math.round(e)===e}_isItemIndex(e){return Dt.abstract()}_getNormalizedItemIndex(e){return Dt.abstract()}_normalizeItemIndex(e){return Dt.abstract()}_denormalizeItemIndex(e){return Dt.abstract()}_getItemByNormalizedIndex(e){return Dt.abstract()}_itemsFromSameParent(e,t){return Dt.abstract()}}class aS extends yQ{_getPlainItems(){return this._getItems()??[]}getIndexByItemData(e){const t=this._collectionWidget.keyOf.bind(this._collectionWidget);return t?this.getIndexByKey(t(e)):this._getPlainItems().indexOf(e)}getItemDataByIndex(e){return this._getPlainItems()[e]}deleteItemAtIndex(e){this._getPlainItems().splice(e,1)}itemsGetter(){return this._getPlainItems()}getKeysByItems(e){const t=this._collectionWidget.keyOf.bind(this._collectionWidget);let n=e;return t&&(n=e.map(s=>t(s))),n}getIndexByKey(e){const t=this._cache,n=(t==null?void 0:t.keys)??this.getKeysByItems(this._getPlainItems());if(t&&!t.keys&&(t.keys=n),typeof e=="object"){for(let s=0;s<n.length;s+=1)if(this._equalKeys(e,n[s]))return s}else return n.indexOf(e);return-1}getItemsByKeys(e,t){return(t??e).slice()}moveItemAtIndexToIndex(e,t){const n=this._getPlainItems(),s=n[e];n.splice(e,1),n.splice(t,0,s)}_isItemIndex(e){return this._isNormalizedItemIndex(e)}_getNormalizedItemIndex(e){return this._collectionWidget._itemElements().index(e)}_normalizeItemIndex(e){return e}_denormalizeItemIndex(e){return e}_getItemByNormalizedIndex(e){return e>-1?this._collectionWidget._itemElements().eq(e):null}_itemsFromSameParent(e,t){return!0}}class lS extends aS{_getPlainItems(){const e=this._getItems();return Mn(e,function n(s){return s.items?[s].concat(Mn(s.items,n)):s}).flat()}static _stringifyItem(e){return JSON.stringify(e,(t,n)=>t==="template"?lS._getTemplateString(n):n)}static _getTemplateString(e){return typeof e=="object"&&e!==null?M(e).text():String(e)}}const CQ=function(i,e,t,n,s){let r;const o=((a,l,d)=>l(()=>a,d))(i,e,a=>{if(r&&r(),mc(a)){s(a);return}r=function(l,d,c,h,u){const p={},f=c.slice(),g=c.map(m=>{const v=h[m];return d(v?()=>v(l):()=>l[m],_=>{if(p[m]=_,f.length){const x=f.indexOf(m);x>=0&&f.splice(x,1)}f.length||u(p)})});return function(){g.forEach(m=>m())}}(a,e,t,n,s)});return function(){r&&r(),o&&o()}};class hd extends cd{constructor(e,t,n,s){super(),this._render=e,this._fields=t,this._fieldsMap=s||{},this._watchMethod=n}_renderCore(e){const t=M(e.container),n=CQ(e.model,this._watchMethod,this._fields,this._fieldsMap,s=>{t.empty(),this._render(t,s,e.model)});return Y.on(t,$s,n),t.contents()}}const Np=i=>!i||typeof i!="string"?!1:/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(i)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(i)?"image":/^[\w-_]+$/.test(i)?"dxIcon":/^\s?([\w-_:]\s?)+$/.test(i)?"fontIcon":!1,Xr=i=>{switch(Np(i)){case"image":return M("<img>").attr("src",i).addClass("dx-icon");case"fontIcon":return M("<i>").addClass(`dx-icon ${i}`);case"dxIcon":return M("<i>").addClass(`dx-icon dx-icon-${i}`);case"svg":return M("<i>").addClass("dx-icon dx-svg-icon").append(i);default:return null}},gA="_dataSourceChangedHandler",_A="_getSpecificDataSourceOption",vA="_normalizeDataSource",Q8={postCtor(){this.on("disposing",()=>{this._disposeDataSource()})},_refreshDataSource(){this._initDataSource(),this._loadDataSource()},_initDataSource(){let i=_A in this?this[_A]():this.option("dataSource"),e,t;this._disposeDataSource(),i&&(i instanceof Os?(this._isSharedDataSource=!0,this._dataSource=i):(e="_dataSourceOptions"in this?this._dataSourceOptions():{},t=this._dataSourceType?this._dataSourceType():Os,i=nl(i,{fromUrlLoadMode:"_dataSourceFromUrlLoadMode"in this&&this._dataSourceFromUrlLoadMode()}),this._dataSource=new t(se(!0,{},e,i))),vA in this&&(this._dataSource=this[vA](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())},_initDataController(){var i;const e=(i=this.option)===null||i===void 0?void 0:i.call(this,"_dataController"),t=this._dataSource;e?this._dataController=e:this._dataController=new A8(t)},_addDataSourceHandlers(){gA in this&&this._addDataSourceChangeHandler(),"_dataSourceLoadErrorHandler"in this&&this._addDataSourceLoadErrorHandler(),"_dataSourceLoadingChangedHandler"in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher(){this.readyWatcher=(function(i){this._ready&&this._ready(!i)}).bind(this),this._dataSource.on("loadingChanged",this.readyWatcher)},_addDataSourceChangeHandler(){const i=this._dataSource;this._proxiedDataSourceChangedHandler=(function(e){this[gA](i.items(),e)}).bind(this),i.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler(){this._proxiedDataSourceLoadErrorHandler=this._dataSourceLoadErrorHandler.bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler(){this._proxiedDataSourceLoadingChangedHandler=this._dataSourceLoadingChangedHandler.bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource(){const i=this._dataSource;i&&(i.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():i.load())},_loadSingle(i,e){return i=i==="this"?this._dataSource.key()||"this":i,this._dataSource.loadSingle(i,e)},_isLastPage(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler),this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource(){return this._dataSource||null}},$f="dx-item",wQ="dx-empty-collection",SQ=/^([^.]+\[\d+\]\.)+([\w.]+)$/;let dS=class extends Oi{_activeStateUnit(){return`.${$f}`}_supportedKeys(){const e=(t,n)=>{$n(n)||(n.preventDefault(),n.stopPropagation(),this._moveFocus(t,n))};return Object.assign({},super._supportedKeys(),{space:t=>{t.preventDefault(),this._enterKeyHandler(t)},enter:this._enterKeyHandler,leftArrow:e.bind(this,"left"),rightArrow:e.bind(this,"right"),upArrow:e.bind(this,"up"),downArrow:e.bind(this,"down"),pageUp:e.bind(this,"up"),pageDown:e.bind(this,"down"),home:e.bind(this,"first"),end:e.bind(this,"last")})}_getHandlerExtendedParams(e,t){return se({},e,{target:t.get(0),currentTarget:t.get(0)})}_enterKeyHandler(e){const{focusedElement:t}=this.option(),n=M(t);if(!n.length)return;const s=this._getItemData(n);if(Ua.isClickableItem(s)){const r={event:e};this._itemEventHandlerByHandler(n,s.onClick,r)}this._itemClickHandler(this._getHandlerExtendedParams(e,n))}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:ue.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,dataSource:null,_dataController:null,_itemAttributes:{},itemTemplateProperty:"template",focusedElement:null,displayExpr:void 0,disabledExpr:e=>e?e.disabled:void 0,visibleExpr:e=>e?e.visible:void 0})}_init(){this._compileDisplayGetter(),this._initDataController(),super._init(),this._cleanRenderedItems(),this._refreshDataSource()}_compileDisplayGetter(){const{displayExpr:e}=this.option();this._displayGetter=e?qt(e):void 0}_initTemplates(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),super._initTemplates()}_getAnonymousTemplateName(){return"item"}_initDefaultItemTemplate(){const e=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new hd((t,n)=>{ot(n)?this._prepareDefaultItemTemplate(n,t):(e&&Ie(e.text)&&(n=e.text(n)),t.text(String(wn(n,""))))},this._getBindableFields(),this.option("integrationOptions.watchMethod"),e)})}_getBindableFields(){return["text","html"]}_getFieldsMap(){if(this._displayGetter)return{text:this._displayGetter}}_prepareDefaultItemTemplate(e,t){const{text:n,html:s}=e;G(n)&&t.text(n),G(s)&&t.html(s)}_initItemsFromMarkup(){const e=s8(this.$element(),"dxItem"),{items:t=[]}=this.option();if(!e.length||t.length)return;const n=e.map(s=>{let{element:r,options:o}=s;return/\S/.test(r.innerHTML)&&!o.template?o.template=this._prepareItemTemplate(r):M(r).remove(),o});this.option("items",n)}_prepareItemTemplate(e){const t=`tmpl-${new Xt}`,n=M(e).detach().clone().removeAttr("data-options").addClass("dx-template-wrapper");return this._saveTemplate(t,n),t}_dataSourceOptions(){return{paginate:!1}}_cleanRenderedItems(){this._renderedItemsCount=0}_focusTarget(){return this.$element()}_focusInHandler(e){if(super._focusInHandler(e),!this._isFocusTarget(e.target))return;const{focusedElement:t}=this.option(),n=M(t);if(n.length)this._shouldSkipSelectOnFocus=!0,this._setFocusedItem(n),this._shouldSkipSelectOnFocus=!1;else{const s=this._getActiveItem();s.length&&this.option("focusedElement",We(s))}}_focusOutHandler(e){super._focusOutHandler(e);const{focusedElement:t}=this.option(),n=M(t);this._updateFocusedItemState(n,!1)}_findActiveTarget(e){return e.find(this._activeStateUnit())}_getActiveItem(e){const{focusedElement:t}=this.option(),n=M(t);return n.length?n:this._determineFocusedElement(e)}_determineFocusedElement(e){let t=this._getFocusedElementIndex();const n=this._getActiveElement(),s=n.length-1;return t<0&&(t=e?s:0),n.eq(t)}_getFocusedElementIndex(){return 0}_moveFocus(e,t){const n=this._getAvailableItems();let s=M();switch(e){case"pageup":case"up":s=this._prevItem(n);break;case"pagedown":case"down":s=this._nextItem(n);break;case"right":{const{rtlEnabled:r}=this.option();s=r?this._prevItem(n):this._nextItem(n);break}case"left":{const{rtlEnabled:r}=this.option();s=r?this._nextItem(n):this._prevItem(n);break}case"first":s=n.first();break;case"last":s=n.last();break;default:return!1}s.length!==0&&this.option("focusedElement",We(s))}_getVisibleItems(e){return(e??this._itemElements()).filter(":visible")}_getAvailableItems(e){return this._getVisibleItems(e)}_prevItem(e){const t=this._getActiveItem(),n=e.index(t),s=e.last();let r=M(e[n-1]);const{loopItemFocus:o}=this.option();return r.length===0&&o&&(r=s),r}_nextItem(e){const t=this._getActiveItem(!0),n=e.index(t),s=e.first();let r=M(e[n+1]);const{loopItemFocus:o}=this.option();return r.length===0&&o&&(r=s),r}_selectFocusedItem(e){this.selectItem(e)}_updateFocusedItemState(e,t,n){const s=M(e);if(s.length){this._refreshActiveDescendant(),this._refreshItemId(s,n);const{focusStateEnabled:r}=this.option();r&&this._toggleFocusClass(t,s)}this._updateParentActiveDescendant()}_getElementClassToSkipRefreshId(){return""}_shouldSkipRefreshId(e){const t=this._getElementClassToSkipRefreshId();return M(e).hasClass(t)}_refreshActiveDescendant(e){const{focusedElement:t}=this.option();if(G(t)){const s=this._shouldSkipRefreshId(t)?M(t).attr("id"):this.getFocusedItemId();this.setAria("activedescendant",s,e);return}this.setAria("activedescendant",null,e)}_refreshItemId(e,t){const{focusedElement:n}=this.option();this._shouldSkipRefreshId(e)||(!t&&n?this.setAria("id",this.getFocusedItemId(),e):this.setAria("id",null,e))}_isDisabled(e){return e&&M(e).attr("aria-disabled")==="true"}_setFocusedItem(e){if(!(e!=null&&e.length))return;this._updateFocusedItemState(e,!0),this.onFocusedItemChanged(this.getFocusedItemId());const{selectOnFocus:t}=this.option(),n=this._isDisabled(e);t&&!n&&!this._shouldSkipSelectOnFocus&&this._selectFocusedItem(e)}_findItemElementByItem(e){let t=M();const n=this._itemDataKey();return this.itemElements().each((s,r)=>{const o=M(r);return o.data(n)===e?(t=o,!1):!0}),t}_getIndexByItem(e){const{items:t}=this.option();return t.indexOf(e)}_itemOptionChanged(e,t,n,s){const r=this._findItemElementByItem(e);if(!r.length)return;this.constructor.ItemClass.getInstance(r).setDataField(t,n)||this._refreshItem(r,e),t==="disabled"&&n&&this._resetItemFocus(r)}_resetItemFocus(e){const{focusedElement:t}=this.option();e.is(t)&&this._resetFocusedElement()}_resetFocusedElement(){this.option("focusedElement",null)}_refreshItem(e,t){const n=this._getItemData(e),s=e.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+s,n,null,e)}_updateParentActiveDescendant(){}_optionChanged(e){const{name:t,value:n,previousValue:s,fullName:r}=e;if(t==="items"){const o=r.match(SQ);if(o!=null&&o.length){const a=o[o.length-1],l=r.replace(`.${a}`,""),d=this.option(l);this._itemOptionChanged(d,a,n,s);return}}switch(t){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":case"encodeNoDataText":this._renderEmptyMessage();break;case"itemTemplate":case"visibleExpr":case"disabledExpr":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":case"selectOnFocus":case"loopItemFocus":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"focusedElement":this._updateFocusedItemState(s,!1,!0),this._setFocusedItem(M(n));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;default:super._optionChanged(e)}}_invalidate(){this._resetFocusedElement(),super._invalidate()}_loadNextPage(){return this._expectNextPageLoading(),this._dataController.loadNextPage()}_expectNextPageLoading(){this._startIndexForAppendedItems=0}_expectLastItemLoading(){this._startIndexForAppendedItems=-1}_forgetNextPageLoading(){this._startIndexForAppendedItems=null}_dataSourceChangedHandler(e,t){const{items:n}=this.option();this._initialized&&n&&this._shouldAppendItems()?(this._renderedItemsCount=n.length,(!this._isLastPage()||this._startIndexForAppendedItems!==-1)&&(this.option().items=n.concat(e.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",e.slice())}_refreshContent(){this._prepareContent(),this._renderContent()}_dataSourceLoadErrorHandler(){this._forgetNextPageLoading();const{items:e}=this.option();this.option("items",e)}_shouldAppendItems(){return this._startIndexForAppendedItems!=null&&this._allowDynamicItemsAppend()}_allowDynamicItemsAppend(){return!1}_clean(){this._cleanFocusState(),this._cleanItemContainer(),this._inkRipple&&delete this._inkRipple,this._resetActiveState()}_cleanItemContainer(){M(this._itemContainer()).empty()}_dispose(){super._dispose(),clearTimeout(this._itemFocusTimeout)}_refresh(){this._cleanRenderedItems(),super._refresh()}_itemContainer(e,t){return this.$element()}_itemClass(){return $f}_itemContentClass(){return`${this._itemClass()}-content`}_itemResponseWaitClass(){return"dx-item-response-wait"}_itemSelector(){return`.${this._itemClass()}`}_itemDataKey(){return"dxItemData"}_itemIndexKey(){return"dxItemIndex"}_itemElements(){return this._itemContainer().find(this._itemSelector())}_initMarkup(){super._initMarkup(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass("dx-collection"),this._prepareContent()}_prepareContent(){gc(()=>{this._renderContentImpl()})()}_renderContent(){this._fireContentReadyAction()}_render(){super._render(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()}_getPointerEvent(){return mt.down}_attachClickEvent(){const e=this._itemSelector(),t=mt.down,n=mt.up,s=be(Nt,this.NAME),r=be(t,this.NAME),o=be(n,this.NAME),a=new Yi(d=>{const{event:c}=d;this._itemPointerHandler(c)}),l=new Yi(d=>{const{event:c}=d;this._itemPointerUpHandler(c)});Y.off(this._itemContainer(),s,e),Y.off(this._itemContainer(),r,e),Y.off(this._itemContainer(),o,e),Y.on(this._itemContainer(),s,e,d=>this._itemClickHandler(d)),Y.on(this._itemContainer(),r,e,d=>{a.execute({element:M(d.target),event:d})}),Y.on(this._itemContainer(),o,e,d=>{l.execute({element:M(d.target),event:d})})}_itemClickHandler(e,t,n){this._itemDXEventHandler(e,"onItemClick",t,n)}_handleItemFocus(e){if(e.isDefaultPrevented())return;const t=M(e.target),n=t.closest(this._itemElements()),s=this._closestFocusable(t);n.length&&this._isFocusTarget(s==null?void 0:s.get(0))&&(this._shouldSkipSelectOnFocus=!0,this.option("focusedElement",We(n)),this._shouldSkipSelectOnFocus=!1)}_itemPointerHandler(e){const{focusStateEnabled:t}=this.option();t&&(this._itemFocusHandler=()=>{clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=void 0,this._handleItemFocus(e)},this._itemFocusTimeout=setTimeout(()=>{this._forcePointerDownFocus()}))}_itemPointerUpHandler(e){}_closestFocusable(e){if(e.is(Sy))return e;let t=e.parent();for(;t.length&&!ve.isDocument(t.get(0))&&!ve.isDocumentFragment(t.get(0));){if(t.is(Sy))return t;t=t.parent()}}_forcePointerDownFocus(){this._itemFocusHandler&&this._itemFocusHandler()}_updateFocusState(e,t){super._updateFocusState(e,t),this._forcePointerDownFocus()}_attachHoldEvent(){const e=this._itemContainer(),t=this._itemSelector(),n=be(Fo.name,this.NAME);Y.off(e,n,t),Y.on(e,n,t,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))}_getHoldTimeout(){const{itemHoldTimeout:e}=this.option();return e}_shouldFireHoldEvent(){return this.hasActionSubscription("onItemHold")}_itemHoldHandler(e){this._shouldFireHoldEvent()?this._itemDXEventHandler(e,"onItemHold"):e.cancel=!0}_attachContextMenuEvent(){const e=this._itemContainer(),t=this._itemSelector(),n=be(rS,this.NAME);Y.off(e,n,t),Y.on(e,n,t,this._itemContextMenuHandler.bind(this))}_shouldFireContextMenuEvent(){return this.hasActionSubscription("onItemContextMenu")}_itemContextMenuHandler(e){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(e,"onItemContextMenu"):e.cancel=!0}_renderContentImpl(){const{items:e}=this.option(),t=e??[];this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t)}_renderItems(e){e.length&&ie(e,(t,n)=>{this._renderItem(this._renderedItemsCount+t,n)}),this._renderEmptyMessage()}_getItemsContainer(){return this._itemContainer()}_setAttributes(e){const{_itemAttributes:t}=this.option(),n=Object.assign({},t),{class:s}=n;if(s){const r=e.get(0).className;n.class=[r,s].join(" ")}e.attr(n)}_renderItem(e,t,n,s){const r=(e==null?void 0:e.item)??e,o=n??this._getItemsContainer(),a=this._renderItemFrame(r,t,o,s);this._setElementData(a,t,r),this._setAttributes(a),this._attachItemClickEvent(t,a);const l=this._getItemContent(a),{itemTemplate:d}=this.option(),c=this._renderItemContent({index:r,itemData:t,container:We(l),contentClass:this._itemContentClass(),defaultTemplateName:d});return Ae(c).done(h=>{this._postprocessRenderItem({itemElement:a,itemContent:h,itemData:t,itemIndex:r}),this._executeItemRenderAction(e,t,We(a))}),a}_getItemContent(e){const t=e.find(".dx-item-content-placeholder");return t.removeClass("dx-item-content-placeholder"),t}_attachItemClickEvent(e,t){!e||!Ua.isClickableItem(e)||Y.on(t,Nt,n=>{const s={event:n};this._itemEventHandlerByHandler(t,e.onClick,s)})}_renderItemContent(e){const t=this._getItemTemplateName(e),n=this._getTemplate(t);this._addItemContentClasses(e);const s=M(this._createItemByTemplate(n,e));return s.hasClass("dx-template-wrapper")?this._renderItemContentByNode(e,s):e.container}_renderItemContentByNode(e,t){return M(e.container).replaceWith(t),e.container=We(t),this._addItemContentClasses(e),t}_addItemContentClasses(e){const t=[$f+"-content",e.contentClass];M(e.container).addClass(t.join(" "))}_appendItemToContainer(e,t,n){t.appendTo(e)}_renderItemFrame(e,t,n,s){const r=M("<div>");new this.constructor.ItemClass(r,this._itemOptions(),t||{}),s!=null&&s.length?s.replaceWith(r):this._appendItemToContainer.call(this,n,r,e);const{useItemTextAsTitle:o}=this.option();if(o){const a=this._displayGetter?this._displayGetter(t):t;r.attr("title",a)}return r}_itemOptions(){return{watchMethod:()=>this.option("integrationOptions.watchMethod"),owner:this,fieldGetter:e=>{const t=this.option(`${e}Expr`);return qt(t)}}}_postprocessRenderItem(e){}_executeItemRenderAction(e,t,n){this._getItemRenderAction()({itemElement:n,itemIndex:e,itemData:t})}_setElementData(e,t,n){e.addClass([$f,this._itemClass()].join(" ")).data(this._itemDataKey(),t).data(this._itemIndexKey(),n)}_createItemRenderAction(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"}),this._itemRenderAction}_getItemRenderAction(){return this._itemRenderAction??this._createItemRenderAction()}_getItemTemplateName(e){const t=e.itemData,{itemTemplateProperty:n}=this.option(),s=e.templateProperty??n;return(t&&s?t[s]:void 0)||e.defaultTemplateName}_createItemByTemplate(e,t){const{itemData:n,container:s,index:r}=t;return e.render({model:n,container:s,index:r,onRendered:this._onItemTemplateRendered(e,t)})}_onItemTemplateRendered(e,t){return()=>{}}_emptyMessageContainer(){return this._itemContainer()}_renderEmptyMessage(e){const{items:t=[],noDataText:n}=this.option(),s=e??t,r=!n||(s==null?void 0:s.length)||this._dataController.isLoading();if(r&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),!r){this._$noData=this._$noData??M("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer());const{encodeNoDataText:o}=this.option();o?this._$noData.text(n):this._$noData.html(n)}this.$element().toggleClass(wQ,!r)}_itemDXEventHandler(e,t,n,s){this._itemEventHandler(e.target,t,se(n,{event:e}),s)}_itemEventHandler(e,t,n,s){const r=this._createActionByOption(t,Object.assign({validatingTargetName:"itemElement"},s));return this._itemEventHandlerImpl(e,r,n)}_itemEventHandlerByHandler(e,t,n,s){const r=this._createAction(t,se({validatingTargetName:"itemElement"},s));return this._itemEventHandlerImpl(e,r,n)}_itemEventHandlerImpl(e,t,n){const s=this._closestItemElement(M(e)),r=se({},n);return t(se(n,this._extendActionArgs(s),r))}_extendActionArgs(e){return{itemElement:We(e),itemIndex:this._itemElements().index(e),itemData:this._getItemData(e)}}_closestItemElement(e){return M(e).closest(this._itemSelector())}_getItemData(e){return M(e).data(this._itemDataKey())}_getSummaryItemsSize(e,t,n){let s=0;return t&&ie(t,(r,o)=>{e==="width"?s+=kt(o,n??!1):e==="height"&&(s+=gt(o,n??!1))}),s}getFocusedItemId(){return this._focusedItemId||(this._focusedItemId=`dx-${new Xt}`),this._focusedItemId}itemElements(){return this._itemElements()}itemsContainer(){return this._itemContainer()}};dS.ItemClass=Ua;dS.include(Q8);class J8{constructor(e){this._lastSelectAllPageDeferred=de().reject(),this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()}_clearItemKeys(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])}validate(){}_setOption(e,t){this.options[e]=t}onSelectionChanging(){const{selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:s,addedItems:r,removedItems:o,onSelectionChanging:a=Te}=this.options,l={selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:s,addedItems:r,removedItems:o,cancel:!1};return a(l),l.cancel}_callCallbackIfNotCanceled(e,t){const n=this.onSelectionChanging();Ho(n)?n.then(s=>{s?t():e()}).catch(()=>{e()}):n?t():e()}onSelectionChanged(){const{selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:s,addedItems:r,removedItems:o,onSelectionChanged:a=Te}=this.options;this._clearItemKeys(),a({selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:s,addedItems:r,removedItems:o})}equalKeys(e,t){return this.options.equalByReference&&Me(e)&&Me(t)?e===t:dn(e,t)}getSelectableItems(e){return e.filter(t=>!(t!=null&&t.disabled))}_clearSelection(e,t,n,s){let r=e||[];return r=Array.isArray(r)?r:[r],this.validate(),this.selectedItemKeys(r,t,n,s)}_removeTemplateProperty(e){return Array.isArray(e)?e.map(t=>this._removeTemplateProperty(t)):(Me(e)&&delete e.template,e)}_getQueryParams(){const{sensitivity:e}=this.options;if(e)return{langParams:{collatorOptions:{sensitivity:e}}}}_loadFilteredData(e,t,n,s){const r=encodeURI(JSON.stringify(this._removeTemplateProperty(e))).length,o=this.options.maxFilterLengthInRequest&&r>this.options.maxFilterLengthInRequest,a=de(),l=this._getQueryParams(),d=Object.assign({filter:o?void 0:e,select:o?this.options.dataFields():n||this.options.dataFields()},l);return e&&Array.isArray(e)&&e.length===0?a.resolve([]):this.options.load(d).done(c=>{let h=!Array.isArray(c)&&ot(c)?c.data:c;t&&!s?h=h.filter(t):o&&(h=Hi(h).filter(e).toArray()),a.resolve(h)}).fail(c=>{a.reject(c)}),a}updateSelectedItemKeyHash(e){for(let t=0;t<e.length;t+=1){const n=vs(e[t]);Me(n)||(this.options.keyHashIndices[n]=this.options.keyHashIndices[n]||[],this.options.keyHashIndices[n].push(t))}}_isAnyItemSelected(e){if(!e.find(t=>this.options.isItemSelected(t)))return!1}_getFullSelectAllState(){const e=this.options.plainItems(),{filter:t}=this.options,n=t();let s=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(a=>!(a!=null&&a.disabled));n&&(s=Hi(s).filter(n).toArray());const r=s.length,o=e.length-this.getSelectableItems(e).length;if(!r)return this._isAnyItemSelected(e);if(r>=this.options.totalCount()-o)return!0}_getVisibleSelectAllState(){const e=this.getSelectableItems(this.options.plainItems());let t=!1,n=!1;return e.forEach(s=>{const r=this.options.getItemData(s),o=this.options.keyOf(r);this.options.isSelectableItem(s)&&(this.isItemKeySelected(o)?t=!0:n=!0)}),t?n?void 0:!0:!1}selectedItemKeys(e,t,n,s,r,o){throw new Error("selectedItemKeys method should be overriden")}isItemKeySelected(e){throw new Error("isItemKeySelected method should be overriden")}isItemDataSelected(e){throw new Error("isItemKeySelected method should be overriden")}addSelectedItem(e,t,n){throw new Error("addSelectedItem method should be overriden")}removeSelectedItem(e){throw new Error("removeSelectedItem method should be overriden")}_selectAllPlainItems(e){this.getSelectableItems(this.options.plainItems()).forEach(n=>{if(this.options.isSelectableItem(n)){const s=this.options.getItemData(n),r=this.options.keyOf(s),o=this.isItemKeySelected(r);!o&&!e&&this.addSelectedItem(r,s),o&&e&&this.removeSelectedItem(r)}})}}class EQ extends J8{getSelectedItems(){return this._loadFilteredData(this.options.selectionFilter)}getSelectedItemKeys(){const e=de(),t=this.options.key(),n=Ke(t)?[t]:t,s=r=>this.options.keyOf(r);return this._loadFilteredData(this.options.selectionFilter,null,n).done(r=>{const o=(Array.isArray(r)?r:[]).map(s);e.resolve(o)}).fail(r=>{e.reject(r)}),e.promise()}selectedItemKeys(e,t,n,s){if(s){const r=this.options.filter();!r||JSON.stringify(r)===JSON.stringify(this.options.selectionFilter)&&n?this._setOption("selectionFilter",n?[]:null):this._addSelectionFilter(n,r,s)}else t||this._setOption("selectionFilter",[]),e.forEach(r=>{n?this.removeSelectedItem(r):this.addSelectedItem(r,s,!t)});return this.onSelectionChanged(),de().resolve()}setSelectedItems(e){this._setOption("selectionFilter",null),e.forEach(t=>{this.addSelectedItem(t)})}isItemDataSelected(e){return this.isItemKeySelected(e)}isItemKeySelected(e){const{selectionFilter:t}=this.options;if(!t)return!0;const n=this._getQueryParams();return!!Hi([e],n).filter(t).toArray().length}_getKeyExpr(){const e=this.options.key();return Array.isArray(e)&&e.length===1?e[0]:e}_normalizeKey(e){const t=this.options.key();return Array.isArray(t)&&t.length===1?e[t[0]]:e}_getFilterByKey(e){const t=this._getKeyExpr();let n=[t,"=",this._normalizeKey(e)];if(Array.isArray(t)){n=[];for(let s=0;s<t.length;s+=1)n.push([t[s],"=",e[t[s]]]),s!==t.length-1&&n.push("and")}return n}addSelectedItem(e,t,n){const s=this._getFilterByKey(e);this._addSelectionFilter(!1,s,t,n)}removeSelectedItem(e){const t=this._getFilterByKey(e);this._addSelectionFilter(!0,t)}validate(){const{key:e}=this.options;if(e&&e()===void 0)throw pt.Error("E1042","Deferred selection")}_findSubFilter(e,t){if(!e)return-1;const n=JSON.stringify(t);for(let s=0;s<e.length;s+=1){const r=e[s];if(r&&JSON.stringify(r)===n)return s}return-1}_isLastSubFilter(e,t){return e&&t?this._findSubFilter(e,t)===e.length-1||this._findSubFilter([e],t)===0:!1}_addFilterOperator(e,t){let n=e;return n.length>1&&Ke(n[1])&&n[1]!==t&&(n=[n]),Array.isArray(n)&&n.length&&n.push(t),n}_denormalizeFilter(e){let t=e;return t&&Ke(t[0])&&(t=[t]),t}_isOnlyNegativeFiltersLeft(e){return e.every((t,n)=>n%2===0?Array.isArray(t)&&t[0]==="!":t==="and")}_addSelectionFilter(e,t,n,s){var r;const o=e?"and":"or";let a=!0,l=this.options.selectionFilter||[];if(l=this._denormalizeFilter(l),(r=l)!==null&&r!==void 0&&r.length&&!s){const d=this._removeSameFilter(l,t,e,n),c=this._removeSameFilter(l,t,!e);e&&(d!==-1||c!==-1)&&this._isOnlyNegativeFiltersLeft(l)&&(l=[]);const u=this._isKeyFilter(t)&&this._hasKeyFiltersOnlyStartingFromIndex(l,c);a=!!(t!=null&&t.length)&&!u}if(a&&(l=this._addFilterOperator(l,o),Array.isArray(l)&&t)){const d=e?["!",t]:t;l.push(d)}l=this._normalizeFilter(l),this._setOption("selectionFilter",!e&&!l.length?null:l)}_normalizeFilter(e){let t=e;return t&&t.length===1&&([t]=t),t}_removeFilterByIndex(e,t,n){const s=e[1];t>0?e.splice(t-1,2):e.splice(t,2),n&&s==="and"&&e.splice(0,e.length)}_isSimpleKeyFilter(e,t){return(e==null?void 0:e.length)===3&&e[0]===t&&e[1]==="="}_isKeyFilter(e){if((e==null?void 0:e.length)===2&&(e==null?void 0:e[0])==="!")return this._isKeyFilter(e[1]);const t=this._getKeyExpr();if(Array.isArray(t)){if((e==null?void 0:e.length)!==2*t.length-1)return!1;for(let n=0;n<t.length;n+=1)if(n>0&&(e==null?void 0:e[2*n-1])!=="and"||!this._isSimpleKeyFilter(e==null?void 0:e[2*n],t[n]))return!1;return!0}return this._isSimpleKeyFilter(e,t)}_hasKeyFiltersOnlyStartingFromIndex(e,t){if(t>=0){for(let n=t;n<e.length;n+=1)if(typeof e[n]!="string"&&!this._isKeyFilter(e[n]))return!1;return!0}return!1}_removeSameFilter(e,t,n,s){const r=n?["!",t]:t;if(JSON.stringify(r)===JSON.stringify(e))return e.splice(0,e.length),0;const o=this._findSubFilter(e,r);if(o>=0)return this._removeFilterByIndex(e,o,s),o;for(let a=0;a<e.length;a+=1)if(Array.isArray(e[a])&&e[a].length>2){const l=this._removeSameFilter(e[a],r,!1,s);if(l>=0){if(!e[a].length)this._removeFilterByIndex(e,a,s);else if(e[a].length===1){const[d]=e[a];e[a]=d}return l}}return-1}getSelectAllState(){const e=this.options.filter();let{selectionFilter:t}=this.options;if(!t)return!0;if(!t.length)return!1;if(e!=null&&e.length){if(t=this._denormalizeFilter(t),this._isLastSubFilter(t,e))return!0;if(this._isLastSubFilter(t,["!",e]))return!1}}loadSelectedItemsWithFilter(){const e=this.options.filter(),{selectionFilter:t}=this.options,n=e?[e,"and",t]:t;return this._loadFilteredData(n)}_onePageSelectAll(e){return this._selectAllPlainItems(e),this.onSelectionChanged(),de().resolve()}}const xA=function(i,e){this.getLocalFilter=function(a,l,d,c){return l=l===void 0?dn:l,r.bind(this,l,a,d,c)},this.getExpr=function(a){if(!a)return;let l;return i.forEach(function(d,c){l=l||[];let h;c>0&&l.push(e?"and":"or"),Ke(a)||Ie(a)?h=o(a,d):h=function(u,p){const f=[];for(let g=0,{length:m}=u;g<m;g++){const v=u[g],_=qt(v),x=p&&_(p),y=o(v,x);if(!y)break;g>0&&f.push(e?"or":"and"),f.push(y)}return f}(a,d),l.push(h)}),l&&l.length===1&&(l=l[0]),l},this.getCombinedFilter=function(a,l){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const c=this.getExpr(a);let h=c;return(d||e)&&l&&(c?(h=[],h.push(c),h.push(l)):h=l),h};let t;const n=function(a,l){if(!t){t={};const d=s(i,a,l);for(let c=0;c<d.length;c++)t[vs(d[c])]=!0}return t},s=function(a,l,d){return Array.isArray(d)?a.map(c=>l(c)):a};function r(a,l,d,c,h){const u=l(h);let p,f;if(!d&&(p=vs(u),!Me(p)))return n(l,c)[p]?!e:!!e;for(f=0;f<i.length;f++)if(a(i[f],u))return!e;return!!e}function o(a,l){if(l!==void 0)return[a,e?"<>":"=",l]}};class IQ extends J8{constructor(e){super(e),this._lastSelectAllPageDeferred=de().reject(),this._initSelectedItemKeyHash()}_initSelectedItemKeyHash(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})}getSelectedItemKeys(){return this.options.selectedItemKeys.slice(0)}getSelectedItems(){return this.options.selectedItems.slice(0)}_preserveSelectionUpdate(e,t){const{keyOf:n}=this.options;let s;if(!n)return;const r=t&&e.length>1&&!this.options.equalByReference;r&&(s={}),e.forEach(o=>{const a=n(o);if(t){const l=this.removeSelectedItem(a,s,o&&typeof o=="object"&&"disabled"in o?!!o.disabled:!1);s&&jt(l)&&l>=0&&(s[l]=!0)}else this.addSelectedItem(a,o)}),r&&this._batchRemoveSelectedItems(s)}_batchRemoveSelectedItems(e){const t=this.options.selectedItemKeys.slice(0),n=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(let s=0;s<t.length;s+=1)e[s]||(this.options.selectedItemKeys.push(t[s]),this.options.selectedItems.push(n[s]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_loadSelectedItemsCore(e,t,n,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=de();const a=this.options.key();if(!e.length&&!n)return o.resolve([]),o;if(n&&t&&!s)return o.resolve(this.getSelectedItems()),o;const l=new xA(e,n),d=l.getCombinedFilter(a,s,r);let c=[];if(t){const{selectedItems:p}=this.options;c=d&&e.length!==p.length?Hi(p).filter(d).toArray():p.slice(0)}let h=c.length?c:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData);const u=l.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,a);return h=h.filter(u),c.length||!n&&h.length===e.length?o.resolve(h):o=this._loadFilteredData(d,u,null,n),o}_replaceSelectionUpdate(e){const{keyOf:t}=this.options;if(!t)return;const n=e.map(s=>t(s));this.setSelectedItems(n,e)}_warnOnIncorrectKeys(e){const{allowNullValue:t}=this.options;e.forEach(n=>{(!t||n!==null)&&!this.isItemKeySelected(n)&&pt.log("W1002",n)})}_isMultiSelectEnabled(){const{mode:e}=this.options;return e==="all"||e==="multiple"}_requestInProgress(){var e;return((e=this._lastLoadDeferred)===null||e===void 0?void 0:e.state())==="pending"}_concatRequestsItems(e,t,n,s){let r=[];const o=n?e:[];return s?r=s:r=SD(e,this.options.selectedItemKeys),{addedItems:t.added.concat(r),removedItems:t.removed.concat(o),keys:e}}_collectLastRequestData(e,t,n,s){const r=t&&n,o={added:[],removed:[]},a=this._isMultiSelectEnabled(),l={addedItems:[],removedItems:[],keys:[]};if(!a)return l;let d=this._lastRequestData??l;if(this._shouldMergeWithLastRequest){if(r){var c;(c=this._lastLoadDeferred)===null||c===void 0||c.reject(),d={}}else if(!RZ(e,this.options.selectedItemKeys)){var h,u;if(o.added=(h=d)===null||h===void 0?void 0:h.addedItems,o.removed=(u=d)===null||u===void 0?void 0:u.removedItems,!t){var p;(p=this._lastLoadDeferred)===null||p===void 0||p.reject()}}}return d=this._concatRequestsItems(e,o,t,this._shouldMergeWithLastRequest?void 0:s),d}_updateKeysByLastRequestData(e,t,n){let s=e;if(this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&this._lastRequestData&&!t&&!n){var r;s=SD([...e,...this._lastRequestData.addedItems],(r=this._lastRequestData)===null||r===void 0?void 0:r.removedItems),s=tX(s)}return s}_loadSelectedItems(e,t,n,s){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=de(),a=this.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(e,t,n,s),Ae(this._lastLoadDeferred).always(()=>{const l=this._updateKeysByLastRequestData(e,t,n);this._shouldMergeWithLastRequest=!1,this._loadSelectedItemsCore(l,t,n,a,r).done(d=>{o.resolve(d)}).fail(d=>{o.reject(d)})}),this._lastLoadDeferred=o,o}selectedItemKeys(e,t,n,s,r,o){if(this._isCancelingInProgress)return de().reject();const a=this._loadSelectedItems(e,n,s,r,o),l=de();return a.done(d=>{this._storeSelectionState(),t?this._preserveSelectionUpdate(d,n):this._replaceSelectionUpdate(d),this._isCancelingInProgress=!0,this._callCallbackIfNotCanceled(()=>{this._isCancelingInProgress=!1,this.onSelectionChanged(),l.resolve(d)},()=>{this._isCancelingInProgress=!1,this._restoreSelectionState(),l.reject()})}),l}addSelectedItem(e,t){if(G(t)&&!this.options.ignoreDisabledItems&&t.disabled){this.options.disabledItemKeys.includes(e)||this.options.disabledItemKeys.push(e);return}const n=this._getKeyHash(e);this._indexOfSelectedItemKey(n)===-1&&(!Me(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(t),this.options.selectedItems.push(t))}_getSelectedIndexByKey(e,t){const{selectedItemKeys:n}=this.options;return n.findIndex((s,r)=>!(t!=null&&t[r])&&this.equalKeys(n[r],e))}_getSelectedIndexByHash(e,t){let n=this.options.keyHashIndices[e];return n&&n.length>1&&t&&(n=n.filter(s=>!t[s])),n&&n[0]>=0?n[0]:-1}_indexOfSelectedItemKey(e,t){let n=-1;return this.options.equalByReference?n=this.options.selectedItemKeys.indexOf(e):Me(e)?n=this._getSelectedIndexByKey(e,t):n=this._getSelectedIndexByHash(e,t),n}_shiftSelectedKeyIndices(e){for(let t=e;t<this.options.selectedItemKeys.length;t+=1){const n=this.options.selectedItemKeys[t],s=vs(n),r=this.options.keyHashIndices[s];if(r)for(let o=0;o<r.length;o+=1)r[o]>e&&(r[o]-=1)}}removeSelectedItem(e,t,n){if(!this.options.ignoreDisabledItems&&n)return;const s=this._getKeyHash(e),r=!!t,o=this._indexOfSelectedItemKey(s,t);if(o<0||(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[o]),r)||(this.options.selectedItemKeys.splice(o,1),this.options.selectedItems.splice(o,1),Me(s)||!this.options.keyHashIndices))return o;const a=this.options.keyHashIndices[s];return a&&(a.shift(),a.length||delete this.options.keyHashIndices[s],this._shiftSelectedKeyIndices(o)),o}_updateAddedItemKeys(e,t){for(let n=0;n<e.length;n+=1)this.isItemKeySelected(e[n])||(this.options.addedItemKeys.push(e[n]),this.options.addedItems.push(t[n]))}_updateRemovedItemKeys(e,t,n){for(let s=0;s<t.length;s+=1)this.isItemKeySelected(t[s])||(this.options.removedItemKeys.push(t[s]),this.options.removedItems.push(n[s]))}_isItemSelectionInProgress(e,t){if(t&&this._lastRequestData&&this._requestInProgress()){var s;return(((s=this._lastRequestData)===null||s===void 0?void 0:s.addedItems)??[]).includes(e)}return!1}_getKeyHash(e){return this.options.equalByReference?e:vs(e)}setSelectedItems(e,t){this._updateAddedItemKeys(e,t);const n=this.options.selectedItemKeys,s=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._updateRemovedItemKeys(e,n,s)}isItemDataSelected(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.options.keyOf(e);return this.isItemKeySelected(n,t)}isItemKeySelected(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this._isItemSelectionInProgress(e,t.checkPending);if(!n){const s=this._getKeyHash(e);n=this._indexOfSelectedItemKey(s)!==-1}return n}getSelectAllState(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}loadSelectedItemsWithFilter(){const e=this.options.key(),t=this.getSelectedItemKeys(),n=this.options.filter();if(!t.length)return de().resolve([]);const r=new xA(t).getCombinedFilter(e,n,!0);return this._loadFilteredData(r)}_storeSelectionState(){const{selectedItems:e,selectedItemKeys:t,keyHashIndices:n}=this.options;this._storedSelectionState={keyHashIndices:JSON.stringify(n),selectedItems:[...e],selectedItemKeys:[...t]}}_restoreSelectionState(){if(this._clearItemKeys(),!this._storedSelectionState)return;const{selectedItemKeys:e,selectedItems:t,keyHashIndices:n}=this._storedSelectionState;this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._setOption("keyHashIndices",JSON.parse(n))}_onePageSelectAll(e){return this._lastSelectAllPageDeferred.state()==="pending"?de().reject():(this._storeSelectionState(),this._selectAllPlainItems(e),this._lastSelectAllPageDeferred=de(),this._callCallbackIfNotCanceled(()=>{this.onSelectionChanged(),this._lastSelectAllPageDeferred.resolve()},()=>{this._restoreSelectionState(),this._lastSelectAllPageDeferred.reject()}),this._lastSelectAllPageDeferred)}}let eM=class{constructor(e){this.options=se(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys??[]}),this._selectionStrategy=this.options.deferred?new EQ(this.options):new IQ(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_getDefaultOptions(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:Te,key(){},keyOf:t=>t,load:()=>de().resolve([]),totalCount:()=>-1,isSelectableItem:()=>!0,isItemSelected:()=>!1,getItemData:t=>t,dataFields(){},filter(){}}}validate(){this._selectionStrategy.validate()}getSelectedItemKeys(){return this._selectionStrategy.getSelectedItemKeys()}_isStandardStrategy(e){return this.options.deferred}getSelectedItems(){return this._selectionStrategy.getSelectedItems()}selectionFilter(e){if(e===void 0)return this.options.selectionFilter;const t=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,t&&this.onSelectionChanged()}setSelection(e,t){return this.selectedItemKeys(e,!1,!1,!1,t)}select(e){return this.selectedItemKeys(e,!0)}deselect(e){return this.selectedItemKeys(e,!0,!0)}selectedItemKeys(e,t,n,s,r){let o=e??[];return o=Array.isArray(o)?o:[o],this.validate(),this._selectionStrategy.selectedItemKeys(o,t,n,s,r)}clearSelection(){return this.selectedItemKeys([])}_addSelectedItem(e,t){this._selectionStrategy.addSelectedItem(t,e)}_removeSelectedItem(e){this._selectionStrategy.removeSelectedItem(e)}_setSelectedItems(e,t){this._selectionStrategy.setSelectedItems(e,t)}onSelectionChanged(){this._selectionStrategy.onSelectionChanged()}changeItemSelection(e){var t,n;let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o=!1;const a=this.options.plainItems(),l=a[e];let d=e,c;const{isVirtualPaging:h}=this.options,u=(t=(n=this.options).allowLoadByRange)===null||t===void 0?void 0:t.call(n),{alwaysSelectByShift:p}=this.options;let f,g=!1,m=!1;const v=T=>T>=0&&!a.filter(O=>O.loadIndex===T).length;if(h&&G(l)&&(u&&(f=l.loadIndex-d,d=l.loadIndex),g=v(this._focusedItemIndex),G(this._shiftFocusedItemIndex)&&(m=v(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(l))return!1;const _=this.options.getItemData(l),x=this.options.keyOf(_);let y=s.shift;if(p===!1&&y&&(y=u!==!1||!g&&!m),y&&this.options.mode==="multiple"&&this._focusedItemIndex>=0)u&&(g||m)?(o=d!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,o&&(c=this.changeItemSelectionWhenShiftKeyInVirtualPaging(d))):o=this.changeItemSelectionWhenShiftKeyPressed(d,a,f);else if(s.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!r){const T=this._selectionStrategy.isItemDataSelected(_);this.options.mode==="single"&&this.clearSelectedItems(),T?this._removeSelectedItem(x):this._addSelectedItem(_,x)}o=!0}else{this._resetItemSelectionWhenShiftKeyPressed();const T=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],x);(this.options.selectedItemKeys.length!==1||!T)&&(this._setSelectedItems([x],[_]),o=!0)}if(o)return Ae(c).done(()=>{this._focusedItemIndex=d,r||this.onSelectionChanged()}),!0}isDataItem(e){return this.options.isSelectableItem(e)}isSelectable(){return this.options.mode==="single"||this.options.mode==="multiple"}isItemDataSelected(e){return this._selectionStrategy.isItemDataSelected(e,{checkPending:!0})}isItemSelected(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this._selectionStrategy.isItemKeySelected(e,t)}_resetItemSelectionWhenShiftKeyPressed(){delete this._shiftFocusedItemIndex}_resetFocusedItemIndex(){this._focusedItemIndex=-1}changeItemSelectionWhenShiftKeyInVirtualPaging(e){var t,n;const s=((t=(n=this.options).getLoadOptions)===null||t===void 0?void 0:t.call(n,e,this._focusedItemIndex,this._shiftFocusedItemIndex))??{},r=de(),o=s.skip;return this.options.load(s).done(a=>{const l=!Array.isArray(a)&&ot(a)?a.data:a;this.changeItemSelectionWhenShiftKeyPressed(e,l,o),r.resolve()}),r.promise()}changeItemSelectionWhenShiftKeyPressed(e,t,n){let s=!1;const r=G(n);let o=r?this._focusedItemIndex-n:this._focusedItemIndex;const{keyOf:a}=this.options,l=t[o],d=this.options.getItemData(l),c=a(d),h=l&&this.isItemDataSelected(d);G(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex);let u=0,p,f=0,g=0;if(this._shiftFocusedItemIndex!==this._focusedItemIndex)for(u=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,f=r?this._focusedItemIndex-n:this._focusedItemIndex,g=r?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,o=f;o!==g;o+=u)(r||this.isDataItem(t[o]))&&(p=a(this.options.getItemData(t[o])),this._removeSelectedItem(p),s=!0);if(e!==this._shiftFocusedItemIndex){for(u=e<this._shiftFocusedItemIndex?1:-1,f=r?e-n:e,g=r?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,o=f;o!==g;o+=u)if(r||this.isDataItem(t[o])){const m=this.options.getItemData(t[o]);p=a(m),this._addSelectedItem(m,p),s=!0}}return(r||this.isDataItem(l))&&!h&&(this._addSelectedItem(d,c),s=!0),s}clearSelectedItems(){this._setSelectedItems([],[])}selectAll(e){return this._resetFocusedItemIndex(),e?this._selectionStrategy._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)}deselectAll(e){return this._resetFocusedItemIndex(),e?this._selectionStrategy._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)}getSelectAllState(e){return this._selectionStrategy.getSelectAllState(e)}loadSelectedItemsWithFilter(){return this._selectionStrategy.loadSelectedItemsWithFilter()}};const go=-1,Gs=i=>i!==go;class Kr extends dS{constructor(e,t){Kr._initUserOptions=t??{},super(e,t)}_setOptionsByReference(){super._setOptionsByReference(),this._optionsByReference.selectedItem=!0}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{selectionMode:"none",selectionRequired:!1,selectByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:go,focusOnSelectedItem:!0,selectedItem:null,onSelectionChanging:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})}_init(){this._userOptions=Object.assign({},Kr._initUserOptions),Kr._initUserOptions=void 0,this._initEditStrategy(),super._init(),this._initKeyGetter(),this._initActions(),this._initSelectionModule()}_initKeyGetter(){const{keyExpr:e}=this.option();this._keyGetter=qt(e)}_selectedItemClass(){return"dx-item-selected"}_getActionsList(){return["onSelectionChanging","onSelectionChanged"]}_initActions(){this._actions={},this._getActionsList().forEach(t=>{this._actions[t]=this._createActionByOption(t,{excludeValidators:["disabled","readOnly"]})??Te})}_getKeysByItems(e){return this._editStrategy.getKeysByItems(e)}_getItemsByKeys(e,t){return this._editStrategy.getItemsByKeys(e,t)}_getKeyByIndex(e){return this._editStrategy.getKeyByIndex(e)}_getIndexByKey(e){return this._editStrategy.getIndexByKey(e)}_getIndexByItemData(e){return this._editStrategy.getIndexByItemData(e)}_isKeySpecified(){return!!this._dataController.key()}_getCombinedFilter(){return this._dataController.filter()}key(){const{keyExpr:e}=this.option();return e||this._dataController.key()}keyOf(e){const{keyExpr:t}=this.option();return t?this._keyGetter(e):this._dataController.store()?this._dataController.keyOf(e):e}_nullValueSelectionSupported(){return!1}_initSelectionModule(){const e=this,{itemsGetter:t}=this._editStrategy,{selectionMode:n,maxFilterLengthInRequest:s}=this.option();this._selection=new eM({allowNullValue:this._nullValueSelectionSupported(),mode:n,maxFilterLengthInRequest:s,equalByReference:!this._isKeySpecified(),onSelectionChanging:r=>{var o,a;const l=r.addedItemKeys.length||r.removedItemKeys.length;if(!this._rendered||!l)return;const d={removedItems:r.removedItems,addedItems:r.addedItems,cancel:!1};(o=(a=this._actions).onSelectionChanging)===null||o===void 0||o.call(a,d),r.cancel=d.cancel},onSelectionChanged:r=>{(r.addedItemKeys.length||r.removedItemKeys.length)&&(this.option("selectedItems",this._getItemsByKeys(r.selectedItemKeys,r.selectedItems)),this._updateSelectedItems(r))},filter:this._getCombinedFilter.bind(this),totalCount:()=>{const{items:r=[]}=this.option(),o=this._dataController.totalCount();return o>=0?o:this._getItemsCount(r)},key:this.key.bind(this),keyOf:this.keyOf.bind(this),load(r){var o;const a=e._dataController;return r.customQueryParams=(o=a.loadOptions())===null||o===void 0?void 0:o.customQueryParams,r.userData=a.userData(),a.store()?a.loadFromStore(r).done(l=>{if(e._disposed)return;const d=RP(l).data;a.applyMapFunction(d)}):de().resolve(this.plainItems())},dataFields:()=>this._dataController.select(),plainItems:t.bind(this._editStrategy)})}_getItemsCount(e){return e.reduce((t,n)=>{const s=n.items?this._getItemsCount(n.items):1;return t+s},0)}_initEditStrategy(){this._editStrategy=new aS(this)}_getSelectedItemIndices(e){const t=[],n=e??this._selection.getSelectedItemKeys();return this._editStrategy.beginCache(),ie(n,(s,r)=>{const o=this._getIndexByKey(r);Gs(o)&&t.push(o)}),this._editStrategy.endCache(),t}_initMarkup(){this._rendering=!0,this._dataController.isLoading()||this._syncSelectionOptions().done(()=>{this._normalizeSelectedItems()}),super._initMarkup()}_render(){super._render(),this._rendering=!1}_fireContentReadyAction(){this._rendering=!1,this._rendered=!0,super._fireContentReadyAction()}_syncSelectionOptions(e){switch(e??this._chooseSelectOption()){case"selectedIndex":{const{selectedIndex:n}=this.option(),s=this._editStrategy.getItemDataByIndex(n??go);G(s)?(this._setOptionWithoutOptionChange("selectedItems",[s]),this._setOptionWithoutOptionChange("selectedItem",s),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([s]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break}case"selectedItems":{const{selectedItems:n=[],selectionRequired:s}=this.option(),r=n.length?this._editStrategy.getIndexByItemData(n[0]):go;if(s&&!Gs(r))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",n[0]),this._setOptionWithoutOptionChange("selectedIndex",r),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(n));break}case"selectedItem":{const{selectedItem:n,selectionRequired:s}=this.option(),r=this._editStrategy.getIndexByItemData(n);if(s&&!Gs(r))return this._syncSelectionOptions("selectedIndex");G(n)?(this._setOptionWithoutOptionChange("selectedItems",[n]),this._setOptionWithoutOptionChange("selectedIndex",r),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([n]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",go));break}case"selectedItemKeys":{const{selectedItemKeys:n=[],selectionRequired:s}=this.option();if(s){const r=this._getIndexByKey(n[0]);if(!Gs(r))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(n)}}return de().resolve()}_chooseSelectOption(){let e="selectedIndex";const t=n=>{const{[n]:s}=this.option();return!!(G(s)&&Array.isArray(s)&&s.length)||n in(this._userOptions??{})};return t("selectedItems")?e="selectedItems":t("selectedItem")?e="selectedItem":t("selectedItemKeys")&&(e="selectedItemKeys"),e}_compareKeys(e,t){if(e.length!==t.length)return!1;for(let n=0;n<t.length;n+=1)if(e[n]!==t[n])return!1;return!0}_normalizeSelectedItems(){const{selectionMode:e,selectedItems:t=[],items:n}=this.option();if(e==="none")this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if(e==="single"){const s=t??[],{selectionRequired:r}=this.option();if(s.length>1||!s.length&&r&&n!==null&&n!==void 0&&n.length){const o=this._selection.getSelectedItems();let a=s[0]??o[0];a===void 0&&(a=this._editStrategy.itemsGetter()[0]);const{grouped:l}=this.option();return l&&(c=>Me(c)&&"items"in c&&Array.isArray(c.items))(a)&&(a.items=[a.items[0]]),this._selection.setSelection(this._getKeysByItems([a])),this._setOptionWithoutOptionChange("selectedItems",[a]),this._syncSelectionOptions("selectedItems")}this._selection.setSelection(this._getKeysByItems(s))}else{const s=this._getKeysByItems(t),r=this._selection.getSelectedItemKeys();this._compareKeys(r,s)||this._selection.setSelection(s)}return de().resolve()}_itemClickHandler(e,t,n){let s=de().resolve();this._createAction(r=>{s=this._itemSelectHandler(r.event)??s},{validatingTargetName:"itemElement"})({itemElement:M(e.currentTarget),event:e}),s.always(()=>{super._itemClickHandler(e,t,n)})}_itemSelectHandler(e,t){const{selectByClick:n}=this.option();if(!t&&!n)return;const s=e.currentTarget;if(this.isItemSelected(s))this.unselectItem(e.currentTarget);else{const r=this.selectItem(e.currentTarget);return r==null?void 0:r.promise()}}_selectedItemElement(e){return this._itemElements().eq(e)}_postprocessRenderItem(e){const{selectionMode:t}=this.option();if(t!=="none"){const n=M(e.itemElement),s=this._editStrategy.getNormalizedIndex(n.get(0)),r=this._isItemSelected(s);this._processSelectableItem(n,r)}}_processSelectableItem(e,t){e.toggleClass(this._selectedItemClass(),t),this._setAriaSelectionAttribute(e,String(t))}_updateSelectedItems(e){const{addedItemKeys:t,removedItemKeys:n}=e;if(this._rendered&&(t.length||n.length)){if(!this._rendering){const s=[],r=[];this._editStrategy.beginCache();for(let o=0;o<t.length;o+=1){const a=this._getIndexByKey(t[o]);s.push(a),this._addSelection(a)}for(let o=0;o<n.length;o+=1){const a=this._getIndexByKey(n[o]);r.push(a),this._removeSelection(a)}this._editStrategy.endCache(),this._updateSelection(s,r)}this._actions.onSelectionChanged({addedItems:e.addedItems,removedItems:e.removedItems})}}_updateSelection(e,t){}_setAriaSelectionAttribute(e,t){this.setAria("selected",t,e)}_getFocusedElementIndex(){const{focusOnSelectedItem:e}=this.option();return e?this._getFlatIndex():super._getFocusedElementIndex()}_getFlatIndex(){const{selectedIndex:e=go}=this.option();return e}_removeSelection(e){const t=this._editStrategy.getItemElement(e);Gs(e)&&(this._processSelectableItem(t,!1),Y.triggerHandler(t,"stateChanged",!1))}_addSelection(e){const t=this._editStrategy.getItemElement(e);Gs(e)&&(this._processSelectableItem(t,!0),Y.triggerHandler(t,"stateChanged",!0))}_isItemSelected(e){const t=this._getKeyByIndex(e);return this._selection.isItemSelected(t,{checkPending:!0})}_optionChanged(e){switch(e.name){case"selectionMode":this._invalidate();break;case"dataSource":(!e.value||Array.isArray(e.value)&&!e.value.length)&&this.option("selectedItemKeys",[]),super._optionChanged(e);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(e.name).done(()=>{this._normalizeSelectedItems()});break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"onSelectionChanging":case"onSelectionChanged":this._initActions();break;case"selectByClick":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":case"focusOnSelectedItem":break;default:super._optionChanged(e)}}_clearSelectedItems(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")}_waitDeletingPrepare(e){if(e.data("dxItemDeleting"))return de().resolve().promise();e.data("dxItemDeleting",!0);const t=de(),n={cancel:!1},s=this._itemEventHandler(e,"onItemDeleting",n,{excludeValidators:["disabled","readOnly"]});return Ae(s).always(function(r){const o=!s,a=!o&&s.state()==="resolved",l=!!arguments.length,u=o||a&&!l||a&&r;Ae(ci(n.cancel)).always(()=>{e.data("dxItemDeleting",!1)}).done(p=>{u&&!p?t.resolve():t.reject()}).fail(t.reject)}),t.promise()}_deleteItemFromDS(e){const t=this._dataController,n=de(),{disabled:s}=this.option(),r=t.store();if(!r)return de().resolve().promise();if(!r.remove)throw pt.Error("E1011");return this.option("disabled",!0),r.remove(t.keyOf(this._getItemData(e))).done(o=>{o!==void 0?n.resolve():n.reject()}).fail(()=>{n.reject()}),n.always(()=>{this.option("disabled",s)}),n}_tryRefreshLastPage(){const e=de(),{grouped:t}=this.option();return this._isLastPage()||t?e.resolve():this._refreshLastPage().done(()=>{e.resolve()}),e.promise()}_refreshLastPage(){return this._expectLastItemLoading(),this._dataController.load()}_updateSelectionAfterDelete(e){const t=this._getKeyByIndex(e);this._selection.deselect([t])}_updateIndicesAfterIndex(e){const t=this._itemElements();for(let n=e+1;n<t.length;n+=1)M(t[n]).data(this._itemIndexKey(),n-1)}_simulateOptionChange(e){var t;const n=this.option(e);n instanceof Os||(t=this._optionChangedAction)===null||t===void 0||t.call(this,{name:e,fullName:e,value:n})}isItemSelected(e){return this._isItemSelected(this._editStrategy.getNormalizedIndex(e))}selectItem(e){const{selectionMode:t}=this.option();if(t==="none")return de().resolve();const n=this._editStrategy.getNormalizedIndex(e);if(!Gs(n))return de().resolve();const s=this._getKeyByIndex(n);if(this._selection.isItemSelected(s))return de().resolve();if(t==="single")return this._selection.setSelection([s]);const{selectedItemKeys:r}=this.option();return this._selection.setSelection([...r??[],s],[s])}unselectItem(e){const t=this._editStrategy.getNormalizedIndex(e);if(!Gs(t))return;const n=this._selection.getSelectedItemKeys(),{selectionRequired:s}=this.option();if(s&&n.length<=1)return;const r=this._getKeyByIndex(t);this._selection.isItemSelected(r,{checkPending:!0})&&this._selection.deselect([r])}_deleteItemElementByIndex(e){this._updateSelectionAfterDelete(e),this._updateIndicesAfterIndex(e),this._editStrategy.deleteItemAtIndex(e)}_afterItemElementDeleted(e,t){const n=this._dataController.getDataSource()?"dataSource":"items";this._simulateOptionChange(n),this._itemEventHandler(e,"onItemDeleted",t,{beforeExecute(){e.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()}deleteItem(e){const t=de(),n=this._editStrategy.getItemElement(e),s=this._editStrategy.getNormalizedIndex(e),r=this._itemResponseWaitClass();return Gs(s)?this._waitDeletingPrepare(n).done(()=>{n.addClass(r);const o=this._extendActionArgs(n);this._deleteItemFromDS(n).done(()=>{this._deleteItemElementByIndex(s),this._afterItemElementDeleted(n,o),this._tryRefreshLastPage().done(()=>{t.resolveWith(this)})}).fail(()=>{n.removeClass(r),t.rejectWith(this)})}).fail(()=>{t.rejectWith(this)}):t.rejectWith(this),t.promise()}reorderItem(e,t){const n=de(),s=this._editStrategy,r=s.getItemElement(e),o=s.getItemElement(t),a=s.getNormalizedIndex(e),l=s.getNormalizedIndex(t),d=this._dataController.getDataSource()?"dataSource":"items";return Gs(a)&&Gs(l)&&a!==l?n.resolveWith(this):n.rejectWith(this),n.promise().done(()=>{o[s.itemPlacementFunc(a,l)](r),s.moveItemAtIndexToIndex(a,l),this._updateIndicesAfterIndex(a),this.option("selectedItems",this._getItemsByKeys(this._selection.getSelectedItemKeys(),this._selection.getSelectedItems())),d==="items"&&this._simulateOptionChange(d),this._itemEventHandler(r,"onItemReordered",{fromIndex:s.getIndex(a),toIndex:s.getIndex(l)},{excludeValidators:["disabled","readOnly"]})})}}Kr._initUserOptions={};class cS extends Kr{_initMarkup(){this._asyncTemplateItemsMap={},super._initMarkup()}_render(){super._render(),this._planPostRenderActions()}_renderItemContent(e){const t=de(),n=de(),s=`dx${new Xt}`;this._asyncTemplateItemsMap[s]=n;const r=super._renderItemContent(Object.assign({},e,{uniqueKey:s}));return n.done(()=>{t.resolve(r)}),t.promise()}_onItemTemplateRendered(e,t){return()=>{const{uniqueKey:n}=t;if(n){var s;(s=this._asyncTemplateItemsMap[n])===null||s===void 0||s.resolve()}}}_postProcessRenderItems(){}_planPostRenderActions(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const s=de(),r=Object.values(this._asyncTemplateItemsMap);return Ae.apply(this,r).done(()=>{this._postProcessRenderItems(...t),s.resolve().done(()=>{this._asyncTemplateItemsMap={}})}),s.promise()}_clean(){super._clean(),Object.values(this._asyncTemplateItemsMap).forEach(t=>{t.reject()}),this._asyncTemplateItemsMap={}}}function TQ(i){return class{constructor(){throw new Error(`Module '${i}' not found`)}static getInstance(){}}}const cC=i=>i==="equals"?"=":i;class Bo{static setEditorClass(e){Bo.EditorClass=e}render(e,t,n,s){const r=`${e}-with-search`,o=`${e}-search`,{searchEnabled:a,onValueChanged:l}=n;if(this._onSearchBoxValueChanged=l,!a){t.removeClass(r),this.remove();return}if(this._editor)this.updateEditorOptions(n);else{const d=this._getEditorOptions(n);t.addClass(r);const c=M("<div>").addClass(o).prependTo(t);this._editor=s(c,Bo.EditorClass,d)}}updateEditorOptions(e){var t;const n=this._getEditorOptions(e);(t=this._editor)===null||t===void 0||t.option(n)}_getEditorOptions(e){const{tabIndex:t,searchValue:n,searchEditorOptions:s,searchTimeout:r}=e,o=ue.format("Search");return Object.assign({mode:"search",placeholder:o,tabIndex:t,value:n,valueChangeEvent:"input",inputAttr:{"aria-label":o},onValueChanged:a=>{this._onValueChanged(a,r)}},s)}_onValueChanged(e){var t;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(this._valueChangeDeferred=de(),clearTimeout(this._valueChangeTimeout),this._valueChangeDeferred.done(()=>{var r;(r=this._onSearchBoxValueChanged)===null||r===void 0||r.call(this,e.value)}),((t=e.event)===null||t===void 0?void 0:t.type)==="input"&&n)this._valueChangeTimeout=setTimeout(()=>{var r;(r=this._valueChangeDeferred)===null||r===void 0||r.resolve()},n);else{var s;(s=this._valueChangeDeferred)===null||s===void 0||s.resolve()}}resolveValueChange(){var e;(e=this._valueChangeDeferred)===null||e===void 0||e.resolve()}remove(){var e;(e=this._editor)===null||e===void 0||e.$element().remove(),this._editor=null}focus(){var e;(e=this._editor)===null||e===void 0||e.focus()}dispose(){this.remove()}}Bo.EditorClass=TQ("TextBox");const bA=Di.getWindow(),DQ={observe:Te,unobserve:Te,disconnect:Te};class AQ{constructor(){if(!Di.hasWindow()||!bA.ResizeObserver)return DQ;this._callbacksMap=new Map,this._observer=new bA.ResizeObserver(e=>{e.forEach(t=>{var n;(n=this._callbacksMap.get(t.target))===null||n===void 0||n(t)})})}observe(e,t){this._callbacksMap.set(e,t),this._observer.observe(e)}unobserve(e){this._callbacksMap.delete(e),this._observer.unobserve(e)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}}const Gr=new AQ,kQ=/^[\d\w.+_-]+@[\d\w._-]+\.[\w]+$/i,Jn={valid:"valid",invalid:"invalid",pending:"pending"};class il{constructor(){this.NAME="base"}defaultMessage(e){return ue.getFormatter(`validation-${this.NAME}`)(e)}defaultFormattedMessage(e){return ue.getFormatter(`validation-${this.NAME}-formatted`)(e)}_isValueEmpty(e){return!Vp.required.validate(e,{})}validate(e,t){const n=Array.isArray(e)?e:[e];let s=!0;return n.length?n.every(r=>(s=this._validate(r,t),s)):s=this._validate(null,t),s}}class OQ extends il{constructor(){super(),this.NAME="required"}_validate(e,t){return!G(e)||e===!1?!1:(e=String(e),(t.trim||!G(t.trim))&&(e=e.trim()),e!=="")}}class RQ extends il{constructor(){super(),this.NAME="numeric"}_validate(e,t){return t.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:t.useCultureSettings&&Ke(e)?!isNaN(Jt.parse(e)):jt(e)}}class PQ extends il{constructor(){super(),this.NAME="range"}_validate(e,t){if(t.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;const n=Vp.numeric.validate(e,t),s=G(e)&&e!=="",r=n?parseFloat(e):s&&e.valueOf(),{min:o}=t,{max:a}=t;if(!(n||zi(e))&&!s)return!1;if(G(o))return G(a)?r>=o&&r<=a:r>=o;if(G(a))return r<=a;throw Ut.Error("E0101")}}class MQ extends il{constructor(){super(),this.NAME="stringLength"}_validate(e,t){return e=String(e??""),(t.trim||!G(t.trim))&&(e=e.trim()),t.ignoreEmptyValue&&this._isValueEmpty(e)?!0:Vp.range.validate(e.length,se({},t))}}class tM extends il{constructor(){super(),this.NAME="custom"}validate(e,t){if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;const{validator:n}=t,s=n&&Ie(n.option)&&n.option("dataGetter"),r=Ie(s)&&s(),o={value:e,validator:n,rule:t};return r&&se(o,r),t.validationCallback(o)}}class FQ extends tM{constructor(){super(),this.NAME="async"}validate(e,t){if(G(t.reevaluate)||se(t,{reevaluate:!0}),t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;const{validator:n}=t,s=n&&Ie(n.option)&&n.option("dataGetter"),r=Ie(s)&&s(),o={value:e,validator:n,rule:t};r&&se(o,r);const a=t.validationCallback(o);if(!Ho(a))throw Ut.Error("E0103");return this._getWrappedPromise(ci(a).promise())}_getWrappedPromise(e){const t=de();return e.then(n=>{t.resolve(n)},n=>{const s={isValid:!1};G(n)&&(Ke(n)?s.message=n:Me(n)&&G(n.message)&&Ke(n.message)&&(s.message=n.message)),t.resolve(s)}),t.promise()}}class BQ extends il{constructor(){super(),this.NAME="compare"}_validate(e,t){if(!t.comparisonTarget)throw Ut.Error("E0102");if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;se(t,{reevaluate:!0});const n=t.comparisonTarget();switch(t.comparisonType||"=="){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case"!==":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}}}class NQ extends il{constructor(){super(),this.NAME="pattern"}_validate(e,t){if(t.ignoreEmptyValue!==!1&&this._isValueEmpty(e))return!0;let{pattern:n}=t;return Ke(n)&&(n=new RegExp(n)),n.test(e)}}class VQ extends il{constructor(){super(),this.NAME="email"}_validate(e,t){return t.ignoreEmptyValue!==!1&&this._isValueEmpty(e)?!0:Vp.pattern.validate(e,se({},t,{pattern:kQ}))}}const Vp={required:new OQ,numeric:new RQ,range:new PQ,stringLength:new MQ,custom:new tM,async:new FQ,compare:new BQ,pattern:new NQ,email:new VQ};class LQ extends Dt.inherit({}){ctor(e,t){this.group=e,this.validators=[],this._isRemovable=t,this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new ld(this)}validate(){const e={isValid:!0,brokenRules:[],validators:[],status:Jn.valid,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),ie(this.validators,(t,n)=>{const s=n.validate();e.isValid=e.isValid&&s.isValid,s.brokenRules&&(e.brokenRules=e.brokenRules.concat(s.brokenRules)),e.validators.push(n),s.status===Jn.pending&&this._addPendingValidator(n),this._subscribeToChangeEvents(n)}),this._pendingValidators.length?e.status=Jn.pending:(e.status=e.isValid?Jn.valid:Jn.invalid,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(e)),this._updateValidationInfo(e),se({},this._validationInfo.result)}_subscribeToChangeEvents(e){e.on("validating",this._onValidatorStatusChanged),e.on("validated",this._onValidatorStatusChanged)}_unsubscribeFromChangeEvents(e){e.off("validating",this._onValidatorStatusChanged),e.off("validated",this._onValidatorStatusChanged)}_unsubscribeFromAllChangeEvents(){ie(this.validators,(e,t)=>{this._unsubscribeFromChangeEvents(t)})}_updateValidationInfo(e){this._validationInfo.result=e,e.status===Jn.pending&&(this._validationInfo.deferred||(this._validationInfo.deferred=de(),this._validationInfo.result.complete=this._validationInfo.deferred.promise()))}_addPendingValidator(e){Qi(this._pendingValidators,n=>n===e)[0]||this._pendingValidators.push(e)}_removePendingValidator(e){const t=this._pendingValidators.indexOf(e);t>=0&&this._pendingValidators.splice(t,1)}_orderBrokenRules(e){let t=[];return ie(this.validators,(n,s)=>{const r=Qi(e,o=>o.validator===s);r.length&&(t=t.concat(r))}),t}_updateBrokenRules(e){if(!this._validationInfo.result)return;let{brokenRules:t}=this._validationInfo.result;const n=Qi(t,s=>s.validator!==e.validator);e.brokenRules&&(t=n.concat(e.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(t)}_onValidatorStatusChanged(e){if(e.status===Jn.pending){this._addPendingValidator(e.validator);return}this._resolveIfComplete(e)}_resolveIfComplete(e){if(this._removePendingValidator(e.validator),this._updateBrokenRules(e),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=this._validationInfo.result.brokenRules.length===0?Jn.valid:Jn.invalid,this._validationInfo.result.isValid=this._validationInfo.result.status===Jn.valid;const t=se({},this._validationInfo.result,{complete:null}),{deferred:n}=this._validationInfo;this._validationInfo.deferred=null,this._raiseValidatedEvent(t),n&&setTimeout(()=>{n.resolve(t)})}}_raiseValidatedEvent(e){this._eventsStrategy.fireEvent("validated",[e])}_resetValidationInfo(){this._validationInfo={result:null,deferred:null}}_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)}removeRegisteredValidator(e){const t=this.validators.indexOf(e);t>-1&&(this.validators.splice(t,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:e}))}registerValidator(e){this.validators.includes(e)||(this.validators.push(e),this._synchronizeValidationInfo())}reset(){ie(this.validators,(e,t)=>{t.reset()}),this._pendingValidators=[],this._resetValidationInfo()}on(e,t){return this._eventsStrategy.on(e,t),this}off(e,t){return this._eventsStrategy.off(e,t),this}}const Gt={groups:[],getGroupConfig(i){const e=Qi(this.groups,t=>t.group===i);if(e.length)return e[0]},findGroup(i,e){var t;const s=((t=i.data())===null||t===void 0||(t=t.dxComponents)===null||t===void 0?void 0:t.includes("dxValidationGroup"))&&i.dxValidationGroup("instance");if(s)return s;const r=i.parents(".dx-validationgroup").first();return r.length?r.dxValidationGroup("instance"):e},initGroups(){this.groups=[],this.addGroup(void 0,!1)},addGroup(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,t=this.getGroupConfig(i);return t||(t=new LQ(i,e),this.groups.push(t)),t},removeGroup(i){const e=this.getGroupConfig(i),t=this.groups.indexOf(e);return t>-1&&this.groups.splice(t,1),e},_setDefaultMessage(i){const{rule:e,validator:t,name:n}=i;G(e.message)||(t.defaultFormattedMessage&&G(n)?e.message=t.defaultFormattedMessage(n):e.message=t.defaultMessage())},_addBrokenRule(i){const{result:e,rule:t}=i;e.brokenRule||(e.brokenRule=t),e.brokenRules||(e.brokenRules=[]),e.brokenRules.push(t)},validate(i,e,t){var n;let s={name:t,value:i,brokenRule:null,brokenRules:null,isValid:!0,validationRules:e,pendingRules:null,status:Jn.valid,complete:null};const r=e==null||(n=e[0])===null||n===void 0?void 0:n.validator,o=[];return ie(e||[],(a,l)=>{const d=Vp[l.type];let c;if(d){if(G(l.isValid)&&l.value===i&&!l.reevaluate)return l.isValid?!0:(s.isValid=!1,this._addBrokenRule({result:s,rule:l}),!1);if(l.value=i,l.type==="async")return o.push({rule:l,ruleValidator:d}),!0;if(c=d.validate(i,l),l.isValid=c,c||(s.isValid=!1,this._setDefaultMessage({rule:l,validator:d,name:t}),this._addBrokenRule({result:s,rule:l})),!l.isValid)return!1}else throw Ut.Error("E0100")}),s.isValid&&!s.brokenRules&&o.length&&(s=this._validateAsyncRules({value:i,items:o,result:s,name:t})),this._synchronizeGroupValidationInfo(r,s),s.status=s.pendingRules?Jn.pending:s.isValid?Jn.valid:Jn.invalid,s},_synchronizeGroupValidationInfo(i,e){if(!i)return;const t=Gt.getGroupConfig(i._validationGroup);t._updateBrokenRules.call(t,{validator:i,brokenRules:e.brokenRules??[]})},_validateAsyncRules(i){let{result:e,value:t,items:n,name:s}=i;const r=[];return ie(n,(o,a)=>{const l=a.ruleValidator.validate(t,a.rule);if(!Ho(l))this._updateRuleConfig({rule:a.rule,ruleResult:this._getPatchedRuleResult(l),validator:a.ruleValidator,name:s});else{e.pendingRules||(e.pendingRules=[]),e.pendingRules.push(a.rule);const d=l.then(c=>{const h=this._getPatchedRuleResult(c);return this._updateRuleConfig({rule:a.rule,ruleResult:h,validator:a.ruleValidator,name:s}),h});r.push(d)}}),r.length&&(e.complete=Promise.all(r).then(o=>this._getAsyncRulesResult({result:e,values:o}))),e},_updateRuleConfig(i){let{rule:e,ruleResult:t,validator:n,name:s}=i;e.isValid=t.isValid,t.isValid||(G(t.message)&&Ke(t.message)&&t.message.length?e.message=t.message:this._setDefaultMessage({rule:e,validator:n,name:s}))},_getPatchedRuleResult(i){let e;return Me(i)?(e=se({},i),G(e.isValid)||(e.isValid=!0)):e={isValid:Kl(i)?i:!0},e},_getAsyncRulesResult(i){let{values:e,result:t}=i;return ie(e,(n,s)=>{if(s.isValid===!1){t.isValid=s.isValid;const r=t.pendingRules[n];this._addBrokenRule({result:t,rule:r})}}),t.pendingRules=null,t.complete=null,t.status=t.isValid?Jn.valid:Jn.invalid,t},registerValidatorInGroup(i,e){const t=Gt.addGroup(i);t.registerValidator.call(t,e)},removeRegisteredValidator(i,e){const t=Gt.getGroupConfig(i);if(t){t.removeRegisteredValidator.call(t,e);const n=t.validators,s=t._isRemovable;n.length===0&&s&&this.removeGroup(i)}},initValidationOptions(i){const e={};return i&&["isValid","validationStatus","validationError","validationErrors"].forEach(n=>{n in i&&se(e,this.synchronizeValidationOptions({name:n,value:i[n]},i))}),e},synchronizeValidationOptions(i,e){let{name:t,value:n}=i;switch(t){case"validationStatus":{const s=n===Jn.valid||n===Jn.pending;return e.isValid!==s?{isValid:s}:{}}case"isValid":{const{validationStatus:s}=e;let r=s;return n&&s===Jn.invalid?r=Jn.valid:!n&&s!==Jn.invalid&&(r=Jn.invalid),r!==s?{validationStatus:r}:{}}case"validationErrors":{const s=n!=null&&n.length?n[0]:null;return e.validationError!==s?{validationError:s}:{}}case"validationError":{const{validationErrors:s}=e;if(!n&&s)return{validationErrors:null};if(n&&!s)return{validationErrors:[n]};if(n&&s&&n!==s[0])return s[0]=n,{validationErrors:s.slice()}}}return{}},validateGroup(i){const e=Gt.getGroupConfig(i);if(!e)throw Ut.Error("E0110");return e.validate()},resetGroup(i){const e=Gt.getGroupConfig(i);if(!e)throw Ut.Error("E0110");return e.reset()}};Gt.initGroups();const Hf="dx-invalid-message",$Q="dx-invalid-message-auto",HQ="dx-invalid-message-always",jQ="dx-invalid-message-content";let uS=class extends Ps{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),mode:"auto",preventScrollEvents:!1,positionSide:"top",offset:{h:0,v:0}})}_init(){super._init(),this.updateMaxWidth(),this._updatePosition()}_initMarkup(){super._initMarkup(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()}_updatePositionByTarget(){const{target:e}=this.option();this.option("position.of",e)}_ensureMessageNotEmpty(){this._textMarkup=this._getTextMarkup();const e=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(e)}_toggleVisibilityClasses(e){if(e){var t;this.$element().addClass(Hf),(t=this.$wrapper())===null||t===void 0||t.addClass(Hf)}else{var n;this.$element().removeClass(Hf),(n=this.$wrapper())===null||n===void 0||n.removeClass(Hf)}}_updateContentId(){var e;const{container:t,contentId:n}=this.option(),s=n??M(t).attr("aria-describedby");(e=this.$content())===null||e===void 0||e.addClass(jQ).attr("id",s)}_renderInnerHtml(e){const t=e&&M(e);t==null||t.html(this._textMarkup)}_getTextMarkup(){const e=this.option("validationErrors")??[];let t="";return e.forEach(n=>{t+=(t?"<br />":"")+f6((n==null?void 0:n.message)??"")}),t}_toggleModeClass(){var e;const{mode:t}=this.option();(e=this.$wrapper())===null||e===void 0||e.toggleClass($Q,t==="auto").toggleClass(HQ,t==="always")}updateMaxWidth(){const e=this.option("target"),t=kt(e);let n="100%";t&&(n=Math.max(t,100)),this.option({maxWidth:n})}_getPositionsArray(e,t){switch(e){case"top":return[`${t} bottom`,`${t} top`];case"left":return["right","left"];case"right":return["left","right"];default:return[`${t} top`,`${t} bottom`]}}_updatePosition(){const{positionSide:e,rtlEnabled:t,offset:n,boundary:s}=this.option(),r=tl(t),o=this._getPositionsArray(e,r),a=Object.assign({},n);this.$element().addClass(`dx-invalid-message-${e}`),t&&e!=="left"&&e!=="right"&&(a.h=-a.h),e==="top"&&(a.v=-a.v),e==="left"&&(a.h=-a.h),this.option("position",{offset:a,boundary:s,my:o[0],at:o[1],collision:"none flip"})}_optionChanged(e){const{name:t,value:n,previousValue:s}=e;switch(t){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),super._optionChanged(e);break;case"boundary":this.option("position.boundary",n);break;case"mode":this._toggleModeClass();break;case"rtlEnabled":case"offset":case"positionSide":this.$element().removeClass(`dx-invalid-message-${s}`),this._updatePosition();break;case"container":this._updateContentId(),super._optionChanged(e);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:super._optionChanged(e)}}};St("dxValidationMessage",uS);const yA="dx-invalid-message-auto",zQ="dx-show-invalid-badge",CA="dx-validation-target",WQ=["outlined","filled","underlined"],wA={validationMessageMode:"mode",validationMessagePosition:"positionSide",validationMessageOffset:"offset",validationBoundary:"boundary"};let to=class nM extends Oi{static isEditor(e){return e instanceof nM}ctor(e,t){this.showValidationMessageTimeout=void 0,this.validationRequest=Bt(),super.ctor(e,t)}_createElement(e){super._createElement(e);const t=this.$element();t&&kn(t[0],CA,this)}_initOptions(e){super._initOptions(e),this.option(Gt.initValidationOptions(e))}_init(){this._initialValue=this.option("value"),super._init();const{validationTooltipOptions:e}=this.option();this._options.cache("validationTooltipOptions",e),this.$element().addClass(zQ)}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:"valid",validationMessageMode:"auto",validationMessagePosition:"bottom",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{},_cached_validationTooltipOptions:{},_showValidationMessage:!0,isDirty:!1})}_shouldAttachKeyboardEvents(){const{readOnly:e}=this.option();return!e}_attachKeyboardEvents(){this._shouldAttachKeyboardEvents()&&super._attachKeyboardEvents()}_setOptionsByReference(){super._setOptionsByReference(),se(this._optionsByReference,{validationError:!0})}_createValueChangeAction(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_suppressValueChangeAction(){this._valueChangeActionSuppressed=!0}_resumeValueChangeAction(){this._valueChangeActionSuppressed=!1}_initMarkup(){this._toggleReadOnlyState();const{name:e,_onMarkupRendered:t}=this.option();this._setSubmitElementName(e),super._initMarkup(),this._renderValidationState(),t==null||t()}_raiseValueChangeAction(e,t){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(e,t))}_valueChangeArgs(e,t){return{value:e,previousValue:t,event:this._valueChangeEventInstance}}_saveValueChangeEvent(e){this._valueChangeEventInstance=e}_focusInHandler(e){const{validationMessageMode:t}=this.option(),n=t==="auto";if(this._canValueBeChangedByClick()&&n){var s;const r=(s=this._validationMessage)===null||s===void 0?void 0:s.$wrapper();r==null||r.removeClass(yA),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>r==null?void 0:r.addClass(yA),150)}super._focusInHandler(e)}_canValueBeChangedByClick(){return!1}_getStylingModePrefix(){return"dx-editor-"}_renderStylingMode(){const{stylingMode:e}=this.option(),t=this._getStylingModePrefix(),n=WQ.map(r=>t+r);n.forEach(r=>this.$element().removeClass(r));let s=t+String(e);if(!n.includes(s)){const r="stylingMode",o=this._getDefaultOptions()[r],a=this._convertRulesToOptions(this._defaultOptionsRules())[r];s=t+(a??o)}this.$element().addClass(s)}_getValidationErrors(){let{validationErrors:e}=this.option();const{validationError:t}=this.option();return!e&&t&&(e=[t]),e}_disposeValidationMessage(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)}_toggleValidationClasses(e){this.$element().toggleClass("dx-invalid",e),this.setAria("invalid",e||void 0)}_renderValidationState(){const{validationStatus:e,_showValidationMessage:t}=this.option(),n=this.option("isValid")&&e!=="invalid",s=this._getValidationErrors(),r=this.$element();if(this._toggleValidationClasses(!n),!(!st()||!t)&&(this._disposeValidationMessage(),!n&&s)){const{validationMessageMode:o,validationMessageOffset:a,validationBoundary:l,rtlEnabled:d}=this.option();this._$validationMessage=M("<div>").appendTo(r);const c=`dx-${new Xt}`;this.setAria("describedby",c),this._validationMessage=new uS(this._$validationMessage,se({validationErrors:s,rtlEnabled:d,target:this._getValidationMessageTarget(),visualContainer:r,mode:o,positionSide:this._getValidationMessagePosition(),offset:a,boundary:l,contentId:c},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}}_getValidationMessagePosition(){const{validationMessagePosition:e}=this.option();return e}_getValidationMessageTarget(){return this.$element()}_toggleReadOnlyState(){const{readOnly:e}=this.option();this._toggleBackspaceHandler(e),this.$element().toggleClass("dx-state-readonly",!!e),this._setAriaReadonly(e)}_setAriaReadonly(e){this.setAria("readonly",e||void 0)}_toggleBackspaceHandler(e){const t=this._keyboardEventBindingTarget(),n=be("keydown","editorReadOnly");Y.off(t,n),e&&Y.on(t,n,s=>{En(s)==="backspace"&&s.preventDefault()})}_dispose(){const e=this.$element()[0];kn(e,CA,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),super._dispose()}_setSubmitElementName(e){const t=this._getSubmitElement();t&&(e&&e.length>0?t.attr("name",e):t.removeAttr("name"))}_getSubmitElement(){return null}_setValidationMessageOption(e){var t;let{name:n,value:s}=e;const r=wA[String(n)]?wA[String(n)]:n;(t=this._validationMessage)===null||t===void 0||t.option(r,s)}_hasActiveElement(){return!1}_optionChanged(e){var t;const{name:n,value:s,previousValue:r}=e;switch(n){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":s!=r&&(this.option("isDirty",this._initialValue!==s),this.validationRequest.fire({value:s,editor:this})),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(s,r),this._saveValueChangeEvent(void 0));break;case"width":super._optionChanged(e),(t=this._validationMessage)===null||t===void 0||t.updateMaxWidth();break;case"name":this._setSubmitElementName(s);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Gt.synchronizeValidationOptions(e,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessagePosition":case"validationMessageOffset":this._setValidationMessageOption(e);break;case"rtlEnabled":this._setValidationMessageOption(e),super._optionChanged(e);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,e);break;case"_cached_validationTooltipOptions":case"_showValidationMessage":case"isDirty":break;default:super._optionChanged(e)}}_resetToInitialValue(){this.option("value",this._initialValue)}blur(){this._hasActiveElement()&&Sr.resetActiveElement()}clear(){const e=this._getDefaultOptions();this.option("value",e.value)}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length&&(this._initialValue=e),this._resetToInitialValue(),this.option("isDirty",!1),this.option("isValid",!0)}};var qh=Array.isArray;function Ng(i){var e=typeof i;return e==="string"||e==="number"}function zt(i){return i==null}function Yh(i){return i===null||i===!1||i===!0||i===void 0}function sn(i){return typeof i=="function"}function Xh(i){return typeof i=="string"}function UQ(i){return typeof i=="number"}function ns(i){return i===null}function KQ(i){return i===void 0}function sl(i,e){var t={};if(i)for(var n in i)t[n]=i[n];if(e)for(var s in e)t[s]=e[s];return t}function hS(i){return!ns(i)&&typeof i=="object"}var hi={},GQ="$F",Ql=function(){this.componentDidAppear=[],this.componentWillDisappear=[],this.componentWillMove=[]};function pS(i){return i.substring(2).toLowerCase()}function iM(i,e){i.appendChild(e)}function X0(i,e,t){ns(t)?iM(i,e):i.insertBefore(e,t)}function qQ(i,e){return e?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i)}function YQ(i,e,t){i.replaceChild(e,t)}function sM(i,e){i.removeChild(e)}function rM(i){for(var e=0;e<i.length;e++)i[e]()}function XQ(i,e,t){var n=i.children;return t&4?n.$LI:t&8192?i.childFlags===2?n:n[e?0:n.length-1]:n}function Cs(i,e){for(var t;i;){if(t=i.flags,t&1521)return i.dom;i=XQ(i,e,t)}return null}function Z0(i,e){for(var t=i.length,n;(n=i.pop())!==void 0;)n(function(){--t<=0&&sn(e)&&e()})}function ZQ(i){for(var e=0;e<i.length;e++)i[e].fn();for(var t=0;t<i.length;t++){var n=i[t];X0(n.parent,n.dom,n.next)}i.splice(0,i.length)}function Q0(i,e,t){do{var n=i.flags;if(n&1521){(!t||i.dom.parentNode===e)&&sM(e,i.dom);return}var s=i.children;if(n&4&&(i=s.$LI),n&8&&(i=s),n&8192)if(i.childFlags===2)i=s;else{for(var r=0,o=s.length;r<o;++r)Q0(s[r],e,!1);return}}while(i)}function QQ(i,e){return function(){Q0(i,e,!0)}}function J0(i,e,t){t.componentWillDisappear.length>0?Z0(t.componentWillDisappear,QQ(i,e)):Q0(i,e,!1)}function JQ(i,e,t,n,s,r,o,a){i.componentWillMove.push({dom:n,fn:function(){o&4?t.componentWillMove(e,s,n):o&8&&t.onComponentWillMove(e,s,n,a)},next:r,parent:s})}function oM(i,e,t,n,s){var r,o,a=e.flags;do{var l=e.flags;if(l&1521){!zt(r)&&(sn(r.componentWillMove)||sn(r.onComponentWillMove))?JQ(s,i,r,e.dom,t,n,a,o):X0(t,e.dom,n);return}var d=e.children;if(l&4)r=e.children,o=e.props,e=d.$LI;else if(l&8)r=e.ref,o=e.props,e=d;else if(l&8192)if(e.childFlags===2)e=d;else{for(var c=0,h=d.length;c<h;++c)oM(i,d[c],t,n,s);return}}while(e)}function aM(i,e,t){return i.constructor.getDerivedStateFromProps?sl(t,i.constructor.getDerivedStateFromProps(e,t)):t}var Zh={v:!1},SA={componentComparator:null,createVNode:null,renderComplete:null};function lh(i,e){i.textContent=e}function lM(i,e){return hS(i)&&i.event===e.event&&i.data===e.data}function dM(i,e){for(var t in e)KQ(i[t])&&(i[t]=e[t]);return i}function fS(i,e){return!!sn(i)&&(i(e),!0)}var dh="$";function e_(i,e,t,n,s,r,o,a){this.childFlags=i,this.children=e,this.className=t,this.dom=null,this.flags=n,this.key=s===void 0?null:s,this.props=r===void 0?null:r,this.ref=o===void 0?null:o,this.type=a}function Un(i,e,t,n,s,r,o,a){var l=s===void 0?1:s,d=new e_(l,n,t,i,o,r,a,e);return l===0&&uM(d,d.children),d}function eJ(i,e,t){if(i&4)return t;var n=(i&32768?e.render:e).defaultHooks;return zt(n)?t:zt(t)?n:dM(t,n)}function tJ(i,e,t){var n=(i&32768?e.render:e).defaultProps;return zt(n)?t:zt(t)?sl(n,null):dM(t,n)}function nJ(i,e){return i&12?i:e.prototype&&e.prototype.render?4:e.render?32776:8}function _n(i,e,t,n,s){i=nJ(i,e);var r=new e_(1,null,null,i,n,tJ(i,e,t),eJ(i,e,s),e);return r}function Lp(i,e){return new e_(1,zt(i)||i===!0||i===!1?"":i,null,16,e,null,null,null)}function Wo(i,e,t){var n=Un(8192,8192,null,i,e,null,t,null);switch(n.childFlags){case 1:n.children=t_(),n.childFlags=2;break;case 16:n.children=[Lp(i)],n.childFlags=4;break}return n}function Zr(i){var e=i.props;if(e){var t=i.flags;t&481&&(e.children!==void 0&&zt(i.children)&&uM(i,e.children),e.className!==void 0&&(zt(i.className)&&(i.className=e.className||null),e.className=void 0)),e.key!==void 0&&(i.key=e.key,e.key=void 0),e.ref!==void 0&&(t&8?i.ref=sl(i.ref,e.ref):i.ref=e.ref,e.ref=void 0)}return i}function iJ(i){var e=i.children,t=i.childFlags;return Wo(t===2?pi(e):e.map(pi),t,i.key)}function pi(i){var e=i.flags&-16385,t=i.props;if(e&14&&!ns(t)){var n=t;t={};for(var s in n)t[s]=n[s]}return e&8192?iJ(i):new e_(i.childFlags,i.children,i.className,e,i.key,t,i.ref,i.type)}function t_(){return Lp("",null)}function cM(i,e,t,n){for(var s=i.length;t<s;t++){var r=i[t];if(!Yh(r)){var o=n+dh+t;if(qh(r))cM(r,e,0,o);else{if(Ng(r))r=Lp(r,o);else{var a=r.key,l=Xh(a)&&a[0]===dh;(r.flags&81920||l)&&(r=pi(r)),r.flags|=65536,l?a.substring(0,n.length)!==n&&(r.key=n+a):ns(a)?r.key=o:r.key=n+a}e.push(r)}}}}function sJ(i){switch(i){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case GQ:return 8192;default:return 1}}function uM(i,e){var t,n=1;if(Yh(e))t=e;else if(Ng(e))n=16,t=e;else if(qh(e)){for(var s=e.length,r=0;r<s;++r){var o=e[r];if(Yh(o)||qh(o)){t=t||e.slice(0,r),cM(e,t,r,"");break}else if(Ng(o))t=t||e.slice(0,r),t.push(Lp(o,dh+r));else{var a=o.key,l=(o.flags&81920)>0,d=ns(a),c=Xh(a)&&a[0]===dh;l||d||c?(t=t||e.slice(0,r),(l||c)&&(o=pi(o)),(d||c)&&(o.key=dh+r),t.push(o)):t&&t.push(o),o.flags|=65536}}t=t||e,t.length===0?n=1:n=8}else t=e,t.flags|=65536,e.flags&81920&&(t=pi(e)),n=2;return i.children=t,i.childFlags=n,i}function n_(i){return Yh(i)||Ng(i)?Lp(i,null):qh(i)?Wo(i,0,null):i.flags&16384?pi(i):i}var dl="http://www.w3.org/1999/xlink",xx="http://www.w3.org/XML/1998/namespace",EA={"xlink:actuate":dl,"xlink:arcrole":dl,"xlink:href":dl,"xlink:role":dl,"xlink:show":dl,"xlink:title":dl,"xlink:type":dl,"xml:base":xx,"xml:lang":xx,"xml:space":xx};function i_(i){return{onClick:i,onDblClick:i,onFocusIn:i,onFocusOut:i,onKeyDown:i,onKeyPress:i,onKeyUp:i,onMouseDown:i,onMouseMove:i,onMouseUp:i,onTouchEnd:i,onTouchMove:i,onTouchStart:i}}var hM=i_(0),uC=i_(null),pM=i_(!0);function IA(i,e){var t=e.$EV;return t||(t=e.$EV=i_(null)),t[i]||++hM[i]===1&&(uC[i]=hJ(i)),t}function fM(i,e){var t=e.$EV;t&&t[i]&&(--hM[i]===0&&(document.removeEventListener(pS(i),uC[i]),uC[i]=null),t[i]=null)}function rJ(i,e,t,n){if(sn(t))IA(i,n)[i]=t;else if(hS(t)){if(lM(e,t))return;IA(i,n)[i]=t}else fM(i,n)}function oJ(i){return sn(i.composedPath)?i.composedPath()[0]:i.target}function mM(i,e,t,n){var s=oJ(i);do{if(e&&s.disabled)return;var r=s.$EV;if(r){var o=r[t];if(o&&(n.dom=s,o.event?o.event(o.data,i):o(i),i.cancelBubble))return}s=s.parentNode}while(!ns(s))}function aJ(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function lJ(){return this.defaultPrevented}function dJ(){return this.cancelBubble}function gM(i){var e={dom:document};return i.isDefaultPrevented=lJ,i.isPropagationStopped=dJ,i.stopPropagation=aJ,Object.defineProperty(i,"currentTarget",{configurable:!0,get:function(){return e.dom}}),e}function cJ(i){return function(e){if(e.button!==0){e.stopPropagation();return}mM(e,!0,i,gM(e))}}function uJ(i){return function(e){mM(e,!1,i,gM(e))}}function hJ(i){var e=i==="onClick"||i==="onDblClick"?cJ(i):uJ(i);return document.addEventListener(pS(i),e),e}function pJ(i,e){var t=document.createElement("i");return t.innerHTML=e,t.innerHTML===i.innerHTML}function TA(i,e,t){if(i[e]){var n=i[e];n.event?n.event(n.data,t):n(t)}else{var s=e.toLowerCase();i[s]&&i[s](t)}}function $p(i,e){var t=function(s){var r=this.$V;if(r){var o=r.props||hi,a=r.dom;if(Xh(i))TA(o,i,s);else for(var l=0;l<i.length;++l)TA(o,i[l],s);if(sn(e)){var d=this.$V,c=d.props||hi;e(c,a,!1,d)}}};return Object.defineProperty(t,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),t}function Nl(i,e,t){var n="$"+e,s=i[n];if(s){if(s[1].wrapped)return;i.removeEventListener(s[0],s[1]),i[n]=null}sn(t)&&(i.addEventListener(e,t),i[n]=[e,t])}function mS(i){return i==="checkbox"||i==="radio"}var fJ=$p("onInput",gS),mJ=$p(["onClick","onChange"],gS);function _M(i){i.stopPropagation()}_M.wrapped=!0;function gJ(i,e){mS(e.type)?(Nl(i,"change",mJ),Nl(i,"click",_M)):Nl(i,"input",fJ)}function gS(i,e){var t=i.type,n=i.value,s=i.checked,r=i.multiple,o=i.defaultValue,a=!zt(n);t&&t!==e.type&&e.setAttribute("type",t),!zt(r)&&r!==e.multiple&&(e.multiple=r),!zt(o)&&!a&&(e.defaultValue=o+""),mS(t)?(a&&(e.value=n),zt(s)||(e.checked=s)):a&&e.value!==n?(e.defaultValue=n,e.value=n):zt(s)||(e.checked=s)}function zu(i,e){if(i.type==="option")_J(i,e);else{var t=i.children,n=i.flags;if(n&4)zu(t.$LI,e);else if(n&8)zu(t,e);else if(i.childFlags===2)zu(t,e);else if(i.childFlags&12)for(var s=0,r=t.length;s<r;++s)zu(t[s],e)}}function _J(i,e){var t=i.props||hi,n=i.dom;n.value=t.value,t.value===e||qh(e)&&e.indexOf(t.value)!==-1?n.selected=!0:(!zt(e)||!zt(t.selected))&&(n.selected=t.selected||!1)}var vJ=$p("onChange",vM);function xJ(i){Nl(i,"change",vJ)}function vM(i,e,t,n){var s=!!i.multiple;!zt(i.multiple)&&s!==e.multiple&&(e.multiple=s);var r=i.selectedIndex;r===-1&&(e.selectedIndex=-1);var o=n.childFlags;if(o!==1){var a=i.value;UQ(r)&&r>-1&&e.options[r]&&(a=e.options[r].value),t&&zt(a)&&(a=i.defaultValue),zu(n,a)}}var bJ=$p("onInput",xM),yJ=$p("onChange");function CJ(i,e){Nl(i,"input",bJ),e.onChange&&Nl(i,"change",yJ)}function xM(i,e,t){var n=i.value,s=e.value;if(zt(n)){if(t){var r=i.defaultValue;!zt(r)&&r!==s&&(e.defaultValue=r,e.value=r)}}else s!==n&&(e.defaultValue=n,e.value=n)}function bM(i,e,t,n,s,r){i&64?gS(n,t):i&256?vM(n,t,s,e):i&128&&xM(n,t,s),r&&(t.$V=e)}function wJ(i,e,t){i&64?gJ(e,t):i&256?xJ(e):i&128&&CJ(e,t)}function yM(i){return i.type&&mS(i.type)?!zt(i.checked):!zt(i.value)}function Hn(){return{current:null}}function Vg(i){i&&!fS(i,null)&&i.current&&(i.current=null)}function Hp(i,e,t){i&&(sn(i)||i.current!==void 0)&&t.push(function(){!fS(i,e)&&i.current!==void 0&&(i.current=e)})}function wr(i,e,t){Io(i,t),J0(i,e,t)}function Io(i,e){var t=i.flags,n=i.children,s;if(t&481){s=i.ref;var r=i.props;Vg(s);var o=i.childFlags;if(!ns(r))for(var a=Object.keys(r),l=0,d=a.length;l<d;l++){var c=a[l];pM[c]&&fM(c,i.dom)}o&12?Qh(n,e):o===2&&Io(n,e)}else if(n)if(t&4){sn(n.componentWillUnmount)&&n.componentWillUnmount();var h=e;sn(n.componentWillDisappear)&&(h=new Ql,DA(e,n,n.$LI.dom,t,void 0)),Vg(i.ref),n.$UN=!0,Io(n.$LI,h)}else if(t&8){var u=e;if(s=i.ref,!zt(s)){var p=null;sn(s.onComponentWillUnmount)&&(p=Cs(i,!0),s.onComponentWillUnmount(p,i.props||hi)),sn(s.onComponentWillDisappear)&&(u=new Ql,p=p||Cs(i,!0),DA(e,s,p,t,i.props))}Io(n,u)}else t&1024?wr(n,i.ref,e):t&8192&&i.childFlags&12&&Qh(n,e)}function Qh(i,e){for(var t=0,n=i.length;t<n;++t)Io(i[t],e)}function SJ(i,e){return function(){if(e)for(var t=0;t<i.length;t++){var n=i[t];Q0(n,e,!1)}}}function Tm(i,e,t){t.componentWillDisappear.length>0?Z0(t.componentWillDisappear,SJ(e,i)):i.textContent=""}function Dm(i,e,t,n){Qh(t,n),e.flags&8192?J0(e,i,n):Tm(i,t,n)}function DA(i,e,t,n,s){i.componentWillDisappear.push(function(r){n&4?e.componentWillDisappear(t,r):n&8&&e.onComponentWillDisappear(t,s,r)})}function EJ(i){var e=i.event;return function(t){e(i.data,t)}}function IJ(i,e,t,n){if(hS(t)){if(lM(e,t))return;t=EJ(t)}Nl(n,pS(i),t)}function TJ(i,e,t){if(zt(e)){t.removeAttribute("style");return}var n=t.style,s,r;if(Xh(e)){n.cssText=e;return}if(!zt(i)&&!Xh(i)){for(s in e)r=e[s],r!==i[s]&&n.setProperty(s,r);for(s in i)zt(e[s])&&n.removeProperty(s)}else for(s in e)r=e[s],n.setProperty(s,r)}function DJ(i,e,t,n,s){var r=i&&i.__html||"",o=e&&e.__html||"";r!==o&&!zt(o)&&!pJ(n,o)&&(ns(t)||(t.childFlags&12?Qh(t.children,s):t.childFlags===2&&Io(t.children,s),t.children=null,t.childFlags=1),n.innerHTML=o)}function hC(i,e,t,n,s,r,o,a){switch(i){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":n.autofocus=!!t;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":n[i]=!!t;break;case"defaultChecked":case"value":case"volume":if(r&&i==="value")break;var l=zt(t)?"":t;n[i]!==l&&(n[i]=l);break;case"style":TJ(e,t,n);break;case"dangerouslySetInnerHTML":DJ(e,t,o,n,a);break;default:pM[i]?rJ(i,e,t,n):i.charCodeAt(0)===111&&i.charCodeAt(1)===110?IJ(i,e,t,n):zt(t)?n.removeAttribute(i):s&&EA[i]?n.setAttributeNS(EA[i],i,t):n.setAttribute(i,t);break}}function CM(i,e,t,n,s,r){var o=!1,a=(e&448)>0;a&&(o=yM(t),o&&wJ(e,n,t));for(var l in t)hC(l,null,t[l],n,s,o,null,r);a&&bM(e,i,n,t,!0,o)}function wM(i,e,t){var n=n_(i.render(e,i.state,t)),s=t;return sn(i.getChildContext)&&(s=sl(t,i.getChildContext())),i.$CX=s,n}function SM(i,e,t,n,s,r){var o=new e(t,n),a=o.$N=!!(e.getDerivedStateFromProps||o.getSnapshotBeforeUpdate);if(o.$SVG=s,o.$L=r,i.children=o,o.$BS=!1,o.context=n,o.props===hi&&(o.props=t),a)o.state=aM(o,t,o.state);else if(sn(o.componentWillMount)){o.$BR=!0,o.componentWillMount();var l=o.$PS;if(!ns(l)){var d=o.state;if(ns(d))o.state=l;else for(var c in l)d[c]=l[c];o.$PS=null}o.$BR=!1}return o.$LI=wM(o,t,n),o}function _S(i,e){var t=i.props||hi;return i.flags&32768?i.type.render(t,i.ref,e):i.type(t,e)}function fi(i,e,t,n,s,r,o){var a=i.flags|=16384;a&481?IM(i,e,t,n,s,r,o):a&4?OJ(i,e,t,n,s,r,o):a&8?RJ(i,e,t,n,s,r,o):a&16?EM(i,e,s):a&8192?kJ(i,t,e,n,s,r,o):a&1024&&AJ(i,t,e,s,r,o)}function AJ(i,e,t,n,s,r){fi(i.children,i.ref,e,!1,null,s,r);var o=t_();EM(o,t,n),i.dom=o.dom}function kJ(i,e,t,n,s,r,o){var a=i.children,l=i.childFlags;l&12&&a.length===0&&(l=i.childFlags=2,a=i.children=t_()),l===2?fi(a,t,e,n,s,r,o):Vl(a,t,e,n,s,r,o)}function EM(i,e,t){var n=i.dom=document.createTextNode(i.children);ns(e)||X0(e,n,t)}function IM(i,e,t,n,s,r,o){var a=i.flags,l=i.props,d=i.className,c=i.childFlags,h=i.dom=qQ(i.type,n=n||(a&32)>0),u=i.children;if(!zt(d)&&d!==""&&(n?h.setAttribute("class",d):h.className=d),c===16)lh(h,u);else if(c!==1){var p=n&&i.type!=="foreignObject";c===2?(u.flags&16384&&(i.children=u=pi(u)),fi(u,h,t,p,null,r,o)):(c===8||c===4)&&Vl(u,h,t,p,null,r,o)}ns(e)||X0(e,h,s),ns(l)||CM(i,a,l,h,n,o),Hp(i.ref,h,r)}function Vl(i,e,t,n,s,r,o){for(var a=0;a<i.length;++a){var l=i[a];l.flags&16384&&(i[a]=l=pi(l)),fi(l,e,t,n,s,r,o)}}function OJ(i,e,t,n,s,r,o){var a=SM(i,i.type,i.props||hi,t,n,r),l=o;sn(a.componentDidAppear)&&(l=new Ql),fi(a.$LI,e,a.$CX,n,s,r,l),DM(i.ref,a,r,o)}function RJ(i,e,t,n,s,r,o){var a=i.ref,l=o;!zt(a)&&sn(a.onComponentDidAppear)&&(l=new Ql),fi(i.children=n_(_S(i,t)),e,t,n,s,r,l),AM(i,r,o)}function PJ(i){return function(){i.componentDidMount()}}function TM(i,e,t,n,s){i.componentDidAppear.push(function(){n&4?e.componentDidAppear(t):n&8&&e.onComponentDidAppear(t,s)})}function DM(i,e,t,n){Hp(i,e,t),sn(e.componentDidMount)&&t.push(PJ(e)),sn(e.componentDidAppear)&&TM(n,e,e.$LI.dom,4,void 0)}function MJ(i,e){return function(){i.onComponentDidMount(Cs(e,!0),e.props||hi)}}function AM(i,e,t){var n=i.ref;zt(n)||(fS(n.onComponentWillMount,i.props||hi),sn(n.onComponentDidMount)&&e.push(MJ(n,i)),sn(n.onComponentDidAppear)&&TM(t,n,Cs(i,!0),8,i.props))}function FJ(i,e,t,n,s,r,o){Io(i,o),e.flags&i.flags&1521?(fi(e,null,n,s,null,r,o),YQ(t,e.dom,i.dom)):(fi(e,t,n,s,Cs(i,!0),r,o),J0(i,t,o))}function No(i,e,t,n,s,r,o,a){var l=e.flags|=16384;i.flags!==l||i.type!==e.type||i.key!==e.key||l&2048?i.flags&16384?FJ(i,e,t,n,s,o,a):fi(e,t,n,s,r,o,a):l&481?$J(i,e,n,s,l,o,a):l&4?zJ(i,e,t,n,s,r,o,a):l&8?WJ(i,e,t,n,s,r,o,a):l&16?UJ(i,e):l&8192?VJ(i,e,t,n,s,o,a):LJ(i,e,n,o,a)}function BJ(i,e,t){i!==e&&(i!==""?t.firstChild.nodeValue=e:lh(t,e))}function NJ(i,e){i.textContent!==e&&(i.textContent=e)}function VJ(i,e,t,n,s,r,o){var a=i.children,l=e.children,d=i.childFlags,c=e.childFlags,h=null;c&12&&l.length===0&&(c=e.childFlags=2,l=e.children=t_());var u=(c&2)!==0;if(d&12){var p=a.length;(d&8&&c&8||u||!u&&l.length>p)&&(h=Cs(a[p-1],!1).nextSibling)}vS(d,c,a,l,t,n,s,h,i,r,o)}function LJ(i,e,t,n,s){var r=i.ref,o=e.ref,a=e.children;if(vS(i.childFlags,e.childFlags,i.children,a,r,t,!1,null,i,n,s),e.dom=i.dom,r!==o&&!Yh(a)){var l=a.dom;sM(r,l),iM(o,l)}}function $J(i,e,t,n,s,r,o){var a=e.dom=i.dom,l=i.props,d=e.props,c=!1,h=!1,u;if(n=n||(s&32)>0,l!==d){var p=l||hi;if(u=d||hi,u!==hi){c=(s&448)>0,c&&(h=yM(u));for(var f in u){var g=p[f],m=u[f];g!==m&&hC(f,g,m,a,n,h,i,o)}}if(p!==hi)for(var v in p)zt(u[v])&&!zt(p[v])&&hC(v,p[v],null,a,n,h,i,o)}var _=e.children,x=e.className;i.className!==x&&(zt(x)?a.removeAttribute("class"):n?a.setAttribute("class",x):a.className=x),s&4096?NJ(a,_):vS(i.childFlags,e.childFlags,i.children,_,a,t,n&&e.type!=="foreignObject",null,i,r,o),c&&bM(s,e,a,u,!1,h);var y=e.ref,T=i.ref;T!==y&&(Vg(T),Hp(y,a,r))}function HJ(i,e,t,n,s,r,o){Io(i,o),Vl(e,t,n,s,Cs(i,!0),r,o),J0(i,t,o)}function vS(i,e,t,n,s,r,o,a,l,d,c){switch(i){case 2:switch(e){case 2:No(t,n,s,r,o,a,d,c);break;case 1:wr(t,s,c);break;case 16:Io(t,c),lh(s,n);break;default:HJ(t,n,s,r,o,d,c);break}break;case 1:switch(e){case 2:fi(n,s,r,o,a,d,c);break;case 1:break;case 16:lh(s,n);break;default:Vl(n,s,r,o,a,d,c);break}break;case 16:switch(e){case 16:BJ(t,n,s);break;case 2:Tm(s,t,c),fi(n,s,r,o,a,d,c);break;case 1:Tm(s,t,c);break;default:Tm(s,t,c),Vl(n,s,r,o,a,d,c);break}break;default:switch(e){case 16:Qh(t,c),lh(s,n);break;case 2:Dm(s,l,t,c),fi(n,s,r,o,a,d,c);break;case 1:Dm(s,l,t,c);break;default:var h=t.length|0,u=n.length|0;h===0?u>0&&Vl(n,s,r,o,a,d,c):u===0?Dm(s,l,t,c):e===8&&i===8?GJ(t,n,s,r,o,h,u,a,l,d,c):KJ(t,n,s,r,o,h,u,a,d,c);break}break}}function jJ(i,e,t,n,s){s.push(function(){i.componentDidUpdate(e,t,n)})}function kM(i,e,t,n,s,r,o,a,l,d){var c=i.state,h=i.props,u=!!i.$N,p=sn(i.shouldComponentUpdate);if(u&&(e=aM(i,t,e!==c?sl(c,e):e)),o||!p||p&&i.shouldComponentUpdate(t,e,s)){!u&&sn(i.componentWillUpdate)&&i.componentWillUpdate(t,e,s),i.props=t,i.state=e,i.context=s;var f=null,g=wM(i,t,s);u&&sn(i.getSnapshotBeforeUpdate)&&(f=i.getSnapshotBeforeUpdate(h,c)),No(i.$LI,g,n,i.$CX,r,a,l,d),i.$LI=g,sn(i.componentDidUpdate)&&jJ(i,h,c,f,l)}else i.props=t,i.state=e,i.context=s}function zJ(i,e,t,n,s,r,o,a){var l=e.children=i.children;if(!ns(l)){l.$L=o;var d=e.props||hi,c=e.ref,h=i.ref,u=l.state;if(!l.$N){if(sn(l.componentWillReceiveProps)){if(l.$BR=!0,l.componentWillReceiveProps(d,n),l.$UN)return;l.$BR=!1}ns(l.$PS)||(u=sl(u,l.$PS),l.$PS=null)}kM(l,u,d,t,n,s,!1,r,o,a),h!==c&&(Vg(h),Hp(c,l,o))}}function WJ(i,e,t,n,s,r,o,a){var l=!0,d=e.props||hi,c=e.ref,h=i.props,u=!zt(c),p=i.children;if(u&&sn(c.onComponentShouldUpdate)&&(l=c.onComponentShouldUpdate(h,d)),l!==!1){u&&sn(c.onComponentWillUpdate)&&c.onComponentWillUpdate(h,d);var f=n_(_S(e,n));No(p,f,t,n,s,r,o,a),e.children=f,u&&sn(c.onComponentDidUpdate)&&c.onComponentDidUpdate(h,d)}else e.children=p}function UJ(i,e){var t=e.children,n=e.dom=i.dom;t!==i.children&&(n.nodeValue=t)}function KJ(i,e,t,n,s,r,o,a,l,d){for(var c=r>o?o:r,h=0,u,p;h<c;++h)u=e[h],p=i[h],u.flags&16384&&(u=e[h]=pi(u)),No(p,u,t,n,s,a,l,d),i[h]=u;if(r<o)for(h=c;h<o;++h)u=e[h],u.flags&16384&&(u=e[h]=pi(u)),fi(u,t,n,s,a,l,d);else if(r>o)for(h=c;h<r;++h)wr(i[h],t,d)}function GJ(i,e,t,n,s,r,o,a,l,d,c){var h=r-1,u=o-1,p=0,f=i[p],g=e[p],m,v;e:{for(;f.key===g.key;){if(g.flags&16384&&(e[p]=g=pi(g)),No(f,g,t,n,s,a,d,c),i[p]=g,++p,p>h||p>u)break e;f=i[p],g=e[p]}for(f=i[h],g=e[u];f.key===g.key;){if(g.flags&16384&&(e[u]=g=pi(g)),No(f,g,t,n,s,a,d,c),i[h]=g,h--,u--,p>h||p>u)break e;f=i[h],g=e[u]}}if(p>h){if(p<=u)for(m=u+1,v=m<o?Cs(e[m],!0):a;p<=u;)g=e[p],g.flags&16384&&(e[p]=g=pi(g)),++p,fi(g,t,n,s,v,d,c)}else if(p>u)for(;p<=h;)wr(i[p++],t,c);else qJ(i,e,n,r,o,h,u,p,t,s,a,l,d,c)}function qJ(i,e,t,n,s,r,o,a,l,d,c,h,u,p){var f,g,m=0,v=0,_=a,x=a,y=r-a+1,T=o-a+1,O=new Int32Array(T+1),L=y===n,R=!1,$=0,V=0;if(s<4||(y|T)<32)for(v=_;v<=r;++v)if(f=i[v],V<T){for(a=x;a<=o;a++)if(g=e[a],f.key===g.key){if(O[a-x]=v+1,L)for(L=!1;_<v;)wr(i[_++],l,p);$>a?R=!0:$=a,g.flags&16384&&(e[a]=g=pi(g)),No(f,g,l,t,d,c,u,p),++V;break}!L&&a>o&&wr(f,l,p)}else L||wr(f,l,p);else{var z={};for(v=x;v<=o;++v)z[e[v].key]=v;for(v=_;v<=r;++v)if(f=i[v],V<T)if(a=z[f.key],a!==void 0){if(L)for(L=!1;v>_;)wr(i[_++],l,p);O[a-x]=v+1,$>a?R=!0:$=a,g=e[a],g.flags&16384&&(e[a]=g=pi(g)),No(f,g,l,t,d,c,u,p),++V}else L||wr(f,l,p);else L||wr(f,l,p)}if(L)Dm(l,h,i,p),Vl(e,l,t,d,c,u,p);else if(R){var H=YJ(O);for(a=H.length-1,v=T-1;v>=0;v--)O[v]===0?($=v+x,g=e[$],g.flags&16384&&(e[$]=g=pi(g)),m=$+1,fi(g,l,t,d,m<s?Cs(e[m],!0):c,u,p)):a<0||v!==H[a]?($=v+x,g=e[$],m=$+1,oM(h,g,l,m<s?Cs(e[m],!0):c,p)):a--;p.componentWillMove.length>0&&ZQ(p.componentWillMove)}else if(V!==T)for(v=T-1;v>=0;v--)O[v]===0&&($=v+x,g=e[$],g.flags&16384&&(e[$]=g=pi(g)),m=$+1,fi(g,l,t,d,m<s?Cs(e[m],!0):c,u,p))}var so,jf,AA=0;function YJ(i){var e=0,t=0,n=0,s=0,r=0,o=0,a=0,l=i.length;for(l>AA&&(AA=l,so=new Int32Array(l),jf=new Int32Array(l));t<l;++t)if(e=i[t],e!==0){if(n=so[s],i[n]<e){jf[t]=n,so[++s]=t;continue}for(r=0,o=s;r<o;)a=r+o>>1,i[so[a]]<e?r=a+1:o=a;e<i[so[r]]&&(r>0&&(jf[t]=so[r-1]),so[r]=t)}r=s+1;var d=new Int32Array(r);for(o=so[r-1];r-- >0;)d[r]=o,o=jf[o],so[r]=0;return d}var XJ=typeof document<"u";XJ&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);function ZJ(i,e,t,n){var s=[],r=new Ql,o=e.$V;Zh.v=!0,zt(o)?zt(i)||(i.flags&16384&&(i=pi(i)),fi(i,e,n,!1,null,s,r),e.$V=i,o=i):zt(i)?(wr(o,e,r),e.$V=null):(i.flags&16384&&(i=pi(i)),No(o,i,e,n,!1,null,s,r),o=e.$V=i),rM(s),Z0(r.componentDidAppear),Zh.v=!1,sn(t)&&t(),sn(SA.renderComplete)&&SA.renderComplete(o,e)}function Jh(i,e,t,n){t===void 0&&(t=null),n===void 0&&(n=hi),ZJ(i,e,t,n)}var Am=[],QJ=typeof Promise<"u"?Promise.resolve().then.bind(Promise.resolve()):function(i){window.setTimeout(i,0)},pC=!1;function kA(i,e,t,n){var s=i.$PS;if(sn(e)&&(e=e(s?sl(i.state,s):i.state,i.props,i.context)),zt(s))i.$PS=e;else for(var r in e)s[r]=e[r];if(i.$BR)sn(t)&&i.$L.push(t.bind(i));else{if(!Zh.v&&Am.length===0){RM(i,n),sn(t)&&t.call(i);return}if(Am.indexOf(i)===-1&&Am.push(i),n&&(i.$F=!0),pC||(pC=!0,QJ(OM)),sn(t)){var o=i.$QU;o||(o=i.$QU=[]),o.push(t)}}}function JJ(i){for(var e=i.$QU,t=0;t<e.length;++t)e[t].call(i);i.$QU=null}function OM(){var i;for(pC=!1;i=Am.shift();)if(!i.$UN){var e=i.$F;i.$F=!1,RM(i,e),i.$QU&&JJ(i)}}function RM(i,e){if(e||!i.$BR){var t=i.$PS;i.$PS=null;var n=[],s=new Ql;Zh.v=!0,kM(i,sl(i.state,t),i.props,Cs(i.$LI,!0).parentNode,i.context,i.$SVG,e,null,n,s),rM(n),Z0(s.componentDidAppear),Zh.v=!1}else i.state=i.$PS,i.$PS=null}var xS=function(){function i(t,n){this.state=null,this.props=void 0,this.context=void 0,this.displayName=void 0,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$SSR=void 0,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=t||hi,this.context=n||hi}var e=i.prototype;return e.forceUpdate=function(n){this.$UN||kA(this,{},n,!0)},e.setState=function(n,s){this.$UN||this.$BS||kA(this,n,s,!1)},e.render=function(n,s,r){return null},i}();xS.defaultProps=null;const aa={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(this.lockCount===0){const i=this.callbacks;this.callbacks=[],i.forEach(e=>e())}}},bx=(i,e)=>{if(!(i instanceof Object&&e instanceof Object))return i===e;const n=Object.keys(i),s=Object.keys(e);return n.length!==s.length?!1:!n.some(o=>i[o]!==e[o])};class ws extends xS{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(e,t){this._pendingContext=t??{}}shouldComponentUpdate(e,t){return!bx(this.props,e)||!bx(this.state,t)||!bx(this.context,this._pendingContext)}}class Uo extends ws{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){aa.lock()}componentWillUpdate(e,t,n){aa.lock()}componentDidMount(){aa.callbacks.push(()=>{this._effects=this.createEffects()}),aa.callEffects()}componentDidUpdate(){aa.callbacks.push(()=>this.updateEffects()),aa.callEffects()}destroyEffects(){this._effects.forEach(e=>e.dispose())}componentWillUnmount(){this.destroyEffects()}}class jp extends Uo{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){var e;const t=this.vDomElement,n=(e=t.className)!==null&&e!==void 0&&e.length?t.className.split(" "):[],s=n.filter(o=>!t.dxClasses.previous.includes(o)),r=t.dxClasses.previous.filter(o=>!n.includes(o));s.forEach(o=>{const a=t.dxClasses.removed.indexOf(o);a>-1&&t.dxClasses.removed.splice(a,1),t.dxClasses.added.includes(o)||t.dxClasses.added.push(o)}),r.forEach(o=>{const a=t.dxClasses.added.indexOf(o);a>-1&&t.dxClasses.added.splice(a,1),t.dxClasses.removed.includes(o)||t.dxClasses.removed.push(o)})}componentDidMount(){var e;const t=Cs(this.$LI,!0);this.vDomElement=t,super.componentDidMount(),t.dxClasses=t.dxClasses||{removed:[],added:[],previous:[]},t.dxClasses.previous=t!=null&&(e=t.className)!==null&&e!==void 0&&e.length?t.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();const e=this.vDomElement;if(e!==null){var t;e.dxClasses.added.forEach(n=>e.classList.add(n)),e.dxClasses.removed.forEach(n=>e.classList.remove(n)),e.dxClasses.previous=(t=e.className)!==null&&t!==void 0&&t.length?e.className.split(" "):[]}}shouldComponentUpdate(e,t){const n=super.shouldComponentUpdate(e,t);return n&&this.vDomUpdateClasses(),n}}let eee=0;const bS=function(i){const e=eee++;return{id:e,defaultValue:i,Provider:class extends xS{getChildContext(){return Object.assign({},this.context,{[e]:this.props.value||i})}render(){return this.props.children}}}};class An{constructor(e,t){this.dependency=t,this.effect=e,this.destroy=e()}update(e){const t=this.dependency;e&&(this.dependency=e),(!e||e.some((n,s)=>t[s]!==n))&&(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}}const tee="a runtime error occured! Use Inferno in development environment to find the error.";function nee(i){return i==null}function iee(i){return i===null||i===!1||i===!0||i===void 0}function ic(i){return i===null}function see(i){throw i||(i=tee),new Error(`Inferno Error: ${i}`)}var Ei;(function(i){i[i.HtmlElement=1]="HtmlElement",i[i.ComponentUnknown=2]="ComponentUnknown",i[i.ComponentClass=4]="ComponentClass",i[i.ComponentFunction=8]="ComponentFunction",i[i.Text=16]="Text",i[i.SvgElement=32]="SvgElement",i[i.InputElement=64]="InputElement",i[i.TextareaElement=128]="TextareaElement",i[i.SelectElement=256]="SelectElement",i[i.Void=512]="Void",i[i.Portal=1024]="Portal",i[i.ReCreate=2048]="ReCreate",i[i.ContentEditable=4096]="ContentEditable",i[i.Fragment=8192]="Fragment",i[i.InUse=16384]="InUse",i[i.ForwardRef=32768]="ForwardRef",i[i.Normalized=65536]="Normalized",i[i.ForwardRefComponent=32776]="ForwardRefComponent",i[i.FormElement=448]="FormElement",i[i.Element=481]="Element",i[i.Component=14]="Component",i[i.DOMRef=2033]="DOMRef",i[i.InUseOrNormalized=81920]="InUseOrNormalized",i[i.ClearInUse=-16385]="ClearInUse",i[i.ComponentKnown=12]="ComponentKnown"})(Ei||(Ei={}));var ya;(function(i){i[i.UnknownChildren=0]="UnknownChildren",i[i.HasInvalidChildren=1]="HasInvalidChildren",i[i.HasVNodeChildren=2]="HasVNodeChildren",i[i.HasNonKeyedChildren=4]="HasNonKeyedChildren",i[i.HasKeyedChildren=8]="HasKeyedChildren",i[i.HasTextChildren=16]="HasTextChildren",i[i.MultipleChildren=12]="MultipleChildren"})(ya||(ya={}));function ree(i,e){const t=document.createElement("i");return t.innerHTML=e,t.innerHTML===i.innerHTML}function oee(i){let e,t;for(;i;){if(e=i.flags,e&Ei.DOMRef)return i.dom;t=i.children,e&Ei.Fragment?i=i.childFlags===ya.HasVNodeChildren?t:t[t.length-1]:e&Ei.ComponentClass?i=t.$LI:i=t}return null}function aee(i,e){return!!(e&&e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html&&ree(i,e.dangerouslySetInnerHTML.__html))}function lee(i,e,t,n,s,r,o,a){const l=i.type,d=i.ref,c=i.props||hi;let h;if(r){const u=SM(i,l,c,n,s,o),p=u.$LI;h=ep(p,e,t,u.$CX,s,o,a),DM(d,u,o,a)}else{const u=n_(_S(i,n));h=ep(u,e,t,n,s,o,a),i.children=u,AM(i,o,a)}return h}function PM(i,e,t,n,s,r,o){const a=i.childFlags,l=i.children,d=i.props,c=i.flags;if(a!==ya.HasInvalidChildren){if(a===ya.HasVNodeChildren)ic(t)?fi(l,e,n,s,null,r,o):(t=ep(l,e,t,n,s,r,o),t=t?t.nextSibling:null);else if(a===ya.HasTextChildren)ic(t)?e.appendChild(document.createTextNode(l)):e.childNodes.length!==1||t.nodeType!==3?e.textContent=l:t.nodeValue!==l&&(t.nodeValue=l),t=null;else if(a&ya.MultipleChildren){let h=!1;for(let u=0,p=l.length;u<p;++u){const f=l[u];ic(t)||h&&(f.flags&Ei.Text)>0?fi(f,e,n,s,t,r,o):(t=ep(f,e,t,n,s,r,o),t=t?t.nextSibling:null),h=(f.flags&Ei.Text)>0}}if(!(c&Ei.Fragment)){let h=null;for(;t;)h=t.nextSibling,e.removeChild(t),t=h}}else!ic(e.firstChild)&&!aee(e,d)&&(e.textContent="",c&Ei.FormElement&&(e.defaultValue=""))}function dee(i,e,t,n,s,r,o){const a=i.props,l=i.className,d=i.flags,c=i.ref;return s=s||(d&Ei.SvgElement)>0,t.nodeType!==1?(IM(i,null,n,s,null,r,o),e.replaceChild(i.dom,t)):(i.dom=t,PM(i,t,t.firstChild,n,s,r,o),ic(a)||CM(i,d,a,t,s,o),nee(l)?t.className!==""&&t.removeAttribute("class"):s?t.setAttribute("class",l):t.className=l,Hp(c,t,r)),i.dom}function MM(i,e,t){if(t.nodeType!==3)e.replaceChild(i.dom=document.createTextNode(i.children),t);else{const n=i.children;t.nodeValue!==n&&(t.nodeValue=n),i.dom=t}return i.dom}function cee(i,e,t,n,s,r,o){const a=i.children;return i.childFlags===ya.HasVNodeChildren?(MM(a,e,t),a.dom):(PM(i,e,t,n,s,r,o),oee(a[a.length-1]))}function ep(i,e,t,n,s,r,o){const a=i.flags|=Ei.InUse;return a&Ei.Component?lee(i,e,t,n,s,(a&Ei.ComponentClass)>0,r,o):a&Ei.Element?dee(i,e,t,n,s,r,o):a&Ei.Text?MM(i,e,t):a&Ei.Void?i.dom=t:a&Ei.Fragment?cee(i,e,t,n,s,r,o):(see(),null)}function OA(i,e,t){let n=e.firstChild;if(ic(n))Jh(i,e,t);else{const s=[],r=new Ql;for(iee(i)||(n=ep(i,e,n,{},!1,s,r));n&&(n=n.nextSibling);)e.removeChild(n);if(s.length>0){let o;for(;(o=s.shift())!==void 0;)o()}}e.$V=i}const uee=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),hee=i=>typeof i=="number"?!0:!Number.isNaN(Number(i)),pee=(i,e)=>uee.has(i)?e:`${e}px`,fee=/[A-Z]/g,mee=i=>i.replace(fee,"-$&").toLowerCase();function gee(i){if(i instanceof Object)return Object.entries(i).reduce((e,t)=>{let[n,s]=t;return e[mee(n)]=hee(s)?pee(n,s):s,e},{})}const zp=()=>new An(()=>{OM()},[]);function RA(i){return i==null}function _ee(i){return typeof i=="string"}function PA(i){return i===void 0}var vee={onComponentDidAppear:1,onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillDisappear:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function km(i,e,t){var n,s=null,r=null,o=null,a,l,d=arguments.length-2;if(d===1)n=t;else if(d>1)for(n=[];d-- >0;)n[d]=arguments[d+2];if(_ee(i)){if(a=sJ(i),!RA(e)){l={};for(var c in e)c==="className"||c==="class"?o=e[c]:c==="key"?r=e.key:c==="children"&&PA(n)?n=e.children:c==="ref"?s=e.ref:(c==="contenteditable"&&(a|=4096),l[c]=e[c])}}else{if(a=2,PA(n)||(e||(e={}),e.children=n),!RA(e)){l={};for(var h in e)h==="key"?r=e.key:h==="ref"?s=e.ref:vee[h]===1?(s||(s={}),s[h]=e[h]):l[h]=e[h]}return _n(a,i,l,r,s)}return a&8192?Wo(d===1?[n]:n,0,r):Un(a,i,o,n,0,l,r,s)}const xee=i=>{var e,t;return((e=i.container)===null||e===void 0?void 0:e.get(0))||((t=i.item)===null||t===void 0?void 0:t.get(0))};function bee(i,e,t){setTimeout(()=>{Jh(km(i,e),xee(e))},0)}const yee=(i,e,t)=>{const n=e[i];return!!n&&typeof n!="string"},MA=i=>{const{parentNode:e}=i;if(e){const{nextSibling:t}=i;_p(i),e.$V=i.$V,Jh(null,e),e.insertBefore(i,t),i.innerHTML="",delete e.$V}delete i.$V},Td=cr({createElement:(i,e)=>km(i,e),remove:MA,onAfterRender:()=>{aa.callEffects()},onPreRender:()=>{aa.lock()},render:(i,e,t,n)=>{if(n)Jh(km(i,e),t);else{const{parentNode:s}=t,r=t==null?void 0:t.nextSibling,o=ve.createElement("div");o.appendChild(t);const a=ve.createDocumentFragment().appendChild(o);!!t.$V&&MA(t),OA(km(i,e),a),t.$V=a.$V,s&&s.insertBefore(t,r)}},renderIntoContainer:(i,e,t)=>{t?Jh(i,e):OA(i,e)}}),Cee=(i,e)=>Object.keys(i).length!==Object.keys(e).length?!1:Object.entries(i).every(t=>{let[n,s]=t;const r=e[n];return s instanceof Date&&r instanceof Date?s.getTime()===r.getTime():s===r}),wee=["isEqual"],See=i=>!!i.toArray,Eee=(i,e)=>{const t={template:e,model:Object.assign({},i)},n=i.data??{},{isEqual:s}=n,r=Hs(n,wee);return s&&(t.model.data=r,t.isEqual=s),t},Iee=(i,e)=>{const{data:t,index:n}=i.model??{data:{}};t&&Object.keys(t).forEach(r=>{t[r]&&ve.isNode(t[r])&&(t[r]=We(M(t[r])))});const s=i.template.render(Object.assign({container:e,transclude:i.transclude},{renovated:i.renovated},i.transclude?{}:{model:t},!i.transclude&&Number.isFinite(n)?{index:n}:{}));return s===void 0?[]:See(s)?s.toArray():[M(s).get(0)]},Tee=(i,e)=>{e.forEach(t=>{!!!i.find(s=>t===s)&&t.parentNode&&M(t).remove()})};let FA=class extends Uo{constructor(e){super(e),this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){const e=Cs(this.$LI,!0);if(!(e!=null&&e.parentNode))return()=>{};const t=e.parentNode,n=M(t),s=n.contents().toArray(),r=Iee(this.props,We(n));return oP(M(e),M(r)),()=>{const o=M(t).contents().toArray();Tee(s,o),t.appendChild(e)}}shouldComponentUpdate(e){const{template:t,model:n}=this.props,{template:s,model:r,isEqual:o}=e,a=o??Cee;if(t!==s)return!0;if(!G(n)||!G(r))return n!==r;const{data:l,index:d}=n,{data:c,index:h}=r;return d!==h?!0:!G(l)||!G(c)?n!==r:!a(l,c)}createEffects(){return[new An(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}};const fC=i=>i&&(i.defaultProps?e=>Zr(_n(2,i,Object.assign({},e))):i),yx=i=>Array.isArray(i)?[...i]:Object.assign({},i),FM=(i,e,t)=>{const n=t.length>0&&e&&i!==e?yx(e):yx(i),s=t[0];return t.length>1?n[s]=FM(i[s],e==null?void 0:e[s],t.slice(1)):s&&(ot(i[s])?n[s]=yx(i[s]):n[s]=i[s]),n},Dee=(i,e,t,n)=>{const s=e[t],r=i[t],o=i;ot(s)||t!==n&&Array.isArray(s)?o[t]=FM(s,r,rd(n).slice(1)):o[t]=s},Cx=(i,e)=>t=>{Object.prototype.hasOwnProperty.call(i,t)&&i[t]===void 0&&(i[t]=e(t))};class Wp extends Ar{get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}constructor(e,t){super(e,t),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}validateKeyDownHandler(){const t=this.getSupportedKeyNames().length>0,n=typeof this._viewComponent.prototype.keyDown=="function";if(t&&!n)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var e;return(e=this._viewRef)===null||e===void 0?void 0:e.current}_checkContentReadyOption(e){const t=this._getContentReadyOptions().reduce((n,s)=>(n[s]=!0,n),{});return this._checkContentReadyOption=n=>!!t[n],this._checkContentReadyOption(e)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){const e=this._getViewComponentDefaultProps();return se(!0,super._getDefaultOptions(),e,this._propsInfo.twoWay.reduce((t,n)=>{let[s,r,o]=n;return Object.assign({},t,{[s]:e[r],[o]:a=>this.option(s,a)})},{}),this._propsInfo.templates.reduce((t,n)=>Object.assign({},t,{[n]:null}),{}))}_getUnwrappedOption(){const e={};return Object.keys(this.option()).forEach(t=>{e[t]=this.option(t)}),e}_initializeComponent(){var e;super._initializeComponent(),(e=this._templateManager)===null||e===void 0||e.addDefaultTemplates(this.getDefaultTemplates());const t=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(t),this._propsInfo.templates.forEach(n=>{this._componentTemplates[n]=this._createTemplateComponent(this._props[n])}),Object.keys(this._getActionConfigsFull()).forEach(n=>this._addAction(n)),this._viewRef=Hn(),this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){const e=this.getProps();this._renderWrapper(e)}_renderWrapper(e){const t=this.$element()[0];this._isNodeReplaced||Td.onPreRender(),Td.render(this._viewComponent,e,t,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,Td.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(e,t){this._options.silent(e,t)}_render(){}_removeWidget(){Td.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){const e=this.$element()[0];if(!this._elementAttr){const{attributes:s}=e,r=Array.from(s).filter(o=>{var a;return!this._propsInfo.templates.includes(o.name)&&((a=s[o.name])===null||a===void 0?void 0:a.specified)}).reduce((o,a)=>{let{name:l,value:d}=a;const c=o,h=l in e;return c[l]=d===""&&h?e[l]:d,c},{});this._elementAttr=r,this._storedClasses=e.getAttribute("class")||""}const t=e.style,n={};for(let s=0;s<t.length;s+=1)n[t[s]]=t.getPropertyValue(t[s]);return this._elementAttr.style=n,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(e){const{allowNull:t,twoWay:n,elements:s,props:r}=this._propsInfo,o=this._getViewComponentDefaultProps(),a=Object.keys(o),l=this._getDefaultOptions(),{ref:d,children:c,onKeyboardHandled:h}=e,p={ref:d,children:c,onKeyDown:h?(f,g)=>{h(g)}:void 0};return[...r,...this._getAdditionalProps()].forEach(f=>{Object.prototype.hasOwnProperty.call(e,f)&&(p[f]=e[f])}),t.forEach(Cx(p,()=>null)),a.forEach(Cx(p,f=>l[f])),n.forEach(f=>{let[g,m]=f;Cx(p,()=>l[m])(g)}),s.forEach(f=>{if(f in p){const g=p[f];Dr(g)&&(p[f]=this._patchElementParam(g))}}),p}getSupportedKeyNames(){return[]}prepareStyleProp(e){return typeof e.style=="string"?Object.assign({},e,{style:{},cssText:e.style}):e}getProps(){const{elementAttr:e}=this.option(),t=this._patchOptionValues(Object.assign({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(n=>{t[n]=this._componentTemplates[n]}),this.prepareStyleProp(Object.assign({},t,this.elementAttr,e,{className:[...(this.elementAttr.class??"").split(" "),...((e==null?void 0:e.class)??"").split(" ")].filter((n,s,r)=>n&&r.indexOf(n)===s).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return Object.assign({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){const e=Object.values(this._templatesInfo),t={};return e.forEach(n=>{t[n]="dx-renovation-template-mock"}),t}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(e){const t=Object.entries(this._templatesInfo).reduce((n,s)=>{let[r,o]=s;return Object.assign({},n,{[r]:e[r]??o})},{});return Object.assign({},e,t)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){const e={};return this.getSupportedKeyNames().forEach(n=>{e[n]=s=>this.viewRef.keyDown(K1.createKeyDownOptions(s))}),e}_addAction(e,t){let n=t;if(!n){const s=this._createActionByOption(e,this._getActionConfigsFull()[e]);n=r=>(Object.keys(r).forEach(o=>{G(r[o])&&ve.isNode(r[o])&&(r[o]=We(M(r[o])))}),s(r))}this._actionsMap[e]=n}_optionChanged(e){const{name:t,fullName:n,value:s,previousValue:r}=e;Dee(this._props,this.option(),t,n),this._propsInfo.templates.includes(t)&&s!==r&&(this._componentTemplates[t]=this._createTemplateComponent(s)),t&&this._getActionConfigsFull()[t]&&this._addAction(t),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(n),super._optionChanged(e),this._invalidate()}_validateOptions(e){return super._validateOptions(e)}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?Td.createElement(FA,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(e){if(!e)return;const t=this._getTemplate(e);if(!(Ke(t)&&t==="dx-renovation-template-mock"))return n=>Td.createElement(FA,Eee(n,t))}_wrapKeyDownHandler(e){return t=>{const{originalEvent:n,keyName:s,which:r}=t,o=this.customKeyHandlers,a=o[s]||o[r];return a!==void 0&&!a.bind(this)(n,t)?(n.cancel=!0,n):e==null?void 0:e(n,t)}}_toPublicElement(e){return We(M(e))}_patchElementParam(e){try{const t=M(e),n=t==null?void 0:t.get(0);return n!=null&&n.nodeType?n:e}catch{return e}}focus(){const e=this.$element();if(!(e.is(":focus")||e.find(":focus").length>0))if(this.option("focusStateEnabled"))e.focus();else{var n;(n=e.find("[tabindex]")[0])===null||n===void 0||n.focus()}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return Object.assign({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(e,t){this.customKeyHandlers[e]=t}setAria(e,t){this._aria[e]=t,this._initMarkup()}_getViewComponentDefaultProps(){return this._viewComponent.defaultProps||{}}}Wp.IS_RENOVATED_WIDGET=!1;Wp.IS_RENOVATED_WIDGET=!0;const Up={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0},Xi=bS(void 0),Aee={};class BM extends ws{constructor(){super(...arguments),this.__getterCache={}}get config(){return this.__getterCache.config!==void 0?this.__getterCache.config:this.__getterCache.config={rtlEnabled:this.props.rtlEnabled}}componentWillUpdate(e){this.props.rtlEnabled!==e.rtlEnabled&&(this.__getterCache.config=void 0)}getChildContext(){return Object.assign({},this.context,{[Xi.id]:this.config||Xi.defaultValue})}render(){return this.props.children}}BM.defaultProps=Aee;const Kp=i=>Object.keys(i).filter(e=>!!e&&i[e]).join(" ").split(" ").filter((e,t,n)=>n.indexOf(e)===t).join(" ");function kee(i,e){return i!==void 0?i:(e==null?void 0:e.rtlEnabled)!==void 0?e.rtlEnabled:Ot().rtlEnabled}function Oee(i,e){const t=G(i),n=G(Ot().rtlEnabled)&&!t&&!G(e==null?void 0:e.rtlEnabled);return t&&i!==(e==null?void 0:e.rtlEnabled)||n}function pd(i){return(e,t,n,s)=>{const r=s?be(i,s):i;if(t)return Y.on(e,r,n,t),()=>{Y.off(e,r,t)}}}const Ree=pd(Nt),Pee=pd("dxactive"),Mee=pd("dxinactive"),Fee=pd("dxhoverstart"),Bee=pd("dxhoverend"),Nee=pd("focusin"),Vee=pd("focusout"),Lee="dx-widget",$ee=i=>Object.keys(i).reduce((e,t)=>i[t]?Object.assign({},e,{[t==="role"||t==="id"?t:`aria-${t}`]:String(i[t])}):e,{}),NM=Object.assign({},Up,{_feedbackHideTimeout:400,_feedbackShowTimeout:30,cssText:"",aria:{},classes:"",name:"",addWidgetClass:!0});class s_ extends jp{constructor(e){super(e),this.state={active:!1,focused:!1,hovered:!1},this.refs=null,this.rootElementRef=Hn(),this.widgetElementRef=Hn(),this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}componentWillUpdate(e,t,n){super.componentWillUpdate(e,t,n)}getConfig(){return this.context[Xi.id]?this.context[Xi.id]:Xi.defaultValue}createEffects(){return[new An(this.setRootElementRef,[]),new An(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new An(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new An(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new An(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new An(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new An(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new An(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new An(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new An(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new An(this.windowResizeEffect,[this.props.onDimensionChanged]),new An(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new An(this.checkDeprecation,[this.props.height,this.props.width]),new An(this.applyCssTextEffect,[this.props.cssText]),zp()]}updateEffects(){var e,t,n,s,r,o,a,l,d,c,h,u,p;(e=this._effects[1])===null||e===void 0||e.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),(t=this._effects[2])===null||t===void 0||t.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),(n=this._effects[3])===null||n===void 0||n.update([this.props.disabled,this.props.name,this.props.onClick]),(s=this._effects[4])===null||s===void 0||s.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),(r=this._effects[5])===null||r===void 0||r.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),(o=this._effects[6])===null||o===void 0||o.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),(a=this._effects[7])===null||a===void 0||a.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),(l=this._effects[8])===null||l===void 0||l.update([this.props.focusStateEnabled,this.props.onKeyDown]),(d=this._effects[9])===null||d===void 0||d.update([this.props.name,this.props.onDimensionChanged]),(c=this._effects[10])===null||c===void 0||c.update([this.props.onDimensionChanged]),(h=this._effects[11])===null||h===void 0||h.update([this.props.name,this.props.onVisibilityChange]),(u=this._effects[12])===null||u===void 0||u.update([this.props.height,this.props.width]),(p=this._effects[13])===null||p===void 0||p.update([this.props.cssText])}setRootElementRef(){var e;const{rootElementRef:t,onRootElementRendered:n}=this.props;t&&this.widgetElementRef&&(t.current=this.widgetElementRef.current),this!==null&&this!==void 0&&(e=this.widgetElementRef)!==null&&e!==void 0&&e.current&&(n==null||n(this.widgetElementRef.current))}activeEffect(){const{activeStateEnabled:e,activeStateUnit:t,disabled:n,_feedbackShowTimeout:s,onActive:r}=this.props,o=t;if(e&&!n){var a;return Pee((a=this.widgetElementRef)===null||a===void 0?void 0:a.current,l=>{this.setState({active:!0}),r==null||r(l)},{timeout:s,selector:o},"UIFeedback")}}inactiveEffect(){const{activeStateEnabled:e,activeStateUnit:t,_feedbackHideTimeout:n,onInactive:s}=this.props,r=t;if(e){var o;return Mee((o=this.widgetElementRef)===null||o===void 0?void 0:o.current,a=>{this.state.active&&(this.setState({active:!1}),s==null||s(a))},{timeout:n,selector:r},"UIFeedback")}}clickEffect(){const{name:e,onClick:t,disabled:n}=this.props,s=e;if(t&&!n){var r;return _D.on((r=this.widgetElementRef)===null||r===void 0?void 0:r.current,t,{namespace:s}),()=>{var o;return _D.off((o=this.widgetElementRef)===null||o===void 0?void 0:o.current,{namespace:s})}}}focusInEffect(){const{disabled:e,focusStateEnabled:t,name:n,onFocusIn:s}=this.props,r=`${n}Focus`;if(t&&!e){var o;return Nee((o=this.widgetElementRef)===null||o===void 0?void 0:o.current,a=>{a.isDefaultPrevented()||(this.setState({focused:!0}),s==null||s(a))},null,r)}}focusOutEffect(){const{focusStateEnabled:e,name:t,onFocusOut:n}=this.props,s=`${t}Focus`;if(e){var r;return Vee((r=this.widgetElementRef)===null||r===void 0?void 0:r.current,o=>{!o.isDefaultPrevented()&&this.state.focused&&(this.setState({focused:!1}),n==null||n(o))},null,s)}}hoverStartEffect(){const{activeStateUnit:e,hoverStateEnabled:t,disabled:n,onHoverStart:s}=this.props,r=e;if(t&&!n){var o;return Fee((o=this.widgetElementRef)===null||o===void 0?void 0:o.current,a=>{this.state.active||this.setState({hovered:!0}),s==null||s(a)},{selector:r},"UIFeedback")}}hoverEndEffect(){const{activeStateUnit:e,hoverStateEnabled:t,onHoverEnd:n}=this.props,s=e;if(t){var r;return Bee((r=this.widgetElementRef)===null||r===void 0?void 0:r.current,o=>{this.state.hovered&&(this.setState({hovered:!1}),n==null||n(o))},{selector:s},"UIFeedback")}}keyboardEffect(){const{onKeyDown:e,focusStateEnabled:t}=this.props;if(t&&e){var n,s;const r=Pa.on((n=this.widgetElementRef)===null||n===void 0?void 0:n.current,(s=this.widgetElementRef)===null||s===void 0?void 0:s.current,o=>e(o));return()=>Pa.off(r)}}resizeEffect(){const e=`${this.props.name}VisibilityChange`,{onDimensionChanged:t}=this.props;if(t){var n;return Ag.on((n=this.widgetElementRef)===null||n===void 0?void 0:n.current,t,{namespace:e}),()=>{var s;return Ag.off((s=this.widgetElementRef)===null||s===void 0?void 0:s.current,{namespace:e})}}}windowResizeEffect(){const{onDimensionChanged:e}=this.props;if(e)return Yl.add(e),()=>{Yl.remove(e)}}visibilityEffect(){const{name:e,onVisibilityChange:t}=this.props,n=`${e}VisibilityChange`;if(t){var s;return kg.on((s=this.widgetElementRef)===null||s===void 0?void 0:s.current,()=>t(!0),()=>t(!1),{namespace:n}),()=>{var r;return kg.off((r=this.widgetElementRef)===null||r===void 0?void 0:r.current,{namespace:n})}}}checkDeprecation(){const{width:e,height:t}=this.props;Ie(e)&&Ut.log("W0017","width"),Ie(t)&&Ut.log("W0017","height")}applyCssTextEffect(){var e;const{cssText:t}=this.props;t!==void 0&&t!==""&&(e=this.widgetElementRef)!==null&&e!==void 0&&e.current&&(this.widgetElementRef.current.style.cssText=t)}getShouldRenderConfigProvider(){const{rtlEnabled:e}=this.props;return Oee(e,this.config)}getRtlEnabled(){const{rtlEnabled:e}=this.props;return kee(e,this.config)}getAttributes(){const{aria:e,disabled:t,focusStateEnabled:n,visible:s}=this.props,r=n&&!t&&this.props.accessKey;return Object.assign({},se({},r&&{accessKey:r}),$ee(Object.assign({},e,{disabled:t,hidden:!s})),se({},this.getRestAttributes(this.props)))}getRestAttributes(e){const t=Object.assign({},e);return["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"].forEach(n=>{delete t[n]}),t}getStyles(){const{width:e,height:t}=this.props,n=this.props.style||{},s=Hh("width",Ie(e)?e():e),r=Hh("height",Ie(t)?t():t);return Object.assign({},n,{height:r??n.height,width:s??n.width})}getCssClasses(){const{classes:e,addWidgetClass:t,className:n,disabled:s,activeStateEnabled:r,focusStateEnabled:o,hoverStateEnabled:a,onVisibilityChange:l,visible:d}=this.props,c=!!o&&!s,h=!!a&&!s,u=!!r&&!s,p={[Lee]:!!t,[String(e)]:!!e,[String(n)]:!!n,"dx-state-disabled":!!s,"dx-state-invisible":!d,"dx-state-focused":!!this.state.focused&&c,"dx-state-active":!!this.state.active&&u,"dx-state-hover":!!this.state.hovered&&h&&!this.state.active,"dx-rtl":!!this.props.rtlEnabled,"dx-visibility-change-handler":!!l};return Kp(p)}getTabIndex(){const{focusStateEnabled:e,disabled:t,tabIndex:n}=this.props;return e&&!t?n:void 0}focus(){var e;Sm.trigger((e=this.widgetElementRef)===null||e===void 0?void 0:e.current)}blur(){var e,t;const n=ve.getActiveElement((e=this.widgetElementRef)===null||e===void 0?void 0:e.current);((t=this.widgetElementRef)===null||t===void 0?void 0:t.current)===n&&n.blur()}activate(){this.setState({active:!0})}deactivate(){this.setState({active:!1})}render(){const{hint:e,children:t}=this.props,n=Zr(Un(1,"div",this.getCssClasses(),t,0,Object.assign({},this.getAttributes(),{tabindex:this.getTabIndex(),title:e,style:this.getStyles()}),null,this.widgetElementRef));return this.getShouldRenderConfigProvider()?_n(2,BM,{rtlEnabled:this.getRtlEnabled(),children:n}):n}}s_.defaultProps=NM;function Il(i){return Object.keys(i).filter(e=>i[e]).join(" ")}const Hee={position:"left",source:""};class VM extends ws{constructor(e){super(e),this.state={}}get sourceType(){return Np(this.props.source)}get cssClass(){return this.props.position!=="left"?"dx-icon-right":""}get iconClassName(){const e={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:t}=this.props;return this.sourceType==="dxIcon"?Il(Object.assign({},e,{[`dx-icon-${t}`]:!0})):this.sourceType==="fontIcon"?Il(Object.assign({},e,{[String(t)]:!!t})):this.sourceType==="image"?Il(e):this.sourceType==="svg"?Il(Object.assign({},e,{"dx-svg-icon":!0})):""}render(){const{iconClassName:e,props:t,sourceType:n}=this,s=fC(t.iconTemplate);return Wo([n==="dxIcon"&&Un(1,"i",e),n==="fontIcon"&&Un(1,"i",e),n==="image"&&Un(1,"img",e,null,1,{alt:"",src:t.source}),s&&Un(1,"i",e,s({}),0)],0)}}VM.defaultProps=Hee;const jee=["config"],zee={config:{}};class LM extends ws{constructor(e){super(e),this.__getterCache={},this.state={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return this.__getterCache.getConfig===void 0&&(this.__getterCache.getConfig=G8(this.props.config)),this.__getterCache.getConfig}get restAttributes(){const e=this.props;return Hs(e,jee)}hideWave(e){Z8(this.getConfig,e)}showWave(e){Y8(this.getConfig,e)}componentWillUpdate(e){this.props.config!==e.config&&(this.__getterCache.getConfig=void 0)}render(){return Zr(Un(1,"div","dx-inkripple",null,1,Object.assign({},this.restAttributes)))}}LM.defaultProps=zee;const Wee="dx-button",Uee=["outlined","text","contained"],$M=["accessKey","activeStateEnabled","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"],Kee=i=>{const{icon:e,iconPosition:t,stylingMode:n,text:s,type:r}=i,o=n&&Uee.includes(n),a={[Wee]:!0,[`dx-button-mode-${o?n:"contained"}`]:!0,[`dx-button-${r??"normal"}`]:!0,"dx-button-has-text":!!s,"dx-button-has-icon":!!e,"dx-button-icon-right":t!=="left"};return Il(a)},Gee=(i,e)=>{const t=new Set(e);return Object.keys(i).reduce((n,s)=>(t.has(s)||(n[s]=i[s]),n),{})},qee=Object.assign({},Up,{activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:{}}),HM=aK([{device:()=>Oe.real().deviceType==="desktop"&&!Oe.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>xs(Yt()),options:{useInkRipple:!0}}]);let Lg=class extends jp{constructor(e){super(e),this.contentRef=Hn(),this.inkRippleRef=Hn(),this.submitInputRef=Hn(),this.widgetRef=Hn(),this.__getterCache={},this.state={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[new An(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),zp()]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.props.onSubmit,this.props.useSubmitBehavior])}submitEffect(){const{onSubmit:e,useSubmitBehavior:t}=this.props,n=this.submitInputRef.current;if(t&&e)return vD.on(n,s=>e({event:s,submitInput:n}),{namespace:"UIFeedback"}),()=>vD.off(n,{namespace:"UIFeedback"})}onActive(e){if(this.props.useInkRipple){var t;(t=this.inkRippleRef.current)===null||t===void 0||t.showWave({element:this.contentRef.current,event:e})}}onInactive(e){if(this.props.useInkRipple){var t;(t=this.inkRippleRef.current)===null||t===void 0||t.hideWave({element:this.contentRef.current,event:e})}}onWidgetClick(e){const{onClick:t,useSubmitBehavior:n}=this.props;if(t==null||t({event:e}),n){var s;(s=this.submitInputRef.current)===null||s===void 0||s.click()}}keyDown(e){const{onKeyDown:t}=this.props,{keyName:n,originalEvent:s,which:r}=e,o=t==null?void 0:t(e);if(o!=null&&o.cancel)return o;(n==="space"||r==="space"||n==="enter"||r==="enter")&&(s.preventDefault(),this.onWidgetClick(s))}get aria(){const{icon:e,text:t}=this.props;let n=t??"";if(!t&&e)switch(Np(e)){case"image":{const o=/^(?!(?:https?:\/\/)|(?:ftp:\/\/)|(?:www\.))[^\s]+$/;n=!e.includes("base64")&&o.test(e)?e.replace(/.+\/([^.]+)\..+$/,"$1"):"";break}case"dxIcon":n=ue.format(Rc(e,!0))||e;break;case"fontIcon":n=e;break;case"svg":{var s;n=((s=/<title>(.*?)<\/title>/.exec(e))===null||s===void 0?void 0:s[1])??"";break}}return Object.assign({role:"button"},n?{label:n}:{})}get cssClasses(){return Kee(this.props)}get iconSource(){return this.props.icon??""}get inkRippleConfig(){if(this.__getterCache.inkRippleConfig===void 0){const{icon:e,text:t}=this.props;this.__getterCache.inkRippleConfig=!t&&e?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}}return this.__getterCache.inkRippleConfig}get buttonTemplateData(){const{icon:e,text:t,templateData:n}=this.props;return Object.assign({icon:e,text:t},n)}get restAttributes(){const e=[...$M,"children"];return Gee(this.props,e)}focus(){var e;(e=this.widgetRef.current)===null||e===void 0||e.focus()}activate(){var e;(e=this.widgetRef.current)===null||e===void 0||e.activate()}deactivate(){var e;(e=this.widgetRef.current)===null||e===void 0||e.deactivate()}componentWillUpdate(e){super.componentWillUpdate(),(this.props.icon!==e.icon||this.props.text!==e.text)&&(this.__getterCache.inkRippleConfig=void 0)}render(){const{children:e,iconPosition:t,text:n}=this.props,s=fC(this.props.template),r=fC(this.props.iconTemplate),o=!this.props.template&&!e&&n!=="",a=t==="left",l=!s&&!e&&(this.iconSource||r)&&_n(2,VM,{source:this.iconSource,position:t,iconTemplate:r});return Zr(_n(2,s_,Object.assign({accessKey:this.props.accessKey,activeStateEnabled:this.props.activeStateEnabled,aria:this.aria,className:this.props.className,classes:this.cssClasses,disabled:this.props.disabled,focusStateEnabled:this.props.focusStateEnabled,height:this.props.height,hint:this.props.hint,hoverStateEnabled:this.props.hoverStateEnabled,onActive:this.onActive,onClick:this.onWidgetClick,onInactive:this.onInactive,onKeyDown:this.keyDown,rtlEnabled:this.props.rtlEnabled,tabIndex:this.props.tabIndex,visible:this.props.visible,width:this.props.width},this.restAttributes,{children:Un(1,"div","dx-button-content",[s?s({data:this.buttonTemplateData}):e,a&&l,o&&Un(1,"span","dx-button-text",n,0),!a&&l,this.props.useSubmitBehavior&&Un(64,"input","dx-button-submit-input",null,1,{type:"submit",tabindex:-1},null,this.submitInputRef),this.props.useInkRipple&&_n(2,LM,{config:this.inkRippleConfig},null,this.inkRippleRef)],0,null,null,this.contentRef)}),null,this.widgetRef))}};Lg.defaultProps=Object.assign({},qee,Fc(HM));const BA=[];function Yee(i){BA.push(i),Lg.defaultProps=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(Lg.defaultProps),Object.getOwnPropertyDescriptors(Fc(HM)),Object.getOwnPropertyDescriptors(Fc(BA))))}class si extends Wp{get _validationGroupConfig(){return Gt.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){const e=super.getProps();return e.onClick=n=>{let{event:s}=n;this._clickAction({event:s,validationGroup:this._validationGroupConfig})},e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),Np(e.icon)==="svg"&&(e.iconTemplate=this._createTemplateComponent(()=>e.icon)),e}get viewRef(){return super.viewRef}get _templatesInfo(){return{template:"content"}}_toggleActiveState(e,t){if(t){var n;(n=this.viewRef)===null||n===void 0||n.activate()}else{var s;(s=this.viewRef)===null||s===void 0||s.deactivate()}}_getSubmitAction(){let e=!0,t="valid";return this._createAction(n=>{let{event:s,submitInput:r}=n;if(e){const o=this._validationGroupConfig;if(o!==void 0&&o!==""){const a=o.validate();t=a.status,a.status==="pending"&&(e=!1,this.option("disabled",!0),a.complete.then(l=>{let{status:d}=l;this.option("disabled",!1),t=d,t==="valid"&&r.click(),e=!0}))}}t!=="valid"&&s.preventDefault(),s.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();const e=this.$element().find(".dx-button-content").first(),t=e.children().filter(".dx-template-wrapper"),n=e.children().filter(".dx-button-submit-input");t.length&&(t.addClass("dx-button-content"),t.append(n),e.replaceWith(t))}_patchOptionValues(e){return super._patchOptionValues(Object.assign({},e,{templateData:e._templateData}))}_findGroup(){const e=this.$element(),t=this.option("validationGroup");return t!==void 0&&t!==""?t:Gt.findGroup(e,this._modelByElement(e))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(e){e.name==="onClick"&&(this._clickAction=this._createClickAction()),super._optionChanged(e)}focus(){var e;(e=this.viewRef)===null||e===void 0||e.focus()}activate(){var e;(e=this.viewRef)===null||e===void 0||e.activate()}deactivate(){var e;(e=this.viewRef)===null||e===void 0||e.deactivate()}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:$M}}get _viewComponent(){return Lg}}St("dxButton",si);si.defaultOptions=Yee;const mC=i=>i instanceof si;class r_{constructor(e,t,n){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=t,this.name=e,this.options=n||{}}_addPlaceMarker(e){this.$placeMarker=M("<div>").appendTo(e)}_addToContainer(e){const{$placeMarker:t,$container:n}=this;t?t.replaceWith(e):e.appendTo(n)}_attachEvents(e,t){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){const{editor:e,options:t}=this;return t.visible||!(e!=null&&e.option("readOnly"))}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){var e;const{instance:t}=this;t&&(mC(t)?(t.dispose(),t.$element().remove(),t._$element=null):t.remove()),this.instance=null,this.editor=null,this.$container=null,(e=this.$placeMarker)===null||e===void 0||e.remove(),this.$placeMarker=null}render(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.$container;if(this.$container=e,this._isVisible()){const{instance:t,$element:n}=this._create()??{};this.instance=t,this._attachEvents(t,n)}else this._addPlaceMarker(e)}update(){return this._shouldRender()&&this.render(),!!this.instance}}const Xee=mt.down;class Zee extends r_{_create(){const e=M("<span>").addClass("dx-clear-button-area").append(M("<span>").addClass("dx-icon").addClass("dx-icon-clear"));return this._addToContainer(e),this.update(!0),{instance:e,$element:e}}_isVisible(){const{editor:e}=this;return!!(e!=null&&e._isClearButtonVisible())}_attachEvents(e,t){var n;const s=((n=this.editor)===null||n===void 0?void 0:n.NAME)??"";Y.on(t,be(Xee,s),r=>{if(r.preventDefault(),r.pointerType!=="mouse"){var o;(o=this.editor)===null||o===void 0||o._clearValueHandler(r)}}),Y.on(t,be(Nt,s),r=>{var o;return(o=this.editor)===null||o===void 0?void 0:o._clearValueHandler(r)})}_legacyRender(e,t){e.toggleClass("dx-show-clear-button",t)}update(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||super.update();const{editor:t,instance:n}=this;if(!t)return;const s=t.$element(),r=this._isVisible();n&&n.toggleClass("dx-state-invisible",!r),this._legacyRender(s,r)}}class Qee{constructor(e){this.NAME="dxLabel",this._props=e,this._id=`dx-texteditor-label-${new Xt}`,this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&this._props.mode!=="hidden"}_render(){this._$before=M("<div>").addClass("dx-label-before"),this._$labelSpan=M("<span>"),this._$label=M("<div>").addClass("dx-label").append(this._$labelSpan),this._$after=M("<div>").addClass("dx-label-after"),this._$root=M("<div>").addClass("dx-texteditor-label").attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){const e=this._isVisible();this._updateEditorBeforeButtonsClass(e),this._updateEditorLabelClass(e),e?this._$root.appendTo(this._props.$editor):this._$root.detach(),this._attachEvents()}_attachEvents(){const e=be(Nt,this.NAME),t=be(Rp,this.NAME),n=be(eY,this.NAME);Y.off(this._$labelSpan,e),Y.off(this._$labelSpan,t),Y.off(this._$labelSpan,n),this._isVisible()&&this._isOutsideMode()&&(Y.on(this._$labelSpan,e,s=>{bt().getSelection().toString()===""&&(this._props.onClickHandler(),s.preventDefault())}),Y.on(this._$labelSpan,t,s=>{this._props.onHoverHandler(s)}),Y.on(this._$labelSpan,n,s=>{this._props.onActiveHandler(s)}))}_updateEditorLabelClass(e){if(this._props.$editor.removeClass("dx-texteditor-with-floating-label").removeClass("dx-texteditor-label-outside").removeClass("dx-texteditor-with-label"),e){const t=this._props.mode==="floating"?"dx-texteditor-with-floating-label":"dx-texteditor-with-label";this._props.$editor.addClass(t),this._isOutsideMode()&&this._props.$editor.addClass("dx-texteditor-label-outside")}}_isOutsideMode(){return this._props.mode==="outside"}_updateEditorBeforeButtonsClass(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._isVisible();if(this._props.$editor.removeClass("dx-texteditor-with-before-buttons"),e){const t=this._props.containsButtonsBefore?"dx-texteditor-with-before-buttons":"";this._props.$editor.addClass(t)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){if(this._isVisible()){const e=this._props.beforeWidth??this._props.getBeforeWidth();this._$before.css({width:e}),this._updateLabelTransform()}}_updateLabelTransform(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(this._$labelSpan.css("transform",""),this._isVisible()&&this._isOutsideMode()){const n=(this._props.rtlEnabled?1:-1)*(Xe(this._$before)+e);this._$labelSpan.css("transform",`translateX(${n}px)`)}}_updateMaxWidth(){if(this._isVisible()&&!this._isOutsideMode()){const e=this._props.containerWidth??this._props.getContainerWidth();this._$label.css({maxWidth:e})}}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(e){this._props.mode=e,this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateText(e){this._props.text=e,this._updateText(),this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateMark(e){this._props.mark=e,this._updateMark()}updateContainsButtonsBefore(e){this._props.containsButtonsBefore=e,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(e){this._props.beforeWidth=e,this._updateBeforeWidth()}updateMaxWidth(e){this._props.containerWidth=e,this._updateMaxWidth()}}class Jee extends r_{_attachEvents(e,t){Y.on(t,Rp,()=>{var n;(n=this.editor)===null||n===void 0||n.$element().addClass("dx-custom-button-hovered")}),Y.on(t,Pp,()=>{var n;(n=this.editor)===null||n===void 0||n.$element().removeClass("dx-custom-button-hovered")}),Y.on(t,Nt,n=>{n.stopPropagation()})}_create(){const{editor:e}=this;if(!e)return;const t=M("<div>");return this._addToContainer(t),{instance:e._createComponent(t,si,Object.assign({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(e)})),$element:t}}_prepareIntegrationOptions(e){return Object.assign({},e.option("integrationOptions"),{skipTemplates:["content"]})}update(){const e=super.update();return mC(this.instance)&&this.instance.option("disabled",this._isDisabled()),e}_isVisible(){var e;const{visible:t}=((e=this.editor)===null||e===void 0?void 0:e.option())??{};return!!t}_isDisabled(){var e;if(this.options.disabled!==void 0)return mC(this.instance)?this.instance.option("disabled"):this.options.disabled;const{readOnly:n}=((e=this.editor)===null||e===void 0?void 0:e.option())??{};return n}}function ete(i){(()=>{if(!i||typeof i!="object"||Array.isArray(i))throw pt.Error("E1053")})(),(()=>{if(!("name"in i))throw pt.Error("E1054")})(),(()=>{const{name:e}=i;if(typeof e!="string")throw pt.Error("E1055")})(),(()=>{const{location:e}=i;"location"in i&&e!=="after"&&e!=="before"&&(i.location="after")})()}function NA(i,e){if(i.includes(e))throw pt.Error("E1055",e);i.push(e)}function tte(i,e){return!!e.find(t=>t.name===i)}class nte{constructor(e,t){this.buttons=[],this.defaultButtonsInfo=t,this.editor=e}_compileButtonInfo(e){const t=[];return e.map(n=>{const s=typeof n=="string";if(s||ete(n),s||tte(n.name,this.defaultButtonsInfo)){const a=this.defaultButtonsInfo.find(l=>{let{name:d}=l;return d===n||d===n.name});if(!a)throw pt.Error("E1056",this.editor.NAME,n);return NA(t,n),a}const{name:o}=n;return NA(t,o),Object.assign({},n,{Ctor:Jee})})}_createButton(e){const{Ctor:t,options:n,name:s}=e,r=new t(s,this.editor,n);return this.buttons.push(r),r}_renderButtons(e,t,n){let s=null;return(e?this._compileButtonInfo(e):this.defaultButtonsInfo).forEach(o=>{const{location:a="after"}=o;a===n&&this._createButton(o).render((s=s??M("<div>").addClass("dx-texteditor-buttons-container"),n==="before"?t.prepend(s):t.append(s),s))}),s}clean(){this.buttons.forEach(e=>e.dispose()),this.buttons=[]}getButton(e){const t=this.buttons.find(n=>{let{name:s}=n;return s===e});return t==null?void 0:t.instance}renderAfterButtons(e,t){return this._renderButtons(e,t,"after")}renderBeforeButtons(e,t){return this._renderButtons(e,t,"before")}updateButtons(e){this.buttons.forEach(t=>{(!e||e.includes(t.name))&&t.update()})}}const ite="dx-texteditor",ste="dx-texteditor-input",zf=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],rte=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"];let ote=Qee;function VA(i){if(G(i)&&!Array.isArray(i))throw pt.Error("E1053")}class ate extends to{ctor(e,t){t&&VA(t.buttons),this._buttonCollection=new nte(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,super.ctor(e,t)}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:e=>G(e)&&e!==!1?e:"",stylingMode:Ot().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device(){const e=Yt();return xs(e)},options:{labelMode:"floating",stylingMode:Ot().editorStylingMode||"filled"}},{device(){const e=Yt();return ts(e)},options:{labelMode:"outside"}}])}_getDefaultButtons(){return[{name:"clear",Ctor:Zee}]}_isClearButtonVisible(){return this.option("showClearButton")&&!this.option("readOnly")}_input(){return this.$element().find(".dx-texteditor-input").first()}_isFocused(){return Ha(this._input())||super._isFocused()}_inputWrapper(){return this.$element()}_buttonsContainer(){return this._inputWrapper().find(".dx-texteditor-buttons-container").eq(0)}_isControlKey(e){return rte.includes(e)}_renderStylingMode(){super._renderStylingMode();const{stylingMode:e}=this.option();this._updateButtonsStyling(e)}_initMarkup(){this.$element().addClass("dx-texteditor"),this._renderInput(),this._renderButtonContainers(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),super._initMarkup(),this._renderValue(),this._renderLabel()}_render(){super._render(),this._refreshValueChangeEvent(),this._refreshEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()}_renderInput(){this._$textEditorContainer=M("<div>").addClass("dx-texteditor-container").appendTo(this.$element()),this._$textEditorInputContainer=M("<div>").addClass("dx-texteditor-input-container").appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput())}_getInputContainer(){return this._$textEditorInputContainer}_renderPendingIndicator(){this.$element().addClass("dx-validation-pending");const e=this._getInputContainer(),t=M("<div>").addClass("dx-pending-indicator").appendTo(e);this._pendingIndicator=this._createComponent(t,Rs,{})}_disposePendingIndicator(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass("dx-validation-pending"))}_renderValidationState(){super._renderValidationState(),this.option("validationStatus")==="pending"?(this._pendingIndicator||this._renderPendingIndicator(),this._showValidMark=!1):(this.option("validationStatus")==="invalid"&&(this._showValidMark=!1),!this._showValidMark&&this.option("showValidationMark")===!0&&(this._showValidMark=this.option("validationStatus")==="valid"&&!!this._pendingIndicator),this._disposePendingIndicator()),this._toggleValidMark()}_getButtonsContainer(){return this._$textEditorContainer}_renderButtonContainers(){const{buttons:e}=this.option(),t=this._getButtonsContainer();this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(e,t),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(e,t)}_cleanButtonContainers(){var e,t;(e=this._$beforeButtonsContainer)===null||e===void 0||e.remove(),(t=this._$afterButtonsContainer)===null||t===void 0||t.remove(),this._buttonCollection.clean()}_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),super._clean(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,this._$textEditorInputContainer=null,this._$placeholder=null}_createInput(){const e=M("<input>");return this._applyInputAttributes(e,this.option("inputAttr")),e}_setSubmitElementName(e){const{inputAttr:t}=this.option();super._setSubmitElementName(e||(t==null?void 0:t.name)||"")}_applyInputAttributes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=se(this._getDefaultAttributes(),t);e.attr(n).addClass("dx-texteditor-input"),this._setInputMinHeight(e)}_setInputMinHeight(e){e.css("minHeight",this.option("height")?"0":"")}_getPlaceholderAttr(){const{ios:e,mac:t}=Oe.real(),{placeholder:n}=this.option();return n||(e||t?" ":null)}_getDefaultAttributes(){return{autocomplete:"off",placeholder:this._getPlaceholderAttr()}}_updateButtons(e){this._buttonCollection.updateButtons(e)}_updateButtonsStyling(e){ie(this.option("buttons"),(t,n)=>{let{options:s,name:r}=n;if(s&&!s.stylingMode&&this.option("visible")){const o=this.getButton(r);o!=null&&o.option&&o.option("stylingMode",e==="underlined"?"text":"contained")}})}_renderValue(){return this._renderInputValue().promise()}_renderInputValue(e){e=e??this.option("value");const{text:t,displayValue:n,displayValueFormatter:s}=this.option();let r=t;return n!==void 0&&e!==null?r=s==null?void 0:s(n):G(r)||(r=s==null?void 0:s(e)),this.option("text",r),this._input().val()!==(G(r)?r:"")?this._renderDisplayText(r):this._toggleEmptinessEventHandler(),de().resolve()}_renderDisplayText(e){this._input().val(e),this._toggleEmptinessEventHandler()}_isValueValid(){if(this._input().length){const{validity:e}=this._input().get(0);if(e)return e.valid}return!0}_toggleEmptiness(e){this.$element().toggleClass("dx-texteditor-empty",e),this._togglePlaceholder(e)}_togglePlaceholder(e){this.$element().find(".dx-placeholder").eq(0).toggleClass("dx-state-invisible",!e)}_renderProps(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()}_toggleDisabledState(e){super._toggleDisabledState(e),this._input().prop("disabled",e)}_toggleTabIndex(){const e=this._input(),t=this.option("disabled"),n=this.option("focusStateEnabled");t||!n?e.attr("tabIndex",-1):e.removeAttr("tabIndex")}_toggleReadOnlyState(){this._input().prop("readOnly",this._readOnlyPropValue()),super._toggleReadOnlyState()}_readOnlyPropValue(){const{readOnly:e}=this.option();return!!e}_toggleSpellcheckState(){const{spellcheck:e}=this.option();this._input().prop("spellcheck",e)}_unobserveLabelContainerResize(){this._labelContainerElement&&(Gr.unobserve(this._labelContainerElement),this._labelContainerElement=null)}_getLabelContainer(){return this._input()}_getLabelContainerWidth(){return Xe(this._getLabelContainer())}_getLabelBeforeWidth(){return(this._$beforeButtonsContainer&&Xe(this._$beforeButtonsContainer))??0}_updateLabelWidth(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())}_getFieldElement(){return this._getLabelContainer()}_setFieldAria(e){var t;const n=this.option("inputAttr"),s=n==null?void 0:n["aria-label"],r=(t=this._label)===null||t===void 0?void 0:t.getId(),o=s?void 0:r;if(o||e){const a={labelledby:o,label:s};this.setAria(a,this._getFieldElement())}}_renderLabel(){this._unobserveLabelContainerResize(),this._labelContainerElement=M(this._getLabelContainer()).get(0);const{label:e,labelMode:t,labelMark:n,rtlEnabled:s}=this.option(),r={onClickHandler:()=>{this.focus()},onHoverHandler:o=>{o.stopPropagation()},onActiveHandler:o=>{o.stopPropagation()},$editor:this.$element(),text:e,mark:n,mode:t,rtlEnabled:s,containsButtonsBefore:!!this._$beforeButtonsContainer,getContainerWidth:()=>this._getLabelContainerWidth(),getBeforeWidth:()=>this._getLabelBeforeWidth()};this._label=new ote(r),this._setFieldAria(),this._labelContainerElement&&Gr.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))}_renderPlaceholder(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()}_renderPlaceholderMarkup(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);const e=this._input(),t=this.option("placeholder"),n={id:t?`dx-${new Xt}`:void 0,"data-dx_placeholder":t},s=this._$placeholder=M("<div>").attr(n);s.insertAfter(e),s.addClass("dx-placeholder")}_attachPlaceholderEvents(){const e=be(mt.up,this.NAME);Y.on(this._$placeholder,e,()=>{Y.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()}_placeholder(){return this._$placeholder??M()}_clearValueHandler(e){const t=this._input();e.stopPropagation(),this._saveValueChangeEvent(e),this._clearValue(),this._isFocused()||Y.trigger(t,"focus"),Y.trigger(t,"input")}_clearValue(){this.clear()}_renderEvents(){const e=this._input();ie(zf,(t,n)=>{if(this.hasActionSubscription(`on${n}`)){const s=this._createActionByOption(`on${n}`,{excludeValidators:["readOnly"]});Y.on(e,be(n.toLowerCase(),this.NAME),r=>{this._disposed||s({event:r})})}})}_refreshEvents(){const e=this._input();ie(zf,(t,n)=>{Y.off(e,be(n.toLowerCase(),this.NAME))}),this._renderEvents()}_keyPressHandler(e){this.option("text",this._input().val())}_keyDownHandler(e){const t=this._input(),n=e.ctrlKey&&En(e)==="enter",{value:s}=this.option(),r=t.val()!==s;n&&r&&Y.trigger(t,"change")}_getValueChangeEventOptionName(){return"valueChangeEvent"}_renderValueChangeEvent(){const e=be(this._renderValueEventName(),`${this.NAME}TextChange`),t=be(this.option(this._getValueChangeEventOptionName()),`${this.NAME}ValueChange`),n=be("keydown",`${this.NAME}TextChange`),s=this._input();Y.on(s,e,this._keyPressHandler.bind(this)),Y.on(s,t,this._valueChangeEventHandler.bind(this)),Y.on(s,n,this._keyDownHandler.bind(this))}_cleanValueChangeEvent(){const e=`.${this.NAME}ValueChange`,t=`.${this.NAME}TextChange`;Y.off(this._input(),e),Y.off(this._input(),t)}_refreshValueChangeEvent(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()}_renderValueEventName(){return"input change keypress"}_focusTarget(){return this._input()}_focusEventTarget(){return this.element()}_isInput(e){return e===this._input().get(0)}_preventNestedFocusEvent(e){if(e.isDefaultPrevented())return!0;let t=this._isNestedTarget(e.relatedTarget);return e.type==="focusin"?t=t&&this._isNestedTarget(e.target)&&!this._isInput(e.target):t||this._toggleFocusClass(!1,this.$element()),t&&e.preventDefault(),t}_isNestedTarget(e){return!!this.$element().find(e).length}_focusClassTarget(e){return this.$element()}_focusInHandler(e){this._preventNestedFocusEvent(e),super._focusInHandler(e)}_focusOutHandler(e){this._preventNestedFocusEvent(e),super._focusOutHandler(e)}_toggleFocusClass(e,t){super._toggleFocusClass(e,this._focusClassTarget(t))}_hasFocusClass(e){return super._hasFocusClass(M(e||this.$element()))}_renderEmptinessEvent(){const e=this._input();Y.on(e,"input blur",this._toggleEmptinessEventHandler.bind(this))}_toggleEmptinessEventHandler(){const e=this._input().val(),t=(e===""||e===null)&&this._isValueValid();this._toggleEmptiness(t)}_valueChangeEventHandler(e,t){this.option("readOnly")||(this._saveValueChangeEvent(e),this.option("value",arguments.length>1?t:this._input().val()),this._saveValueChangeEvent(void 0))}_renderEnterKeyAction(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),Y.off(this._input(),"keyup.onEnterKey.dxTextEditor"),Y.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))}_enterKeyHandlerUp(e){if(!this._disposed&&En(e)==="enter"){var t;(t=this._enterKeyAction)===null||t===void 0||t.call(this,{event:e})}}_updateValue(){this._options.silent("text",null),this._renderValue()}_dispose(){this._enterKeyAction=void 0,super._dispose()}_getSubmitElement(){return this._input()}_hasActiveElement(){return this._input().is(ve.getActiveElement(this._input()[0]))}_optionChanged(e){const{name:t,fullName:n,value:s}=e,r=t.replace("on","");if(zf.includes(r)){this._refreshEvents();return}switch(t){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":super._optionChanged(e),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder(),this._setFieldAria(!0),this._input().attr({placeholder:this._getPlaceholderAttr()});break;case"label":this._label.updateText(s),this._setFieldAria(!0);break;case"labelMark":this._label.updateMark(s);break;case"labelMode":this._label.updateMode(s),this._setFieldAria();break;case"width":super._optionChanged(e),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),super._optionChanged(e);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":case"showValidationMark":break;case"value":this._updateValue(),super._optionChanged(e);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(t));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":{n===t&&VA(s),this._cleanButtonContainers(),this._renderButtonContainers();const{stylingMode:o}=this.option();this._updateButtonsStyling(o),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break}case"visible":if(super._optionChanged(e),s&&this.option("buttons")){this._cleanButtonContainers(),this._renderButtonContainers();const{stylingMode:o}=this.option();this._updateButtonsStyling(o)}break;case"displayValueFormatter":this._invalidate();break;default:super._optionChanged(e)}}_renderInputType(){this._setInputType(this.option("mode"))}_setInputType(e){const t=this._input();e==="search"&&(e="text");try{t.prop("type",e)}catch{t.prop("type","text")}}getButton(e){return this._buttonCollection.getButton(e)}focus(){Y.trigger(this._input(),"focus")}clear(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());const e=this._getDefaultOptions();this.option("value")===e.value?(this._options.silent("text",""),this._renderValue()):this.option("value",e.value)}_resetInputText(){this._options.silent("text",this._initialValue),this._renderValue()}_isValueEqualToInitial(){const{value:e}=this.option(),t=this._initialValue;return e===t}_resetToInitialValue(){this._isValueEqualToInitial()?this._resetInputText():super._resetToInitialValue(),this._disposePendingIndicator(),this._showValidMark=!1,this._toggleValidMark()}_toggleValidMark(){this.$element().toggleClass("dx-valid",!!this._showValidMark)}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length?super.reset(e):super.reset()}on(e,t){const n=super.on(e,t),s=e.charAt(0).toUpperCase()+e.substr(1);return zf.includes(s)&&this._refreshEvents(),n}}class jM{constructor(e){this._value=" ",se(this,e)}next(e){if(!arguments.length)return this._next;this._next=e}_prepareHandlingArgs(e,t){t=t||{};const n=Object.prototype.hasOwnProperty.call(e,"value")?"value":"text";return e[n]=t.str??e[n],e.start=t.start??e.start,e.length=t.length??e.length,e.index+=1,e}first(e){return e=e||0,this.next().first(e+1)}isAccepted(e){return!1}adjustedCaret(e,t,n){return t?this._adjustedForward(e,0,n):this._adjustedBackward(e,0,n)}_adjustedForward(e,t,n){}_adjustedBackward(e,t,n){}isValid(e){}reset(){}clear(e){}text(){}value(){}rawValue(){}handle(e){}}class lte extends jM{next(){}handle(){return 0}text(){return""}value(){return""}first(){return 0}rawValue(){return""}adjustedCaret(){return 0}isValid(){return!0}}class zM extends jM{text(){return(this._value!==" "?this._value:this.maskChar)+this.next().text()}value(){return this._value+this.next().value()}rawValue(){return this._value+this.next().rawValue()}handle(e){const t=Object.prototype.hasOwnProperty.call(e,"value")?e.value:e.text;if(!t||!t.length||!e.length)return 0;if(e.start)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start-1}));const n=t[0],s=t.substring(1);return this._tryAcceptChar(n,e),this._accepted()?this.next().handle(this._prepareHandlingArgs(e,{str:s,length:e.length-1}))+1:this.handle(this._prepareHandlingArgs(e,{str:s,length:e.length-1}))}clear(e){this._tryAcceptChar(" ",e),this.next().clear(this._prepareHandlingArgs(e))}reset(){this._accepted(!1),this.next().reset()}_tryAcceptChar(e,t){if(this._accepted(!1),!this._isAllowed(e,t))return;const n=e===" "?this.maskChar:e;t.fullText=t.fullText.substring(0,t.index)+n+t.fullText.substring(t.index+1),this._accepted(!0),this._value=e}_accepted(e){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!e}first(e){return this._value===" "?e||0:super.first(e)}_isAllowed(e,t){return e===" "?!0:this._isValid(e,t)}_isValid(e,t){const{allowedChars:n}=this;return n instanceof RegExp?n.test(e):Ie(n)?n(e,t.index,t.fullText):Array.isArray(n)?n.includes(e):n===e}isAccepted(e){return e===0?this._accepted():this.next().isAccepted(e-1)}_adjustedForward(e,t,n){return t>=e?t:this.next()._adjustedForward(e,t+1,n)||t+1}_adjustedBackward(e,t){return t>=e-1?e:this.next()._adjustedBackward(e,t+1)||t+1}isValid(e){return this._isValid(this._value,e)&&this.next().isValid(this._prepareHandlingArgs(e))}}class LA extends zM{value(){return this.next().value()}handle(e){const t=Object.prototype.hasOwnProperty.call(e,"value"),n=t?e.value:e.text;if(!n.length||!e.length)return 0;if(e.start||t)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start&&e.start-1}));const s=n[0],r=n.substring(1);this._tryAcceptChar(s);const o=this._isAllowed(s)?this._prepareHandlingArgs(e,{str:r,length:e.length-1}):e;return this.next().handle(o)+1}clear(e){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(e))}_tryAcceptChar(e){this._accepted(this._isValid(e))}_isValid(e){return e===this.maskChar}first(e){return e=e||0,this.next().first(e+1)}_adjustedForward(e,t,n){return t>=e&&n===this.maskChar?t:e===t+1&&this._accepted()?e:this.next()._adjustedForward(e,t+1,n)}_adjustedBackward(e,t){return t>=e-1?0:this.next()._adjustedBackward(e,t+1)}isValid(e){return this.next().isValid(this._prepareHandlingArgs(e))}}const dte="blur beforedeactivate",cte=["deleteContentBackward","deleteSoftLineBackward","deleteContent","deleteHardLineBackward"],ute=["historyUndo","historyRedo"],hte=["focusIn","focusOut","input","paste","cut","drop","beforeInput"];function pte(i){return" ".repeat(i)}class fte{constructor(e){this.editor=e}_editorOption(){return this.editor.option(...arguments)}_editorInput(){return this.editor._input()}_editorCaret(e){if(!e)return this.editor._caret();this.editor._caret(e)}_attachChangeEventHandler(){if(!this._editorOption("valueChangeEvent").split(" ").includes("change"))return;const e=this._editorInput(),t=be(dte,"dxMask");Y.on(e,t,n=>{this.editor._changeHandler(n)})}_beforeInputHandler(){this._previousText=this._editorOption("text"),this._prevCaret=this._editorCaret()}_inputHandler(e){const{originalEvent:t}=e;if(!t)return;const{inputType:n}=t;if(ute.includes(n))this._handleHistoryInputEvent();else if(cte.includes(n))this._handleBackwardDeleteInputEvent();else{const s=this._editorCaret();if(!s.end)return;this._clearSelectedText(),this._autoFillHandler(t),this._editorCaret(s),this._handleInsertTextInputEvent(t.data)}this._editorOption("text")===this._previousText&&e.stopImmediatePropagation()}_handleHistoryInputEvent(){const e=this._editorCaret();this._updateEditorMask({start:e.start,length:e.end-e.start,text:""}),this._editorCaret(this._prevCaret)}_handleBackwardDeleteInputEvent(){this._clearSelectedText(!0);const e=this._editorCaret();this.editor.setForwardDirection(),this.editor._adjustCaret(),this._editorCaret().start!==e.start&&(this.editor.setBackwardDirection(),this.editor._adjustCaret())}_clearSelectedText(e){const n=this._prevCaret&&this._prevCaret.end-this._prevCaret.start||Number(e),s=this._editorCaret();this._isAutoFill()||(this.editor.setBackwardDirection(),this._updateEditorMask({start:s.start,length:n,text:pte(n)}))}_handleInsertTextInputEvent(e){var t;const n=e??"";this.editor.setForwardDirection(),this._updateEditorMask({start:((t=this._prevCaret)===null||t===void 0?void 0:t.start)??0,length:n.length||1,text:n})||this._editorCaret(this._prevCaret)}_updateEditorMask(e){const t=e.text.length,n=this.editor._handleChain(e);if(this.editor._displayMask(),this.editor.isForwardDirection()){const{start:s,end:r}=this._editorCaret(),o=n-t;n>1&&t===1&&this._editorCaret({start:s+o,end:r+o}),this.editor._adjustCaret()}return!!n}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor.setForwardDirection(),!this.editor._isValueEmpty()&&this._editorOption("isValid"))this.editor._adjustCaret();else{const e=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(()=>{this._editorCaret({start:e,end:e})},0)}}_focusOutHandler(e){this.editor._changeHandler(e),this._editorOption("showMaskMode")==="onFocus"&&this.editor._isValueEmpty()&&(this._editorOption("text",""),this.editor._renderDisplayText(""))}_delHandler(e){const{editor:t}=this;t._maskKeyHandler(e,()=>{t._hasSelection()||t._handleKey(" ")})}_cutHandler(e){const t=this._editorCaret(),n=this._editorInput().val().substring(t.start,t.end);this.editor._maskKeyHandler(e,()=>Ig(e,n))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(()=>{const e=this.editor._convertToValue(this._editorInput().val());this._editorOption("value",e)})}_pasteHandler(e){const{editor:t}=this;if(this._editorOption("disabled"))return;const n=this._editorCaret();t._maskKeyHandler(e,()=>{const s=Ig(e),r=t._maskRulesChain.text().substring(n.end),o=t._handleChain({text:s,start:n.start,length:s.length}),a=n.start+o;t._handleChain({text:r,start:a,length:r.length}),t._caret({start:a,end:a})})}_autoFillHandler(e){const{editor:t}=this,n=this._editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._isAutoFill()&&(t._maskKeyHandler(e,()=>{t._handleChain({text:n,start:0,length:n.length})}),t._validateMask())})}_isAutoFill(){const e=this._editorInput();if(gn.webkit){const t=e.get(0);return(t==null?void 0:t.matches(":-webkit-autofill"))??!1}return!1}_clearDragTimer(){clearTimeout(this._dragTimer)}_clearTimers(){this._clearDragTimer(),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}getHandler(e){return t=>{var n;(n=this[`_${e}Handler`])===null||n===void 0||n.call(this,t)}}attachEvents(){const e=this._editorInput();hte.forEach(t=>{const n=be(t.toLowerCase(),"dxMask");Y.on(e,n,this.getHandler(t))}),this._attachChangeEventHandler()}detachEvents(){this._clearTimers(),Y.off(this._editorInput(),".dxMask")}clean(){this._clearTimers()}}const{ios:mte,mac:gte}=Oe.real(),_te=mte||gte,vte=i=>{let e={start:0,end:0};try{e={start:i.selectionStart??0,end:i.selectionEnd??0}}catch{e={start:0,end:0}}return e},xte=(i,e)=>{try{i.selectionStart=e.start,i.selectionEnd=e.end}catch{}},bte=function(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=M(i).get(0);if(!G(e))return vte(n);!t&&_te&&ve.getActiveElement(n)!==n||xte(n,e)},$A=bte,yte={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:i=>Wf(i),l:i=>Wf(i)||jA(i),C:/\S/,c:/./,A:i=>Wf(i)||HA(i),a:i=>Wf(i)||HA(i)||jA(i)};function HA(i){return/[0-9]/.test(i)}function Wf(i){const e=i.charCodeAt();return e>64&&e<91||e>96&&e<123||e>127}function jA(i){return i===" "}class yS extends ate{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:ue.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})}_supportedKeys(){const e=this,t={del:e._maskStrategy.getHandler("del"),enter:e._changeHandler},n=super._supportedKeys();return ie(t,(s,r)=>{const o=n[s];n[s]=function(a){e.option("mask")&&r.call(e,a),o&&o(a)}}),n}_getSubmitElement(){return this.option("mask")?this._$hiddenElement:super._getSubmitElement()}_init(){super._init(),this._initMaskStrategy()}_initMaskStrategy(){this._maskStrategy=new fte(this)}_initMarkup(){this._renderHiddenElement(),super._initMarkup()}_attachMouseWheelEventHandlers(){if(!this._hasMouseWheelHandler())return;const e=this._input(),t=be(Ip,this.NAME),n=this._createAction(s=>{const{event:r}=s;Ha(e)&&!$n(r)&&(this._onMouseWheel(r),r.preventDefault(),r.stopPropagation())});Y.off(e,t),Y.on(e,t,s=>{n({event:s})})}_hasMouseWheelHandler(){return!1}_onMouseWheel(e){}_useMaskBehavior(){return!!this.option("mask")}_attachDropEventHandler(){if(!this._useMaskBehavior())return;const t=be("drop",this.NAME),n=this._input();Y.off(n,t),Y.on(n,t,s=>s.preventDefault())}_render(){this._attachMouseWheelEventHandlers(),this._renderMask(),super._render(),this._attachDropEventHandler()}_renderHiddenElement(){this.option("mask")&&(this._$hiddenElement=M("<input>").attr("type","hidden").appendTo(this._inputWrapper()))}_removeHiddenElement(){this._$hiddenElement&&this._$hiddenElement.remove()}_renderMask(){this.$element().removeClass("dx-texteditor-masked"),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass("dx-texteditor-masked"),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())}_changeHandler(e){const t=this._input(),n=t.val();if(n===this._changedValue)return;this._changedValue=n;const s=xa(e,{type:"change"});Y.trigger(t,s)}_parseMask(){this._maskRules=se({},yte,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)}_parseMaskRule(e){const{mask:t}=this.option();if(e>=t.length)return new lte;const n=t[e],s=n==="\\",r=s?new LA({maskChar:t[e+1]}):this._getMaskRule(n);return r.next(this._parseMaskRule(e+1+s)),r}_getMaskRule(e){let t;return ie(this._maskRules,(n,s)=>{if(n===e)return t={pattern:n,allowedChars:s},!1}),G(t)?new zM(se({maskChar:this.option("maskChar")||" "},t)):new LA({maskChar:e})}_renderMaskedValue(){if(!this._maskRulesChain)return;const e=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());const t={length:e.length};t[this._isMaskedValueMode()?"text":"value"]=e,this._handleChain(t),this._displayMask()}_replaceSelectedText(e,t,n){if(n===void 0)return e;const s=e.slice(0,t.start),r=e.slice(t.end);return s+n+r}_isMaskedValueMode(){return this.option("useMaskedValue")}_displayMask(e){e=e||this._caret(),this._renderValue(),this._caret(e)}_isValueEmpty(){return bm(this._value)}_shouldShowMask(){const{showMaskMode:e}=this.option();return e==="onFocus"?Ha(this._input())||!this._isValueEmpty():!0}_showMaskPlaceholder(){if(this._shouldShowMask()){const e=this._maskRulesChain.text();this.option("text",e);const{showMaskMode:t}=this.option();t==="onFocus"&&this._renderDisplayText(e)}}_renderValue(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){const e=this._maskRulesChain.value(),t=bm(e)?"":this._getPreparedValue();this._$hiddenElement.val(t)}return super._renderValue()}_getPreparedValue(){return this._convertToValue().replace(/\s+$/,"")}_valueChangeEventHandler(e,t){if(!this._maskRulesChain){super._valueChangeEventHandler.apply(this,arguments);return}this._saveValueChangeEvent(e),this.option("value",this._getPreparedValue())}_isControlKeyFired(e){return this._isControlKey(En(e))||$n(e)}_handleChain(e){const t=this._maskRulesChain.handle(this._normalizeChainArguments(e));return this._updateMaskInfo(),t}_normalizeChainArguments(e){return e=e||{},e.index=0,e.fullText=this._maskRulesChain.text(),e}_convertToValue(e){return this._isMaskedValueMode()?e=this._replaceMaskCharWithEmpty(e||this._textValue||""):e=e||this._value||"",e}_replaceMaskCharWithEmpty(e){const{maskChar:t}=this.option();return e.replace(new RegExp(t,"g")," ")}_maskKeyHandler(e,t){if(this.option("readOnly"))return;this.setForwardDirection(),e.preventDefault(),this._handleSelection();const n=this._input().val(),s=()=>{n!==this._input().val()&&Y.trigger(this._input(),"input")},r=t();r?r.then(s):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),s())}_handleKey(e,t){this._direction(t||"forward"),this._adjustCaret(e),this._handleKeyChain(e),this._moveCaret()}_handleSelection(){if(!this._hasSelection())return;const e=this._caret(),t=new Array(e.end-e.start+1).join(" ");this._handleKeyChain(t)}_handleKeyChain(e){const t=this._caret(),n=this.isForwardDirection()?t.start:t.start-1,s=this.isForwardDirection()?t.end:t.end-1,r=n===s?1:s-n;this._handleChain({text:e,start:n,length:r})}_tryMoveCaretBackward(){this.setBackwardDirection();const e=this._caret().start;return this._adjustCaret(),!e||e!==this._caret().start}_adjustCaret(e){const t=this._caret().start,n=this.isForwardDirection(),s=this._maskRulesChain.adjustedCaret(t,n,e);this._caret({start:s,end:s})}_moveCaret(){const e=this._caret().start,t=e+(this.isForwardDirection()?0:-1),n=this._maskRulesChain.isAccepted(t)?e+(this.isForwardDirection()?1:-1):e;this._caret({start:n,end:n})}_caret(e,t){const n=this._input();if(n.length){if(!arguments.length)return $A(n);$A(n,e,t)}}_hasSelection(){const e=this._caret();return e.start!==e.end}_direction(e){if(!arguments.length)return this._typingDirection;this._typingDirection=e}setForwardDirection(){this._direction("forward")}setBackwardDirection(){this._direction("backward")}isForwardDirection(){return this._direction()==="forward"}_updateMaskInfo(){this._textValue=this._maskRulesChain.text(),this._value=this._maskRulesChain.value()}_clean(){this._maskStrategy&&this._maskStrategy.clean(),super._clean()}_validateMask(){if(!this._maskRulesChain)return;const e=bm(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}_updateHiddenElement(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement());const{name:e}=this.option();this._setSubmitElementName(e)}_updateMaskOption(){this._updateHiddenElement(),this._renderMask(),this._validateMask(),this._refreshValueChangeEvent()}_processEmptyMask(e){if(e)return;const t=this.option("value");this.option({text:t,isValid:!0,validationError:null}),this.validationRequest.fire({value:t,editor:this}),this._renderValue()}_optionChanged(e){switch(e.name){case"mask":this._updateMaskOption(),this._processEmptyMask(e.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),super._optionChanged(e),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:super._optionChanged(e)}}clear(){const{value:e}=this._getDefaultOptions();this.option("value")===e&&this._renderMaskedValue(),super.clear()}}const Cte=bt(),wte=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"];class Jc extends yS{ctor(e,t){t&&(this._showClearButton=t.showClearButton),super.ctor(e,t)}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{value:"",mode:"text",maxLength:null})}_initMarkup(){this.$element().addClass("dx-textbox"),super._initMarkup(),this.setAria("role","textbox")}_renderInputType(){super._renderInputType(),this._renderSearchMode()}_useTemplates(){return!1}_renderProps(){super._renderProps(),this._toggleMaxLengthProp()}_toggleMaxLengthProp(){const e=this._getMaxLength();e&&e>0?this._input().attr("maxLength",e):this._input().removeAttr("maxLength")}_renderSearchMode(){const{mode:e}=this.option();if(e==="search"){if(this.$element().addClass("dx-searchbox"),this._renderSearchIcon(),this._showClearButton===void 0){const{showClearButton:t}=this.option();this._showClearButton=t,this.option("showClearButton",!0)}}else this.$element().removeClass("dx-searchbox"),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",this._showClearButton===void 0?this.option("showClearButton"):this._showClearButton),delete this._showClearButton}_renderSearchIcon(){const e=M("<div>").addClass("dx-icon").addClass("dx-icon-search");e.prependTo(this._input().parent()),this._$searchIcon=e}_getLabelContainerWidth(){if(this._$searchIcon){const e=this._input().parent();return Xe(e)-this._getLabelBeforeWidth()}return super._getLabelContainerWidth()}_getLabelBeforeWidth(){let e=super._getLabelBeforeWidth();return this._$searchIcon&&(e+=kt(this._$searchIcon)),e}_optionChanged(e){switch(e.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":super._optionChanged(e),this._updateLabelWidth();break;case"mask":super._optionChanged(e),this._toggleMaxLengthProp();break;default:super._optionChanged(e)}}_onKeyDownCutOffHandler(e){const t=this._getMaxLength();if(t&&!e.ctrlKey&&!this._hasSelection()){const n=M(e.target),s=En(e);return this._cutOffExtraChar(n),n.val().length<t||wte.includes(s)||Cte.getSelection().toString()!==""}return!0}_onChangeCutOffHandler(e){const t=M(e.target);this.option("maxLength")&&this._cutOffExtraChar(t)}_cutOffExtraChar(e){const t=this._getMaxLength(),n=e.val();t&&n.length>t&&e.val(n.substr(0,t))}_getMaxLength(){const{mask:e,maxLength:t}=this.option();return!!e?null:t}}St("dxTextBox",Jc);const Ste=["items"];class Ete{constructor(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0,this._indexByKey={}}_convertItemsToNodes(e,t){ie(e,(n,s)=>{const r=G(t)?t:this._getParentId(s),o=this._convertItemToNode(s,r);this._dataStructure.push(o),this._checkForDuplicateId(o.internalFields.key),this._indexByKey[o.internalFields.key]=this._dataStructure.length-1,this._itemHasChildren(s)&&this._convertItemsToNodes(this._dataAccessors.getters.items(s),o.internalFields.key)})}_checkForDuplicateId(e){if(G(this._indexByKey[String(e)]))throw pt.Error("E1040",e)}_getParentId(e){return this._dataType==="plain"?this._dataAccessors.getters.parentKey(e):void 0}_itemHasChildren(e){if(this._dataType==="plain")return!1;const t=this._dataAccessors.getters.items(e);return!!(t!=null&&t.length)}_getUniqueKey(e){const t=this._dataAccessors.getters.key,n=t(e);return(n||n===0)&&mc(n)?n:this.getItemsCount()}_convertItemToNode(e,t){this._itemsCount+=1,e.visible!==!1&&(this._visibleItemsCount+=1);const n=Hs(e,Ste);return Object.assign({internalFields:{disabled:this._dataAccessors.getters.disabled(e,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(e,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(e,{defaultValue:!1}),key:this._getUniqueKey(e),parentKey:G(t)?t:this._rootValue,item:this._makeObjectFromPrimitive(e),childrenKeys:[]}},n)}setChildrenKeys(){ie(this._dataStructure,(e,t)=>{if(t.internalFields.parentKey===this._rootValue)return;const n=this.getParentNode(t);n&&n.internalFields.childrenKeys.push(t.internalFields.key)})}_makeObjectFromPrimitive(e){if(mc(e)){const t=e,n={};return this._dataAccessors.setters.key(n,t),n}return e}_convertToPublicNode(e,t){if(!e)return null;const n={text:this._dataAccessors.getters.display(e),key:e.internalFields.key,selected:e.internalFields.selected,expanded:e.internalFields.expanded,disabled:e.internalFields.disabled,parent:t??null,itemData:e.internalFields.item,children:[],items:[]};return n.parent&&(n.parent.children.push(n),n.parent.items.push(n)),n}convertToPublicNodes(e,t){if(!e.length)return[];const n=[];return ie(e,(s,r)=>{const o=mc(r)?this._getByKey(r):r;if(!o)return;const a=this._convertToPublicNode(o,t);a&&(a.children=this.convertToPublicNodes(o.internalFields.childrenKeys,a),n.push(a),o.internalFields.publicNode=a)}),n}setDataAccessors(e){this._dataAccessors=e}_getByKey(e){return this._dataStructure[this.getIndexByKey(e)]??null}getParentNode(e){return this._getByKey(e.internalFields.parentKey)}getByKey(e,t){return G(t)?function(n,s){let r=null;return ie(n,(o,a)=>{var l;const d=((l=a.internalFields)===null||l===void 0?void 0:l.key)??a.key;return(d==null?void 0:d.toString())===s.toString()?(r=a,!1):!0}),r}(e,t):null}getItemsCount(){return this._itemsCount}getVisibleItemsCount(){return this._visibleItemsCount}updateIndexByKey(){this._indexByKey={},ie(this._dataStructure,(e,t)=>{this._checkForDuplicateId(t.internalFields.key),this._indexByKey[t.internalFields.key]=e})}updateChildrenKeys(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()}removeChildrenKeys(){this._indexByKey={},ie(this._dataStructure,(e,t)=>{t.internalFields.childrenKeys=[]})}getIndexByKey(e){return this._indexByKey[e]}createPlainStructure(e,t,n){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=t,this._dataType=n,this._indexByKey={},this._convertItemsToNodes(e),this.setChildrenKeys(),this._dataStructure}}const Dd="expanded",cl="selected",Ite="disabled";Bo.setEditorClass(Jc);class CS{constructor(e){this.options={dataAccessors:{},items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new Ete,onNodeChanged:Te,sort:null},this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._initialDataStructure=[],se(this.options,e),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._createInternalDataStructure(),this.getTreeNodes()}setOption(e,t){this.options[e]=t,e==="recursiveSelection"&&this._updateSelection()}_createInternalDataStructure(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()}_updateSelection(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(cl)}_updateExpansion(e){this.options.recursiveExpansion&&(e?this._updateOneBranch(e):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(Dd)}_updateNodesKeysArray(e){let t=[];return ie(this._getDataBySelectionMode(),(n,s)=>{this._isNodeVisible(s)&&s.internalFields[e]&&(e===Dd||this.options.multipleSelection?t.push(s.internalFields.key):(t.length&&this.toggleSelection(t[0],!1,!0),t=[s.internalFields.key]))}),t}_getDataBySelectionMode(){return this.options.multipleSelection?this.getData():this.getFullData()}_isNodeVisible(e){return e.internalFields.item.visible!==!1}_getByKey(e,t){return e===this._dataStructure?this.options.dataConverter._getByKey(t):this.options.dataConverter.getByKey(e.filter(Boolean),t)}_setChildrenSelection(){ie(this._dataStructure,(e,t)=>{if(!(t!=null&&t.internalFields.childrenKeys.length))return;const n=t.internalFields.selected;n&&this._toggleChildrenSelection(t,n)})}_setParentSelection(){ie(this._dataStructure,(e,t)=>{if(!t)return;this.options.dataConverter.getParentNode(t)&&t.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(t,s=>{const r=this._calculateSelectedState(s);this._setFieldState(s,cl,r)})})}_setParentExpansion(){ie(this._dataStructure,(e,t)=>{t!=null&&t.internalFields.expanded&&this._updateOneBranch(t.internalFields.key)})}_updateOneBranch(e){const t=this.getNodeByKey(e);this._iterateParents(t,n=>{this._setFieldState(n,Dd,!0)})}_iterateChildren(e,t,n,s){if(!Ie(n)||!e)return;const r=e.internalFields.key,o=s??[];r!==void 0&&!o.includes(r)&&(o.push(r),ie(e.internalFields.childrenKeys,(a,l)=>{const d=this.getNodeByKey(l);n(d),d!=null&&d.internalFields.childrenKeys.length&&t&&this._iterateChildren(d,t,n,o)}))}_iterateParents(e,t,n){if(!e||e.internalFields.parentKey===this.options.rootValue||!Ie(t))return;const s=n??[],{key:r}=e.internalFields;if(!s.includes(r)){s.push(r);const o=this.options.dataConverter.getParentNode(e);o&&(t(o),o.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(o,t,s))}}_calculateSelectedState(e){const t=e.internalFields.childrenKeys.length;let n=0,s=0,r=!1;for(let o=0;o<=t-1;o+=1){const a=this.getNodeByKey(e.internalFields.childrenKeys[o]),l=(a==null?void 0:a.internalFields.item.visible)===!1,d=a==null?void 0:a.internalFields.selected;l?s+=1:d?n+=1:d===void 0&&(n+=.5)}return n&&(r=n===t-s?!0:void 0),r}_toggleChildrenSelection(e,t){this._iterateChildren(e,!0,n=>{n&&this._isNodeVisible(n)&&this._setFieldState(n,cl,t)})}_setFieldState(e,t,n){e.internalFields[t]!==n&&(e.internalFields[t]=n,e.internalFields.publicNode&&(e.internalFields.publicNode[t]=n),this.options.dataAccessors.setters[t](e.internalFields.item,n),this.options.onNodeChanged(e))}_markChildren(e){ie(e,(t,n)=>{const s=this.getIndexByKey(n),r=this.getNodeByKey(n);this._dataStructure[s]=null,r!=null&&r.internalFields.childrenKeys.length&&this._markChildren(r.internalFields.childrenKeys)})}_removeNode(e){const t=this.getNodeByKey(e);this._dataStructure[this.getIndexByKey(e)]=null,t!=null&&t.internalFields.childrenKeys.length&&this._markChildren(t.internalFields.childrenKeys);let n=0;const s=se([],this._dataStructure);ie(s,(r,o)=>{o||(this._dataStructure.splice(r-n,1),n+=1)})}_addNode(e){const{dataConverter:t}=this.options,n=t._convertItemToNode(e,this.options.dataAccessors.getters.parentKey(e));this._dataStructure=this._dataStructure.concat(n),this._initialDataStructure=this._initialDataStructure.concat(n),t._dataStructure=t._dataStructure.concat(n)}_updateFields(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()}getSelectedNodesKeys(){return this._selectedNodesKeys}getExpandedNodesKeys(){return this._expandedNodesKeys}getData(){return this._dataStructure}getFullData(){return this._initialDataStructure}getNodeByItem(e){let t=null;return ie(this._dataStructure,(n,s)=>(s==null?void 0:s.internalFields.item)===e?(t=s,!1):!0),t}getNodesByItems(e){const t=[];return ie(e,(n,s)=>{const r=this.getNodeByItem(s);r&&t.push(r)}),t}getNodeByKey(e,t){return this._getByKey(t??this._getDataBySelectionMode(),e)}getTreeNodes(){const t=this.getRootNodes().map(n=>n.internalFields.key);return this.options.dataConverter.convertToPublicNodes(t,null)}getItemsCount(){return this.options.dataConverter.getItemsCount()}getVisibleItemsCount(){return this.options.dataConverter.getVisibleItemsCount()}getPublicNode(e){return e==null?void 0:e.internalFields.publicNode}getRootNodes(){return this.getChildrenNodes(this.options.rootValue)}getChildrenNodes(e){return Hi(this._dataStructure,{langParams:this.options.langParams}).filter(["internalFields.parentKey",e]).toArray()}getIndexByKey(e){return this.options.dataConverter.getIndexByKey(e)}addItem(e){this._addNode(e),this._updateFields()}removeItem(e){this._removeNode(e),this._updateFields()}toggleSelection(e,t,n){const s=this._isSingleModeUnselect(t),r=n||s?this._initialDataStructure:this._dataStructure,o=this._getByKey(r,e);o&&(this._setFieldState(o,cl,t),this.options.recursiveSelection&&!n&&(t?this._setChildrenSelection():this._toggleChildrenSelection(o,t),this._setParentSelection())),this._selectedNodesKeys=this._updateNodesKeysArray(cl)}_isSingleModeUnselect(e){return!this.options.multipleSelection&&!e}toggleNodeDisabledState(e,t){const n=this.getNodeByKey(e);n&&this._setFieldState(n,Ite,t)}toggleSelectAll(e){if(!G(e))return;const t=this._selectedNodesKeys[this._selectedNodesKeys.length-1],n=this._isSingleModeUnselect(e)?this._initialDataStructure:this._dataStructure;ie(n,(s,r)=>{r&&this._isNodeVisible(r)&&this._setFieldState(r,cl,e)}),this._selectedNodesKeys=this._updateNodesKeysArray(cl),!e&&this.options.selectionRequired&&this.toggleSelection(t,!0)}isAllSelected(){return this.getSelectedNodesKeys().length?this.getSelectedNodesKeys().length===this.getVisibleItemsCount()?!0:void 0:!1}toggleExpansion(e,t){const n=this.getNodeByKey(e);n&&(this._setFieldState(n,Dd,t),t&&this._updateExpansion(e)),this._expandedNodesKeys=this._updateNodesKeysArray(Dd)}isFiltered(e){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[e]).length}static _createCriteria(e,t,n){const s=[];return Array.isArray(e)?(ie(e,(r,o)=>{s.push([o,n,t],"or")}),s.pop(),s):[e,n,t]}_filterDataStructure(e,t){const n=this.options.searchExpr??this.options.dataAccessors.getters.display,s=cC(this.options.searchMode),r=CS._createCriteria(n,e,s),o=t??this._initialDataStructure;return Hi(o,{langParams:this.options.langParams}).filter(r).toArray()}search(e){let t=this._filterDataStructure(e);const{dataConverter:n}=this.options,s=(r,o)=>{const{length:a}=r;let l=o;for(;l<a;){const d=r[l];if(d.internalFields.parentKey===this.options.rootValue)l+=1;else{const c=n.getParentNode(d);if(!c)pt.log("W1007",d.internalFields.parentKey,d.internalFields.key),l+=1;else if(c.internalFields.expanded||this._setFieldState(c,Dd,!0),r.includes(c))l+=1;else{r.splice(l,0,c),s(r,l);return}}}};return s(t,0),this.options.sort&&(t=Mo.queryByOptions(Hi(t),{sort:this.options.sort,langParams:this.options.langParams}).toArray()),n._indexByKey={},ie(t,(r,o)=>{o.internalFields.childrenKeys=[],n._indexByKey[o.internalFields.key]=r}),n._dataStructure=t,n.setChildrenKeys(),n._dataStructure}}class WM extends cS{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Oe.real().deviceType==="desktop"&&!Oe.isSimulator(),options:{focusStateEnabled:!0}}])}_init(){super._init(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()}_initDataSource(){var e;super._initDataSource(),(e=this._dataSource)===null||e===void 0||e.paginate(!1)}_initDataAdapter(){const e=this._createDataAdapterAccessors(),{items:t=[]}=this.option();this._dataAdapter=new CS(Object.assign({dataAccessors:{getters:e.getters,setters:e.setters},items:t},this._getDataAdapterOptions()))}_getDataAdapterOptions(){return{}}_getItemExtraPropNames(){return[]}_initDynamicTemplates(){const e=["text","html","items","icon"].concat(this._getItemExtraPropNames());this._templateManager.addDefaultTemplates({item:new hd(this._addContent.bind(this),e,this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})}_addContent(e,t){e.html(t.html).append(this._getIconContainer(t)).append(this._getTextContainer(t))}_getLinkContainer(e,t,n){const{linkAttr:s,url:r}=n,o=Me(s)?s:{};return M("<a>").addClass("dx-item-url").attr(Object.assign({},o,{href:r})).append(e).append(t)}_clickByLink(e){e.addEventListener("click",t=>{t.stopPropagation()},{once:!0}),e.click()}_getIconContainer(e){if(!e.icon)return;const t=Xr(e.icon);if(t.is("img")){var n;const s=(n=this.NAME)!==null&&n!==void 0&&n.startsWith("dxPrivateComponent")?"":`${this.NAME} `;t.attr("alt",`${s}item icon`)}return t}_getTextContainer(e){return M("<span>").text(e.text)}_initAccessors(){ie(this._getAccessors(),(e,t)=>{this._compileAccessor(t)}),this._compileDisplayGetter()}_getAccessors(){return["key","selected","items","disabled","parentId","expanded"]}_getChildNodes(e){const t=[];return ie(e.internalFields.childrenKeys,(n,s)=>{var r;const o=(r=this._dataAdapter)===null||r===void 0?void 0:r.getNodeByKey(s);t.push(o)}),t}_hasChildren(e){var t;return!!(!(e==null||(t=e.internalFields)===null||t===void 0||(t=t.childrenKeys)===null||t===void 0)&&t.length)}_compileAccessor(e){const t=`_${e}Getter`,n=`_${e}Setter`,s=this.option(`${e}Expr`);if(!s){this[t]=Te,this[n]=Te;return}if(Ie(s)){this[n]=(r,o)=>{r[s()]=o},this[t]=r=>r[s()];return}this[t]=qt(s),this[n]=s1(s)}_createDataAdapterAccessors(){const e={getters:{},setters:{}};return ie(this._getAccessors(),(t,n)=>{const s=`_${n}Getter`,r=`_${n}Setter`,o=n==="parentId"?"parentKey":n;e.getters[o]=this[s],e.setters[o]=this[r]}),e.getters.display=this._displayGetter??(t=>t.text),e}_initMarkup(){super._initMarkup(),this._addWidgetClass()}_addWidgetClass(){this._focusTarget().addClass(this._widgetClass())}_widgetClass(){return""}_renderItemFrame(e,t,n){const s=super._renderItemFrame(e,t,n);return s.toggleClass("dx-state-disabled",!!this._disabledGetter(t)),s}_optionChanged(e){switch(e.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),super._optionChanged(e);break;default:super._optionChanged(e)}}}const rr="dx-menu-item",Tte=`${rr}-content`,wx=`${rr}-selected`,Dte=`${rr}-wrapper`,Ate=`${rr}-expanded`,kte=`${rr}-has-text`,Ote=`${rr}-has-icon`,Rte=`${rr}-has-submenu`,UM=`${rr}-popout`,Pte=`${UM}-container`,KM=`${rr}-text`,zA={show:50},Mte=`${KM}-with-url`;class wS extends WM{_activeStateUnit(){return`.${rr}`}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return rr}_setAriaSelectionAttribute(e,t){}_selectedItemClass(){return wx}_widgetClass(){return"dx-menu-base"}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return Object.assign({},super._supportedKeys(),{space:()=>{const{focusedElement:e}=this.option(),t=M(e);!t.length||!this._isSelectionEnabled()||this.selectItem(t[0])},pageUp:Te,pageDown:Te})}_isSelectionEnabled(){const{selectionMode:e}=this.option();return e==="single"}_init(){super._init(),this._renderSelectedItem(),this._initActions()}_getLinkContainer(e,t,n){const{linkAttr:s,url:r}=n;return e==null||e.addClass("dx-icon-with-url"),t==null||t.addClass(Mte),super._getLinkContainer(e,t,{linkAttr:s,url:r})}_addContent(e,t){const{html:n,url:s}=t;if(s){e.html(n);const r=this._getLinkContainer(this._getIconContainer(t),this._getTextContainer(t),t);e.append(r)}else super._addContent(e,t);e.append(this._getPopoutContainer(t)),this._addContentClasses(t,e.parent())}_getTextContainer(e){const{text:t}=e;if(!t)return M();const n=M("<span>").addClass(KM),s=ot(e)?t:String(e);return n.text(s)}_getItemExtraPropNames(){return["url","linkAttr"]}_getPopoutContainer(e){const{items:t}=e;if(!(t!=null&&t.length))return M();const n=M("<div>").addClass(UM),s=M("<span>").addClass(Pte);return s.append(n),s}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(e){if(!e)return;const t=this._dataAdapter.getNodeByItem(e);t&&this._dataAdapter.toggleSelection(t.internalFields.key,!0)}_renderSelectedItem(){const e=this._dataAdapter.getSelectedNodesKeys(),t=e.length&&e[0],n=this.option("selectedItem");if(!t){this._selectByItem(n);return}const s=this._dataAdapter.getNodeByKey(t);if(!(!s||s.selectable===!1)){if(!n){this.option("selectedItem",s.internalFields.item);return}n!==s.internalFields.item&&(this._dataAdapter.toggleSelection(t,!1),this._selectByItem(n))}}_initActions(){}_initMarkup(){super._initMarkup();const{useInkRipple:e}=this.option();e&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=oS()}_toggleActiveState(e,t,n){if(super._toggleActiveState(e,t),!this._inkRipple)return;const s={element:e,event:n};t?this._inkRipple.showWave(s):this._inkRipple.hideWave(s)}_getShowSubmenuMode(){const{showSubmenuMode:e}=this.option(),t=Me(e)?e.name:e;return this._isDesktopDevice()?t:"onClick"}_isDesktopDevice(){return Oe.real().deviceType==="desktop"}_initEditStrategy(){this._editStrategy=new lS(this)}_addCustomCssClass(e){const{cssClass:t}=this.option();t&&e.addClass(t)}_hoverStartHandler(e){const t=this._getItemElementByEventArgs(e);if(!(!t||this._isItemDisabled(t))&&(e.stopPropagation(),this._getShowSubmenuMode()==="onHover")){const n=this._getSubmenuDelay();n===0?this._showSubmenu(t):(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,t),n))}}_getAvailableItems(e){return super._getAvailableItems(e).filter((t,n)=>M(n).css("visibility")!=="hidden")}_isItemDisabled(e){return this._disabledGetter(e.data(this._itemDataKey()))}_showSubmenu(e){this._addExpandedClass(e)}_addExpandedClass(e){M(e).addClass(Ate)}_getSubmenuDelay(){const{showSubmenuMode:e}=this.option(),t=Me(e)?e.delay:void 0;return G(t)?Me(t)?t.show??zA.show:t:zA.show}_getItemElementByEventArgs(e){let t=M(e.target);if(t.hasClass(this._itemClass())||t.get(0)===e.currentTarget)return t;for(;!t.hasClass(this._itemClass());)if(t=t.parent(),t.hasClass("dx-submenu"))return null;return t}_hoverEndHandler(e){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(e){return!!(e!=null&&e.internalFields.childrenKeys.length)}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(e,t){if(!e.length)return;this.hasIcons=!1;const n=this._renderContainer(this.$element(),t==null?void 0:t[0]);let s=-1,r=-1;ie(e,(o,a)=>{const l=a.visible!==!1;l&&s<0&&(s=o),s<o&&(a.beginGroup||o===r)&&(r=l?o:o+1),o===r&&s<o&&this._renderSeparator(n),this._renderItem(o,a,n)}),this.hasIcons||n.addClass("dx-menu-no-icons")}_renderContainer(e,t){const n=M("<ul>");return this.setAria("role","none",n),n.appendTo(e).addClass("dx-menu-items-container")}_createDOMElement(e){const t=M("<li>");return this.setAria("role","none",t),t.appendTo(e).addClass(Dte)}_renderItem(e,t,n,s){var r;const{items:o=[]}=this.option(),a=s??this._createDOMElement(n);(r=o[e+1])!==null&&r!==void 0&&r.beginGroup&&a.addClass("dx-menu-last-group-item");const l=super._renderItem(e,t.internalFields.item,a);return t.internalFields.item===this.option("selectedItem")&&l.addClass(wx),l.attr("tabIndex",-1),this._hasSubmenu(t)&&this.setAria("haspopup","true",l),l}_renderItemFrame(e,t,n){const s=n.children(`.${rr}`);return s.length?s:super._renderItemFrame(e,t,n)}_refreshItem(e,t){const n=this._dataAdapter.getNodeByItem(t);if(!n)return;const s=e.data(this._itemIndexKey()),r=e.closest("ul"),o=e.closest("li");this._renderItem(s,n,r,o)}_addContentClasses(e,t){const n=e.text?!!e.text.length:!1,s=!!e.icon,r=e.items?!!e.items.length:!1;t.toggleClass(kte,n),t.toggleClass(Ote,s),this.hasIcons||(this.hasIcons=s),t.toggleClass(Rte,r)}_getItemContent(e){let t=super._getItemContent(e);return t.length||(t=e.children(`.${Tte}`)),t}_postprocessRenderItem(e){const t=M(e.itemElement),n=this._dataAdapter.getSelectedNodesKeys();if(!n.length||!this._selectedGetter(e.itemData)||!this._isItemSelectable(e.itemData)){this._setAriaSelectionAttribute(t,"false");return}const s=this._dataAdapter.getNodeByItem(e.itemData);s&&s.internalFields.key===n[0]?(t.addClass(this._selectedItemClass()),this._setAriaSelectionAttribute(t,"true")):this._setAriaSelectionAttribute(t,"false")}_isItemSelectable(e){return e.selectable!==!1}_renderSeparator(e){M("<li>").appendTo(e).addClass("dx-menu-separator")}_itemClickHandler(e){if(e._skipHandling)return;const t=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(e,"onItemClick",{},{beforeExecute:this._itemClick,afterExecute:t.bind(this)}),e._skipHandling=!0}_isUrlItem(e){return!!e&&"url"in e&&!!e.url}_itemClick(e){var t;const{event:n,itemData:s}=((t=e.args)===null||t===void 0?void 0:t[0])??{};if(!n)return;const r=this._getItemElementByEventArgs(n),o=r==null?void 0:r.find(".dx-item-url")[0];!this._isUrlItem(s)||!o||M(n.target).closest(".dx-item-url").length||this._clickByLink(o)}_updateSubmenuVisibilityOnClick(e){if(this._updateSelectedItemOnClick(e),this._getShowSubmenuMode()==="onClick"){var t;const n=(t=e.args)===null||t===void 0?void 0:t[0].itemElement;n&&this._addExpandedClass(n)}}_updateSelectedItemOnClick(e){const t=e.args?e.args[0]:e,{itemData:n}=t;if(!n||!this._isItemSelectAllowed(n))return;const s=this._dataAdapter.getSelectedNodesKeys(),r=s.length&&this._dataAdapter.getNodeByKey(s[0]);r&&this._toggleItemSelection(r,!1),!r||r.internalFields.item!==n?this.selectItem(n):(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null))}_isItemSelectAllowed(e){const{selectByClick:t}=this.option(),n=this._isSelectionEnabled()&&t;return!this._isContainerEmpty()&&n&&this._isItemSelectable(e)&&!this._itemsGetter(e)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return S6()}_optionChanged(e){switch(e.name){case"showSubmenuMode":break;case"selectedItem":{const t=e.value?this._dataAdapter.getNodeByItem(e.value):null,n=this._dataAdapter.getSelectedNodesKeys()[0];if(t&&t.internalFields.key!==n){if(t.selectable===!1)break;const s=this._dataAdapter.getNodeByKey(n);n&&s&&this._toggleItemSelection(s,!1),this._toggleItemSelection(t,!0)}break}case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(e)}}_toggleItemSelection(e,t){const n=this._getElementByItem(e.internalFields.item);n&&M(n).toggleClass(wx),this._dataAdapter.toggleSelection(e.internalFields.key,t)}_getElementByItem(e){let t=M();return ie(this._itemElements(),(n,s)=>M(s).data(this._itemDataKey())!==e?!0:(t=s,!1)),t}_updateSelectedItems(){}_updateSelectedItem(e,t){(e||t)&&this._fireSelectionChangeEvent(e,t)}_fireSelectionChangeEvent(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[e],removedItems:[t]})}selectItem(e){const t=(n=e,typeof n=="object"&&"nodeType"in n&&!!n.nodeType?this._getItemData(e):e);var n;const s=this._dataAdapter.getSelectedNodesKeys()[0],r=this.option("selectedItem"),o=this._dataAdapter.getNodeByItem(t);if(o&&o.internalFields.key!==s){const a=this._dataAdapter.getNodeByKey(s);s&&a&&this._toggleItemSelection(a,!1),this._toggleItemSelection(o,!0),this._updateSelectedItem(t,r),this._setOptionWithoutOptionChange("selectedItem",t)}}unselectItem(e){const t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getNodeByItem(t),s=this.option("selectedItem");n!=null&&n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItem(null,s),this._setOptionWithoutOptionChange("selectedItem",null))}}wS.ItemClass=Ua;const Fte="dx-menu-phone-overlay",WA=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],Bte=["up","down","first","last"],UA=bt();class SS extends wS{getShowEvent(e){return Me(e)?e.name===null?null:e.name??"dxcontextmenu":e??null}getShowDelay(e){return Me(e)?e.delay??0:0}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{showEvent:"dxcontextmenu",hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null,hideOnParentScroll:!0,visualContainer:UA})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!st(),options:{animation:null}}])}_initActions(){this._actions={},ie(WA,(e,t)=>{this._actions[t]=this._createActionByOption(t)||Te})}_setOptionsByReference(){super._setOptionsByReference(),se(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){var e;return((e=this._overlay)===null||e===void 0?void 0:e.$content())??M()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){var e;return((e=this._overlay)===null||e===void 0?void 0:e.$content())??M()}_supportedKeys(){return Object.assign({},super._supportedKeys(),{space:()=>{const{focusedElement:e}=this.option(),t=M(e);this.hide(),!(!t.length||!this._isSelectionEnabled())&&this.selectItem(t[0])},escape:()=>{this.hide()}})}_getActiveItem(e){const t=this._getAvailableItems(),n=t.filter(".dx-state-focused"),s=t.filter(".dx-state-hover");return s.closest(".dx-menu-items-container").find(".dx-menu-item").index(n)>=0?n:s.length?s:super._getActiveItem()}_moveFocus(e){const t=this._getItemsByLocation(e),n=this._getActiveItem(!0),s=this.itemsContainer().find(".dx-state-hover"),{focusedElement:r,rtlEnabled:o}=this.option(),l=!!(M(r).length||s!=null&&s.length);let d;switch(e){case"up":if(d=l?this._prevItem(t):n,this._setFocusedElement(d),n.is(t.first())){var c,h;(c=(h=this._actions).onLeftFirstItem)===null||c===void 0||c.call(h,n)}break;case"down":if(d=l?this._nextItem(t):n,this._setFocusedElement(d),n.is(t.last())){var u,p;(u=(p=this._actions).onLeftLastItem)===null||u===void 0||u.call(p,n)}break;case"right":d=o?this._hideSubmenuHandler():this._expandSubmenuHandler(t,e),this._setFocusedElement(d);break;case"left":d=o?this._expandSubmenuHandler(t,e):this._hideSubmenuHandler(),this._setFocusedElement(d);break;case"first":d=t.first(),this._setFocusedElement(d);break;case"last":d=t.last(),this._setFocusedElement(d);break;default:return super._moveFocus(e)}}_setFocusedElement(e){e&&e.length!==0&&(this.option("focusedElement",We(e)),this._scrollToElement(e))}_scrollToElement(e){const t=e.closest(`.${aC}`),n=ys.getInstance(t.get(0));n==null||n.scrollToElement(e)}_getItemsByLocation(e){const t=this._getActiveItem(!0);let n;return Bte.includes(e)&&(n=t.closest(".dx-menu-items-container").children().children()),n=this._getAvailableItems(n),n}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(G(this._overlay)){const e=this._overlay.$content();super._refreshActiveDescendant(e)}}_hideSubmenuHandler(){var e,t;const n=this._getActiveItem(!0),s=n.parents(".dx-menu-item-expanded").first();if(s.length)return this._hideSubmenusOnSameLevel(s),this._hideSubmenu(n.closest(".dx-submenu")),s;(e=(t=this._actions).onCloseRootSubmenu)===null||e===void 0||e.call(t,n)}_expandSubmenuHandler(e,t){var n,s;const r=this._getActiveItem(!0),o=this._getItemData(r),a=this._dataAdapter.getNodeByItem(o),l=this._hasSubmenu(a),d=r.children(".dx-submenu");if(l&&!r.hasClass("dx-state-disabled"))return(!d.length||d.css("visibility")==="hidden")&&this._showSubmenu(r),this._nextItem(this._getItemsByLocation(t));(n=(s=this._actions).onExpandLastSubmenu)===null||n===void 0||n.call(s,r)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),this._shownSubmenus=[],super._clean()}_initMarkup(){this.$element().addClass("dx-has-context-menu"),this._eventNamespace=`${this.NAME}${new Xt}`,super._initMarkup()}_render(){super._render();const{visible:e}=this.option();this._renderVisibility(e),this._addWidgetClass()}_isTargetOutOfComponent(e){return!(M(e).closest(".dx-context-menu").length!==0)}_focusOutHandler(e){const{relatedTarget:t}=e;t&&this._isTargetOutOfComponent(t)&&this.hide(),super._focusOutHandler(e)}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._showContextMenuEventHandler=this._createShowContextMenuEventHandler(),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(this._overlay)return;const e=this._getOverlayOptions();this._overlay=this._createComponent(M("<div>").appendTo(this.$element()),Ps,e);const t=this._overlay.$content();t&&(t.addClass("dx-context-menu"),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this._attachContextMenuEvent())}preventShowingDefaultContextMenuAboveOverlay(){const e=this._itemContainer(),t=be(rS,this._eventNamespace);Y.off(e,t,".dx-submenu"),Y.on(e,t,".dx-submenu",n=>{n.stopPropagation(),n.preventDefault(),Y.off(e,t,".dx-submenu")})}_itemContextMenuHandler(e){super._itemContextMenuHandler(e),e.stopPropagation()}_addPlatformDependentClass(e){Oe.current().phone&&e.addClass(Fte)}_createShowContextMenuEventHandler(){const e=this._createAction(t=>{const{showEvent:n}=this.option(),s=this.getShowDelay(n);s?setTimeout(()=>this._show(t.event),s):this._show(t.event)},{validatingTargetName:"target"});return t=>e({event:t,target:M(t.currentTarget)})}_detachShowContextMenuEvents(e,t){const{showEvent:n}=this.option(),s=this.getShowEvent(t??n);if(!s)return;const r=Ke(e),o=be(s,this._eventNamespace);r?Y.off(ve.getDocument(),o,e,this._showContextMenuEventHandler):Y.off(M(e),o,this._showContextMenuEventHandler)}_attachShowContextMenuEvents(){const{showEvent:e,disabled:t}=this.option(),n=this.getShowEvent(e);if(!n||t)return;const s=this._getTarget(),r=Ke(s),o=be(n,this._eventNamespace);r?Y.on(ve.getDocument(),o,s,this._showContextMenuEventHandler):Y.on(s,o,this._showContextMenuEventHandler)}_hoverEndHandler(e){super._hoverEndHandler(e),e.stopPropagation()}_renderDimensions(){}_renderContainer(e,t){const n=t??this._itemContainer();e=M("<div>"),e.appendTo(n).addClass("dx-submenu").css("visibility",t?"hidden":"visible"),e.parent().hasClass("dx-overlay-content")||this._addCustomCssClass(e);const s=super._renderContainer(e);if(t)return s;const{width:r,height:o}=this.option();return r?s.css("minWidth",r):o?s.css("minHeight",o):s}_renderSubmenuItems(e,t){var n,s;this._renderItems(this._getChildNodes(e),t);const r=t.children(".dx-submenu");(n=(s=this._actions).onSubmenuCreated)===null||n===void 0||n.call(s,{itemElement:We(t),itemData:e.internalFields.item,submenuElement:We(r)}),this._initScrollable(r),this.setAria({role:"menu"},r)}_getOverlayOptions(){const{position:e,focusStateEnabled:t,animation:n,hideOnParentScroll:s,visualContainer:r,overlayContainer:o,boundaryOffset:a}=this.option();return{focusStateEnabled:t,animation:n,innerOverlay:!0,hideOnOutsideClick:l=>this._hideOnOutsideClickHandler(l),propagateOutsideClick:!0,hideOnParentScroll:s,deferRendering:!1,container:o,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit",boundary:r,boundaryOffset:a},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:r}}_overlayShownActionHandler(e){var t,n;(t=(n=this._actions).onShown)===null||t===void 0||t.call(n,e)}_overlayHidingActionHandler(e){var t,n;(t=(n=this._actions).onHiding)===null||t===void 0||t.call(n,e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(e){var t,n;(t=(n=this._actions).onHidden)===null||t===void 0||t.call(n,e)}_shouldHideOnOutsideClick(e){const{hideOnOutsideClick:t}=this.option();return Ie(t)?t(e):t}_hideOnOutsideClickHandler(e){if(!this._shouldHideOnOutsideClick(e))return!1;if(ve.isDocument(e.target))return!0;const t=this._getActiveItemsContainer(e.target),n=this._getItemsContainers(),s=this._searchActiveItem(e.target),r=this.$element().parents(".dx-menu-item"),o=s[0]===r[0]&&!!s.length&&!!r.length;return this._isIncludeOverlay(t,n)&&!!s.length||o?(this._getShowSubmenuMode()==="onClick"&&this._hideAllShownChildSubmenus(s),!1):!0}_getActiveItemsContainer(e){return M(e).closest(".dx-menu-items-container")}_getItemsContainers(){var e;return((e=this._overlay)===null||e===void 0||(e=e.$content())===null||e===void 0?void 0:e.find(".dx-menu-items-container"))??M()}_searchActiveItem(e){return M(e).closest(".dx-menu-item").eq(0)}_isIncludeOverlay(e,t){let n=!1;return ie(t,(s,r)=>{e.is(r)&&!n&&(n=!0)}),n}_hideAllShownChildSubmenus(e){const t=e.find(".dx-submenu"),n=se([],this._shownSubmenus);t.length>0&&ie(n,(s,r)=>{const o=this._searchActiveItem(r.context).parent();o.parent().is(e.parent().parent())&&!o.is(e.parent())&&this._hideSubmenu(r)})}_initScrollable(e){this._createComponent(e,ys,{useKeyboard:!1,_onVisibilityChanged:t=>{t.scrollTo(0)}})}_setSubMenuHeight(e,t){const n=e.find(".dx-menu-items-container"),s=gt(n),r=this._getMaxHeight(t,!1),o=Math.min(s,r);e.css("height",o)}_getMaxUsableSpace(e,t,n){return t}_getMaxHeight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=gt(UA),s=Dr(e),r=ve.getDocument(),o=Me(e)&&"length"in e&&e.length&&e[0]===r;if(!s||o)return n;const a=e==null?void 0:e[0].getBoundingClientRect().top,l=gt(e);return(t?this._getMaxUsableSpace(a,n,l):Math.max(a+l,n-a))-10}_setOverlayMaxHeight(e){var t;e&&((t=this._overlay)===null||t===void 0||t.option({maxHeight:()=>{const n=e.find(".dx-menu-items-container"),s=gt(n),r=this._getSubmenuBorderWidth();return s+2*r}}),e.css("height","100%"))}_dimensionChanged(){this._shownSubmenus&&this._shownSubmenus.forEach(e=>{const t=e.closest(".dx-menu-item");this._setSubMenuHeight(e,t),this._scrollToElement(t);const n=this._getSubmenuPosition(t);lr.setup(e,n)})}_getSubmenuBorderWidth(){return qP(Yt())?1:0}_showSubmenu(e){const t=this._dataAdapter.getNodeByItem(this._getItemData(e));if(this._hideSubmenusOnSameLevel(e),!this._hasSubmenu(t))return;let n=e.children(".dx-submenu");const s=n.length;super._showSubmenu(e),t&&!s&&(this._renderSubmenuItems(t,e),n=e.children(".dx-submenu")),this._planPostRenderActions(n)}_setSubmenuVisible(e){if(!e)return;const t=e==null?void 0:e.closest(".dx-menu-item");this._setSubMenuHeight(e,t),!this._isSubmenuVisible(e)&&t&&this._drawSubmenu(t)}_hideSubmenusOnSameLevel(e){const t=e.parent(".dx-menu-item-wrapper").siblings().find(".dx-menu-item-expanded");t.length&&(t.removeClass("dx-menu-item-expanded"),this._hideSubmenu(t.find(".dx-submenu")))}_isSubmenuVisible(e){return e.css("visibility")==="visible"}_drawSubmenu(e){var t;const{animation:n}=this.option(),s=n?n.show:{},r=e.children(".dx-submenu"),o=this._getSubmenuPosition(e);(t=this._overlay)!==null&&t!==void 0&&t.option("visible")&&(G(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(r)||this._shownSubmenus.push(r),s&&Ht.stop(r.get(0),!1),lr.setup(r,o),s&&(ot(s.to)&&(s.to.position=o),this._animate(r.get(0),s)),r.css("visibility","visible"))}_animate(e,t){Ht.animate(e,t)}_getSubmenuPosition(e){const{submenuDirection:t,rtlEnabled:n}=this.option(),s=t==null?void 0:t.toLowerCase(),o={collision:"flip",of:e.parent(".dx-menu-item-wrapper"),offset:{h:0,v:-1}};switch(s){case"left":o.at="left top",o.my="right top";break;case"right":o.at="right top",o.my="left top";break;default:n?(o.at="left top",o.my="right top"):(o.at="right top",o.my="left top")}return o}_updateSubmenuVisibilityOnClick(e){var t;if(!((t=e.args)!==null&&t!==void 0&&t.length))return;const{itemData:n,itemElement:s}=e.args[0];if(!n)return;const r=this._dataAdapter.getNodeByItem(n);if(!r)return;const o=M(s);let a=o.find(".dx-submenu");if(this._hasSubmenu(r)&&!a.length&&(this._renderSubmenuItems(r,o),a=o.find(".dx-submenu")),o.context===a.context&&a.css("visibility")==="visible")return;this._updateSelectedItemOnClick(e);const d=n&&n.closeMenuOnClick===!1;if(!(!n||n.disabled||d))if(a.length===0){var c;const h=M(o.parents(".dx-submenu")[0]);this._hideSubmenu(h),!e.canceled&&(c=this._overlay)!==null&&c!==void 0&&c.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(a)&&this._hideSubmenu(a),this._showSubmenu(o)}_hideSubmenu(e){const t=this._shownSubmenus??[];ie(t,(n,s)=>{(e.is(s)||za(e[0],s[0]))&&(s.parent().removeClass("dx-menu-item-expanded"),this._hideSubmenuCore(s))})}_hideSubmenuCore(e){const t=(this._shownSubmenus??[]).indexOf(e),{animation:n}=this.option(),s=n?n.hide:null;t>=0&&(this._shownSubmenus??[]).splice(t,1),this._stopAnimate(e),s&&this._animate(e.get(0),s),e.css("visibility","hidden"),e.dxScrollable("instance").scrollTo(0),this.option("focusedElement",null)}_stopAnimate(e){Ht.stop(e.get(0),!0)}_hideAllShownSubmenus(){var e;const t=se([],this._shownSubmenus);(((e=this._overlay)===null||e===void 0||(e=e.$content())===null||e===void 0?void 0:e.find(".dx-menu-item-expanded"))??M()).removeClass("dx-menu-item-expanded"),ie(t,(s,r)=>{this._hideSubmenu(r)})}_visibilityChanged(e){e&&this._renderContentImpl()}_optionChanged(e){const{name:t,value:n,previousValue:s}=e;if(WA.includes(t)){this._initActions();return}switch(t){case"visible":this._renderVisibility(n);break;case"disabled":case"position":case"submenuDirection":this._invalidate();break;case"showEvent":s&&this._detachShowContextMenuEvents(this._getTarget(),s),this._invalidate();break;case"target":s&&this._detachShowContextMenuEvents(s),this._invalidate();break;case"hideOnOutsideClick":case"hideOnParentScroll":case"visualContainer":break;default:super._optionChanged(e)}}_renderVisibility(e){return e?this._show():this._hide()}_toggleVisibility(){}_show(e){var t,n;const s={jQEvent:e};let r=de().reject().promise();if((t=(n=this._actions).onShowing)===null||t===void 0||t.call(n,s),s.cancel)return r;const o=this._positionContextMenu(e);if(o){var a,l,d;if(!this._overlay){var c;this._renderContextMenuOverlay(),(c=this._overlay.$content())===null||c===void 0||c.addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes())}const h=M((a=this._overlay)===null||a===void 0?void 0:a.content()).children(".dx-submenu");this._setOptionWithoutOptionChange("visible",!0),(l=this._overlay)===null||l===void 0||l.option({height:()=>this._getMaxHeight(o.of),position:o}),this._setOverlayMaxHeight(h),this._planPostRenderActions(h,!0),this._overlay&&(r=this._overlay.show()),e==null||e.stopPropagation(),this._setAriaAttributes(),(e==null||(d=e.originalEvent)===null||d===void 0?void 0:d.type)===Fo.name&&this.preventShowingDefaultContextMenuAboveOverlay()}return r}_renderItems(e,t){var n;super._renderItems(e,t);const s=M((n=this._overlay)===null||n===void 0?void 0:n.content()).children(".dx-submenu");s.length&&this._initScrollable(s)}_setAriaAttributes(){var e;this._overlayContentId=`dx-${new Xt}`,this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},(e=this._overlay)===null||e===void 0?void 0:e.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){const{target:e,position:t}=this.option();return e||(t==null?void 0:t.of)||M(ve.getDocument())}_getContextMenuPosition(){const{position:e}=this.option();return Object.assign({},e,{of:this._getTarget()})}_positionContextMenu(e){let t=this._getContextMenuPosition();const n=this._isInitialOptionValue("position"),s=this._createActionByOption("onPositioning");e!=null&&e.preventDefault&&n&&(t.of=e);const r={position:t,event:e};return s(r),r.cancel?t=null:r.event&&(r.event.cancel=!0,e==null||e.preventDefault()),t}_refresh(){if(!st())super._refresh();else if(this._overlay){const{position:e}=this._overlay.option();super._refresh(),this._overlay&&this._overlay.option("position",e)}else super._refresh()}_hide(){let e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e??de().reject().promise()}toggle(e){const{visible:t}=this.option();return this._renderVisibility(e??!t)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}_postProcessRenderItems(e,t){if(!t){this._setSubmenuVisible(e);return}this._setOverlayMaxHeight(e)}}St("dxContextMenu",SS);const Nte="dx-context-menu",Vte={columnHeadersView:"header",rowsView:"content",footerView:"footer",headerPanel:"toolbar"},Lte=["columnHeadersView","rowsView","footerView","headerPanel"];class $te extends fn.ViewController{init(){this.createAction("onContextMenuPreparing")}getContextMenuItems(e){if(!e)return!1;const t=this,n=M(e.target);let s;return ie(Lte,function(){const r=t.getView(this);if(!r)return;const o=r.element();if((o==null?void 0:o.is(n))||(o==null?void 0:o.find(n).length)){var l,d,c;const u=n.hasClass("dx-group-row")?n.find(".dx-group-cell").first():n.closest(".dx-row > td, .dx-row > tr"),p=u.parent(),f=r.getRowIndex(p),g=(l=u[0])===null||l===void 0?void 0:l.cellIndex,m=p.data("options"),v={event:e,targetElement:We(n),target:Vte[this],rowIndex:f,row:r._getRows()[f],columnIndex:g,column:m==null||(d=m.cells)===null||d===void 0||(d=d[g])===null||d===void 0?void 0:d.column};if(v.items=(c=r.getContextMenuItems)===null||c===void 0?void 0:c.call(r,v),t.executeAction("onContextMenuPreparing",v),t._contextMenuPrepared(v),s=v.items,s)return!1}}),s}_contextMenuPrepared(e){}}class Hte extends fn.View{init(){super.init(),this._contextMenuController=this.getController("contextMenu")}_renderCore(){const e=this.element().addClass(Nte);this.setAria("role","presentation",e),this._createComponent(e,SS,{onPositioning:t=>{const{event:n}=t,s=t.component,r=this._contextMenuController.getContextMenuItems(n);r?(s.option("items",r),n.stopPropagation()):t.cancel=!0},onItemClick(t){var n,s;(n=t.itemData)===null||n===void 0||(s=n.onItemClick)===null||s===void 0||s.call(n,t)},cssClass:this.getWidgetContainerClass(),target:this.component.$element()})}}const jte={defaultOptions:()=>({onContextMenuPreparing:null}),controllers:{contextMenu:$te},views:{contextMenuView:Hte}};Ue.registerModule("contextMenu",jte);class zte extends fn.ViewController{init(){this._resizingController=this.getController("resizing"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._toastViewController=this.getController("toastViewController"),this._rowsView=this.getView("rowsView")}_createErrorRow(e,t){let n,s;const r=this._renderErrorMessage(e);return t?(n=M("<tr>").attr("role","row").addClass("dx-error-row"),s=M("<div>").addClass("dx-closebutton").addClass(this.addWidgetPrefix("action")),Y.on(s,Nt,this.createAction(o=>{var a,l;const d=o.event;let c;const h=M(d.currentTarget).closest(".dx-error-row").index();d.stopPropagation(),ie(t,(u,p)=>{c=M(p).children("tbody").children("tr").eq(h),this.removeErrorRow(c)}),(a=this._resizingController)===null||a===void 0||(l=a.fireContentReadyAction)===null||l===void 0||l.call(a)})),M("<td>").attr({colSpan:this._columnsController.getVisibleColumns().length,role:"gridcell"}).prepend(s).append(r).appendTo(n),n):r}_renderErrorMessage(e){const t=e.url?e.message.replace(e.url,""):e.message||e,n=M("<div>").attr("role","alert").attr("aria-roledescription",ue.format("dxDataGrid-ariaError")).addClass("dx-error-message").text(t);return e.url&&M("<a>").attr("href",e.url).text(e.url).appendTo(n),n}renderErrorRow(e,t,n){var s,r;const o=this;let a,l;if(n)return n.find(".dx-error-message").remove(),a=o._createErrorRow(e),n.prepend(a),a;const d=t>=0||!o._columnHeadersView.isVisible()?o._rowsView:o._columnHeadersView,c=d.getTableElements();return ie(c,(h,u)=>{if(a=o._createErrorRow(e,c),l=l||a,t>=0){const p=d._getRowElements(M(u)).eq(t);o.removeErrorRow(p.next()),a.insertAfter(p)}else{const p=M(u).children("tbody"),f=p.children("tr");o._columnHeadersView.isVisible()?(o.removeErrorRow(f.last()),M(u).append(a)):(o.removeErrorRow(f.first()),p.first().prepend(a))}}),(s=this._resizingController)===null||s===void 0||(r=s.fireContentReadyAction)===null||r===void 0||r.call(s),l}removeErrorRow(e){if(!e){const t=this._columnHeadersView&&this._columnHeadersView.element();if(e=t&&t.find(".dx-error-row"),!e||!e.length){const n=this._rowsView.element();e=n&&n.find(".dx-error-row")}}e&&e.hasClass("dx-error-row")&&e.remove()}optionChanged(e){e.name==="errorRowEnabled"?e.handled=!0:super.optionChanged(e)}showToastError(e){this._toastViewController.showToast(e,{type:"error"})}}const Wte=i=>class extends i{init(){super.init(),this.dataErrorOccurred.add((e,t)=>{this.option("errorRowEnabled")&&this._errorHandlingController.renderErrorRow(e,void 0,t)}),this.changed.add(e=>{if(!(e&&e.changeType==="loadError")&&this._editingController&&!this._editingController.hasChanges()){var t,n;(t=this._errorHandlingController)===null||t===void 0||(n=t.removeErrorRow)===null||n===void 0||n.call(t)}})}},Ute={defaultOptions:()=>({errorRowEnabled:!0}),controllers:{errorHandling:zte},extenders:{controllers:{data:Wte}}};Ue.registerModule("errorHandling",Ute);const Kte={container:"dx-gridbase-a11y-status-container"},Gte=i=>{let{statusText:e}=i;return M("<div>").text(e??"").addClass(Kte.container).attr("role","status")},ES=["columnsSeparatorView","blockSeparatorView","trackerView","headerPanel","columnHeadersView","rowsView","footerView","columnChooserView","filterPanelView","pagerView","draggingHeaderView","contextMenuView","errorView","headerFilterView","filterBuilderView","toastView","aiPromptEditorView"],qte={a11yStatusContainer:"e2e-a11y-general-status-container"},Su=function(i){return Ke(i)&&i.endsWith("%")},Yte=function(i){return Ke(i)&&i.endsWith("px")},GM=function(i,e){const t=i._rowsView.contentWidth(),n=i._getTotalWidth(e,t);return t-n},Xte=function(i,e,t,n){return GM(i,n.map((s,r)=>r===e?t:s))},Zte=function(i,e){o5(i,!0),xe.setSelectionRange(i,e)};class Qte extends fn.ViewController{callbackNames(){return["resizeCompleted"]}init(){this._prevContentMinHeight=null,this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._columnHeadersView=this.getView("columnHeadersView"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._editorFactoryController=this.getController("editorFactory"),this._footerView=this.getView("footerView"),this._rowsView=this.getView("rowsView"),this._gridView=this.getView("gridView")}_initPostRenderHandlers(){this._refreshSizesHandler||(this._refreshSizesHandler=e=>{let t=new de().resolve(null);const n=e==null?void 0:e.changeType,s=e==null?void 0:e.isDelayed,r=n&&n!=="updateSelection"&&n!=="updateFocusedRow"&&n!=="pageIndex"&&!s;this._dataController.changed.remove(this._refreshSizesHandler),this._checkSize()&&(t=this._refreshSizes(e)),r&&Ae(t).done(()=>{this._setAriaLabel(e),this.fireContentReadyAction()})},this._dataController.changed.add(()=>{this._dataController.changed.add(this._refreshSizesHandler)}))}_refreshSizes(e){let t=new de().resolve(null);const n=e==null?void 0:e.changeType,s=e==null?void 0:e.isDelayed,r=this._dataController.items();if(!e||n==="refresh"||n==="prepend"||n==="append")s||(t=this.resize());else if(n==="update"){var o;if(((o=e.changeTypes)===null||o===void 0?void 0:o.length)===0)return t;(r.length>1||e.changeTypes[0]!=="insert")&&!(r.length===0&&e.changeTypes[0]==="remove")&&!e.needUpdateDimensions?(t=new de,this._waitAsyncTemplates().done(()=>{Si(()=>qn(()=>Si(()=>{this._setScrollerSpacing(),this._rowsView.resize(),t.resolve()})))}).fail(t.reject)):t=this.resize()}return t}fireContentReadyAction(){this.component._fireContentReadyAction()}_getWidgetAriaLabel(){return"dxDataGrid-ariaDataGrid"}_setAriaLabel(e){var t;let n="",s=[];const r=((t=this._columnsController)===null||t===void 0||(t=t._columns)===null||t===void 0?void 0:t.filter(c=>{let{visible:h}=c;return!!h}).length)??0,o=Math.max(0,this._dataController.totalItemsCount()),a=this._getWidgetAriaLabel();n=ue.format(a,o,r);const l=ue.format(this._expandableWidgetAriaId);s=[n],l&&s.push(l);const d=this.component.$element().children(".dx-gridbase-container");this.component.setAria("label",s.join(". "),d),e!=null&&e.isFirstRender||this._gridView.setWidgetA11yStatusText(n)}_getBestFitWidths(){var e;const t=this._rowsView,n=this._columnHeadersView;let s=t.getColumnWidths();if(!((e=s)!==null&&e!==void 0&&e.length)){var r;const o=n.getTableElement();n.setTableElement((r=t.getTableElement())===null||r===void 0?void 0:r.children(".dx-header")),s=n.getColumnWidths(),n.setTableElement(o)}return s}_setVisibleWidths(e,t){const n=this._columnsController;n.beginUpdate(),ie(e,(s,r)=>{const o=n.getColumnId(r);n.columnOption(o,"visibleWidth",t[s])}),n.endUpdate()}_toggleBestFitModeForView(e,t,n){if(!e||!e.isVisible())return;const s=this._rowsView.getTableElements(),r=e.getTableElements();ie(s,(o,a)=>{let l;const d=M(a),c=r.eq(o);c&&c.length&&(n?l=c.children("tbody").appendTo(d):l=d.children(`.${t}`).appendTo(c),l.toggleClass(t,n),l.toggleClass(this.addWidgetPrefix("best-fit"),n))})}_toggleBestFitMode(e){const t=this._rowsView.getTableElement(),n=this._rowsView.getTableElements().eq(1);t&&(t.css("tableLayout",e?"auto":"fixed"),t.children("colgroup").css("display",e?"none":""),ie(n.find("tr.dx-group-row"),(s,r)=>{M(r).css("display",e?"none":"")}),n.toggleClass(this.addWidgetPrefix("table-fixed"),!e),this._toggleBestFitModeForView(this._columnHeadersView,"dx-header",e),this._toggleBestFitModeForView(this._footerView,"dx-footer",e),this._needStretch()&&(t.get(0).style.width=e?"auto":""))}_toggleContentMinHeight(e){const t=this._rowsView.getScrollable(),n=this._rowsView._findContentElement();(t==null?void 0:t.option("useNative"))===!1&&(e===!0&&(this._prevContentMinHeight=n.get(0).style.minHeight),G(this._prevContentMinHeight)&&n.css({minHeight:e?xe.getContentHeightLimit(gn):this._prevContentMinHeight}))}_synchronizeColumns(){const e=this._columnsController,t=e.getVisibleColumns(),n=this.option("columnAutoWidth"),s=t.some(p=>!G(p.width));let r=this._needBestFit(),o=!1,a,l=!1,d=[],c,h;!r&&ie(t,(p,f)=>{if(f.width==="auto")return r=!0,!1}),ie(t,(p,f)=>{if(f.minWidth)return o=!0,!1}),this._toggleContentMinHeight(this._hasHeight),this._setVisibleWidths(t,[]);const u=this.component.$element();r&&(c=ve.getActiveElement(u.get(0)),h=xe.getSelectionRange(c),this._toggleBestFitMode(!0),a=!0),u&&u.get(0)&&this._maxWidth&&(delete this._maxWidth,u[0].style.maxWidth=""),Si(()=>{r?(d=this._getBestFitWidths(),ie(t,(p,f)=>{const g=e.getColumnId(f);e.columnOption(g,"bestFitWidth",d[p],!0)})):o&&(d=this._getBestFitWidths()),ie(t,function(p){const{width:f}=this;f!=="auto"&&(G(f)?d[p]=jt(f)||Yte(f)?parseFloat(f):f:n||(d[p]=void 0))}),a&&(this._toggleBestFitMode(!1),a=!1,c&&c!==ve.getActiveElement()&&(en(c).bottom<0||Zte(c,h))),l=this._correctColumnWidths(d,t),n&&(function(){let p;ie(t,(f,g)=>{g.type==="groupExpand"&&(p=d[f])}),ie(t,(f,g)=>{g.type==="groupExpand"&&p&&(d[f]=p)})}(),this._needStretch()&&this._processStretch(d,t)),qn(()=>{(r||l||s)&&this._setVisibleWidths(t,d),this._toggleContentMinHeight(!1)})})}_needBestFit(){return this.option("columnAutoWidth")}_needStretch(){return this._columnsController.getVisibleColumns().some(e=>e.width==="auto"&&!e.command)}_getAverageColumnsWidth(e){const t=GM(this,e),n=e.filter(s=>s===void 0).length;return t/n}_correctColumnWidths(e,t){const n=this;let s,r=!1,o=!1,a=!1;const l=n.component.$element(),d=n._hasWidth;for(s=0;s<t.length;s++){const c=s,h=t[c],u=e[c]==="adaptiveHidden";let p=e[c];const{minWidth:f}=h;f&&(p===void 0?p=n._getAverageColumnsWidth(e):Su(p)&&Xte(n,c,f,e)<0&&(p=-1));const g=n._getRealColumnWidth(c,e.map((m,v)=>c===v?p:m));f&&!u&&g<f&&(e[c]=f,a=!0,s=-1),G(h.width)||(o=!0),Su(h.width)&&(r=!0)}if(!o&&e.length){const c=n._rowsView.element(),h=n._rowsView.contentWidth(),u=n._rowsView.getScrollbarWidth(),p=n._getTotalWidth(e,h);if(p<h){const f=xe.getLastResizableColumnIndex(t,e);if(f>=0&&(e[f]="auto",a=!0,d===!1&&!r)){const g=xe.getComponentBorderWidth(this,c);n._maxWidth=p+u+g,l.css("maxWidth",n._maxWidth)}}}return a}_processStretch(e,t){const n=this._rowsView.contentWidth(),s=this._getTotalWidth(e,n),r={length:0};if(!e.length)return;ie(t,function(d){(this.width||e[d]==="adaptiveHidden")&&(r[d]=!0,r.length++)});const o=n-s,a=Math.floor(o/(e.length-r.length));let l=o-a*(e.length-r.length);if(o>=0)for(let d=0;d<e.length;d++)r[d]||(e[d]+=a,l>0&&(l<1?(e[d]+=l,l=0):(e[d]++,l--)))}_getRealColumnWidth(e,t,n){let s=1;const r=t[e];if(!Su(r))return parseFloat(r);const o=t.reduce((c,h,u)=>Su(h)?c+parseFloat(h):c,0),a=t.reduce((c,h)=>!h||h==="adaptiveHidden"||Su(h)?c:c+parseFloat(h),0);n=n||this._rowsView.contentWidth();const l=n-a,d=o*n/100;return a>0&&d+a>=n&&(s=d>l?l/d:1),parseFloat(r)*n*s/100}_getTotalWidth(e,t){let n=0;for(let s=0;s<e.length;s++){const r=e[s];r&&r!=="adaptiveHidden"&&(n+=this._getRealColumnWidth(s,e,t))}return Math.ceil(n)}_getGroupElement(){return this.component.$element().children().get(0)}updateSize(e){const t=this,n=M(e),s=t.addWidgetPrefix("important-margin");if(t._hasHeight===void 0&&n&&n.is(":visible")&&Xe(n)){const r=n.children(`.${t.getWidgetContainerClass()}`);r.length&&r.detach(),t._hasHeight=!!ht(n);const o=Xe(n);n.addClass(s),t._hasWidth=Xe(n)===o,n.removeClass(s),r.length&&r.appendTo(n)}}publicMethods(){return["resize","updateDimensions"]}_waitAsyncTemplates(){var e,t,n;return Ae((e=this._columnHeadersView)===null||e===void 0?void 0:e.waitAsyncTemplates(!0),(t=this._rowsView)===null||t===void 0?void 0:t.waitAsyncTemplates(!0),(n=this._footerView)===null||n===void 0?void 0:n.waitAsyncTemplates(!0))}resize(){if(this.component._requireResize)return new de().resolve();const e=new de;return this._waitAsyncTemplates().done(()=>{Ae(this.updateDimensions()).done(e.resolve).fail(e.reject)}).fail(e.reject),e.promise().done(()=>{this.resizeCompleted.fire()})}updateDimensions(e){const t=this;if(t._initPostRenderHandlers(),!t._checkSize(e))return;const n=t._resizeDeferred,s=t._resizeDeferred=new de;return Ae(n).always(()=>{qn(()=>{t._dataController.isLoaded()&&t._synchronizeColumns(),t._resetGroupElementHeight(),Si(()=>{qn(()=>{Si(()=>{t._updateDimensionsCore()})})})}).done(s.resolve).fail(s.reject)}),s.promise()}_resetGroupElementHeight(){const e=this._getGroupElement(),t=this._rowsView.getScrollable();e&&e.style.height&&(!t||!t.scrollTop())&&(e.style.height="")}_checkSize(e){const t=this.component.$element(),n=t.is(":visible"),s=this._lastWidth!==Xe(t)||this._lastHeight!==ht(t)||this._devicePixelRatio!==bt().devicePixelRatio;return n&&(!e||s)}_setScrollerSpacingCore(){const e=this,t=e._rowsView.getScrollbarWidth(),n=e._rowsView.getScrollbarWidth(!0);qn(()=>{e._columnHeadersView&&e._columnHeadersView.setScrollerSpacing(t),e._footerView&&e._footerView.setScrollerSpacing(t),e._rowsView.setScrollerSpacing(t,n)})}_setScrollerSpacing(){const e=this._rowsView.getScrollable(),t=this.option("scrolling.useNative")===!0;!e||t?qn(()=>{Si(()=>{this._setScrollerSpacingCore()})}):this._setScrollerSpacingCore()}_setAriaOwns(){var e,t,n;const s=(e=this._columnHeadersView)===null||e===void 0?void 0:e.getTableElement(),r=(t=this._footerView)===null||t===void 0?void 0:t.getTableElement();(n=this._rowsView)===null||n===void 0||n.setAriaOwns(s==null?void 0:s.attr("id"),r==null?void 0:r.attr("id"))}_updateDimensionsCore(){const e=this,t=e._dataController,n=e._rowsView,s=e.component.$element(),r=this._getGroupElement(),o=ht(s),a=e.option("height")??s.get(0).style.height,l=!!a&&a!=="auto",d=parseInt(s.css("maxHeight")),c=d&&o>=d,h=r&&r.scrollHeight===r.offsetHeight;e.updateSize(s),qn(()=>{const u=e._hasHeight||!!d||l;if(n.hasHeight(u),this._setAriaOwns(),c&&!h&&M(r).css("height",d),!t.isLoaded()){n.setLoading(t.isLoading());return}Si(()=>{e._updateLastSizes(s),e._setScrollerSpacing(),ie(ES,(p,f)=>{const g=e.getView(f);g&&g.resize()}),this._editorFactoryController&&this._editorFactoryController.resize()})})}_updateLastSizes(e){this._lastWidth=Xe(e),this._lastHeight=ht(e),this._devicePixelRatio=bt().devicePixelRatio}optionChanged(e){switch(e.name){case"width":case"height":this.component._renderDimensions(),this.resize();case"renderAsync":e.handled=!0;return;default:super.optionChanged(e)}}resetLastResizeTime(){}}class Jte extends fn.ViewController{_scrollChangedHandler(e,t,n){for(let s=0;s<e.length;s++)e[s]&&e[s].name!==n&&e[s].scrollTo({left:t.left,top:t.top})}init(){const e=[this.getView("columnHeadersView"),this.getView("footerView"),this.getView("rowsView")];for(let t=0;t<e.length;t++){const n=e[t];n&&n.scrollChanged.add(this._scrollChangedHandler.bind(this,e))}}}class ene extends fn.View{init(){this._resizingController=this.getController("resizing"),this._dataController=this.getController("data")}_endUpdateCore(){this.component._requireResize&&(this.component._requireResize=!1,this._resizingController.resize())}getView(e){return this.component._views[e]}element(){return this._groupElement}optionChanged(e){const t=this;G(t._groupElement)&&e.name==="showBorders"?(t._groupElement.toggleClass(t.addWidgetPrefix("borders"),!!e.value),e.handled=!0):super.optionChanged(e)}_renderViews(e){const t=this;ie(ES,(n,s)=>{const r=t.getView(s);r&&r.render(e)})}_getTableRoleName(){return"group"}render(e){const t=!this._groupElement,n=this._groupElement||M("<div>").addClass(this.getWidgetContainerClass());n.addClass("dx-gridbase-container"),n.toggleClass(this.addWidgetPrefix("borders"),!!this.option("showBorders")),this.setAria("role","presentation",e),this.component.setAria("role",this._getTableRoleName(),n),this._rootElement=e||this._rootElement,t&&(this._groupElement=n,st()&&this._resizingController.updateSize(e),n.appendTo(e)),this._a11yGeneralStatusElement||(this._a11yGeneralStatusElement=Gte({}),this._a11yGeneralStatusElement.attr(qte.a11yStatusContainer,"true"),n.append(this._a11yGeneralStatusElement)),this._renderViews(n)}update(){const e=this,t=e._rootElement,n=e._groupElement;t&&n&&(this._resizingController.resize(),e._dataController.isLoaded()&&e._resizingController.fireContentReadyAction())}setWidgetA11yStatusText(e){var t;(t=this._a11yGeneralStatusElement)===null||t===void 0||t.text(e)}}const tne={defaultOptions:()=>({showBorders:!1,renderAsync:!1}),controllers:{resizing:Qte,synchronizeScrolling:Jte},views:{gridView:ene},VIEW_NAMES:ES};Ue.registerModule("gridView",tne);class nne{constructor(e){this._toolbar=e}_initMarkup(){}_updateMenuVisibility(){}_renderMenuItems(){}_renderItem(){}_getMenuItems(){}_getToolbarItems(){const{items:e=[]}=this._toolbar.option();return e}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",this._toolbar._itemElements(),!0)}_arrangeItems(){const e=this._toolbar._$toolbarItemsContainer.find(".dx-toolbar-label").eq(0);if(!e.length)return;const t=Xe(this._toolbar.$element()),n=kt(e)-Xe(e);e.css("maxWidth",t-n)}_hideOverflowItems(){}_dimensionChanged(){}_itemOptionChanged(){}_optionChanged(){}}const $g="dx-toolbar",ine="dxToolbarItemDataKey";class qM extends cS{_getSynchronizableOptionsForCreateComponent(){return super._getSynchronizableOptionsForCreateComponent().filter(e=>e!=="disabled")}_initTemplates(){super._initTemplates();const e=new hd((t,n,s)=>{if(ot(n)){const{text:r,html:o,widget:a}=n;r&&t.text(r).wrapInner("<div>"),o&&t.html(o),a==="dxDropDownButton"&&(n.options=n.options??{},G(n.options.stylingMode)||(n.options.stylingMode=this.option("useFlatButtons")?"text":"contained")),a==="dxButton"&&(this.option("useFlatButtons")&&(n.options=n.options??{},n.options.stylingMode=n.options.stylingMode??"text"),this.option("useDefaultButtons")&&(n.options=n.options??{},n.options.type=n.options.type??"default"))}else t.text(String(n));this._getTemplate("dx-polymorph-widget").render({container:t,model:s,parent:this})},["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:e,menuItem:e})}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Ns(Yt()),options:{useFlatButtons:!0}}])}_itemContainer(){return this._$toolbarItemsContainer.find([".dx-toolbar-before",".dx-toolbar-center",".dx-toolbar-after"].join(","))}_itemClass(){return"dx-toolbar-item"}_itemDataKey(){return ine}_dimensionChanged(e){this._disposed||(this._arrangeItems(),this._applyCompactMode())}_initMarkup(){this._renderToolbar(),this._renderSections(),super._initMarkup()}_render(){super._render(),this._updateDimensionsInMaterial()}_postProcessRenderItems(){this._arrangeItems()}_renderToolbar(){this.$element().addClass($g),this._$toolbarItemsContainer=M("<div>").addClass("dx-toolbar-items-container").appendTo(this.$element()),this.setAria("role","toolbar")}_renderSections(){const e=this._$toolbarItemsContainer;ie(["before","center","after"],(t,n)=>{const s=`dx-toolbar-${n}`;e.find(`.${s}`).length||(this[`_$${n}Section`]=M("<div>").addClass(s).attr("role","presentation").appendTo(e))})}_arrangeItems(e){var t,n,s,r;const o=e??Xe(this.$element());(t=this._$centerSection)===null||t===void 0||t.css({margin:"0 auto",float:"none"});const a=en((n=this._$beforeSection)===null||n===void 0?void 0:n.get(0)),l=en((s=this._$afterSection)===null||s===void 0?void 0:s.get(0));this._alignCenterSection(a,l,o);const d=this._$toolbarItemsContainer.find(".dx-toolbar-label").eq(0),c=d.parent();if(!d.length)return;const h=a.width?a.width:(r=d.position())===null||r===void 0?void 0:r.left,u=c.hasClass("dx-toolbar-before")?0:h,p=c.hasClass("dx-toolbar-after")?0:l.width;let f=0;c.children().not(".dx-toolbar-label").each((v,_)=>{f+=kt(_)});const g=o-f,m=Math.max(g-u-p,0);if(c.hasClass("dx-toolbar-before"))this._$beforeSection&&this._alignSection(this._$beforeSection,m);else{const v=kt(d)-Xe(d);d.css("maxWidth",m-v)}}_alignCenterSection(e,t,n){if(!this._$centerSection)return;this._alignSection(this._$centerSection,n-e.width-t.width);const s=this.option("rtlEnabled"),r=s?t:e,o=s?e:t,a=en(this._$centerSection.get(0));(r.right>a.left||a.right>o.left)&&this._$centerSection.css({marginLeft:r.width,marginRight:o.width,float:r.width>o.width?"none":"right"})}_alignSection(e,t){const s=e.find(".dx-toolbar-label").toArray(),r=t-this._getCurrentLabelsPaddings(s),o=this._getCurrentLabelsWidth(s),a=Math.abs(o-r);if(r<o){const l=s.reverse();this._alignSectionLabels(l,a,!1)}else this._alignSectionLabels(s,a,!0)}_alignSectionLabels(e,t,n){const s=r=>en(r).width;for(let r=0;r<e.length;r++){const o=M(e[r]),a=Math.ceil(s(e[r]));let l=0;n&&o.css("maxWidth","inherit");const d=n?s(e[r]):a,c=Math.ceil(d);if(c<t)l=n?c:0,t-=c;else{l=n?a+t:a-t,o.css("maxWidth",l);break}o.css("maxWidth",l)}}_applyCompactMode(){const e=M(this.element());e.removeClass("dx-toolbar-compact"),this.option("compactMode")&&this._getSummaryItemsSize("width",this._itemElements(),!0)>Xe(e)&&e.addClass("dx-toolbar-compact")}_getCurrentLabelsWidth(e){let t=0;return e.forEach(n=>{t+=kt(n)}),t}_getCurrentLabelsPaddings(e){let t=0;return e.forEach(n=>{t+=kt(n)-Xe(n)}),t}_renderItem(e,t,n,s){const r=t.location??"center",o=n??this[`_$${r}Section`],a=!!(t.text??t.html),l=super._renderItem(e,t,o,s);return l.toggleClass("dx-toolbar-button",!a).toggleClass("dx-toolbar-label",a).addClass(t.cssClass??""),l}_renderGroupedItems(){ie(this.option("items"),(e,t)=>{const n=t.items,s=M("<div>").addClass("dx-toolbar-group"),r=t.location??"center";n!=null&&n.length&&(ie(n,(o,a)=>{this._renderItem(o,a,s)}),this._$toolbarItemsContainer.find(`.dx-toolbar-${r}`).append(s))})}_renderItems(e){this.option("grouped")&&e.length&&e[0].items?this._renderGroupedItems():super._renderItems(e)}_getToolbarItems(){const{items:e=[]}=this.option();return e}_renderContentImpl(){const e=this._getToolbarItems();this.$element().toggleClass("dx-toolbar-mini",e.length===0),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()}_renderEmptyMessage(){}_clean(){this._$toolbarItemsContainer.children().empty(),this.$element().empty(),delete this._$beforeSection,delete this._$centerSection,delete this._$afterSection}_visibilityChanged(e){e&&this._arrangeItems()}_isVisible(){return Xe(this.$element())>0&&ht(this.$element())>0}_getIndexByItem(e){return this._getToolbarItems().indexOf(e)}_itemOptionChanged(e,t,n,s){super._itemOptionChanged(e,t,n,s),this._arrangeItems()}_optionChanged(e){const{name:t}=e;switch(t){case"width":super._optionChanged(e),this._dimensionChanged();break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:super._optionChanged(e)}}_dispose(){super._dispose(),clearTimeout(this._waitParentAnimationTimeout)}_updateDimensionsInMaterial(){if(xs(Yt())){const e=()=>new Promise(n=>{const s=()=>{let o=!0;return this.$element().parents().each((a,l)=>Ht.isAnimating(M(l).get(0))?(o=!1,!1):!0),o&&n(),o},r=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>s()||r(),15)};r()}),t=()=>{const n=this.$element().find(".dx-toolbar-label"),s=[];return n.each((r,o)=>{const a=M(o).text(),l=M(o).css("fontWeight");return s.push(Jq(a,l)),!0}),Promise.all(s)};Promise.all([e(),t()]).then(()=>{this._dimensionChanged()})}}}St("dxToolbarBase",qM);const o_="dxResizable",sne=be(Kh,o_),rne=be(Nc,o_),one=be(Gh,o_),ane={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"};class YM extends Ar{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{handles:"all",step:"1",stepPrecision:"simple",minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,roundStepValue:!0,keepAspectRatio:!0})}_init(){super._init(),this.$element().addClass("dx-resizable")}_initMarkup(){super._initMarkup(),this._renderHandles()}_render(){super._render(),this._renderActions()}_renderActions(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")}_renderHandles(){this._handles=[];const{handles:e}=this.option();if(e==="none"||!e)return;const t=e==="all"?["top","bottom","left","right"]:e.split(" "),n={};ie(t,(s,r)=>{n[r]=!0,this._renderHandle(r)}),n.bottom&&n.right&&this._renderHandle("corner-bottom-right"),n.bottom&&n.left&&this._renderHandle("corner-bottom-left"),n.top&&n.right&&this._renderHandle("corner-top-right"),n.top&&n.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}_renderHandle(e){const t=M("<div>").addClass("dx-resizable-handle").addClass(`dx-resizable-handle-${e}`).appendTo(this.$element());this._handles.push(t)}_attachEventHandlers(){if(this.option("disabled"))return;const e={};e[sne]=this._dragStartHandler.bind(this),e[rne]=this._dragHandler.bind(this),e[one]=this._dragEndHandler.bind(this),this._handles.forEach(t=>{Y.on(t,e,{direction:"both",immediate:!0})})}_detachEventHandlers(){this._handles.forEach(e=>{Y.off(e)})}_toggleEventHandlers(e){e?this._attachEventHandlers():this._detachEventHandlers()}_getElementSize(){const e=this.$element();return e.css("boxSizing")==="border-box"?{width:kt(e),height:gt(e)}:{width:Xe(e),height:ht(e)}}_dragStartHandler(e){var t;const n=this.$element();if(n.is(".dx-state-disabled, .dx-state-disabled *")){e.cancel=!0;return}this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(e),this._elementLocation=tr(n),this._elementSize=this._getElementSize(),this._renderDragOffsets(e),(t=this._resizeStartAction)===null||t===void 0||t.call(this,{event:e,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),e.targetElements=null}_toggleResizingClass(e){this.$element().toggleClass("dx-resizable-resizing",e)}_renderDragOffsets(e){const t=this._getArea();if(!t)return;const n=M(e.target).closest(".dx-resizable-handle"),s=kt(n),r=gt(n),o=n.offset()??{left:0,top:0},a=t.offset,l=this._getAreaScrollOffset();this._leftMaxOffset=o.left-a.left-l.scrollX,e.maxLeftOffset=this._leftMaxOffset,this._rightMaxOffset=a.left+t.width-o.left-s+l.scrollX,e.maxRightOffset=this._rightMaxOffset,this._topMaxOffset=o.top-a.top-l.scrollY,e.maxTopOffset=this._topMaxOffset,this._bottomMaxOffset=a.top+t.height-o.top-r+l.scrollY,e.maxBottomOffset=this._bottomMaxOffset}_getBorderWidth(e,t){if(jn(e.get(0)))return 0;const n=e.css(ane[t]);return parseInt(n,10)||0}_proportionate(e,t){const n=this._elementSize,s=e==="x"?n.width/n.height:n.height/n.width;return t*s}_getProportionalDelta(e){const{x:t,y:n}=e,s=this._proportionate("y",t);if(s>=n)return{x:t,y:s};const r=this._proportionate("x",n);return r>=t?{x:r,y:n}:{x:0,y:0}}_getDirectionName(e){const t=this._movingSides;return e==="x"?t.left?"left":"right":t.top?"top":"bottom"}_fitIntoArea(e,t){const n=this._getDirectionName(e);return Math.min(t,this[`_${n}MaxOffset`]??1/0)}_fitDeltaProportionally(e){let t=Object.assign({},e);const n=this._elementSize,{minWidth:s,minHeight:r,maxWidth:o,maxHeight:a}=this.option(),l=()=>n.width+t.x,d=()=>n.height+t.y,c=p=>t[p]===this._fitIntoArea(p,t[p]),h=()=>Co(l(),s,o)&&c("x"),u=()=>Co(d(),r,a)&&c("y");if(!h()){const p=this._fitIntoArea("x",Ii(l(),s,o)-n.width);t={x:p,y:this._proportionate("y",p)}}if(!u()){const p=this._fitIntoArea("y",Ii(d(),r,a)-n.height);t={x:this._proportionate("x",p),y:p}}return h()&&u()?t:{x:0,y:0}}_fitDelta(e){const{x:t,y:n}=e,s=this._elementSize,{minWidth:r,minHeight:o,maxWidth:a,maxHeight:l}=this.option();return{x:Ii(s.width+t,r,a)-s.width,y:Ii(s.height+n,o,l)-s.height}}_getDeltaByOffset(e){const t=this._movingSides,n=this._isCornerHandler(t)&&this.option("keepAspectRatio");let s={x:e.x*(t.left?-1:1),y:e.y*(t.top?-1:1)};if(n){const r=this._getProportionalDelta(s);s=this._fitDeltaProportionally(r)}else{const r=this._fitDelta(s);s=this._roundByStep(r)}return s}_updatePosition(e,t){const{width:n,height:s}=t,r=this._elementLocation,o=this._movingSides,a=this.$element(),l=this._getElementSize(),d=e.y*(o.top?-1:1)-((l.height||s)-s),c=e.x*(o.left?-1:1)-((l.width||n)-n);ui(a,{top:r.top+(o.top?d:0),left:r.left+(o.left?c:0)})}_dragHandler(e){const t=this._getOffset(e),n=this._getDeltaByOffset(t),s=this._updateDimensions(n);this._updatePosition(n,s),this._triggerResizeAction(e,s)}_updateDimensions(e){const t=h=>h.substring(h.length-2)==="px",{stepPrecision:n}=this.option(),s=n==="strict",r=this._elementSize,o=r.width+e.x,a=r.height+e.y,l=this.$element()[0].style,d=e.x||s||t(l.width),c=e.y||s||t(l.height);return d&&this.option({width:o}),c&&this.option({height:a}),{width:d?o:r.width,height:c?a:r.height}}_triggerResizeAction(e,t){var n;const{width:s,height:r}=t;(n=this._resizeAction)===null||n===void 0||n.call(this,{event:e,width:this.option("width")||s,height:this.option("height")||r,handles:this._movingSides}),Xs(this.$element())}_isCornerHandler(e){return Object.values(e).reduce((t,n)=>t^n,0)===0}_getOffset(e){const{offset:t}=e,n=this._movingSides;return!n.left&&!n.right&&(t.x=0),!n.top&&!n.bottom&&(t.y=0),t}_roundByStep(e){const{stepPrecision:t}=this.option();return t==="strict"?this._roundStrict(e):this._roundNotStrict(e)}_getSteps(){const{step:e,roundStepValue:t}=this.option();return o1(e,!t)}_roundNotStrict(e){const{h:t,v:n}=this._getSteps();return{x:e.x-e.x%t,y:e.y-e.y%n}}_roundStrict(e){const t=this._movingSides,n={x:e.x*(t.left?-1:1),y:e.y*(t.top?-1:1)},s=this._getSteps(),r=this._elementLocation,o=this._elementSize,a=t.left?r.left:r.left+o.width,l=t.top?r.top:r.top+o.height,d=(a+n.x)%s.h,c=(l+n.y)%s.v,h=Math.sign||(_=>{const x=+_;return x===0||isNaN(x)?x:x>0?1:-1}),u=(_,x)=>(1+.2*h(x))%1*_,p=(_,x)=>Math.abs(_)<.2*x;let f=n.x-d,g=n.y-c;d>u(s.h,n.x)&&(f+=s.h),c>u(s.v,n.y)&&(g+=s.v);const m=(t.left||t.right)&&!p(n.x,s.h)?f:0,v=(t.top||t.bottom)&&!p(n.y,s.v)?g:0;return{x:m*(t.left?-1:1),y:v*(t.top?-1:1)}}_getMovingSides(e){const t=M(e.target),n=t.hasClass("dx-resizable-handle-corner-top-left"),s=t.hasClass("dx-resizable-handle-corner-top-right"),r=t.hasClass("dx-resizable-handle-corner-bottom-left"),o=t.hasClass("dx-resizable-handle-corner-bottom-right");return{top:t.hasClass("dx-resizable-handle-top")||n||s,left:t.hasClass("dx-resizable-handle-left")||n||r,bottom:t.hasClass("dx-resizable-handle-bottom")||r||o,right:t.hasClass("dx-resizable-handle-right")||s||o}}_getArea(){let{area:e}=this.option();return Ie(e)&&(e=e.call(this)),ot(e)?this._getAreaFromObject(e):this._getAreaFromElement(e)}_getAreaScrollOffset(){const{area:e}=this.option(),t=!Ie(e)&&!ot(e),n={scrollY:0,scrollX:0};if(t){const s=M(e)[0];jn(s)&&(n.scrollX=s.pageXOffset,n.scrollY=s.pageYOffset)}return n}_getAreaFromObject(e){const t={width:e.right-e.left,height:e.bottom-e.top,offset:{left:e.left,top:e.top}};return this._correctAreaGeometry(t),t}_getAreaFromElement(e){const t=M(e);if(!t.length)return;const n={width:my(t),height:gy(t),offset:se({top:0,left:0},jn(t[0])?{}:t.offset())};return this._correctAreaGeometry(n,t),n}_correctAreaGeometry(e,t){const n=t?this._getBorderWidth(t,"left"):0,s=t?this._getBorderWidth(t,"top"):0;e.offset.left+=n+this._getBorderWidth(this.$element(),"left"),e.offset.top+=s+this._getBorderWidth(this.$element(),"top"),e.width-=kt(this.$element())-my(this.$element()),e.height-=gt(this.$element())-gy(this.$element())}_dragEndHandler(e){var t;const n=this.$element();(t=this._resizeEndAction)===null||t===void 0||t.call(this,{event:e,width:kt(n),height:gt(n),handles:this._movingSides}),this._toggleResizingClass(!1)}_renderWidth(e){const{minWidth:t,maxWidth:n}=this.option();this.option("width",Ii(e,t,n))}_renderHeight(e){const{minHeight:t,maxHeight:n}=this.option();this.option("height",Ii(e,t,n))}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"disabled":this._toggleEventHandlers(!n),super._optionChanged(e);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":st()&&this._renderWidth(kt(this.$element()));break;case"minHeight":case"maxHeight":st()&&this._renderHeight(gt(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:super._optionChanged(e)}}_clean(){this.$element().find(".dx-resizable-handle").remove()}_useTemplates(){return!1}}St(o_,YM);class lne{constructor(e){this.init(e)}init(e){let{dragEnabled:t,handle:n,draggableElement:s,positionController:r}=e;this._positionController=r,this._draggableElement=s,this._handle=n,this._dragEnabled=t,this.unsubscribe(),t&&this.subscribe()}moveDown(e){this._moveTo(5,0,e)}moveUp(e){this._moveTo(-5,0,e)}moveLeft(e){this._moveTo(0,-5,e)}moveRight(e){this._moveTo(0,5,e)}subscribe(){const e=this._getEventNames();Y.on(this._handle,e.startEventName,t=>{this._dragStartHandler(t)}),Y.on(this._handle,e.updateEventName,t=>{this._dragUpdateHandler(t)}),Y.on(this._handle,e.endEventName,t=>{this._dragEndHandler(t)})}unsubscribe(){const e=this._getEventNames();Y.off(this._handle,e.startEventName),Y.off(this._handle,e.updateEventName),Y.off(this._handle,e.endEventName)}_getEventNames(){const e=be(Kh,"overlayDrag"),t=be(Nc,"overlayDrag"),n=be(Gh,"overlayDrag");return{startEventName:e,updateEventName:t,endEventName:n}}_dragStartHandler(e){const t=this._getAllowedOffsets();this._prevOffset={x:0,y:0},e.targetElements=[],e.maxTopOffset=t.top,e.maxBottomOffset=t.bottom,e.maxLeftOffset=t.left,e.maxRightOffset=t.right}_dragUpdateHandler(e){const t={top:e.offset.y-this._prevOffset.y,left:e.offset.x-this._prevOffset.x};this._moveByOffset(t),this._prevOffset=e.offset}_dragEndHandler(e){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(e)}_moveTo(e,t,n){if(!this._dragEnabled)return;n.preventDefault(),n.stopPropagation();const s=this._fitOffsetIntoAllowedRange(e,t);this._moveByOffset(s),this._dragEndHandler(n)}_fitOffsetIntoAllowedRange(e,t){const n=this._getAllowedOffsets();return{top:Ii(e,-n.top,n.bottom),left:Ii(t,-n.left,n.right)}}_getContainerDimensions(){const e=ve.getDocument(),t=this._positionController.$dragResizeContainer.get(0);let n=kt(t),s=gt(t);return jn(t)&&(s=Math.max(e.body.clientHeight,s),n=Math.max(e.body.clientWidth,n)),{width:n,height:s}}_getContainerPosition(){const e=this._positionController.$dragResizeContainer.get(0);return jn(e)?{top:0,left:0}:vy(e)}_getElementPosition(){return vy(this._draggableElement)}_getInnerDelta(){const e=this._getContainerDimensions(),t=this._getElementDimensions();return{x:e.width-t.width,y:e.height-t.height}}_getOuterDelta(){const{width:e,height:t}=this._getElementDimensions(),{outsideDragFactor:n}=this._positionController;return{x:e*n,y:t*n}}_getFullDelta(){const e=this._getInnerDelta(),t=this._getOuterDelta();return{x:e.x+t.x,y:e.y+t.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){const e=this._getFullDelta();if(!(e.y>=0&&e.x>=0))return{top:0,bottom:0,left:0,right:0};const n=this._getElementPosition(),s=this._getContainerPosition(),r=this._getOuterDelta();return{top:n.top-s.top+r.y,bottom:-n.top+s.top+e.y,left:n.left-s.left+r.x,right:-n.left+s.left+e.x}}_moveByOffset(e){const t=tr(this._draggableElement),n={left:t.left+e.left,top:t.top+e.top};ui(this._draggableElement,n)}}const dne={setOverflow:Te,restoreOverflow:Te},cne=()=>{if(!Di.hasWindow())return dne;const i=Di.getWindow(),{documentElement:e}=ve.getDocument(),t=ve.getBody(),n=Oe.real().platform==="ios",s={overflow:null,overflowX:null,overflowY:null,paddingRight:null,position:null,top:null,left:null};return{setOverflow:n?()=>{if(G(s.position)||t.style.position==="fixed")return;const{scrollY:r,scrollX:o}=i;s.position=t.style.position,s.top=t.style.top,s.left=t.style.left,t.style.setProperty("position","fixed"),t.style.setProperty("top",-r+"px"),t.style.setProperty("left",-o+"px")}:()=>{(()=>{const r=i.innerWidth-e.clientWidth;if(s.paddingRight||r<=0)return;const o=i.getComputedStyle(t).getPropertyValue("padding-right"),a=parseInt(o,10);s.paddingRight=a,t.style.setProperty("padding-right",`${a+r}px`)})(),!(s.overflow||t.style.overflow==="hidden")&&(s.overflow=t.style.overflow,s.overflowX=t.style.overflowX,s.overflowY=t.style.overflowY,t.style.setProperty("overflow","hidden"))},restoreOverflow:n?()=>{if(!G(s.position))return;const r=-parseInt(t.style.top,10),o=-parseInt(t.style.left,10);["position","top","left"].forEach(a=>{s[a]?t.style.setProperty(a,s[a]):t.style.removeProperty(a)}),i.scrollTo(o,r),s.position=null}:()=>{G(s.paddingRight)&&(s.paddingRight?t.style.setProperty("padding-right",`${s.paddingRight}px`):t.style.removeProperty("padding-right"),s.paddingRight=null),["overflow","overflowX","overflowY"].forEach(r=>{if(!G(s[r]))return;const o=r.replace(/(X)|(Y)/,a=>`-${a.toLowerCase()}`);s[r]?t.style.setProperty(o,s[r]):t.style.removeProperty(o),s[r]=null})}}},Sx=Di.getWindow();class une extends l8{constructor(e){super(e);const t=this._properties,{properties:n}=e,{fullScreen:s,forceApplyBindings:r,dragOutsideBoundary:o,dragAndResizeArea:a,outsideDragFactor:l}=n;this._properties=Object.assign({},t,{fullScreen:s,forceApplyBindings:r,dragOutsideBoundary:o,dragAndResizeArea:a,outsideDragFactor:l}),this._$dragResizeContainer=void 0,this._updateDragResizeContainer()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._properties.dragOutsideBoundary?1:this._properties.outsideDragFactor}set outsideDragFactor(e){this._properties.outsideDragFactor=e}set fullScreen(e){this._properties.fullScreen=e,e?this._fullScreenEnabled():this._fullScreenDisabled()}set dragAndResizeArea(e){this._properties.dragAndResizeArea=e,this._updateDragResizeContainer()}set dragOutsideBoundary(e){this._properties.dragOutsideBoundary=e,this._updateDragResizeContainer()}updateContainer(e){super.updateContainer(e),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){if(this._properties.fullScreen)this._$content&&ui(this._$content,{top:0,left:0}),this.detectVisualPositionChange();else{var e,t;(e=(t=this._properties).forceApplyBindings)===null||e===void 0||e.call(t),super.positionContent()}}clean(){this._$dragResizeContainer=void 0,super.clean()}_normalizePosition(e){const t=super._normalizePosition(e);return this._properties.fullScreen&&(t.of="window"),t}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){return this._properties.dragOutsideBoundary?M(Sx):this._properties.dragAndResizeArea?M(this._properties.dragAndResizeArea):m5().get(0)||this._properties.container?this._$markupContainer:M(Sx)}_getVisualContainer(){return this._properties.fullScreen?M(Sx):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1)}_fullScreenDisabled(){this.restorePositionOnNextRender(!0)}}const hne=Di.getWindow(),KA=["cancel","clear","done"],ia={static:"",inherit:"dx-popup-inherit-height",flex:"dx-popup-flex-height"},pne=i=>{const e=Oe.current(),{platform:t}=e;let n="bottom",s="before";if(t==="ios")switch(i){case"cancel":n="top";break;case"clear":n="top",s="after";break;case"done":s="after"}else if(t==="android")switch(i){case"cancel":case"done":s="after"}return{toolbar:n,location:s}},fne=i=>i.toLowerCase()==="done"?"OK":Rc(i,!0),mne=(i,e)=>i===ia.flex?-e:0;class hr extends Ps{_supportedKeys(){return Object.assign({},super._supportedKeys(),{upArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveUp(e)},downArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveDown(e)},leftArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveLeft(e)},rightArrow:e=>{var t;(t=this._drag)===null||t===void 0||t.moveRight(e)}})}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,enableBodyScroll:!0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:e=>Oe.real().deviceType==="desktop"&&e.platform==="generic",options:{dragEnabled:!0}},{device:()=>Oe.real().deviceType==="desktop"&&!Oe.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Ns(Yt()),options:{useFlatToolbarButtons:!0}},{device:()=>xs(Yt()),options:{useDefaultToolbarButtons:!0,showCloseButton:!1}}])}_iosAnimation(){return{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}}}_androidAnimation(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}}_init(){var e,t;const{_wrapperClassExternal:n}=this.option(),s=n?`dx-popup-wrapper ${n}`:"dx-popup-wrapper";super._init(),this._createBodyOverflowManager(),this._updateResizeCallbackSkipCondition(),this.$element().addClass("dx-popup"),(e=this.$wrapper())===null||e===void 0||e.addClass(s),this._$popupContent=(t=this._$content)===null||t===void 0?void 0:t.wrapInner(M("<div>").addClass("dx-popup-content")).children().eq(0),this._toggleContentScrollClass(),this.$overlayContent().attr("role","dialog")}_render(){const e=!!this.option("fullScreen");this._toggleFullScreenClass(e),super._render()}_createBodyOverflowManager(){this._bodyOverflowManager=cne()}_toggleFullScreenClass(e){this.$overlayContent().toggleClass("dx-popup-fullscreen",e).toggleClass("dx-popup-normal",!e)}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({title:new Bl,bottom:new Bl})}_getActionsList(){return super._getActionsList().concat(["onResizeStart","onResize","onResizeEnd"])}_contentResizeHandler(e){this._shouldSkipContentResize(e)||this._renderGeometry({shouldOnlyReposition:!0})}_isShowAnimationResizing(){const e=this.option("animation");return["to","from"].some(t=>{var n;const s=e==null||(n=e.show)===null||n===void 0?void 0:n[t];return Me(s)&&("width"in s||"height"in s)})}_updateResizeCallbackSkipCondition(){const e=this._isShowAnimationResizing();this._shouldSkipContentResize=t=>e&&this._showAnimationProcessing||this._areContentDimensionsRendered(t)}_observeContentResize(e){var t;if(!this.option("useResizeObserver"))return;const n=(t=this._$content)===null||t===void 0?void 0:t.get(0);e?Gr.observe(n,s=>{this._contentResizeHandler(s)}):Gr.unobserve(n)}_areContentDimensionsRendered(e){var t,n,s;const r=(t=e.contentBoxSize)===null||t===void 0?void 0:t[0];if(r){var o,a;return parseInt(r.inlineSize,10)===((o=this._renderedDimensions)===null||o===void 0?void 0:o.width)&&parseInt(r.blockSize,10)===((a=this._renderedDimensions)===null||a===void 0?void 0:a.height)}const{contentRect:l}=e;return parseInt(l.width,10)===((n=this._renderedDimensions)===null||n===void 0?void 0:n.width)&&parseInt(l.height,10)===((s=this._renderedDimensions)===null||s===void 0?void 0:s.height)}_renderContent(){super._renderContent(),this._observeContentResize(!0)}_processContentRendering(){this._renderTopToolbar(),this._renderBottomToolbar(),this._renderResize(),super._processContentRendering()}_getTopToolbarItems(){const{showTitle:e,title:t}=this.option(),{ios:n}=Oe.current(),s=this._getToolbarItems("top");return e&&t&&s.unshift({location:n?"center":"before",text:t}),s}_renderTopToolbar(){const{showTitle:e}=this.option(),t=this._getTopToolbarItems();if(e||t.length>0){var s;this._$topToolbar?this._updateToolbarOptions("top",{items:t}):this._renderTopToolbarImpl(),(s=this._$topToolbar)===null||s===void 0||s.toggleClass("dx-has-close-button",this._hasCloseButton())}else{var r;(r=this._$topToolbar)===null||r===void 0||r.remove(),this._$topToolbar=void 0}this._toggleAriaLabel()}_renderTopToolbarImpl(){var e;(e=this._$topToolbar)===null||e===void 0||e.remove();const t=this._getTopToolbarItems(),n=this.$content();if(!n)return;const s=M("<div>").addClass("dx-popup-title").addClass($g).insertBefore(n);this._$topToolbar=this._renderToolbar("titleTemplate",t,s,{onInitialized:r=>{this._topToolbar=r.component}}),this._$topToolbar.addClass("dx-popup-title"),this._renderDrag(),this._executeTitleRenderAction(this._$topToolbar)}_renderBottomToolbar(){const e=this._getToolbarItems("bottom");if(!e.length){var t;(t=this._$bottomToolbar)===null||t===void 0||t.remove(),this._$bottomToolbar=void 0;return}this._$bottomToolbar?this._updateToolbarOptions("bottom",{items:e}):this._renderBottomToolbarImpl(),this._toggleClasses()}_renderBottomToolbarImpl(){var e;(e=this._$bottomToolbar)===null||e===void 0||e.remove();const t=this._getToolbarItems("bottom"),n=this.$content();if(!n)return;const s=M("<div>").addClass("dx-popup-bottom").addClass($g).insertAfter(n);this._$bottomToolbar=this._renderToolbar("bottomTemplate",t,s,{compactMode:!0,onInitialized:r=>{this._bottomToolbar=r.component}}),this._$bottomToolbar.addClass("dx-popup-bottom")}_triggerToolbarResizeEvent(){[this._$topToolbar,this._$bottomToolbar].forEach(e=>{e&&(Xs(e),Xs(e))})}_renderToolbar(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=this._getTemplateByOption(e);return r instanceof Bl?this._renderByPolymorphicTemplate(t,n,s):this._renderByTemplate(r,n)}_getIntegrationOptions(){const{integrationOptions:e}=this.option();return Object.assign({},e,{skipTemplates:["content","title"]})}_renderByPolymorphicTemplate(e,t,n){const{disabled:s,rtlEnabled:r,useDefaultToolbarButtons:o,useFlatToolbarButtons:a}=this.option(),l=this._getIntegrationOptions(),d=se(n,{disabled:s,rtlEnabled:r,items:e,useDefaultButtons:o,useFlatButtons:a,integrationOptions:l});this._getTemplate("dx-polymorph-widget").render({container:t,model:{widget:this._getToolbarName(),options:d}});const h=t.children("div");return t.replaceWith(h),h}_renderByTemplate(e,t){const n=M(e.render({container:We(t)}));return n.hasClass("dx-template-wrapper")&&(t.replaceWith(n),t=n),t}_updateToolbarOptions(e,t){const n=e==="top"?this._topToolbar:this._bottomToolbar;if(!n)return;const s=this._getIntegrationOptions();n.option(Object.assign({},t,{integrationOptions:s}))}_toggleAriaLabel(){var e;const{title:t,showTitle:n}=this.option(),r=n&&!!t?new Xt().toString():null;(e=this._$topToolbar)===null||e===void 0||e.find(".dx-toolbar-label").eq(0).attr("id",r),this.$overlayContent().attr("aria-labelledby",r)}_animateShowing(){this._triggerToolbarResizeEvent(),super._animateShowing()}_renderVisibilityAnimate(e){return super._renderVisibilityAnimate(e)}_hide(){return this._observeContentResize(!1),super._hide()}_executeTitleRenderAction(e){this._getTitleRenderAction()({titleElement:We(e)})}_getTitleRenderAction(){return this._titleRenderAction??this._createTitleRenderAction()}_createTitleRenderAction(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]}),this._titleRenderAction}_getCloseButton(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}}_getCloseButtonRenderer(){return(e,t,n)=>{const s=M("<div>").addClass("dx-closebutton");this._createComponent(s,si,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),M(n).append(s)}}_getToolbarItems(e){const{platform:t}=Oe.current(),{toolbarItems:n}=this.option(),s=[];this._toolbarItemClasses=[];let r=0;return ie(n,(o,a)=>{const l=G(a.shortcut),d=l?pne(a.shortcut):a;if(l&&t==="ios"&&r<2&&(d.toolbar="top",r++),d.toolbar=a.toolbar||d.toolbar||"top",d&&d.toolbar===e){l&&se(d,{location:a.location},this._getToolbarItemByAlias(a));const c=t==="generic";a.shortcut==="done"&&c||a.shortcut==="cancel"&&!c?s.unshift(d):s.push(d)}}),e==="top"&&this._hasCloseButton()&&s.push(this._getCloseButton()),s}_hasCloseButton(){const{showCloseButton:e,showTitle:t}=this.option();return e&&t}_getToolbarButtonStylingMode(e){return ts(Yt())?e==="done"?"contained":"outlined":this.option("useFlatToolbarButtons")?"text":"contained"}_getToolbarButtonType(e){return ts(Yt())&&e==="done"||this.option("useDefaultToolbarButtons")?"default":"normal"}_getToolbarItemByAlias(e){const t=e.shortcut;if(!KA.includes(t))return!1;const n=se({text:ue.format(fne(t)),onClick:this._createToolbarItemAction(e.onClick),integrationOptions:{},type:this._getToolbarButtonType(t),stylingMode:this._getToolbarButtonStylingMode(t)},e.options||{}),s=`dx-popup-${t}`;return this._toolbarItemClasses.push(s),{template:(r,o,a)=>{const l=M("<div>").addClass(s).appendTo(a);this._createComponent(l,si,n)}}}_createToolbarItemAction(e){return this._createAction(e,{afterExecute(t){t.component.hide()}})}_getToolbarName(){return"dxToolbarBase"}_toggleDisabledState(e){var t;super._toggleDisabledState(...arguments),(t=this.$content())===null||t===void 0||t.toggleClass("dx-state-disabled",!!e)}_toggleClasses(){ie(KA,(t,n)=>{var s,r;const o=`dx-popup-${n}`,a=this._toolbarItemClasses.includes(o);(s=this.$wrapper())===null||s===void 0||s.toggleClass(`${o}-visible`,a),(r=this._$bottomToolbar)===null||r===void 0||r.toggleClass(o,a)})}_toggleFocusClass(e,t){if(super._toggleFocusClass(e,t),e&&!TX(this._zIndex)){var n,s;const r=nC(this._zIndexInitValue());iC(this._zIndex),this._zIndex=r,(n=this._$wrapper)===null||n===void 0||n.css("zIndex",r),(s=this._$content)===null||s===void 0||s.css("zIndex",r)}}_toggleContentScrollClass(){var e;const t=!this.option("preventScrollEvents");(e=this.$content())===null||e===void 0||e.toggleClass("dx-popup-content-scrollable",t)}_getPositionControllerConfig(){const e=super._getPositionControllerConfig(),{fullScreen:t,forceApplyBindings:n,dragOutsideBoundary:s,dragAndResizeArea:r,outsideDragFactor:o}=this.option(),a=Object.assign({},e.properties,{fullScreen:t,forceApplyBindings:n,dragOutsideBoundary:s,dragAndResizeArea:r,outsideDragFactor:o}),l=Object.assign({},e.elements);return{properties:a,elements:l}}_initPositionController(){this._positionController||(this._positionController=new une(this._getPositionControllerConfig()))}_getDragTarget(){return this.topToolbar()}_renderGeometry(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{visible:t,useResizeObserver:n}=this.option(),{forceStopAnimation:s,shouldOnlyReposition:r,isDimensionChange:o}=e;if(t&&Di.hasWindow()){const l=this._showAnimationProcessing&&!s&&n;this._isAnimationPaused=l||void 0,this._stopAnimation(),r?this._renderPosition(!1):this._renderGeometryImpl(o),l&&(this._animateShowing(),this._isAnimationPaused=void 0)}}_cacheDimensions(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt(Xe(this._$content),10),height:parseInt(ht(this._$content),10)})}_renderGeometryImpl(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||this._resetContentHeight(),super._renderGeometryImpl(),this._cacheDimensions(),this._setContentHeight()}_resetContentHeight(){if(this._getOptionValue("height")==="auto"){var t;(t=this.$content())===null||t===void 0||t.css({height:"auto",maxHeight:"none"})}}_renderDrag(){var e;const t=this._getDragTarget(),{dragEnabled:n}=this.option();if(!t)return;const s={dragEnabled:n,handle:t.get(0),draggableElement:(e=this._$content)===null||e===void 0?void 0:e.get(0),positionController:this._positionController};this._drag?this._drag.init(s):this._drag=new lne(s),this.$overlayContent().toggleClass("dx-popup-draggable",n)}_renderResize(){this._$content&&(this._resizable=this._createComponent(this._$content,YM,{handles:this.option("resizeEnabled")?"all":"none",onResizeStart:e=>{var t,n;this._observeContentResize(!1),(t=this._actions)===null||t===void 0||(n=t.onResizeStart)===null||n===void 0||n.call(t,e)},onResize:e=>{var t,n;this._setContentHeight(),(t=this._actions)===null||t===void 0||(n=t.onResize)===null||n===void 0||n.call(t,e)},onResizeEnd:e=>{this._resizeEndHandler(e),this._observeContentResize(!0)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1}))}_resizeEndHandler(e){var t,n;const s=this._resizable.option("width"),r=this._resizable.option("height");s&&this._setOptionWithoutOptionChange("width",s),r&&this._setOptionWithoutOptionChange("height",r),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(e.event),(t=this._actions)===null||t===void 0||(n=t.onResizeEnd)===null||n===void 0||n.call(t,e)}_setContentHeight(){var e;const{forceApplyBindings:t}=this.option();(t??Te)();const n=this.$overlayContent().get(0),s=this._chooseHeightStrategy(n);(e=this.$content())===null||e===void 0||e.css(this._getHeightCssStyles(s,n)),this._setHeightClasses(this.$overlayContent(),s)}_chooseHeightStrategy(e){const t=e.style.width==="auto"||e.style.width==="";let n=ia.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(t?n=ia.inherit:n=ia.flex),n}_getHeightCssStyles(e,t){let n={};const s=this._getOptionValue("maxHeight",t),r=this._getOptionValue("minHeight",t),o=this._splitPopupHeight(),a=mne(e,o.popupVerticalPaddings),l=o.header+o.footer+o.contentVerticalOffsets+o.popupVerticalOffsets+a;if(e===ia.static){if(!this._isAutoHeight()||s||r){const c=(this.option("fullScreen")?Math.min(en(t).height,Di.getWindow().innerHeight):en(t).height)-l;n={height:Math.max(0,c),minHeight:"auto",maxHeight:"auto"}}}else{const d=M(this._positionController.$visualContainer).get(0),c=wz(s,-l,d);n={height:"auto",minHeight:Sz(r,-l,d),maxHeight:c}}return n}_setHeightClasses(e,t){let n="";for(const s in ia)ia[s]!==t&&(n+=` ${ia[s]}`);e.removeClass(n).addClass(t)}_isAutoHeight(){return this.$overlayContent().get(0).style.height==="auto"}_splitPopupHeight(){var e,t;const n=this.topToolbar(),s=this.bottomToolbar();return{header:q2(n==null?void 0:n.get(0)),footer:q2(s==null?void 0:s.get(0)),contentVerticalOffsets:_c(this.$overlayContent().get(0),!0),popupVerticalOffsets:_c((e=this.$content())===null||e===void 0?void 0:e.get(0),!0),popupVerticalPaddings:_c((t=this.$content())===null||t===void 0?void 0:t.get(0),!1)}}_isAllWindowCovered(){const{fullScreen:e}=this.option();return super._isAllWindowCovered()||!!e}_renderDimensions(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):super._renderDimensions(),Di.hasWindow()&&this._renderFullscreenWidthClass()}_dimensionChanged(){this._renderGeometry({isDimensionChange:!0})}_clean(){super._clean(),this._observeContentResize(!1)}_dispose(){super._dispose(),this._toggleBodyScroll(!0),this._$topToolbar=null,this._$bottomToolbar=null,this._$popupContent=null}_renderFullscreenWidthClass(){const e=kt(this.$overlayContent())===Xe(hne);this.$overlayContent().toggleClass("dx-popup-fullscreen-width",e)}_toggleSafariScrolling(){this.option("enableBodyScroll")&&super._toggleSafariScrolling()}_toggleBodyScroll(e){if(!this._bodyOverflowManager)return;const{setOverflow:t,restoreOverflow:n}=this._bodyOverflowManager;e?n():t()}refreshPosition(){this._renderPosition()}_optionChanged(e){var t;const{value:n,name:s}=e;switch(s){case"rtlEnabled":case"disabled":{super._optionChanged(e);const o={[s]:!!n};this._updateToolbarOptions("top",o),this._updateToolbarOptions("bottom",o);break}case"animation":this._updateResizeCallbackSkipCondition();break;case"enableBodyScroll":this.option("visible")&&this._toggleBodyScroll(n);break;case"showTitle":case"title":this._renderTopToolbar(),this._renderGeometry(),Xs(this.$overlayContent());break;case"titleTemplate":this._renderTopToolbarImpl(),this._renderGeometry(),Xs(this.$overlayContent());break;case"bottomTemplate":this._renderBottomToolbarImpl(),this._renderGeometry(),Xs(this.$overlayContent());break;case"container":if(super._optionChanged(e),this.option("resizeEnabled")){var r;(r=this._resizable)===null||r===void 0||r.option("area",this._positionController.$dragResizeContainer)}break;case"width":case"height":super._optionChanged(e),(t=this._resizable)===null||t===void 0||t.option(s,n);break;case"onTitleRendered":this._createTitleRenderAction();break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":this._renderTopToolbar(),this._renderBottomToolbar(),this._renderGeometry(),this._triggerToolbarResizeEvent();break;case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=n,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=n,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=n;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),Xs(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=n,this._toggleFullScreenClass(!!n),this._toggleSafariScrolling(),this._renderGeometry(),Xs(this.$overlayContent());break;case"showCloseButton":this._renderTopToolbar();break;case"preventScrollEvents":super._optionChanged(e),this._toggleContentScrollClass();break;default:super._optionChanged(e)}}bottomToolbar(){return this._$bottomToolbar}topToolbar(){return this._$topToolbar}$content(){return this._$popupContent}content(){return We(this.$content())}$overlayContent(){return this._$content}getFocusableElements(){const e=this.$wrapper();return e?e.find("[tabindex]").filter((t,n)=>n.getAttribute("tabindex")>=0):M()}}St("dxPopup",hr);const XM="dxswipestart",ZM="dxswipe",IS="dxswipeend",gne={defaultItemSizeFunc(){return Xe(this.getElement())},getBounds(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio(i){return(On(i).x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,i)},isFastSwipe(i){const e=On(i);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.x-this._tickData.x)>=e.time-this._tickData.time}},_ne={defaultItemSizeFunc(){return ht(this.getElement())},getBounds(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio(i){return(On(i).y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,i)},isFastSwipe(i){const e=On(i);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(e.y-this._tickData.y)>=e.time-this._tickData.time}},vne={horizontal:gne,vertical:_ne},xne=Mp.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor(i){this.callBase(i),this.direction="horizontal",this.elastic=!0},_getStrategy(){return vne[this.direction]},_defaultItemSizeFunc(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init(i){this._tickData=On(i)},_start(i){this._savedEventData=On(i),i=this._fireEvent("dxswipestart",i),i.cancel||(this._maxLeftOffset=i.maxLeftOffset,this._maxRightOffset=i.maxRightOffset,this._maxTopOffset=i.maxTopOffset,this._maxBottomOffset=i.maxBottomOffset)},_move(i){const e=this._getStrategy(),t=On(i);let n=e.calcOffsetRatio.call(this,i);n=this._fitOffset(n,this.elastic),t.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=t),this._fireEvent("dxswipe",i,{offset:n}),i.cancelable!==!1&&i.preventDefault()},_end(i){const e=this._getStrategy(),t=e.calcOffsetRatio.call(this,i),n=e.isFastSwipe.call(this,i);let s=t,r=this._calcTargetOffset(t,n);s=this._fitOffset(s,this.elastic),r=this._fitOffset(r,!1),this._fireEvent("dxswipeend",i,{offset:s,targetOffset:r})},_fitOffset(i,e){const n=this._getStrategy().getBounds.call(this);return i<-n[0]?e?(-2*n[0]+i)/3:-n[0]:i>n[1]?e?(2*n[1]+i)/3:n[1]:i},_calcTargetOffset(i,e){let t;return e?(t=Math.ceil(Math.abs(i)),i<0&&(t=-t)):t=Math.round(i),t}});Xc({emitter:xne,events:["dxswipestart","dxswipe","dxswipeend"]});const Eu=bt();class bne{constructor(e,t){this._store=e,this._dirty=!!t.data;const{name:n}=t;if(!n)throw pn.Error("E4013");this._key=`dx-data-localStore-${n}`,this.save();const s=this._immediate=t.immediate,r=Math.max(100,t.flushInterval||1e4);if(!s){const o=this.save.bind(this);setInterval(o,r),Y.on(Eu,"beforeunload",o),Eu.cordova&&ve.listen(ve.getDocument(),"pause",o,!1)}}notifyChanged(){this._dirty=!0,this._immediate&&this.save()}load(){this._store._array=this._loadImpl(),this._dirty=!1}save(){this._dirty&&(this._saveImpl(this._store._array),this._dirty=!1)}_loadImpl(){const e=Eu.localStorage.getItem(this._key);return e?JSON.parse(e):[]}_saveImpl(e){e.length?Eu.localStorage.setItem(this._key,JSON.stringify(e)):Eu.localStorage.removeItem(this._key)}}class yne extends Qc{constructor(e){typeof e=="string"?e={name:e}:e=e||{},super(e),this._array=e.data||[],this._backend=new bne(this,e),this._backend.load()}_clearCache(){this._backend.load()}clear(){super.clear(),this._backend.notifyChanged()}_insertImpl(e){const t=this._backend;return super._insertImpl(e).done(t.notifyChanged.bind(t))}_updateImpl(e,t){const n=this._backend;return super._updateImpl(e,t).done(n.notifyChanged.bind(n))}_removeImpl(e){const t=this._backend;return super._removeImpl(e).done(t.notifyChanged.bind(t))}}sr.registerClass(yne,"local");const Cne=/^(\{{0,1}([0-9a-fA-F]){8}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){4}-([0-9a-fA-F]){12}\}{0,1})$/,wne=/^\/Date\((-?\d+)((\+|-)?(\d+)?)\)\/$/,Sne=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|[-+]{1}\d{2}(:?)(\d{2})?)?$/,GA="application/json;odata=verbose",Hg=i=>Ji(i)==="string"?i.split():i,QM=i=>/\./.test(i),gC=(i,e,t)=>{for(i=String(i);i.length<e;)i=t?`${i}0`:`0${i}`;return i},TS=(i,e,t)=>{const n=[],s=r=>gC(r,2);return n.push(i.getFullYear()),n.push("-"),n.push(s(i.getMonth()+1)),n.push("-"),n.push(s(i.getDate())),e&&i.getHours()+i.getMinutes()+i.getSeconds()+i.getMilliseconds()<1||(n.push("T"),n.push(s(i.getHours())),n.push(":"),n.push(s(i.getMinutes())),n.push(":"),n.push(s(i.getSeconds())),i.getMilliseconds()&&(n.push("."),n.push(gC(i.getMilliseconds(),3))),t||n.push("Z")),n.join("")},Ene=i=>{const e=new Date(60*new Date(0).getTimezoneOffset()*1e3),t=i.replace("Z","").split("T"),n=/(\d{4})-(\d{2})-(\d{2})/.exec(t[0]),s=/(\d{2}):(\d{2}):(\d{2})\.?(\d{0,7})?/.exec(t[1]);if(e.setFullYear(Number(n[1])),e.setMonth(Number(n[2])-1),e.setDate(Number(n[3])),Array.isArray(s)&&s.length){e.setHours(Number(s[1])),e.setMinutes(Number(s[2])),e.setSeconds(Number(s[3]));let r=(s[4]||"").slice(0,3);r=gC(r,3,!0),e.setMilliseconds(Number(r))}return e},Ine=i=>/^(?:[a-z]+:)?\/{2,2}/i.test(i),Tne=i=>{const e=i.indexOf("?");return e>-1?i.substr(0,e):i},Dne=(i,e)=>{let t;const n=Tne(i).split("/"),s=e.split("/");for(n.pop();s.length;)t=s.shift(),t===".."?n.pop():n.push(t);return n.join("/")},Ane=i=>{const e=[];for(const t in i)e.push(`${t}=${i[t]}`);return e.join("&")},kne=function(i,e){var t;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e=se({async:!0,method:"get",url:"",params:{},payload:null,headers:{},timeout:3e4},e),(t=n.beforeSend)===null||t===void 0||t.call(n,e);const{async:s,timeout:r,headers:o}=e;let{url:a,method:l}=e;const{jsonp:d,withCredentials:c}=n;l=(l||"get").toLowerCase();const h=l==="get",u=h&&d,p=se({},e.params),f=h?p:(g=e.payload,JSON.stringify(g,function(_,x){if(!(this[_]instanceof Date))return x;switch(x=TS(this[_]),i){case 2:return x.substr(0,x.length-1);case 3:case 4:return x;default:throw pn.Error("E4002")}}));var g;const m=!h&&Ane(p),v=!h&&GA;return m&&(a+=(a.indexOf("?")>-1?"&":"?")+m),u&&(f.$format="json"),{url:a,data:f,dataType:u?"jsonp":"json",jsonp:u&&"$callback",method:l,async:s,timeout:r,headers:o,contentType:v,accepts:{json:[GA,"text/plain"].join()},xhrFields:{withCredentials:c}}},DS=(i,e,t)=>{const{deserializeDates:n,fieldTypes:s,countOnly:r,isPaged:o}=t,a=new de,l=kne(i,e,t);return AP.sendRequest(l).always((d,c)=>{const u=Pne(d,c,{deserializeDates:n,fieldTypes:s},l),{error:p,data:f,count:g}=u;let{nextUrl:m}=u;if(p)p.message!==R1&&a.reject(p);else if(r)isFinite(g)?a.resolve(g):a.reject(pn.Error("E4018"));else if(m&&!o)Ine(m)||(m=Dne(l.url,m)),DS(i,{url:m},t).fail(a.reject).done(v=>a.resolve(f.concat(v)));else{const v=isFinite(g)?{totalCount:g}:void 0;a.resolve(f,v)}}),a.promise()},One=i=>{let e,t,n=i;if("message"in i){var s;e=((s=i.message)===null||s===void 0?void 0:s.value)||i.message}for(;(n=n.innererror||n.internalexception)&&(t=n.message,e=t??e,!(n.internalexception&&e.indexOf("inner exception")===-1)););return e},Rne=(i,e,t)=>{var n,s,r,o;if(e==="nocontent")return null;let a="Unknown error",l=i,d=200;const c={requestOptions:t};if(e!=="success"){const{status:u,responseText:p}=i;d=u,a=dP(i,e);try{l=JSON.parse(p)}catch{}}const h=((n=l)===null||n===void 0?void 0:n.then)||((s=l)===null||s===void 0?void 0:s.error)||((r=l)===null||r===void 0?void 0:r["odata.error"])||((o=l)===null||o===void 0?void 0:o["@odata.error"]);if(h){a=One(h)||a,c.errorDetails=h,d===200&&(d=500);const u=Number(h.code);isFinite(u)&&u>=400&&(d=u)}return d>=400||d===0?(c.httpStatus=d,se(Error(a),c)):null},Pne=(i,e,t,n)=>{const s=Rne(i,e,n);if(s)return{error:s};if(!ot(i))return{data:i};const r="d"in i&&(Array.isArray(i.d)||Me(i.d))?Mne(i):Fne(i);return JM(r,t),r},Mne=i=>{let{d:e}=i;return G(e)?{data:e.results??e,nextUrl:e.__next,count:parseInt(e.__count,10)}:{error:Error("Malformed or unsupported JSON response received")}},Fne=i=>({data:i.value??i,nextUrl:i["@odata.nextLink"],count:parseInt(i["@odata.count"],10)}),la=Dt.inherit({ctor(i){this._value=i},valueOf(){return this._value}}),JM=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ie(i,(t,n)=>{if(n!==null&&typeof n=="object")"results"in n&&(i[t]=n.results),JM(i[t],e);else if(typeof n=="string"){const{fieldTypes:s,deserializeDates:r}=e;if((!s||s[t]!=="String")&&Cne.test(n)&&(i[t]=new Xt(n)),r!==!1)if(wne.exec(n)){const a=new Date(Number(RegExp.$1)+60*RegExp.$2*1e3);i[t]=new Date(a.valueOf()+60*a.getTimezoneOffset()*1e3)}else Sne.test(n)&&(i[t]=new Date(Ene(i[t]).valueOf()))}})},Bne=i=>`datetime'${TS(i,!0,!0)}'`,Nne=i=>`'${i.replace(/'/g,"''")}'`,Ka=i=>i instanceof la?i.valueOf():i.replace(/\./g,"/"),eF=i=>i instanceof Date?TS(i,!1,!1):i instanceof Xt?i.valueOf():Array.isArray(i)?`[${i.map(e=>eF(e)).join(",")}]`:tF(i),tF=i=>i instanceof Date?Bne(i):i instanceof Xt?`guid'${i}'`:i instanceof la?i.valueOf():typeof i=="string"?Nne(i):String(i),jg=(i,e)=>{switch(e){case 2:case 3:return tF(i);case 4:return eF(i);default:throw pn.Error("E4002")}},Vne=(i,e)=>{if(ot(i)){const t=[];return ie(i,(n,s)=>t.push(`${Ka(n)}=${jg(s,e)}`)),t.join()}return jg(i,e)},Lne={String:i=>`${i}`,Int32:i=>Math.floor(i),Int64:i=>i instanceof la?i:new la(`${i}L`),Guid:i=>i instanceof Xt?i:new Xt(i),Boolean:i=>!!i,Single:i=>i instanceof la?i:new la(`${i}f`),Decimal:i=>i instanceof la?i:new la(`${i}m`)},_C=(i,e)=>{if(e===null)return null;const t=Lne[i];if(!t)throw pn.Error("E4014",i);return t(e)},nF=(i,e)=>{if(e)return i<4?Ka(e.join()):Qi(e,QM,!0).join()},iF=i=>{let e="";const t=[],n=[];return ie(i,(s,r)=>{Array.isArray(r)&&[].push.apply(t,r),ot(r)&&n.push(`${s}${iF(r)}`)}),(t.length||n.length)&&(e+="(",t.length&&(e+=`$select=${Mn(t,Ka).join()}`),n.length&&(t.length&&(e+=";"),e+=`$expand=${Mn(n,Ka).join()}`),e+=")"),e},$ne=i=>{const e=[];return ie(i,(t,n)=>e.push(`${t}${iF(n)}`)),e.join()},sF=(i,e,t)=>{const n=t(e,i.shift(),i);n!==!1&&sF(i,n,t)},qA=(i,e,t)=>ie(i,(n,s)=>sF(s.split("."),e,t)),Hne=(i,e)=>{const t={};return i&&ie(Hg(i),function(){t[Ka(this)]=1}),e&&ie(Hg(e),function(){const n=this.split(".");n.length<2||(n.pop(),t[Ka(n.join("."))]=1)}),Mn(t,(n,s)=>s).join()},jne=(i,e)=>{const t={};if(i||e)return i&&qA(Hg(i),t,(n,s,r)=>(n[s]=n[s]||{},r.length?n[s]:!1)),e&&qA(Qi(Hg(e),QM),t,(n,s,r)=>r.length?n[s]=n[s]||{}:(n[s]=n[s]||[],n[s].push(s),!1)),$ne(t)},rF=(i,e,t)=>i<4?Hne(e,t):jne(e,t),oF=(i,e)=>Fs("{0}({1})",i,Mn(e||{},(t,n)=>Fs("{0}={1}",n,t)).join(",")),vC=(i,e)=>{if(!i)return i;const t={};return ie(i,(n,s)=>{t[n]=jg(s,e)}),t},zne=["contains","notcontains","startswith","endswith"],Wne=(()=>{let i,e,t;const n=h=>(u,p)=>`${u} ${h} ${p}`,s=(h,u)=>(p,f)=>{const g=[h,"("];return e&&(p=p.indexOf("tolower(")===-1?`tolower(${p})`:p,f=f.toLowerCase()),u?g.push(f,",",p):g.push(p,",",f),g.push(")"),g.join("")},r={"=":n("eq"),"<>":n("ne"),">":n("gt"),">=":n("ge"),"<":n("lt"),"<=":n("le"),startswith:s("startswith"),endswith:s("endswith")},o=se({},r,{contains:s("substringof",!0),notcontains:s("not substringof",!0)}),a=se({},r,{contains:s("contains"),notcontains:s("not contains")}),l=h=>{var u;h=lP(h);const p=h[1],f=h[0],g=t&&t[f];if(g&&(m=p,zne.some(y=>y===m))&&g!=="String")throw new pn.Error("E4024",p,f,g);var m;const _=(i===4?a:o)[p.toLowerCase()];if(!_)throw pn.Error("E4003",p);let x=h[2];return(u=t)!==null&&u!==void 0&&u[f]&&(x=_C(t[f],x)),_(Ka(f),jg(x,i))},d=h=>{const u=[];let p,f;return ie(h,function(g,m){if(Array.isArray(m)){if(u.length>1&&p!==f)throw new pn.Error("E4019");u.push(`(${c(m)})`),p=f,f="and"}else f=cP(this)?"and":"or"}),u.join(` ${p} `)},c=h=>Array.isArray(h[0])?d(h):uP(h)?(u=>{const p=u[0],f=c(u[1]);if(p==="!")return`not (${f})`;throw pn.Error("E4003",p)})(h):l(h);return(h,u,p,f)=>(t=p,e=f??Ot().oDataFilterToLower,i=u,c(h))})(),Une=i=>{let e=[];const t=[],n=i.expand;let s,r,o,a;const l=i.version||4,d=()=>r||o!==void 0,c=u=>{for(let p=0;p<u.length;p++)if(Ie(u[p])||Array.isArray(u[p])&&c(u[p]))return!0;return!1},h=()=>{const u={};if(a||(e.length&&(u.$orderby=e.join(",")),r&&(u.$skip=r),o!==void 0&&(u.$top=o),u.$select=nF(l,s)||void 0,u.$expand=rF(l,n,s)||void 0),t.length){const p=t.length<2?t[0]:t,f=i==null?void 0:i.fieldTypes,g=i==null?void 0:i.filterToLower;u.$filter=Wne(p,l,f,g)}return a&&(u.$top=0),(i.requireTotalCount||a)&&(l!==4?u.$inlinecount="allpages":u.$count="true"),u};return{optimize:u=>{let p=-1;for(let g=0;g<u.length;g++)if(u[g].name==="select"){p=g;break}if(p<0||!Ie(u[p].args[0]))return;const f=u[1+p];!f||f.name!=="slice"||(u[1+p]=u[p],u[p]=f)},exec:u=>DS(l,{url:u,params:se(h(),i==null?void 0:i.params)},{beforeSend:i.beforeSend,jsonp:i.jsonp,withCredentials:i.withCredentials,countOnly:a,deserializeDates:i.deserializeDates,fieldTypes:i.fieldTypes,isPaged:isFinite(o)}),multiSort(u){let p;if(d())return!1;for(let f=0;f<u.length;f++){const g=u[f][0],m=!!u[f][1];let v;if(typeof g!="string")return!1;v=Ka(g),m&&(v+=" desc"),p=p||[],p.push(v)}e=p},slice(u,p){if(d())return!1;r=u,o=p},filter(u){if(d()||(Array.isArray(u)||(u=[].slice.call(arguments)),c(u)))return!1;t.length&&t.push("and"),t.push(u)},select(u){if(s||Ie(u))return!1;Array.isArray(u)||(u=[].slice.call(arguments)),s=u},count:()=>a=!0}};wP.odata=Une;class aF{constructor(e){e=e||{},this._url=String(e.url).replace(/\/+$/,""),this._beforeSend=e.beforeSend,this._jsonp=e.jsonp,this._version=e.version||4,this._withCredentials=e.withCredentials,this._deserializeDates=e.deserializeDates,this._filterToLower=e.filterToLower}sendRequest(e,t,n,s){return DS(this.version,{url:e,method:t,params:n||{},payload:s},{beforeSend:this._beforeSend,jsonp:this._jsonp,withCredentials:this._withCredentials,deserializeDates:this._deserializeDates})}get version(){return this._version}get beforeSend(){return this._beforeSend}get url(){return this._url}get jsonp(){return this._jsonp}get filterToLower(){return this._filterToLower}}const Kne="5d46402c-7899-4ea9-bd81-8b73c47c7683",Gne=(i,e)=>({[i]:e}),qne=(i,e)=>{const t={};for(const n in i)t[n]=i[n];for(const n in e)n in t?t[n]!==e[n]&&pn.log("W4001",n):t[n]=e[n];return t},Yne=sr.inherit({ctor(i){this.callBase(i),this._requestDispatcher=new aF(i);let e=this.key(),{fieldTypes:t}=i,{keyType:n}=i;if(n){const s=typeof n=="string";e||(e=s?Kne:Object.keys(n),this._legacyAnonymousKey=e),s&&(n=Gne(e,n)),t=qne(t,n)}this._fieldTypes=t||{},this.version()===2?this._updateMethod="MERGE":this._updateMethod="PATCH"},_customLoadOptions:()=>["expand","customQueryParams"],_byKeyImpl(i,e){const t={};return e&&(t.$expand=rF(this.version(),e.expand,e.select)||void 0,t.$select=nF(this.version(),e.select)||void 0),this._requestDispatcher.sendRequest(this._byKeyUrl(i),"GET",t)},createQuery(i){let e;const t={adapter:"odata",beforeSend:this._requestDispatcher.beforeSend,errorHandler:this._errorHandler,jsonp:this._requestDispatcher.jsonp,version:this._requestDispatcher.version,withCredentials:this._requestDispatcher._withCredentials,expand:i==null?void 0:i.expand,requireTotalCount:i==null?void 0:i.requireTotalCount,deserializeDates:this._requestDispatcher._deserializeDates,fieldTypes:this._fieldTypes};if(e=(i==null?void 0:i.urlOverride)??this._requestDispatcher.url,G(this._requestDispatcher.filterToLower)&&(t.filterToLower=this._requestDispatcher.filterToLower),i!=null&&i.customQueryParams){const n=vC(i==null?void 0:i.customQueryParams,this.version());this.version()===4?e=oF(e,n):t.params=n}return Hi(e,t)},_insertImpl(i){this._requireKey();const e=new de;return Ae(this._requestDispatcher.sendRequest(this._requestDispatcher.url,"POST",null,i)).done(t=>e.resolve(t&&!Ot().useLegacyStoreResult?t:i,this.keyOf(t))).fail(e.reject),e.promise()},_updateImpl(i,e){const t=new de;return Ae(this._requestDispatcher.sendRequest(this._byKeyUrl(i),this._updateMethod,null,e)).done(n=>Ot().useLegacyStoreResult?t.resolve(i,e):t.resolve(n||e,i)).fail(t.reject),t.promise()},_removeImpl(i){const e=new de;return Ae(this._requestDispatcher.sendRequest(this._byKeyUrl(i),"DELETE")).done(()=>e.resolve(i)).fail(e.reject),e.promise()},_convertKey(i){let e=i;const t=this._fieldTypes,n=this.key()||this._legacyAnonymousKey;if(Array.isArray(n)){e={};for(let s=0;s<n.length;s++){const r=n[s];e[r]=_C(t[r],i[r])}}else t[n]&&(e=_C(t[n],i));return e},_byKeyUrl(i){const e=this._requestDispatcher.url,t=this._convertKey(i);return`${e}(${encodeURIComponent(Vne(t,this.version()))})`},version(){return this._requestDispatcher.version}},"odata");Dt.inherit({ctor(i){this._requestDispatcher=new aF(i),this._errorHandler=i.errorHandler,ie(i.entities||[],(e,t)=>{this[e]=new Yne(se({},i,{url:`${this._requestDispatcher.url}/${encodeURIComponent(t.name||e)}`},t))})},get(i,e){return this.invoke(i,e,"GET")},invoke(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"POST";t=t.toLowerCase();const n=new de;let s=`${this._requestDispatcher.url}/${encodeURIComponent(i)}`,r;return this.version()===4&&(t==="get"?(s=oF(s,vC(e,this.version())),e=null):t==="post"&&(r=e,e=null)),Ae(this._requestDispatcher.sendRequest(s,t,vC(e,this.version()),r)).done(o=>{ot(o)&&i in o&&(o=o[i]),n.resolve(o)}).fail(this._errorHandler).fail(j0).fail(n.reject),n.promise()},objectLink(i,e){const t=this[i];if(!t)throw pn.Error("E4015",i);return G(e)?{__metadata:{uri:t._byKeyUrl(e)}}:null},version(){return this._requestDispatcher.version}});function lF(i){if(!pG(i))return i;let e=!1;return{store:{type:"array",data:i.reduce((n,s)=>{var r;const o=((r=s.items)===null||r===void 0?void 0:r.map(a=>{let l=a;Me(l)||(l={text:l},e=!0);const d=l;return"key"in d||(d.key=s.key),d}))??[];return n.concat(o)},[])},group:{selector:"key",keepInitialKeyOrder:!0},searchExpr:e?"text":void 0}}const dF="__dx_key__";class AS extends cS{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{repaintChangesOnly:!1})}reload(){}_init(){super._init(),this._refreshItemsCache()}_findItemElementByKey(e){let t=M();const n=this.key();return this.itemElements().each((s,r)=>{const o=M(r),a=this._getItemData(o);return(n?Ap(n,this.keyOf(a),e):this._isItemEquals(a,e))?(t=o,!1):!0}),t}_dataSourceChangedHandler(e,t){t!=null&&t.changes?this._modifyByChanges(t.changes):(super._dataSourceChangedHandler(e,t),this._refreshItemsCache())}_isItemEquals(e,t){let n=e;e&&typeof e=="object"&&e.__dx_key__&&(n=e.data);try{return JSON.stringify(n)===JSON.stringify(t)}catch{return n===t}}_isItemStrictEquals(e,t){return this._isItemEquals(e,t)}_shouldAddNewGroup(e,t){let n=!1;const{grouped:s}=this.option();return s&&(e.length||(n=!0),ie(e,(r,o)=>{o.type==="insert"&&(n=!0,ie(t,(a,l)=>o.data.key!==void 0&&o.data.key===l.key?(n=!1,!1):!0))})),n}_partialRefresh(){const{repaintChangesOnly:e}=this.option();if(e){const t=s=>s&&s.__dx_key__!==void 0?s.__dx_key__:this.keyOf(s),n=D8({oldItems:this._itemsCache,newItems:this._editStrategy.itemsGetter(),getKey:t,isItemEquals:this._isItemStrictEquals.bind(this),detectReorders:!0});if(n&&this._itemsCache.length&&!this._shouldAddNewGroup(n,this._itemsCache))return this._modifyByChanges(n,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1}_refreshItemsCache(){const{repaintChangesOnly:e}=this.option();if(e){const t=this._editStrategy.itemsGetter();try{this._itemsCache=se(!0,[],t),this.key()||(this._itemsCache=this._itemsCache.map((n,s)=>({[dF]:t[s],data:n})))}catch{this._itemsCache=se([],t)}}}_updateByChange(e,t,n,s){if(s)this._renderItem(n.index,n.data,null,this._findItemElementByKey(n.key));else{const r=t[Zl(e,t,n.key)];r&&M1(e,t,n.key,n.data).done(()=>{this._renderItem(t.indexOf(r),r,null,this._findItemElementByKey(n.key))})}}_insertByChange(e,t,n,s){Ae(s??F1(e,t,n.data,n.index)).done(()=>{this._beforeItemElementInserted(n),this._renderItem(n.index??t.length,n.data),this._afterItemElementInserted()})}_updateSelectionAfterRemoveByChange(e){const{selectedIndex:t,selectedItems:n=[]}=this.option(),s=t;s>e?this.option("selectedIndex",s-1):s===e&&n.length===1?this.option("selectedItems",[]):this._normalizeSelectedItems()}_beforeItemElementInserted(e){const{selectedIndex:t}=this.option(),n=t;e.index<=n&&this.option("selectedIndex",n+1)}_afterItemElementInserted(){this._renderEmptyMessage()}_removeByChange(e,t,n,s){const r=s?n.index:Zl(e,t,n.key);if(s?n.oldItem:t[r]){const a=this._findItemElementByKey(n.key),l=this._extendActionArgs(a);this._waitDeletingPrepare(a).done(()=>{s?(this._updateIndicesAfterIndex(r-1),this._afterItemElementDeleted(a,l),this._updateSelectionAfterRemoveByChange(r)):(this._deleteItemElementByIndex(r),this._afterItemElementDeleted(a,l))})}}_modifyByChanges(e,t){const n=this._editStrategy.itemsGetter(),s={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},r=this._dataController,o=r.paginate(),a=r.group();let l=e;(o||a)&&(l=e.filter(d=>d.type!=="insert"||d.index!==void 0)),l.forEach(d=>this[`_${d.type}ByChange`](s,n,d,t)),this._renderedItemsCount=n.length,this._refreshItemsCache(),this._fireContentReadyAction()}_appendItemToContainer(e,t,n){const s=e.children(this._itemSelector())[n];ve.insertElement(e[0],t[0],s)}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"items":{this._partialRefresh()||super._optionChanged(e);break}case"dataSource":{const{repaintChangesOnly:s}=this.option();(!s||!n)&&this.option("items",[]),super._optionChanged(e);break}case"repaintChangesOnly":break;default:super._optionChanged(e)}}}class Xne extends Ua{_renderWatchers(){super._renderWatchers(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))}_renderBadge(e){if(this._$element.children(".dx-list-item-badge-container").remove(),!e)return;const t=M("<div>").addClass("dx-list-item-badge-container").append(M("<div>").addClass("dx-list-item-badge").addClass("dx-badge").text(e)),n=this._$element.children(".dx-list-item-chevron-container").first();n.length>0?t.insertBefore(n):t.appendTo(this._$element)}_renderShowChevron(e){if(this._$element.children(".dx-list-item-chevron-container").remove(),!e)return;const t=M("<div>").addClass("dx-list-item-chevron-container"),n=M("<div>").addClass("dx-list-item-chevron");t.append(n).appendTo(this._$element)}}class Zne extends sS{_init(e){super._init(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$refreshingText=e._$refreshingText,this._$scrollViewContent=M(e.content()),this._$container=M(e.container()),this._initCallbacks()}_initCallbacks(){this.pullDownCallbacks=Bt(),this.releaseCallbacks=Bt(),this.reachBottomCallbacks=Bt()}render(){super.render(),this._renderPullDown(),this._releaseState()}_renderPullDown(){const e=M("<div>").addClass("dx-scrollview-pull-down-image"),t=M("<div>").addClass("dx-scrollview-pull-down-indicator"),n=M("<div>")[0],s=new Rs(n).$element();this._$pullDownText=M("<div>").addClass("dx-scrollview-pull-down-text");const{pullingDownText:r="",pulledDownText:o="",refreshingText:a=""}=this.option();this._$pullingDownText=M("<div>").text(r).appendTo(this._$pullDownText),this._$pulledDownText=M("<div>").text(o).appendTo(this._$pullDownText),this._$refreshingText=M("<div>").text(a).appendTo(this._$pullDownText),this._$pullDown.empty().append(e).append(t.append(s)).append(this._$pullDownText)}_releaseState(){this._state=0,this._refreshPullDownText()}_refreshPullDownText(){const e=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];ie(e,(t,n)=>{const s=this._state===n.visibleState?"addClass":"removeClass";n.element[s]("dx-scrollview-pull-down-text-visible")})}update(){super.update(),this._setTopPocketOffset()}_updateDimensions(){super._updateDimensions(),this._topPocketSize=this._$topPocket.get(0).clientHeight;const e=this._$scrollViewContent.get(0),t=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-t.clientHeight,0)}_allowedDirections(){const e=super._allowedDirections();return e.vertical=e.vertical||this._pullDownEnabled,e}_setTopPocketOffset(){this._$topPocket.css({top:-this._topPocketSize})}handleEnd(){super.handleEnd(),this._complete()}handleStop(){super.handleStop(),this._complete()}_complete(){this._state===1&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(()=>{this._pullDownRefreshing()},400))}_setPullDownOffset(e){ui(this._$topPocket,{top:e}),ui(this._$scrollViewContent,{top:e})}handleScroll(e){if(super.handleScroll(e),this._state===2)return;const t=this.location().top,n=(this._location||0)-t;this._location=t,this._isPullDown()?this._pullDownReady():n>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}_isPullDown(){return this._pullDownEnabled&&this._location>=this._topPocketSize}_isReachBottom(){return this._reachBottomEnabled&&this.isBottomReached()}isBottomReached(){return Math.round(this._bottomBoundary+Math.floor(this._location))<=1}_reachBottom(){this._state!==3&&(this._state=3,this.reachBottomCallbacks.fire())}_pullDownReady(){this._state!==1&&(this._state=1,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())}_stateReleased(){this._state!==0&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._releaseState())}_pullDownRefreshing(){this._state!==2&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())}pullDownEnable(e){e&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=e}reachBottomEnable(e){this._reachBottomEnabled=e}pendingRelease(){this._state=1}release(){const e=de();return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._state===3&&(this._state=0),this._releaseTimeout=setTimeout(()=>{this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()},400),e.promise()}dispose(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),super.dispose()}}class Qne extends sS{_init(e){super._init(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$scrollViewContent=M(e.content()),this._$container=M(e.container()),this._initCallbacks(),this._location=0}_initCallbacks(){this.pullDownCallbacks=Bt(),this.releaseCallbacks=Bt(),this.reachBottomCallbacks=Bt()}render(){super.render(),this._renderPullDown(),this._releaseState()}_renderPullDown(){const e=M("<div>").addClass("dx-scrollview-pull-down-indicator"),t=M("<div>")[0],n=new Rs(t).$element();this._$icon=M("<div>").addClass("dx-icon-pulldown"),this._$pullDown.empty().append(this._$icon).append(e.append(n))}_releaseState(){this._state=0,this._releasePullDown(),this._updateDimensions()}_releasePullDown(){this._$pullDown.css({opacity:0})}_updateDimensions(){super._updateDimensions(),this._topPocketSize=this._$topPocket.get(0).clientHeight;const e=this._$scrollViewContent.get(0),t=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-t.clientHeight,0)}_allowedDirections(){const e=super._allowedDirections();return e.vertical=e.vertical||this._pullDownEnabled,e}handleInit(e){super.handleInit(e),this._state===0&&this._location===0&&(this._startClientY=On(e.originalEvent).y,this._state=4)}handleMove(e){super.handleMove(e),this._deltaY=On(e.originalEvent).y-this._startClientY,this._state===4&&(this._pullDownEnabled&&this._deltaY>0?this._state=5:this._complete()),this._state===5&&(e.preventDefault(),this._movePullDown())}_movePullDown(){const e=this._getPullDownHeight(),t=Math.min(3*e,this._deltaY+this._getPullDownStartPosition()),n=180*t/(3*e);this._$pullDown.css({opacity:1}).toggleClass("dx-scrollview-pull-down-refreshing",t<e),ui(this._$pullDown,{top:t}),this._$icon.css({transform:`rotate(${n}deg)`})}_isPullDown(){return this._pullDownEnabled&&this._state===5&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()}_getPullDownHeight(){return Math.round(.05*gt(this._$element))}_getPullDownStartPosition(){return-Math.round(1.5*gt(this._$pullDown))}handleEnd(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()}handleStop(){this._complete()}_complete(){(this._state===4||this._state===5)&&this._releaseState()}handleScroll(e){if(super.handleScroll(e),this._state===2)return;const t=this.location().top,n=this._location-t;this._location=t,n>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}_isReachBottom(){return this._reachBottomEnabled&&this.isBottomReached()}isBottomReached(){return Math.round(this._bottomBoundary+Math.floor(this._location))<=1}_reachBottom(){this.reachBottomCallbacks.fire()}_stateReleased(){this._state!==0&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading"),this._releaseState())}_pullDownRefreshing(){this._state=2,this._pullDownRefreshHandler()}_pullDownRefreshHandler(){this._refreshPullDown(),this.pullDownCallbacks.fire()}_refreshPullDown(){this._$pullDown.addClass("dx-scrollview-pull-down-loading"),ui(this._$pullDown,{top:this._getPullDownHeight()})}pullDownEnable(e){this._$topPocket.toggle(e),this._pullDownEnabled=e}reachBottomEnable(e){this._reachBottomEnabled=e}pendingRelease(){this._state=1}release(){const e=de();return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(()=>{this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()},800),e.promise()}dispose(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),super.dispose()}}class Jne extends j8{constructor(e){super(e),this._topPocketSize=0,this._bottomPocketSize=0,this._initCallbacks(),this._releaseState()}_releaseState(){this._state=0,this._refreshPullDownText()}_refreshPullDownText(){const e=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];ie(e,(t,n)=>{const s=this._state===n.visibleState?"addClass":"removeClass";n.element[s]("dx-scrollview-pull-down-text-visible")})}_initCallbacks(){this.pullDownCallbacks=Bt(),this.releaseCallbacks=Bt(),this.reachBottomCallbacks=Bt()}_updateBounds(){if(this._direction!=="horizontal"){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;const t=this._$container.get(0),n=this._$content.get(0);this._bottomBoundary=Math.max(n.clientHeight-this._bottomPocketSize-t.clientHeight,0)}super._updateBounds()}_updateScrollbar(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})}_moveContent(){super._moveContent(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():this._state!==0&&this._stateReleased()}_moveScrollbar(){this._scrollbar.moveTo(this._topPocketSize+this._location)}_isPullDown(){return this._pullDownEnabled&&this._location>=0}_isReachBottom(){return this._reachBottomEnabled&&this.isBottomReached()}isBottomReached(){const e=this._$container.get(0);return Math.round(this._bottomBoundary-Math.ceil(e.scrollTop))<=1}_scrollComplete(){this._inBounds()&&this._state===1?this._pullDownRefreshing():this._inBounds()&&this._state===3?this._reachBottomLoading():super._scrollComplete()}_reachBottomReady(){this._state!==3&&(this._state=3,this._minOffset=this._getMinOffset())}_getMaxOffset(){return-this._topPocketSize}_getMinOffset(){return Math.min(super._getMinOffset(),-this._topPocketSize)}_reachBottomLoading(){this.reachBottomCallbacks.fire()}_pullDownReady(){this._state!==1&&(this._state=1,this._maxOffset=0,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())}_stateReleased(){this._state!==0&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this.releaseCallbacks.fire())}_pullDownRefreshing(){this._state!==2&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())}_releaseHandler(){var e;return this._state===0&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=C6(this._release.bind(this)),(e=this._releaseTask)===null||e===void 0?void 0:e.promise}_release(){this._stateReleased(),this._scrollComplete()}_reachBottomEnablingHandler(e){this._reachBottomEnabled!==e&&(this._reachBottomEnabled=e,this._updateBounds())}_pullDownEnablingHandler(e){this._pullDownEnabled!==e&&(this._pullDownEnabled=e,this._considerTopPocketChange(),this._updateHandler())}_considerTopPocketChange(){this._location-=ht(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()}_pendingReleaseHandler(){this._state=1}dispose(){this._releaseTask&&this._releaseTask.abort(),super.dispose()}}class eie extends z8{_init(e){super._init(e),this._$pullDown=e._$pullDown,this._$topPocket=e._$topPocket,this._$bottomPocket=e._$bottomPocket,this._initCallbacks()}_initCallbacks(){this.pullDownCallbacks=Bt(),this.releaseCallbacks=Bt(),this.reachBottomCallbacks=Bt()}render(){this._renderPullDown(),super.render()}_renderPullDown(){const e=M("<div>").addClass("dx-scrollview-pull-down-image"),t=M("<div>").addClass("dx-scrollview-pull-down-indicator"),n=M("<div>")[0],s=new Rs(n).$element();this._$pullDownText=M("<div>").addClass("dx-scrollview-pull-down-text");const{pullingDownText:r="",pulledDownText:o="",refreshingText:a=""}=this.option();this._$pullingDownText=M("<div>").text(r).appendTo(this._$pullDownText),this._$pulledDownText=M("<div>").text(o).appendTo(this._$pullDownText),this._$refreshingText=M("<div>").text(a).appendTo(this._$pullDownText),this._$pullDown.empty().append(e).append(t.append(s)).append(this._$pullDownText)}pullDownEnable(e){this._eventHandler("pullDownEnabling",e)}reachBottomEnable(e){this._eventHandler("reachBottomEnabling",e)}_createScroller(e){const t=new Jne(this._scrollerOptions(e));this._scrollers[e]=t,t.pullDownCallbacks.add(()=>{this.pullDownCallbacks.fire()}),t.releaseCallbacks.add(()=>{this.releaseCallbacks.fire()}),t.reachBottomCallbacks.add(()=>{this.reachBottomCallbacks.fire()})}_scrollerOptions(e){return Object.assign({},super._scrollerOptions(e),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})}pendingRelease(){this._eventHandler("pendingRelease")}release(){return this._eventHandler("release").done(this._updateAction)}location(){const e=super.location();return e.top+=ht(this._$topPocket),e}isBottomReached(){return this._scrollers.vertical.isBottomReached()}dispose(){ie(this._scrollers,function(){this.dispose()}),super.dispose()}}const tie="dx-scrollview-loadpanel",nie={pullDown:Zne,swipeDown:Qne,simulated:eie},cF=!st();class uF extends ys{finishLoading(){}release(){}refresh(){}scrollOffset(){return{top:0,left:0}}isBottomReached(){return!1}_optionChanged(e){const{name:t}=e;if(t!=="onUpdated")return super._optionChanged(e)}}class hF extends ys{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{pullingDownText:ue.format("dxScrollView-pullingDownText"),pulledDownText:ue.format("dxScrollView-pulledDownText"),refreshingText:ue.format("dxScrollView-refreshingText"),reachBottomText:ue.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device(){return Oe.real().platform==="android"},options:{refreshStrategy:"swipeDown"}},{device:()=>Ns(Yt()),options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])}_init(){super._init(),this._loadingIndicatorEnabled=!0}_initScrollableMarkup(){super._initScrollableMarkup(),this.$element().addClass("dx-scrollview"),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()}_initContent(){const e=M("<div>").addClass("dx-scrollview-content");this._$content.wrapInner(e)}_initTopPocket(){this._$topPocket=M("<div>").addClass("dx-scrollview-top-pocket"),this._$pullDown=M("<div>").addClass("dx-scrollview-pull-down"),this._$topPocket.append(this._$pullDown),this._$content.prepend(this._$topPocket)}_initBottomPocket(){this._$bottomPocket=M("<div>").addClass("dx-scrollview-bottom-pocket"),this._$reachBottom=M("<div>").addClass("dx-scrollview-scrollbottom");const e=M("<div>").addClass("dx-scrollview-scrollbottom-indicator"),t=M("<div>")[0],n=new Rs(t).$element();this._$reachBottomText=M("<div>").addClass("dx-scrollview-scrollbottom-text"),this._updateReachBottomText(),this._$reachBottom.append(e.append(n)).append(this._$reachBottomText),this._$bottomPocket.append(this._$reachBottom),this._$content.append(this._$bottomPocket)}_initLoadPanel(){const e=M("<div>").addClass(tie).appendTo(this.$element()),{refreshingText:t}=this.option();this._loadPanel=this._createComponent(e,Fp,{shading:!1,delay:400,message:t,position:{of:this.$element()}})}_updateReachBottomText(){const{reachBottomText:e}=this.option();this._$reachBottomText.text(e)}_createStrategy(){const{useNative:e,refreshStrategy:t}=this.option(),s=nie[(e?t:"simulated")??"pullDown"];this._strategy=new s(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))}_createActions(){super._createActions(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()}_tryRefreshPocketState(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))}on(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];const r=super.on.apply(this,[e,...n]);return(e==="pullDown"||e==="reachBottom")&&this._tryRefreshPocketState(),r}_pullDownEnable(e){if(arguments.length===0)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(e),this._strategy.pullDownEnable(e),this._pullDownEnabled=e)}_reachBottomEnable(e){if(arguments.length===0)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(e),this._strategy.reachBottomEnable(e),this._reachBottomEnabled=e)}_pullDownHandler(){this._loadingIndicator(!1),this._pullDownLoading()}_loadingIndicator(e){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=e}_pullDownLoading(){var e;this.startLoading(),(e=this._pullDownAction)===null||e===void 0||e.call(this)}_reachBottomHandler(){this._loadingIndicator(!1),this._reachBottomLoading()}_reachBottomLoading(){var e;this.startLoading(),(e=this._reachBottomAction)===null||e===void 0||e.call(this)}_releaseHandler(){this.finishLoading(),this._loadingIndicator(!0)}_optionChanged(e){switch(e.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:super._optionChanged(e)}}content(){return We(this._$content.children().eq(1))}release(e){return e!==void 0&&this.toggleLoading(!e),this._strategy.release()}toggleLoading(e){this._reachBottomEnable(e)}refresh(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())}startLoading(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()}finishLoading(){this._loadPanel.hide(),this._unlock()}isBottomReached(){return this._strategy.isBottomReached()}_dispose(){this._strategy.dispose(),super._dispose(),this._loadPanel&&this._loadPanel.$element().remove()}}St("dxScrollView",cF?uF:hF);const pF=cF?uF:hF;function iie(i){return i?Number(i.replace("px","")):0}function sie(i){var e,t;return i&&st()?(e=(t=bt()).getComputedStyle)===null||e===void 0?void 0:e.call(t,i):null}function rie(i,e){const t=sie(i);return t?iie(t[`margin${Pc(e)}`]):0}const oie="dx-list-select-checkbox",aie="dx-list-select-radiobutton";function lie(){return pF}class kS extends AS{_feedbackShowTimeout(){return 70}_supportedKeys(){return Object.assign({},super._supportedKeys(),{leftArrow:Te,rightArrow:Te,pageUp(e){this._moveFocusPerPage(e,"prev")},pageDown(e){this._moveFocusPerPage(e,"next")}})}_moveFocusPerPage(e,t){if(this._isLastItemFocused(t))return;e.preventDefault(),e.stopPropagation();let n=this._getEdgeVisibleItem(t);const{focusedElement:s}=this.option();n.is(M(s))&&(this.scrollTo(this._getItemLocation(n,t)),n=this._getEdgeVisibleItem(t)),this.option("focusedElement",We(n)),this.scrollToItem(n)}_isLastItemFocused(e){const t=e==="prev"?this._itemElements().first():this._itemElements().last(),{focusedElement:n}=this.option();return t.is(M(n))}_getNextItem(e,t){const n=this._getAvailableItems(),s=n.index(e);return M(t==="prev"?n[s-1]:n[s+1])}_getEdgeVisibleItem(e){const t=this.scrollTop(),n=ht(this.$element()),{focusedElement:s}=this.option();let r=M(s),o=!0;if(!r.length)return M();for(;o;){var a;const l=this._getNextItem(r,e);if(!l.length)break;const d=(((a=l.position())===null||a===void 0?void 0:a.top)??0)+gt(l)/2;o=d<n+t&&d>t,o&&(r=l)}return r}_getItemLocation(e,t){return t==="prev"?e.position().top-ht(this.$element())+gt(e):e.position().top}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,selectByClick:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:ue.format("dxList-pullingDownText"),pulledDownText:ue.format("dxList-pulledDownText"),refreshingText:ue.format("dxList-refreshingText"),pageLoadingText:ue.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:ue.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:e=>e==null?void 0:e.showChevron,badgeExpr:e=>e==null?void 0:e.badge,_onItemsRendered:()=>{}})}_defaultOptionsRules(){const e=Yt();return super._defaultOptionsRules().concat(N8(),[{device:()=>!es.nativeScrolling,options:{useNativeScrolling:!1}},{device:t=>!es.nativeScrolling&&!Oe.isSimulator()&&Oe.real().deviceType==="desktop"&&t.platform==="generic",options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:()=>Oe.real().deviceType==="desktop"&&!Oe.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>xs(e),options:{useInkRipple:!0}},{device:()=>Ns(e),options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:""}}])}_visibilityChanged(e){e&&this._updateLoadingState(!0)}_itemClass(){return"dx-list-item"}_itemDataKey(){return"dxListItemData"}_itemContainer(){return this._$container}_getItemsContainer(){return this._$listContainer}_cleanItemContainer(){super._cleanItemContainer();const e=this._getItemsContainer();M(e).empty(),e.appendTo(this._$container)}_saveSelectionChangeEvent(e){this._selectionChangeEventInstance=e}_getSelectionChangeEvent(){return this._selectionChangeEventInstance}_refreshItemElements(){const{grouped:e}=this.option(),t=this._getItemsContainer();e?this._itemElementsCache=t.children(".dx-list-group").children(".dx-list-group-body").children(this._itemSelector()):this._itemElementsCache=t.children(this._itemSelector())}_getItemAndHeaderElements(){const t=`${`> .dx-list-group-body > ${this._itemSelector()}`}, > .dx-list-group-header`;return this._getItemsContainer().children(".dx-list-group").find(t)}_getAvailableItems(e){const{collapsibleGroups:t}=this.option();return t?this._getItemAndHeaderElements().filter((s,r)=>M(r).hasClass("dx-list-group-header")?!0:!M(r).closest(".dx-list-group").hasClass("dx-list-group-collapsed")):super._getAvailableItems(e)}_modifyByChanges(e,t){super._modifyByChanges(e,t),this._refreshItemElements(),this._updateLoadingState(!0)}reorderItem(e,t){return super.reorderItem(e,t).done(()=>{this._refreshItemElements()})}deleteItem(e){return super.deleteItem(e).done(()=>{this._refreshItemElements()})}_itemElements(){return this._itemElementsCache}_itemSelectHandler(e){const{selectionMode:t}=this.option();if(t==="single"&&this.isItemSelected(e.currentTarget))return;const s=M(e.target).closest(`.${oie}`).length||M(e.target).closest(`.${aie}`).length;return s&&this.option("focusedElement",We(M(e.currentTarget))),super._itemSelectHandler(e,s)}_allowDynamicItemsAppend(){return!0}_activeStateUnit(){const{collapsibleGroups:e}=this.option(),t=[".dx-list-item",".dx-list-select-all"];return e&&t.push(".dx-list-group-header"),t.join(",")}_init(){super._init(),this._dataController.resetDataSourcePageIndex(),this._$container=this.$element(),this._$listContainer=M("<div>").addClass("dx-list-items"),this._initScrollView(),this._createGroupRenderAction()}_scrollBottomMode(){const{pageLoadMode:e}=this.option();return e==="scrollBottom"}_nextButtonMode(){const{pageLoadMode:e}=this.option();return e==="nextButton"}_dataSourceOptions(){const e=this._scrollBottomMode(),t=this._nextButtonMode();return Object.assign({},super._dataSourceOptions(),{paginate:wn(e||t,!0)})}_getSpecificDataSourceOption(){const{grouped:e}=this.option(),t=this.option("dataSource");return t&&e?lF(t):t}_getGroupContainerByIndex(e){return this._getItemsContainer().find(".dx-list-group").eq(e).find(".dx-list-group-body")}_dataSourceFromUrlLoadMode(){return"raw"}_initScrollView(){const{height:e,width:t,disabled:n,showScrollbar:s,useNativeScrolling:r,bounceEnabled:o,scrollByContent:a,scrollByThumb:l,pullingDownText:d,pulledDownText:c,refreshingText:h,pageLoadingText:u,scrollingEnabled:p,pullRefreshEnabled:f}=this.option(),g=p&&f,m=p&&this._scrollBottomMode()&&!!this._dataController.getDataSource();this._scrollView=this._createComponent(this.$element(),lie(),{height:e,width:t,disabled:n||!p,onScroll:_=>{this._scrollHandler(_)},onPullDown:g?this._pullDownHandler.bind(this):null,onReachBottom:m?this._scrollBottomHandler.bind(this):null,showScrollbar:s,useNative:r,bounceEnabled:o,scrollByContent:a,scrollByThumb:l,pullingDownText:d,pulledDownText:c,refreshingText:h,reachBottomText:u,useKeyboard:!1}),this._$container=M(this._scrollView.content()),this._$listContainer.appendTo(this._$container);const{wrapItemText:v}=this.option();this._toggleWrapItemText(v),this._createScrollViewActions()}_toggleWrapItemText(e){this._$listContainer.toggleClass("dx-wrap-item-text",e)}_createScrollViewActions(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")}_scrollHandler(e){var t;(t=this._scrollAction)===null||t===void 0||t.call(this,e)}_initTemplates(){this._templateManager.addDefaultTemplates({group:new hd((e,t)=>{ot(t)?t.key&&e.text(t.key):e.text(String(t))},["key"],this.option("integrationOptions.watchMethod"))}),super._initTemplates()}_prepareDefaultItemTemplate(e,t){if(super._prepareDefaultItemTemplate(e,t),e.icon){const n=Xr(e.icon);if(!n)return;const s=n.addClass("dx-list-item-icon"),r=M("<div>").addClass("dx-list-item-icon-container");r.append(s),t.prepend(r)}}_getBindableFields(){return["text","html","icon"]}_updateLoadingState(e){const t=this._dataController,n=this._scrollBottomMode(),s=t.isLoading(),r=this._isLastPage(),o=n&&!!e&&!s&&!r;this._shouldContinueLoading(o)?this._infiniteDataLoading():(this._scrollView.release(!o&&!t.isLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))}_shouldRenderNextButton(){return this._nextButtonMode()&&this._dataController.isLoaded()}_isDataSourceFirstLoadCompleted(e){return G(e)&&(this._isFirstLoadCompleted=e),this._isFirstLoadCompleted}_dataSourceLoadingChangedHandler(e){if(this._loadIndicationSuppressed())return;const{indicateLoading:t}=this.option();if(e&&t)this._showLoadingIndicatorTimer=setTimeout(()=>{if(!!this._itemElements().length||this._isDataSourceFirstLoadCompleted()){var o;(o=this._scrollView)===null||o===void 0||o.startLoading()}});else{var n;clearTimeout(this._showLoadingIndicatorTimer),(n=this._scrollView)===null||n===void 0||n.finishLoading()}e||this._isDataSourceFirstLoadCompleted(!1)}_dataSourceChangedHandler(e,t){if(!this._shouldAppendItems()&&st()){var n;(n=this._scrollView)===null||n===void 0||n.scrollTo(0)}super._dataSourceChangedHandler(e,t),this._isDataSourceFirstLoadCompleted(!0)}_refreshContent(){this._prepareContent(),this._fireContentReadyAction()}_hideLoadingIfLoadIndicationOff(){const{indicateLoading:e}=this.option();e||this._dataSourceLoadingChangedHandler(!1)}_loadIndicationSuppressed(e){return arguments.length&&(this._isLoadIndicationSuppressed=e),this._isLoadIndicationSuppressed}_scrollViewIsFull(){const e=this._scrollView;return!e||ht(e.content())>ht(e.container())}_pullDownHandler(){var e;const t={component:this,element:this.element()};(e=this._pullRefreshAction)===null||e===void 0||e.call(this,t);const n=this._dataController;n.getDataSource()&&!n.isLoading()?(this._clearSelectedItems(),n.pageIndex(0),n.reload()):this._updateLoadingState()}_shouldContinueLoading(e){var t;if(!e)return!1;const n=this._scrollView.content(),s=this._scrollView.container(),r=ht(n),o=ht(s),a=((t=this._scrollView.scrollOffset())===null||t===void 0?void 0:t.top)??0,l=r-o<a,d=this._scrollViewIsFull();return e&&!d||l}_infiniteDataLoading(){this.$element().is(":visible")&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage()}))}_scrollBottomHandler(e){var t;(t=this._pageLoadingAction)===null||t===void 0||t.call(this,e),!this._dataController.isLoading()&&!this._isLastPage()?this._loadNextPage():this._updateLoadingState()}_renderItems(e){const{grouped:t}=this.option();t?(ie(e,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),xs(Yt())&&this.attachGroupHeaderInkRippleEvents()):super._renderItems(e),this._refreshItemElements(),this._updateLoadingState(!0)}_postProcessRenderItems(){const{_onItemsRendered:e}=this.option();e==null||e()}_attachGroupCollapseEvent(){const{collapsibleGroups:e}=this.option(),t=be(Nt,this.NAME),n=this.$element();n.toggleClass("dx-list-collapsible-groups",e),Y.off(n,t,".dx-list-group-header"),e&&Y.on(n,t,".dx-list-group-header",s=>{this._processGroupCollapse(s)})}_processGroupCollapse(e){this._createAction(n=>{var s;const{focusStateEnabled:r}=this.option(),o=M((s=n.event)===null||s===void 0?void 0:s.currentTarget).parent();if(this._collapseGroupHandler(o),r){const a=We(o.find(".dx-list-group-header"));this.option({focusedElement:a})}},{validatingTargetName:"element"})({event:e})}_enterKeyHandler(e){const{collapsibleGroups:t,focusedElement:n}=this.option(),s=M(n).hasClass("dx-list-group-header");if(t&&s){const r=this._getHandlerExtendedParams(e,M(n));this._processGroupCollapse(r);return}super._enterKeyHandler(e)}_collapseGroupHandler(e,t){const n=de(),s=e.children(".dx-list-group-header"),r=e.hasClass("dx-list-group-collapsed");if(this._updateGroupHeaderAriaExpanded(s,r),r===t)return n.resolve();const o=e.children(".dx-list-group-body"),a=gt(o);let l=0;r&&($a(o,"auto"),l=gt(o)),e.toggleClass("dx-list-group-collapsed",t);const d=o.get(0);return Ht.isAnimating(d)&&Ht.stop(d,!1),Ht.animate(d,{type:"custom",from:{height:a},to:{height:l},duration:200,complete:()=>{this.updateDimensions(),this._updateLoadingState(!0),n.resolve()}}),n.promise()}_dataSourceLoadErrorHandler(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())}_initMarkup(){this._itemElementsCache=M(),this.$element().addClass("dx-list"),super._initMarkup();const{useInkRipple:e}=this.option();e&&this._renderInkRipple();const t={role:"group",roledescription:ue.format("dxList-ariaRoleDescription")};this.setAria(t,this.$element()),this.setAria({role:"application"},this._focusTarget()),this._setListAria()}_setListAria(){const{items:e,allowItemDeleting:t,collapsibleGroups:n}=this.option(),s=t?ue.format("dxList-listAriaLabel-deletable"):ue.format("dxList-listAriaLabel"),r=(e==null?void 0:e.length)&&!n,o={role:r?"listbox":void 0,label:r?s:void 0};this.setAria(o,this._$listContainer)}_focusTarget(){return this._itemContainer()}_renderInkRipple(){this._inkRipple=oS()}_toggleActiveState(e,t,n){if(super._toggleActiveState(e,t),!this._inkRipple)return;const s={element:e,event:n};t?xs(Yt())?this._inkRippleTimer=setTimeout(()=>{var r;(r=this._inkRipple)===null||r===void 0||r.showWave(s)},35):this._inkRipple.showWave(s):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(s))}_postprocessRenderItem(e){this._refreshItemElements(),super._postprocessRenderItem(e);const{_swipeEnabled:t}=this.option();t&&this._attachSwipeEvent(M(e.itemElement))}_getElementClassToSkipRefreshId(){return"dx-list-group-header"}_attachSwipeEvent(e){const t=be(IS,this.NAME);Y.on(e,t,n=>{this._itemSwipeEndHandler(n)})}_itemSwipeEndHandler(e){this._itemDXEventHandler(e,"onItemSwipe",{direction:e.offset<0?"left":"right"})}_nextButtonHandler(){var e;const t={component:this,element:this.element()};(e=this._pageLoadingAction)===null||e===void 0||e.call(this,t);const n=this._dataController;if(n.getDataSource()&&!n.isLoading()){var s;this._scrollView.toggleLoading(!0),(s=this._$nextButton)===null||s===void 0||s.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage()}}_setGroupAria(e,t){const{collapsibleGroups:n}=this.option(),s={role:n?void 0:"group",labelledby:n?void 0:t};this.setAria(s,e)}_updateGroupHeaderAriaExpanded(e,t){this.setAria({expanded:t},e)}_setGroupHeaderAria(e,t){const{collapsibleGroups:n}=this.option(),s={role:n?"button":void 0,expanded:n?!0:void 0,controls:n?t:void 0};this.setAria(s,e)}_setGroupBodyAria(e,t){const{collapsibleGroups:n}=this.option(),s={role:n?"listbox":void 0,labelledby:n?t:void 0};this.setAria(s,e)}_renderGroup(e,t){var n;const s=M("<div>").addClass("dx-list-group").appendTo(this._getItemsContainer()),r=`dx-${new Xt().toString()}`,o=M("<div>").addClass("dx-list-group-header").attr("id",r).appendTo(s),{groupTemplate:a}=this.option(),l=this._getTemplate(t.template??a,t,e,o),d={index:e,itemData:t,container:We(o)};this._createItemByTemplate(l,d),M("<div>").addClass("dx-list-group-header-indicator").prependTo(o);const c=`dx-${new Xt().toString()}`,h=M("<div>").addClass("dx-list-group-body").attr("id",c).appendTo(s),u=qt("items");ie(u(t)||[],(p,f)=>{this._renderItem({group:e,item:p},f,h)}),(n=this._groupRenderAction)===null||n===void 0||n.call(this,{groupElement:We(s),groupIndex:e,groupData:t}),this._setGroupAria(s,r),this._setGroupHeaderAria(o,c),this._setGroupBodyAria(h,r)}downInkRippleHandler(e){this._toggleActiveState(M(e.currentTarget),!0,e)}upInkRippleHandler(e){this._toggleActiveState(M(e.currentTarget),!1,e)}attachGroupHeaderInkRippleEvents(){const e=".dx-list-group-header",t=this.$element();this._downInkRippleHandler=this._downInkRippleHandler??this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler??this.upInkRippleHandler.bind(this),Y.off(t,mt.down,e,this._downInkRippleHandler),Y.on(t,mt.down,e,this._downInkRippleHandler),Y.off(t,[mt.up,mt.out].join(" "),e,this._upInkRippleHandler),Y.on(t,[mt.up,mt.out].join(" "),e,this._upInkRippleHandler)}_createGroupRenderAction(){this._groupRenderAction=this._createActionByOption("onGroupRendered")}_clean(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),super._clean()}_dispose(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),super._dispose()}_toggleDisabledState(e){super._toggleDisabledState(e);const{scrollingEnabled:t}=this.option();this._scrollView.option("disabled",e||!t)}_toggleNextButton(e){const t=this._dataController,n=this._getNextButton();this.$element().toggleClass("dx-has-next",e),e&&t.isLoaded()&&n.appendTo(this._itemContainer()),e||n.detach()}_getNextButton(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton}_createNextButton(){const e=M("<div>").addClass("dx-list-next-button"),t=M("<div>").appendTo(e),{nextButtonText:n}=this.option();return this._createComponent(t,si,{text:n,onClick:()=>{this._nextButtonHandler()},type:Ns(Yt())?"default":void 0,integrationOptions:{}}),e}_moveFocus(e){super._moveFocus(e);const{focusedElement:t}=this.option();t&&this.scrollToItem(t)}_refresh(){if(!st())super._refresh();else{const e=this._scrollView.scrollTop();super._refresh(),e&&this._scrollView.scrollTo(e)}}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"pageLoadMode":this._toggleNextButton(!!n),this._initScrollView();break;case"dataSource":super._optionChanged(e),this._initScrollView(),this._updateLoadingState(!0),this._isDataSourceFirstLoadCompleted(!1);break;case"items":super._optionChanged(e),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState(!0);break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":case"grouped":case"groupTemplate":case"collapsibleGroups":case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"wrapItemText":this._toggleWrapItemText(n);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":super._optionChanged(e),this._scrollView.option(t,n),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":super._optionChanged(e),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),super._optionChanged(e);break;case"_swipeEnabled":case"_onItemsRendered":case"selectByClick":break;default:super._optionChanged(e)}}_extendActionArgs(e){const{grouped:t}=this.option();if(!t)return super._extendActionArgs(e);const n=e.closest(".dx-list-group"),s=n.find(".dx-list-item");return Object.assign({},super._extendActionArgs(e),{itemIndex:{group:n.index(),item:s.index(e)}})}expandGroup(e){const t=de(),n=this._getItemsContainer().find(".dx-list-group").eq(e);return this._collapseGroupHandler(n,!1).done(()=>{t.resolveWith(this)}),t.promise()}collapseGroup(e){const t=de(),n=this._getItemsContainer().find(".dx-list-group").eq(e);return this._collapseGroupHandler(n,!0).done(()=>{t.resolveWith(this)}),t}updateDimensions(){const e=de();return this._scrollView?this._scrollView.update().done(()=>{this._scrollViewIsFull()||this._updateLoadingState(!0),e.resolveWith(this)}):e.resolveWith(this),e.promise()}reload(){super.reload(),this.scrollTo(0),this._pullDownHandler()}repaint(){this.scrollTo(0),super.repaint()}scrollTop(){return this._scrollView.scrollOffset().top??0}clientHeight(){return this._scrollView.clientHeight()}scrollHeight(){return this._scrollView.scrollHeight()}scrollBy(e){this._scrollView.scrollBy(e)}scrollTo(e){this._scrollView.scrollTo(e)}scrollToItem(e){if(!G(e))return;const t=this._editStrategy.getItemElement(e);this._scrollView.scrollToElement(t,{bottom:rie(t==null?void 0:t.get(0),"bottom")})}_dimensionChanged(){this.updateDimensions()}}kS.ItemClass=Xne;const die="dx-toolbar-menu-action";class cie extends kS{_activeStateUnit(){return".dx-toolbar-menu-action:not(.dx-toolbar-hidden-button-group)"}_initMarkup(){this._renderSections(),super._initMarkup(),this._setMenuRole()}_getSections(){return this._itemContainer().children()}_itemElements(){return this._getSections().children(this._itemSelector())}_renderSections(){const e=this._itemContainer();ie(["before","center","after","menu"],(t,n)=>{const s=`_$${n}Section`;this[s]||(this[s]=M("<div>").addClass("dx-toolbar-menu-section")),this[s].appendTo(e)})}_renderItems(e){super._renderItems(e),this._updateSections()}_setMenuRole(){this.$element().find(".dx-scrollview-content").attr("role","menu")}_updateSections(){const e=this.$element().find(".dx-toolbar-menu-section");e.removeClass("dx-toolbar-menu-last-section"),e.not(":empty").eq(-1).addClass("dx-toolbar-menu-last-section")}_renderItem(e,t,n,s){const r=this[`_$${t.location??"menu"}Section`],o=super._renderItem(e,t,r,s),a=this._getItemCssClasses(t);return o.addClass(a.join(" ")),o}_getItemCssClasses(e){const t=[],n=this._getActionableComponents();return this._getItemTemplateName({itemData:e})&&t.push("dx-toolbar-menu-custom"),(!e.location&&!e.widget||n.some(s=>s===e.widget))&&t.push("dx-toolbar-menu-action"),e.widget==="dxButton"&&t.push("dx-toolbar-hidden-button"),e.widget==="dxButtonGroup"&&t.push("dx-toolbar-hidden-button-group"),e.cssClass&&t.push(e.cssClass),t}_getActionableComponents(){return["dxButton","dxButtonGroup"]}_getItemTemplateName(e){const t=super._getItemTemplateName(e),n=e.itemData;return(n==null?void 0:n.menuItemTemplate)??t}_dataSourceOptions(){return{paginate:!1}}_itemClickHandler(e,t,n){M(e.target).closest(".dx-toolbar-menu-action").length&&super._itemClickHandler(e,t,n)}_clean(){this._getSections().empty(),super._clean()}}const uie=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"],hie=i=>{const e=i==null?void 0:i.data(),t=e==null?void 0:e.dxComponents,n=t==null?void 0:t[0];return n&&e[n]};function zg(i,e){var t;if(!i)return;const n=i._findItemElementByItem(e);if(!n.length)return;const s=i._getItemData(n),r=!!((t=s.options)!==null&&t!==void 0&&t.disabled||s.disabled||i.option("disabled")),{widget:o}=s;if(o&&uie.includes(o)){const c=n.find(o.toLowerCase().replace("dx",".dx-"));if(c.length){var a,l;const h=hie(c);if(!h)return;let u=(a=h._focusTarget)===null||a===void 0?void 0:a.call(h);if(o==="dxDropDownButton"){var d;u=(d=u)===null||d===void 0?void 0:d.find(".dx-buttongroup")}else u=u??M(h.element());const p=(l=s.options)===null||l===void 0?void 0:l.tabIndex;r?u.attr("tabIndex",-1):u.attr("tabIndex",p??0)}}}class pie extends Oi{_supportedKeys(){var e;let t={};const{opened:n}=this.option();return(!n||!((e=this._list)!==null&&e!==void 0&&e.option("focusedElement")))&&(t=this._button._supportedKeys()),Object.assign({},super._supportedKeys(),t,{tab(){var s;(s=this._popup)===null||s===void 0||s.hide()}})}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{items:[],dataSource:null,itemTemplate:"item",activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,closeOnClick:!0,useInkRipple:!1,container:void 0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Oe.real().deviceType==="desktop"&&!Oe.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>Ns(Yt()),options:{useInkRipple:!0,animation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])}_init(){super._init(),this.$element().addClass("dx-dropdownmenu"),this._initItemClickAction(),this._initButtonClickAction()}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick",{})}_initButtonClickAction(){this._buttonClickAction=this._createActionByOption("onButtonClick",{})}_initTemplates(){this._templateManager.addDefaultTemplates({content:new X1("content")}),super._initTemplates()}_initMarkup(){this._renderButton(),super._initMarkup()}_render(){super._render();const{opened:e}=this.option();this.setAria({haspopup:!0,expanded:e})}_renderContentImpl(){const{opened:e}=this.option();e&&this._renderPopup()}_clean(){var e,t;this._cleanFocusState(),(e=this._list)===null||e===void 0||e.$element().remove(),(t=this._popup)===null||t===void 0||t.$element().remove(),delete this._list,delete this._popup}_renderButton(){const e=this.$element().addClass("dx-dropdownmenu-button"),{useInkRipple:t}=this.option();this._button=this._createComponent(e,si,{icon:"overflow",template:"content",stylingMode:ts(Yt())?"text":"contained",useInkRipple:t,hoverStateEnabled:!1,focusStateEnabled:!1,onClick:n=>{var s;this.option("opened",!this.option("opened")),(s=this._buttonClickAction)===null||s===void 0||s.call(this,n)}})}_toggleActiveState(e,t){this._button._toggleActiveState(e[0],t)}_toggleMenuVisibility(e){var t,n;const s=e??!((t=this._popup)!==null&&t!==void 0&&t.option("visible"));e&&this._renderPopup(),(n=this._popup)===null||n===void 0||n.toggle(s),this.setAria("expanded",s)}_renderPopup(){if(this._$popup)return;this._$popup=M("<div>").appendTo(this.$element());const{rtlEnabled:e,container:t,animation:n}=this.option();this._popup=this._createComponent(this._$popup,hr,{onInitialized(s){const{component:r}=s;r.$wrapper().addClass("dx-dropdownmenu-popup-wrapper").addClass("dx-dropdownmenu-popup")},deferRendering:!1,preventScrollEvents:!1,_ignorePreventScrollEventsDeprecation:!0,contentTemplate:s=>this._renderList(s),_ignoreFunctionValueDeprecation:!0,maxHeight:()=>this._getMaxHeight(),position:{my:"top "+(e?"left":"right"),at:"bottom "+(e?"left":"right"),collision:"fit flip",offset:{v:3},of:this.$element()},animation:n,onOptionChanged:s=>{let{name:r,value:o}=s;r==="visible"&&this.option("opened",o)},container:t,autoResizeEnabled:!1,height:"auto",width:"auto",hideOnOutsideClick:s=>this._closeOutsideDropDownHandler(s),hideOnParentScroll:!0,shading:!1,dragEnabled:!1,showTitle:!1,fullScreen:!1,ignoreChildEvents:!1,_fixWrapperPosition:!0}),this._popup.registerKeyHandler("space",s=>{this._popupKeyHandler(s)}),this._popup.registerKeyHandler("enter",s=>{this._popupKeyHandler(s)}),this._popup.registerKeyHandler("escape",s=>{var r;(r=this._popup)!==null&&r!==void 0&&r.$overlayContent().is(M(s.target))&&this.option("opened",!1)})}_getMaxHeight(){var e;const t=this.$element(),n=((e=t.offset())===null||e===void 0?void 0:e.top)??0,s=gt(bt()),r=Math.max(n,s-n-gt(t));return Math.min(s,r-3-10)}_closeOutsideDropDownHandler(e){return!M(e.target).closest(this.$element()).length}_renderList(e){const t=M(e);t.addClass("dx-dropdownmenu-list");const{itemTemplate:n,onItemRendered:s}=this.option();this._list=this._createComponent(t,cie,{dataSource:this._getListDataSource(),pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:n,onItemClick:r=>{this._itemClickHandler(r)},tabIndex:-1,focusStateEnabled:!1,activeStateEnabled:!0,onItemRendered:s,_itemAttributes:{role:"menuitem"}})}_popupKeyHandler(e){M(e.target).closest(`.${die}`).length&&this._closePopup()}_closePopup(){const{closeOnClick:e}=this.option();e&&this.option("opened",!1)}_itemClickHandler(e){var t;this._closePopup(),(t=this._itemClickAction)===null||t===void 0||t.call(this,e)}_itemOptionChanged(e,t,n){var s;(s=this._list)===null||s===void 0||s._itemOptionChanged(e,t,n),zg(this._list,e)}_getListDataSource(){const{dataSource:e,items:t=[]}=this.option();return e??t}_setListDataSource(){var e;(e=this._list)===null||e===void 0||e.option("dataSource",this._getListDataSource()),delete this._deferRendering}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._list])}_toggleVisibility(e){var t;super._toggleVisibility(e),(t=this._button)===null||t===void 0||t.option("visible",e)}_optionChanged(e){var t,n,s,r;const{name:o,value:a}=e;switch(o){case"items":case"dataSource":this.option("opened")?this._setListDataSource():this._deferRendering=!0;break;case"itemTemplate":(t=this._list)===null||t===void 0||t.option(o,this._getTemplate(a));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._initButtonClickAction();break;case"useInkRipple":this._invalidate();break;case"focusStateEnabled":(n=this._list)===null||n===void 0||n.option(o,a),super._optionChanged(e);break;case"onItemRendered":(s=this._list)===null||s===void 0||s.option(o,a);break;case"opened":this._deferRendering&&this._setListDataSource(),this._toggleMenuVisibility(a),this._updateFocusableItemsTabIndex();break;case"closeOnClick":break;case"container":(r=this._popup)===null||r===void 0||r.option(o,a);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:super._optionChanged(e)}}_updateFocusableItemsTabIndex(){const{items:e=[]}=this.option();e.forEach(t=>zg(this._list,t))}}const Ex="dx-toolbar-item-invisible";class fie{constructor(e){this._restoreItems=[],this._toolbar=e}_initMarkup(){qn(()=>{this._renderOverflowMenu(),this._renderMenuItems()})}_renderOverflowMenu(){if(!this._hasVisibleMenuItems())return;this._renderMenuButtonContainer();const e=M("<div>").appendTo(this._overflowMenuContainer()),t=this._toolbar._createActionByOption("onItemClick"),n=this._toolbar._getTemplateByOption("menuItemTemplate"),{disabled:s,menuContainer:r}=this._toolbar.option();this._menu=this._toolbar._createComponent(e,pie,{disabled:s,itemTemplate:()=>n,onItemClick:o=>{t(o)},container:r,onOptionChanged:o=>{let{name:a,value:l}=o;a==="opened"&&this._toolbar.option("overflowMenuVisible",l),a==="items"&&this._updateMenuVisibility(l)}})}renderMenuItems(){if(this._menu||this._renderOverflowMenu(),this._menu){this._menu.option("items",this._getMenuItems());const{items:e=[]}=this._menu.option();e.length||this._menu.option("opened",!1)}}_renderMenuButtonContainer(){this._$overflowMenuContainer=M("<div>").appendTo(this._toolbar._$afterSection).addClass("dx-toolbar-button").addClass("dx-toolbar-menu-container")}_overflowMenuContainer(){return this._$overflowMenuContainer}_updateMenuVisibility(e){const t=e??this._getMenuItems(),n=t.length&&this._hasVisibleMenuItems(t);this._toggleMenuVisibility(!!n)}_toggleMenuVisibility(e){this._overflowMenuContainer()&&this._overflowMenuContainer().toggleClass("dx-state-invisible",!e)}_renderMenuItems(){qn(()=>{this.renderMenuItems()})}_dimensionChanged(){this.renderMenuItems()}_getToolbarItems(){const{items:e=[]}=this._toolbar.option();return e.filter(t=>!this._toolbar._isMenuItem(t))}_getHiddenItems(){return this._toolbar._itemContainer().children(`.dx-toolbar-item-auto-hide.${Ex}`).not(".dx-state-invisible")}_getMenuItems(){const{items:e=[]}=this._toolbar.option(),t=e.filter(r=>this._toolbar._isMenuItem(r)),n=this._getHiddenItems();return this._restoreItems=this._restoreItems??[],[...[].slice.call(n).map(r=>{const o=this._toolbar._getItemData(r),a=M(r),l=a.children();return Object.assign({menuItemTemplate:()=>(this._restoreItems.push({container:a,item:l}),M("<div>").addClass("dx-toolbar-item-auto-hide").append(l))},o)}),...t]}_hasVisibleMenuItems(e){const t=e??this._toolbar.option("items");let n=!1;const s=qt("visible"),r=qt("locateInMenu");return ie(t,(o,a)=>{const l=s(a,{functionsAsIs:!0}),d=r(a,{functionsAsIs:!0});l!==!1&&(d==="auto"||d==="always")&&(n=!0)}),n}_arrangeItems(){this._toolbar._$centerSection.css({margin:"0 auto",float:"none"}),ie(this._restoreItems??[],(t,n)=>{M(n.container).append(n.item)}),this._restoreItems=[];const e=Xe(this._toolbar.$element());return this._hideOverflowItems(e),e}_hideOverflowItems(e){const t=this._toolbar.$element().find(".dx-toolbar-item-auto-hide");if(!t.length)return;const n=e??Xe(this._toolbar.$element());M(t).removeClass(Ex);let s=this._getItemsWidth();for(;t.length&&n<s;)t.eq(-1).addClass(Ex),s=this._getItemsWidth(),[].splice.apply(t,[-1,1])}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",[this._toolbar._$beforeSection,this._toolbar._$centerSection,this._toolbar._$afterSection])}_itemOptionChanged(e,t,n){if((t==="disabled"||t==="options.disabled")&&this._toolbar._isMenuItem(e)){var s;(s=this._menu)===null||s===void 0||s._itemOptionChanged(e,"disabled",n);return}this.renderMenuItems()}_renderItem(e,t){e.locateInMenu==="auto"&&t.addClass("dx-toolbar-item-auto-hide")}_optionChanged(e,t){var n,s,r,o,a;switch(e){case"disabled":(n=this._menu)===null||n===void 0||n.option(e,t);break;case"overflowMenuVisible":(s=this._menu)===null||s===void 0||s.option("opened",t);break;case"onItemClick":(r=this._menu)===null||r===void 0||r.option(e,t);break;case"menuContainer":(o=this._menu)===null||o===void 0||o.option("container",t);break;case"menuItemTemplate":(a=this._menu)===null||a===void 0||a.option("itemTemplate",t)}}}class fF extends qM{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{menuItemTemplate:"menuItem",overflowMenuVisible:!1,multiline:!1})}_isMultiline(){const{multiline:e}=this.option();return e}_dimensionChanged(e){e!=="height"&&(super._dimensionChanged(),this._layoutStrategy._dimensionChanged())}_initMarkup(){super._initMarkup(),this._updateFocusableItemsTabIndex(),this._layoutStrategy._initMarkup()}_renderToolbar(){super._renderToolbar(),this._renderLayoutStrategy()}_itemContainer(){return this._isMultiline()?this._$toolbarItemsContainer:super._itemContainer()}_renderLayoutStrategy(){this.$element().toggleClass("dx-toolbar-multiline",this._isMultiline()),this._layoutStrategy=this._isMultiline()?new nne(this):new fie(this)}_renderSections(){this._isMultiline()||super._renderSections()}_postProcessRenderItems(){this._layoutStrategy._hideOverflowItems(),this._layoutStrategy._updateMenuVisibility(),super._postProcessRenderItems(),this._layoutStrategy._renderMenuItems()}_renderItem(e,t,n,s){const r=super._renderItem(e,t,n,s);this._layoutStrategy._renderItem(t,r);const{widget:o,showText:a}=t;return o==="dxButton"&&a==="inMenu"&&r.toggleClass("dx-toolbar-text-auto-hide"),r}_getItemsWidth(){return this._layoutStrategy._getItemsWidth()}_getMenuItems(){return this._layoutStrategy._getMenuItems()}_getToolbarItems(){return this._layoutStrategy._getToolbarItems()}_arrangeItems(){if(this.$element().is(":hidden"))return;const e=this._layoutStrategy._arrangeItems();this._isMultiline()||super._arrangeItems(e)}_itemOptionChanged(e,t,n,s){this._isMenuItem(e)||super._itemOptionChanged(e,t,n,s),this._layoutStrategy._itemOptionChanged(e,t,n),(t==="disabled"||t==="options.disabled")&&zg(this,e),t==="location"&&this.repaint()}_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(e=>zg(this,e))}_isMenuItem(e){return e.locateInMenu==="always"}_isToolbarItem(e){return e.location===void 0||e.locateInMenu==="never"}_optionChanged(e){const{name:t,value:n}=e;switch(this._layoutStrategy._optionChanged(t,n),t){case"menuContainer":case"menuItemTemplate":case"overflowMenuVisible":break;case"multiline":this._invalidate();break;case"disabled":super._optionChanged(e),this._updateFocusableItemsTabIndex();break;default:super._optionChanged(e)}}updateDimensions(){this._dimensionChanged()}}St("dxToolbar",fF);function mie(i,e,t){let n=i;return Ke(n)&&(n={name:n}),G(n.name)&&(G(e[n.name])?n=se(!0,{},e[n.name],n):t.includes(n.name)&&(n=Object.assign({},n,{visible:!1}))),se(!0,{},{location:"after"},n)}function YA(i,e,t){if(!G(e))return i;const n={};return i.forEach(s=>{n[s.name]=s}),e.map(s=>mie(s,n,t))}const XA=["addRowButton","applyFilterButton","columnChooserButton","exportButton","groupPanel","revertButton","saveButton","searchPanel"];class gie extends Bp{init(){super.init(),this._editingController=this.getController("editing"),this._headerFilterController=this.getController("headerFilter"),this.createAction("onToolbarPreparing",{excludeValidators:["disabled","readOnly"]})}_getToolbarItems(){return[]}_getButtonContainer(){return M("<div>").addClass(this.addWidgetPrefix("toolbar-button"))}_getToolbarButtonClass(e){const t=e?` ${e}`:"";return this.addWidgetPrefix("toolbar-button")+t}_getToolbarOptions(){const e=this.option("toolbar"),t={toolbarOptions:{items:this._getToolbarItems(),visible:e==null?void 0:e.visible,disabled:e==null?void 0:e.disabled,onItemRendered(s){const r=s.itemData.onItemRendered;r&&r(s)}}},n=e==null?void 0:e.items;if(t.toolbarOptions.items=YA(t.toolbarOptions.items,n,XA),this.executeAction("onToolbarPreparing",t),t.toolbarOptions&&!G(t.toolbarOptions.visible)){const s=t.toolbarOptions.items;t.toolbarOptions.visible=!!(s!=null&&s.length)}return t.toolbarOptions}_renderCore(){if(this._toolbar)this._toolbar.option(this._toolbarOptions);else{const e=this.element();e.addClass(this.addWidgetPrefix("header-panel"));const t=ue.format(this.component.NAME+"-ariaToolbar"),n=M("<div>").attr("aria-label",t).appendTo(e);this._toolbar=this._createComponent(n,fF,this._toolbarOptions)}}_columnOptionChanged(){}_handleDataChanged(){this._requireReady&&this.render()}_isDisabledDefinedByUser(e){var t;const n=(t=this.option("toolbar"))===null||t===void 0?void 0:t.items,s=n==null?void 0:n.find(r=>(r==null?void 0:r.name)===e);return G(s==null?void 0:s.disabled)}render(){this._toolbarOptions=this._getToolbarOptions(),super.render.apply(this,arguments)}setToolbarItemDisabled(e,t){const n=this._toolbar,s=this._isDisabledDefinedByUser(e);if(!n||s)return;const o=(n.option("items")??[]).findIndex(l=>l.name===e);if(o<0)return;const a=n.option(`items[${o}]`);n.option(`items[${o}].disabled`,t),a.options&&n.option(`items[${o}].options.disabled`,t)}updateToolbarDimensions(){var e;(e=this._toolbar)===null||e===void 0||e.updateDimensions()}getHeaderPanel(){return this.element()}getHeight(){return this.getElementHeight()}optionChanged(e){if(e.name==="onToolbarPreparing"&&(this._invalidate(),e.handled=!0),e.name==="toolbar"){const r=rd(e.fullName),o=e.fullName.replace(/^toolbar\./,"");if(r.length===1||r[1]==="visible")this._invalidate();else if(r[1]==="items"){if(r.length===2)this._invalidate();else if(r.length===3){var t;const a=YA(this._getToolbarItems(),[e.value],XA)[0];(t=this._toolbar)===null||t===void 0||t.option(o,a)}else if(r.length>=4){var n;(n=this._toolbar)===null||n===void 0||n.option(o,e.value)}}else{var s;(s=this._toolbar)===null||s===void 0||s.option(o,e.value)}e.handled=!0}super.optionChanged(e)}isVisible(){return!!(this._toolbarOptions&&this._toolbarOptions.visible)}allowDragging(e){return!1}hasGroupedColumns(){}getContextMenuItems(e){}}const _ie=i=>class extends i{_updateDimensionsCore(){super._updateDimensionsCore.apply(this,arguments),this.getView("headerPanel").updateToolbarDimensions()}},mF={defaultOptions:()=>({}),views:{headerPanel:gie},extenders:{controllers:{resizing:_ie}}};mF.views.headerPanel;Ue.registerModule("headerPanel",mF);class vie extends Oi{_activeStateUnit(){return".dx-row"}_getDefaultOptions(){const e=super._getDefaultOptions();return ie(this.getGridCoreHelper().modules,function(){Ie(this.defaultOptions)&&se(!0,e,this.defaultOptions())}),e}_init(){super._init()}_setDeprecatedOptions(){super._setDeprecatedOptions(),se(this._deprecatedOptions,{"columnChooser.allowSearch":{since:"23.1",message:'Use the "columnChooser.search.enabled" option instead'},"columnChooser.searchTimeout":{since:"23.1",message:'Use the "columnChooser.search.timeout" option instead'}})}_clean(){}_optionChanged(e){this.getGridCoreHelper().callModuleItemsMethod(this,"optionChanged",[e]),e.handled||super._optionChanged(e)}_dimensionChanged(){this.updateDimensions(!0)}_visibilityChanged(e){e&&this.updateDimensions()}_renderContentImpl(){this.getView("gridView").update()}_renderContent(){const e=this;qn(()=>{e._renderContentImpl()})}_dispose(){super._dispose(),this.getGridCoreHelper().callModuleItemsMethod(this,"dispose")}isReady(){return this.getController("data").isReady()}getController(e){return this._controllers[e]}getView(e){return this._views[e]}getGridCoreHelper(){}beginUpdate(){super.beginUpdate(),this.getGridCoreHelper().callModuleItemsMethod(this,"beginUpdate")}endUpdate(){this.getGridCoreHelper().callModuleItemsMethod(this,"endUpdate"),super.endUpdate()}}const xie="Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.";Ue.registerModulesOrder(["stateStoring","columns","selection","editorFactory","columnChooser","grouping","editing","editingRowBased","editingFormBased","editingCellBased","masterDetail","validating","adaptivity","data","virtualScrolling","aiColumn","columnHeaders","filterRow","headerPanel","headerFilter","sorting","search","rows","pager","columnsResizingReordering","contextMenu","keyboardNavigation","headersKeyboardNavigation","groupPanelKeyboardNavigation","errorHandling","summary","columnFixing","export","toast","gridView"]);let gF=class extends vie{_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios"},options:{showRowLines:!0}},{device:()=>Ns(),options:{showRowLines:!0,showColumnLines:!1,headerFilter:{height:315},editing:{useIcons:!0},selection:{showCheckBoxesMode:"always"}}},{device:()=>gn.webkit,options:{loadingTimeout:30,loadPanel:{animation:{show:{easing:"cubic-bezier(1, 0, 1, 0)",duration:500,from:{opacity:0},to:{opacity:1}}}}}},{device:e=>e.deviceType!=="desktop",options:{grouping:{expandMode:"rowClick"}}}])}_init(){super._init(),xe.logHeaderFilterDeprecatedWarningIfNeed(this),Ue.processModules(this,Ue),Ue.callModuleItemsMethod(this,"init")}_initMarkup(){super._initMarkup.apply(this,arguments),this.getView("gridView").render(this.$element())}_setDeprecatedOptions(){super._setDeprecatedOptions(),se(this._deprecatedOptions,{useKeyboard:{since:"19.2",alias:"keyboardNavigation.enabled"},rowTemplate:{since:"21.2",message:'Use the "dataRowTemplate" option instead'}})}static registerModule(e,t){Ue.registerModule(e,t)}getGridCoreHelper(){return Ue}_getTemplate(e){let t=e;return Ke(t)&&t.startsWith("#")&&(t=M(e),Gl.warn(xie)),super._getTemplate(t)}focus(e){this.getController("keyboardNavigation").focus(e)}};St("dxDataGrid",gF);const bie=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/,_F=function(i){i&&ie(i,(e,t)=>{if(ot(t)||Array.isArray(t))_F(t);else if(typeof t=="string"){const n=bie.exec(t);n&&(i[e]=new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6])))}})},ZA=function(i){const e=i.type==="sessionStorage"?p5():bt().localStorage;if(!e)throw new Error("E1007");return e},QA=function(i){return G(i.storageKey)?i.storageKey:"storage"};class yie extends fn.ViewController{getDataController(){return this.getController("data")}getExportController(){return this.getController("export")}getColumnsController(){return this.getController("columns")}init(){return this._state={},this._isLoaded=!1,this._isLoading=!1,this._windowUnloadHandler=()=>{this._savingTimeoutID!==void 0&&this._saveState(this.state())},Y.on(bt(),"visibilitychange",this._windowUnloadHandler),this}optionChanged(e){const t=this;e.name==="stateStoring"?(t.isEnabled()&&!t.isLoading()&&t.load(),e.handled=!0):super.optionChanged(e)}dispose(){clearTimeout(this._savingTimeoutID),Y.off(bt(),"visibilitychange",this._windowUnloadHandler)}_loadState(){const e=this.option("stateStoring");if(e.type==="custom")return e.customLoad&&e.customLoad();try{return JSON.parse(ZA(e).getItem(QA(e)))}catch(t){pt.log("W1022","State storing",t.message)}}_saveState(e){const t=this.option("stateStoring");if(t.type==="custom"){t.customSave&&t.customSave(e);return}try{ZA(t).setItem(QA(t),JSON.stringify(e))}catch(n){pt.log(n.message)}}publicMethods(){return["state"]}isEnabled(){return this.option("stateStoring.enabled")}isLoaded(){return this._isLoaded}isLoading(){return this._isLoading}load(){this._isLoading=!0;const e=ci(this._loadState());return e.always(()=>{this._isLoaded=!0,this._isLoading=!1}).done(t=>{t!==null&&!ki(t)&&this.state(t)}),e}state(e){const t=this;if(!arguments.length)return se(!0,{},t._state);t._state=se({},e),_F(t._state)}save(){const e=this;clearTimeout(e._savingTimeoutID),e._savingTimeoutID=setTimeout(()=>{e._saveState(e.state()),e._savingTimeoutID=void 0},e.option("stateStoring.savingTimeout"))}}const Cie=i=>{const e=i.getView("pagerView"),t=i.getController("data"),n={allowedPageSizes:e?e.getPageSizes():void 0,filterPanel:{filterEnabled:i.option("filterPanel.filterEnabled")},filterValue:i.option("filterValue"),focusedRowKey:i.option("focusedRowEnabled")?i.option("focusedRowKey"):void 0};return se(n,t.getUserState())},wie=i=>{const e=i.getController("columns"),t=i.getController("selection"),n=i.getController("export"),s=i.getController("data");e&&e.columnsChanged.add(()=>{i.updateState({columns:e.getUserState()})}),t&&t.selectionChanged.add(r=>{i.updateState({selectedRowKeys:r.selectedRowKeys,selectionFilter:r.selectionFilter})}),s&&(i._initialPageSize=i.option("paging.pageSize"),i._initialFilterValue=i.option("filterValue"),s.changed.add(()=>{const r=Cie(i);i.updateState(r)})),n&&n.selectionOnlyChanged.add(()=>{i.updateState({exportSelectionOnly:n.selectionOnly()})})},Sie=(i,e)=>{var t;const n=i.getController("filterSync");if(!n)return null;if(e.filterValue!==void 0)return e.filterValue;const s=(t=n.getFilterValueFromColumns)===null||t===void 0?void 0:t.call(n,e.columns);if((s==null?void 0:s.length)>0)return s;const r=i.getController("columns").getColumns();return i._initialFilterValue??n.getFilterValueFromColumns(r)},Eie=i=>class extends i{init(){super.init(),this._dataController.stateLoaded.add(()=>{if(this._dataController.isLoaded()&&!this._dataController.getDataSource()){this.setLoading(!1),this.renderNoDataText();const e=this.component.getView("columnHeadersView");e&&e.render(),this.component._fireContentReadyAction()}})}},Iie=i=>class extends i{init(){return super.init.apply(this,arguments),wie(this),this}isLoading(){return super.isLoading()||this.getDataController().isStateLoading()}state(e){const t=super.state.apply(this,arguments);return e!==void 0&&this.applyState(se(!0,{},e)),t}updateState(e){if(this.isEnabled()){const t=this.state(),n=se({},t,e),s=vs(t),r=vs(n);dn(s,r)||(e=se(!0,{},e),se(this._state,e),this.save())}else se(this._state,e)}applyState(e){var t;const{allowedPageSizes:n}=e,{searchText:s}=e,{selectedRowKeys:r}=e,{selectionFilter:o}=e,a=this.option("scrolling.mode"),l=a==="virtual"||a==="infinite",d=this.option("pager.visible")===!0&&this.option("pager.showPageSizeSelector"),c=(t=this.getView("rowsView"))===null||t===void 0?void 0:t.hasHeight();this.component.beginUpdate(),this.getColumnsController()&&this.getColumnsController().setUserState(e.columns),this.getExportController()&&this.getExportController().selectionOnly(e.exportSelectionOnly),this.option("selection.deferred")||this.option("selectedRowKeys",r||[]),this.option("selectionFilter",o),n&&this.option("pager.allowedPageSizes")==="auto"&&(this.option("pager").allowedPageSizes=n),this.option("focusedRowEnabled")&&(this.option("focusedRowIndex",-1),this.option("focusedRowKey",e.focusedRowKey??null)),this.component.endUpdate(),this.option("searchPanel.text",s||""),this.option("filterValue",Sie(this,e)),this.option("filterPanel.filterEnabled",e.filterPanel?e.filterPanel.filterEnabled:!0),this.option("paging.pageIndex",(!l||c)&&e.pageIndex||0),this.option("paging.pageSize",(!l||d)&&G(e.pageSize)?e.pageSize:this._initialPageSize),this.getDataController()&&this.getDataController().reset()}},Tie=i=>class extends i{_shouldReturnVisibleColumns(){return super._shouldReturnVisibleColumns.apply(this,arguments)&&(!this._stateStoringController.isEnabled()||this._stateStoringController.isLoaded())}},Die=i=>class extends i{dispose(){clearTimeout(this._restoreStateTimeoutID),super.dispose()}callbackNames(){return super.callbackNames().concat(["stateLoaded"])}_refreshDataSource(){if(this._stateStoringController.isEnabled()&&!this._stateStoringController.isLoaded()){clearTimeout(this._restoreStateTimeoutID);const e=new de;return this._restoreStateTimeoutID=setTimeout(()=>{this._stateStoringController.load().always(()=>{this._restoreStateTimeoutID=null}).done(()=>{super._refreshDataSource(),this.stateLoaded.fire(),e.resolve()}).fail(t=>{this.stateLoaded.fire(),this._handleLoadError(t||"Unknown error"),e.reject()})}),e.promise()}this.isStateLoading()||super._refreshDataSource()}isLoading(){return super.isLoading()||this._stateStoringController.isLoading()}isStateLoading(){return G(this._restoreStateTimeoutID)}isLoaded(){return super.isLoaded()&&!this.isStateLoading()}},Aie=i=>class extends i{_fireSelectionChanged(e){const t=this.option("selection.deferred");this._stateStoringController.isLoading()&&t||super._fireSelectionChanged.apply(this,arguments)}},kie={defaultOptions:()=>({stateStoring:{enabled:!1,storageKey:null,type:"localStorage",customLoad:null,customSave:null,savingTimeout:2e3}}),controllers:{stateStoring:yie},extenders:{views:{rowsView:Eie},controllers:{stateStoring:Iie,columns:Tie,data:Die,selection:Aie}}};Ue.registerModule("stateStoring",kie);const Oie=()=>({type:bs,command:bs,cssClass:Rg.aiColumn,fixed:!1,encodeHtml:!0,minWidth:120}),Rie=i=>i.filter(e=>e.rowType==="data").map(e=>e.data),Pie=(i,e,t)=>{const n={};for(const s of i){const r=s[t];r in e||(n[r]=s)}return n},vF=i=>{var e;return i.type==="ai"&&(!((e=i.ai)!==null&&e!==void 0&&e.mode)||i.ai.mode==="auto")},Mie=(i,e)=>i.startsWith("ai.popup")||i==="ai"&&G(e==null?void 0:e.popup),Fie=(i,e)=>i.startsWith("ai.editorOptions")||i==="ai"&&G(e==null?void 0:e.editorOptions),OS=(i,e)=>i==="ai.prompt"||i==="ai"&&G(e==null?void 0:e.prompt),Bie=(i,e)=>{const t=["showHeaderMenu","noDataText","emptyText"];return t.map(r=>`ai.${r}`).includes(i)?!0:i!=="ai"?!1:Object.keys(e).some(r=>t.includes(r))},JA=function(i){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"header")==="header"&&i.type===bs},Nie=i=>{var e;return(i==null||(e=i.ai)===null||e===void 0?void 0:e.showHeaderMenu)!==!1};class Vie extends dd{constructor(){super(...arguments),this.cache={}}clearCache(e){this.cache[e]=void 0}clearCacheByKey(e,t){const n=this.cache[e];n&&(n[t]=void 0)}getCachedResponse(e,t){const n=this.cache[e];return n?t.reduce((s,r)=>{const o=n[r];return o!==void 0&&o!==""&&(s[r]=o),s},{}):{}}setCachedResponse(e,t){const n=this.cache[e]??{};this.cache[e]=n,Object.entries(t).forEach(s=>{let[r,o]=s;n[r]=o})}getCachedString(e,t){var n;return(n=this.cache[e])===null||n===void 0?void 0:n[t]}isEmptyCache(e){return Object.keys(this.cache[e]??{}).length===0}}class Lie extends dd{constructor(){super(...arguments),this.aborts={}}getAIIntegration(e){e||pt.log("E1066");const t=this.columnsController.columnOption(e,"ai.aiIntegration");if(t)return t;const n=this.option("aiIntegration");return n||(pt.log("E1067",e),null)}isRequestAwaitingCompletion(e){return!!this.aborts[e]}processCommandCompletion(e){this.abortRequest(e)}getAICommandCallbacks(e,t,n){return{onComplete:r=>{if(this.isRequestAwaitingCompletion(e)){var o;this.aiColumnCacheController.setCachedResponse(e,r.data),this.processCommandCompletion(e),n==null||(o=n.onComplete)===null||o===void 0||o.call(n,r)}},onError:r=>{var o;const a=(r==null?void 0:r.message)??r;this.showError(a),this.processCommandCompletion(e),n==null||(o=n.onError)===null||o===void 0||o.call(n,r)}}}init(){this.columnsController=this.getController("columns"),this.dataController=this.getController("data"),this.errorHandlingController=this.getController("errorHandling"),this.aiColumnCacheController=new Vie(this.component),this.aiColumnCacheController.init(),this.createAction("onAIColumnRequestCreating")}sendRequestCore(e){let{columnName:t,useCache:n,needToShowLoadPanel:s,callbacks:r}=e;const o=this.getAIIntegration(t);if(!o)return;const a=this.columnsController.getColumnByName(t);if(!(a!=null&&a.ai))return;const{prompt:l}=a.ai;if(!l)return;this.isRequestAwaitingCompletion(t)&&(this.abortRequest(t),r.onRequestCanceled());const d=this.dataController.items(),c=Rie(d),h={column:a,useCache:n,cancel:!1,additionalInfo:{},data:c};if(this.executeAction("onAIColumnRequestCreating",h),h.cancel)return;const u=this.dataController.key();let p={};if(h.useCache){const v=c.map(_=>_[u]);p=this.aiColumnCacheController.getCachedResponse(t,v)}const f=Pie(h.data,p,u);if(Object.keys(f).length===0)return;r.onRequestSending(s);const m=o.generateGridColumn({text:l,data:f,additionalInfo:h.additionalInfo},this.getAICommandCallbacks(t,p,r));this.aborts[t]=m}isAnyRequestAwaitingCompletion(){return Object.values(this.aborts).some(e=>!!e)}abortRequest(e){var t,n;(t=(n=this.aborts)[e])===null||t===void 0||t.call(n),this.aborts[e]=void 0}showError(e){var t;(t=this.errorHandlingController)===null||t===void 0||t.showToastError(e)}getAIColumnText(e,t){return this.aiColumnCacheController.getCachedString(e,t)}clearAIColumn(e){this.aiColumnCacheController.clearCache(e)}clearAIColumnByKey(e,t){this.aiColumnCacheController.clearCacheByKey(e,t)}dispose(){super.dispose(),Object.keys(this.aborts).forEach(e=>this.abortRequest(e))}}class $ie extends dd{getDefaultCellValue(e,t){var n;if(t===void 0){var s;return((s=e.ai)===null||s===void 0?void 0:s.emptyText)??null}return((n=e.ai)===null||n===void 0?void 0:n.noDataText)??null}_endCustomLoadingIfNoPendingRequests(){this.aiColumnIntegrationController.isAnyRequestAwaitingCompletion()||this.dataController.endCustomLoading()}addAICommandColumn(){const e=this,{dataController:t,aiColumnIntegrationController:n}=this;this.columnsController.addCommandColumn(Object.assign({},Oie(),{calculateCellValue(s){const r=t.keyOf(s),o=n.getAIColumnText(this.name,r),a=e.getDefaultCellValue(this,o);return o||a}}))}subscribeToDataSourceChanged(){var e;this.dataSourceChangedHandler=this.handleDataSourceChanged.bind(this),(e=this.dataController.dataSource())===null||e===void 0||e.changed.add(this.dataSourceChangedHandler)}unsubscribeFromDataControllerChanged(){this.dataControllerChangedHandler&&this.dataController.changed.remove(this.dataControllerChangedHandler)}subscribeToDataControllerChanged(){!this.getAIColumns().length||!xe.isVirtualRowRendering(this)||(this.dataControllerChangedHandler=this.dataControllerChangedHandler??this.handleDataControllerChanged.bind(this),this.dataController.changed.add(this.dataControllerChangedHandler))}handleDataControllerChanged(){this.dataController.isViewportChanging()&&this.sendRequests()}unsubscribeFromStoreEvents(){const e=this.dataController.store();this.storeUpdatedHandler&&(e==null||e.off("updated",this.storeUpdatedHandler)),this.storeRemovedHandler&&(e==null||e.off("removed",this.storeRemovedHandler)),this.storeBeforePushHandler&&(e==null||e.off("beforePush",this.storeBeforePushHandler))}subscribeToStoreEvents(){const e=this.dataController.store();e&&(this.storeUpdatedHandler=this.storeUpdatedHandler??this.handleStoreUpdated.bind(this),this.storeRemovedHandler=this.storeRemovedHandler??this.handleStoreRemoved.bind(this),this.storeBeforePushHandler=this.storeBeforePushHandler??this.handleStoreBeforePush.bind(this),e.on("updated",this.storeUpdatedHandler),e.on("removed",this.storeRemovedHandler),e.on("beforePush",this.storeBeforePushHandler))}handleStoreUpdated(e){this.clearAIColumnsByKey(e)}handleStoreRemoved(e){this.clearAIColumnsByKey(e)}handleStoreBeforePush(e){let{changes:t}=e;t.forEach(n=>{let{key:s}=n;G(s)&&this.clearAIColumnsByKey(s)})}updateAICells(){this.dataController.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})}checkStoreKey(){const e=this.dataController.store();return e&&!e.key()?(this.dataController.fireError("E1042","AI Column"),!1):!0}clearAIColumnsByKey(e){this.getAIColumns().forEach(n=>{this.aiColumnIntegrationController.clearAIColumnByKey(n.name,e)})}sendRequests(){const e=this.getAIColumns();if(!(!e.length||!this.checkStoreKey()))for(const t of e)vF(t)&&this.sendRequest(t.name,!0)}handleDataSourceChanged(e){(e==null?void 0:e.changeType)!=="loadError"&&this.sendRequests()}callbackNames(){return["aiRequestCompleted","aiRequestRejected"]}init(){this.columnsController=this.getController("columns"),this.dataController=this.getController("data"),this.aiColumnIntegrationController=new Lie(this.component),this.aiColumnIntegrationController.init(),this.aiColumnOptionChangedHandler=this.aiColumnOptionChanged.bind(this),this.columnsController.aiColumnOptionChanged.add(this.aiColumnOptionChangedHandler),this.subscribeToDataSourceChanged(),this.unsubscribeFromStoreEvents(),this.subscribeToStoreEvents(),this.unsubscribeFromDataControllerChanged(),this.subscribeToDataControllerChanged(),this.addAICommandColumn()}getAIColumns(){return this.columnsController.getColumns().filter(e=>e.type==="ai")}publicMethods(){return["abortAIColumnRequest","sendAIColumnRequest","refreshAIColumn","clearAIColumn","getAIColumnText"]}abortAIColumnRequest(e){this.aiColumnIntegrationController.abortRequest(e),this._endCustomLoadingIfNoPendingRequests()}sendRequest(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!this.checkStoreKey())return;const s=this.getRequestCallbacks();this.aiColumnIntegrationController.sendRequestCore({columnName:e,useCache:t,needToShowLoadPanel:n,callbacks:s})}sendAIColumnRequest(e){this.sendRequest(e,!1)}refreshAIColumn(e){this.sendRequest(e,!1)}getRequestCallbacks(){return{onRequestSending:e=>{e&&this.dataController.beginCustomLoading()},onComplete:e=>{this._endCustomLoadingIfNoPendingRequests(),this.aiRequestCompleted.fire(e),this.updateAICells()},onError:e=>{this._endCustomLoadingIfNoPendingRequests(),this.aiRequestRejected.fire(e)},onRequestCanceled:()=>{this._endCustomLoadingIfNoPendingRequests()}}}clearAIColumn(e){this.abortAIColumnRequest(e),this.aiColumnIntegrationController.clearAIColumn(e),this.columnsController.columnOption(e,"ai.prompt",""),this.updateAICells()}getAIColumnText(e,t){return this.aiColumnIntegrationController.getAIColumnText(e,t)}aiColumnOptionChanged(e,t,n){if(OS(t,n)&&e.name){var r;this.aiColumnIntegrationController.clearAIColumn(e.name),(r=e.ai)!==null&&r!==void 0&&r.prompt||this.updateAICells()}}dispose(){var e;super.dispose(),(e=this.dataController.dataSource())===null||e===void 0||e.changed.remove(this.dataSourceChangedHandler),this.unsubscribeFromStoreEvents(),this.unsubscribeFromDataControllerChanged()}}class Hie extends O1{init(){this.aiPromptEditorView=this.getView("aiPromptEditorView")}show(e,t){return this.aiPromptEditorView.show(e,t)}hide(){return this.aiPromptEditorView.hide()}}class jie{constructor(e,t){let{key:n}=t;this._isSharedDataSource=!1,this._keyExpr=n,this.updateDataSource(e)}_updateDataSource(e){if(e)if(e instanceof Os)this._isSharedDataSource=!0,this._dataSource=e;else{const t=nl(e);this._dataSource=new Os(se(!0,{},{},t))}}_updateDataSourceByItems(e){this._dataSource=new Os({store:new Qc({key:this.key(),data:e}),pageSize:0})}_disposeDataSource(){this._dataSource&&(this._isSharedDataSource?this._isSharedDataSource=!1:this._dataSource.dispose(),delete this._dataSource)}load(){return this._dataSource.load()}loadSingle(e,t){if(!this._dataSource)return new de().reject();let n=e,s=t;return arguments.length<2&&(s=e,n=this.key()),this._dataSource.loadSingle(n,s)}loadFromStore(e){return this.store().load(e)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(e){this._dataSource.cancel(e)}cancelAll(){this._dataSource.cancelAll()}filter(e){return this._dataSource.filter(e)}addSearchFilter(e){this._dataSource._addSearchFilter(e)}group(e){return this._dataSource.group(e)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(e){return e===void 0?this._dataSource.pageIndex(void 0):this._dataSource.pageIndex(e)}resetDataSource(){this._disposeDataSource()}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}updateDataSource(e,t){const n=e??this.items();t&&(this._keyExpr=t),this._disposeDataSource(),Array.isArray(n)?this._updateDataSourceByItems(n):this._updateDataSource(n)}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(e){return this._dataSource.searchValue(e)}searchOperation(e){return this._dataSource.searchOperation(e)}searchExpr(e){return this._dataSource.searchExpr(e)}select(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this._dataSource.select(t)}key(){var e;const t=(e=this._dataSource)===null||e===void 0?void 0:e.key();return G(t)&&this._keyExpr==="this"?t:this._keyExpr}keyOf(e){return this.store().keyOf(e)}store(){return this._dataSource.store()}items(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.items()}applyMapFunction(e){return this._dataSource._applyMapFunction(e)}getDataSource(){return this._dataSource??null}reload(){return this._dataSource.reload()}on(e,t){this._dataSource.on(e,t)}off(e,t){this._dataSource.off(e,t)}}const e4="dx-buttongroup-item-has-width",Ix={contained:"dx-buttongroup-mode-contained",outlined:"dx-buttongroup-mode-outlined",text:"dx-buttongroup-mode-text"};class zie extends Kr{_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({item:new hd((e,t,n)=>{this._prepareItemStyles(e);const{buttonTemplate:s}=this.option();this._createComponent(e,si,se({},n,t,this._getBasicButtonOptions(),{_templateData:this._hasCustomTemplate(s)?n:{},template:n.template||s}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})}_getBasicButtonOptions(){const{hoverStateEnabled:e,activeStateEnabled:t,stylingMode:n}=this.option();return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:e,activeStateEnabled:t,stylingMode:n}}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{itemTemplateProperty:null})}_hasCustomTemplate(e){return Ie(e)||this.option("integrationOptions.templates")[e]}_selectedItemClass(){return"dx-item-selected dx-state-selected"}_prepareItemStyles(e){const t=e.data("dxItemIndex");t===0&&e.addClass("dx-buttongroup-first-item");const{items:n}=this.option();n&&t===n.length-1&&e.addClass("dx-buttongroup-last-item"),e.addClass("dx-shape-standard")}_renderItemContent(e){return e.container=M(e.container).parent(),super._renderItemContent(e)}_setAriaSelectionAttribute(e,t){this.setAria("pressed",t,e)}_renderItemContentByNode(e,t){return e.container=M(e.container).children().first(),super._renderItemContentByNode(e,t)}_focusTarget(){return this.$element().parent()}_keyboardEventBindingTarget(){return this._focusTarget()}_enterKeyHandler(e){e.preventDefault(),super._enterKeyHandler(e)}_refreshContent(){this._prepareContent(),this._renderContent()}_itemClass(){return"dx-buttongroup-item"}_itemSelectHandler(e){const{selectionMode:t}=this.option();t==="single"&&this.isItemSelected(e.currentTarget)||super._itemSelectHandler(e)}}class xF extends Oi{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})}_init(){super._init(),this._createItemClickAction()}_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initMarkup(){this.setAria("role","group"),this.$element().addClass("dx-buttongroup"),this._renderStylingMode(),this._renderButtons(),this._syncSelectionOptions(),super._initMarkup()}_renderStylingMode(){const{stylingMode:e}=this.option();for(const t in Ix)this.$element().removeClass(Ix[t]);this.$element().addClass(Ix[e??"contained"])}_fireSelectionChangeEvent(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:e,removedItems:t})}_renderButtons(){const e=M("<div>").addClass("dx-buttongroup-wrapper").appendTo(this.$element()),{selectedItems:t,selectionMode:n,items:s,keyExpr:r,buttonTemplate:o,selectedItemKeys:a,focusStateEnabled:l,hoverStateEnabled:d,activeStateEnabled:c,stylingMode:h,accessKey:u,tabIndex:p}=this.option(),f={selectionMode:n,items:s,keyExpr:r,buttonTemplate:o,selectedItemKeys:a,focusStateEnabled:l,hoverStateEnabled:d,activeStateEnabled:c,stylingMode:h,accessKey:u,tabIndex:p,noDataText:"",selectionRequired:!1,onItemRendered:g=>{const{width:m}=this.option();G(m)&&M(g.itemElement).addClass(e4)},onSelectionChanged:g=>{this._syncSelectionOptions(),this._fireSelectionChangeEvent(g.addedItems,g.removedItems)},onItemClick:g=>{this._itemClickAction(g)}};G(t)&&t.length&&(f.selectedItems=t),this._buttonsCollection=this._createComponent(e,zie,f)}_syncSelectionOptions(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(t,n);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":super._optionChanged(e),this._buttonsCollection.itemElements().toggleClass(e4,!!n);break;default:super._optionChanged(e)}}}St("dxButtonGroup",xF);const Wg=function(i){if(st())return kt(i)},RS=function(i){return i===null&&(i=void 0),typeof i=="function"&&(i=i()),i},Om={};function Wie(i,e,t){Om[i]||(Om[i]={}),Om[i][e]=t}const bF=[],a_=i=>{let{enabled:e,decoratorType:t,decoratorSubType:n}=i;bF.push({enabled:e,decoratorType:t,decoratorSubType:n})};a_({enabled(){const{menuItems:i}=this.option();return!!i.length},decoratorType:()=>"menu",decoratorSubType(){const{menuMode:i}=this.option();return i}});a_({enabled(){const{menuItems:i,allowItemDeleting:e}=this.option();return!!(!i.length&&e)},decoratorType(){const{itemDeleteMode:i}=this.option();return["toggle","slideButton","swipe","static"].includes(i)?"delete":"menu"},decoratorSubType(){let{itemDeleteMode:i}=this.option();return i==="slideItem"&&(i="slide"),i}});a_({enabled(){const{selectionMode:i,showSelectionControls:e}=this.option();return!!(i!=="none"&&e)},decoratorType:()=>"selection",decoratorSubType:()=>"default"});a_({enabled(){const{itemDragging:i}=this.option();return!!(i.allowReordering||i.allowDropInsideItem||i.group)},decoratorType:()=>"reorder",decoratorSubType:()=>"default"});class Uie{constructor(e){this._list=e,this._decorators=[],this._fetchRequiredDecorators()}dispose(){var e;(e=this._decorators)!==null&&e!==void 0&&e.length&&ie(this._decorators,(t,n)=>{n.dispose()})}_fetchRequiredDecorators(){ie(bF,(e,t)=>{if(t.enabled.call(this._list)){const s=t.decoratorType.call(this._list),r=t.decoratorSubType.call(this._list),o=this._createDecorator(s,r);this._decorators.push(o)}})}_createDecorator(e,t){const n=this._findDecorator(e,t);return new n(this._list)}_findDecorator(e,t){var n;const s=(n=Om[e])===null||n===void 0?void 0:n[t];if(!s)throw pt.Error("E1012",e,t);return s}modifyItemElement(e){const t=M(e.itemElement),n={$itemElement:t,$container:M()};this._prependBeforeBags(t,n),this._appendAfterBags(t,n),this._applyDecorators("modifyElement",n)}afterItemsRendered(){this._applyDecorators("afterRender")}_prependBeforeBags(e,t){const n=this._collectDecoratorsMarkup("beforeBag",t,"dx-list-item-before-bag");e.prepend(n)}_appendAfterBags(e,t){const n=this._collectDecoratorsMarkup("afterBag",t,"dx-list-item-after-bag");e.append(n)}_collectDecoratorsMarkup(e,t,n){var s;const r=M("<div>");return(s=this._decorators)===null||s===void 0||s.forEach(o=>{if(Ie(o[e])){const a=M("<div>").addClass(n);o[e](Object.assign({},t,{$container:a})),a.children().length&&r.append(a)}}),r.children()}_applyDecorators(e,t){var n;(n=this._decorators)===null||n===void 0||n.forEach(s=>{s[e](t)})}_handlerExists(e){if(!this._decorators)return!1;const t=this._decorators,{length:n}=t;for(let s=0;s<n;s+=1)if(t[s][e]!==Te)return!0;return!1}_eventHandler(e){if(!this._decorators)return!1;let t=!1;const n=this._decorators,{length:s}=n;for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];for(let l=0;l<s&&(t=n[l][e](...o),!t);l+=1);return t}handleClick(e,t){return this._eventHandler("handleClick",e,t)}handleKeyboardEvents(e,t){return this._eventHandler("handleKeyboardEvents",e,t)}handleEnterPressing(e){return this._eventHandler("handleEnterPressing",e)}contextMenuHandlerExists(){return this._handlerExists("handleContextMenu")}handleContextMenu(e,t){return this._eventHandler("handleContextMenu",e,t)}getExcludedItemSelectors(){const e=[];return this._applyDecorators("getExcludedSelectors",e),e.join(",")}}const Tx=i=>(i.group<<20)+i.item,Qo=i=>({group:i>>20,item:1048575&i});class Kie extends aS{_groupElements(){return this._collectionWidget._itemContainer().find(".dx-list-group")}_groupItemElements(e){return e.find(".dx-list-item")}getIndexByItemData(e){const t=this._getItems();let n=go;if(!e)return go;const{items:s=[]}=e;return s.length&&(e=s[0]),ie(t,(r,o)=>o.items?(ie(o.items,(a,l)=>l!==e?!0:(n={group:r,item:a},!1)),!Gs(n)):!1),n}_isIndexNumeric(e){return jt(e)}getItemDataByIndex(e){const t=this._getItems();if(this._isIndexNumeric(e))return this.itemsGetter()[e];const n=e.group,s=t[n],{items:r=[]}=s;return e&&r[e.item]||null}itemsGetter(){let e=[];return this._getItems().forEach(n=>{n.items?e=e.concat(n.items):e.push(n)}),e}deleteItemAtIndex(e){const t=Qo(e),{items:n=[]}=this._collectionWidget.option(),s=n[t.group].items;s==null||s.splice(t.item,1)}getKeysByItems(e){return e.reduce((n,s)=>s!=null&&s.items?n.concat(s.items):(n.push(s),n),[]).map(n=>this._collectionWidget.keyOf(n))}getIndexByKey(e,t){const{items:n}=this._collectionWidget.option(),s=t??n;let r=-1;return ie(s,(o,a)=>{if(a.items&&(ie(a.items,(l,d)=>{const c=this._collectionWidget.keyOf(d);if(this._equalKeys(c,e))return r={group:o,item:l},!1}),r!==-1))return!1}),typeof r=="object"?Tx(r):r}_getGroups(e){const n=this._collectionWidget._dataController.group();if(n)return Mo.queryByOptions(Hi(e),{group:n}).toArray();const{items:s=[]}=this._collectionWidget.option();return s}getItemsByKeys(e,t){const n=[],s=this._getGroups(t),r={},o=a=>{const l=this.getIndexByKey(a,s),d=Qo(l),c=d&&s[d.group];if(c)return{groupKey:String(c.key),item:c.items[d.item]}};return ie(e,(a,l)=>{var d;const c=o(l);if(!c)return;const{groupKey:h,item:u}=c;let p=r[h];p||(p={key:h,items:[]},r[h]=p,n.push(p)),(d=p.items)===null||d===void 0||d.push(u)}),n}moveItemAtIndexToIndex(e,t){const{items:n=[]}=this._collectionWidget.option(),s=Qo(e),r=Qo(t),o=n[s.group].items,a=n[r.group].items;if(o){const l=o==null?void 0:o[s.item];o==null||o.splice(s.item,1),a==null||a.splice(r.item,0,l)}}_isItemIndex(e){return!!(e&&jt(e.group)&&jt(e.item))}_getNormalizedItemIndex(e){const t=M(e),n=t.closest(".dx-list-group");return n.length?Tx({group:this._groupElements().index(n),item:this._groupItemElements(n).index(t)}):-1}_normalizeItemIndex(e){return Tx(e)}_denormalizeItemIndex(e){return Qo(e)}_getItemByNormalizedIndex(e){const t=Qo(e),n=this._groupElements().eq(t.group);return this._groupItemElements(n).eq(t.item)}_itemsFromSameParent(e,t){return Qo(e).group===Qo(t).group}}class Gie extends kS{_supportedKeys(){const e=super._supportedKeys(),t=(n,s)=>{const{focusedElement:r,itemDragging:o,grouped:a}=this.option(),l=this._editStrategy,d=l.getNormalizedIndex(r);if(!(d===this._getLastItemIndex()&&this._dataController.isLoading()))if(n.shiftKey&&o!==null&&o!==void 0&&o.allowReordering){const h=d+(s?-1:1),u=l.getItemElement(h);a&&M(r).parent().get(0)!==u.parent().get(0)||(this.reorderItem(M(r).get(0),u.get(0)),this.scrollToItem(M(r))),n.preventDefault()}else this._editProvider.handleKeyboardEvents(d,s)?n.preventDefault():s?e.upArrow(n):e.downArrow(n)};return Object.assign({},e,{del:n=>{const{allowItemDeleting:s,focusedElement:r}=this.option();s&&r&&(n.preventDefault(),this.deleteItem(r))},upArrow:n=>t(n,!0),downArrow:n=>t(n),enter:n=>{this._editProvider.handleEnterPressing(n)||e.enter.apply(this,[n])},space:n=>{this._editProvider.handleEnterPressing(n)||e.space.apply(this,[n])}})}_updateSelection(){this._editProvider.afterItemsRendered(),super._updateSelection()}_getLastItemIndex(){return this._itemElements().length-1}_refreshItemElements(){super._refreshItemElements();const e=this._editProvider.getExcludedItemSelectors();e.length&&(this._itemElementsCache=this._itemElementsCache.not(e))}_isItemStrictEquals(e,t){const n=e==null?void 0:e[dF];return n&&!this.key()&&this._selection.isItemSelected(n)?!1:super._isItemStrictEquals(e,t)}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:ue.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:e=>e.platform==="ios",options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])}_init(){super._init(),this._initEditProvider()}_initDataSource(){if(super._initDataSource(),!this._isPageSelectAll()){var e;(e=this._dataSource)===null||e===void 0||e.requireTotalCount(!0)}}_isPageSelectAll(){const{selectAllMode:e}=this.option();return e==="page"}_initEditProvider(){this._editProvider=new Uie(this)}_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()}_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()}_initEditStrategy(){const{grouped:e}=this.option();e?this._editStrategy=new Kie(this):super._initEditStrategy()}_initMarkup(){this._refreshEditProvider(),super._initMarkup()}_renderItems(e){super._renderItems(e),this._editProvider.afterItemsRendered()}_renderItem(e,t,n,s){const{showSelectionControls:r,selectionMode:o}=this.option(),a=super._renderItem(e,t,n,s);return r&&o!=="none"&&this._updateItemAriaLabel(a,t),a}_updateItemAriaLabel(e,t){var n;const s=((n=this._displayGetter)===null||n===void 0?void 0:n.call(this,t))??(t==null?void 0:t.text)??t;this.setAria("label",Me(s)?ue.format("dxList-listAriaLabel-itemContent"):s,e)}_selectedItemClass(){return"dx-list-item-selected"}_itemResponseWaitClass(){return"dx-list-item-response-wait"}_itemClickHandler(e,t,n){const s=M(e.currentTarget);s.is(".dx-state-disabled, .dx-state-disabled *")||this._editProvider.handleClick(s,e)||(this._saveSelectionChangeEvent(e),super._itemClickHandler(e,t,n))}_shouldFireContextMenuEvent(){return super._shouldFireContextMenuEvent()||this._editProvider.contextMenuHandlerExists()}_itemHoldHandler(e){const t=M(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *"))return;if(xp(e)&&this._editProvider.handleContextMenu(t,e)){e.handledByEditProvider=!0;return}super._itemHoldHandler(e)}_itemContextMenuHandler(e){const t=M(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *"))return;if(!e.handledByEditProvider&&this._editProvider.handleContextMenu(t,e)){e.preventDefault();return}super._itemContextMenuHandler(e)}_postprocessRenderItem(e){super._postprocessRenderItem(e),this._editProvider.modifyItemElement(e)}_clean(){this._disposeEditProvider(),super._clean()}focusListItem(e){const t=this._editStrategy.getItemElement(e);this.option("focusedElement",We(t)),this.focus(),this.scrollToItem(t)}_getFlatIndex(){const{selectedIndex:e=go}=this.option();if(jt(e)||!e)return e;const t=this._editStrategy.getItemElement(e);return this.getFlatIndexByItemElement(t)}_optionChanged(e){const{name:t}=e;switch(t){case"selectAllMode":this._initDataSource(),this._dataController.pageIndex(0),this._dataController.load();break;case"grouped":this._clearSelectedItems(),this._initEditStrategy(),super._optionChanged(e);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:super._optionChanged(e)}}selectAll(){return this._selection.selectAll(this._isPageSelectAll())}unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())}isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())}getFlatIndexByItemElement(e){return this._itemElements().index(e)}getItemElementByFlatIndex(e){const t=this._itemElements();return e<0||e>=t.length?M():t.eq(e)}getItemByIndex(e){return this._editStrategy.getItemDataByIndex(e)}deleteItem(e){const t=this._editStrategy,n=t.getNormalizedIndex(e),{focusedElement:s,focusStateEnabled:r}=this.option(),o=s?t.getNormalizedIndex(s):n,l=o===this._getLastItemIndex()||n<o?o-1:o;return super.deleteItem(e).done(()=>{r&&this.focusListItem(l)})}}class eu extends Gie{_getCombinedFilter(){const e=this._dataController,t={filter:e.filter()};e.addSearchFilter(t);const{filter:n}=t;return n}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})}_getSearchBoxControllerOptions(){const{tabIndex:e,searchEnabled:t,searchValue:n,searchTimeout:s,searchEditorOptions:r}=this.option();return{tabIndex:e,searchEnabled:t,searchValue:n,searchTimeout:s,searchEditorOptions:r,onValueChanged:o=>{this.option("searchValue",o)}}}_initDataSource(){const{searchValue:e,searchExpr:t,searchMode:n}=this.option();super._initDataSource();const s=this._dataController;e!=null&&e.length&&s.searchValue(e),n!=null&&n.length&&s.searchOperation(cC(n)),t&&s.searchExpr(t)}_init(){this._searchBoxController=new Bo,super._init()}_initMarkup(){this._searchBoxController.render("dx-list",this.$element(),this._getSearchBoxControllerOptions(),this._createComponent.bind(this)),super._initMarkup()}_getAriaTarget(){const{searchEnabled:e}=this.option();return e?this._itemContainer():super._getAriaTarget()}focus(){const{focusedElement:e,searchEnabled:t}=this.option();if(!e&&t){var n;(n=this._searchBoxController)===null||n===void 0||n.focus();return}super.focus()}_focusTarget(){const{searchEnabled:e}=this.option();return e?this._itemContainer():super._focusTarget()}_updateFocusState(e,t){const{searchEnabled:n}=this.option();n&&this._toggleFocusClass(t,this.$element()),super._updateFocusState(e,t)}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"searchEnabled":case"searchEditorOptions":this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource){pt.log("W1009");return}t==="searchMode"?this._dataSource.searchOperation(cC(n)):this._dataSource[t](n),this._dataSource.load();break;case"searchTimeout":break;default:super._optionChanged(e)}}_refresh(){var e;(e=this._searchBoxController)===null||e===void 0||e.resolveValueChange(),super._refresh()}_cleanAria(){const e=this.$element();this.setAria({role:null,activedescendant:null},e),e.attr("tabIndex",null)}_clean(){this._cleanAria(),super._clean()}_dispose(){var e;(e=this._searchBoxController)===null||e===void 0||e.dispose(),super._dispose()}}St("dxList",eu);const qie="dx-dropdownbutton-content";let xC=class extends Oi{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{itemTemplate:"item",keyExpr:"this",selectedItem:null,selectedItemKey:null,stylingMode:"outlined",deferRendering:!0,noDataText:ue.format("dxCollectionWidget-noDataText"),useSelectMode:!1,splitButton:!1,showArrowIcon:!0,template:null,text:"",type:"normal",onButtonClick:null,onSelectionChanged:null,onItemClick:null,opened:!1,items:null,dataSource:null,focusStateEnabled:!0,hoverStateEnabled:!0,dropDownOptions:{},dropDownContentTemplate:"content",wrapItemText:!1,useItemTextAsTitle:!0,grouped:!1,groupTemplate:"group",buttonGroupOptions:{},_cached_buttonGroupOptions:{},_cached_dropDownOptions:{}})}_setOptionsByReference(){super._setOptionsByReference(),se(this._optionsByReference,{selectedItem:!0})}_init(){super._init(),this._createItemClickAction(),this._createActionClickAction(),this._createSelectionChangedAction(),this._initDataController(),this._compileKeyGetter(),this._compileDisplayGetter();const{buttonGroupOptions:e,dropDownOptions:t}=this.option();this._options.cache("buttonGroupOptions",e),this._options.cache("dropDownOptions",t)}_initDataController(){const e=this.option("dataSource");this._dataController=new jie(e??this.option("items"),{key:this.option("keyExpr")})}_initTemplates(){this._templateManager.addDefaultTemplates({content:new Bc(e=>{const t=M(e.container),n=M("<div>").appendTo(t);this._list=this._createComponent(n,eu,this._listOptions()),this._list.registerKeyHandler("escape",this._escHandler.bind(this)),this._list.registerKeyHandler("tab",this._escHandler.bind(this)),this._list.registerKeyHandler("leftArrow",this._escHandler.bind(this)),this._list.registerKeyHandler("rightArrow",this._escHandler.bind(this))})}),super._initTemplates()}_compileKeyGetter(){this._keyGetter=qt(this._dataController.key())}_compileDisplayGetter(){const{displayExpr:e}=this.option();this._displayGetter=qt(e)}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-dropdownbutton"),this._renderButtonGroup(),this._updateArrowClass(),G(this.option("selectedItemKey"))&&this._loadSelectedItem().done(this._updateActionButton.bind(this))}_renderFocusTarget(){}_render(){(!this.option("deferRendering")||this.option("opened"))&&this._renderPopup(),super._render()}_renderContentImpl(){return this._popup&&this._renderPopupContent(),super._renderContentImpl()}_loadSelectedItem(){var e;(e=this._loadSingleDeferred)===null||e===void 0||e.reject();const t=de();if(this._list&&this._lastSelectedItemData!==void 0){const s=this.option("useSelectMode")?this._list.option("selectedItem"):this._lastSelectedItemData;return t.resolve(s)}this._lastSelectedItemData=void 0;const n=this.option("selectedItemKey");return this._dataController.loadSingle(n).done(t.resolve).fail(()=>{t.reject(null)}),this._loadSingleDeferred=t,t.promise()}_createActionClickAction(){this._actionClickAction=this._createActionByOption("onButtonClick")}_createSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged")}_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_fireSelectionChangedAction(e){let{previousValue:t,value:n}=e;this._selectionChangedAction({item:n,previousItem:t})}_fireItemClickAction(e){let{event:t,itemElement:n,itemData:s}=e;return this._itemClickAction({event:t,itemElement:n,itemData:this._actionItem||s})}_getButtonTemplate(){const{template:e,splitButton:t,showArrowIcon:n}=this.option();return e||(t||!n?"content":(s,r)=>{let{text:o,icon:a}=s;const l=Xr(a),d=o?M("<span>").text(o).addClass("dx-button-text"):void 0,c=Xr("spindown").addClass("dx-icon-right");M(r).append(l,d,c)})}_getActionButtonConfig(){const{icon:e,text:t,type:n,splitButton:s}=this.option(),r={text:t,icon:e,type:n,template:this._getButtonTemplate(),elementAttr:{class:"dx-dropdownbutton-action"}};return s&&(r.elementAttr.role="menuitem"),r}_getSpinButtonConfig(){const{type:e}=this.option();return{type:e,icon:"spindown",elementAttr:{class:"dx-dropdownbutton-toggle",role:"menuitem"}}}_getButtonGroupItems(){const{splitButton:e}=this.option(),t=[this._getActionButtonConfig()];return e&&t.push(this._getSpinButtonConfig()),t}_buttonGroupItemClick(e){let{event:t,itemData:n}=e;const s=n.elementAttr.class==="dx-dropdownbutton-action";n.elementAttr.class==="dx-dropdownbutton-toggle"?this.toggle():s&&(this._actionClickAction({event:t,selectedItem:this.option("selectedItem")}),this.option("splitButton")||this.toggle())}_getButtonGroupOptions(){const{accessKey:e,focusStateEnabled:t,hoverStateEnabled:n,splitButton:s,stylingMode:r,tabIndex:o}=this.option();return Object.assign({items:this._getButtonGroupItems(),width:"100%",height:"100%",selectionMode:"none",focusStateEnabled:t,hoverStateEnabled:n,stylingMode:r,accessKey:e,tabIndex:o,elementAttr:{role:s?"menu":"group"},onItemClick:this._buttonGroupItemClick.bind(this),onKeyboardHandled:l=>this._keyboardHandler(l)},this._options.cache("buttonGroupOptions"))}_renderPopupContent(){const e=this._popup.$content(),t=this._getTemplateByOption("dropDownContentTemplate");return e==null||e.empty(),this._popupContentId=`dx-${new Xt}`,this.setAria("id",this._popupContentId,e),t.render({container:e?We(e):void 0,model:this.option("items")||this._dataController.getDataSource()})}_popupOptions(){const e=this.option("rtlEnabled")?"right":"left";return se({dragEnabled:!1,focusStateEnabled:!1,deferRendering:this.option("deferRendering"),hideOnOutsideClick:t=>{const n=this.$element();return!M(t.target).closest(".dx-dropdownbutton").is(n)},showTitle:!1,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},_ignoreFunctionValueDeprecation:!0,width:()=>Wg(this.$element()),height:"auto",shading:!1,position:{of:this.$element(),collision:"flipfit",my:`${e} top`,at:`${e} bottom`},_wrapperClassExternal:"dx-dropdowneditor-overlay",contentTemplate:null},this._options.cache("dropDownOptions"),{visible:this.option("opened")})}_listOptions(){const{wrapItemText:e,focusStateEnabled:t,hoverStateEnabled:n,useItemTextAsTitle:s,grouped:r,groupTemplate:o,noDataText:a,displayExpr:l,itemTemplate:d,items:c,selectedItemKey:h,useSelectMode:u}=this.option();return{selectionMode:u?"single":"none",wrapItemText:e,focusStateEnabled:t,hoverStateEnabled:n,useItemTextAsTitle:s,onContentReady:()=>this._fireContentReadyAction(),selectedItemKeys:G(h)&&u?[h]:[],grouped:r,groupTemplate:o,keyExpr:this._dataController.key(),noDataText:a,displayExpr:l,itemTemplate:d,items:c,dataSource:this._dataController.getDataSource(),onItemClick:p=>{this.option("useSelectMode")||(this._lastSelectedItemData=p.itemData),this.option("selectedItemKey",this._keyGetter(p.itemData)),this._fireItemClickAction(p)!==!1&&(this.toggle(!1),this._buttonGroup.focus())}}}_upDownKeyHandler(){var e;return(e=this._popup)!==null&&e!==void 0&&e.option("visible")&&this._list?this._list.focus():this.open(),!0}_escHandler(){return this.close(),this._buttonGroup.focus(),!0}_tabHandler(){return this.close(),!0}_renderPopup(){var e,t;const n=M("<div>");this.$element().append(n),this._popup=this._createComponent(n,hr,this._popupOptions()),(e=this._popup.$content())===null||e===void 0||e.addClass(qie),(t=this._popup.$wrapper())===null||t===void 0||t.addClass("dx-dropdownbutton-popup-wrapper"),this._popup.$overlayContent().attr("aria-label","Dropdown"),this._popup.on("hiding",this._popupHidingHandler.bind(this)),this._popup.on("showing",this._popupShowingHandler.bind(this)),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")}_popupHidingHandler(){this.option("opened",!1),this._updateAriaAttributes(!1)}_popupOptionChanged(e){const t=Oi.getOptionsFromContainer(e);this._setPopupOption(t);const n=Object.keys(t);(n.includes("width")||n.includes("height"))&&this._dimensionChanged()}_dimensionChanged(){RS(this.option("dropDownOptions.width"))===void 0&&this._setPopupOption("width",()=>Wg(this.$element()))}_setPopupOption(e,t){this._setWidgetOption("_popup",arguments)}_popupShowingHandler(){this.option("opened",!0),this._updateAriaAttributes(!0)}_setElementAria(e){const t={owns:e?this._popupContentId:void 0};this.setAria(t,this.$element())}_setButtonsAria(e){const t={expanded:e,haspopup:"listbox"},n={};this.option("text")||(n.label="dropdownbutton"),this._getButtons().each((s,r)=>{s===0?this.setAria(Object.assign({},n,t),M(r)):this.setAria(t,M(r))})}_updateAriaAttributes(e){this._setElementAria(e),this._setButtonsAria(e)}_getButtons(){return this._buttonGroup.$element().find(".dx-button")}_renderButtonGroup(){var e;const t=((e=this._buttonGroup)===null||e===void 0?void 0:e.$element())||M("<div>");this._buttonGroup||this.$element().append(t),this._buttonGroup=this._createComponent(t,xF,this._getButtonGroupOptions()),this._buttonGroup.registerKeyHandler("downArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("tab",this._tabHandler.bind(this)),this._buttonGroup.registerKeyHandler("upArrow",this._upDownKeyHandler.bind(this)),this._buttonGroup.registerKeyHandler("escape",this._escHandler.bind(this)),this._bindInnerWidgetOptions(this._buttonGroup,"buttonGroupOptions"),this._updateAriaAttributes(this.option("opened"))}_updateArrowClass(){const e=this.option("splitButton")||this.option("showArrowIcon");this.$element().toggleClass("dx-dropdownbutton-has-arrow",e)}toggle(e){var t;return this._popup||(this._renderPopup(),this._renderContent()),(t=this._popup)===null||t===void 0?void 0:t.toggle(e)}open(){return this.toggle(!0)}close(){return this.toggle(!1)}_setListOption(e,t){var n;(n=this._list)===null||n===void 0||n.option(e,t)}_getDisplayValue(e){const n=!Me(e)?e:this._displayGetter(e);return Me(n)?"":String(wn(n,""))}_updateActionButton(e){this.option("useSelectMode")&&this.option({text:this._getDisplayValue(e),icon:ot(e)?e.icon:void 0}),this._setOptionWithoutOptionChange("selectedItem",e),this._setOptionWithoutOptionChange("selectedItemKey",this._keyGetter(e))}_clean(){var e,t;(e=this._list)===null||e===void 0||e.$element().remove(),(t=this._popup)===null||t===void 0||t.$element().remove()}_selectedItemKeyChanged(e){this._setListOption("selectedItemKeys",this.option("useSelectMode")&&G(e)?[e]:[]);const t=this.option("selectedItem");this._loadSelectedItem().always(n=>{this._updateActionButton(n),this._displayGetter(t)!==this._displayGetter(n)&&this._fireSelectionChangedAction({previousValue:t,value:n})})}_updateButtonGroup(e,t){this._buttonGroup.option(e,t),this._updateAriaAttributes(this.option("opened"))}_actionButtonOptionChanged(e){let{name:t,value:n}=e;const s={};s[t]=n,this._updateButtonGroup("items[0]",se({},this._getActionButtonConfig(),s)),this._popup&&this._popup.repaint()}_selectModeChanged(e){if(e){this._setListOption("selectionMode","single");const t=this.option("selectedItemKey");this._setListOption("selectedItemKeys",G(t)?[t]:[]),this._selectedItemKeyChanged(this.option("selectedItemKey"))}else this._setListOption("selectionMode","none"),this.option({selectedItemKey:void 0,selectedItem:void 0}),this._actionButtonOptionChanged({text:this.option("text")})}_updateItemCollection(e){const t=this.option("selectedItemKey");this._setListOption("selectedItem",null),this._setWidgetOption("_list",[e]),G(t)&&this._loadSelectedItem().done(n=>{this._setListOption("selectedItemKeys",[t]),this._setListOption("selectedItem",n)}).fail(n=>{this._setListOption("selectedItemKeys",[])}).always(this._updateActionButton.bind(this))}_updateDataController(e){this._dataController.updateDataSource(e,this.option("keyExpr")),this._updateKeyExpr()}_updateKeyExpr(){this._compileKeyGetter(),this._setListOption("keyExpr",this._dataController.key())}focus(){this._buttonGroup.focus()}_optionChanged(e){var t;const{name:n,value:s}=e;switch(n){case"useSelectMode":this._selectModeChanged(s);break;case"splitButton":this._updateArrowClass(),this._renderButtonGroup();break;case"displayExpr":this._compileDisplayGetter(),this._setListOption(n,s),this._updateActionButton(this.option("selectedItem"));break;case"keyExpr":this._updateDataController();break;case"buttonGroupOptions":this._innerWidgetOptionChanged(this._buttonGroup,e);break;case"dropDownOptions":if(e.fullName==="dropDownOptions.visible")break;e.value.visible!==void 0&&delete e.value.visible,this._popupOptionChanged(e),this._innerWidgetOptionChanged(this._popup,e);break;case"opened":this.toggle(s);break;case"focusStateEnabled":case"hoverStateEnabled":this._setListOption(n,s),this._updateButtonGroup(n,s),super._optionChanged(e);break;case"items":this._updateDataController(this.option("items")),this._updateItemCollection(n);break;case"dataSource":this._dataController.updateDataSource(s),this._updateKeyExpr(),this._updateItemCollection(n);break;case"icon":case"text":this._actionButtonOptionChanged(e);break;case"showArrowIcon":this._updateArrowClass(),this._renderButtonGroup(),this._popup&&this._popup.repaint();break;case"width":case"height":super._optionChanged(e),(t=this._popup)===null||t===void 0||t.repaint();break;case"stylingMode":case"tabIndex":this._updateButtonGroup(n,s);break;case"type":this._updateButtonGroup("items",this._getButtonGroupItems());break;case"itemTemplate":case"grouped":case"noDataText":case"groupTemplate":case"wrapItemText":case"useItemTextAsTitle":this._setListOption(n,s);break;case"dropDownContentTemplate":this._renderContent();break;case"selectedItemKey":this._selectedItemKeyChanged(s);break;case"selectedItem":case"_cached_buttonGroupOptions":case"_cached_dropDownOptions":break;case"onItemClick":this._createItemClickAction();break;case"onButtonClick":this._createActionClickAction();break;case"onSelectionChanged":this._createSelectionChangedAction();break;case"deferRendering":{const{opened:r}=this.option();this.toggle(r);break}case"template":this._renderButtonGroup();break;default:super._optionChanged(e)}}getDataSource(){return this._dataController.getDataSource()}};St("dxDropDownButton",xC);const Yie=()=>Xr(PX),Xie=()=>M("<div>").addClass(Rg.aiColumnHeaderContent),Zie=i=>class extends i{getDropDownButtonItems(e){var t,n;return[{key:"autoFill",icon:ox.autoFill,text:ue.format("dxDataGrid-aiDropDownAutofill")},{key:"regenerate",icon:ox.regenerate,text:ue.format("dxDataGrid-aiPromptEditorRegenerateButton"),disabled:!((t=e.ai)!==null&&t!==void 0&&t.prompt)},{key:"clear",icon:ox.clear,text:ue.format("dxDataGrid-aiDropDownClear"),disabled:!((n=e.ai)!==null&&n!==void 0&&n.prompt)}]}getDropDownButtonInstance(e){return xC.getInstance(e.find(`.${Rg.aiColumnHeaderButton}`)[0])}getDropDownButtonConfig(e,t){const n=e.alignment==="right"?"left":"right";return{showArrowIcon:!1,icon:"overflow",stylingMode:"text",useItemTextAsTitle:!1,items:this.getDropDownButtonItems(e),onItemClick:s=>{const{key:r}=s.itemData;switch(r){case"autoFill":this.aiPromptEditorController.show(t[0],e);break;case"regenerate":this.aiColumnController.sendRequest(e.name,!1);break;case"clear":this.aiColumnController.clearAIColumn(e.name)}},dropDownOptions:{width:180,position:{of:t[0],at:`${n} bottom`,my:`${n} top`},onShown:()=>{this.activeDropDownButtonInstance=this.getDropDownButtonInstance(t)},onHidden:()=>{this.activeDropDownButtonInstance=null},onDisposing:()=>{this.activeDropDownButtonInstance=null}}}}renderHeaderDropDownButton(e,t){const n=M("<div>").addClass(Rg.aiColumnHeaderButton).appendTo(t);this._createComponent(n,xC,this.getDropDownButtonConfig(e,t))}renderAIHeader(e,t){const n=Yie(),s=Xie(),r=this.createCellContent(e,t);r.text(t.caption??""),s.append(n).append(r).appendTo(e)}getHeaderDefaultTemplate(e,t){if(JA(t.column)){this.renderAIHeader(e,t.column);return}super.getHeaderDefaultTemplate(e,t)}_processTemplate(e,t){const n=super._processTemplate(e,t),s=JA(t.column,t.rowType)&&Nie(t.column);return n&&s?{render:r=>{n.render(r),this.renderHeaderDropDownButton(r.model.column,M(r.container))}}:n}aiColumnOptionChanged(e,t,n){if(OS(t,n)){const r=this._columnsController.getVisibleIndex(e.index),o=this.getHeaderElement(r),a=this.getDropDownButtonInstance(o);a==null||a.option("items",this.getDropDownButtonItems(e))}}init(){super.init(),this.aiColumnController=this.getController("aiColumn"),this.aiPromptEditorController=this.getController("aiPromptEditor"),this.columnsResizer=this.getController("columnsResizer"),this.columnsResizer.resizeStarted.add(()=>{var e;(e=this.activeDropDownButtonInstance)===null||e===void 0||e.close(),this.aiPromptEditorController.hide()}),this.aiColumnOptionChangedHandler=this.aiColumnOptionChanged.bind(this),this._columnsController.aiColumnOptionChanged.add(this.aiColumnOptionChangedHandler)}renderDragCellContent(e,t){if(t.type===bs){this.renderAIHeader(e,t);return}super.renderDragCellContent(e,t)}};class PS extends hr{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{preventScrollEvents:!1})}_getToolbarName(){return"dxToolbar"}}PS.defaultOptions=function(i){hr.defaultOptions(i)};St("dxPopup",PS);class yF extends to{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{min:0,max:100,value:0})}_initMarkup(){this.$element().addClass("dx-trackbar"),this._renderWrapper(),this._renderContainer(),this._renderRange(),this._renderValue(),this._setRangeStyles(),super._initMarkup()}_render(){super._render(),this._setRangeStyles(this._rangeStylesConfig())}_renderWrapper(){this._$wrapper=M("<div>").addClass("dx-trackbar-wrapper").appendTo(this.$element())}_renderContainer(){this._$bar=M("<div>").addClass("dx-trackbar-container").appendTo(this._$wrapper)}_renderRange(){this._$range=M("<div>").addClass("dx-trackbar-range").appendTo(this._$bar)}_renderValue(){const{value:e,min:t,max:n}=this.option();if(t>n)return;if(e<t){this.option("value",t),this._currentRatio=0;return}if(e>n){this.option("value",n),this._currentRatio=1;return}const s=t===n?0:(e-t)/(n-t);this._needPreventAnimation||this._setRangeStyles({width:100*s+"%"}),this.setAria({valuemin:this.option("min"),valuemax:n,valuenow:e}),this._currentRatio=s}_rangeStylesConfig(){return{width:100*this._currentRatio+"%"}}_setRangeStyles(e){if(Ht.stop(this._$range),!e){this._$range.css({width:0});return}this._needPreventAnimation||!st()||Ht.animate(this._$range,{type:"custom",duration:100,to:e})}_optionChanged(e){switch(e.name){case"value":this._renderValue(),super._optionChanged(e);break;case"max":case"min":this._renderValue();break;default:super._optionChanged(e)}}_dispose(){Ht.stop(this._$range),super._dispose()}}St("dxTrackBar",yF);const t4="dx-progressbar-animating-segment";class CF extends yF{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{value:0,statusFormat:e=>`Progress: ${Math.round(100*e)}%`,showStatus:!0,onComplete:null,activeStateEnabled:!1,statusPosition:"bottom left",_animatingSegmentCount:0})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:e=>e.platform==="android",options:{_animatingSegmentCount:2}}])}_toggleReadOnlyState(){this.setAria("readonly",void 0)}_initMarkup(){this._renderStatus(),this._createCompleteAction(),super._initMarkup(),this.$element().addClass("dx-progressbar"),this._$wrapper.addClass("dx-progressbar-wrapper"),this._$bar.addClass("dx-progressbar-container"),this.setAria("role","progressbar"),M("<div>").addClass("dx-progressbar-range-container").appendTo(this._$wrapper).append(this._$bar),this._$range.addClass("dx-progressbar-range");const{showStatus:e}=this.option();this._toggleStatus(e)}_useTemplates(){return!1}_createCompleteAction(){this._completeAction=this._createActionByOption("onComplete")}_renderStatus(){this._$status=M("<div>").addClass("dx-progressbar-status")}_renderIndeterminateState(){this._$segmentContainer=M("<div>").addClass("dx-progressbar-animating-container");const{_animatingSegmentCount:e}=this.option();for(let t=0;t<e;t+=1)M("<div>").addClass(t4).addClass(`${t4}-${t+1}`).appendTo(this._$segmentContainer);this._$segmentContainer.appendTo(this._$wrapper)}_toggleStatus(e){const{statusPosition:t}=this.option(),n=t.split(" ");e?n[0]==="top"||n[0]==="left"?this._$status.prependTo(this._$wrapper):this._$status.appendTo(this._$wrapper):this._$status.detach(),this._togglePositionClass()}_togglePositionClass(){const{statusPosition:e}=this.option(),t=e.split(" ");this._$wrapper.removeClass("dx-position-top-left dx-position-top-right dx-position-bottom-left dx-position-bottom-right dx-position-left dx-position-right");let n=`dx-position-${t[0]}`;t[1]&&(n+=`-${t[1]}`),this._$wrapper.addClass(n)}_toggleIndeterminateState(e){if(e)this._renderIndeterminateState(),this._$bar.toggle(!1);else{var t;this._$bar.toggle(!0),(t=this._$segmentContainer)===null||t===void 0||t.remove(),delete this._$segmentContainer}}_renderValue(){const{value:e,max:t}=this.option();if(!e&&e!==0){this._toggleIndeterminateState(!0);return}this._$segmentContainer&&this._toggleIndeterminateState(!1),e===t&&this._completeAction(),super._renderValue(),this._setStatus()}_setStatus(){const{statusFormat:e}=this.option();let t=e;Ie(t)?t=t.bind(this):t=function(s){return s};const n=t(this._currentRatio,this.option("value"));this._$status.text(n)}_dispose(){this._$status.remove(),super._dispose()}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"statusFormat":this._setStatus();break;case"showStatus":this._toggleStatus(n);break;case"statusPosition":{const{showStatus:s}=this.option();this._toggleStatus(s);break}case"onComplete":this._createCompleteAction();break;case"_animatingSegmentCount":break;default:super._optionChanged(e)}}}St("dxProgressBar",CF);const wF=function(i,e,t){const n=M(i),s=t?n.scrollLeft():n.scrollTop(),r=t?"Width":"Height",o=n.prop(`scroll${r}`),a=n.prop(`client${r}`),l=o-a-s|0;if(s===0&&l===0)return!1;const d=s===0&&e>=0,c=l===0&&e<=0,h=s>0&&l>0;if(d||c||h)return!0},Qie=function(i,e){const t=M(i);return{validate(n){if(Li(n)&&(s=n.target,M(s).is(i)))return wF(t,-n.delta,n.shiftKey)?(n._needSkipEvent=!0,!0):!1;var s}}};class SF extends Jc{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{spellcheck:!0,autoResizeEnabled:!1,_shouldAttachKeyboardEvents:!1})}_shouldAttachKeyboardEvents(){const{_shouldAttachKeyboardEvents:e,readOnly:t}=this.option();return e||!t}_initMarkup(){this.$element().addClass("dx-textarea"),super._initMarkup(),this.setAria("multiline","true")}_renderContentImpl(){this._updateInputHeight(),super._renderContentImpl()}_renderInput(){super._renderInput(),this._renderScrollHandler()}_createInput(){const e=M("<textarea>");return this._applyInputAttributes(e,this.option("inputAttr")),this._updateInputAutoResizeAppearance(e),e}_setInputMinHeight(){}_renderScrollHandler(){this._eventY=0;const e=this._input(),t=Qie(e);Y.on(e,be(gl.init,this.NAME),t,Te),Y.on(e,be(mt.down,this.NAME),this._pointerDownHandler.bind(this)),Y.on(e,be(mt.move,this.NAME),this._pointerMoveHandler.bind(this))}_pointerDownHandler(e){this._eventY=On(e).y}_pointerMoveHandler(e){const t=On(e).y,n=this._eventY-t;wF(this._input(),n)&&(e.isScrollingEvent=!0,e.stopPropagation()),this._eventY=t}_renderDimensions(){const e=this.$element(),t=e.get(0),n=this._getOptionValue("width",t),s=this._getOptionValue("height",t),r=this.option("minHeight"),o=this.option("maxHeight");e.css({minHeight:r!==void 0?r:"",maxHeight:o!==void 0?o:"",width:n,height:s})}_resetDimensions(){this.$element().css({height:"",minHeight:"",maxHeight:""})}_renderEvents(){this.option("autoResizeEnabled")&&Y.on(this._input(),be("input paste",this.NAME),this._updateInputHeight.bind(this)),super._renderEvents()}_refreshEvents(){Y.off(this._input(),be("input paste",this.NAME)),super._refreshEvents()}_getHeightDifference(e){const t=_c(this.$element().get(0),!1),n=_c(this._$textEditorContainer.get(0),!1),s=_c(this._$textEditorInputContainer.get(0),!0),r=_1("height",bt().getComputedStyle(e.get(0))).margin;return t+n+s+r}_updateInputHeight(){if(!st())return;const e=this._input(),t=this.option("height"),n=t===void 0&&this.option("autoResizeEnabled");if(!(n||t===void 0&&this.option("minHeight"))){e.css("height","");return}this._resetDimensions(),this.$element().css("height",gt(this.$element())),e.css("height",0);const r=this._getHeightDifference(e);this._renderDimensions();const o=this._getBoundaryHeight("minHeight"),a=this._getMaxHeight();let l=e[0].scrollHeight;if(o!==void 0&&(l=Math.max(l,o-r)),a!==void 0){const d=this._getAdjustedMaxHeight(a,r),c=l>d;l=Math.min(l,d),this._updateInputAutoResizeAppearance(e,!c)}e.css("height",l),n&&this.$element().css("height","auto")}_getAdjustedMaxHeight(e,t){return e-t}_getMaxHeight(){return this._getBoundaryHeight("maxHeight")}_getBoundaryHeight(e){const t=this.option(e);if(G(t))return typeof t=="number"?t:V6(t,this.$element().get(0).parentElement,this.$element().get(0))}_renderInputType(){}_visibilityChanged(e){e&&this._updateInputHeight()}_updateInputAutoResizeAppearance(e,t){if(e){const n=wn(t,this.option("autoResizeEnabled"));e.toggleClass("dx-texteditor-input-auto-resize",n)}}_dimensionChanged(){this.option("visible")&&this._updateInputHeight()}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"_shouldAttachKeyboardEvents":case"autoResizeEnabled":this._updateInputAutoResizeAppearance(this._input(),n),this._refreshEvents(),this._updateInputHeight();break;case"value":case"height":super._optionChanged(e),this._updateInputHeight();break;case"minHeight":case"maxHeight":this._renderDimensions(),this._updateInputHeight();break;case"visible":super._optionChanged(e),n&&this._updateInputHeight();break;default:super._optionChanged(e)}}}St("dxTextArea",SF);const Jie={width:360,height:"auto",visible:!1},Jo={aiDialog:"dx-aidialog",aiPromptEditor:"dx-ai-prompt-editor",aiPromptEditorTextArea:"dx-ai-prompt-editor__text-area",aiPromptEditorRefreshButton:"dx-ai-prompt-editor__refresh-button",aiPromptEditorApplyButton:"dx-ai-prompt-editor__apply-button",aiPromptEditorStopButton:"dx-ai-prompt-editor__stop-button",aiPromptEditorProgressBar:"dx-ai-prompt-editor__progressbar"},n4=0,Dx=1,ese=2,ch=i=>i??"",Ax=(i,e)=>ch(i)!==ch(e);class tse{constructor(e){this.options=e,this.currentAction=null;const{container:t,createComponent:n}=e;t.addClass(Jo.aiPromptEditor),this.prompt=ch(e.prompt),this.popupInstance=n(t,PS,this.getPopupConfig())}updateButtonOption(e,t,n){this.popupInstance.option(`toolbarItems[${e}].options.${t}`,n)}updateToolbarItemVisibility(e,t){this.popupInstance.option(`toolbarItems[${e}].visible`,t)}getTextAreaConfig(){return Object.assign({value:this.prompt,height:110,stylingMode:"outlined",onValueChanged:e=>{this.updateButtonOption(Dx,"disabled",!e.value||e.value===this.prompt),this.updateButtonOption(n4,"disabled",!e.value||e.value!==this.prompt)},placeholder:ue.format("dxDataGrid-aiPromptEditorPlaceholder"),valueChangeEvent:"input change keyup"},this.options.editorOptions)}getPopupConfig(){return Object.assign({},Jie,{shading:!1,shadingColor:"transparent",dragEnabled:!0,hideOnOutsideClick:!0,showCloseButton:!0,title:ue.format("dxDataGrid-aiPromptEditorTitle"),wrapperAttr:{class:`${Jo.aiPromptEditor} ${Jo.aiDialog}`},contentTemplate:e=>{const t=M("<div>").addClass(Jo.aiPromptEditorTextArea).appendTo(e),n=M("<div>").addClass(Jo.aiPromptEditorProgressBar).appendTo(e);this.editorInstance=this.options.createComponent(t,SF,this.getTextAreaConfig()),this.progressBar=this.options.createComponent(n,CF,{value:!1,visible:!1,showStatus:!1,width:"100%"})},toolbarItems:[{toolbar:"bottom",location:"before",widget:"dxButton",options:this.getRegenerateDataButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this.getApplyButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",visible:!1,options:this.getStopButtonConfig()}]},this.options.popupOptions)}getApplyButtonConfig(){return{type:"default",icon:"arrowright",stylingMode:"contained",text:ue.format("dxDataGrid-aiPromptEditorApplyButton"),disabled:!this.editorInstance||!Ax(this.prompt,this.editorInstance.option("value")),elementAttr:{class:Jo.aiPromptEditorApplyButton},onClick:this.options.onSubmit}}getRegenerateDataButtonConfig(){return{icon:"refresh",stylingMode:"outlined",text:ue.format("dxDataGrid-aiPromptEditorRegenerateButton"),disabled:!this.prompt,elementAttr:{class:Jo.aiPromptEditorRefreshButton},onClick:this.options.onRefresh}}getStopButtonConfig(){return{type:"default",icon:"square",stylingMode:"contained",text:ue.format("dxDataGrid-aiPromptEditorStopButton"),elementAttr:{class:Jo.aiPromptEditorStopButton},onClick:this.options.onStop}}setPrompt(e){this.prompt=ch(e)}toggleDisableState(e){const t=this.getEditorValue();this.updateButtonOption(n4,"disabled",e?!0:Ax(this.prompt,t)),this.updateButtonOption(Dx,"disabled",e?!0:!Ax(this.prompt,t)),this.editorInstance.option("disabled",e),this.popupInstance.option("shading",e),this.popupInstance.option("hideOnOutsideClick",!e)}getEditorValue(){return this.editorInstance.option("value")}show(){return this.popupInstance.show()}hide(){return this.popupInstance.hide()}isVisible(){return this.popupInstance.option("visible")===!0}toggleApplyButtonVisibility(e){this.updateToolbarItemVisibility(Dx,e),this.updateToolbarItemVisibility(ese,!e)}setLoading(e){this.progressBar.option("visible",e)}updatePrompt(e){this.setPrompt(e),this.editorInstance.option("value",e)}updateStateOnAction(e){switch(this.currentAction=e,e){case"apply":case"regenerate":this.setLoading(!0),this.toggleDisableState(!0),this.toggleApplyButtonVisibility(!1);break;case"stop":this.setLoading(!1),this.toggleDisableState(!1),this.toggleApplyButtonVisibility(!0)}}updateOptions(e){this.options=e,this.updatePrompt(ch(e.prompt)),this.popupInstance.option(this.getPopupConfig())}isApplying(){return this.currentAction==="apply"}}class nse extends H0{getAIPromptEditorConfig(e){var t,n,s;const r=e.alignment==="right"?"left":"right",o=this.columnsController.getVisibleIndex(e.index);return{prompt:((t=e.ai)===null||t===void 0?void 0:t.prompt)??"",container:this.element(),createComponent:this._createComponent.bind(this),onSubmit:()=>{this.promptEditorInstance.updateStateOnAction("apply"),this.columnsController.columnOption(e.index,"ai.prompt",this.promptEditorInstance.getEditorValue(),!0)},onStop:()=>{this.promptEditorInstance.updateStateOnAction("stop"),this.aiColumnController.abortAIColumnRequest(e.name)},onRefresh:()=>{this.promptEditorInstance.updateStateOnAction("regenerate"),this.aiColumnController.sendRequest(e.name,!1,!1)},popupOptions:Object.assign({container:ve.getBody(),onHiding:()=>{this.promptEditorInstance.updateStateOnAction("stop"),this.aiColumnController.abortAIColumnRequest(e.name)},position:{my:`${r} top`,at:`${r} bottom`,of:AZ(o),collision:"fit",boundary:this.component.element()}},(n=e.ai)===null||n===void 0?void 0:n.popup),editorOptions:Object.assign({},(s=e.ai)===null||s===void 0?void 0:s.editorOptions)}}updatePromptEditorInstance(e){const t=this.getAIPromptEditorConfig(e);this.promptEditorInstance?this.promptEditorInstance.updateOptions(t):this.promptEditorInstance=new tse(t)}ensureAIPromptEditorVisibility(){const t=this.aiColumnController.getAIColumns().filter(n=>{var s;return(s=n.ai)===null||s===void 0||(s=s.popup)===null||s===void 0?void 0:s.visible});t.length>0&&this.updatePromptEditorInstance(t[0])}init(){this.columnsController=this.getController("columns"),this.aiColumnController=this.getController("aiColumn"),this.aiColumnController.aiRequestCompleted.add(()=>{var e,t;(e=this.promptEditorInstance)===null||e===void 0||e.updatePrompt(this.promptEditorInstance.getEditorValue()),(t=this.promptEditorInstance)===null||t===void 0||t.updateStateOnAction("stop")}),this.aiColumnController.aiRequestRejected.add(()=>{var e;(e=this.promptEditorInstance)===null||e===void 0||e.updateStateOnAction("stop")}),this.renderCompleted.add(()=>{this.ensureAIPromptEditorVisibility()}),this.aiColumnOptionChangedHandler=this.aiColumnOptionChanged.bind(this),this.columnsController.aiColumnOptionChanged.add(this.aiColumnOptionChangedHandler)}show(e,t){const n=M(e);return!(n!=null&&n.length)||(t==null?void 0:t.type)!==bs?Promise.resolve(!1):(this.updatePromptEditorInstance(t),this.promptEditorInstance.show())}hide(){var e;return(e=this.promptEditorInstance)===null||e===void 0?void 0:e.hide()}getPromptEditorInstance(){return this.promptEditorInstance}aiColumnOptionChanged(e,t,n){var s;const r=OS(t,n);if(r){var o;(o=this.promptEditorInstance)===null||o===void 0||o.updatePrompt(n)}if(r&&(vF(e)||(s=this.promptEditorInstance)!==null&&s!==void 0&&s.isApplying())){var a;this.aiColumnController.sendRequest(e.name,!1,!((a=this.promptEditorInstance)!==null&&a!==void 0&&a.isVisible()))}const l=Mie(t,n),d=Fie(t,n);(l||d)&&this.updatePromptEditorInstance(e),Bie(t,n)}}Ue.registerModule("aiColumn",{controllers:{aiColumn:$ie,aiPromptEditor:Hie},views:{aiPromptEditorView:nse},extenders:{views:{columnHeadersView:Zie}}});const ise="dx-select-checkboxes-hidden",zr="selection.showCheckBoxesMode",uh="selection.mode",EF=function(i,e){const t=i.getView("rowsView"),n=i.getController("selection"),s=M(e.target).closest(".dx-data-row"),r=t.getRowIndex(s);r<0||(i.option(zr)==="onLongTap"?n.isSelectionWithCheckboxes()?n.stopSelectionWithCheckboxes():n.startSelectionWithCheckboxes():(i.option(zr)==="onClick"&&n.startSelectionWithCheckboxes(),i.option(zr)!=="always"&&n.changeItemSelection(r,{control:!0})))},sse=function(i,e){let t=0;const n=i._dataController.store(),s=n==null?void 0:n.key(),r=Array.isArray(s);if(!e.length)return!1;if(r&&Array.isArray(e[0])&&e[1]==="and"){for(let o=0;o<e.length;o++)if(Array.isArray(e[o])){if(e[o][0]!==s[t]||e[o][1]!=="=")return!0;t++}return!1}return s!==e[0]},rse=(i,e)=>{const{component:t}=e,n=t.getView("rowsView");t.option("renderAsync")&&!t.option("selection.deferred")&&(e.value=t.isRowSelected(e.row.key)),n.renderSelectCheckBoxContainer(M(i),e)},ose=(i,e)=>{const{column:t}=e,n=M(i),s=e.component.getView("columnHeadersView");n.addClass("dx-editor-cell"),s._renderSelectAllCheckBox(n,t),s._attachSelectAllCheckBoxClickEvent(n)};class ase extends fn.Controller{init(){const{deferred:e,selectAllMode:t,mode:n}=this.option("selection")??{};this.option("scrolling.mode")==="infinite"&&!e&&n==="multiple"&&t==="allPages"&&pt.log("W1018"),this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._stateStoringController=this.getController("stateStoring"),this._selectionMode=n,this._isSelectionWithCheckboxes=!1,this._selection=this._createSelection(),this._updateSelectColumn(),this.createAction("onSelectionChanged",{excludeValidators:["disabled","readOnly"]}),this._dataPushedHandler||(this._dataPushedHandler=this._handleDataPushed.bind(this),this._dataController.pushed.add(this._dataPushedHandler))}_handleDataPushed(e){this._deselectRemovedOnPush(e),this._updateSelectedOnPush(e)}_deselectRemovedOnPush(e){const t=this.option("selection.deferred");let n=e.filter(s=>s.type==="remove").map(s=>s.key);if(t){const s=this._dataController.items().filter(r=>r.isSelected).map(r=>r.key);n=n.filter(r=>s.find(o=>dn(o,r)))}n.length&&this.deselectRows(n)}_updateSelectedOnPush(e){if(this.option("selection.deferred"))return;const n=e.filter(r=>r.type==="update"),s=this.getSelectedRowsData();Pl({keyInfo:this._selection.options,data:s,changes:n})}_getSelectionConfig(){const e=this._dataController,t=this._columnsController,n=this.option("selection")??{},{deferred:s}=n,r=this.option("scrolling.mode"),o=r==="virtual"||r==="infinite",a=this.option("selection.allowSelectAll"),l=this.option("scrolling.legacyMode");return{selectedKeys:this.option("selectedRowKeys"),mode:this._selectionMode,deferred:s,alwaysSelectByShift:n.alwaysSelectByShift,maxFilterLengthInRequest:n.maxFilterLengthInRequest,selectionFilter:this.option("selectionFilter"),ignoreDisabledItems:!0,isVirtualPaging:o,sensitivity:this.option("selection.sensitivity"),allowLoadByRange(){const d=t.getGroupColumns().length>0;return o&&!l&&!d&&a&&!s},key:()=>e==null?void 0:e.key(),keyOf:d=>e==null?void 0:e.keyOf(d),dataFields(){var d;return(d=e.dataSource())===null||d===void 0?void 0:d.select()},load(d){var c;return((c=e.dataSource())===null||c===void 0?void 0:c.load(d))||new de().resolve([])},plainItems:d=>e.items(!0),isItemSelected:d=>d.selected,isSelectableItem:d=>(d==null?void 0:d.rowType)==="data"&&!d.isNewRow,getItemData:d=>G(d==null?void 0:d.rowType)?(d==null?void 0:d.oldData)||(d==null?void 0:d.data):d,filter:()=>e.getCombinedFilter(s),totalCount:()=>e.totalCount(),getLoadOptions(d,c,h){var u;const{sort:p,filter:f}=((u=e.dataSource())===null||u===void 0?void 0:u.lastLoadOptions())??{};let g=Math.min(d,c),m=Math.max(d,c);G(h)&&(g=Math.min(h,g),m=Math.max(h,m));const v=m-g+1;return{skip:g,take:v,filter:f,sort:p}},onSelectionChanged:this._updateSelectedItems.bind(this)}}_updateSelectColumn(){const e=this._columnsController,t=this.isSelectColumnVisible();e.addCommandColumn({type:"selection",command:"select",visible:t,visibleIndex:-1,dataType:"boolean",alignment:"center",cssClass:"dx-command-select",width:"auto",cellTemplate:rse,headerCellTemplate:ose}),e.columnOption("command:select","visible",t)}_createSelection(){const e=this._getSelectionConfig();return new eM(e)}_fireSelectionChanged(e){const t=this.option("selection.deferred")?{selectionFilter:this.option("selectionFilter")}:{selectedRowKeys:this.option("selectedRowKeys")};this.selectionChanged.fire(t),e&&this.executeAction("onSelectionChanged",e)}_updateCheckboxesState(e){const{isDeferredMode:t}=e,{selectionFilter:n}=e,{selectedItemKeys:s}=e,{removedItemKeys:r}=e;this.option(zr)==="onClick"&&((t?n&&sse(this,n):s.length>1)?this.startSelectionWithCheckboxes():(t?n&&!n.length:s.length===0&&r.length)&&this.stopSelectionWithCheckboxes())}_updateSelectedItems(e){const t=this;let n;const s=t.option("selection.deferred"),r=t._selection.selectionFilter(),o=t._dataController,a=o.items(!0),l=o.items();if(!a)return;const d=t.isSelectionWithCheckboxes(),c=t.getChangedItemIndexes(a),h=t.getChangedItemIndexes(l);t._updateCheckboxesState({selectedItemKeys:e.selectedItemKeys,removedItemKeys:e.removedItemKeys,selectionFilter:r,isDeferredMode:s}),(c.length||d!==t.isSelectionWithCheckboxes())&&o.updateItems({changeType:"updateSelection",itemIndexes:h}),s?(t.option("selectionFilter",r),n={}):(e.addedItemKeys.length||e.removedItemKeys.length)&&(t._selectedItemsInternalChange=!0,t.option("selectedRowKeys",e.selectedItemKeys.slice(0)),t._selectedItemsInternalChange=!1,n={selectedRowsData:e.selectedItems.slice(0),selectedRowKeys:e.selectedItemKeys.slice(0),currentSelectedRowKeys:e.addedItemKeys.slice(0),currentDeselectedRowKeys:e.removedItemKeys.slice(0)}),t._fireSelectionChanged(n)}getChangedItemIndexes(e){const t=this,n=[],s=this.option("selection.deferred");for(let r=0,{length:o}=e;r<o;r++){const a=e[r],l=t.isRowSelected(s?a.data:a.key);t._selection.isDataItem(a)&&a.isSelected!==l&&n.push(r)}return n}callbackNames(){return["selectionChanged"]}optionChanged(e){var t;super.optionChanged(e);const n=!!((t=this._selection)!==null&&t!==void 0&&t.options);switch(e.name){case"selection":{const s=this._selectionMode;if(this.init(),n&&e.fullName==="selection.sensitivity"&&(this._selection.options.sensitivity=e.value),e.fullName!=="selection.showCheckBoxesMode"){const r=this._selectionMode;let o=this.option("selectedRowKeys");s!==r&&(r==="single"?o.length>1&&(o=[o[0]]):r!=="multiple"&&(o=[])),this.selectRows(o).always(()=>{this._fireSelectionChanged()})}else this.refresh().always(()=>{this._fireSelectionChanged()});this._columnsController.updateColumns(),e.handled=!0;break}case"selectionFilter":this._selection.selectionFilter(e.value),e.handled=!0;break;case"selectedRowKeys":{const s=e.value||[];Array.isArray(s)&&!this._selectedItemsInternalChange&&(this.component.getDataSource()||!s.length)&&this.selectRows(s),e.handled=!0;break}}}publicMethods(){return["selectRows","deselectRows","selectRowsByIndexes","getSelectedRowKeys","getSelectedRowsData","clearSelection","selectAll","deselectAll","startSelectionWithCheckboxes","stopSelectionWithCheckboxes","isRowSelected"]}isRowSelected(e){return this._selection.isItemSelected(e)}isSelectColumnVisible(){return this.option(uh)==="multiple"&&(this.option(zr)==="always"||this.option(zr)==="onClick"||this._isSelectionWithCheckboxes)}_isOnePageSelectAll(){return this.option("selection.selectAllMode")==="page"}isSelectAll(){return this._selection.getSelectAllState(this._isOnePageSelectAll())}selectAll(){return this.option(zr)==="onClick"&&this.startSelectionWithCheckboxes(),this._selection.selectAll(this._isOnePageSelectAll())}deselectAll(){return this._selection.deselectAll(this._isOnePageSelectAll())}clearSelection(){return this.selectedItemKeys([])}refresh(){const e=this.option("selectedRowKeys")??[];return!this.option("selection.deferred")&&e.length?this.selectedItemKeys(e):new de().resolve().promise()}selectedItemKeys(e,t,n,s){return this._selection.selectedItemKeys(e,t,n,s)}getSelectedRowKeys(e){return this._selection.getSelectedItemKeys()}selectRows(e,t){return this.selectedItemKeys(e,t)}deselectRows(e){return this.selectedItemKeys(e,!0,!0)}selectRowsByIndexes(e){const t=this._dataController.items(),n=[];return Array.isArray(e)||(e=Array.prototype.slice.call(arguments,0)),ie(e,function(){const s=t[this];s&&s.rowType==="data"&&n.push(s.key)}),this.selectRows(n)}getSelectedRowsData(e){return this._selection.getSelectedItems()}loadSelectedItemsWithFilter(){return this._selection.loadSelectedItemsWithFilter()}changeItemSelection(e,t,n){t=t||{},this.isSelectionWithCheckboxes()&&(t.control=!0);const s=e+this._dataController.getRowIndexOffset()-this._dataController.getRowIndexOffset(!0);return this._selection.changeItemSelection(s,t,n)}focusedItemIndex(e){const t=this;if(G(e))t._selection._focusedItemIndex=e;else return t._selection._focusedItemIndex}isSelectionWithCheckboxes(){return this.option(uh)==="multiple"&&(this.option(zr)==="always"||this._isSelectionWithCheckboxes)}startSelectionWithCheckboxes(){const e=this;return e.option(uh)==="multiple"&&!e.isSelectionWithCheckboxes()?(e._isSelectionWithCheckboxes=!0,e._updateSelectColumn(),!0):!1}stopSelectionWithCheckboxes(){const e=this;return e._isSelectionWithCheckboxes?(e._isSelectionWithCheckboxes=!1,e._updateSelectColumn(),!0):!1}}const lse=i=>class extends i{init(){const e=this.option("selection.deferred");super.init.apply(this,arguments),e&&this._selectionController._updateCheckboxesState({isDeferredMode:!0,selectionFilter:this.option("selectionFilter")})}_loadDataSource(){const e=this;return super._loadDataSource().always(()=>{e._selectionController.refresh()})}_processDataItem(e,t){const n=this._selectionController.isSelectColumnVisible(),s=t.isDeferredSelection=t.isDeferredSelection===void 0?this.option("selection.deferred"):t.isDeferredSelection,r=super._processDataItem.apply(this,arguments);if(r.isSelected=this._selectionController.isRowSelected(s?r.data:r.key),n&&r.values){for(let o=0;o<t.visibleColumns.length;o++)if(t.visibleColumns[o].command==="select"){r.values[o]=r.isSelected;break}}return r}refresh(e){const t=new de;return super.refresh(e).done(()=>{if(Me(e)&&!e.selection){t.resolve();return}this._selectionController.refresh().done(t.resolve).fail(t.reject)}).fail(t.reject),t.promise()}_handleDataChanged(e){const t=this.hasLoadOperation();super._handleDataChanged.apply(this,arguments),t&&!this._repaintChangesOnly&&this._selectionController.focusedItemIndex(-1)}_applyChange(e){if(e&&e.changeType==="updateSelection"){e.items.forEach((t,n)=>{const s=this._items[n];s&&(s.isSelected=t.isSelected,s.values=t.values)});return}return super._applyChange.apply(this,arguments)}_endUpdateCore(){const e=this._changes;if(e.length>1&&e.every(n=>n.changeType==="updateSelection")){const n=e.map(s=>s.itemIndexes||[]).reduce((s,r)=>s.concat(r));this._changes=[{changeType:"updateSelection",itemIndexes:n}]}super._endUpdateCore.apply(this,arguments)}},dse=i=>class extends i{_contextMenuPrepared(e){const t=e.event;t.originalEvent&&t.originalEvent.type!=="dxhold"||e.items&&e.items.length>0||EF(this,t)}},cse=i=>class extends i{init(){super.init(),this._selectionController.selectionChanged.add(this._updateSelectAllValue.bind(this))}_isSelectAllCheckBoxVisible(){const e=this._dataController.isEmpty(),t=this.option("selection.allowSelectAll"),n=this._selectionController.isSelectAll();return!e&&(t||n!==!1)}_updateSelectAllValue(){const e=this.element(),t=e==null?void 0:e.find(".dx-select-checkbox");if(e&&t.length&&this.option("selection.mode")==="multiple"){const n=this._selectionController.isSelectAll(),s=this._isSelectAllCheckBoxVisible();t.dxCheckBox("instance").option({visible:s,value:n})}}_handleDataChanged(e){super._handleDataChanged(e),(!e||e.changeType==="refresh"||e.repaintChangesOnly&&e.changeType==="update")&&this.waitAsyncTemplates().done(()=>{this._updateSelectAllValue()})}_renderSelectAllCheckBox(e,t){const n=this._createSelectAllCheckboxElement(t);return n.appendTo(e),n}_createSelectAllCheckboxElement(e){const t=M("<div>").addClass("dx-select-checkbox");return this.setAria("label",ue.format("dxDataGrid-ariaSelectAll"),t),this._editorFactoryController.createEditor(t,se({},e,{parentType:"headerRow",dataType:"boolean",value:this._selectionController.isSelectAll(),editorOptions:{visible:this._isSelectAllCheckBoxVisible()},tabIndex:this.option("useLegacyKeyboardNavigation")?-1:this.option("tabIndex")||0,setValue:(n,s)=>{const r=this.option("selection.allowSelectAll");s.component.option("visible",r||s.component.option("value")!==!1),!(!s.event||this._selectionController.isSelectAll()===n)&&(s.value&&!r?s.component.option("value",!1):s.value?this._selectionController.selectAll():this._selectionController.deselectAll(),s.event.preventDefault())}})),t}_attachSelectAllCheckBoxClickEvent(e){Y.on(e,Nt,this.createAction(t=>{const{event:n}=t;if(!this._isSelectAllCheckBoxVisible()){n.preventDefault();return}M(n.target).closest(".dx-select-checkbox").length||Y.trigger(M(n.currentTarget).children(".dx-select-checkbox"),Nt),n.preventDefault()}))}},use=i=>class extends i{renderSelectCheckBoxContainer(e,t){t.rowType==="data"&&!t.row.isNewRow?(e.addClass("dx-editor-cell"),this._attachCheckBoxClickEvent(e),this._renderSelectCheckBox(e,t)):xe.setEmptyText(e)}_renderSelectCheckBox(e,t){const n=M("<div>").addClass("dx-select-checkbox").appendTo(e);return this.setAria("label",ue.format("dxDataGrid-ariaSelectRow"),n),this._editorFactoryController.createEditor(n,se({},t.column,{parentType:"dataRow",dataType:"boolean",lookup:null,value:t.value,setValue(s,r){var o;(r==null||(o=r.event)===null||o===void 0?void 0:o.type)==="keydown"&&Y.trigger(r.element,Nt,r)},row:t.row})),n}_attachCheckBoxClickEvent(e){Y.on(e,Nt,this.createAction(function(t){const{event:n}=t,s=this.getRowIndex(M(n.currentTarget).closest(".dx-row"));s>=0&&(this._selectionController.startSelectionWithCheckboxes(),this._selectionController.changeItemSelection(s,{shift:n.shiftKey}),M(n.target).closest(".dx-select-checkbox").length&&this._dataController.updateItems({changeType:"updateSelection",itemIndexes:[s]}))}))}_update(e){const t=this,n=t.getTableElements();e.changeType==="updateSelection"?n.length>0&&(ie(n,(s,r)=>{ie(e.itemIndexes||[],(o,a)=>{let l;if(e.items[a]&&(l=t._getRowElements(M(r)).eq(a),l.length)){const{isSelected:d}=e.items[a];l.toggleClass("dx-selection",d===void 0?!1:d).find(".dx-select-checkbox").dxCheckBox("option","value",d),t.setAria("selected",d,l)}})}),t._updateCheckboxesClass()):super._update(e)}_createTable(){const e=this,t=e.option("selection.mode"),n=super._createTable.apply(e,arguments);return t!=="none"&&((e.option(zr)==="onLongTap"||!es.touch)&&Y.on(n,be(Fo.name,"dxDataGridRowsView"),".dx-data-row",e.createAction(s=>{EF(e.component,s.event),s.event.stopPropagation()})),Y.on(n,"mousedown selectstart",e.createAction(s=>{const{event:r}=s;r.shiftKey&&r.preventDefault()}))),n}_createRow(e){const t=super._createRow.apply(this,arguments);if(e){const{isSelected:n}=e;n&&t.addClass("dx-selection"),this.option(uh)!=="none"&&this.setAria("selected",n,t)}return t}_rowClickForTreeList(e){super._rowClick(e)}_rowClick(e){const t=this,n=e.event,s=M(n.target).closest(".dx-selection-disabled").length;t.isClickableElement(M(n.target))||(!s&&(t.option(uh)!=="multiple"||t.option(zr)!=="always")&&t._selectionController.changeItemSelection(e.rowIndex,{control:$n(n),shift:n.shiftKey})&&(n.preventDefault(),e.handled=!0),super._rowClick(e))}isClickableElement(e){return!!e.closest(".dx-command-select").length}_renderCore(e){const t=super._renderCore(e);return this._updateCheckboxesClass(),t}_updateCheckboxesClass(){const e=this.getTableElements(),t=this._selectionController.isSelectColumnVisible()&&!this._selectionController.isSelectionWithCheckboxes();ie(e,(n,s)=>{M(s).toggleClass(ise,t)})}},hse={defaultOptions:()=>({selection:{mode:"none",showCheckBoxesMode:"onClick",allowSelectAll:!0,selectAllMode:"allPages",deferred:!1,maxFilterLengthInRequest:1500,alwaysSelectByShift:!1},selectionFilter:[],selectedRowKeys:[]}),controllers:{selection:ase},extenders:{controllers:{data:lse,contextMenu:dse},views:{columnHeadersView:cse,rowsView:use}}};Ue.registerModule("selection",hse);const pse=["size"],fse={};class IF extends ws{constructor(e){super(e),this.state={},this.elementRef=Hn(),this.__getterCache={}}get cssStyles(){return this.__getterCache.cssStyles!==void 0?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{const{size:e}=this.props;return{fontSize:Hh("fontSize",e)}})()}get restAttributes(){const e=this.props;return Hs(e,pse)}componentWillUpdate(e){this.props.size!==e.size&&(this.__getterCache.cssStyles=void 0)}render(){const{elementRef:e,cssStyles:t}=this;return Un(1,"span","dx-checkbox-icon",null,1,{style:gee(t)},null,e)}}IF.defaultProps=fse;const mse=["dataSource","selectedRowKeys"],gse={integrationOptions:!0};function Iu(i,e,t){return{path:i,value:e,previousValue:t}}function i4(i,e,t,n,s,r){if(gse[n])return;const o=Ji(e),a=Ji(t);if(e!==t)if(o!==a)i.push(Iu(n,t,e));else if(o==="object")if(!ot(t))i.push(Iu(n,t,e));else{const l=s4(e,t,s,r);i.push(...l.map(d=>Object.assign({},d,{path:`${n}.${d.path}`})))}else if(o==="array")if(r.some(d=>s.includes(d))&&e!==t)i.push(Iu(n,t,e));else if(e.length!==t.length)i.push(Iu(n,t,e));else{const d=s4(e,t,s,r);[].push.apply(i,d.map(c=>Object.assign({},c,{path:`${n}${c.path}`})))}else i.push(Iu(n,t,e))}const TF=i=>(e,t,n,s)=>{const r=[],o=Array.isArray(e)?a=>{i4(r,e[a],t[a],`[${a}]`,`${n}.${a}`,s)}:a=>{i4(r,e[a],t[a],a,`${n}.${a}`,s)};return i(e).forEach(o),Object.keys(t).filter(a=>!Object.prototype.hasOwnProperty.call(e,a)&&e[a]!==t[a]).forEach(a=>{r.push({path:a,value:t[a],previousValue:e[a]})}),r},s4=TF(i=>Object.keys(i)),_se={key:!0,ref:!0,children:!0,style:!0},vse=TF(i=>Object.keys(i).filter(e=>!_se[e]));function xse(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mse;return vse(i,e,"",t)}const bse=["componentProps","componentType","templateNames"],r4=i=>Object.keys(i).reduce((e,t)=>(i[t]!==void 0&&(e[t]=i[t]),e),{});class MS extends Uo{constructor(e){super(e),this.state={},this.refs=null,this.widgetRef=Hn(),this.instance=null,this.prevProps=null,this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.updateWidget=this.updateWidget.bind(this)}getConfig(){const{id:e}=Xi;return this.context[e]?this.context[e]:Xi.defaultValue}render(){return r4(Un(1,"div",this.props.componentProps.className,null,1,Object.assign({},this.getRestAttributes()),null,this.widgetRef))}componentWillUpdate(e,t,n){super.componentWillUpdate(e,t,n)}createEffects(){return[new An(this.setupWidget,[]),new An(this.updateWidget,[this.props.componentProps,this.getConfig(),this.props.templateNames])]}updateEffects(){var e;const t=[this.props.componentProps,this.getConfig(),this.props.templateNames];(e=this._effects[1])===null||e===void 0||e.update(t)}setupWidget(){const e=this.widgetRef.current,t=new this.props.componentType(e,this.getProperties());return this.instance=t,()=>{t.dispose(),this.instance=null}}updateWidget(){if(!this.instance)return;const e=xse(this.prevProps??{},this.getProperties());e.length&&(this.instance.beginUpdate(),e.forEach(t=>{var n;const{path:s,value:r}=t;(n=this.instance)===null||n===void 0||n.option(s,r)}),this.instance.endUpdate()),this.prevProps=this.getProperties()}getRestAttributes(){const e=this.props;return Hs(e,bse)}getProperties(){var e;const t=r4(this.props.componentProps),{valueChange:n}=t,s=se({rtlEnabled:(e=this.getConfig())===null||e===void 0?void 0:e.rtlEnabled,isRenovated:!0},t);return n&&(s.onValueChanged=o=>{const{value:a}=o;return n(a)}),this.props.templateNames.forEach(o=>{yee(o,s)&&(s[o]=(a,l,d)=>{bee(this.props.componentProps[o],{item:a,index:l,container:d})})}),s}getInstance(){return this.instance}}const yse=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionSide","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],Cse=Object.assign({},Up,{mode:"auto",positionSide:"top",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0});class DF extends ws{constructor(e){super(e),this.state={}}get restAttributes(){const e=this.props;return Hs(e,yse)}render(){return Zr(_n(2,MS,Object.assign({componentType:uS,componentProps:this.props,templateNames:[]},this.restAttributes)))}}DF.defaultProps=Cse;const wse=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],Sse=i=>{const{classes:e,isValid:t,readOnly:n}=i,s={"dx-state-readonly":!!n,"dx-invalid":!t,[String(e)]:!!e};return Il(s)},AF=Object.assign({},NM,{readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationMessagePosition:"bottom",validationStatus:"valid",isValid:!0,isDirty:!1,inputAttr:{},defaultValue:null,valueChange:()=>{}});let kF=class extends jp{constructor(e){super(e),this.state={},this.widgetRef=Hn(),this.rootElementRef=Hn(),this.__getterCache={},this.state={validationMessageGuid:`dx-${new Xt}`,isValidationMessageVisible:!1,value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new An(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),zp()]}updateEffects(){var e;(e=this._effects)===null||e===void 0||(e=e[0])===null||e===void 0||e.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(()=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(e){const{onFocusIn:t}=this.props;t==null||t(e)}get cssClasses(){return`${Sse(Object.assign({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}`}get shouldShowValidationMessage(){const{isValid:e,validationStatus:t}=this.props,n=this.validationErrors??[];return!(e&&t!=="invalid")&&n.length>0}get aria(){const{isValid:e,readOnly:t}=this.props,n={readonly:t?"true":"false",invalid:e?"false":"true"};return this.shouldShowValidationMessage&&(n.describedBy=this.state.validationMessageGuid),Object.assign({},n,this.props.aria)}get validationErrors(){return this.__getterCache.validationErrors!==void 0?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{const{validationError:e,validationErrors:t}=this.props;let n=t&&[...t];return!n&&e&&(n=[Object.assign({},e)]),n})()}get validationMessageTarget(){var e;return(e=this.rootElementRef)===null||e===void 0?void 0:e.current}get restAttributes(){const e=this.props;return Hs(e,wse)}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(e){super.componentWillUpdate(),(this.props.validationError!==e.validationError||this.props.validationErrors!==e.validationErrors)&&(this.__getterCache.validationErrors=void 0)}render(){return Zr(_n(2,s_,Object.assign({rootElementRef:this.rootElementRef,aria:this.aria,classes:this.cssClasses,activeStateEnabled:this.props.activeStateEnabled,focusStateEnabled:this.props.focusStateEnabled,hoverStateEnabled:this.props.hoverStateEnabled,accessKey:this.props.accessKey,className:this.props.className,rtlEnabled:this.props.rtlEnabled,hint:this.props.hint,disabled:this.props.disabled,height:this.props.height,width:this.props.width,onFocusIn:this.props.onFocusIn,onClick:this.props.onClick,onKeyDown:this.props.onKeyDown,tabIndex:this.props.tabIndex,visible:this.props.visible},this.restAttributes,{children:Wo([this.props.children,this.state.isValidationMessageVisible&&_n(2,DF,{validationErrors:this.validationErrors,mode:this.props.validationMessageMode,positionSide:this.props.validationMessagePosition,rtlEnabled:this.props.rtlEnabled,target:this.validationMessageTarget,boundary:this.validationMessageTarget,visualContainer:this.validationMessageTarget,contentId:this.state.validationMessageGuid})],0)}),null,this.widgetRef))}};kF.defaultProps=AF;const Ese=["accessKey","activeStateEnabled","aria","className","classes","defaultValue","disabled","enableThreeStateBehavior","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],Ise=i=>{const{text:e,value:t}=i,n=t;return Il({"dx-checkbox":!0,"dx-checkbox-checked":n===!0,"dx-checkbox-has-text":!!e,"dx-checkbox-indeterminate":n===null})},Tse=Object.assign({},AF,{text:"",enableThreeStateBehavior:!1,activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return Oe.real().deviceType==="desktop"&&!Oe.isSimulator()},defaultValue:!1,valueChange:()=>{}});let Ug=class extends jp{constructor(e){super(e),this.editorRef=Hn(),this.state={value:this.props.value!==void 0?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[zp()]}onWidgetClick(e){const{enableThreeStateBehavior:t,readOnly:n,saveValueChangeEvent:s}=this.props;if(!n)if(s==null||s(e),t){var r,o;let d;this.setState(c=>(d=(this.props.value!==void 0?this.props.value:c.value)===null||((this.props.value!==void 0?this.props.value:c.value)?!1:null),{value:d})),(r=(o=this.props).valueChange)===null||r===void 0||r.call(o,d)}else{var a,l;let d;this.setState(c=>(d=!((this.props.value!==void 0?this.props.value:c.value)??!1),{value:d})),(a=(l=this.props).valueChange)===null||a===void 0||a.call(l,d)}}keyDown(e){const{onKeyDown:t}=this.props,{keyName:n,originalEvent:s,which:r}=e,o=t==null?void 0:t(e);if(o!=null&&o.cancel)return o;(n==="space"||r==="space")&&(s.preventDefault(),this.onWidgetClick(s))}get cssClasses(){return Ise(Object.assign({},this.props,{value:this.props.value!==void 0?this.props.value:this.state.value}))}get aria(){const e=(this.props.value!==void 0?this.props.value:this.state.value)===!0,n={role:"checkbox",checked:(this.props.value!==void 0?this.props.value:this.state.value)===null?"mixed":`${e}`};return Object.assign({},n,this.props.aria)}get restAttributes(){const e=this.props;return Hs(e,Ese)}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){const e=this.props.value!==void 0?this.props.value:this.state.value;return Zr(_n(2,kF,Object.assign({aria:this.aria,classes:this.cssClasses,onClick:this.onWidgetClick,onKeyDown:this.keyDown,accessKey:this.props.accessKey,activeStateEnabled:this.props.activeStateEnabled,focusStateEnabled:this.props.focusStateEnabled,hoverStateEnabled:this.props.hoverStateEnabled,className:this.props.className,disabled:this.props.disabled,readOnly:this.props.readOnly,hint:this.props.hint,height:this.props.height,width:this.props.width,rtlEnabled:this.props.rtlEnabled,tabIndex:this.props.tabIndex,visible:this.props.visible,validationError:this.props.validationError,validationErrors:this.props.validationErrors,validationMessageMode:this.props.validationMessageMode,validationMessagePosition:this.props.validationMessagePosition,validationStatus:this.props.validationStatus,isValid:this.props.isValid,onFocusIn:this.props.onFocusIn},this.restAttributes,{children:Wo([Zr(Un(64,"input",null,null,1,Object.assign({type:"hidden",value:`${e}`},this.props.name&&{name:this.props.name}))),Un(1,"div","dx-checkbox-container",[_n(2,IF,{size:this.props.iconSize,isChecked:e===!0}),this.props.text&&Un(1,"span","dx-checkbox-text",this.props.text,0)],0)],4)}),null,this.editorRef))}};function Dse(i){const e=["value"];return Object.keys(i).reduce((t,n)=>{const s=i[n],r=e.some(o=>o===n)?`default${n.charAt(0).toUpperCase()}${n.slice(1)}`:n;return t[r]=s,t},{})}Ug.defaultProps=Tse;const o4=[];function Ase(i){o4.push(i),Ug.defaultProps=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(Ug.defaultProps),Object.getOwnPropertyDescriptors(Dse(Fc(o4)))))}function kse(i,e){var t;return(((t=i.getRootNode)===null||t===void 0?void 0:t.call(i))??document).querySelector(e)}const a4="dx-invalid-message-auto",l4="dx-validation-target";class FS extends Wp{getProps(){const e=super.getProps();return e.onFocusIn=()=>{if(this.option("validationMessageMode")==="auto"){const n=M(kse(this.element(),".dx-invalid-message.dx-overlay-wrapper"));n==null||n.removeClass(a4);const s=150;this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{n==null||n.addClass(a4)},s)}},e.saveValueChangeEvent=t=>{this._valueChangeEventInstance=t},e}_createElement(e){super._createElement(e),this.showValidationMessageTimeout=void 0,this.validationRequest=Bt(),kn(this.$element()[0],l4,this)}_render(){var e;(e=this.option("_onMarkupRendered"))===null||e===void 0||e()}_init(){super._init(),this._initialValue=this.option("value")}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(e){super._initOptions(e),this.option(Gt.initValidationOptions(e))}_getDefaultOptions(){return se(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(e,t){const n=se({},e.option()),s=()=>this._silent(t,n);s(),e.on("optionChanged",s)}_raiseValidation(e,t){const n=!G(e)&&!G(t);e!==t&&!n&&this.validationRequest.fire({value:e,editor:this})}_raiseValueChangeAction(e,t){var n;(n=this._valueChangeAction)===null||n===void 0||n.call(this,{element:this.$element(),previousValue:t,value:e,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(e){const{name:t,previousValue:n,value:s}=e;switch(t&&this._getActionConfigs()[t]!==void 0&&this._addAction(t),t){case"value":this._raiseValidation(s,n),this.option("isDirty",this._initialValue!==s),this._raiseValueChangeAction(s,n);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(Gt.synchronizeValidationOptions(e,this.option()))}super._optionChanged(e)}clear(){const{value:e}=this._getDefaultOptions();this.option({value:e})}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0;arguments.length&&(this._initialValue=e),this.option("value",this._initialValue),this.option("isDirty",!1),this.option("isValid",!0)}_dispose(){super._dispose(),kn(this.element(),l4,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}}const Ose=to.isEditor,OF=i=>Ose(i)||i instanceof FS;FS.isEditor=OF;to.isEditor=OF;let Rse=class extends FS{_useTemplates(){return!1}_isFocused(){return this.$element()[0].classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){const e=super.getProps();return e.value!==null&&(e.value=!!e.value),e}};class Jl extends Rse{getProps(){const e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.focus(...arguments)}blur(){var e;return(e=this.viewRef)===null||e===void 0?void 0:e.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","enableThreeStateBehavior","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","isValid","isDirty","inputAttr","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return Ug}}St("dxCheckBox",Jl);Jl.defaultOptions=Ase;const js="dx-treeview",Ui=`${js}-node`,ro=`${Ui}-container`,kx=`${Ui}-loadindicator`,ea=`${Ui}-container-opened`,Tu=`${Ui}-is-leaf`,_i=`${js}-item`,Pse=`${_i}-with-checkbox`,Mse=`${_i}-with-custom-expander-icon`,Fse=`${js}-custom-expander-icon-item-container`,Bse=`${_i}-without-checkbox`,Nse=`${_i}-data`,Du=`${js}-toggle-item-visibility`,Ox=`${js}-custom-collapse-icon`,Rx=`${js}-custom-expand-icon`,Vse=`${js}-loadindicator`,Lse=`${js}-loadindicator-wrapper`,d4=`${js}-toggle-item-visibility-opened`,Uf=`${js}-select-all-item`,Kf="data-item-id",$se=`${js}-root-node`,Hse=`${js}-expander-icon-stub`;class jse extends WM{_activeStateUnit(){return`.${_i}`}_supportedKeys(){const e=s=>{const{focusedElement:r}=this.option(),o=M(r);if(!o.length)return;s.target=o.get(0),s.currentTarget=o.get(0),this._processItemClick(s,o.children(`.${_i}`));const{expandEvent:a}=this.option();this._getEventNameByOption(a)===be(Nt,"dxTreeView_expand")&&this._expandEventHandler(s)},t=s=>{s.preventDefault();const{focusedElement:r}=this.option(),o=M(r),a=this._getCheckBoxInstance(o),{disabled:l,value:d}=a.option();if(!l){const c=d;this._updateItemSelection(!c,o.find(`.${_i}`).get(0),s)}},n=(s,r)=>{const{expandAllEnabled:o}=this.option();if(!o)return;r.preventDefault();const{focusedElement:a}=this.option(),l=M(a);if(!l.length)return;const d=this._getItemData(l.find(`.${_i}`));this._toggleExpandedNestedItems([d],s)};return Object.assign({},super._supportedKeys(),{enter:this._showCheckboxes()?t:e,space:this._showCheckboxes()?t:e,asterisk:s=>{n(!0,s)},minus:s=>{n(!1,s)}})}_toggleExpandedNestedItems(e,t){if(e)for(let n=0,s=e.length;n<s;n+=1){const r=e[n],o=this._dataAdapter.getNodeByItem(r);this._toggleExpandedState(o,t),this._toggleExpandedNestedItems(r.items,t)}}_getNodeElement(e,t){const n=this._encodeString(e.internalFields.key);if(t)return t.$nodeByKey||(t.$nodeByKey={},this.$element().find(`.${Ui}`).each((o,a)=>{const l=M(a),d=l.attr(Kf);return t.$nodeByKey[d]=l,!0})),t.$nodeByKey[n]||M();const s=this.$element().get(0).querySelector(`[${Kf}="${n}"]`);return M(s)}_widgetClass(){return js}_getDefaultOptions(){const e=Object.assign({},super._getDefaultOptions(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",expandIcon:null,collapseIcon:null,selectAllText:ue.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null,_supportItemUrl:!1});return se(!0,e,{integrationOptions:{useDeferUpdateForTemplates:!1}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!es.nativeScrolling,options:{useNativeScrolling:!1}}])}_initSelectedItems(){}_syncSelectionOptions(){return de().resolve().promise()}_fireSelectionChanged(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}_createSelectAllValueChangedAction(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})}_fireSelectAllValueChanged(e){var t;(t=this._selectAllValueChangedAction)===null||t===void 0||t.call(this,{value:e})}_checkBoxModeChange(e,t){var n;const{searchEnabled:s}=this.option(),r=this._selectAllEnabled(t),o=this._itemContainer(s,r);if(this._detachClickEvent(o),this._detachExpandEvent(o),t==="none"||e==="none")return;const a=(n=this._$selectAllItem)===null||n===void 0?void 0:n.length;switch(e){case"selectAll":a||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":if(a){var l;(l=this._$selectAllItem)===null||l===void 0||l.remove(),delete this._$selectAllItem}}}_removeSelection(){ie(this._dataAdapter.getFullData(),(e,t)=>{this._hasChildren(t)&&this._dataAdapter.toggleSelection(t.internalFields.key,!1,!0)})}_optionChanged(e){const{name:t,value:n,previousValue:s}=e;switch(t){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",n);break;case"showCheckBoxesMode":this._checkBoxModeChange(n,s),this._invalidate();break;case"scrollDirection":this.getScrollable().option("direction",n);break;case"useNativeScrolling":this.getScrollable().option("useNative",n);break;case"items":delete this._$selectAllItem,super._optionChanged(e);break;case"dataSource":super._optionChanged(e),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._attachExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":case"_supportItemUrl":break;case"selectionMode":this._initDataAdapter(),super._optionChanged(e);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",e.value??!1),this.repaint();break;case"expandIcon":case"collapseIcon":this.repaint();break;default:super._optionChanged(e)}}_initDataSource(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(e=>{e!=null&&e.length&&this.option("items",e)}):(super._initDataSource(),this._isVirtualMode()&&this._initVirtualMode())}_initVirtualMode(){const e=this._filter;if(e.custom||(e.custom=this._dataSource.filter()),!e.internal){const{parentIdExpr:t,rootValue:n}=this.option();e.internal=[t,n]}}_useCustomChildrenLoader(){const{createChildren:e}=this.option();return Ie(e)&&this._isDataStructurePlain()}_loadChildrenByCustomLoader(e){const{createChildren:t}=this.option(),n=t==null?void 0:t.call(this,e);return Array.isArray(n)?de().resolve(n).promise():n&&Ie(n.then)?ci(n):de().resolve([]).promise()}_combineFilter(){var e;return(e=this._filter.custom)!==null&&e!==void 0&&e.length?[this._filter.custom,this._filter.internal]:this._filter.internal}_dataSourceLoadErrorHandler(){this._renderEmptyMessage()}_init(){this._filter={},super._init(),this._initStoreChangeHandlers()}_dataSourceChangedHandler(e){const{items:t=[]}=this.option();this._initialized&&this._isVirtualMode()&&t.length||this.option("items",e)}_removeTreeViewLoadIndicator(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)}_createTreeViewLoadIndicator(){return this._treeViewLoadIndicator=M("<div>").addClass(Vse),this._createComponent(this._treeViewLoadIndicator,Rs,{}),this._treeViewLoadIndicator}_dataSourceLoadingChangedHandler(e){let t;if(this._isVirtualMode()&&(t=this._combineFilter(),this._dataSource.filter(t)),e&&!this._dataSource.isLoaded()){this.option("items",[]);const n=M("<div>").addClass(Lse);this._createTreeViewLoadIndicator().appendTo(n),this.itemsContainer().append(n),this._isVirtualMode()&&this._dataSource.filter()!==t&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()}_initStoreChangeHandlers(){var e;const{dataStructure:t}=this.option();t==="plain"&&((e=this._dataSource)===null||e===void 0||e.store().on("inserted",n=>{const{items:s=[]}=this.option();this.option().items=s.concat(n),this._dataAdapter.addItem(n),this._dataAdapter.isFiltered(n)&&this._updateLevel(this._parentIdGetter(n))}).on("removed",n=>{const s=this._dataAdapter.getNodeByKey(n);if(G(s)){const{items:r=[]}=this.option(),o=this._dataAdapter.getIndexByKey(s.internalFields.key);r[o]=0,this._markChildrenItemsToRemove(s),this._removeItems(),this._dataAdapter.removeItem(n),this._updateLevel(this._parentIdGetter(s))}}))}_markChildrenItemsToRemove(e){const t=e==null?void 0:e.internalFields.childrenKeys;ie(t,(n,s)=>{const{items:r=[]}=this.option(),o=this._dataAdapter.getIndexByKey(s);r[o]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(s))})}_removeItems(){const e=se(!0,[],this.option("items"));let t=0;ie(e,(n,s)=>{s||(this.option("items").splice(n-t,1),t+=1)})}_updateLevel(e){const t=this._getContainerByParentKey(e);this._renderNodes(this._dataAdapter.getChildrenNodes(e),t)}_getOldContainer(e){if(e.length)return e.children(`.${ro}`);const t=this.getScrollable();return t?M(t.content()).children():M()}_getContainerByParentKey(e){const t=this._dataAdapter.getNodeByKey(e),n=t?this._getNodeElement(t):M();this._getOldContainer(n).remove();const s=this._renderNodeContainer(n);if(this._isRootLevel(e)){const r=this.getScrollable();r||this._renderScrollableContainer(),M(r.content()).append(s)}return s}_isRootLevel(e){const{rootValue:t}=this.option();return e===t}_getAccessors(){const e=super._getAccessors();return e.push("hasItems"),e}_getDataAdapterOptions(){var e,t,n;const{rootValue:s,expandNodesRecursive:r=!0,selectionRequired:o=!1,dataStructure:a="tree"}=this.option();return{rootValue:s,multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:r,searchValue:"",selectionRequired:o,dataType:a,sort:(e=this._dataSource)===null||e===void 0?void 0:e.sort(),langParams:(t=this._dataSource)===null||t===void 0||(n=t.loadOptions)===null||n===void 0||(n=n.call(t))===null||n===void 0?void 0:n.langParams}}_initMarkup(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),super._initMarkup(),this._setAriaRole()}_setAriaRole(){const{items:e}=this.option();e!=null&&e.length&&this.setAria({role:"tree"})}_renderContentImpl(){const e=this._renderNodeContainer();M(this.getScrollable().content()).append(e);const{items:t}=this.option();t!=null&&t.length&&(this._renderNodes(this._dataAdapter.getRootNodes(),e),this._attachExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(e)))}_isVirtualMode(){const{virtualModeEnabled:e,dataSource:t}=this.option();return!!e&&this._isDataStructurePlain()&&!!t}_isDataStructurePlain(){const{dataStructure:e}=this.option();return e==="plain"}_fireContentReadyAction(){const e=this.getDataSource(),t=e&&!e.isLoaded()||this._skipContentReadyAndItemExpanded,n=this.getScrollable();n&&st()&&n.update(),t||super._fireContentReadyAction(),n&&st()&&n.update()}_renderScrollableContainer(){const{useNativeScrolling:e,scrollDirection:t}=this.option();this._scrollable=this._createComponent(M("<div>").appendTo(this.$element()),ys,{useNative:e,direction:t,useKeyboard:!1})}_renderNodeContainer(e){const t=M("<ul>").addClass(ro);if(this.setAria("role","group",t),e!=null&&e.length){const n=this._getItemData(e.children(`.${_i}`));this._expandedGetter(n)&&t.addClass(ea),t.appendTo(e)}return t}_createDOMElement(e,t){var n,s;const r=M("<li>").addClass(Ui).attr(Kf,this._encodeString(t.internalFields.key)).prependTo(e),o={role:"treeitem",label:((n=this._displayGetter)===null||n===void 0?void 0:n.call(this,t.internalFields.item))??"",level:this._getLevel(e)};return!!(t!=null&&(s=t.internalFields)!==null&&s!==void 0&&(s=s.childrenKeys)!==null&&s!==void 0&&s.length)&&(o.expanded=t.internalFields.expanded??!1),this.setAria(o,r),r}_getLevel(e){const t=e.parent();return t.hasClass("dx-scrollable-content")?1:parseInt(t.attr("aria-level")??"0",10)+1}_showCheckboxes(){const{showCheckBoxesMode:e}=this.option();return e!=="none"}_hasCustomExpanderIcons(){const{expandIcon:e,collapseIcon:t}=this.option();return!!e||!!t}_selectAllEnabled(e){const{showCheckBoxesMode:t}=this.option();return(e??t)==="selectAll"&&!this._isSingleSelection()}_renderNodes(e,t){const n=e.length-1;for(let s=n;s>=0;s-=1)this._renderItem(s,e[s],t);this._renderedItemsCount+=e.length}_renderItem(e,t,n){const s=this._createDOMElement(n,t),r=t.internalFields,o=this._showCheckboxes();return s.addClass(o?Pse:Bse),s.toggleClass("dx-state-invisible",r.item.visible===!1),this._hasCustomExpanderIcons()&&(s.addClass(Mse),n.addClass(Fse)),this.setAria("selected",r.selected,s),this._toggleSelectedClass(s,r.selected),r.disabled&&this.setAria("disabled",r.disabled,s),super._renderItem(this._renderedItemsCount+e,r.item,s),this._getNode(t.internalFields.parentKey)||s.addClass($se),r.item.visible!==!1&&this._renderChildren(s,t),s}_setAriaSelectionAttribute(){}_renderChildren(e,t){if(!this._hasChildren(t)){this._addLeafClass(e),M("<div>").addClass(Hse).appendTo(this._getItem(e));return}this._hasCustomExpanderIcons()?this._renderCustomExpanderIcons(e,t):this._renderDefaultExpanderIcons(e,t),this._shouldRenderSublevel(t.internalFields.expanded)&&this._loadSublevel(t).done(n=>{this._renderSublevel(e,this._getActualNode(t),n)})}_shouldRenderSublevel(e){const{deferRendering:t}=this.option();return e||!t}_getActualNode(e){return this._dataAdapter.getNodeByKey(e.internalFields.key)}_hasChildren(e){return this._isVirtualMode()||this._useCustomChildrenLoader()?this._hasItemsGetter(e.internalFields.item)!==!1:super._hasChildren(e)}_loadSublevel(e){const t=de(),n=this._getChildNodes(e);return n.length?t.resolve(n):this._loadNestedItems(e).done(s=>{t.resolve(this._dataAdapter.getNodesByItems(s))}),t.promise()}_getItemExtraPropNames(){return["url","linkAttr"]}_addContent(e,t){const{html:n,url:s}=t,{_supportItemUrl:r}=this.option();if(r&&s){e.html(n);const o=this._getLinkContainer(this._getIconContainer(t),this._getTextContainer(t),t);e.append(o)}else super._addContent(e,t)}_postprocessRenderItem(e){const{itemData:t,itemElement:n}=e;this._showCheckboxes()&&this._renderCheckBox(n,this._getNode(t)),super._postprocessRenderItem(e)}_renderSublevel(e,t,n){const s=this._renderNodeContainer(e),r=new Set(t.internalFields.childrenKeys),o=n.filter(a=>r.has(a.internalFields.key));if(this._renderNodes(o,s),o.length&&!t.internalFields.selected){const a=o[0];this._updateParentsState(a,this._getNodeElement(a))}this._normalizeIconState(e,o.length),t.internalFields.expanded&&s.addClass(ea)}_executeItemRenderAction(e,t,n){const s=this._getNode(n);this._getItemRenderAction()({itemElement:n,itemIndex:e,itemData:t,node:this._dataAdapter.getPublicNode(s)})}_addLeafClass(e){e.addClass(Tu)}_expandEventHandler(e){M(e.currentTarget.parentNode).hasClass(Tu)||this._toggleExpandedState(e.currentTarget,void 0,e)}_attachExpandEvent(){const{expandEvent:e}=this.option(),t=this._getEventNameByOption(e),n=this._itemContainer();this._detachExpandEvent(n),Y.on(n,t,this._itemSelector(),this._expandEventHandler.bind(this))}_detachExpandEvent(e){Y.off(e,".dxTreeView_expand",this._itemSelector())}_detachHoldEvent(e){const t=this._itemSelector(),n=be(Fo.name,this.NAME);Y.off(e,n,t)}_detachContextMenuEvent(e){const t=this._itemSelector(),n=be(rS,this.NAME);Y.off(e,n,t)}_getEventNameByOption(e){return be(e==="click"?Nt:Dp,"dxTreeView_expand")}_getNode(e){if(!G(e))return null;if(mc(e))return this._dataAdapter.getNodeByKey(e);if(ot(e)&&"internalFields"in e)return e;const t=M(e).get(0);return t?ve.isElementNode(t)?this._getNodeByElement(t):this._dataAdapter.getNodeByItem(t):null}_getNodeByElement(e){const n=M(e).closest(`.${Ui}`).attr(Kf);if(!G(n))return null;const s=this._decodeString(n);return this._dataAdapter.getNodeByKey(s)}_toggleExpandedState(e,t,n){const s=this._getNode(e);if(!s||s.internalFields.disabled)return de().reject().promise();const r=s.internalFields.expanded;if(r===t)return de().resolve().promise();if(this._hasChildren(s)){const a=this._getNodeElement(s);if(a.find(`.${kx}:not(.dx-state-invisible)`).length)return de().reject().promise();!r&&!this._nodeHasRenderedChildren(a)&&this._createLoadIndicator(a)}const o=t??!r;return this._dataAdapter.toggleExpansion(s.internalFields.key,o),this._updateExpandedItemsUI(s,o,n)}_nodeHasRenderedChildren(e){return e.children(`.${ro}`).not(":empty").length}_getItem(e){return e.children(`.${_i}`).eq(0)}_createLoadIndicator(e){const t=this._getItem(e);this._createComponent(M("<div>").addClass(kx),Rs,{}).$element().appendTo(t),t.children(`.${Du},.${Rx}`).hide()}_renderExpanderIcon(e,t,n,s){n.appendTo(this._getItem(e)),n.addClass(s),t.internalFields.disabled&&n.addClass("dx-state-disabled"),this._renderToggleItemVisibilityIconClick(n,t)}_renderDefaultExpanderIcons(e,t){const n=this._getItem(e),s=M("<div>").addClass(Du).appendTo(n);t.internalFields.expanded&&(s.addClass(d4),e.parent().addClass(ea)),t.internalFields.disabled&&s.addClass("dx-state-disabled"),this._renderToggleItemVisibilityIconClick(s,t)}_renderCustomExpanderIcons(e,t){const{expandIcon:n,collapseIcon:s}=this.option(),r=Xr(n??s)??M(),o=Xr(s??n)??M();this._renderExpanderIcon(e,t,r,Rx),this._renderExpanderIcon(e,t,o,Ox);const a=t.internalFields.expanded;a&&e.parent().addClass(ea),this._toggleCustomExpanderIcons(r,o,a)}_renderToggleItemVisibilityIconClick(e,t){const n=be(Nt,this.NAME);Y.off(e,n),Y.on(e,n,s=>(this._toggleExpandedState(t.internalFields.key,void 0,s),!1))}_toggleCustomExpanderIcons(e,t,n){t.toggle(n),e.toggle(!n)}_updateExpandedItemsUI(e,t,n){const s=this._getNodeElement(e),r=!s.length||t&&s.is(":hidden"),{expandNodesRecursive:o}=this.option();if(o&&r){const c=this._getNode(e.internalFields.parentKey);c&&this._updateExpandedItemsUI(c,t,n)}if(!this._hasCustomExpanderIcons())this._getItem(s).children(`.${Du}`).toggleClass(d4,t);else if(this._nodeHasRenderedChildren(s)){const c=this._getItem(s),h=c.children(`.${Rx}`),u=c.children(`.${Ox}`);this._toggleCustomExpanderIcons(h,u,t)}const a=s.children(`.${ro}`),l=a.length>0,d=de();return!t||l&&!a.is(":empty")?(this._animateNodeContainer(e,t,n,d),d.promise()):e.internalFields.childrenKeys.length===0&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(e,t,n,d),d.promise()):(this._renderSublevel(s,e,this._getChildNodes(e)),this._fireContentReadyAction(),this._animateNodeContainer(e,t,n,d),d.promise())}_loadNestedItemsWithUpdate(e,t,n,s){const r=this._getNodeElement(e);this._loadNestedItems(e).done(o=>{const a=this._getActualNode(e);if(this._renderSublevel(r,a,this._dataAdapter.getNodesByItems(o)),!(o!=null&&o.length)){s.resolve();return}this._fireContentReadyAction(),this._animateNodeContainer(a,t,n,s)})}_loadNestedItems(e){if(this._useCustomChildrenLoader()){const n=this._dataAdapter.getPublicNode(e);return this._loadChildrenByCustomLoader(n).done(s=>{this._areNodesExists(s)||this._appendItems(s)})}if(!this._isVirtualMode())return de().resolve([]).promise();const{parentIdExpr:t}=this.option();return this._filter.internal=[t,e.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(n=>{this._areNodesExists(n)||this._appendItems(n)})}_areNodesExists(e){const t=this.keyOf(e[0]),n=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(t,n)}_appendItems(e){const{items:t=[]}=this.option();this.option().items=t.concat(e),this._initDataAdapter()}_animateNodeContainer(e,t,n,s){const r=this._getNodeElement(e),o=r.children(`.${ro}`);e&&s&&o.length===0&&s.resolve(),o.addClass(ea);const a=ht(o),{animationEnabled:l}=this.option();Ht.stop(o.get(0),!0),Ht.animate(o.get(0),{type:"custom",duration:l?400:0,from:{maxHeight:t?0:a},to:{maxHeight:t?a:0},complete:()=>{o.css("maxHeight","none"),o.toggleClass(ea,t),this.setAria("expanded",t,r),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(t,e,n),s&&s.resolve()}})}_fireExpandedStateUpdatedEvent(e,t,n){if(!this._hasChildren(t)||this._skipContentReadyAndItemExpanded)return;const s=e?"onItemExpanded":"onItemCollapsed";if(G(n))this._itemDXEventHandler(n,s,{node:this._dataAdapter.getPublicNode(t)});else{const r=this._getNodeElement(t),o={event:n,node:this._dataAdapter.getPublicNode(t)};this._itemEventHandler(r,s,o)}}_normalizeIconState(e,t){const n=e.find(`.${kx}`);if(n.length){var s;(s=Rs.getInstance(n))===null||s===void 0||s.option("visible",!1)}const o=this._getItem(e).children(`.${Ox},.${Du}`);if(t){o.show();return}o.removeClass(Du),e.addClass(Tu)}_emptyMessageContainer(){const e=this.getScrollable();return e?M(e.content()):super._emptyMessageContainer()}_renderContent(){const{items:e}=this.option();e!=null&&e.length&&(this._contentAlreadyRendered=!0),super._renderContent()}_renderSelectAllItem(e){const{selectAllText:t,focusStateEnabled:n}=this.option(),s=e??this.$element().find(`.${ro}`).first();this._$selectAllItem=M("<div>").addClass(Uf);const r=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,Jl,{value:r,elementAttr:{"aria-label":ue.format("dxList-selectAll")},text:t,focusStateEnabled:n,onValueChanged:o=>{this._onSelectAllCheckboxValueChanged(o)},onInitialized:o=>{const{component:a}=o;a.registerKeyHandler("enter",()=>{const{value:l}=a.option();a.option("value",!l)})}}),this._toggleSelectedClass(this._$selectAllItem,r),s.before(this._$selectAllItem)}_onSelectAllCheckboxValueChanged(e){this._toggleSelectAll(e),this._fireSelectAllValueChanged(e.value)}_toggleSelectAll(e){this._dataAdapter.toggleSelectAll(e.value),this._updateItemsUI(),this._fireSelectionChanged()}_renderCheckBox(e,t){const n=M("<div>").appendTo(e);this._createComponent(n,Jl,{value:t==null?void 0:t.internalFields.selected,onValueChanged:s=>{this._changeCheckboxValue(s)},focusStateEnabled:!1,elementAttr:{"aria-label":ue.format("CheckState")},disabled:this._disabledGetter(t)})}_toggleSelectedClass(e,t){e.toggleClass("dx-state-selected",!!t)}_toggleNodeDisabledState(e,t){const n=this._getNodeElement(e),s=n.find(`.${_i}`).eq(0);this._dataAdapter.toggleNodeDisabledState(e.internalFields.key,t),s.toggleClass("dx-state-disabled",!!t),this._showCheckboxes()&&this._getCheckBoxInstance(n).option("disabled",!!t)}_itemOptionChanged(e,t,n){const s=this._dataAdapter.getNodeByItem(e),{disabledExpr:r}=this.option();s&&t===r&&this._toggleNodeDisabledState(s,!!n)}_changeCheckboxValue(e){const t=M(e.element).closest(`.${Ui}`),n=this._getItem(t),s=this._getItemData(n),r=this._getNodeByElement(n),{value:o}=e;r&&r.internalFields.selected===o||this._updateItemSelection(o,s,e.event)}_isSingleSelection(){const{selectionMode:e}=this.option();return e==="single"}_isRecursiveSelection(){const{selectionMode:e,selectNodesRecursive:t}=this.option();return!!t&&e!=="single"}_isLastSelectedBranch(e,t,n){const s=t.indexOf(e.key);return s>=0&&t.splice(s,1),n&&ie(e.children,(r,o)=>{this._isLastSelectedBranch(o,t,!0)}),e.parent&&this._isLastSelectedBranch(e.parent,t),t.length===0}_isLastRequired(e){const{selectionRequired:t}=this.option(),n=this._isSingleSelection(),s=this.getSelectedNodeKeys();return t?n?s.length===1:this._isLastSelectedBranch(e.internalFields.publicNode,s.slice(),!0):!1}_updateItemSelection(e,t,n){const s=this._getNode(t);if(!s||s.visible===!1)return!1;if(s.internalFields.selected===e)return!0;if(!e&&this._isLastRequired(s)){if(this._showCheckboxes()){const a=this._getNodeElement(s);this._getCheckBoxInstance(a).option("value",!0)}return!1}if(e&&this._isSingleSelection()){const a=this.getSelectedNodeKeys();ie(a,(l,d)=>{this._dataAdapter.toggleSelection(d,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(d))})}this._dataAdapter.toggleSelection(s.internalFields.key,e);const r=this._dataAdapter.isAllSelected(),o=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==r;return this._updateItemsUI(),this._fireItemSelectionChanged(s,n),this._fireSelectionChanged(),o&&this._fireSelectAllValueChanged(r),!0}_fireItemSelectionChanged(e,t){const n=t??this._findItemElementByItem(e.internalFields.item);(t?this._itemDXEventHandler:this._itemEventHandler).call(this,n,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(e),itemData:e==null?void 0:e.internalFields.item})}_getCheckBoxInstance(e){return this._getItem(e).children(".dx-checkbox").dxCheckBox("instance")}_updateItemsUI(){const e={};if(ie(this._dataAdapter.getData(),(t,n)=>{const s=this._getNodeElement(n,e),r=n.internalFields.selected;if(s.length&&(this._toggleSelectedClass(s,r),this.setAria("selected",r,s),this._showCheckboxes())){var o;(o=this._getCheckBoxInstance(s))===null||o===void 0||o.option("value",r)}}),this._selectAllEnabled()){const t=this._$selectAllItem.dxCheckBox("instance");t.option("onValueChanged",void 0),t.option("value",this._dataAdapter.isAllSelected()),t.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}}_updateParentsState(e,t){if(!t||!e)return;const n=this._dataAdapter.getNodeByKey(e.internalFields.parentKey),s=M(t.parents(`.${Ui}`)[0]);if(this._showCheckboxes()){var r;const a=n==null?void 0:n.internalFields.selected;(r=this._getCheckBoxInstance(s))===null||r===void 0||r.option("value",a),this._toggleSelectedClass(s,a)}const{rootValue:o}=this.option();(n==null?void 0:n.internalFields.parentKey)!==o&&this._updateParentsState(n,s)}_itemEventHandlerImpl(e,t,n){const s=M(e).closest(`.${Ui}`).children(`.${_i}`);return t(se(this._extendActionArgs(s),n))}_itemContextMenuHandler(e){this._createEventHandler("onItemContextMenu",e)}_itemHoldHandler(e){this._createEventHandler("onItemHold",e)}_createEventHandler(e,t){const n=this._getNodeByElement(t.currentTarget);this._itemDXEventHandler(t,e,{node:this._dataAdapter.getPublicNode(n)})}_itemClass(){return _i}_itemDataKey(){return Nse}_attachClickEvent(){const e=this._itemContainer();this._detachClickEvent(e);const{clickEventNamespace:t,itemSelector:n,pointerDownEventNamespace:s,nodeSelector:r}=this._getItemClickEventData();Y.on(e,t,n,o=>{M(o.target).hasClass("dx-checkbox-icon")||M(o.target).hasClass("dx-checkbox")||this._processItemClick(o,M(o.currentTarget))}),Y.on(e,s,r,o=>{this._itemPointerHandler(o)})}_detachClickEvent(e){const{clickEventNamespace:t,pointerDownEventNamespace:n,nodeSelector:s,itemSelector:r}=this._getItemClickEventData();Y.off(e,t,r),Y.off(e,n,s)}_getItemClickEventData(){const e=`.${this._itemClass()}`,t=`.${Ui}, .${Uf}`,n=be(Nt,this.NAME),s=be(mt.down,this.NAME);return{clickEventNamespace:n,itemSelector:e,pointerDownEventNamespace:s,nodeSelector:t}}_itemClick(e){const{event:t,itemData:n}=e,r=((t==null?void 0:t.target[0])||(t==null?void 0:t.target)).getElementsByClassName("dx-item-url")[0];n.url&&r&&this._clickByLink(r)}_processItemClick(e,t){const n=this._getItemData(t),s=this._getNodeByElement(t);if(!s)return;this._itemDXEventHandler(e,"onItemClick",{node:this._dataAdapter.getPublicNode(s)},{beforeExecute:o=>{this._itemClick(o.args[0])}});const{selectByClick:r}=this.option();r&&!e.isDefaultPrevented()&&this._updateItemSelection(!s.internalFields.selected,n,e)}_updateSelectionToFirstItem(e,t){let n=t;for(;n>=0;){const s=M(e[n]);this._updateItemSelection(!0,s.find(`.${_i}`).get(0)),n-=1}}_updateSelectionToLastItem(e,t){const{length:n}=e;let s=t;for(;s<n;){const r=M(e[s]);this._updateItemSelection(!0,r.find(`.${_i}`).get(0)),s+=1}}focus(){const{items:e=[]}=this.option();if(this._selectAllEnabled()&&e.length){Y.trigger(this._$selectAllItem,"focus");return}super.focus()}_focusInHandler(e){this._updateFocusState(e,!0);const t=M(e.target).hasClass(Uf);if(t||this.option("focusedElement")){clearTimeout(this._setFocusedItemTimeout),this._setFocusedItemTimeout=setTimeout(()=>{const{focusedElement:s}=this.option(),r=t?We(M(this._$selectAllItem)):M(s);this._setFocusedItem(M(r))});return}const n=this._getActiveItem();this.option("focusedElement",We(n.closest(`.${Ui}`)))}_itemPointerHandler(e){const{focusStateEnabled:t}=this.option();if(!t)return;const n=M(e.target).closest(`.${Ui}, .${Uf}`);if(!n.length)return;const s=n.hasClass("dx-state-disabled")?null:n;this.option("focusedElement",We(s))}_findNonDisabledNodes(e){return e.not(`:has(>.${_i}.dx-state-disabled)`)}_moveFocus(e,t){const{rtlEnabled:n,selectByClick:s}=this.option(),r=n?"right":"left",o=n?"left":"right";this.$element().find(`.${ro}`).each((d,c)=>(Ht.stop(c,!0),!0));const a=this._nodeElements();if(!(a!=null&&a.length))return;const l=this._showCheckboxes()||s;switch(e){case"up":{const d=this._prevItem(a);this.option("focusedElement",We(d));const c=this._getNodeItemElement(d);this.getScrollable().scrollToElement(c),t.shiftKey&&l&&this._updateItemSelection(!0,c);break}case"down":{const d=this._nextItem(a);this.option("focusedElement",We(d));const c=this._getNodeItemElement(d);this.getScrollable().scrollToElement(c),t.shiftKey&&l&&this._updateItemSelection(!0,c);break}case"first":{const d=a.first();t.shiftKey&&l&&this._updateSelectionToFirstItem(a,a.index(this._prevItem(a))),this.option("focusedElement",We(d)),this.getScrollable().scrollToElement(this._getNodeItemElement(d));break}case"last":{const d=a.last();t.shiftKey&&l&&this._updateSelectionToLastItem(a,a.index(this._nextItem(a))),this.option("focusedElement",We(d)),this.getScrollable().scrollToElement(this._getNodeItemElement(d));break}case o:this._expandFocusedContainer();break;case r:this._collapseFocusedContainer();break;default:super._moveFocus(e,t)}}_getNodeItemElement(e){return e.find(`.${_i}`).get(0)}_nodeElements(){return this.$element().find(`.${Ui}`).not(":hidden")}_expandFocusedContainer(){const{focusedElement:e}=this.option(),t=M(e);if(!t.length||t.hasClass(Tu))return;if(t.find(`.${ro}`).eq(0).hasClass(ea)){const r=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));this.option("focusedElement",We(r)),this.getScrollable().scrollToElement(this._getNodeItemElement(r));return}const s=this._getNodeByElement(this._getItem(t));this._toggleExpandedState(s,!0)}_getClosestNonDisabledNode(e){let t=e;do t=t.parent().closest(`.${Ui}`);while(t.length&&(n=t,n.children(`.${_i}.dx-state-disabled`).length>0));var n;return t}_collapseFocusedContainer(){const{focusedElement:e}=this.option(),t=M(e);if(!t.length)return;const n=t.find(`.${ro}`).eq(0);if(!t.hasClass(Tu)&&n.hasClass(ea)){const s=this._getNodeByElement(this._getItem(t));this._toggleExpandedState(s,!1)}else{const s=this._getClosestNonDisabledNode(t);s.length&&this.option("focusedElement",We(s)),this.getScrollable().scrollToElement(this._getNodeItemElement(s))}}_encodeString(e){return Ke(e)?encodeURI(e):e}_decodeString(e){return Ke(e)?decodeURI(e):e}getScrollable(){return this._scrollable}updateDimensions(){const e=de(),t=this.getScrollable();return t?t.update().done(()=>{e.resolveWith(this)}):e.resolveWith(this),e.promise()}selectItem(e){return this._updateItemSelection(!0,e)}unselectItem(e){return this._updateItemSelection(!1,e)}expandItem(e){return this._toggleExpandedState(e,!0)}collapseItem(e){return this._toggleExpandedState(e,!1)}getNodes(){return this._dataAdapter.getTreeNodes()}getSelectedNodes(){return this.getSelectedNodeKeys().map(e=>{const t=this._dataAdapter.getNodeByKey(e);return this._dataAdapter.getPublicNode(t)})}getSelectedNodeKeys(){return this._dataAdapter.getSelectedNodesKeys()}selectAll(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})}unselectAll(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})}_allItemsExpandedHandler(){this._skipContentReadyAndItemExpanded=!1,this._fireContentReadyAction()}expandAll(){const e=this._dataAdapter.getData(),t=[];this._skipContentReadyAndItemExpanded=!0,e.forEach(n=>t.push(this._toggleExpandedState((n==null?void 0:n.internalFields.key)??null,!0))),Promise.allSettled(t).then(()=>{var n;return(n=this._allItemsExpandedHandler)===null||n===void 0?void 0:n.call(this)})}collapseAll(){ie(this._dataAdapter.getExpandedNodesKeys(),(e,t)=>{this._toggleExpandedState(t,!1)})}scrollToItem(e){const t=this._getNode(e);if(!t)return de().reject().promise();const n=[];let s=t.internalFields.publicNode.parent;for(;s!=null;)s.expanded||n.push(s.key),s=s.parent;const r=de();return this._expandNodes(n.reverse()).always(()=>{const o=this._getNodeElement(t);o!=null&&o.length?(this.scrollToElementTopLeft(o[0]),r.resolve()):r.reject()}),r.promise()}scrollToElementTopLeft(e){const t=this.getScrollable(),{scrollDirection:n,rtlEnabled:s}=this.option(),r={top:0,left:0},o=W8(Bg,e);if(n!==Fg){const a=M(t.container()).get(0);r.left=s?o.left+e.offsetWidth-a.clientWidth:o.left}n!==B8&&(r.top=o.top),t.scrollTo(r)}_expandNodes(e){if(!e||e.length===0)return de().resolve().promise();const t=de(),n=e.map(s=>this.expandItem(s));return Ae.apply(M,n).done(()=>t.resolve()).fail(()=>t.reject()),t.promise()}_dispose(){super._dispose(),clearTimeout(this._setFocusedItemTimeout),this._allItemsExpandedHandler=null}}Bo.setEditorClass(Jc);class Gp extends jse{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{searchValue:"",searchEnabled:!1,searchEditorOptions:{}})}_getSearchBoxControllerOptions(){const{tabIndex:e,searchEnabled:t,searchValue:n,searchTimeout:s,searchEditorOptions:r}=this.option();return{tabIndex:e,searchEnabled:t,searchValue:n,searchTimeout:s,searchEditorOptions:r,onValueChanged:o=>{this.option("searchValue",o)}}}_init(){this._searchBoxController=new Bo,super._init()}_initMarkup(){this._searchBoxController.render("dx-treeview",this.$element(),this._getSearchBoxControllerOptions(),this._createComponent.bind(this)),super._initMarkup()}_getAriaTarget(){const{searchEnabled:e}=this.option();return e?this._itemContainer(!0):super._getAriaTarget()}getSearchBoxController(){return this._searchBoxController}_optionChanged(e){const{name:t}=e;switch(t){case"searchEnabled":case"searchEditorOptions":this._invalidate();break;case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":{const{expandNodesRecursive:n}=this.option();n?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break}case"searchTimeout":break;default:super._optionChanged(e)}}_updateDataAdapter(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)}_getDataAdapterOptions(){const{searchValue:e="",searchMode:t="contains",searchExpr:n}=this.option();return Object.assign({},super._getDataAdapterOptions(),{searchValue:e,searchMode:t,searchExpr:n})}_getNodeContainer(){return this.$element().find(".dx-treeview-node-container").first()}_updateSearch(){var e;const t=this._getSearchBoxControllerOptions();(e=this._searchBoxController)===null||e===void 0||e.updateEditorOptions(t)}_repaintContainer(){const e=this._getNodeContainer();let t=[];e.length&&(e.empty(),t=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(t),this._renderNodes(t,e),this._fireContentReadyAction())}_updateFocusState(e,t){this.option("searchEnabled")&&this._toggleFocusClass(t,this.$element()),super._updateFocusState(e,t)}_focusTarget(){const{searchEnabled:e}=this.option();return this._itemContainer(e)}focus(){if(!this.option("focusedElement")&&this.option("searchEnabled")){var e;(e=this._searchBoxController)===null||e===void 0||e.focus();return}super.focus()}_cleanItemContainer(){var e;(e=this._searchBoxController)===null||e===void 0||e.remove(),this.$element().empty()}_itemContainer(e,t){const n=t??this._selectAllEnabled(),{items:s=[]}=this.option();return n&&s.length?this._getNodeContainer():this.getScrollable()&&e?M(this.getScrollable().content()):super._itemContainer()}_applyToAllItemContainers(e){this.getScrollable()&&e(M(this.getScrollable().content()));const t=this._getNodeContainer();t.length&&e(t),e(this.$element())}_attachClickEvent(){this._selectAllEnabled()&&this._applyToAllItemContainers(e=>{this._detachClickEvent(e)}),super._attachClickEvent()}_attachHoldEvent(){this._selectAllEnabled()&&this._applyToAllItemContainers(e=>{this._detachHoldEvent(e)}),super._attachHoldEvent()}_attachContextMenuEvent(){this._selectAllEnabled()&&this._applyToAllItemContainers(e=>{this._detachContextMenuEvent(e)}),super._attachContextMenuEvent()}_addWidgetClass(){this.$element().addClass(this._widgetClass())}_cleanAria(){const e=this.$element();this.setAria({role:null,activedescendant:null},e),e.attr("tabIndex",null)}_refresh(){var e;(e=this._searchBoxController)===null||e===void 0||e.resolveValueChange(),super._refresh()}_clean(){this._cleanAria(),super._clean()}dispose(){var e;(e=this._searchBoxController)===null||e===void 0||e.dispose(),super.dispose()}}St("dxTreeView",Gp);const zse={columnChooser:{enabled:!1,search:{enabled:!1,timeout:500,editorOptions:{}},selection:{allowSelectAll:!1,selectByClick:!1,recursive:!1},position:void 0,sortOrder:void 0,mode:"dragAndDrop",width:250,height:260,get title(){return ue.format("dxDataGrid-columnChooserTitle")},get emptyPanelText(){return ue.format("dxDataGrid-columnChooserEmptyText")},container:void 0}},Wse="column-chooser-mode-drag",Use="column-chooser-mode-select",Kse=["showInColumnChooser","caption","allowHiding","visible","cssClass","ownerBand"],Gse=function(i,e){const t=[],n=i.isSelectMode(),s=i.option("columnChooser.selection.recursive");return e.length&&ie(e,(r,o)=>{const a={text:o.caption,cssClass:o.cssClass,allowHiding:o.allowHiding,expanded:!0,id:o.index,disabled:o.allowHiding===!1,parentId:G(o.ownerBand)?o.ownerBand:null},l=s&&o.hasColumns;n&&!l&&(a.selected=o.visible),t.push(a)}),t};class qse extends fn.ViewController{init(){super.init(),this._rowsView=this.getView("rowsView")}renderShowColumnChooserButton(e){const t=this,n=t.addWidgetPrefix("column-chooser-button"),s=t.option("columnChooser.enabled"),r=e.find(`.${n}`);let o;s?r.length?r.show():(o=M("<div>").addClass(n).appendTo(e),t._createComponent(o,si,{icon:"column-chooser",onClick(){t.getView("columnChooserView").showColumnChooser()},hint:t.option("columnChooser.title"),integrationOptions:{}})):r.hide()}getPosition(){var e;const t=this.option("columnChooser.position");return G(t)?t:{my:"right bottom",at:"right bottom",of:(e=this._rowsView)===null||e===void 0?void 0:e.element(),collision:"fit",offset:"-2 -2",boundaryOffset:"2 2"}}}class Yse extends Bp{optionChanged(e){e.name==="columnChooser"?(this._initializePopupContainer(),this.render(null,"full")):super.optionChanged(e)}publicMethods(){return["showColumnChooser","hideColumnChooser"]}_resizeCore(){}_initializePopupContainer(){const e=this,t=e.addWidgetPrefix("column-chooser"),n=e.element().addClass(t),s=e.option("columnChooser"),r=this._columnChooserController.getPosition(),o={visible:!1,shading:!1,showCloseButton:!0,dragEnabled:!0,resizeEnabled:!0,wrapperAttr:{class:t},toolbarItems:[{text:s.title,toolbar:"top",location:"before"}],position:r,width:s.width,height:s.height,rtlEnabled:e.option("rtlEnabled"),container:s.container,_loopFocus:!0};G(this._popupContainer)?this._popupContainer.option(o):(e._popupContainer=e._createComponent(n,hr,o),e._popupContainer.on("optionChanged",a=>{a.name==="visible"&&e.renderCompleted.fire()})),this.setPopupAttributes()}setPopupAttributes(){const e=this.isSelectMode(),t=this._columnsController.isBandColumnsUsed();this._popupContainer.setAria({role:"dialog",label:ue.format("dxDataGrid-columnChooserTitle")}),this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix(Wse),!e).toggleClass(this.addWidgetPrefix(Use),e),this._popupContainer.$content().addClass(this.addWidgetPrefix("column-chooser-list")),e&&!t&&this._popupContainer.$content().addClass(this.addWidgetPrefix("column-chooser-plain"))}_renderCore(e){if(this._popupContainer){const t=!this.isSelectMode();!this._columnChooserList||e==="full"?this._renderTreeView():t&&this._updateItems()}}_renderTreeView(){var e,t,n;const s=this,r=this._popupContainer.$content(),o=this.option("columnChooser"),a=this.isSelectMode(),l=G(o.allowSearch)?o.allowSearch:(e=o.search)===null||e===void 0?void 0:e.enabled,d=G(o.searchTimeout)?o.searchTimeout:(t=o.search)===null||t===void 0?void 0:t.timeout,c={dataStructure:"plain",activeStateEnabled:!0,focusStateEnabled:!0,hoverStateEnabled:!0,itemTemplate:"item",showCheckBoxesMode:"none",rootValue:null,searchEnabled:l,searchTimeout:d,searchEditorOptions:(n=o.search)===null||n===void 0?void 0:n.editorOptions};if(se(c,a?this._prepareSelectModeConfig():this._prepareDragModeConfig()),this._columnChooserList)c.searchEnabled||(c.searchValue=""),this._columnChooserList.option(c),this._updateItems();else{this._columnChooserList=this._createComponent(r,Gp,c),this._updateItems();let h=0;this._columnChooserList.on("optionChanged",u=>{h=u.component.getScrollable().scrollTop()}),this._columnChooserList.on("contentReady",u=>{Si(()=>{u.component.getScrollable().scrollTo({y:h}),s.renderCompleted.fire()})})}}_prepareDragModeConfig(){return{noDataText:this.option("columnChooser").emptyPanelText,activeStateEnabled:!1,hoverStateEnabled:!1,itemTemplate(t,n,s){M(s).text(t.text).parent().addClass(t.cssClass).addClass("dx-column-chooser-item")}}}_prepareSelectModeConfig(){const e=this,t=this.option("columnChooser.selection")??{};let n=!1;return{selectByClick:t.selectByClick,selectNodesRecursive:t.recursive,showCheckBoxesMode:t.allowSelectAll?"selectAll":"normal",onSelectionChanged:s=>{if(n)return;const r=(o=>{const a=(l,d)=>l.reduce((c,h)=>(c.push(h),h.children.length&&a(h.children,c),c),d);return a(o,[])})(s.component.getNodes());s.component.beginUpdate(),n=!0,((o,a)=>{a.filter(l=>l.itemData.allowHiding===!1).forEach(l=>o.component.selectItem(l.key))})(s,r),s.component.endUpdate(),n=!1,e.component.beginUpdate(),this._isUpdatingColumnVisibility=!0,(o=>{o.forEach(a=>{const l=a.itemData.id,d=a.selected!==!1;e._columnsController.columnOption(l,"visible",d)})})(r),e.component.endUpdate(),this._isUpdatingColumnVisibility=!1}}}_updateItems(){const e=this.isSelectMode(),t=this._columnsController.getChooserColumns(e),n=Gse(this,t);this._columnChooserList.option("items",n)}_updateItemsSelection(e){const t=e==null?void 0:e.map(n=>this._columnsController.columnOption(n));this._columnChooserList.beginUpdate(),t==null||t.forEach(n=>{let{visible:s,index:r}=n;s?this._columnChooserList.selectItem(r):this._columnChooserList.unselectItem(r)}),this._columnChooserList.endUpdate()}_columnOptionChanged(e){super._columnOptionChanged(e);const{optionNames:t}=e,n=this.isSelectMode(),s=this.isColumnVisibilityOnlyUpdated(t),r=this._isUpdatingColumnVisibility&&s;if(!n||!this._columnChooserList||r)return;const o=G(e.columnIndex)?[e.columnIndex]:e.columnIndices;(Kse.some(d=>t[d])||e.changeTypes.columns&&t.all)&&(this._updateItemsSelection(o),s||this._updateItems())}isColumnVisibilityOnlyUpdated(e){const t=Object.keys(e??{}).filter(n=>n!=="length");return t.length===1&&t[0]==="visible"}getColumnElements(){var e;const t=[],n=this.isSelectMode(),s=this._columnsController.getChooserColumns(n),r=(e=this._popupContainer)===null||e===void 0?void 0:e.$content(),o=r==null?void 0:r.find(".dx-treeview-node");return o&&s.forEach(a=>{const l=o.filter(`[data-item-id = '${a.index}']`),d=l.length?l.children(".dx-column-chooser-item").get(0):null;t.push(d)}),M(t)}getName(){return"columnChooser"}getColumns(){return this._columnsController.getChooserColumns()}allowDragging(e){const t=this._columnsController.isParentColumnVisible(e.index),n=!e.visible&&e.allowHiding;return this.isColumnChooserVisible()&&t&&n}allowColumnHeaderDragging(e){return!this.isSelectMode()&&this.isColumnChooserVisible()&&e.allowHiding}getBoundingRect(){var e;const t=(e=this._popupContainer)===null||e===void 0?void 0:e.$overlayContent();if(t!=null&&t.is(":visible")){const n=t.offset();return{left:n.left,top:n.top,right:n.left+kt(t),bottom:n.top+gt(t)}}return null}showColumnChooser(){this._popupContainer||(this._initializePopupContainer(),this.render()),this._popupContainer.show()}hideColumnChooser(){this._popupContainer&&this._popupContainer.hide()}isColumnChooserVisible(){const e=this._popupContainer;return e==null?void 0:e.option("visible")}isSelectMode(){return this.option("columnChooser.mode")==="select"}hasHiddenColumns(){const e=this.option("columnChooser.enabled"),t=this.getColumns().filter(n=>!n.visible);return e&&t.length}}const Xse=i=>class extends i{_getToolbarItems(){const e=super._getToolbarItems();return this._appendColumnChooserItem(e)}_appendColumnChooserItem(e){const t=this;if(t.option("columnChooser.enabled")){const s=function(){t.component.getView("columnChooserView").showColumnChooser()},r=function(l){M(l.element).addClass(t._getToolbarButtonClass(t.addWidgetPrefix("column-chooser-button")))},o=t.option("columnChooser.title"),a={widget:"dxButton",options:{icon:"column-chooser",onClick:s,hint:o,text:o,onInitialized:r,elementAttr:{"aria-haspopup":"dialog"}},showText:"inMenu",location:"after",name:"columnChooserButton",locateInMenu:"auto",sortIndex:40};e.push(a)}return e}optionChanged(e){e.name==="columnChooser"?(this._invalidate(),e.handled=!0):super.optionChanged(e)}},Zse=i=>class extends i{allowMoveColumn(e,t,n,s){return this.option("columnChooser.mode")==="select"&&s==="columnChooser"?!1:super.allowMoveColumn(e,t,n,s)}},Qse=i=>class extends i{allowDragging(e){const t=!this._columnChooserView.isSelectMode(),n=this._columnChooserView.isColumnChooserVisible();return t&&n&&e.allowHiding||super.allowDragging(e)}},BS={defaultOptions:()=>zse,controllers:{columnChooser:qse},views:{columnChooserView:Yse},extenders:{views:{headerPanel:Xse,columnHeadersView:Qse},controllers:{columns:Zse}}};BS.controllers.columnChooser;BS.views.columnChooserView;Ue.registerModule("columnChooser",BS);const as={groupPanel:"dx-datagrid-group-panel",groupPanelMessage:"dx-group-panel-message",groupPanelItem:"dx-group-panel-item",groupPanelLabel:"dx-toolbar-label",groupPanelContainer:"dx-toolbar-item"},Jse="groupbycolumn",NS="ungroupcolumn",VS="ungroupallcolumns";function ed(i,e){const t=Po(e.group),n=[];for(let s=0;s<i.length;s++)n.push([t[s].selector,"=",i[s]]);return e.filter&&n.push(e.filter),xe.combineFilters(n)}function RF(i,e,t){const n=Po(e.group);let s=[];for(let r=t?i.length-1:0;r<i.length;r++){const o=[];for(let a=0;a<=r;a++){const{selector:l}=n[a];if(r===a&&(i[a]===null||i[a]===!1||i[a]===!0))i[a]===!1?o.push([l,"=",n[a].desc?!0:null]):(i[a]?!n[a].desc:n[a].desc)?o.push([l,"<>",i[a]]):(o.push([l,"<>",null]),o.push([l,"=",null]));else{const d=[l,r===a?n[a].desc?">":"<":"=",i[a]];d[1]==="<"?o.push([d,"or",[l,"=",null]]):o.push(d)}}s.push(Ue.combineFilters(o))}return s=Ue.combineFilters(s,"or"),Ue.combineFilters([s,e.filter])}const c4=function(i,e){const{hash:t}=i;return t&&t[JSON.stringify(e)]},ere=function(i,e){let t=0,n=i.length-1;if(!i.length)return 0;do{const r=n+t>>1;i[r].offset>e?n=r:t=r}while(n-t>1);let s;for(s=t;s<=n&&!(i[s].offset>e);s++);return s},PF=function(i,e,t){for(let n=0;n<i.length;n++)e+1>=t?i[n].children=[]:PF(i[n].children,e+1,t)},MF=function(i,e,t){let n=0;if(e)if(!t)n=e.length;else for(let s=0;s<e.length;s++)i.isGroupItemCountable(e[s])&&n++,n+=MF(i,e[s].items,t-1);return n};let FF=class{constructor(e){this._dataSource=e,this.reset()}reset(){this._groupsInfo=[],this._totalCountCorrection=0}totalCountCorrection(){return this._totalCountCorrection}updateTotalItemsCount(e){this._totalCountCorrection=e||0}isGroupItemCountable(e){return!this._isVirtualPaging()||!e.isContinuation}_isVirtualPaging(){const e=this._dataSource.option("scrolling.mode");return e==="virtual"||e==="infinite"}itemsCount(){const t=this._dataSource._dataSource,n=Ue.normalizeSortingInfo(t.group()||[]).length;return MF(this,t.items(),n)}foreachGroups(e,t,n,s,r){const o=this;return function a(l,d,c,h){const u=[];function p(g,m,v,_){const x=m&&g(m,v);return x&&_.push(x),x}for(let g=0;g<l.length;g++){if(h.push(l[g].data),!c&&p(d,l[g].data,h,u)===!1)return!1;if(!l[g].data||l[g].data.isExpanded||n){const{children:m}=l[g],v=m.length&&a(m,d,c,h);if(v&&u.push(v),v===!1)return!1}if(c&&p(d,l[g].data,h,u)===!1)return!1;(!l[g].data||l[g].data.offset!==l[g].offset)&&(s=!0),h.pop()}const f=r&&h.slice(0);return s&&Ae.apply(M,u).always(()=>{o._updateGroupInfoOffsets(l,f)})}(o._groupsInfo,e,t,[])}_updateGroupInfoOffsets(e,t){t=t||[];for(let n=0;n<e.length;n++){const s=e[n];if(s.data&&s.data.offset!==s.offset){s.offset=s.data.offset;for(let r=0;r<t.length;r++)t[r].offset=s.offset}}e.sort((n,s)=>n.offset-s.offset)}findGroupInfo(e){let t,n=this._groupsInfo;for(let s=0;n&&s<e.length;s++)t=c4(n,e[s]),n=t&&t.children;return t&&t.data}addGroupInfo(e){const t=this;let n;const{path:s}=e;let r=t._groupsInfo;for(let o=0;o<s.length;o++){if(n=c4(r,s[o]),!n){n={key:s[o],offset:e.offset,data:{offset:e.offset,isExpanded:!0,path:s.slice(0,o+1)},children:[]};const a=ere(r,e.offset);r.splice(a,0,n),r.hash=r.hash||{},r.hash[JSON.stringify(n.key)]=n}o===s.length-1&&(n.data=e,n.offset!==e.offset&&t._updateGroupInfoOffsets(r)),r=n.children}}allowCollapseAll(){return!0}refresh(e){const t=this,{storeLoadOptions:n}=e,s=Po(n.group||[]),r="_group"in t?Po(t._group||[]):s;let o=Math.min(r.length,s.length);t._group=n.group;for(let a=0;a<o;a++)if(!xe.isEqualSelectors(r[a].selector,s[a].selector)){o=a;break}o?PF(t._groupsInfo,0,o):t.reset()}handleDataLoading(){}handleDataLoaded(e,t){t(e)}handleDataLoadedCore(e,t){t(e)}};function bC(i,e,t,n){if(n=n||0,e>1&&t>0){let s=i-Math.floor(i/e)*e||e;return s+=t-n-2,s<0&&(s+=e),Math.floor(s/(e-n-1))}return 0}const Au=function(i,e,t){return i.foreachGroups((n,s)=>{if(n.isExpanded)return e(n,s)},!0,!1,t,t)},LS=function(i,e,t,n,s,r,o){let a;if(n.items=n.items||[],n.paths=n.paths||[],n.count=n.count||0,n.lastCount=n.lastCount||0,!!t)for(let l=0;l<e.length;l++){const d=e[l];if(d.items!==void 0){if(s.push(d.key),r)a=!0;else{const c=i.findGroupInfo(s);a=c&&c.isExpanded}a?d.items?LS(i,d.items,t-1,n,s,r,o):t===1&&d.count&&(!r||o)&&(n.items.push(d),n.paths.push(s.slice(0)),n.count+=n.lastCount,n.lastCount=d.count):(d.collapsedItems=d.items,d.items=null),s.pop()}}},tre=function(i,e,t,n,s){const r=i.findGroupInfo(n);let o;r?(t?r.count=e.count>0?e.count:e.items&&e.items.length||0:e.count=r.count||e.count,r.offset=s):(t&&(o=e.count>0?e.count:e.items.length),i.addGroupInfo({isExpanded:i._isGroupExpanded(n.length-1),path:n.slice(0),offset:s,count:o||0}))},$S=function(i,e,t,n,s,r,o){const l=(e.group?e.group.length:0)===n,d=e.remoteOperations.paging;let c=0,h=0,u;if(s=s||0,r=r||[],d&&!o&&(c=s===0?e.skip||0:e.skips[s-1]||0),s>=n)return t.length;for(let p=0;p<t.length;p++){const f=t[p];if(f){if(r.push(f.key),!f.count&&!f.items||f.items===void 0||(tre(i,f,l,r,c+p),u=f.items?$S(i,e,f.items,n,s+1,r,p):f.count||-1,u<0))return-1;h+=u,r.pop()}}return h},Px=function(i,e){return i&&i.length&&i[e]&&!!i[e].isExpanded},u4=function(i,e,t){let n,s=t;for(let r=0;r<i.length;r++)n=i[r].offset+1,r>0&&(n+=i[r-1].childrenTotalCount,e&&(n+=bC(s,e,n,r-1)*r)),s+=n;return s};function BF(i,e,t,n){const s=e.items[n],r=i.skips&&i.skips[t],o=i.takes&&i.takes[t],a=n===e.items.length-1,l=n===0,d=l&&r||0,c=s.count>o+d;l&&r!==void 0&&(s.isContinuation=!0),a&&o!==void 0&&c&&(s.isContinuationOnNextPage=!0)}function nre(i,e,t){const n=t-1,s=i.group?i.group.length:0;e.skip=i.skips&&i.skips[n],i.takes&&i.takes[n]!==void 0&&(s===t?e.take=e.count?e.count-(e.skip||0):0:e.take=0,e.take+=i.takes[n])}function NF(i){return!Array.isArray(i)}function h4(i){NF(i.data)||(i.data=new de)}function VF(i,e,t,n,s,r){e.isCustomLoading||(n={},LS(i,r,t,n,[]),nre(e,n,t));const o=e.group?e.group.length:0;n.paths.length&&o-t>0?(h4(e),ire(i,e,n,t,s,r)):n.paths.length&&e.storeLoadOptions.group?(h4(e),sre(i,e,n,r)):NF(e.data)&&e.data.resolve(r)}function ire(i,e,t,n,s,r){const o=e.group||[],a=o[s+1],l=[];ie(t.paths,d=>{var c;const h={requireTotalCount:!1,requireGroupCount:!0,group:[a],groupSummary:e.storeLoadOptions.groupSummary,filter:ed(t.paths[d],{filter:e.storeLoadOptions.filter,group:o}),select:e.storeLoadOptions.select,langParams:(c=e.storeLoadOptions)===null||c===void 0?void 0:c.langParams};d===0&&(h.skip=t.skip||0),d===t.paths.length-1&&(h.take=t.take);const u=h.take===0?[]:i._dataSource.loadFromStore(h);Ae(u).done(p=>{const f=t.items[d];BF(e,t,s,d),f.items=p}),l.push(u)}),Ae.apply(null,l).done(()=>{$S(i,e,r,n+1),VF(i,e,n+1,t,s+1,r)})}function sre(i,e,t,n){const s=[],r=e.group||[];ie(t.paths,(d,c)=>{s.push(ed(c,{group:e.isCustomLoading?e.storeLoadOptions.group:r}))});let{filter:o}=e.storeLoadOptions;e.storeLoadOptions.isLoadingAll||(o=Ue.combineFilters([o,Ue.combineFilters(s,"or")]));const a=se({},e.storeLoadOptions,{requireTotalCount:!1,requireGroupCount:!1,group:null,sort:r.concat(Ue.normalizeSortingInfo(e.storeLoadOptions.sort||[])),filter:o}),l=i._dataSource.isLastLevelGroupItemsPagingLocal();l||(a.skip=t.skip,a.take=t.take),Ae(t.take===0?[]:i._dataSource.loadFromStore(a)).done(d=>{l&&(d=i._dataSource.sortLastLevelGroupItems(d,r,t.paths),d=t.skip?d.slice(t.skip):d,d=t.take?d.slice(0,t.take):d),ie(t.items,(c,h)=>{const u=h.count-(c===0&&t.skip||0),p=d.splice(0,u);BF(e,t,r.length-1,c),h.items=p}),e.data.resolve(n)}).fail(e.data.reject)}const Mx=function(i,e){const t=new de,n=!!(e.group&&e.group.length),s=se({skip:0,take:1,requireGroupCount:n,requireTotalCount:!n},e,{group:n?e.group:null});return i.load(s).done((r,o)=>{const a=o&&(n?o.groupCount:o.totalCount);if(!isFinite(a)){t.reject(pn.Error(n?"E4022":"E4021"));return}t.resolve(a)}).fail(t.reject.bind(t)),t};let p4=class extends FF{updateTotalItemsCount(e){let t=0;const n=e.extra&&e.extra.totalCount||0,s=e.extra&&e.extra.groupCount||0,r=this._dataSource.pageSize(),o=this._isVirtualPaging();Au(this,a=>{a.childrenTotalCount=0}),Au(this,(a,l)=>{const d=u4(l,o?0:r,t);let c=a.count+a.childrenTotalCount;o||(c+=bC(d,r,c,l.length-1)),l[l.length-2]?l[l.length-2].childrenTotalCount+=c:t+=c}),super.updateTotalItemsCount(t-n+s)}_isGroupExpanded(e){const t=this._dataSource.group();return Px(t,e)}_updatePagingOptions(e,t){const n=this,s=n._isVirtualPaging(),r=n._dataSource.pageSize(),o=[],a=[];let l=0,d=0;e.take&&(Au(this,c=>{c.childrenTotalCount=0,c.skipChildrenTotalCount=0}),Au(n,(c,h)=>{let u,p=0,f=0;const g=u4(h,s?0:r,d);let m=0,v=0,_=c.count+c.childrenTotalCount,x=_;t&&t(c,g);const y=e.skip-g;g<=e.skip+e.take&&_&&(u=e.take,s||(m=bC(g,r,_,h.length-1),_+=m*h.length,x+=m,r&&y>=0&&(p=h.length,f=h.length-1,v=Math.floor(y/r))),y>=0?(g+_>e.skip&&o.unshift(y-v*p-c.skipChildrenTotalCount),g+_>=e.skip+u&&a.unshift(u-p-c.childrenTotalCount+c.skipChildrenTotalCount)):g+_>=e.skip+u&&a.unshift(u+y-c.childrenTotalCount)),g<=e.skip&&(h[h.length-2]?h[h.length-2].skipChildrenTotalCount+=Math.min(x,y+1-v*f):l+=Math.min(x,y+1)),g<=e.skip+u&&(_=Math.min(x,y+u-(v+1)*f),h[h.length-2]?h[h.length-2].childrenTotalCount+=_:d+=_)}),e.skip-=l,e.take-=d-l),e.skips=o,e.takes=a}changeRowExpand(e){const t=this.findGroupInfo(e),n=this._dataSource,s=n.remoteOperations().groupPaging,r=Ue.normalizeSortingInfo(n.group());return t?(t.isExpanded=!t.isExpanded,s&&t.isExpanded&&e.length<r.length?Mx(n,{filter:ed(e,{filter:n.lastLoadOptions().filter,group:n.group()}),group:[r[e.length]],select:n.select()}).done(o=>{t.count=o}):new de().resolve()):new de().reject()}handleDataLoading(e){const t=this,{storeLoadOptions:n}=e,s=Ue.normalizeSortingInfo(n.group||e.loadOptions.group);if(!(e.isCustomLoading||!s.length)){if(e.remoteOperations.grouping){const r=t._dataSource.remoteOperations().paging;n.group=Ue.normalizeSortingInfo(n.group),n.group.forEach((o,a)=>{const l=a===n.group.length-1;o.isExpanded=!r||!l})}e.group=e.group||s,e.remoteOperations.paging?(e.skip=n.skip,e.take=n.take,n.requireGroupCount=!0,n.group=s.slice(0,1),t._updatePagingOptions(e),n.skip=e.skip,n.take=e.take):(e.skip=e.loadOptions.skip,e.take=e.loadOptions.take,t._updatePagingOptions(e))}}handleDataLoadedCore(e,t){const n=this,s=Ue.normalizeSortingInfo(e.storeLoadOptions.group||e.loadOptions.group).length,r=e.group?e.group.length:0;let o;const a={};if(e.isCustomLoading)t(e),LS(n,e.data,s,a,[],e.isCustomLoading,e.storeLoadOptions.isLoadingAll);else{if(e.remoteOperations.paging||n.foreachGroups(l=>{l.count=0}),o=$S(n,e,e.data,s),o<0){e.data=new de().reject(pt.Error("E1037"));return}if(e.remoteOperations.paging||s&&e.extra&&e.loadOptions.requireTotalCount&&(e.extra.totalCount=o,e.extra.groupCount=e.data.length),r&&e.storeLoadOptions.requireGroupCount&&!isFinite(e.extra.groupCount)){e.data=new de().reject(pn.Error("E4022"));return}n.updateTotalItemsCount(e),e.remoteOperations.paging||(n._updatePagingOptions(e),e.lastLoadOptions.skips=e.skips,e.lastLoadOptions.takes=e.takes),t(e),e.remoteOperations.paging||n._processPaging(e,s)}VF(n,e,s,a,0,e.data)}_processSkips(e,t,n){if(!n)return;const s=e[0],r=t[0],o=s&&s.items;r!==void 0&&(s.isContinuation=!0,o&&(s.items=o.slice(r),this._processSkips(s.items,t.slice(1),n-1)))}_processTakes(e,t,n,s,r){if(!s||!e)return;r=r||[];const o=e[e.length-1];let a=o&&o.items;const l=n[0],d=t[0];if(o){const c=o.count-(o.isContinuation&&d||0)||a.length;l!==void 0&&c>l&&(o.isContinuationOnNextPage=!0,r.forEach(h=>{h.isContinuationOnNextPage=!0}),a&&(a=a.slice(0,l),o.items=a)),r.push(o),this._processTakes(a,t.slice(1),n.slice(1),s-1,r)}}_processPaging(e,t){this._processSkips(e.data,e.skips,t),this._processTakes(e.data,e.skips,e.takes,t)}isLastLevelGroupItemsPagingLocal(){return!1}sortLastLevelGroupItems(e){return e}refresh(e,t){const n=this,s=n._dataSource,{storeLoadOptions:r}=e,o=e.group||e.storeLoadOptions.group,a=Ue.normalizeSortingInfo(n._group);let l,d;function c(h,u){u.length===d+1&&(h.isExpanded=l)}for(d=0;d<a.length;d++)l=Px(o,d),Px(n._group,d)!==l&&n.foreachGroups(c);if(super.refresh.apply(this,arguments),o&&e.remoteOperations.paging&&t.reload)return Au(n,h=>{const u=Mx(s,{filter:ed(h.path,{filter:r.filter,group:o}),group:o.slice(h.path.length),select:r.select}),p=Mx(s,{filter:RF(h.path,{filter:r.filter,group:o},!0),group:o.slice(h.path.length-1,h.path.length),select:r.select});return Ae(p,u).done((f,g)=>{f=parseInt(f.length?f[0]:f),g=parseInt(g.length?g[0]:g),h.offset=f,h.count!==g&&(h.count=g,n.updateTotalItemsCount(e))})},!0)}};const Fx=function(i,e){const t=new de,n=se({skip:0,take:1,requireTotalCount:!0},e);return i.load(n).done((s,r)=>{t.resolve(r&&r.totalCount)}).fail(t.reject.bind(t)),t},Rm=function(i,e,t){return i.foreachGroups(n=>{if(!n.isExpanded)return e(n)},!1,!1,t,!0)},f4=function(i,e){let t=0,n=e||0;return e&&(Rm(i,s=>{if(s.offset-t>=e)return!1;t+=s.count-1}),n+=t),n},LF=function(i,e,t,n,s,r){let o=0,a=!1;for(let l=0;l<e.length;l++){const d=e[l];if(d.items!==void 0){t.push(d.key);const c=i.findGroupInfo(t);if(c&&!c.isExpanded)d.collapsedItems=d.items,d.items=null,n+=c.count,r--,r<0&&o++,s&&(a=!0);else if(d.items){const h=LF(i,d.items,t,n,s,r);s&&(h.offset-n>1?d.isContinuation=!0:a=!0),n=h.offset,r=h.take,r<0&&(d.items.length?d.isContinuationOnNextPage=!0:o++)}t.pop()}else s&&(a=!0),n++,r--,r<0&&o++;s=!1}return a&&e.splice(0,1),o&&e.splice(-o,o),{offset:n,take:r}},rre=function(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;t++)if(!Ap(null,i[t],e[t]))return!1;return!0},yC=function(i,e,t,n,s){if(e){for(let r=0;r<e.length;r++){const o=e[r];if("key"in o&&o.items!==void 0){t.push(o.key),s&&rre(s.path,t)&&!o.isContinuation&&(s.offset=n);const a=i.findGroupInfo(t);a&&!o.isContinuation&&(a.offset=n),a&&!a.isExpanded?n+=a.count:n=yC(i,o.items,t,n,s),t.pop()}else n++}return n}},ore=function(i,e){if(e.group){const t=Ue.normalizeSortingInfo(e.group),n=Ue.normalizeSortingInfo(i.sort);i.sort=Mo.arrangeSortingInfo(t,n),delete e.group}},are=function(i,e,t){const n=Ue.normalizeSortingInfo(t||e.group);let s=[];for(let r=0;r<i.length;r++){const o=[];for(let a=0;a<=r;a++)o.push([n[a].selector,r===a?"<>":"=",i[a]]);s.push(Ue.combineFilters(o))}return s=Ue.combineFilters(s,"or"),Ue.combineFilters([s,e.filter])},$F=function(i,e){let t=i.count||i.items.length;if(!i.count&&e>1){t=0;for(let n=0;n<i.items.length;n++)t+=$F(i.items[n],e-1)}return t};class m4 extends FF{handleDataLoading(e){const{storeLoadOptions:t}=e,n=[];let s=0,r=!1,o;const{group:a}=e.loadOptions;let l=0;if(ore(t,e.loadOptions),e.group=e.group||a,e.isCustomLoading)return;const d=se({},t);d.skip=f4(this,t.skip),d.skip&&d.take&&a&&(d.skip--,d.take++,r=!0),d.take&&a&&(o=d.take,d.take++),Rm(this,c=>{if(c.offset>=d.skip+d.take+l)return!1;c.offset>=d.skip+l&&c.count&&(l+=c.count-1,n.push(c),s+=c.count)}),ie(n,function(){d.filter=are(this.path,d,a)}),e.storeLoadOptions=d,e.collapsedGroups=n,e.collapsedItemsCount=s,e.skip=d.skip||0,e.skipFirstItem=r,e.take=o}handleDataLoaded(e,t){const n=this,{collapsedGroups:s}=e,r=Ue.normalizeSortingInfo(e.group),o=r.length;function a(l,d,c,h,u){if(!l||!d.length||!c.length)return;let p,f;const g=xi(d[0],!0);for(f=0;f<l.length&&(p=xi(l[f].key,!0),!(u>=h.offset||g===p));f++)u+=$F(l[f],c.length);(!l.length||g!==p)&&l.splice(f,0,{key:d[0],items:[],count:d.length===1?h.count:void 0}),a(l[f].items,d.slice(1),c.slice(1),h,u)}if(e.collapsedItemsCount&&e.extra&&e.extra.totalCount>=0&&(e.extra._totalCountWasIncreasedByCollapsedItems||(e.extra.totalCount+=e.collapsedItemsCount,e.extra._totalCountWasIncreasedByCollapsedItems=!0)),t(e),o){let{data:l}=e;const d=Hi(l);if(Mo.multiLevelGroup(d,r).enumerate().done(c=>{l=c}),s)for(let c=0;c<s.length;c++)a(l,s[c].path,r,s[c],e.skip);e.isCustomLoading||LF(n,l,[],e.skip,e.skipFirstItem,e.take),e.data=l}}isGroupItemCountable(e){return e.items===null}updateTotalItemsCount(){let e=0;Rm(this,t=>{t.count&&(e-=t.count-1)}),super.updateTotalItemsCount(e)}changeRowExpand(e){const t=this,n=t._dataSource,s=n.beginPageIndex?n.beginPageIndex():n.pageIndex(),r=n.items(),o=f4(t,s*n.pageSize());let a=t.findGroupInfo(e),l;return a&&!a.isExpanded?l=new de().resolve(a.count):l=Fx(n,{filter:ed(e,{filter:n.filter(),group:n.group()})}),Ae(l).done(d=>{d=parseInt(d.length?d[0]:d),a?(yC(t,r,[],o),a.isExpanded=!a.isExpanded,a.count=d):(a={offset:-1,count:d,path:e,isExpanded:!1},yC(t,r,[],o,a),a.offset>=0&&t.addGroupInfo(a)),t.updateTotalItemsCount()}).fail(function(){n._eventsStrategy.fireEvent("loadError",arguments)})}allowCollapseAll(){return!1}refresh(e,t){const n=this,{storeLoadOptions:s}=e,r=n._dataSource;if(super.refresh.apply(this,arguments),t.reload)return Rm(n,o=>{const a=Fx(r,{filter:ed(o.path,s)}),l=Fx(r,{filter:RF(o.path,s)});return Ae(l,a).done((d,c)=>{d=parseInt(d.length?d[0]:d),c=parseInt(c.length?c[0]:c),o.offset=d,o.count!==c&&(o.count=c,n.updateTotalItemsCount())})},!0)}}const lre=i=>class extends i{init(){super.init.apply(this,arguments),this._initGroupingHelper()}_initGroupingHelper(e){const t=this._grouping,n=this.option("grouping.autoExpandAll"),s=this.option("focusedRowEnabled"),r=e?e.remoteOperations:this.remoteOperations();r.filtering&&r.sorting&&r.paging&&!r.grouping&&(n||!s)?(!t||t instanceof p4)&&(this._grouping=new m4(this)):(!t||t instanceof m4)&&(this._grouping=new p4(this))}totalItemsCount(){const e=super.totalItemsCount();return e>0&&this._dataSource.group()&&this._dataSource.requireTotalCount()?e+this._grouping.totalCountCorrection():e}itemsCount(){return this._dataSource.group()?this._grouping.itemsCount()||0:super.itemsCount.apply(this,arguments)}allowCollapseAll(){return this._grouping.allowCollapseAll()}isGroupItemCountable(e){return this._grouping.isGroupItemCountable(e)}isRowExpanded(e){const t=this._grouping.findGroupInfo(e);return t?t.isExpanded:!this._grouping.allowCollapseAll()}collapseAll(e){return this._collapseExpandAll(e,!1)}expandAll(e){return this._collapseExpandAll(e,!0)}_collapseExpandAll(e,t){const n=this,s=n._dataSource,r=s.group(),o=Ue.normalizeSortingInfo(r||[]);if(o.length){for(let a=0;a<o.length;a++)e===void 0||e===a?o[a].isExpanded=t:r!=null&&r[a]&&(o[a].isExpanded=r[a].isExpanded);s.group(o),n._grouping.foreachGroups((a,l)=>{(e===void 0||e===l.length-1)&&(a.isExpanded=t)},!1,!0),n.resetPagesCache()}return!0}refresh(){return super.refresh.apply(this,arguments),this._grouping.refresh.apply(this._grouping,arguments)}changeRowExpand(e){const t=this,n=t._dataSource;if(n.group())return n.beginLoading(),t._lastLoadOptions&&(t._lastLoadOptions.groupExpand=!0),t._changeRowExpandCore(e).always(()=>{n.endLoading()})}_changeRowExpandCore(e){return this._grouping.changeRowExpand(e)}_hasGroupLevelsExpandState(e,t){if(e&&Array.isArray(e)){for(let n=0;n<e.length;n++)if(e[n].isExpanded===t)return!0}}_customizeRemoteOperations(e,t){const{remoteOperations:n}=e;e.storeLoadOptions.group?(n.grouping&&!e.isCustomLoading&&(!n.groupPaging||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!0))&&(n.paging=!1),!n.grouping&&(!n.sorting||!n.filtering||e.isCustomLoading||this._hasGroupLevelsExpandState(e.storeLoadOptions.group,!1))&&(n.paging=!1)):!e.isCustomLoading&&n.paging&&t.grouping&&this.resetCache(),super._customizeRemoteOperations.apply(this,arguments)}_handleDataLoading(e){return super._handleDataLoading(e),this._initGroupingHelper(e),this._grouping.handleDataLoading(e)}_handleDataLoaded(e){return this._grouping.handleDataLoaded(e,super._handleDataLoaded.bind(this))}_handleDataLoadedCore(e){return this._grouping.handleDataLoadedCore(e,super._handleDataLoadedCore.bind(this))}};Y0.extend(lre);const dre=i=>class extends i{init(){super.init(),this.createAction("onRowExpanding"),this.createAction("onRowExpanded"),this.createAction("onRowCollapsing"),this.createAction("onRowCollapsed")}_beforeProcessItems(e){const t=this._columnsController.getGroupColumns();return e=super._beforeProcessItems(e),e.length&&t.length&&(e=this._processGroupItems(e,t.length)),e}_processItem(e,t){return G(e.groupIndex)&&Ke(e.rowType)&&e.rowType.indexOf("group")===0?(e=this._processGroupItem(e,t),t.dataIndex=0):e=super._processItem.apply(this,arguments),e}_processGroupItem(e,t){return e}_processGroupItems(e,t,n){const s=this,r=s._columnsController.getGroupColumns(),o=r[r.length-t];if(!n){const l=s.option("scrolling.mode");n={collectContinuationItems:l!=="virtual"&&l!=="infinite",resultItems:[],path:[],values:[]}}const{resultItems:a}=n;if(n.data&&(n.collectContinuationItems||!n.data.isContinuation)&&a.push({rowType:"group",data:n.data,groupIndex:n.path.length-1,isExpanded:!!n.data.items,key:n.path.slice(0),values:n.values.slice(0)}),e)if(t===0)a.push.apply(a,e);else for(let l=0;l<e.length;l++){const d=e[l];d&&"items"in d?(n.data=d,n.path.push(d.key),n.values.push(o&&o.deserializeValue&&!o.calculateDisplayValue?o.deserializeValue(d.key):d.key),s._processGroupItems(d.items,t-1,n),n.data=void 0,n.path.pop(),n.values.pop()):a.push(d)}return a}publicMethods(){return super.publicMethods().concat(["collapseAll","expandAll","isRowExpanded","expandRow","collapseRow"])}collapseAll(e){const t=this._dataSource;t&&t.collapseAll(e)&&(t.pageIndex(0),t.reload())}expandAll(e){const t=this._dataSource;t&&t.expandAll(e)&&(t.pageIndex(0),t.reload())}changeRowExpand(e){const t=this,n=t.isRowExpanded(e),s={key:e,expanded:n};return t.executeAction(n?"onRowCollapsing":"onRowExpanding",s),s.cancel?new de().resolve():Ae(t._changeRowExpandCore(e)).done(()=>{s.expanded=!n,t.executeAction(n?"onRowCollapsed":"onRowExpanded",s)})}_changeRowExpandCore(e){const t=this,n=this._dataSource,s=new de;return n?Ae(n.changeRowExpand(e)).done(()=>{t.load().done(s.resolve).fail(s.reject)}).fail(s.reject):s.resolve(),s}isRowExpanded(e){const t=this._dataSource;return t&&t.isRowExpanded(e)}expandRow(e){return this.isRowExpanded(e)?new de().resolve():this.changeRowExpand(e)}collapseRow(e){return this.isRowExpanded(e)?this.changeRowExpand(e):new de().resolve()}optionChanged(e){e.name==="grouping"&&(e.name="dataSource"),super.optionChanged(e)}},HF=function(i,e,t){var n,s;const r=(n=this.getKeyboardNavigationController)===null||n===void 0?void 0:n.call(this);switch(t.itemData.value){case"group":var o;this.isNeedToFocusColumn=!0,r==null||(o=r.groupColumn)===null||o===void 0||o.call(r,i,e);break;case"ungroup":this.isNeedToFocusColumn=!0,r==null||(s=r.ungroupColumn)===null||s===void 0||s.call(r,i,e);break;case"ungroupAll":this.isNeedToFocusColumn=!0,r==null||r.ungroupAllColumns()}},jF=i=>{const e=i==null?void 0:i.visible;return e==="auto"?Oe.current().deviceType==="desktop":!!e},zF=(i,e)=>{const t=jF(i),n=(i==null?void 0:i.allowColumnDragging)&&(e==null?void 0:e.allowGrouping);return t&&!!n},cre=i=>class extends X6(i){_getToolbarItems(){const e=super._getToolbarItems();return this._appendGroupingItem(e)}_appendGroupingItem(e){if(this._isGroupPanelVisible()){let t=!1;const n={template:()=>{const s=M("<div>").addClass(as.groupPanel);return this._updateGroupPanelContent(s),ih("groupPanel",this,s,void 0,this._handleActionKeyDown.bind(this)),s},name:"groupPanel",onItemRendered:()=>{t&&this.renderCompleted.fire(),t=!0},location:"before",locateInMenu:"never",sortIndex:1};e.push(n),this.updateToolbarDimensions()}return e}_handleActionKeyDown(e){const{event:t}=e,n=M(t.target),s=n.closest(`.${as.groupPanelItem}`).index(),r=this._columnsController.getGroupColumns()[s],o=r&&r.index;n.is(".dx-header-filter")?this._headerFilterController.showHeaderFilterMenu(o,!0):this._processGroupItemAction(o),t.preventDefault()}_isGroupPanelVisible(){return jF(this.option("groupPanel"))}_renderGroupPanelItems(e,t){const n=this;e.empty(),ie(t,(s,r)=>{n._createGroupPanelItem(e,r)}),y1(this)}_createGroupPanelItem(e,t){const n=M("<div>").addClass(t.cssClass).addClass(as.groupPanelItem).data("columnData",t).appendTo(e).text(t.caption);return oW(this,n),n}getGroupAndUngroupItems(e){const{column:t}=e;if(this.option("grouping.contextMenuEnabled")&&t&&(G(t.allowGrouping)?t.allowGrouping:!0)){const r=G(t.groupIndex)&&t.groupIndex>-1,o=this.option("grouping.texts"),a=HF.bind(this,t,0);return[{text:o.ungroup,value:"ungroup",disabled:!r,onItemClick:a,icon:NS},{text:o.ungroupAll,value:"ungroupAll",onItemClick:a,icon:VS}]}return[]}_columnOptionChanged(e){if(!this._requireReady&&!Ue.checkChanges(e.optionNames,["width","visibleWidth"])){const t=this.element(),n=t==null?void 0:t.find(`.${as.groupPanel}`);n&&n.length&&(this._updateGroupPanelContent(n),this.updateToolbarDimensions(),this.renderCompleted.fire())}super._columnOptionChanged()}_updateGroupPanelContent(e){const t=this.getColumns(),n=this.option("groupPanel");this._renderGroupPanelItems(e,t),n.allowColumnDragging&&!t.length&&(M("<div>").addClass(as.groupPanelMessage).text(n.emptyPanelText).appendTo(e),e.closest(`.${as.groupPanelContainer}`).addClass(as.groupPanelLabel),e.closest(`.${as.groupPanelLabel}`).css("maxWidth","none"))}allowDragging(e){const t=this.option("groupPanel");return zF(t,e)}getColumnElements(){const e=this.element();return e==null?void 0:e.find(`.${as.groupPanelItem}`)}getColumns(){return this._columnsController.getGroupColumns()}getBoundingRect(){const e=this.element();if(e!=null&&e.find(`.${as.groupPanel}`).length){const t=e.offset();return{top:t.top,bottom:t.top+ht(e)}}return null}getName(){return"group"}hasGroupedColumns(){return this._isGroupPanelVisible()&&!!this.getColumns().length}optionChanged(e){e.name==="groupPanel"?(this._invalidate(),e.handled=!0):super.optionChanged(e)}getKeyboardNavigationController(){return this.getController("groupPanelKeyboardNavigation")}isColumnReorderingEnabled(e){return this.allowDragging(e)}getContextMenuItems(e){let t=super.getContextMenuItems(e);const n=M(e.targetElement).closest(`.${as.groupPanelItem}`);if(!n.length)return;e.column=this._columnsController.columnOption(`groupIndex:${n.index()}`);const s=this.getGroupAndUngroupItems(e);s!=null&&s.length&&(t=t??[],t.push(...s));const r=this.getMoveColumnContextMenuItems(e);return r!=null&&r.length&&(t=t??[],t.push(...r)),t}},ure=i=>class extends i{getContextMenuItems(e){const t=this,n=t.option("grouping.contextMenuEnabled");let s;if(n&&e.row&&e.row.rowType==="group"){const r=t._columnsController,o=r.columnOption(`groupIndex:${e.row.groupIndex}`);if(o&&o.allowGrouping){const a=t.option("grouping.texts"),l=d=>{var c,h;((c=d.itemData)===null||c===void 0?void 0:c.value)==="ungroup"?r.columnOption(o.dataField,"groupIndex",-1):((h=d.itemData)===null||h===void 0?void 0:h.value)==="ungroupAll"&&r.clearGrouping()};s=[],s.push({text:a.ungroup,value:"ungroup",onItemClick:l,icon:NS},{text:a.ungroupAll,value:"ungroupAll",onItemClick:l,icon:VS})}}return s}_rowClick(e){const t=this,n=t.option("grouping.expandMode"),r=t.option("scrolling.mode")!=="infinite"&&n==="rowClick"&&M(e.event.target).closest(".dx-group-row").length,o=M(e.event.target).closest(".dx-datagrid-expand").length;(r||o)&&t._changeGroupRowState(e),super._rowClick(e)}_changeGroupRowState(e){const t=this._dataController.items()[e.rowIndex],n=this._columnsController.columnOption(`groupIndex:${t.groupIndex}`,"allowCollapsing");(t.rowType==="data"||t.rowType==="group"&&n!==!1)&&(this._dataController.changeRowExpand(t.key,!0),e.event.preventDefault(),e.handled=!0)}},hre=i=>class extends i{getContextMenuItems(e){const t=this,n=[],s=t.option("grouping.contextMenuEnabled");let r=super.getContextMenuItems(e);if(s&&e.row&&(e.row.rowType==="header"||e.row.rowType==="detailAdaptive")){const{column:o,rowIndex:a}=e;if(!o.command&&(!G(o.allowGrouping)||o.allowGrouping)){const l=t.option("grouping.texts"),d=G(o.groupIndex)&&o.groupIndex>-1,c=HF.bind(t,o,a);n.push({text:l.groupByThisColumn,value:"group",beginGroup:!0,disabled:d,onItemClick:c,icon:Jse}),o.showWhenGrouped&&n.push({text:l.ungroup,value:"ungroup",disabled:!d,onItemClick:c,icon:NS}),n.push({text:l.ungroupAll,value:"ungroupAll",onItemClick:c,icon:VS})}}if(n.length){r=r??[];const o=r.findIndex(a=>a.name==="clearSorting")+1;r.splice(o,0,...n)}return r}allowDragging(e){const t=this.option("groupPanel");return zF(t,e)||super.allowDragging(e)}};Ue.registerModule("grouping",{defaultOptions:()=>({grouping:{autoExpandAll:!0,allowCollapsing:!0,contextMenuEnabled:!0,expandMode:"buttonClick",texts:{groupContinuesMessage:ue.format("dxDataGrid-groupContinuesMessage"),groupContinuedMessage:ue.format("dxDataGrid-groupContinuedMessage"),groupByThisColumn:ue.format("dxDataGrid-groupHeaderText"),ungroup:ue.format("dxDataGrid-ungroupHeaderText"),ungroupAll:ue.format("dxDataGrid-ungroupAllText")}},groupPanel:{visible:!1,emptyPanelText:ue.format("dxDataGrid-groupPanelEmptyText"),allowColumnDragging:!0}}),extenders:{controllers:{data:dre,columns:i=>class extends i{_getExpandColumnOptions(){const e=super._getExpandColumnOptions.apply(this,arguments);return e.cellTemplate=Ue.getExpandCellTemplate(),e}},editing:i=>class extends i{_isProcessedItem(e){return G(e.groupIndex)&&Ke(e.rowType)&&e.rowType.indexOf("group")===0}}},views:{headerPanel:cre,rowsView:ure,columnHeadersView:hre}}});const nr={detailRow:"dx-master-detail-row",detailCell:"dx-master-detail-cell",detailContainer:"master-detail-container",cellFocusDisabledClass:"dx-cell-focus-disabled",rowLines:"dx-row-lines"};function CC(i){const e=i==null?void 0:i.rowType;return e==="detail"||e==="detailAdaptive"}const pre=i=>class extends i{_getExpandColumnsCore(){const e=super._getExpandColumnsCore();return this.option("masterDetail.enabled")&&e.push({type:"detailExpand",cellTemplate:xe.getExpandCellTemplate()}),e}},Bx=function(i){i._expandedItems=[],i._isExpandAll=i.option("masterDetail.autoExpandAll")},fre=i=>class extends i{init(){Bx(this),super.init()}expandAll(e){const t=this;e<0?(t._isExpandAll=!0,t._expandedItems=[],t.updateItems()):super.expandAll.apply(t,arguments)}collapseAll(e){const t=this;e<0?(t._isExpandAll=!1,t._expandedItems=[],t.updateItems()):super.collapseAll.apply(t,arguments)}isRowExpandedHack(){return super.isRowExpanded.apply(this,arguments)}isRowExpanded(e){const t=this,n=xe.getIndexByKey(e,t._expandedItems);return Array.isArray(e)?super.isRowExpanded.apply(t,arguments):!!(t._isExpandAll^(n>=0&&t._expandedItems[n].visible))}_getRowIndicesForExpand(e){const t=this.getRowIndexByKey(e);return[t,t+1]}_changeRowExpandCore(e){const t=this;let n;if(Array.isArray(e))n=super._changeRowExpandCore.apply(t,arguments);else{const s=xe.getIndexByKey(e,t._expandedItems);if(s>=0){const{visible:r}=t._expandedItems[s];t._expandedItems[s].visible=!r}else t._expandedItems.push({key:e,visible:!0});t.updateItems({changeType:"update",rowIndices:t._getRowIndicesForExpand(e)}),n=new de().resolve()}return n}_processDataItemHack(){return super._processDataItem.apply(this,arguments)}_processDataItem(e,t){const n=super._processDataItem.apply(this,arguments);return n.isExpanded=this.isRowExpanded(n.key),t.detailColumnIndex===void 0&&(t.detailColumnIndex=-1,ie(t.visibleColumns,(s,r)=>{if(r.command==="expand"&&!G(r.groupIndex))return t.detailColumnIndex=s,!1})),t.detailColumnIndex>=0&&(n.values[t.detailColumnIndex]=n.isExpanded),n}_processItemsHack(){return super._processItems.apply(this,arguments)}_processItems(e,t){const n=this,{changeType:s}=t,r=[];return e=super._processItems.apply(n,arguments),s==="loadingAll"?e:(s==="refresh"&&(n._expandedItems=Qi(n._expandedItems,o=>o.visible)),ie(e,(o,a)=>{r.push(a);const l=xe.getIndexByKey(a.key,n._expandedItems);a.rowType==="data"&&(a.isExpanded||l>=0)&&!a.isNewRow&&r.push({visible:a.isExpanded,rowType:"detail",key:a.key,data:a.data,values:[]})}),r)}optionChanged(e){const t=this;let n,s;if(e.name==="masterDetail"){switch(e.name="dataSource",e.fullName){case"masterDetail":{const r=e.value||{},o=e.previousValue||{};n=r.enabled!==o.enabled,s=r.autoExpandAll!==o.autoExpandAll;break}case"masterDetail.template":Bx(t);break;case"masterDetail.enabled":n=!0;break;case"masterDetail.autoExpandAll":s=!0}(n||s)&&Bx(t)}super.optionChanged(e)}},mre=i=>class extends i{fireContentReadyAction(){super.fireContentReadyAction.apply(this,arguments),this._updateParentDataGrids(this.component.$element())}_updateParentDataGrids(e){const t=e.closest(`.${nr.detailRow}`);t.length&&Ae(this._updateMasterDataGrid(t,e)).done(()=>{this._updateParentDataGrids(t.parent())})}_updateMasterDataGrid(e,t){const n=M(e).data("options"),s=M(e).closest(`.${this.getWidgetContainerClass()}`).parent().data("dxDataGrid");if(n&&s)return this._updateMasterDataGridCore(s,n)}_updateMasterDataGridCore(e,t){var n,s;const r=de();if((n=e.getView("rowsView"))!==null&&n!==void 0&&(s=n.isFixedColumns)!==null&&s!==void 0&&s.call(n))this._updateFixedMasterDetailGrids(e,t.rowIndex,M(t.rowElement)).done(r.resolve);else{if(e.option("scrolling.useNative")===!0){e.updateDimensions().done(()=>r.resolve(!0));return}const o=e.getScrollable();o?o==null||o.update().done(()=>r.resolve()):r.resolve()}return r.promise()}_updateFixedMasterDetailGrids(e,t,n){const s=de(),r=M(e.getRowElement(t)),o=M(e.getView("rowsView").getTableElements()),a=(r==null?void 0:r.length)===2&&ht(r.eq(0))!==ht(r.eq(1)),l=(o==null?void 0:o.length)===2&&ht(o.eq(0))!==ht(o.eq(1));if(a||l){const d=Xe(n);return e.updateDimensions().done(()=>{const c=this.option("columnAutoWidth")&&e.option("scrolling.useNative")===!0,h=c&&d!==Xe(n);c&&h?this.updateDimensions().done(()=>s.resolve(!0)):s.resolve(!0)}),s.promise()}return de().resolve()}_toggleBestFitMode(e){if(super._toggleBestFitMode.apply(this,arguments),!this.option("masterDetail.template"))return;const n=this._rowsView.getTableElement();if(n){const s=`.${this.addWidgetPrefix(nr.detailContainer)}, .${nr.detailCell}`;n.find(s).css("maxWidth",e?0:"")}}},gre=i=>class extends i{_getCellTemplate(e){const t=this,{column:n}=e,s=this._editingController,r=s&&s.isEditRow(e.rowIndex);let o;return n.command==="detail"&&!r?o=t.option("masterDetail.template")||{allowRenderToDetachedContainer:!1,render:t._getDefaultTemplate(n)}:o=super._getCellTemplate.apply(t,arguments),o}_createRow(e){const t=super._createRow.apply(this,arguments);if(CC(e)){const s=this.option("showRowLines");t.addClass(nr.detailRow).toggleClass(nr.rowLines,s),G(e.visible)&&t.toggle(e.visible)}return t}_renderCells(e,t){const{row:n}=t;CC(n)?this._needRenderCell(0,t.columnIndices)&&this._renderMasterDetailCell(e,n,t):super._renderCells.apply(this,arguments)}_renderMasterDetailCell(e,t,n){const s=this._columnsController.getVisibleColumns(),r=this._renderCell(e,{value:null,row:t,rowIndex:t.rowIndex,column:{command:"detail"},columnIndex:0,change:n.change});return r.addClass(nr.cellFocusDisabledClass).addClass(nr.detailCell).attr("colSpan",s.length),t.isEditing||r.attr("aria-roledescription",ue.format("dxDataGrid-masterDetail")),r}},_re={defaultOptions:()=>({masterDetail:{enabled:!1,autoExpandAll:!1,template:null}}),extenders:{controllers:{columns:pre,data:fre,resizing:mre},views:{rowsView:gre}}};Ue.registerModule("masterDetail",_re);St("dxTextEditor",yS);const vre="dx-numberbox-spin",xre="dx-numberbox-spin-button",WF="dxNumberBox",g4=be(mt.up,WF),_4=be(mt.cancel,WF);class Ad extends Oi{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})}_initMarkup(){super._initMarkup();const{direction:e}=this.option(),t=`${vre}-${e}`;this.$element().addClass(xre).addClass(t),this._spinIcon=M("<div>").addClass(`${t}-icon`).appendTo(this.$element())}_render(){super._render();const e=be(mt.down,this.NAME),t=this.$element();Y.off(t,e),Y.on(t,e,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")}_spinDownHandler(e){e.preventDefault(),this._clearTimer(),Y.on(this.$element(),Fo.name,()=>{this._feedBackDeferred=de(),tY(this._feedBackDeferred),this._spinChangeHandler({event:e}),this._holdTimer=setInterval(this._spinChangeHandler,100,{event:e})});const t=ve.getDocument();Y.on(t,g4,this._clearTimer.bind(this)),Y.on(t,_4,this._clearTimer.bind(this)),this._spinChangeHandler({event:e})}_dispose(){this._clearTimer(),super._dispose()}_clearTimer(){Y.off(this.$element(),Fo.name);const e=ve.getDocument();Y.off(e,g4),Y.off(e,_4),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)}_optionChanged(e){switch(e.name){case"onChange":case"direction":this._invalidate();break;default:super._optionChanged(e)}}}const bre="dx-numberbox-spin",yre="dx-numberbox-spin-container",Cre="dx-numberbox-spin-touch-friendly";class wre extends r_{_attachEvents(e,t){const{editor:n}=this;if(!n)return;const s=be(mt.down,n.NAME??""),r=t.children(),o=n._createAction(a=>{var l;(l=this.editor)===null||l===void 0||l._spinButtonsPointerDownHandler(a)});Y.off(t,s),Y.on(t,s,a=>o({event:a})),Ad.getInstance(r.eq(0)).option("onChange",a=>{var l;(l=this.editor)===null||l===void 0||l._spinUpChangeHandler(a)}),Ad.getInstance(r.eq(1)).option("onChange",a=>{var l;(l=this.editor)===null||l===void 0||l._spinDownChangeHandler(a)})}_create(){const{editor:e}=this,t=M("<div>").addClass(yre),n=M("<div>").appendTo(t),s=M("<div>").appendTo(t),r=this._getOptions();return this._addToContainer(t),e==null||e._createComponent(n,Ad,se({direction:"up"},r)),e==null||e._createComponent(s,Ad,se({direction:"down"},r)),this._legacyRender(e==null?void 0:e.$element(),this._isTouchFriendly(),r.visible),{instance:t,$element:t}}_getOptions(){const{editor:e}=this,t=this._isVisible(),n=e==null?void 0:e.option("disabled");return{visible:t,disabled:n}}_isVisible(){const{editor:e}=this;return super._isVisible()&&(e==null?void 0:e.option("showSpinButtons"))}_isTouchFriendly(){const{editor:e}=this;return(e==null?void 0:e.option("showSpinButtons"))&&(e==null?void 0:e.option("useLargeSpinButtons"))}_legacyRender(e,t,n){e.toggleClass(Cre,t),e.toggleClass(bre,n)}update(){if(super.update()){const{editor:t,instance:n}=this,s=t==null?void 0:t.$element(),r=this._isVisible(),o=this._isTouchFriendly(),a=n.children(),l=Ad.getInstance(a.eq(0)),d=Ad.getInstance(a.eq(1)),c=this._getOptions();l.option(c),d.option(c),this._legacyRender(s,o,r)}}}const Sre=Math,Ere="dx-numberbox",Ire=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"];class Tre extends yS{_supportedKeys(){return Object.assign({},super._supportedKeys(),{upArrow(e){$n(e)||(e.preventDefault(),e.stopPropagation(),this._spinUpChangeHandler(e))},downArrow(e){$n(e)||(e.preventDefault(),e.stopPropagation(),this._spinDownChangeHandler(e))},enter(){}})}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:ue.format("dxNumberBox-invalidValueMessage"),buttons:void 0})}_useTemplates(){return!1}_getDefaultButtons(){return super._getDefaultButtons().concat([{name:"spins",Ctor:wre}])}_isSupportInputMode(){const e=parseFloat(gn.version);return gn.chrome&&e>=66||gn.safari&&e>=12}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Oe.real().generic&&!Oe.isSimulator(),options:{useLargeSpinButtons:!1}},{device:(function(){return Oe.real().deviceType!=="desktop"&&!this._isSupportInputMode()}).bind(this),options:{mode:"number"}}])}_initMarkup(){this._renderSubmitElement(),this.$element().addClass(Ere),super._initMarkup(),this._toggleTabIndex()}_getDefaultAttributes(){const e=super._getDefaultAttributes();return e.inputmode="decimal",e}_renderContentImpl(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")}_renderSubmitElement(){this._$submitElement=M("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))}_setSubmitValue(e){this._getSubmitElement().val(w6(e))}_getSubmitElement(){return this._$submitElement}_keyPressHandler(e){super._keyPressHandler();const t=Iy(e);if(!/[\d.,eE\-+]/.test(t)){const s=En(e);if($n(e)||s&&Ire.includes(s))return;e.preventDefault();return}this._keyPressed=!0}_hasMouseWheelHandler(){return!0}_onMouseWheel(e){e.delta>0?this._spinValueChange(1,e):this._spinValueChange(-1,e)}_renderValue(){const e=this._input().val(),t=this.option("value");(!e.length||Number(e)!==t)&&(this._forceValueRender(),this._toggleEmptinessEventHandler());const n=G(t)?null:ue.format("dxNumberBox-noDataText");return this.setAria({valuenow:wn(t,""),valuetext:n}),this.option("text",this._input().val()),this._updateButtons(),de().resolve()}_forceValueRender(){const e=this.option("value"),t=Number(e),n=isNaN(t)?"":this._applyDisplayValueFormatter(e);this._renderDisplayText(n)}_applyDisplayValueFormatter(e){const{displayValueFormatter:t}=this.option();return t==null?void 0:t(e)}_renderProps(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:wn(this.option("min"),""),valuemax:wn(this.option("max"),"")})}_spinButtonsPointerDownHandler(){const e=this._input();!this.option("useLargeSpinButtons")&&ve.getActiveElement()!==e[0]&&Y.trigger(e,"focus")}_spinUpChangeHandler(e){this.option("readOnly")||this._spinValueChange(1,e.event||e)}_spinDownChangeHandler(e){this.option("readOnly")||this._spinValueChange(-1,e.event||e)}_spinValueChange(e,t){const n=parseFloat(this.option("step"));if(n===0)return;let s=parseFloat(this._normalizeInputValue())||0;s=this._correctRounding(s,n*e);const r=this.option("min"),o=this.option("max");G(r)&&(s=Math.max(r,s)),G(o)&&(s=Math.min(o,s)),this._saveValueChangeEvent(t),this.option("value",s)}_correctRounding(e,t){const n=/[,.](.*)/,s=n.test(e),r=n.test(t);if(s||r){const o=s?n.exec(e)[0].length:0,a=r?n.exec(t)[0].length:0,l=Sre.max(o,a);return e=this._round(e+t,l),e}return e+t}_round(e,t){t=t||0;const n=10**t;return e*=n,e=Math.round(e)/n,e}_renderValueChangeEvent(){super._renderValueChangeEvent();const e=be("focusout","NumberBoxForceValueChange");Y.off(this.element(),e),Y.on(this.element(),e,this._forceRefreshInputValue.bind(this))}_forceRefreshInputValue(){const{mode:e}=this.option();if(e==="number")return;const t=this._input(),n=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(n)}_valueChangeEventHandler(e){const t=this._input(),n=this._normalizeText(),s=this._parseValue(n),r=n!=="."&&n!=="-";if(this._isValueValid()&&!this._validateValue(s)){t.val(this._applyDisplayValueFormatter(s));return}r&&super._valueChangeEventHandler(e,isNaN(s)?null:s),this._applyValueBoundaries(n,s),this.validationRequest.fire({value:s,editor:this})}_applyValueBoundaries(e,t){const n=this._isValueIncomplete(e),s=this._isValueInRange(e);!n&&!s&&t!==null&&Number(e)!==t&&this._input().val(this._applyDisplayValueFormatter(t))}_replaceCommaWithPoint(e){return e.replace(",",".")}_inputIsInvalid(){const{mode:e}=this.option(),t=e==="number",n=this._input().get(0).validity;return t&&(n==null?void 0:n.badInput)}_renderDisplayText(e){this._inputIsInvalid()||super._renderDisplayText(e)}_isValueIncomplete(e){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(e)}_isValueInRange(e){return Co(e,this.option("min"),this.option("max"))}_isNumber(e){return this._parseValue(e)!==null}_validateValue(e){const t=this._normalizeText(),n=this._isValueValid();let s=!0;const r=this._isNumber(t);return isNaN(Number(e))&&(s=!1),!e&&n?s=!0:!r&&!n&&(s=!1),this.option({isValid:s,validationError:s?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),s}_normalizeInputValue(){return this._parseValue(this._normalizeText())}_normalizeText(){const e=this._input().val().trim();return this._replaceCommaWithPoint(e)}_parseValue(e){const t=parseFloat(e);return isNaN(t)?null:Ii(t,this.option("min"),this.option("max"))}_clearValue(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),super._clearValue()}clear(){this.option("value")===null?(this.option("text",""),this._input().length&&this._renderValue()):this.option("value",null)}_optionChanged(e){switch(e.name){case"value":this._validateValue(e.value),this._setSubmitValue(e.value),super._optionChanged(e),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:super._optionChanged(e)}}}const Pm=function(i){let e=0,t=0;for(let n=0;n<i.length;++n)if(i[n]==="'"&&e++,i[n]==="."&&(++t,e%2===0))return{occurrence:t,index:n};return{occurrence:1,index:-1}},wC=function(i,e,t){let n=-1;for(;t--&&n++<i.length;)n=i.indexOf(e,n);return n},SC=function(i,e){return e===-1?[i]:[i.slice(0,e),i.slice(e+1)]},Dre=function(i,e){return i&&I5(i/100,e/100)},Kg=function(i,e){if(typeof e=="string"){const t=e.split(";"),n=Jt.getSign(i,e);t[1]=t[1]||`-${t[0]}`,e=t[n<0?1:0],e=(a=>a.replace(/'([^']*)'/g,l=>l.split("").map(()=>" ").join("").substr(2)))(e);const r=/^[^#0.,]*/.exec(e)[0].length,o=/[^#0.,]*$/.exec(e)[0].length;return{start:r,end:i.length-o}}return{start:0,end:i.length}},v4=function(i,e){const t=Jt.getDecimalSeparator(),n=new RegExp(`[^0-9${yo(t)}]`,"g");return e.slice(0,i).replace(n,"").length},x4=function(i){return i.split("").reverse().join("")},b4=function(i,e){if(!i)return-1;const t=/[0-9]/g;let n=1,s=null,r=t.exec(e);for(;r;){if(s=r.index,n>=i)return s;n++,r=t.exec(e)}return s===null?e.length:s},Are=function(i){return i.replace(/[^0-9e]+$/,"")},Tl=function(i,e){return i.start===void 0&&(i={start:i,end:i}),{start:i.start+e,end:i.end+e}},kre=function(i,e,t,n){t=Tl(t,0);const s=Jt.getDecimalSeparator(),r=Ore(i),o=Pm(n).occurrence,a=r?0:wC(i,s,o),l=wC(e,s,o),d=SC(i,a),c=SC(e,l);if(a!==-1&&t.start>a){const v=t.start-a-1,_=v4(v,d[1]),x=c[1]?l+1+b4(_,c[1])+1:e.length;return fa(x,e,n)}const u=Are(c[0]),p=d[0].length-t.start,f=v4(p,x4(d[0])),g=b4(f,x4(u)),m=u.length-(g+1);return fa(m,e,n)};function Ore(i){return i.length===1&&!!i.match(/^[,.][0-9]*$/g)}const Rre=function(i,e,t){i=Tl(i,0);const n=fa(i,e,t);return i.start>=n.start&&i.end<=n.end};function fa(i,e,t){i=Tl(i,0);const n=Kg(e,t);return{start:Ii(i.start,n.start,n.end),end:Ii(i.end,n.start,n.end)}}const Pre=function(i,e,t){const n=Kg(i,t);return Kg(e,t).start-n.start};class Gg extends Tre{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{useMaskBehavior:!0,format:null})}_isDeleteKey(e){return e==="del"}_supportedKeys(){return this._useMaskBehavior()?Object.assign({},super._supportedKeys(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,-1),rightArrow:this._arrowHandler.bind(this,1),home:this._moveCaretToBoundaryEventHandler.bind(this,1),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,-1)}):super._supportedKeys()}_getTextSeparatorIndex(e){const t=Jt.getDecimalSeparator(),n=Pm(this.option("format")).occurrence;return wC(e,t,n)}_focusInHandler(e){this._preventNestedFocusEvent(e)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(()=>{this._caretTimeout=void 0;const t=this._caret();if(t.start===t.end&&this._useMaskBehavior()){const n=this._getInputVal(),s=this._getTextSeparatorIndex(n);s>=0?this._caret({start:s,end:s}):this._moveCaretToBoundaryEventHandler(-1,e)}},0)),super._focusInHandler(e)}_focusOutHandler(e){const t=!this._preventNestedFocusEvent(e);t&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),super._focusOutHandler(e),t&&(this._focusOutOccurs=!1)}_hasValueBeenChanged(e){const t=this._getFormatPattern(),n=this.option("value");return(this._format(n,t)||"")!==e}_updateFormattedValue(){const e=this._getInputVal();if(this._hasValueBeenChanged(e)){this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue();const{value:t}=this.option();this._parsedValue!==t&&Y.trigger(this._input(),"change")}}_arrowHandler(e,t){if(!this._useMaskBehavior())return;const n=this._getInputVal(),s=this._getFormatPattern();let r=Tl(this._caret(),e);Rre(r,n,s)||(r=e===1?r.end:r.start,t.preventDefault(),this._caret(fa(r,n,s)))}_moveCaretToBoundary(e){const t=Kg(this._getInputVal(),this._getFormatPattern()),n=Tl(e===1?t.start:t.end,0);this._caret(n)}_moveCaretToBoundaryEventHandler(e,t){!this._useMaskBehavior()||t!=null&&t.shiftKey||(this._moveCaretToBoundary(e),t==null||t.preventDefault())}_shouldMoveCaret(e,t){const n=Jt.getDecimalSeparator(),s=e.charAt(t.end)===n;return(this._lastKey===n||this._lastKey==="."||this._lastKey===",")&&s}_getInputVal(){return Jt.convertDigits(this._input().val(),!0)}_keyboardHandler(e){if(this.clearCaretTimeout(),this._lastKey=Jt.convertDigits(Iy(e),!0),this._lastKeyName=En(e),!this._shouldHandleKey(e.originalEvent))return super._keyboardHandler(e);const t=this._getInputVal(),n=this._caret();let s;this._lastKeyName==="minus"?s="":s=e.which===110?Jt.getDecimalSeparator():this._lastKey;const r=this._tryParse(t,n,s);return this._shouldMoveCaret(t,n)&&(this._moveCaret(1),e.originalEvent.preventDefault()),r===void 0?this._lastKeyName!=="minus"&&e.originalEvent.preventDefault():this._parsedValue=r,super._keyboardHandler(e)}_keyPressHandler(e){this._useMaskBehavior()||super._keyPressHandler(e)}_removeHandler(e){const t=this._caret(),n=this._getInputVal();let{start:s}=t,{end:r}=t;this._lastKey=Iy(e),this._lastKeyName=En(e);const o=this._isDeleteKey(this._lastKeyName),a=!o;if(s===r){const h=s;if(a&&h>0||o&&h<n.length)o&&r++,a&&s--;else{e.preventDefault();return}}const l=n.slice(s,r);if(this._isStub(l)){this._moveCaret(o?1:-1),(this._parsedValue<0||1/this._parsedValue===-1/0)&&(this._revertSign(e),this._setTextByParsedValue(),this.option("valueChangeEvent").split(" ").includes("input")&&Y.trigger(this._input(),"input")),e.preventDefault();return}const d=Jt.getDecimalSeparator();if(l===d){const h=n.indexOf(d);this._isNonStubAfter(h+1)&&(this._moveCaret(o?1:-1),e.preventDefault());return}if(r-s<n.length&&this._replaceSelectedText(n,{start:s,end:r},"").search(/[0-9]/)<0&&this._isValueInRange(0)){this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0;return}const c=this._tryParse(n,{start:s,end:r},"");c===void 0?e.preventDefault():this._parsedValue=c}_isPercentFormat(){return this._getFormatPattern().replace(/'[^']+'/g,"").indexOf("%")!==-1}_parse(e,t){const n=this.option("format"),s=Ie(n.parser),r=s?n.parser:Jt.parse;let o=0;if(!s){const a=Pm(t).index,l=this._getTextSeparatorIndex(e),d=a!==-1?a:t.length,c=l!==-1?l:e.length;c>d&&t.indexOf("#")===-1&&(o=c-d)}return e=e.substr(o),r(e,t)}_format(e,t){const n=this.option("format"),s=(n==null?void 0:n.formatter)||n,r=Ie(s)?s:Jt.format;return e===null?"":r(e,t)}_getFormatPattern(){return this._currentFormat||this._updateFormat(),this._currentFormat}_updateFormat(){const{format:e}=this.option(),t=Ie(e==null?void 0:e.parser),n=Ke(e)&&(e.includes("0")||e.includes("#")),s=e==="exponential"||(e==null?void 0:e.type)==="exponential",r=t||n||s;this._currentFormat=r?e:oq(o=>{const a=this._format(o,e);return Jt.convertDigits(a,!0)})}_getFormatForSign(e){const t=this._getFormatPattern();if(Ke(t)){const s=t.split(";"),r=Jt.getSign(e,t);return s[1]=s[1]||`-${s[0]}`,r<0?s[1]:s[0]}return Jt.getSign(e)<0?"-":""}_removeStubs(e,t){const n=this._getFormatForSign(e),s=Jt.getThousandsSeparator(),r=this._getStubs(n);let o=e;if(r.length){const a=r[0],l=new RegExp(`(${yo(r[1]||"")})$`,"g"),d=new RegExp(`[-${yo(t?"":s)}]`,"g");o=o.replace(a,"").replace(l,"").replace(d,"")}return o}_getStubs(e){const t=/[^']([#0.,]+)/g.exec(e),n=t&&t[0].trim();return e.split(n).map(s=>s.replace(/'/g,""))}_truncateToPrecision(e,t){if(G(e)){const n=e.toString(),s=n.indexOf(".");if(n&&s>-1){const r=parseFloat(n.substr(0,s+t+1));return isNaN(r)?e:r}}return e}_tryParse(e,t,n){const s=t.start!==t.end,r=s&&t.start===0&&t.end===e.length,o=Jt.getDecimalSeparator();if(r&&n===o)return 0;const a=this._replaceSelectedText(e,t,n),l=this._getFormatPattern();let d=this._getParsedValue(a,l);const c=!l.parser&&this._getPrecisionLimits(a).max,h=d!==this._parsedValue,u=n===o&&c===0,p=!s&&!h&&n!=="-"&&this._isStub(n);if(u||p||(this._removeStubs(a)===""&&(d=Math.abs(0*this._parsedValue)),isNaN(d)))return;const f=d===null?this._parsedValue:d;if(d=c?this._truncateToPrecision(f,c):d,!l.parser&&this._isPercentFormat()){const g=this._getIntervalFromPrecision(c);return Dre(d,g)}return d}_getIntervalFromPrecision(e){return e<1?1:10**-e}_getParsedValue(e,t){const n=Jt.getSign(e,(t==null?void 0:t.formatter)||t),s=this._removeStubs(e,!0),r=this._parse(s,t),o=r<0?-1:1;return jt(r)&&n!==o?n*r:r}_isValueIncomplete(e){if(!this._useMaskBehavior())return super._isValueIncomplete(e);const t=this._caret(),n=Jt.getDecimalSeparator(),s=this._getTextSeparatorIndex(e),r=s>=0&&s<t.start,o=this._removeStubs(e,!0).split(n);if(!r||o.length!==2)return!1;const a=o[1].length,d=!!this._getFormatPattern().parser,c=!d&&this._getPrecisionLimits(this._getFormatPattern()),h=d?!0:Co(a,c.min,c.max),u=o[1].charAt(a-1)==="0";return h&&(u||!a)}_isValueInRange(e){const t=wn(this.option("min"),-1/0),n=wn(this.option("max"),1/0);return Co(e,t,n)}_setInputText(e){const t=Jt.convertDigits(e,!0),n=kre(this._getInputVal(),t,this._caret(),this._getFormatPattern());this._input().val(e),this._toggleEmptinessEventHandler(),this._formattedValue=e,this._focusOutOccurs||this._caret(n)}_useMaskBehavior(){const{useMaskBehavior:e}=this.option();return!!this.option("format")&&e}_renderInputType(){const{mode:e}=this.option(),t=e==="number",n=Oe.real().deviceType==="desktop";this._useMaskBehavior()&&t?this._setInputType(n||this._isSupportInputMode()?"text":"tel"):super._renderInputType()}_isChar(e){return Ke(e)&&e.length===1}_moveCaret(e){if(!e)return;const t=Tl(this._caret(),e),n=fa(t,this._getInputVal(),this._getFormatPattern());this._caret(n)}_shouldHandleKey(e){const t=En(e),n=$n(e)||e.altKey||e.shiftKey||!this._isChar(t),s=t==="minus";return this._useMaskBehavior()&&!n&&!s}_renderInput(){super._renderInput(),this._renderFormatter()}_renderFormatter(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()}_detachFormatterEvents(){Y.off(this._input(),".dxNumberFormatter")}_isInputFromPaste(e){var t;const n=(t=e.originalEvent)===null||t===void 0?void 0:t.inputType;return G(n)?n==="insertFromPaste":this._isValuePasted}_attachFormatterEvents(){const e=this._input();Y.on(e,be("input","dxNumberFormatter"),t=>{this._formatValue(t),this._isValuePasted=!1}),Y.on(e,be("dxclick","dxNumberFormatter"),()=>{this._caretTimeout||(this._caretTimeout=setTimeout(()=>{this._caretTimeout=void 0,this._caret(fa(this._caret(),this._getInputVal(),this._getFormatPattern()))},0))}),Y.on(e,Dp,()=>{this.clearCaretTimeout()})}clearCaretTimeout(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0}_forceRefreshInputValue(){if(!this._useMaskBehavior())return super._forceRefreshInputValue()}_isNonStubAfter(e){const t=this._getInputVal().slice(e);return t&&!this._isStub(t,!0)}_isStub(e,t){const s=`^[^0-9${yo(Jt.getDecimalSeparator())}]+$`;return new RegExp(s,"g").test(e)&&(t||this._isChar(e))}_parseValue(e){return this._useMaskBehavior()?this._parsedValue:super._parseValue(e)}_getPrecisionLimits(e){const t=this._getFormatForSign(e),n=Pm(t).index,s=(SC(t,n)[1]||"").replace(/[^#0]/g,""),r=s.replace(/^(0*)#*/,"$1").length,o=s.length;return{min:r,max:o}}_revertSign(e){if(!this._useMaskBehavior())return;const t=this._caret();if(t.start!==t.end){if(En(e)==="minus"){this._applyRevertedSign(e,t,!0);return}this._caret(fa(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(e,t)}_applyRevertedSign(e,t,n){const s=-1*wn(this._parsedValue,null);if((this._isValueInRange(s)||s===0)&&(this._parsedValue=s,n)){const r=this._getFormatPattern(),o=this._getInputVal();this._setTextByParsedValue(),e.preventDefault();const a=this._getInputVal(),l=Pre(o,a,r);t=Tl(t,l);const d=fa(t,a,r);this._caret(d)}}_removeMinusFromText(e,t){return this._lastKeyName==="minus"&&e.charAt(t.start-1)==="-"?this._replaceSelectedText(e,{start:t.start-1,end:t.start},""):e}_setTextByParsedValue(){const e=this._getFormatPattern(),t=this._parseValue(),n=this._format(t,e)||"";this._setInputText(n)}_formatValue(e){let t=this._getInputVal();const n=this._caret(),s=this._removeMinusFromText(t,n),r=s!==t;if(t=s,!this._isInputFromPaste(e)&&this._isValueIncomplete(s)){this._formattedValue=t,r&&this._setTextByParsedValue();return}if(Jt.convertDigits(this._formattedValue,!0)!==t){const a=this._tryParse(t,n,"");G(a)&&(this._parsedValue=a)}this._setTextByParsedValue()}_renderDisplayText(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():super._renderDisplayText.apply(this,arguments)}_renderValue(){if(this._useMaskBehavior()){const{value:e}=this.option();this._parsedValue=e,this._setTextByParsedValue()}return super._renderValue()}_updateParsedValue(){const e=this._getInputVal();this._parsedValue=this._tryParse(e,this._caret())}_adjustParsedValue(){if(!this._useMaskBehavior())return;const t=this._removeStubs(this._getInputVal())?this._parseValue():null;if(!jt(t)){this._parsedValue=t;return}this._parsedValue=Ii(t,this.option("min"),this.option("max"))}_valueChangeEventHandler(e){if(!this._useMaskBehavior())return super._valueChangeEventHandler(e);const t=this._caret();this._saveValueChangeEvent(e),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),t&&this._caret(t)}_optionChanged(e){switch(e.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),super._optionChanged(e);break;default:super._optionChanged(e)}}_clearCache(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout}_clean(){this._clearCache(),super._clean()}}St("dxNumberBox",Gg);const HS="dxListEditDecorator",Mre=be(XM,HS),Fre=be(ZM,HS),Bre=be(IS,HS);class Nre{constructor(e){this._itemWidthCache=0,this._list=e,this._init()}_shouldHandleSwipe(){return!1}_init(){}_attachSwipeEvent(e){const t={itemSizeFunc:()=>(this._clearSwipeCache&&(this._itemWidthCache=Xe(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache)};Y.on(e.$itemElement,Mre,t,n=>{this._itemSwipeStartHandler(n)}),Y.on(e.$itemElement,Fre,n=>{this._itemSwipeUpdateHandler(n)}),Y.on(e.$itemElement,Bre,n=>{this._itemSwipeEndHandler(n)})}_itemSwipeStartHandler(e){const t=M(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *")){e.cancel=!0;return}clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(t)}_itemSwipeUpdateHandler(e){const t=e.currentTarget;if(t instanceof Element){const n=M(t);this._swipeUpdateHandler(n,e)}}_itemSwipeEndHandler(e){const t=e.currentTarget;if(t instanceof Element){const n=M(t);this._swipeEndHandler(n,e)}}beforeBag(e){}afterBag(e){}_commonOptions(){const{activeStateEnabled:e,hoverStateEnabled:t,focusStateEnabled:n}=this._list.option();return{activeStateEnabled:e,hoverStateEnabled:t,focusStateEnabled:n}}modifyElement(e){this._shouldHandleSwipe()&&(this._attachSwipeEvent(e),this._clearSwipeCache=!0)}afterRender(){}handleClick(e,t){}handleKeyboardEvents(e,t){}handleEnterPressing(e){}handleContextMenu(e){}_swipeStartHandler(e){}_swipeUpdateHandler(e,t){}_swipeEndHandler(e,t){}visibilityChange(){}getExcludedSelectors(){}dispose(){}}class UF extends to{_supportedKeys(){return Object.assign({},super._supportedKeys(),{space:function(e){e.preventDefault(),this._clickAction({event:e})}})}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})}_canValueBeChangedByClick(){return!0}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Oe.real().deviceType==="desktop"&&!Oe.isSimulator(),options:{focusStateEnabled:!0}}])}_init(){super._init(),this.$element().addClass("dx-radiobutton")}_initMarkup(){super._initMarkup(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")}_renderIcon(){this._$icon=M("<div>").addClass("dx-radiobutton-icon"),M("<div>").addClass("dx-radiobutton-icon-dot").appendTo(this._$icon),this.$element().append(this._$icon)}_renderCheckedState(e){this.$element().toggleClass("dx-radiobutton-checked",e).find(".dx-radiobutton-icon").toggleClass("dx-radiobutton-icon-checked",e),this.setAria("checked",e)}_renderClick(){const e=be(Nt,this.NAME);this._clickAction=this._createAction(t=>{this._clickHandler(t.event)}),Y.off(this.$element(),e),Y.on(this.$element(),e,t=>{var n;(n=this._clickAction)===null||n===void 0||n.call(this,{event:t})})}_clickHandler(e){this._saveValueChangeEvent(e),this.option("value",!0),this._saveValueChangeEvent(void 0)}_optionChanged(e){const{name:t,value:n}=e;t==="value"?(this._renderCheckedState(n),super._optionChanged(e)):super._optionChanged(e)}}St("dxRadioButton",UF);const y4="dx-list-select-decorator-enabled",Vre="dx-list-select-checkbox-container",Lre="dx-list-select-checkbox",$re="dx-list-select-radiobutton-container",Hre="dx-list-select-radiobutton",C4=be(Nt,"dxListEditDecorator");class jre extends Nre{_init(){super._init();const{selectionMode:e}=this._list.option();this._singleStrategy=e==="single",this._containerClass=this._singleStrategy?$re:Vre,this._controlClass=this._singleStrategy?Hre:Lre,this._controlWidget=this._singleStrategy?UF:Jl,this._list.$element().addClass(y4)}beforeBag(e){const{$itemElement:t}=e,n=e.$container.addClass(this._containerClass),s=M("<div>").addClass(this._controlClass).appendTo(n);new this._controlWidget(s.get(0),Object.assign({},this._commonOptions(),{value:this._isSelected(t.get(0)),elementAttr:{"aria-label":ue.format("CheckState")},focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:r=>{const{value:o,component:a,event:l}=r;!!l&&(a._valueChangeEventInstance=void 0,a.option("value",!o))}}))}modifyElement(e){super.modifyElement(e);const{$itemElement:t}=e,n=this._controlWidget.getInstance(t.find(`.${this._controlClass}`).get(0));Y.on(t,"stateChanged",(s,r)=>{n.option("value",r)})}_updateSelectAllState(){var e;this._$selectAll&&((e=this._selectAllCheckBox)===null||e===void 0||e.option("value",this._list.isSelectAll()))}afterRender(){const{selectionMode:e}=this._list.option();e==="all"&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())}handleKeyboardEvents(e,t){const n=!t,s=this._list,r=this._$selectAll,o=s._getLastItemIndex();if(!!r&&(t&&e===0||n&&e===o)){s.option("focusedElement",We(r));const{focusedElement:d}=s.option();return d&&s.scrollToItem(d),!0}return!1}handleEnterPressing(e){var t;return(t=this._$selectAll)!==null&&t!==void 0&&t.hasClass("dx-state-focused")?(e.target=this._$selectAll.get(0),this._selectAllHandler(e),!0):!1}_renderSelectAll(){this._$selectAll=M("<div>").addClass("dx-list-select-all");const e=this._list._supportedKeys().downArrow.bind(this._list),t=M("<div>").addClass("dx-list-select-all-checkbox").appendTo(this._$selectAll);this._selectAllCheckBox=this._list._createComponent(t,Jl,{elementAttr:{"aria-label":ue.format("dxList-selectAll")},focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",e);const{selectAllText:n=""}=this._list.option();M("<div>").addClass("dx-list-select-all-label").text(n).appendTo(this._$selectAll),this._list.itemsContainer().prepend(this._$selectAll),this._updateSelectAllState(),this._updateSelectAllAriaLabel(),this._attachSelectAllHandler()}_attachSelectAllHandler(){var e;(e=this._selectAllCheckBox)===null||e===void 0||e.option("onValueChanged",t=>{const{value:n,component:s,event:r}=t;if(!!r){s._setOptionWithoutOptionChange("value",!n);return}this._updateSelectAllAriaLabel(),this._list._createActionByOption("onSelectAllValueChanged")({value:n})}),Y.off(this._$selectAll,C4),Y.on(this._$selectAll,C4,t=>{this._selectAllHandler(t)})}_updateSelectAllAriaLabel(){var e;if(!this._$selectAll)return;const{value:t}=((e=this._selectAllCheckBox)===null||e===void 0?void 0:e.option())??{},r=t===void 0?"indeterminate":t?"checked":"notChecked",o=`${ue.format("dxList-selectAll")}, ${ue.format(`dxList-selectAll-${r}`)}`;this._$selectAll.attr({"aria-label":o})}_selectAllHandler(e){var t;e.stopPropagation(),e.preventDefault(),this._list._saveSelectionChangeEvent(e);const{value:n}=((t=this._selectAllCheckBox)===null||t===void 0?void 0:t.option())??{},s=n?this._unselectAllItems():this._selectAllItems();return this._list.option("focusedElement",We(M(this._$selectAll))),s}_checkSelectAllCapability(){const e=this._list,t=e._dataController,{selectAllMode:n,grouped:s}=e.option();return n==="allPages"&&s&&!t.group()?(pt.log("W1010"),!1):!0}_selectAllItems(){if(!this._checkSelectAllCapability())return de().resolve();const{selectAllMode:e}=this._list.option();return this._list._selection.selectAll(e==="page")}_unselectAllItems(){if(!this._checkSelectAllCapability())return de().resolve();const{selectAllMode:e}=this._list.option();return this._list._selection.deselectAll(e==="page")}_isSelected(e){return this._list.isItemSelected(e)}dispose(){this._disposeSelectAll(),this._list.$element().removeClass(y4),super.dispose()}_disposeSelectAll(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}}Wie("selection","default",jre);const KF=se({},Q8,{_dataExpressionDefaultOptions:()=>({items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}),_initDataExpressions(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource(){this.option("dataSource")||(this._dataSource=new Os({store:new Qc(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter(){this._displayGetter=qt(this._displayGetterExpr())},_displayGetterExpr(){return this.option("displayExpr")},_compileValueGetter(){this._valueGetter=qt(this._valueGetterExpr())},_valueGetterExpr(){return this.option("valueExpr")||"this"},_loadValue(i){const e=de();return i=this._unwrappedValue(i),G(i)?(this._loadSingle(this._valueGetterExpr(),i).done(t=>{this._isValueEquals(this._valueGetter(t),i)?e.resolve(t):e.reject()}).fail(()=>{e.reject()}),this._loadValueDeferred=e,e.promise()):e.reject().promise()},_rejectValueLoading(){var i;(i=this._loadValueDeferred)===null||i===void 0||i.reject({shouldSkipCallback:!0})},_getCurrentValue(){return this.option("value")},_unwrappedValue(i){return i=i??this._getCurrentValue(),i&&this._dataSource&&this._valueGetterExpr()==="this"&&(i=this._getItemKey(i)),bi.unwrap(i)},_getItemKey(i){const e=this._dataSource.key();if(Array.isArray(e)){const t={};for(let n=0,s=e.length;n<s;n++)t[e[n]]=i[e[n]];return t}return e&&typeof i=="object"&&(i=i[e]),i},_isValueEquals(i,e){const t=this._dataSource&&this._dataSource.key();let n=this._compareValues(i,e);return!n&&t&&G(i)&&G(e)&&(Array.isArray(t)?n=this._compareByCompositeKey(i,e,t):n=this._compareByKey(i,e,t)),n},_compareByCompositeKey(i,e,t){const n=Me;if(!n(i)||!n(e))return!1;for(let s=0,r=t.length;s<r;s++)if(i[t[s]]!==e[t[s]])return!1;return!0},_compareByKey(i,e,t){const n=bi.unwrap,s=wn(n(i[t]),i),r=wn(n(e[t]),e);return this._compareValues(s,r)},_compareValues:(i,e)=>xi(i,!0)===xi(e,!0),_initDynamicTemplates:Te,_setCollectionWidgetItemTemplate(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr(){const i=this.option("valueExpr");return Ke(i)&&i!=="this"||Ie(i)?i:null},_dataExpressionOptionChanged(i){switch(i.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),zre="dx-dropdowneditor-button-visible",Wre="dxDropDownEditor-selectLabel";class Ure extends r_{constructor(e,t,n){super(e,t,n),this.currentTemplate=null}_attachEvents(e){e.option("onClick",t=>{var n,s,r;if((n=this.editor)!==null&&n!==void 0&&(s=n._shouldCallOpenHandler)!==null&&s!==void 0&&s.call(n)){var o;(o=this.editor)===null||o===void 0||o._openHandler(t);return}const{openOnFieldClick:a}=((r=this.editor)===null||r===void 0?void 0:r.option())??{};if(!a){var l;(l=this.editor)===null||l===void 0||l._openHandler(t)}}),Y.on(e.$element(),"mousedown",t=>{var n;(n=this.editor)!==null&&n!==void 0&&n.$element().is(".dx-state-focused")&&t.preventDefault()})}_create(){const{editor:e}=this;if(!e)return;const t=M("<div>"),n=this._getOptions();this._addToContainer(t);const s=e._createComponent(t,si,se({},n,{elementAttr:{"aria-label":ue.format(Wre)}}));return this._legacyRender(e.$element(),t,n.visible),{$element:t,instance:s}}_getOptions(){const{editor:e}=this,t=this._isVisible(),s={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:e==null?void 0:e.option("readOnly"),visible:t};return this._addTemplate(s),s}_isVisible(){const{editor:e}=this;return super._isVisible()&&(e==null?void 0:e.option("showDropDownButton"))}_legacyRender(e,t,n){e.toggleClass(zre,n),t&&t.removeClass("dx-button").removeClass("dx-button-mode-contained").addClass("dx-dropdowneditor-button")}_isSameTemplate(){var e;return((e=this.editor)===null||e===void 0?void 0:e.option("dropDownButtonTemplate"))===this.currentTemplate}_addTemplate(e){if(!this._isSameTemplate()){var t,n;e.template=(t=this.editor)===null||t===void 0?void 0:t._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=(n=this.editor)===null||n===void 0?void 0:n.option("dropDownButtonTemplate")}}update(){if(super.update()){const{editor:t,instance:n}=this,s=t==null?void 0:t.$element(),r=this._getOptions();n==null||n.option(r),this._legacyRender(s,n==null?void 0:n.$element(),r.visible)}}}const Kre="dx-dropdowneditor",w4="dx-dropdowneditor-input-wrapper",Gf="dx-dropdowneditor-overlay",Gre="dx-dropdowneditor-overlay-flipped",qre="dx-dropdowneditor-active",Yre="dx-dropdowneditor-field-clickable",Xre="dx-dropdowneditor-field-template-wrapper",Zre="dx-dropdowneditor-field-before-template-wrapper",Qre="dx-dropdowneditor-field-after-template-wrapper",S4=Oe.current().platform==="ios",Jre={fieldTemplate:{since:"25.2",message:"Use the 'fieldAddons' option instead"}};function E4(){return M("<div>").addClass(Xre)}class jS extends Jc{_supportedKeys(){return Object.assign({},super._supportedKeys(),{tab:e=>{if(!this.option("opened"))return;if(!this._popup.getFocusableElements().length){this.close();return}const t=e.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();t&&(Y.trigger(t,"focus"),t.select()),e.preventDefault()},escape:e=>(this.option("opened")&&e.preventDefault(),this.close(),!0),upArrow:e=>!$n(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey)?(this.close(),!1):!0,downArrow:e=>!$n(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey)?(this._validatedOpening(),!1):!0,enter:e=>(this.option("opened")&&(e.preventDefault(),this._valueChangeEventHandler(e)),!0)})}_getDefaultButtons(){return super._getDefaultButtons().concat([{name:"dropDown",Ctor:Ure}])}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:ue.format("OK"),cancelButtonText:ue.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto",_cached_dropDownOptions:{}})}_useTemplates(){return!0}_getDefaultPopupPosition(e){const t=tl(e);return{offset:{h:0,v:-1},my:`${t} top`,at:`${t} bottom`,collision:"flip flip"}}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device(e){return e.platform==="generic"},options:{popupPosition:{offset:{v:0}}}}])}_inputWrapper(){return this.$element().find(`.${w4}`).first()}_init(){super._init(),this._initVisibilityActions(),this._initPopupInitializedAction();const{rtlEnabled:e,dropDownOptions:t}=this.option();this._updatePopupPosition(e),this._options.cache("dropDownOptions",t)}_updatePopupPosition(e){const{my:t,at:n}=this._getDefaultPopupPosition(e),s=this.option("popupPosition");this.option("popupPosition",se({},s,{my:t,at:n}))}_initVisibilityActions(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})}_initPopupInitializedAction(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})}_initMarkup(){this._renderSubmitElement(),super._initMarkup(),this.$element().addClass("dx-dropdowneditor"),this.setAria("role",this._getAriaRole())}_render(){this._detachFocusEvents(),super._render(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()}_renderContentImpl(){this.option("deferRendering")||this._createPopup()}_renderInput(){super._renderInput(),this._renderTemplateWrapper(),this._renderFieldAddons(),this._wrapInput(),this._setDefaultAria()}_wrapInput(){this._$container=this.$element().wrapInner(M("<div>").addClass(w4)).children().eq(0)}_getAriaHasPopup(){return"true"}_getAriaAutocomplete(){return"none"}_getAriaRole(){return"combobox"}_setDefaultAria(){this.setAria({haspopup:this._getAriaHasPopup(),autocomplete:this._getAriaAutocomplete(),role:this._getAriaRole()})}_readOnlyPropValue(){return!this._isEditable()||super._readOnlyPropValue()}_cleanFocusState(){super._cleanFocusState();const{fieldTemplate:e}=this.option();e&&this._detachFocusEvents()}_getFieldTemplate(){const{fieldTemplate:e}=this.option();if(e)return this._getTemplate(e)}_renderMask(){const{fieldTemplate:e}=this.option();e||super._renderMask()}_renderField(){const e=this._getFieldAddonsTemplates();if(e){this._renderFieldAddonsContent(e);return}const t=this._getFieldTemplate();t&&this._renderTemplatedField(t,this._fieldRenderData())}_renderPlaceholder(){!!this._getFieldTemplate()||super._renderPlaceholder()}_renderValue(){return this.option("useHiddenSubmitElement")&&this._setSubmitValue(),super._renderValue().always(this._renderField.bind(this))}_getButtonsContainer(){return this._getFieldTemplate()?this._$container:this._$textEditorContainer}_renderBeforeFieldAddon(){this._$beforeFieldAddon||(this._$beforeFieldAddon=M("<div>").addClass(Zre).insertBefore(this._$textEditorContainer))}_renderAfterFieldAddon(){this._$afterFieldAddon||(this._$afterFieldAddon=M("<div>").addClass(Qre).insertAfter(this._$textEditorContainer))}_renderFieldAddons(){const{fieldAddons:e}=this.option();e&&(this._renderBeforeFieldAddon(),this._renderAfterFieldAddon())}_renderTemplateWrapper(){this._getFieldTemplate()&&(this._$templateWrapper||(this._$templateWrapper=E4().prependTo(this.$element())))}_renderTemplatedField(e,t){const n=Ha(this._input());this._detachKeyboardEvents(),this._detachFocusEvents(),this._$textEditorContainer.remove();const s=E4();this._$templateWrapper.replaceWith(s),this._$templateWrapper=s;const r=Symbol("renderContext");this._activeRenderContext=r,e.render({model:t,container:We(this._$templateWrapper),onRendered:()=>{if(this._activeRenderContext!==r)return;const o=this._input();if(!o.length)throw pt.Error("E1010");this._integrateInput(),n&&(gn.mozilla?o.get(0).focus({preventScroll:!0}):Y.trigger(o,"focus"))}})}_getFieldAddonsTemplates(){const{fieldAddons:e}=this.option();if(!e)return null;const{beforeTemplate:t,afterTemplate:n}=e,s=t?this._getTemplate(t):null,r=n?this._getTemplate(n):null;return{beforeTemplate:s,afterTemplate:r}}_clearFieldAddons(e){var t,n;(t=this._$beforeFieldAddon)===null||t===void 0||t.empty(),(n=this._$afterFieldAddon)===null||n===void 0||n.empty(),e&&(this._$beforeFieldAddon=null,this._$afterFieldAddon=null)}_renderBeforeFieldAddonContent(e){e&&this._$beforeFieldAddon&&e.render({model:this._fieldRenderData(),container:We(this._$beforeFieldAddon)})}_renderAfterFieldAddonContent(e){e&&this._$afterFieldAddon&&e.render({model:this._fieldRenderData(),container:We(this._$afterFieldAddon)})}_renderFieldAddonsContent(e){if(this._clearFieldAddons(),!e)return;const{beforeTemplate:t,afterTemplate:n}=e;this._renderBeforeFieldAddonContent(t),this._renderAfterFieldAddonContent(n)}_integrateInput(){const{isValid:e}=this.option();this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent(),this._setDefaultAria(),this._setFieldAria(),this._toggleValidationClasses(!e);const{_onMarkupRendered:t}=this.option();t==null||t()}_refreshEmptinessEvent(){Y.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()}_fieldRenderData(){const{value:e}=this.option();return e}_initTemplates(){this._templateManager.addDefaultTemplates({dropDownButton:new Bc(e=>{const t=M("<div>").addClass("dx-dropdowneditor-icon");M(e.container).append(t)})}),super._initTemplates()}_renderOpenHandler(){const e=this._inputWrapper(),t=be(Nt,this.NAME),{openOnFieldClick:n}=this.option();Y.off(e,t),Y.on(e,t,this._getInputClickHandler(n)),this.$element().toggleClass(Yre,n),n&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))}_attachFocusOutHandler(){S4&&(this._detachFocusOutEvents(),Y.on(this._inputWrapper(),be("focusout",this.NAME),e=>{const t=e.relatedTarget;t&&this.option("opened")&&this._isTargetOutOfComponent(t)&&this.close()}))}_isTargetOutOfComponent(e){const t=this.content?M(this.content()).closest(`.${Gf}`):this._$popup;return M(e).closest(`.${Gf}`,t).length===0}_detachFocusOutEvents(){S4&&Y.off(this._inputWrapper(),be("focusout",this.NAME))}_getInputClickHandler(e){return e?t=>{this._executeOpenAction(t)}:()=>{this._focusInput()}}_openHandler(){this._toggleOpenState()}_executeOpenAction(e){var t;(t=this._openOnFieldClickAction)===null||t===void 0||t.call(this,{event:e})}_keyboardEventBindingTarget(){return this._input()}_focusInput(){return this.option("disabled")?!1:(this.option("focusStateEnabled")&&!Ha(this._input())&&(this._resetCaretPosition(),Y.trigger(this._input(),"focus")),!0)}_resetCaretPosition(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const t=this._input().get(0);if(t){const{value:n}=t,s=G(n)&&(e||this._isEditable())?n.length:0;this._caret({start:s,end:s},!0)}}_isEditable(){const{acceptCustomValue:e}=this.option();return e}_toggleOpenState(e){this._focusInput()&&(this.option("readOnly")||(e=arguments.length?e:!this.option("opened"),this.option("opened",e)))}_getControlsAria(){return this._popup&&this._popupContentId}_renderOpenedState(){const e=this.option("opened");e&&this._createPopup(),this.$element().toggleClass(qre,e),this._setPopupOption("visible",e);const t={expanded:e,controls:this._getControlsAria()};this.setAria(t),this.setAria("owns",e?this._popupContentId:void 0,this.$element())}_createPopup(){this._$popup||(this._$popup=M("<div>").addClass(Gf).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent(),this._setPopupAriaLabel())}_setPopupAriaLabel(){const e=this._popup.$overlayContent();this.setAria("label","Dropdown",e)}_renderPopupContent(){}_renderPopup(){const e=se(this._popupConfig(),this._options.cache("dropDownOptions"));this._popup=this._createComponent(this._$popup,hr,e),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._attachPopupKeyHandler(),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")}_attachPopupKeyHandler(){Y.on(this._popup.$overlayContent(),be("keydown",this.NAME),e=>this._popupKeyHandler(e))}_popupKeyHandler(e){switch(En(e)){case"tab":this._popupTabHandler(e);break;case"escape":this._popupEscHandler()}}_popupTabHandler(e){const t=M(e.target),n=e.shiftKey&&t.is(this._getFirstPopupElement());(!e.shiftKey&&t.is(this._getLastPopupElement())||n)&&(Y.trigger(this.field(),"focus"),e.preventDefault())}_popupEscHandler(){Y.trigger(this._input(),"focus"),this.close()}_setPopupContentId(e){this._popupContentId=`dx-${new Xt}`,this.setAria("id",this._popupContentId,e)}_contentReadyHandler(){}_popupConfig(){return{onInitialized:this._getPopupInitializedHandler(),position:se(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>Wg(this.$element()),height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:e=>this._closeOutsideDropDownHandler(e),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_hideOnParentScrollTarget:this.$element(),_wrapperClassExternal:Gf,_ignorePreventScrollEventsDeprecation:!0}}_popupInitializedHandler(){}_getPopupInitializedHandler(){const{onPopupInitialized:e}=this.option();return t=>{this._popupInitializedHandler(),e&&this._popupInitializedAction({popup:t.component})}}_dimensionChanged(){if(st()&&!this.$element().is(":visible")){this.close();return}this._updatePopupWidth()}_updatePopupWidth(){RS(this.option("dropDownOptions.width"))===void 0&&this._setPopupOption("width",()=>Wg(this.$element()))}_popupPositionedHandler(e){var t;const{labelMode:n,stylingMode:s}=this.option();if(!this._popup)return;const r=this._popup.$overlayContent(),o=(t=e.position)===null||t===void 0||(t=t.v)===null||t===void 0?void 0:t.flip,a=n!=="hidden"&&n!=="outside"&&s==="outlined";if(e.position&&r.toggleClass(Gre,o),o&&a&&this._label.isVisible()){const l=this._label.$element();ui(r,{top:tr(r).top-parseInt(l.css("fontSize"))})}}_popupShowingHandler(){}_popupHidingHandler(){this.option("opened",!1)}_popupShownHandler(){var e;this._openAction(),(e=this._validationMessage)===null||e===void 0||e.option("positionSide",this._getValidationMessagePositionSide())}_popupHiddenHandler(){var e;this._closeAction(),(e=this._validationMessage)===null||e===void 0||e.option("positionSide",this._getValidationMessagePositionSide())}_getValidationMessagePositionSide(){var e;const{validationMessagePosition:t}=this.option();if(t!=="auto")return t;let n="bottom";if((e=this._popup)!==null&&e!==void 0&&e.option("visible")){const{top:s}=lr.setup(this.$element()),{top:r}=lr.setup(this._popup.$content());n=s+this.option("popupPosition").offset.v>r?"bottom":"top"}return n}_closeOutsideDropDownHandler(e){const{target:t}=e,n=M(t),s=this.getButton("dropDown"),r=s==null?void 0:s.$element(),o=!!n.closest(this.$element()).length,a=!!n.closest(r).length;return!o&&!a}_clean(){var e;this._clearFieldAddons(!0),(e=this._$popup)===null||e===void 0||e.remove(),this._openOnFieldClickAction=void 0,this._$templateWrapper=void 0,this._popup=void 0,this._$popup=void 0,super._clean()}_setPopupOption(e,t){this._setWidgetOption("_popup",arguments)}_validatedOpening(){this.option("readOnly")||this._toggleOpenState(!0)}_getPopupToolbarItems(){const{applyValueMode:e}=this.option();return e==="useButtons"?this._popupToolbarItemsConfig():[]}_getFirstPopupElement(){return M(this._popup.getFocusableElements()).first()}_getLastPopupElement(){return M(this._popup.getFocusableElements()).last()}_popupToolbarItemsConfig(){const e=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText")}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText")}}];return this._applyButtonsLocation(e)}_applyButtonsLocation(e){const{buttonsLocation:t}=this.option(),n=e;if(t!=="default"){const s=od(t);ie(n,(r,o)=>{se(o,{toolbar:s[0],location:s[1]})})}return n}_applyButtonHandler(e){this.close(),this.option("focusStateEnabled")&&this.focus()}_cancelButtonHandler(){this.close(),this.option("focusStateEnabled")&&this.focus()}_popupOptionChanged(e){const t=Oi.getOptionsFromContainer(e);this._setPopupOption(t);const n=Object.keys(t);(n.includes("width")||n.includes("height"))&&this._dimensionChanged()}_renderSubmitElement(){this.option("useHiddenSubmitElement")&&(this._$submitElement=M("<input>").attr("type","hidden").appendTo(this.$element()))}_setSubmitValue(){const{value:e}=this.option();this._getSubmitElement().val(e)}_getSubmitElement(){return this.option("useHiddenSubmitElement")?this._$submitElement:super._getSubmitElement()}_shouldLogFieldTemplateDeprecationWarning(){return!1}_setDeprecatedOptions(){super._setDeprecatedOptions(),this._shouldLogFieldTemplateDeprecationWarning()&&se(this._deprecatedOptions,Jre)}_dispose(){this._detachFocusOutEvents(),super._dispose()}_optionChanged(e){var t;const{name:n,value:s}=e;switch(n){case"width":case"height":super._optionChanged(e),(t=this._popup)===null||t===void 0||t.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldAddons":case"fieldTemplate":case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":this._popupOptionChanged(e),this._innerWidgetOptionChanged(this._popup,e);break;case"_cached_dropDownOptions":case"popupPosition":break;case"deferRendering":st()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(s),super._optionChanged(e);break;default:super._optionChanged(e)}}open(){this.option("opened",!0)}close(){this.option("opened",!1)}field(){return We(this._input())}content(){return this._popup?this._popup.content():null}}St("dxDropDownEditor",jS);const I4=bt(),eoe=["startswith","contains","endwith","notcontains"],T4=Oe.real().platform!=="android";class zS extends jS{_supportedKeys(){const e=super._supportedKeys();return Object.assign({},e,{tab(t){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(t);const{focusedElement:n}=this._list.option(),s=M(n);s.length&&this._setSelectedElement(s)}e.tab(t)},space:Te,home:Te,end:Te})}_allowSelectItemByTab(){const{opened:e,applyValueMode:t}=this.option();return e&&t==="instantly"}_setSelectedElement(e){const t=this._valueGetter(this._list._getItemData(e));this._setValue(t)}_setValue(e){this.option("value",e)}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),KF._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:ue.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,onSelectionChanged:null,onItemClick:Te,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])}_setOptionsByReference(){super._setOptionsByReference(),se(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})}_init(){super._init(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()}_setListFocusedElementOptionChange(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)}_initItems(){const{items:e}=this.option();e&&!e.length&&this._dataSource&&(this.option().items=this._dataSource.items())}_initActions(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()}_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})}_initSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({item:new X1("item")})}_isEditable(){const{searchEnabled:e}=this.option();return super._isEditable()||e}_saveFocusOnWidget(){var e;(e=this._list)!==null&&e!==void 0&&e.initialOption("focusStateEnabled")&&this._focusInput()}_fitIntoRange(e,t,n){return e>n?t:e<t?n:e}_items(){const e=this._getPlainItems(!this._list&&this._dataSource.items());return new Hi(e).filter("disabled","<>",!0).toArray()}_calcNextItem(e){const t=this._items(),n=this._fitIntoRange(this._getSelectedIndex()+e,0,t.length-1);return t[n]}_getSelectedIndex(){const e=this._items(),t=this.option("selectedItem");let n=-1;return ie(e,(s,r)=>{if(this._isValueEquals(r,t))return n=s,!1}),n}_createPopup(){super._createPopup(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());const e=this._popup.$content();Y.off(e,"mouseup"),Y.on(e,"mouseup",this._saveFocusOnWidget.bind(this))}_updateCustomBoundaryContainer(){const e=this.option("dropDownOptions.container"),t=e&&M(e);if(t&&t.length&&!jn(t.get(0))){const n=[].slice.call(t.parents());n.unshift(t.get(0)),ie(n,(s,r)=>{if(r===M("body").get(0))return!1;if(I4.getComputedStyle(r).overflowY==="hidden")return this._$customBoundaryContainer=M(r),!1})}}_popupWrapperClass(){return"dx-dropdownlist-popup-wrapper"}_renderInputValue(){var e=this;let{value:t,renderOnly:n}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=t??this._getCurrentValue();return this._rejectValueLoading(),n?super._renderInputValue(s):this._loadInputValue(s,function(){e._setSelectedItem(...arguments)}).always(super._renderInputValue.bind(this,s))}_loadInputValue(e,t){return this._loadItem(e).always(t)}_getItemFromPlain(e,t){let n,s;return t&&typeof e!="object"&&(t.itemByValue||(t.itemByValue={},n=this._getPlainItems(),n.forEach(function(r){t.itemByValue[this._valueGetter(r)]=r},this)),s=t.itemByValue[e]),s||(n=this._getPlainItems(),s=Qi(n,r=>this._isValueEquals(this._valueGetter(r),e))[0]),s}_resetInputText(){this._renderInputValue({renderOnly:!0})}_loadItem(e,t){const n=this._getItemFromPlain(e,t);return n!==void 0?de().resolve(n).promise():this._loadValue(e)}_getPlainItems(e){let t=[];const{grouped:n}=this.option();e=e||this.option("items")||this._dataSource.items()||[];for(let r=0;r<e.length;r++){var s;n&&(s=e[r])!==null&&s!==void 0&&s.items?t=t.concat(e[r].items):t.push(e[r])}return t}_updateActiveDescendant(e){var t;const n=this.option("opened"),s=(t=this._list)===null||t===void 0?void 0:t.getFocusedItemId(),r=M(`#${s}`).length>0,o=n&&r&&s;this.setAria({activedescendant:o||null},e)}_setSelectedItem(e){const t=this._displayValue(e);this.option("selectedItem",wn(e,null)),this.option("displayValue",t)}_displayValue(e){return this._displayGetter(e)}_refreshSelected(){const e={};this._listItemElements().each((t,n)=>{const s=M(n),r=this._valueGetter(s.data("dxListItemData"));this._isSelectedValue(r,e)?this._list.selectItem(s):this._list.unselectItem(s)})}_popupShownHandler(){super._popupShownHandler(),this._setFocusPolicy()}_setFocusPolicy(){!this.option("focusStateEnabled")||!this._list||this._list.option("focusedElement",null)}_isSelectedValue(e,t){return this._isValueEquals(e,this.option("value"))}_validateSearchMode(){const e=this.option("searchMode"),t=e.toLowerCase();if(!eoe.includes(t))throw pt.Error("E1019",e)}_clearSelectedItem(){this.option("selectedItem",null)}_processDataSourceChanging(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail(()=>{this._isCustomValueAllowed()||this._clearSelectedItem()})}_isCustomValueAllowed(){return this.option("displayCustomValue")}clear(){super.clear(),this._clearFilter(),this._clearSelectedItem()}_listItemElements(){return this._$list?this._$list.find(".dx-list-item"):M()}_popupConfig(){return Object.assign({},super._popupConfig(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})}_renderPopupContent(){super._renderPopupContent(),this._renderList()}_getKeyboardListeners(){return this._canListHaveFocus()?super._getKeyboardListeners():super._getKeyboardListeners().concat([this._list])}_renderList(){this._listId=`dx-${new Xt()._value}`;const e=M("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._$list=e,this._list=this._createComponent(e,eu,this._listConfig()),this._refreshList(),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()}_renderPreventBlurOnListClick(){const e=be("mousedown","dxDropDownList");Y.off(this._$list,e),Y.on(this._$list,e,t=>t.preventDefault())}_getControlsAria(){return this._list&&this._listId}_renderOpenedState(){super._renderOpenedState(),this._list&&this._updateActiveDescendant(),this.setAria("owns",this._popup&&this._popupContentId)}_getAriaHasPopup(){return"listbox"}_refreshList(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()}_shouldRefreshDataSource(){return!!this._list.option("dataSource")!==this._needPassDataSourceToList()}_isDesktopDevice(){return Oe.real().deviceType==="desktop"}_listConfig(){const{noDataText:e,grouped:t,wrapItemText:n,itemTemplate:s,groupTemplate:r,hoverStateEnabled:o,focusStateEnabled:a,encodeNoDataText:l,useItemTextAsTitle:d}=this.option(),c={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:e,encodeNoDataText:l,grouped:t,wrapItemText:n,useItemTextAsTitle:d,onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:s,indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:r,onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:this._isDesktopDevice()?o:!1,focusStateEnabled:this._isDesktopDevice()?a:!1,_onItemsRendered:()=>{this._popup.repaint()}};return this._canListHaveFocus()||(c.tabIndex=null),c}_canListHaveFocus(){return!1}_getDataSource(){return this._needPassDataSourceToList()?this._dataSource:null}_dataSourceOptions(){return{paginate:!1}}_getSpecificDataSourceOption(){const{grouped:e}=this.option(),t=this.option("dataSource");return t&&e?lF(t):t}_dataSourceFromUrlLoadMode(){return"raw"}_listContentReadyHandler(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._updatePopupWidth(),this._updateListDimensions(),this._contentReadyAction()}_setListOption(e,t){this._setWidgetOption("_list",arguments)}_listItemClickAction(e){this._listItemClickHandler(e),this._itemClickAction(e)}_listItemClickHandler(e){}_setListDataSource(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))}_needPassDataSourceToList(){const{showDataBeforeSearch:e}=this.option();return e||this._isMinSearchLengthExceeded()}_isMinSearchLengthExceeded(){return this._searchValue().toString().length>=this.option("minSearchLength")}_needClearFilter(){return this._canKeepDataSource()?!1:this._needPassDataSourceToList()}_canKeepDataSource(){const e=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!e&&!this._isLastMinSearchLengthExceeded}_searchValue(){return this._input().val()||""}_getSearchEvent(){return be("input",`${this.NAME}Search`)}_getCompositionStartEvent(){return be("compositionstart",`${this.NAME}CompositionStart`)}_getCompositionEndEvent(){return be("compositionend",`${this.NAME}CompositionEnd`)}_getSetFocusPolicyEvent(){return be("input",`${this.NAME}FocusPolicy`)}_renderEvents(){super._renderEvents(),Y.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(Y.on(this._input(),this._getSearchEvent(),e=>{this._searchHandler(e)}),T4&&(Y.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),Y.on(this._input(),this._getCompositionEndEvent(),e=>{this._isTextCompositionInProgress(void 0),this._searchHandler(e,this._searchValue())})))}_shouldRenderSearchEvent(){return this.option("searchEnabled")}_refreshEvents(){Y.off(this._input(),this._getSearchEvent()),Y.off(this._input(),this._getSetFocusPolicyEvent()),T4&&(Y.off(this._input(),this._getCompositionStartEvent()),Y.off(this._input(),this._getCompositionEndEvent())),super._refreshEvents()}_isTextCompositionInProgress(e){if(arguments.length)this._isTextComposition=e;else return this._isTextComposition}_searchHandler(e,t){if(this._isTextCompositionInProgress())return;if(!this._isMinSearchLengthExceeded()){this._searchCanceled();return}const{searchTimeout:n}=this.option();n?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(t)},n)):this._searchDataSource(t)}_searchCanceled(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()}_searchDataSource(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._searchValue();this._filterDataSource(e)}_filterDataSource(e){this._clearSearchTimer();const t=this._dataController;t.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),t.searchOperation(this.option("searchMode")),t.searchValue(e),t.load().done(this._dataSourceFiltered.bind(this,e))}_clearFilter(){const e=this._dataController;e.searchValue()&&e.searchValue(null)}_dataSourceFiltered(e){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()}_shouldOpenPopup(){return this._hasItemsToShow()}_refreshPopupVisibility(){if(this.option("readOnly")||!this._searchValue())return;const e=this._shouldOpenPopup();e&&!this._isFocused()||(this.option("opened",e),e&&(this._updatePopupWidth(),this._updateListDimensions()))}_dataSourceChangedHandler(e){this._dataController.pageIndex()===0?this.option().items=e:this.option().items=this.option().items.concat(e)}_hasItemsToShow(){const n=(this._dataController.items()||[]).length;return!!(this._needPassDataSourceToList()&&n)}_clearSearchTimer(){clearTimeout(this._searchTimer),delete this._searchTimer}_popupShowingHandler(){this._updatePopupWidth(),this._updateListDimensions()}_dimensionChanged(){super._dimensionChanged(),this._updateListDimensions()}_needPopupRepaint(){const e=this._dataController,t=e.pageIndex(),n=G(this._pageIndex)&&t<=this._pageIndex||e.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=t,n}_updateListDimensions(){this._popup&&(this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions())}_getMaxHeight(){const e=this.$element(),t=this._$customBoundaryContainer,n=e.offset().top-(t?t.offset().top:0),s=gt(I4),r=t?Math.min(gt(t),s):s,o=Math.max(n,r-n-gt(e));return Math.min(.5*r,o)}_clean(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,super._clean()}_dispose(){this._clearSearchTimer(),super._dispose()}_setCollectionWidgetOption(){this._setListOption.apply(this,arguments)}_setSubmitValue(){const e=this.option("value"),t=this._shouldUseDisplayValue(e)?this._displayGetter(e):e;this._getSubmitElement().val(t)}_shouldUseDisplayValue(e){return this.option("valueExpr")==="this"&&Me(e)}_optionChanged(e){switch(this._dataExpressionOptionChanged(e),e.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(e.name,e.value),super._optionChanged(e);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"encodeNoDataText":case"useItemTextAsTitle":this._setListOption(e.name);break;case"displayValue":this.option("text",e.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":e.previousValue!==e.value&&this._selectionChangedAction({selectedItem:e.value});break;default:super._optionChanged(e)}}}zS.include(KF);St("dxDropDownList",zS);let WS=class extends zS{_supportedKeys(){const e=this,t=super._supportedKeys(),n=function(r){this._isEditable()?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(r.preventDefault(),this.clear()),this._savedTextRemoveEvent=r,this._preventSubstitution=!0},s=function(){e.option("searchEnabled")&&e._valueSubstituted()&&e._searchHandler()};return Object.assign({},t,{tab(){const{opened:r}=this.option(),o=r&&!!this._popup.getFocusableElements().length;o||this._resetCaretPosition(!0),t.tab&&t.tab.apply(this,arguments),o||this._cancelSearchIfNeed()},upArrow(r){if(t.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(r),!0},downArrow(r){if(t.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(r),!0},leftArrow(){var r;s(),(r=t.leftArrow)===null||r===void 0||r.apply(this,arguments)},rightArrow(){var r;s(),(r=t.rightArrow)===null||r===void 0||r.apply(this,arguments)},home(){var r;s(),(r=t.home)===null||r===void 0||r.apply(this,arguments)},end(){var r;s(),(r=t.end)===null||r===void 0||r.apply(this,arguments)},escape(){var r;const o=(r=t.escape)===null||r===void 0?void 0:r.apply(this,arguments);return this._cancelEditing(),o??!0},enter(r){const o=this.option("opened"),a=this._input().val().trim(),l=a&&this._list&&!this._list.option("focusedElement");if(!a&&G(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(r),this.option({selectedItem:null,value:null}),this.close();else{var d;if(this.option("acceptCustomValue"))return r.preventDefault(),l&&(o&&this._toggleOpenState(),this._valueChangeEventHandler(r)),o;if((d=t.enter)!==null&&d!==void 0&&d.apply(this,arguments))return o}},space(r){const o=this.option("opened"),a=this.option("searchEnabled"),l=this.option("acceptCustomValue");if(!(!o||a||l))return r.preventDefault(),this._valueChangeEventHandler(r),!0},backspace:n,del:n})}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{placeholder:ue.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",acceptCustomValue:!1,onCustomItemCreating(e){G(e.customItem)||(e.customItem=e.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})}_init(){super._init(),this._initCustomItemCreatingAction()}_initMarkup(){this.$element().addClass("dx-selectbox"),this._renderTooltip(),super._initMarkup(),this._$container.addClass("dx-selectbox-container")}_createPopup(){super._createPopup(),this._popup.$element().addClass("dx-selectbox-popup"),this._popup.$overlayContent().attr("tabindex",-1)}_popupWrapperClass(){return`${super._popupWrapperClass()} dx-selectbox-popup-wrapper`}_cancelEditing(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))}_renderOpenedState(){super._renderOpenedState(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())}_focusSelectedElement(){if(!this._searchValue()){this._focusListElement(null);return}const{items:t,selectedItem:n}=this.option(),s=this._list._itemElements(),r=(t==null?void 0:t.indexOf(n))??-1,o=r!==-1&&!this._isCustomItemSelected()?s.eq(r):null;this._focusListElement(o)}_renderFocusedElement(){if(!this._list)return;if(!this._searchValue()||this.option("acceptCustomValue")){this._focusListElement(null);return}const n=this._list._itemElements().not(".dx-state-disabled").eq(0);this._focusListElement(n)}_focusListElement(e){this._preventInputValueRender=!0,this._list.option("focusedElement",We(e)),delete this._preventInputValueRender}_scrollToSelectedItem(){if(!this._list)return;const{selectedItem:e}=this._list.option();this._list.scrollToItem(e)}_listContentReadyHandler(){super._listContentReadyHandler(),!(this._dataController.paginate()&&this._needPopupRepaint())&&this._scrollToSelectedItem()}_renderValue(){return this._renderInputValue(),this._setSubmitValue(),de().resolve()}_renderInputValue(){return super._renderInputValue(...arguments).always(()=>{this._renderInputValueAsync()})}_renderInputValueAsync(){this._renderTooltip(),this._renderInputValueImpl().always(()=>{this._refreshSelected()})}_renderInputValueImpl(){return this._renderField(),de().resolve()}_setNextItem(e){const t=this._calcNextItem(e),n=this._valueGetter(t);this._setValue(n)}_setNextValue(e){(this._dataController.isLoaded()?de().resolve():this._dataController.load()).done(()=>{const n=this._getSelectedIndex(),s=this._dataController.pageSize(),r=this._dataController.isLastPage(),o=n===this._items().length-1;this._saveValueChangeEvent(e);const a=En(e)==="downArrow"?1:-1;s&&!r&&o&&a>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,a))):this._setNextItem(a)})}_setSelectedItem(e){const t=!this._isCustomValueAllowed()&&e===void 0;super._setSelectedItem(t?null:e),!t&&(!this._isEditable()||this._isCustomItemSelected())&&this._setListOption("selectedItem",this.option("selectedItem"))}_isCustomValueAllowed(){return this.option("acceptCustomValue")||super._isCustomValueAllowed()}_displayValue(e){return e=!G(e)&&this._isCustomValueAllowed()?this.option("value"):e,super._displayValue(e)}_listConfig(){const e=se(super._listConfig(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this),_onItemsRendered:()=>{this._popup.repaint(),this.option("opened")&&this._scrollToSelectedItem()}});return this.option("showSelectionControls")&&se(e,{showSelectionControls:!0,selectByClick:!0}),e}_listFocusedItemChangeHandler(e){if(this._preventInputValueRender)return;const t=e.component,n=M(t.option("focusedElement")),s=t._getItemData(n);this._updateField(s)}_updateField(e){const{fieldTemplate:t}=this.option();if(!(this._getTemplate(t)&&t)){const s=this._displayGetter(e);this.option("text",s),this._renderDisplayText(s);return}this._renderField()}_getSelectionChangeHandler(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):Te}_selectionChangeHandler(e){ie(e.addedItems||[],(t,n)=>{this._setValue(this._valueGetter(n))})}_getActualSearchValue(){return this._dataController.searchValue()}_isInlineAutocompleteEnabled(){const{searchEnabled:e,acceptCustomValue:t,searchMode:n}=this.option();return e&&!t&&n==="startswith"}_getAriaAutocomplete(){const{disabled:e,readOnly:t,searchEnabled:n}=this.option();return n&&!(t||e)?this._isInlineAutocompleteEnabled()?"both":"list":"none"}_toggleOpenState(e){if(!this.option("disabled")){if(e=arguments.length?e:!this.option("opened"),!e&&!this._shouldClearFilter()&&this._restoreInputText(!0),this._wasSearch()&&e)if(this._wasSearch(!1),(this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded())&&this._dataController.getDataSource()){if(this._searchTimer)return;const n=this._getActualSearchValue();n&&this._wasSearch(!0),this._filterDataSource(n||null)}else this._setListOption("items",[]);e&&this._scrollToSelectedItem(),super._toggleOpenState(e)}}_renderTooltip(){const{tooltipEnabled:e,displayValue:t}=this.option();e&&this.$element().attr("title",t)}_renderDimensions(){super._renderDimensions(),this._updatePopupWidth(),this._updateListDimensions()}_isValueEqualInputText(){const e=this.option("selectedItem");if(e===null)return!1;const t=this._displayGetter(e),n=t?String(t):"",s=this._searchValue();return n===s}_popupHidingHandler(){this._isValueEqualInputText()&&this._cancelEditing(),super._popupHidingHandler()}_popupHiddenHandler(){super._popupHiddenHandler(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))}_restoreInputText(e){var t;this.option("readOnly")||(t=this._loadItemDeferred)===null||t===void 0||t.always(()=>{const{acceptCustomValue:n,text:s,selectedItem:r,customItemCreateEvent:o}=this.option();if(n){if(!e&&!this._isValueChanging){let a=null;G(r)?a=r:o!==""&&(a=this._createCustomItem(s)),this._updateField(a),this._clearFilter()}return}if(this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")){this._clearTextValue();return}this._isValueEqualInputText()||this._renderInputValue().always(a=>{const l=wn(a,r);this._setSelectedItem(l),this._updateField(l),this._clearFilter()})})}_valueChangeEventIncludesBlur(){return this.option(this._getValueChangeEventOptionName()).includes("blur")}_isPreventedFocusOutEvent(e){return this._preventNestedFocusEvent(e)||this._valueChangeEventIncludesBlur()}_focusOutHandler(e){this._isPreventedFocusOutEvent(e)||(this._isOverlayNestedTarget(e.relatedTarget)||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(e)),e.target=this._input().get(0),super._focusOutHandler(e)}_cancelSearchIfNeed(e){const{searchEnabled:t}=this.option(),n=this._isOverlayNestedTarget(e==null?void 0:e.relatedTarget);if(this._wasSearch()&&t&&!n){var r;const o=(r=this._popup)===null||r===void 0?void 0:r._hideAnimationProcessing;this._clearSearchTimer(),o?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}}_shouldCancelSearch(e){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=e}_isOverlayNestedTarget(e){return!!M(e).closest(".dx-selectbox-popup-wrapper").length}_clearTextValue(){const e=this.option("selectedItem"),t=this._displayGetter(e);e&&t!==""&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent}_shouldOpenPopup(){return this._needPassDataSourceToList()&&this._wasSearch()}_isFocused(){const e=ve.getActiveElement(this.element());return super._isFocused()&&M(e).closest(this._input()).length>0}_getValueChangeEventOptionName(){return"customItemCreateEvent"}_renderValueChangeEvent(){this._isEditable()&&super._renderValueChangeEvent()}_fieldRenderData(){const{focusedElement:e}=this.option(),t=this._list&&this.option("opened")&&M(e);return t!=null&&t.length?this._list._getItemData(t):this.option("selectedItem")}_isSelectedValue(e,t){return this._isValueEquals(e,this.option("value"))}_shouldCloseOnItemClick(){const{selectionMode:e}=this.option();return!(this.option("showSelectionControls")&&e!=="single")}_listItemClickHandler(e){const t=this._getCurrentValue();this._focusListElement(M(e.itemElement)),this._saveValueChangeEvent(e.event),this._completeSelection(this._valueGetter(e.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&t===this._valueGetter(e.itemData)&&this._updateField(e.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()}_shouldClearFilter(){return this._wasSearch()}_completeSelection(e){this._setValue(e)}_loadItem(e,t){const n=this,s=de();return super._loadItem(e,t).done(r=>{s.resolve(r)}).fail(r=>{if(r!=null&&r.shouldSkipCallback)return;const o=n.option("selectedItem");n.option("acceptCustomValue")&&e===n._valueGetter(o)?s.resolve(o):s.reject()}),s.promise()}_loadInputValue(e,t){return this._loadItemDeferred=this._loadItem(e).always(t),this._loadItemDeferred}_isCustomItemSelected(){const e=this.option("selectedItem"),t=this._searchValue(),n=this._displayGetter(e);return!n||t!==n.toString()}_valueChangeEventHandler(e){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(e))}_initCustomItemCreatingAction(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")}_createCustomItem(e){const t={text:e},n=this._customItemCreatingAction(t),s=wn(n,t.customItem);return G(n)&&Ut.log("W0015","onCustomItemCreating","customItem"),s}_customItemAddedHandler(e){const t=this._searchValue(),n=this._createCustomItem(t);if(this._saveValueChangeEvent(e),n===void 0)throw this._renderValue(),Ut.Error("E0121");Ho(n)?ci(n).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(n)}_setCustomItem(e){this._disposed||(e=e||null,this.option("selectedItem",e),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(e)),this._renderDisplayText(this._displayGetter(e)),this._isValueChanging=!1)}_clearValueHandler(e){return this._preventFiltering=!0,super._clearValueHandler(e),this._searchCanceled(),!1}_wasSearch(e){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=e}_searchHandler(e){if(this._preventFiltering){delete this._preventFiltering;return}this._needPassDataSourceToList()&&this._wasSearch(!0),super._searchHandler(arguments)}_dataSourceFiltered(e){super._dataSourceFiltered(),e!==null&&(this._renderInputSubstitution(),this._renderFocusedElement())}_valueSubstituted(){const e=this._input().get(0),t=this._searchValue().length,n=e.selectionStart===0&&e.selectionEnd===t,s=e.selectionStart!==e.selectionEnd,r=t===e.selectionEnd;return this._wasSearch()&&s&&!n&&r&&this._shouldSubstitutionBeRendered()}_shouldSubstitutionBeRendered(){return!this._preventSubstitution&&this._isInlineAutocompleteEnabled()}_renderInputSubstitution(){if(!this._shouldSubstitutionBeRendered()){delete this._preventSubstitution;return}const e=this._list&&this._getPlainItems(this._list.option("items"))[0];if(!e)return;const t=this._input(),n=t.val().length;if(n===0)return;const s=t.get(0),r=this._displayGetter(e).toString();s.value=r,this._caret({start:n,end:r.length})}_shouldLogFieldTemplateDeprecationWarning(){return!0}_dispose(){this._renderInputValueAsync=Te,delete this._loadItemDeferred,super._dispose()}_optionChanged(e){switch(e.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"readOnly":case"disabled":case"searchMode":super._optionChanged(e),this._setDefaultAria();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:super._optionChanged(e)}}};St("dxSelectBox",WS);const GF="dxSwipeable",toe={onStart:XM,onUpdated:ZM,onEnd:IS,onCancel:"dxswipecancel"};class qg extends Ar{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{elastic:!0,immediate:!1,immediateTimeout:180,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})}_render(){super._render(),this.$element().addClass("dx-swipeable"),this._attachEventHandlers()}_attachEventHandlers(){if(this._detachEventHandlers(),this.option("disabled"))return;const{NAME:e}=this;this._createEventData(),ie(toe,(t,n)=>{const s=this._createActionByOption(t,{context:this}),r=be(n,e);Y.on(this.$element(),r,this._eventData,o=>s({event:o}))})}_createEventData(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate"),immediateTimeout:this.option("immediateTimeout")}}_detachEventHandlers(){Y.off(this.$element(),`.${GF}`)}_optionChanged(e){switch(e.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:super._optionChanged(e)}}_useTemplates(){return!1}}Ep(qg,GF);class US{constructor(e){this.calendar=e}dateValue(e,t){this.calendar._dateValue(e,t)}skipNavigate(){this.calendar._skipNavigate=!0}updateAriaSelected(e,t){this.calendar._updateAriaSelected(e,t);const{currentDate:n=new Date}=this.calendar.option();e[0]&&n.getTime()===e[0].getTime()&&this.calendar._updateAriaId(e[0])}processValueChanged(e,t){var n,s;let r=e,o=t;G(r)&&!Array.isArray(r)&&(r=[r]),G(o)&&!Array.isArray(o)&&(o=[o]),r=((n=r)===null||n===void 0?void 0:n.map(a=>this._convertToDate(a)))??[],o=((s=o)===null||s===void 0?void 0:s.map(a=>this._convertToDate(a)))??[],this._updateViewsValue(r.filter(a=>a!==null)),this.updateAriaSelected(r,o),this._currentDateChanged||this.calendar._initCurrentDate(),this._currentDateChanged=!1}_isDateDisabled(e){const t=this.calendar._getDateOption("min"),n=this.calendar._getDateOption("max"),s=G(t)&&e<t&&!Be.sameDate(t,e),r=G(n)&&e>n&&!Be.sameDate(n,e);return this.calendar._view.isDateDisabled(e)||s||r}_getLowestDateInArray(e){return e.length?new Date(Math.min(...e.map(t=>(t==null?void 0:t.getTime())??1/0))):null}_convertToDate(e){return this.calendar._convertToDate(e)}_isMaxZoomLevel(){return this.calendar._isMaxZoomLevel()}_updateViewsOption(e,t){this.calendar._updateViewsOption(e,t)}_updateViewsValue(e){this._updateViewsOption("value",e)}_updateCurrentDate(e){this.calendar.option("currentDate",e??new Date)}_shouldHandleWeekNumberClick(){const{selectionMode:e,selectWeekOnClick:t}=this.calendar.option();return t===!0&&e!=="single"}}class noe extends US{constructor(e){super(e),this.NAME="MultiSelection"}dateOption(e){return e==="value"?this.calendar._getDateOption("value"):this.calendar._getDateOption(e)}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"multiple",onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,t){const n=[...this.dateOption("value")],s=n.findIndex(r=>(r==null?void 0:r.toDateString())===e.toDateString());s>-1?n.splice(s,1):n.push(e),this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.dateValue(n,t)}updateAriaSelected(e,t){const n=e??this.dateOption("value"),s=t??[];super.updateAriaSelected(n,s)}getDefaultCurrentDate(){const t=this.dateOption("value").filter(n=>n!==null);return this._getLowestDateInArray(t)}restoreValue(){this.calendar.option("value",[])}_weekNumberClickHandler(e){let{rowDates:t,event:n}=e;const s=t.filter(r=>!this._isDateDisabled(r));this.dateValue(s,n)}}class ioe extends Oi{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{onClick:void 0,onCaptionClick:void 0,type:"normal",stylingMode:"outlined",text:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>xs(Yt()),options:{type:"default",stylingMode:"text"}},{device:()=>ts(Yt()),options:{type:"normal",stylingMode:"text"}}])}_init(){super._init(),this._initActions()}_initActions(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")}_initMarkup(){super._initMarkup(),M(this.element()).addClass("dx-calendar-navigator"),this._renderButtons(),this._renderCaption()}_renderButtons(){const{rtlEnabled:e,type:t,stylingMode:n,focusStateEnabled:s}=this.option();this._prevButton=this._createComponent(M("<div>"),si,{focusStateEnabled:s,icon:e?"chevronright":"chevronleft",onClick:l=>{var d;(d=this._clickAction)===null||d===void 0||d.call(this,{direction:-1,event:l})},type:t,stylingMode:n,integrationOptions:{}});const r=M(this._prevButton.element()).addClass("dx-calendar-navigator-previous-view").addClass("dx-calendar-navigator-previous-month");this._nextButton=this._createComponent(M("<div>"),si,{focusStateEnabled:s,icon:e?"chevronleft":"chevronright",onClick:l=>{var d;(d=this._clickAction)===null||d===void 0||d.call(this,{direction:1,event:l})},type:t,stylingMode:n,integrationOptions:{}});const o=M(this._nextButton.element()).addClass("dx-calendar-navigator-next-view").addClass("dx-calendar-navigator-next-month");this._caption=this._createComponent(M("<div>").addClass("dx-calendar-caption-button"),si,{focusStateEnabled:s,onClick:l=>{var d;(d=this._captionClickAction)===null||d===void 0||d.call(this,{event:l})},type:t,stylingMode:n,template:(l,d)=>{const{text:c}=this.option();c.split(" - ").forEach(u=>{M(d).append(M("<span>").addClass("dx-button-text").text(u))})},integrationOptions:{}});const a=this._caption.$element();this.$element().append(r).append(a).append(o)}_renderCaption(){var e;const{text:t}=this.option();(e=this._caption)===null||e===void 0||e.option("text",t)}toggleButton(e,t){const n=`_${e}Button`,s=this[n];s&&(s.option("disabled",t),s.$element().toggleClass("dx-calendar-disabled-navigator-link",t))}_optionChanged(e){const{name:t}=e;t==="text"?this._renderCaption():super._optionChanged(e)}}class soe extends US{constructor(e){super(e),this.NAME="RangeSelection"}dateOption(e){return e==="value"?this.calendar._getDateOption("value")||null:this.calendar._getDateOption(e)}getViewOptions(){const e=this._getValue(),t=this._getDaysInRange(e[0],e[1]);return{value:e,range:t,selectionMode:"range",onCellHover:this._cellHoverHandler.bind(this),onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,t){const[n,s]=this._getValue();this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0;const{allowChangeSelectionOrder:r,currentSelection:o}=this.calendar.option();if(r===!0){this.calendar._valueSelected=!0;const a=this.calendar._convertToDate(e);o==="startDate"?a>(this.calendar._convertToDate(s)??new Date(0))?this.dateValue([e,null],t):this.dateValue([e,s],t):a>=(this.calendar._convertToDate(n)??new Date(0))?this.dateValue([n,e],t):this.dateValue([e,null],t)}else!n||s?this.dateValue([e,null],t):this.dateValue(n<e?[n,e]:[e,n],t)}updateAriaSelected(e,t){const n=e??this._getValue(),s=t??[];super.updateAriaSelected(n,s)}processValueChanged(e,t){super.processValueChanged(e,t);const n=this._getRange();this._updateViewsOption("range",n)}getDefaultCurrentDate(){const{allowChangeSelectionOrder:e,currentSelection:t}=this.calendar.option(),n=this.dateOption("value");if(e){if(t==="startDate"&&n[0])return n[0];if(t==="endDate"&&n[1])return n[1]}const s=n.filter(r=>r!==null);return this._getLowestDateInArray(s)}restoreValue(){this.calendar.option("value",[null,null])}_getValue(){const e=this.dateOption("value");if(!e.length)return e;let[t,n]=e;return t&&n&&t>n&&([t,n]=[n,t]),[t,n]}_getRange(){const[e,t]=this._getValue();return this._getDaysInRange(e,t)}_getDaysInRange(e,t){if(!e||!t)return[];const{currentDate:n,viewsCount:s}=this.calendar.option(),r=this.calendar._isAdditionalViewDate(n),o=Be.getFirstMonthDate(n,r?-2:-1),a=Be.getLastMonthDate(n,r?1:s),l=new Date(Math.max(o.getTime(),e.getTime())),d=new Date(Math.min(a.getTime(),t.getTime()));return[...Be.getDatesOfInterval(l,d,864e5),d]}_cellHoverHandler(e){const t=this._isMaxZoomLevel(),[n,s]=this._getValue(),{allowChangeSelectionOrder:r,currentSelection:o}=this.calendar.option();if(t){if(n&&!s&&!(r&&o==="startDate")){if(e.value>n){this._updateViewsOption("hoveredRange",this._getDaysInRange(n,e.value));return}}else if(!n&&s&&!(r&&o==="endDate")){if(e.value<s){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,s));return}}else if(n&&s){if(o==="startDate"&&e.value<n){this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,n));return}if(o==="endDate"&&e.value>s){this._updateViewsOption("hoveredRange",this._getDaysInRange(s,e.value));return}}this._updateViewsOption("hoveredRange",[])}}_weekNumberClickHandler(e){let{rowDates:t,event:n}=e;const s=t.filter(o=>!this._isDateDisabled(o)),r=s.length?[s[0],s[s.length-1]]:[null,null];this.dateValue(r,n)}}class roe extends US{constructor(e){super(e),this.NAME="SingleSelection"}dateOption(e){return e==="value"?this.calendar._getDateOption("value"):this.calendar._getDateOption(e)}getViewOptions(){return{value:this.dateOption("value")??void 0,range:[],selectionMode:"single"}}selectValue(e,t){this.skipNavigate(),this.dateValue(e,t)}updateAriaSelected(e,t){const n=e??[this.dateOption("value")],s=t??[];super.updateAriaSelected(n,s)}getDefaultCurrentDate(){return this.dateOption("value")}restoreValue(){this.calendar.option("value",null)}_updateViewsValue(e){this._updateViewsOption("value",e[0])}}const D4="td:not(.dx-calendar-week-number-cell)",Nx=be(Nt,"dxCalendar"),A4=be(Rp,"dxCalendar"),ooe={month:ue.format("dxCalendar-currentDay"),year:ue.format("dxCalendar-currentMonth"),decade:ue.format("dxCalendar-currentYear"),century:ue.format("dxCalendar-currentYearRange")},ul={single:"single",multiple:"multiple",range:"range"};class l_ extends Oi{_getViewName(){return"base"}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,onCellHover:null,onWeekNumberClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})}_initMarkup(){super._initMarkup(),this._renderImpl()}_renderImpl(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderRange(),this._renderEvents(),this._updateTableAriaLabel()}_getLocalizedWidgetName(){return ue.format("dxCalendar-ariaWidgetName")}_getSingleModeAriaLabel(){const{value:e}=this.option(),t=this._getLocalizedWidgetName(),n=ut.format(e,"date"),s=ue.format("dxCalendar-selectedDate",n);return`${t}. ${s}`}_getRangeModeAriaLabel(){const{value:e}=this.option(),t=this._getLocalizedWidgetName(),[n,s]=e,r=ut.format(n,"date"),o=ut.format(s,"date"),a=n&&s?ue.format("dxCalendar-selectedDateRange",r,o):ue.format("dxCalendar-selectedDate",r??o);return`${t}. ${a}`}_getMultipleModeAriaLabel(){const e=this._getLocalizedWidgetName(),t=this._getMultipleRangesText();return`${e}. ${t}`}_getMultipleRangesText(){const{value:e}=this.option(),t=e,n=Be.getRangesByDates(t.map(a=>new Date(a)));if(n.length>2)return ue.format("dxCalendar-selectedDateRangeCount",n.length);const s=ue.format("dxCalendar-selectedDates"),r=n.map(a=>this._getRangeText(a)).join(", ");return`${s}: ${r}`}_getRangeText(e){const[t,n]=e,s=ut.format(t,"date"),r=ut.format(n,"date");return`${t&&n?ue.format("dxCalendar-selectedMultipleDateRange",s,r):s}`}_getTableAriaLabel(){const{value:e,selectionMode:t}=this.option();if(!e||Array.isArray(e)&&!e.filter(Boolean).length)return this._getLocalizedWidgetName();switch(t){case ul.single:return this._getSingleModeAriaLabel();case ul.range:return this._getRangeModeAriaLabel();case ul.multiple:return this._getMultipleModeAriaLabel();default:return this._getSingleModeAriaLabel()}}_updateTableAriaLabel(){const e=this._getTableAriaLabel();this.setAria({label:e},this._$table)}_createTable(){return this._$table=M("<table>"),this.setAria({role:"grid"},this._$table),this._$table}_renderBody(){this.$body=M("<tbody>").appendTo(this._$table);const e={cellDate:this._getFirstCellData(),prevCellDate:null,row:void 0},{rowCount:t,colCount:n}=this.option();for(let s=0,r=t;s<r;s+=1){e.row=this._createRow();for(let o=0,a=n;o<a;o+=1)this._renderCell(e,o);this._renderWeekNumberCell(e)}}_renderWeekNumberCell(e){}_createRow(){const e=ve.createElement("tr");return this.setAria("role","row",M(e)),this.$body.get(0).appendChild(e),e}_createCell(e,t){const n=ve.createElement("td"),s=M(n);return n.className=this._getClassNameByDate(e,t),n.setAttribute("data-value",Wn.serializeDate(e,Be.getShortDateFormat())),kn(n,"dxDateValueKey",e),this.setAria({role:"gridcell",selected:!1,label:this.getCellAriaLabel(e)},s),{cell:n,$cell:s}}_renderCell(e,t){const{cellDate:n,prevCellDate:s,row:r}=e;s&&Be.fixTimezoneGap(s,n),e.prevCellDate=n;const{cell:o,$cell:a}=this._createCell(n,t),{cellTemplate:l}=this.option();M(r).append(o),l?l.render(this._prepareCellTemplateData(n,t,a)):o.innerHTML=this._getCellText(n),e.cellDate=this._getNextCellData(n)}_getClassNameByDate(e,t){let n="dx-calendar-cell";this._isTodayCell(e)&&(n+=" dx-calendar-today"),(this._isDateOutOfRange(e)||this.isDateDisabled(e))&&(n+=" dx-calendar-empty-cell"),this._isOtherView(e)&&(n+=" dx-calendar-other-view");const{selectionMode:s}=this.option();if(s===ul.range){t===0&&(n+=" dx-calendar-cell-start-in-row");const{colCount:r}=this.option();t===r-1&&(n+=" dx-calendar-cell-end-in-row"),this._isStartDayOfMonth(e)&&(n+=" dx-calendar-cell-start"),this._isEndDayOfMonth(e)&&(n+=" dx-calendar-cell-end")}return n}_prepareCellTemplateData(e,t,n){const s=e instanceof Date,r=s?this._getCellText(e):e,o=s?e:void 0,a=this._getViewName();return{model:{text:r,date:o,view:a},container:We(n),index:t}}_renderEvents(){this._createCellClickAction(),Y.off(this._$table,Nx),Y.on(this._$table,Nx,D4,t=>{M(t.currentTarget).hasClass("dx-calendar-empty-cell")||this._cellClickAction({event:t,value:M(t.currentTarget).data("dxDateValueKey")})});const{selectionMode:e}=this.option();Y.off(this._$table,A4),e===ul.range&&(this._createCellHoverAction(),Y.on(this._$table,A4,D4,t=>{M(t.currentTarget).hasClass("dx-calendar-empty-cell")||this._cellHoverAction({event:t,value:M(t.currentTarget).data("dxDateValueKey")})})),e!==ul.single&&(this._createWeekNumberCellClickAction(),Y.on(this._$table,Nx,".dx-calendar-week-number-cell",t=>{const n=M(t.currentTarget).closest("tr"),s=n.find(".dx-calendar-cell").first().data("dxDateValueKey"),r=n.find(".dx-calendar-cell").last().data("dxDateValueKey"),o=[...Be.getDatesOfInterval(s,r,864e5),r];this._weekNumberCellClickAction({event:t,rowDates:o})}))}_createCellClickAction(){this._cellClickAction=this._createActionByOption("onCellClick")}_createCellHoverAction(){this._cellHoverAction=this._createActionByOption("onCellHover")}_createWeekNumberCellClickAction(){this._weekNumberCellClickAction=this._createActionByOption("onWeekNumberClick")}_createDisabledDatesHandler(){const{disabledDates:e}=this.option();this._disabledDatesHandler=Array.isArray(e)?this._getDefaultDisabledDatesHandler(e):e??(()=>!1)}_getDefaultDisabledDatesHandler(e){return()=>!1}_isTodayCell(e){return!1}_isDateOutOfRange(e){return!1}isDateDisabled(e){const t={date:e,view:this._getViewName()};return this._disabledDatesHandler(t)}_isOtherView(e){return!1}_isStartDayOfMonth(e){return!1}_isEndDayOfMonth(e){return!1}_getCellText(e){return""}_getFirstCellData(){return new Date}_getNextCellData(e){return new Date(e)}_renderContouredDate(e){const{focusStateEnabled:t}=this.option();if(!t)return;const{contouredDate:n}=this.option(),s=e??n,r=this._getContouredCell(),o=this._getCellByDate(s);r.removeClass("dx-calendar-contoured-date"),s&&o.addClass("dx-calendar-contoured-date")}_getContouredCell(){return this._$table.find(".dx-calendar-contoured-date")}_renderValue(){if(!this.option("allowValueSelection"))return;let{value:e=[]}=this.option();Array.isArray(e)||(e=[e]),this._updateSelectedClass(e)}_updateSelectedClass(e){var t;this._isRangeMode()&&!this._isMonthView()||((t=this._$selectedCells)===null||t===void 0||t.forEach(n=>{n.removeClass("dx-calendar-selected-date")}),this._$selectedCells=e.map(n=>this._getCellByDate(n)),this._$selectedCells.forEach(n=>{n.addClass("dx-calendar-selected-date")}))}_renderRange(){var e,t,n,s,r,o,a,l;const{allowValueSelection:d,value:c=[],range:h}=this.option();!d||!this._isRangeMode()||!this._isMonthView()||((e=this._$rangeCells)===null||e===void 0||e.forEach(u=>{u.removeClass("dx-calendar-cell-in-range")}),(t=this._$hoveredRangeCells)===null||t===void 0||t.forEach(u=>{u.removeClass("dx-calendar-cell-range-hover")}),(n=this._$rangeStartHoverCell)===null||n===void 0||n.removeClass("dx-calendar-cell-range-hover-start"),(s=this._$rangeEndHoverCell)===null||s===void 0||s.removeClass("dx-calendar-cell-range-hover-end"),(r=this._$rangeStartDateCell)===null||r===void 0||r.removeClass("dx-calendar-range-start-date"),(o=this._$rangeEndDateCell)===null||o===void 0||o.removeClass("dx-calendar-range-end-date"),this._$rangeCells=h.map(u=>this._getCellByDate(u)),this._$rangeStartDateCell=this._getCellByDate(c[0]),this._$rangeEndDateCell=this._getCellByDate(c[1]),this._$rangeCells.forEach(u=>{u.addClass("dx-calendar-cell-in-range")}),(a=this._$rangeStartDateCell)===null||a===void 0||a.addClass("dx-calendar-range-start-date"),(l=this._$rangeEndDateCell)===null||l===void 0||l.addClass("dx-calendar-range-end-date"))}_renderHoveredRange(){var e,t,n,s,r;const{allowValueSelection:o,hoveredRange:a}=this.option();!o||!this._isRangeMode()||!this._isMonthView()||((e=this._$hoveredRangeCells)===null||e===void 0||e.forEach(l=>{l.removeClass("dx-calendar-cell-range-hover")}),(t=this._$rangeStartHoverCell)===null||t===void 0||t.removeClass("dx-calendar-cell-range-hover-start"),(n=this._$rangeEndHoverCell)===null||n===void 0||n.removeClass("dx-calendar-cell-range-hover-end"),this._$hoveredRangeCells=a.map(l=>this._getCellByDate(l)),this._$rangeStartHoverCell=this._getCellByDate(a[0]),this._$rangeEndHoverCell=this._getCellByDate(a[a.length-1]),this._$hoveredRangeCells.forEach(l=>{l.addClass("dx-calendar-cell-range-hover")}),(s=this._$rangeStartHoverCell)===null||s===void 0||s.addClass("dx-calendar-cell-range-hover-start"),(r=this._$rangeEndHoverCell)===null||r===void 0||r.addClass("dx-calendar-cell-range-hover-end"))}_isMonthView(){const{zoomLevel:e}=this.option();return e==="month"}_isRangeMode(){const{selectionMode:e}=this.option();return e===ul.range}_getCurrentDateFormat(){return null}getCellAriaLabel(e){const t=this._getViewName(),n=this._isTodayCell(e),s=this._getCurrentDateFormat(),r=s?`${ut.format(e,s)}`:this._getCellText(e);return n?`${r}. ${ooe[t]}`:r}_getFirstAvailableDate(){const{date:e,min:t}=this.option(),n=Be.getViewFirstCellDate(this._getViewName(),e)??e;return new Date(t&&n<t?t:n)}_getCellByDate(e){return M()}isBoundary(e){return!1}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"value":this._renderValue(),this._updateTableAriaLabel();break;case"range":this._renderRange();break;case"hoveredRange":this._renderHoveredRange();break;case"contouredDate":this._renderContouredDate(n);break;case"onCellClick":this._createCellClickAction();break;case"onCellHover":this._createCellHoverAction();break;case"min":case"max":case"disabledDates":case"cellTemplate":case"selectionMode":this._invalidate();break;case"_todayDate":this._renderBody();break;default:super._optionChanged(e)}}}class aoe extends l_{_getViewName(){return"month"}_getCurrentDateFormat(){return"longdate"}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{firstDayOfWeek:0,rowCount:6,colCount:7})}_renderImpl(){super._renderImpl(),this._renderHeader()}_renderBody(){super._renderBody(),this._$table.find(".dx-calendar-other-view").addClass("dx-calendar-other-month")}_renderFocusTarget(){}_renderHeader(){const e=M("<tr>"),t=M("<thead>").append(e);this._$table.prepend(t);const{colCount:n,showWeekNumbers:s}=this.option();for(let r=0,o=n;r<o;r+=1)this._renderHeaderCell(r,e);s&&this._renderWeekHeaderCell(e)}_renderHeaderCell(e,t){const{firstDayOfWeek:n=0}=this.option(),{full:s,abbreviated:r}=this._getDayCaption(n+e),o=M("<th>").attr({scope:"col",abbr:s}).text(r);t.append(o)}_renderWeekHeaderCell(e){const t=M("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"});e.prepend(t)}_renderWeekNumberCell(e){const{showWeekNumbers:t,cellTemplate:n,selectionMode:s,selectWeekOnClick:r}=this.option();if(!t)return;const o=this._getWeekNumber(e.prevCellDate),a=ve.createElement("td"),l=M(a);a.className="dx-calendar-week-number-cell",s!=="single"&&r&&l.addClass("dx-calendar-week-selection"),n?n.render(this._prepareCellTemplateData(o,-1,l)):a.innerHTML=`${o}`,e.row.prepend(a),this.setAria({role:"gridcell",label:`Week ${o}`},l)}_getWeekNumber(e){const{weekNumberRule:t="auto",firstDayOfWeek:n}=this.option();return t==="auto"?Be.getWeekNumber(e,n,n===1?"firstFourDays":"firstDay"):Be.getWeekNumber(e,n,t)}getNavigatorCaption(){const{date:e}=this.option();return`${ut.format(e,"monthandyear")}`}_isTodayCell(e){const{_todayDate:t}=this.option();return Be.sameDate(e,t())}_isDateOutOfRange(e){const t=this.option("min"),n=this.option("max");return!Be.dateInRange(e,t,n,"date")}_isOtherView(e){const{date:t}=this.option();return e.getMonth()!==t.getMonth()}_isStartDayOfMonth(e){return Be.sameDate(e,Be.getFirstMonthDate(this.option("date")))}_isEndDayOfMonth(e){return Be.sameDate(e,Be.getLastMonthDate(this.option("date")))}_getCellText(e){return`${ut.format(e,"d")}`}_getDayCaption(e){const{colCount:t}=this.option(),n=e%t;return{full:ut.getDayNames()[n],abbreviated:ut.getDayNames("abbreviated")[n]}}_getFirstCellData(){const{firstDayOfWeek:e=0,date:t}=this.option(),n=Be.getFirstMonthDate(t);let s=e-n.getDay();const{colCount:r}=this.option();return s>=0&&(s-=r),n.setDate(n.getDate()+s),n}_getNextCellData(e){const t=new Date(e);return t.setDate(t.getDate()+1),t}_getCellByDate(e){return this._$table.find(`td[data-value='${Wn.serializeDate(e,Be.getShortDateFormat())}']`)}isBoundary(e){return Be.sameMonthAndYear(e,this.option("min"))||Be.sameMonthAndYear(e,this.option("max"))}_getDefaultDisabledDatesHandler(e){return t=>e.some(n=>Be.sameDate(n,t.date))}}class loe extends l_{_getViewName(){return"year"}_getCurrentDateFormat(){return"monthandyear"}_isTodayCell(e){const{_todayDate:t}=this.option();return Be.sameMonthAndYear(e,t())}_isDateOutOfRange(e){return!Be.dateInRange(e,Be.getFirstMonthDate(this.option("min")),Be.getLastMonthDate(this.option("max")))}_isOtherView(){return!1}_isStartDayOfMonth(){return!1}_isEndDayOfMonth(){return!1}_getCellText(e){return ut.getMonthNames("abbreviated")[e.getMonth()]}_getFirstCellData(){const{date:e}=this.option(),t=new Date(e);return t.setDate(1),t.setMonth(0),t}_getNextCellData(e){const t=new Date(e);return t.setMonth(t.getMonth()+1),t}_getCellByDate(e){const t=new Date(e);return t.setDate(1),this._$table.find(`td[data-value='${Wn.serializeDate(t,Be.getShortDateFormat())}']`)}getNavigatorCaption(){const{date:e}=this.option();return`${ut.format(e,"yyyy")}`}isBoundary(e){return Be.sameYear(e,this.option("min"))||Be.sameYear(e,this.option("max"))}_renderWeekNumberCell(){}}class doe extends l_{_getViewName(){return"decade"}_isTodayCell(e){const{_todayDate:t}=this.option();return Be.sameYear(e,t())}_isDateOutOfRange(e){const{min:t,max:n}=this.option();return!Be.dateInRange(e.getFullYear(),t==null?void 0:t.getFullYear(),n==null?void 0:n.getFullYear())}_isOtherView(e){const t=new Date(e);return t.setMonth(1),!Be.sameDecade(t,this.option("date"))}_isStartDayOfMonth(){return!1}_isEndDayOfMonth(){return!1}_getCellText(e){return`${ut.format(e,"yyyy")}`}_getFirstCellData(){const e=Be.getFirstYearInDecade(this.option("date"))-1;return Be.createDateWithFullYear(e,0,1)}_getNextCellData(e){const t=new Date(e);return t.setFullYear(t.getFullYear()+1),t}getNavigatorCaption(){const{date:e}=this.option(),t=Be.getFirstYearInDecade(e),n=new Date(e),s=new Date(e);return n.setFullYear(t),s.setFullYear(t+9),`${ut.format(n,"yyyy")}-${ut.format(s,"yyyy")}`}_isValueOnCurrentView(e,t){return Be.sameDecade(e,t)}_getCellByDate(e){const t=new Date(e);return t.setDate(1),t.setMonth(0),this._$table.find(`td[data-value='${Wn.serializeDate(t,Be.getShortDateFormat())}']`)}isBoundary(e){return Be.sameDecade(e,this.option("min"))||Be.sameDecade(e,this.option("max"))}_renderWeekNumberCell(){}}class coe extends l_{_getViewName(){return"century"}_isTodayCell(e){const{_todayDate:t}=this.option();return Be.sameDecade(e,t())}_isDateOutOfRange(e){const t=Be.getFirstYearInDecade(e),n=Be.getFirstYearInDecade(this.option("min")),s=Be.getFirstYearInDecade(this.option("max"));return!Be.dateInRange(t,n,s)}_isOtherView(e){const t=new Date(e);return t.setMonth(1),!Be.sameCentury(t,this.option("date"))}_isStartDayOfMonth(){return!1}_isEndDayOfMonth(){return!1}_getCellText(e){const t=ut.format(e,"yyyy"),n=new Date(e);return n.setFullYear(n.getFullYear()+9),`${t} - ${ut.format(n,"yyyy")}`}_getFirstCellData(){const e=Be.getFirstDecadeInCentury(this.option("date"))-10;return Be.createDateWithFullYear(e,0,1)}_getNextCellData(e){const t=new Date(e);return t.setFullYear(t.getFullYear()+10),t}_getCellByDate(e){const t=new Date(e);return t.setDate(1),t.setMonth(0),t.setFullYear(Be.getFirstYearInDecade(t)),this._$table.find(`td[data-value='${Wn.serializeDate(t,Be.getShortDateFormat())}']`)}getNavigatorCaption(){const{date:e}=this.option(),t=Be.getFirstDecadeInCentury(e),n=new Date(e),s=new Date(e);return n.setFullYear(t),s.setFullYear(t+99),`${ut.format(n,"yyyy")}-${ut.format(s,"yyyy")}`}isBoundary(e){return Be.sameCentury(e,this.option("min"))||Be.sameCentury(e,this.option("max"))}_renderWeekNumberCell(){}}const uoe={month:aoe,year:loe,decade:doe,century:coe},k4=be(Pp,"dxCalendar"),kd={month:3,year:2,decade:1,century:0},Dn={MONTH:"month",YEAR:"year",DECADE:"decade",CENTURY:"century"},hoe={SingleSelection:roe,MultipleSelection:noe,RangeSelection:soe};class qF extends to{_activeStateUnit(){return".dx-calendar-cell"}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,min:new Date(1e3,0),max:new Date(3e3,0),viewsCount:1,zoomLevel:Dn.MONTH,maxZoomLevel:Dn.MONTH,minZoomLevel:Dn.CENTURY,selectionMode:"single",selectWeekOnClick:!0,showTodayButton:!1,todayButtonText:ue.format("dxCalendar-todayButtonText"),showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Oe.real().deviceType==="desktop"&&!Oe.isSimulator(),options:{focusStateEnabled:!0}}])}_supportedKeys(){return Object.assign({},super._supportedKeys(),{rightArrow(e){e.preventDefault(),$n(e)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow(e){e.preventDefault(),$n(e)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow(e){if(e.preventDefault(),$n(e))this._navigateUp();else{if(Ht.isAnimating(this._view.$element().get(0)))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow(e){if(e.preventDefault(),$n(e))this._navigateDown();else{if(Ht.isAnimating(this._view.$element().get(0)))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home(e){e.preventDefault();const t=this.option("zoomLevel"),n=this.option("currentDate"),s=this._getDateOption("min");if(this._view.isDateDisabled(n))return;const r=Be.sameView(t,n,s)?s:Be.getViewFirstCellDate(t,n);this._moveToClosestAvailableDate(r)},end(e){e.preventDefault();const t=this.option("zoomLevel"),n=this.option("currentDate"),s=this._getDateOption("max");if(this._view.isDateDisabled(n))return;const r=Be.sameView(t,n,s)?s:Be.getViewLastCellDate(t,n);this._moveToClosestAvailableDate(r)},pageUp(e){e.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown(e){e.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab(){},enter:this._enterKeyHandler})}_enterKeyHandler(e){const{currentDate:t=new Date}=this.option();if(!this._isMaxZoomLevel())this._navigateDown();else if(!this._view.isDateDisabled(t)){const n=this._updateTimeComponent(t);this._selectionStrategy.selectValue(n,e)}}_getSerializationFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"value";const{[e]:t}=this.option(),{dateSerializationFormat:n}=this.option();if(n)return n;if(jt(t))return"number";if(!(!Ke(t)||t===""))return Wn.getDateSerializationFormat(t)}_convertToDate(e){return Wn.deserializeDate(e)}_dateValue(e,t){if(t){if(t.type==="keydown"){const n=this._view._getContouredCell().get(0);t.target=n}this._saveValueChangeEvent(t)}this._setDateOption("value",e)}_isArrayValue(e,t){return e==="value"&&!this._isSingleMode()}_setDateOption(e,t){const n=this._getSerializationFormat(e),s=this._isArrayValue(e,t)?t.map(r=>Wn.serializeDate(r,n)):Wn.serializeDate(t,n);this.option(e,s)}_getDateOption(e){let{[e]:t}=this.option();return this._isArrayValue(e,t)?(t??[]).map(s=>this._convertToDate(s)):(t===""&&(t=null),this._convertToDate(t))}_isSingleMode(){const{selectionMode:e}=this.option();return e==="single"}_shiftDate(e,t,n,s){switch(e){case Dn.MONTH:t.setDate(t.getDate()+n*s);break;case Dn.YEAR:t.setMonth(t.getMonth()+n*s);break;case Dn.DECADE:t.setFullYear(t.getFullYear()+n*s);break;case Dn.CENTURY:t.setFullYear(t.getFullYear()+10*n*s)}}_moveCurrentDateByOffset(e){const{currentDate:t=new Date,zoomLevel:n=Dn.MONTH}=this.option();let s=new Date(t);this._shiftDate(n,s,e,1);const r=this._getMaxDate(),o=this._getMinDate();let a=this._areDatesInNeighborView(n,s,t),l=Co(s,o,r)&&a;const d=new Date(s);for(;l;){if(!this._view.isDateDisabled(d)){s=d;break}this._shiftDate(n,d,e,1),a=this._areDatesInNeighborView(n,d,t),l=Co(d,o,r)&&a}if(this._view.isDateDisabled(t)||this._view.isDateDisabled(s)){const c=e>0?1:-1;(c===1?this._isNextViewDisabled():this._isPrevViewDisabled())?this._moveToClosestAvailableDate(s):this._waitRenderView(c)}else this._skipNavigate=!0,this.option("currentDate",s)}_isNextViewDisabled(){const{disabled:e}=this._navigator._nextButton.option();return e===!0}_isPrevViewDisabled(){const{disabled:e}=this._navigator._prevButton.option();return e===!0}_areDatesInSameView(e,t,n){switch(e){case Dn.YEAR:return t.getFullYear()===n.getFullYear();case Dn.DECADE:return Math.floor(t.getFullYear()/10)===Math.floor(n.getFullYear()/10);case Dn.CENTURY:return Math.floor(t.getFullYear()/100)===Math.floor(n.getFullYear()/100);case Dn.MONTH:default:return t.getMonth()===n.getMonth()}}_areDatesInNeighborView(e,t,n){switch(e){case Dn.YEAR:return Math.abs(t.getFullYear()-n.getFullYear())<=1;case Dn.DECADE:return Math.abs(t.getFullYear()-n.getFullYear())<=10;case Dn.CENTURY:return Math.abs(t.getFullYear()-n.getFullYear())<=100;case Dn.MONTH:default:return((s,r)=>{const o=Math.abs(s-r);return Math.min(o,12-o)})(t.getMonth(),n.getMonth())<=1}}_moveToClosestAvailableDate(e){const{zoomLevel:t=Dn.MONTH,currentDate:n=new Date}=this.option();let s=new Date(e??n);const r=!this._isDateNotAvailable(s);let o=r,a=r,l=!0,d=!0;const c=new Date(s),h=new Date(s);do{if(o){s=c;break}if(a){s=h;break}this._shiftDate(t,c,1,1),this._shiftDate(t,h,1,-1),l=this._areDatesInSameView(t,c,e??n),d=this._areDatesInSameView(t,h,e??n),o=l&&!this._isDateNotAvailable(c),a=d&&!this._isDateNotAvailable(h)}while(l||d);this.option("currentDate",s)}_isDateNotAvailable(e){const t=this._getMaxDate(),n=this._getMinDate();return!Co(e,n,t)||this._view.isDateDisabled(e)}_init(){super._init(),this._initSelectionStrategy(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()}_initSelectionStrategy(){const e=this._getSelectionStrategyName(),t=hoe[e];(!this._selectionStrategy||this._selectionStrategy.NAME!==e)&&(this._selectionStrategy=new t(this))}_refreshSelectionStrategy(){this._initSelectionStrategy(),this._selectionStrategy.restoreValue(),this._refresh()}_getSelectionStrategyName(){const{selectionMode:e}=this.option();switch(e){case"multiple":return"MultipleSelection";case"range":return"RangeSelection";default:return"SingleSelection"}}_correctZoomLevel(){const{minZoomLevel:e=Dn.CENTURY,maxZoomLevel:t=Dn.MONTH,zoomLevel:n=Dn.MONTH}=this.option();if(!(kd[t]<kd[e])){if(kd[n]>kd[t]){this.option("zoomLevel",t);return}kd[n]<kd[e]&&this.option("zoomLevel",e)}}_initCurrentDate(){const{currentDate:e=new Date}=this.option(),t=this._selectionStrategy.getDefaultCurrentDate(),n=(t?this._getNormalizedDate(t):null)??this._getNormalizedDate(e);this.option("currentDate",n)}_getNormalizedDate(e){const t=Be.normalizeDate(e,this._getMinDate(),this._getMaxDate());return G(t)?this._getDate(t):e}_initActions(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")}_initTemplates(){this._templateManager.addDefaultTemplates({cell:new Bc(e=>{const t=e.model;M(e.container).append(M("<span>").text((t==null?void 0:t.text)||String(t)))})}),super._initTemplates()}_updateCurrentDate(e){Ht.isAnimating(this._$viewsWrapper.get(0))&&Ht.stop(this._$viewsWrapper.get(0),!0);const t=this._getMinDate(),n=this._getMaxDate();if(t>n){this.option("currentDate",new Date);return}const s=this._getNormalizedDate(e);if(e.getTime()!==s.getTime()){this.option("currentDate",new Date(s));return}const{date:r}=this._view.option();let o=this._getViewsOffset(r,s);o!==0&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(o=0),this._view&&o!==0&&!this._suppressNavigation?this._additionalView?o>2||o<-1?(this._refreshViews(),this._setViewContoured(s),this._updateAriaId(s),this._renderNavigator()):o===1&&this._skipNavigate?(this._setViewContoured(s),this._updateAriaId(s)):this._navigate(o,s):this._navigate(o,s):(this._renderNavigator(),this._setViewContoured(s),this._updateAriaId(s)),this._skipNavigate=!1}_isAdditionalViewDate(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return this._additionalView?e>=this._additionalView._getFirstAvailableDate():!1}_getActiveView(e){return this._isAdditionalViewDate(e)?this._additionalView:this._view}_setViewContoured(e){if(this.option("skipFocusCheck")||M(this._$viewsWrapper).is(":focus")){var t;this._view.option("contouredDate",null),(t=this._additionalView)===null||t===void 0||t.option("contouredDate",null),(this._isAdditionalViewDate(e)?this._additionalView:this._view).option("contouredDate",e)}}_getMinDate(){const{rangeMin:e}=this.option();return e||(this.min?this.min:(this.min=this._getDateOption("min")??new Date(1e3,0),this.min))}_getMaxDate(){const{rangeMax:e}=this.option();return e||(this.max?this.max:(this.max=this._getDateOption("max")??new Date(3e3,0),this.max))}_getViewsOffset(e,t){const{zoomLevel:n}=this.option();if(n===Dn.MONTH)return this._getMonthsOffset(e,t);let s=1;switch(n){case Dn.CENTURY:s=100;break;case Dn.DECADE:s=10;break;default:s=1}return Math.floor(t.getFullYear()/s)-Math.floor(e.getFullYear()/s)}_getMonthsOffset(e,t){const n=t.getFullYear()-e.getFullYear(),s=t.getMonth()-e.getMonth();return 12*n+s}_waitRenderView(e){if(this._alreadyViewRender)return;this._alreadyViewRender=!0;const t=this._getDateByOffset(e*this._getRtlCorrection());this._moveToClosestAvailableDate(t),this._waitRenderViewTimeout=setTimeout(()=>{this._alreadyViewRender=!1})}_getRtlCorrection(){const{rtlEnabled:e}=this.option();return e?-1:1}_getDateByOffset(e,t){const{currentDate:n=new Date}=this.option(),s=this._getDate(t??n),r=s.getDate(),o=Be.getDifferenceInMonth(this.option("zoomLevel"))*e;s.setDate(1),s.setMonth(s.getMonth()+o);const a=Be.getLastMonthDate(s).getDate();return s.setDate(r>a?a:r),s}_focusTarget(){return this._$viewsWrapper}_focusEventTarget(){return this.$element()}_initMarkup(){this._renderSubmitElement();const e=this.$element();e.addClass("dx-calendar");const{selectionMode:t}=this.option();e.toggleClass("dx-calendar-range",t==="range"),this._renderBody(),e.append(this.$body),this._renderViews(),this._renderNavigator(),super._initMarkup(),this._renderEvents(),e.prepend(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._selectionStrategy.updateAriaSelected(),this._updateAriaId(),this._updateNavigatorLabels(),this.setAria("role","application"),this._updateAriaLabelAndRole(),this._moveToClosestAvailableDate()}_render(){super._render();const{currentDate:e=new Date}=this.option();this._setViewContoured(e)}_renderBody(){this._$viewsWrapper||(this.$body=M("<div>").addClass("dx-calendar-body"),this._$viewsWrapper=M("<div>").addClass("dx-calendar-views-wrapper"),this.$body.append(this._$viewsWrapper))}_updateAriaLabelAndRole(){const e=this.option("readOnly"),t=this.$element(),n={role:e?"group":void 0,label:e?ue.format("dxCalendar-readOnlyLabel"):void 0};this.setAria(n,t)}_setAriaReadonly(){}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._view])}_renderViews(){const{zoomLevel:e}=this.option();this.$element().addClass(`dx-calendar-view-${e}`);const{currentDate:t=new Date,viewsCount:n}=this.option();if(this.$element().toggleClass("dx-calendar-multiview",n>1),this._view=this._renderSpecificView(t),st()){const s=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(s)?this._renderSpecificView(s):null;const r=this._getDateByOffset(n,t);r.setDate(1),this._afterView=this._isViewAvailable(r)?this._renderSpecificView(r):null}n>1&&(this._additionalView=this._renderSpecificView(this._getDateByOffset(1,t))),this._translateViews()}_renderSpecificView(e){const{zoomLevel:t=Dn.MONTH}=this.option(),n=uoe[t],s=M("<div>").appendTo(this._$viewsWrapper),r=this._viewConfig(e);return this._createComponent(s,n,r)}_viewConfig(e){const{firstDayOfWeek:t=ut.firstDayOfWeekIndex(),showWeekNumbers:n=!1,selectWeekOnClick:s,weekNumberRule:r,zoomLevel:o=Dn.MONTH,focusStateEnabled:a,hoverStateEnabled:l,disabledDates:d,_todayDate:c}=this.option(),h=Ie(d)?this._injectComponent(d.bind(this)):d;return Object.assign({},this._selectionStrategy.getViewOptions(),{date:e,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:t,showWeekNumbers:n,selectWeekOnClick:s,weekNumberRule:r,zoomLevel:o,tabIndex:void 0,focusStateEnabled:a,hoverStateEnabled:l,disabledDates:h,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:c})}_renderEvents(){Y.off(this._$viewsWrapper,k4);const{selectionMode:e}=this.option();e==="range"&&Y.on(this._$viewsWrapper,k4,null,()=>{this._updateViewsOption("hoveredRange",[])})}_injectComponent(e){return t=>e(Object.assign({},t,{component:this}))}_isViewAvailable(e){const{zoomLevel:t}=this.option(),n=Be.getViewMinBoundaryDate(t,this._getMinDate()),s=Be.getViewMaxBoundaryDate(t,this._getMaxDate());return Be.dateInRange(e,n,s)}_translateViews(){const{viewsCount:e}=this.option();ui(this._view.$element(),{left:0,top:0}),this._moveViewElement(this._beforeView,-1),this._moveViewElement(this._afterView,e),this._moveViewElement(this._additionalView,1)}_moveViewElement(e,t){e&&ui(e.$element(),{left:this._getViewPosition(t),top:0})}_getViewPosition(e){const t=this.option("rtlEnabled")?-1:1;return 100*e*t+"%"}_cellClickHandler(e){const t=this.option("zoomLevel"),n=Be.getViewDown(t),s=this._isMaxZoomLevel();if(n&&!s)this._navigateDown(e.event.currentTarget);else{var r;const o=this._updateTimeComponent(e.value);this._selectionStrategy.selectValue(o,e.event),(r=this._cellClickAction)===null||r===void 0||r.call(this,e)}}_updateTimeComponent(e){const t=new Date(e),n=this._getDateOption("value");return n&&!this._isArrayValue("value",n)&&(t.setHours(n.getHours()),t.setMinutes(n.getMinutes()),t.setSeconds(n.getSeconds()),t.setMilliseconds(n.getMilliseconds())),t}_isMaxZoomLevel(){const{zoomLevel:e=Dn.MONTH,maxZoomLevel:t}=this.option();return e===t}_navigateDown(e){const{zoomLevel:t,currentDate:n=new Date}=this.option();if(this._isMaxZoomLevel())return;const s=Be.getViewDown(t);if(!s)return;const{contouredDate:r,date:o}=this._view.option();let a=r??o;e&&(a=M(e).data("dxDateValueKey")),this._isOtherViewCellClicked=!0,this.option("currentDate",a),this.option("zoomLevel",s),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(n))}_renderNavigator(){this._navigator||(this._navigator=this._createComponent(M("<div>"),ioe,this._navigatorConfig())),this._navigator.option("text",this._getViewsCaption(this._view,this._additionalView)),this._updateButtonsVisibility()}_navigatorConfig(){const{focusStateEnabled:e,rtlEnabled:t}=this.option();return{text:this._getViewsCaption(this._view,this._additionalView),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),focusStateEnabled:e,rtlEnabled:t,tabIndex:void 0}}_navigatorClickHandler(e){const{currentDate:t,viewsCount:n}=this.option();let s=e.direction;if(n>1){const o=this._isAdditionalViewDate(t);(o&&s<0||!o&&s>0)&&(s*=2)}const r=this._getDateByOffset(s,t);this._moveToClosestAvailableDate(r)}_navigateUp(){const{zoomLevel:e=Dn.MONTH,currentDate:t=new Date}=this.option(),n=Be.getViewUp(e);!n||this._isMinZoomLevel(e)||(this.option("zoomLevel",n),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(t)))}_isMinZoomLevel(e){const t=this._getMinDate(),n=this._getMaxDate(),{minZoomLevel:s}=this.option();return!!Be.sameView(e,t,n)||s===e}_updateButtonsVisibility(){this._navigator.toggleButton("next",!G(this._afterView)),this._navigator.toggleButton("prev",!G(this._beforeView))}_renderSwipeable(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),qg,{onStart:e=>{this._swipeStartHandler(e.event)},onUpdated:e=>{this._swipeUpdateHandler(e.event)},onEnd:e=>{this._swipeEndHandler(e.event)},itemSizeFunc:this._viewWidth.bind(this)}))}_swipeStartHandler(e){Ht.stop(this._$viewsWrapper.get(0),!0);const{viewsCount:t}=this.option();this._toggleGestureCoverCursor("grabbing"),e.maxLeftOffset=this._getRequiredView("next")?1/t:0,e.maxRightOffset=this._getRequiredView("prev")?1/t:0}_toggleGestureCoverCursor(e){M(".dx-gesture-cover").css("cursor",e)}_getRequiredView(e){const{rtlEnabled:t}=this.option();return e==="prev"?t?this._afterView:this._beforeView:t?this._beforeView:this._afterView}_swipeUpdateHandler(e){const{offset:t}=e;ui(this._$viewsWrapper,{left:t*this._viewWidth(),top:0}),this._updateNavigatorCaption(t)}_swipeEndHandler(e){this._toggleGestureCoverCursor("auto");const{currentDate:t,rtlEnabled:n}=this.option(),{targetOffset:s}=e,r=s?s/Math.abs(s):0,a=this._isAdditionalViewDate(t)&&(n?r===-1:r===1);if(r===0){this._animateWrapper(0,250);return}const l=-r*this._getRtlCorrection()*(a?2:1);let d=this._getDateByOffset(l);this._isDateInInvalidRange(d)&&(r>=0?d=new Date(this._getMinDate()):d=new Date(this._getMaxDate())),this.option("currentDate",d)}_viewWidth(){if(!this._viewWidthValue){const{viewsCount:e}=this.option();this._viewWidthValue=Xe(this.$element())/e}return this._viewWidthValue}_updateNavigatorCaption(e){const t=e*this._getRtlCorrection(),{viewsCount:n}=this.option(),s=n>1;let r=null,o=null;t>.5&&this._beforeView?(r=this._beforeView,s&&(o=this._view)):t<-.5&&this._afterView?(r=s?this._additionalView:this._afterView,o=s?this._afterView:null):(r=this._view,o=s?this._additionalView:null),this._navigator.option("text",this._getViewsCaption(r,o))}_getViewsCaption(e,t){let n=e.getNavigatorCaption();const{viewsCount:s}=this.option();if(s>1&&t){const r=t.getNavigatorCaption();n=`${n} - ${r}`}return n}_isDateInInvalidRange(e){if(this._view.isBoundary(e))return!1;const t=this._getMinDate(),n=this._getMaxDate(),s=Be.normalizeDate(e,t,n);return s===t||s===n}_renderFooter(){const{showTodayButton:e,todayButtonText:t}=this.option();if(e){const n=this._createComponent(M("<div>"),si,{focusStateEnabled:this.option("focusStateEnabled"),text:t,onClick:s=>{this._toTodayView(s)},type:ts(Yt())?"normal":"default",stylingMode:ts(Yt())?"outlined":"text",integrationOptions:{}}).$element().addClass("dx-calendar-today-button");this._$footer=M("<div>").addClass("dx-calendar-footer").append(n),this.$element().append(this._$footer)}this.$element().toggleClass("dx-calendar-with-footer",e)}_renderSubmitElement(){this._$submitElement=M("<input>").attr("type","hidden").appendTo(this.$element());const{value:e}=this.option();this._setSubmitValue(e)}_setSubmitValue(e){if(this._isArrayValue("value",e))return;const t=this._convertToDate(e);this._getSubmitElement().val(Wn.serializeDate(t,"yyyy-MM-dd"))}_getSubmitElement(){return this._$submitElement}_animateShowView(){Ht.stop(this._view.$element().get(0),!0),this._popAnimationView(this._view,.6,1,250);const{viewsCount:e}=this.option();e>1&&(Ht.stop(this._additionalView.$element().get(0),!0),this._popAnimationView(this._additionalView,.6,1,250))}_popAnimationView(e,t,n,s){return Ht.animate(e.$element().get(0),{type:"pop",from:{scale:t,opacity:t},to:{scale:n,opacity:n},duration:s})}_navigate(e,t){if(e!==0&&Math.abs(e)!==1&&this._isViewAvailable(t)){const d=this._renderSpecificView(t);if(e>0){var n;(n=this._afterView)===null||n===void 0||n.$element().remove(),this._afterView=d}else{var s;(s=this._beforeView)===null||s===void 0||s.$element().remove(),this._beforeView=d}this._translateViews()}const r=this._getRtlCorrection(),o=Xl(e),a=-r*o*this._viewWidth();this._$viewsWrapper.position().left!==a&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(e,t):this._animateWrapper(a,250).done(this._wrapperAnimationEndHandler.bind(this,e,t)))}_animateWrapper(e,t){return Ht.animate(this._$viewsWrapper.get(0),{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:e},duration:t})}_getDate(e){return new Date(e)}_toTodayView(e){const t=new Date;if(this._isMaxZoomLevel()){this._selectionStrategy.selectValue(t,e.event);return}this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._selectionStrategy.selectValue(t,e.event),this._animateShowView(),this._preventViewChangeAnimation=!1}_wrapperAnimationEndHandler(e,t){this._rearrangeViews(e),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t),this._selectionStrategy.updateAriaSelected()}_rearrangeViews(e){var t;if(e===0)return;const{viewsCount:n}=this.option();let s=-1,r="_afterView",o="_beforeView",a=n===1?"_view":"_additionalView",l="_view";if(e<0&&(s=1,r="_beforeView",o="_afterView",a="_view",l=n===1?"_view":"_additionalView"),!this[r])return;const d=this[r].option("date");(t=this[o])===null||t===void 0||t.$element().remove(),this[o]=this._renderSpecificView(this._getDateByOffset(s*n,d)),this[l].$element().remove(),n===1?this[l]=this[r]:(this[l]=this[a],this[a]=this[r]);const c=this._getDateByOffset(-s,d);this[r]=this._isViewAvailable(c)?this._renderSpecificView(c):null}_resetLocation(){ui(this._$viewsWrapper,{left:0,top:0})}_clean(){super._clean(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer}_clearViewWidthCache(){delete this._viewWidthValue}_disposeViews(){var e,t,n;this._view.$element().remove(),(e=this._beforeView)===null||e===void 0||e.$element().remove(),(t=this._additionalView)===null||t===void 0||t.$element().remove(),(n=this._afterView)===null||n===void 0||n.$element().remove(),delete this._view,delete this._additionalView,delete this._beforeView,delete this._afterView,delete this._skipNavigate}_dispose(){clearTimeout(this._waitRenderViewTimeout),super._dispose()}_refreshViews(){this._resetActiveState(),this._disposeViews(),this._renderViews()}_visibilityChanged(){this._translateViews()}_shouldSkipFocusEvent(e){const{target:t,relatedTarget:n}=e;return!!M(t).parents(".dx-calendar").length&&!!M(n).parents(".dx-calendar").length}_focusInHandler(e){if(M(e.target).is(this._$viewsWrapper)){const{currentDate:t=new Date}=this.option();this._setViewContoured(t)}this._shouldSkipFocusEvent(e)||(super._focusInHandler.apply(this,[e]),this._toggleFocusClass(!0,this.$element()))}_focusOutHandler(e){if(M(e.target).is(this._$viewsWrapper)){var t;this._view.option("contouredDate",null),(t=this._additionalView)===null||t===void 0||t.option("contouredDate",null)}this._shouldSkipFocusEvent(e)||(super._focusOutHandler.apply(this,[e]),this._toggleFocusClass(!1,this.$element()))}_updateViewsOption(e,t){var n,s,r;this._view.option(e,t),(n=this._additionalView)===null||n===void 0||n.option(e,t),(s=this._beforeView)===null||s===void 0||s.option(e,t),(r=this._afterView)===null||r===void 0||r.option(e,t)}_setViewsMinOption(e){this._restoreViewsMinMaxOptions(),this.option("rangeMin",this._convertToDate(e)),this._updateViewsOption("min",this._getMinDate())}_setViewsMaxOption(e){this._restoreViewsMinMaxOptions(),this.option("rangeMax",this._convertToDate(e)),this._updateViewsOption("max",this._getMaxDate())}_restoreViewsMinMaxOptions(){this._resetActiveState(),this.option({rangeMin:null,rangeMax:null}),this._updateViewsOption("min",this._getMinDate()),this._updateViewsOption("max",this._getMaxDate())}_updateNavigatorLabels(){const{zoomLevel:e=Dn.MONTH}=this.option(),t=e.charAt(0).toUpperCase()+e.slice(1),n=this._navigator._caption.option("text"),s=ue.format(`dxCalendar-previous${t}ButtonLabel`),r=ue.format(`dxCalendar-caption${t}Label`),o=ue.format(`dxCalendar-next${t}ButtonLabel`);this.setAria("label",s,this._navigator._prevButton.$element()),this.setAria("label",`${n}. ${r}`,this._navigator._caption.$element()),this.setAria("label",o,this._navigator._nextButton.$element())}_updateAriaSelected(e,t){t==null||t.forEach(s=>{s&&this.setAria("selected",!1,this._view._getCellByDate(s))}),e==null||e.forEach(s=>{s&&this.setAria("selected",!0,this._view._getCellByDate(s))});const{viewsCount:n}=this.option();n>1&&(t==null||t.forEach(s=>{s&&this.setAria("selected",!1,this._additionalView._getCellByDate(s))}),e==null||e.forEach(s=>{s&&this.setAria("selected",!0,this._additionalView._getCellByDate(s))}))}_updateAriaId(e){var t;const{currentDate:n=new Date}=this.option(),s=e??n,r=`dx-${new Xt}`,a=this._getActiveView(s)._getCellByDate(s);this.setAria("id",r,a),this.setAria("activedescendant",r),(t=this._onContouredChanged)===null||t===void 0||t.call(this,r)}_suppressingNavigation(e,t){this._suppressNavigation=!0,e.apply(this,t),delete this._suppressNavigation}_optionChanged(e){const{name:t,value:n,previousValue:s}=e;switch(t){case"width":super._optionChanged(e),this._clearViewWidthCache();break;case"min":case"max":{this.min=void 0,this.max=void 0;const{currentDate:r=new Date}=this.option();this._suppressingNavigation(this._updateCurrentDate,[r]),this._refreshViews(),this._renderNavigator();break}case"selectionMode":this._refreshSelectionStrategy(),this._initCurrentDate();break;case"selectWeekOnClick":case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"focusStateEnabled":case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":case"todayButtonText":this._invalidate();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(s)),this._updateCurrentDate(n);break;case"zoomLevel":this.$element().removeClass(`dx-calendar-view-${s}`),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId(),this._updateNavigatorLabels();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":{Be.sameDatesArrays(n,s)||this._selectionStrategy.processValueChanged(n,s),this._setSubmitValue(n),super._optionChanged(e);break}case"viewsCount":this._refreshViews(),this._renderNavigator();break;case"onCellClick":this._view.option("onCellClick",n);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"readOnly":super._optionChanged(e),this._updateAriaLabelAndRole();break;case"skipFocusCheck":break;default:super._optionChanged(e)}}getContouredDate(){const{contouredDate:e}=this._view.option();return e}}St("dxCalendar",qF);class d_ extends Dt.inherit({}){ctor(e){this.dateBox=e}widgetOption(e){var t;return(t=this._widget)===null||t===void 0?void 0:t.option.apply(this._widget,arguments)}_renderWidget(e){e=e||M("<div>"),this._widget=this._createWidget(e),this._widget.$element().appendTo(this._getWidgetContainer())}_createWidget(e){const t=this._getWidgetName(),n=this._getWidgetOptions();return this.dateBox._createComponent(e,t,n)}_getWidgetOptions(){Dt.abstract()}_getWidgetName(){Dt.abstract()}getDefaultOptions(){return{mode:"text"}}getDisplayFormat(e){Dt.abstract()}supportedKeys(){}getKeyboardListener(){}customizeButtons(){}getParsedText(e,t){return ut.parse(e,t)||ut.parse(e)}renderInputMinMax(){}renderOpenedState(){this._updateValue()}popupConfig(e){Dt.abstract()}_dimensionChanged(){var e;(e=this._getPopup())===null||e===void 0||e.repaint()}renderPopupContent(){const e=this._getPopup();this._renderWidget();const t=e.$content().parent();Y.off(t,"mousedown"),Y.on(t,"mousedown",this._preventFocusOnPopup.bind(this))}_preventFocusOnPopup(e){e.preventDefault()}_getWidgetContainer(){return this._getPopup().$content()}_getPopup(){return this.dateBox._popup}popupShowingHandler(){}popupHiddenHandler(){}_updateValue(e){var t;(t=this._widget)===null||t===void 0||t.option("value",this.dateBoxValue())}useCurrentDateByDefault(){}getDefaultDate(){return new Date}textChangedHandler(){}renderValue(){this.dateBox.option("opened")&&this._updateValue()}getValue(){return this._widget.option("value")}isAdaptivityChanged(){return!1}dispose(){const e=this._getPopup();e&&e.$content().empty()}dateBoxValue(e,t){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}class YF extends d_{ctor(e){super.ctor(e),this.NAME="Calendar"}getDefaultOptions(){return Object.assign({},super.getDefaultOptions(),{todayButtonText:this.dateBox.option("todayButtonText")??ue.format("dxCalendar-todayButtonText")})}supportedKeys(){const e=function(t){return this.option("opened")?(t.preventDefault(),!0):!1};return{rightArrow(){if(this.option("opened"))return!0},leftArrow(){if(this.option("opened"))return!0},enter:(function(t){if(this.dateBox.option("opened")){if(t.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){const n=this._getContouredValue(),s=this._lastActionElement,r=this._closeDropDownByEnter();return r&&n&&s==="calendar"&&this.dateBoxValue(n,t),r&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(t),!r}return!0}this.dateBox._valueChangeEventHandler(t)}).bind(this),home:e,end:e}}getDisplayFormat(e){return e||"shortdate"}_closeDropDownByEnter(){return!0}_getWidgetName(){return qF}_getContouredValue(){return this._widget._view.option("contouredDate")}getKeyboardListener(){return this._widget}_getWidgetOptions(){const{disabledDates:e,min:t,max:n,todayButtonText:s}=this.dateBox.option();return se(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,selectionMode:"single",dateSerializationFormat:null,min:t,max:n,onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),disabledDates:Ie(e)?this._injectComponent(e.bind(this.dateBox)):e,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0,todayButtonText:s})}_injectComponent(e){const t=this;return function(n){return se(n,{component:t.dateBox}),e(n)}}_refreshActiveDescendant(e){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",e.actionValue)}_getTodayButtonConfig(){const e=this.dateBox.option("buttonsLocation"),n=e==="default"?["bottom","center"]:od(e),s=xs()?"text":"outlined";return{widget:"dxButton",toolbar:n[0],location:n[1]==="after"?"before":n[1],options:{onClick:r=>{this._widget._toTodayView(r)},text:this.dateBox.option("todayButtonText"),elementAttr:{class:"dx-button-today"},stylingMode:s}}}_isCalendarVisible(){const{calendarOptions:e}=this.dateBox.option();return ki(e)||e.visible!==!1}_getPopupToolbarItems(e){return this.dateBox.option("applyValueMode")==="useButtons"&&this._isCalendarVisible()?[this._getTodayButtonConfig(),...e]:e}popupConfig(e){return se(!0,e,{position:{collision:"flipfit flip"},width:"auto"})}_valueChangedHandler(e){const{value:t}=e,n=e.previousValue;Be.sameDate(t,n)&&Be.sameHoursAndMinutes(t,n)||this.dateBox.option("applyValueMode")==="instantly"&&this.dateBoxValue(this.getValue(),e.event)}_updateValue(e){this._widget&&this._widget.option("value",this.dateBoxValue())}textChangedHandler(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)}_cellClickHandler(e){const{dateBox:t}=this;t.option("applyValueMode")==="instantly"&&(t.option("opened",!1),this.dateBoxValue(this.getValue(),e.event))}}const poe={row:"minWidth",col:"minHeight"},foe={row:"maxWidth",col:"maxHeight"},O4={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},R4={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},moe={row:"row",col:"column"},Od=(i,e,t)=>{const n=Hh(e,t);if(i.style[ad(e)]=n,!st()){if(n===""||!G(n))return;const r=`${gp(e)}: ${n};`;j6(i,r,!1)}};class goe extends Ua{_renderVisible(e,t){super._renderVisible(e),G(t)&&this._options.fireItemStateChangedAction({name:"visible",state:e,oldState:t})}}class _oe{constructor(e,t){this._$element=e,this._option=t}renderBox(){this._$element.css({display:`${Cm("flexDirection")}flex`});const e=this._option("direction")??"row";Od(this._$element.get(0),"flexDirection",moe[e])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){const e=this._option("align")??"start";return e in O4?O4[e]:e}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){const e=this._option("crossAlign")??"start";return e in R4?R4[e]:e}renderItems(e){const t=Cm("flexDirection"),n=this._option("direction")??"row";ie(e,function(){const s=M(this),r=s.data("dxBoxItemData");s.css({display:`${t}flex`}).css(foe[n],r.maxSize??"none").css(poe[n],r.minSize??"0"),Od(s.get(0),"flexBasis",r.baseSize??0),Od(s.get(0),"flexGrow",r.ratio??0),Od(s.get(0),"flexShrink",G(r.shrink)?r.shrink:1),s.children().each((o,a)=>(M(a).css({width:"auto",height:"auto",display:`${Cm("flexDirection")}flex`,flexBasis:0}),Od(a,"flexGrow",1),Od(a,"flexDirection",M(a)[0].style.flexDirection??"column"),!0))})}}class Ga extends Kr{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1})}_itemClass(){return"dx-box-item"}_itemDataKey(){return"dxBoxItemData"}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass("dx-box-flex"),this._initLayout(),this._initializeRenderQueue()}_initLayout(){this._layout=new _oe(this.$element(),e=>this.option(e))}_initializeRenderQueue(){const{_queue:e}=this.option();this._queue=e??[]}_queueIsNotEmpty(){return this.option("_queue")?!1:!!this._queue.length}_pushItemToQueue(e,t){this._queue.push({$item:e,config:t})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass("dx-box"),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(e){super._renderItems(e),this._processRenderQueue(),this._layout.renderItems(this._itemElements())}_processRenderQueue(){if(this._queueIsNotEmpty()){const e=this._shiftItemFromQueue(),{itemTemplate:t,itemHoldTimeout:n,onItemHold:s,onItemClick:r,onItemContextMenu:o,onItemRendered:a}=this.option();e&&this._createComponent(e.$item,Ga,Object.assign({itemTemplate:t,itemHoldTimeout:n,onItemHold:s,onItemClick:r,onItemContextMenu:o,onItemRendered:a,_queue:this._queue},e.config)),this._processRenderQueue()}}_renderItemContent(e){var t;const n=(t=e.itemData)===null||t===void 0?void 0:t.node;return n?this._renderItemContentByNode(e,n):super._renderItemContent(e)}_postprocessRenderItem(e){var t;const n=(t=e.itemData)===null||t===void 0?void 0:t.box;n&&this._pushItemToQueue(e.itemContent,n)}_createItemByTemplate(e,t){const{itemData:n}=t;return n.box?e.source?e.source():M():super._createItemByTemplate(e,t)}_itemOptionChanged(e,t,n,s){t==="visible"&&this._onItemStateChanged({name:t,state:n,oldState:s!==!1}),super._itemOptionChanged(e,t,n,s)}_optionChanged(e){const{name:t}=e;switch(t){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(e)}}_itemOptions(){const e=super._itemOptions();return e.fireItemStateChangedAction=t=>{this._onItemStateChanged(t)},e}}Ga.ItemClass=goe;St("dxBox",Ga);const Vx=["year","day","month","day"],P4=["hours","minutes","seconds","milliseconds"],voe=864e5,xoe=31536e6,boe=function(i){const e=typeof i;return e==="string"?"format":e==="object"&&i.type!==void 0?i.type:null},Wt={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:6e4,ONE_DAY:voe,ONE_YEAR:xoe,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){const i=new Date;return new Date(i.getFullYear()+50,i.getMonth(),i.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:()=>"yyyy-MM-dd",components:Vx},time:{getStandardPattern:()=>"HH:mm",components:P4},datetime:{getStandardPattern(){let i;return function(){const e=M("<input>").attr("type","datetime");e.val("2000-01-01T01:01Z"),e.val()&&(i="yyyy-MM-ddTHH:mmZ")}(),i||(i="yyyy-MM-ddTHH:mm:ssZ"),Wt.FORMATS_INFO.datetime.getStandardPattern=function(){return i},i},components:[...Vx,...P4]},"datetime-local":{getStandardPattern:()=>"yyyy-MM-ddTHH:mm:ss",components:[...Vx,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat(i,e){const t=Wt.FORMATS_INFO[e].getStandardPattern();return Wn.serializeDate(i,t)},fromStandardDateFormat(i){const e=Wn.dateParser(i);return zi(e)?e:void 0},getMaxMonthDay:(i,e)=>new Date(i,e+1,0).getDate(),mergeDates(i,e,t){if(!e)return e||null;if(!i||isNaN(i.getTime())){const r=new Date(null);i=new Date(r.getFullYear(),r.getMonth(),r.getDate())}const n=new Date(i.valueOf()),s=Wt.FORMATS_INFO[t];return ie(s.components,function(){const r=Wt.DATE_COMPONENTS_INFO[this];n[r.setter](e[r.getter]())}),n},getLongestCaptionIndex(i){let e=0,t=0,n;for(n=0;n<i.length;++n)i[n].length>t&&(e=n,t=i[n].length);return e},formatUsesMonthName:i=>ut.formatUsesMonthName(i),formatUsesDayName:i=>ut.formatUsesDayName(i),getLongestDate(i,e,t){const n=boe(i);let s=9;(!n||Wt.formatUsesMonthName(n))&&(s=Wt.getLongestCaptionIndex(e));const r=new Date(1888,s,21,23,59,59,999);if(!n||Wt.formatUsesDayName(n)){const o=r.getDate()-r.getDay()+Wt.getLongestCaptionIndex(t);r.setDate(o)}return r},normalizeTime(i){i.setSeconds(0),i.setMilliseconds(0)}};Wt.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter(i,e){const t=new Date(e.getTime());return t.setFullYear(i),ut.format(t,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter(i,e){const t=new Date(e.getTime());return t.setDate(i),ut.format(t,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:i=>ut.getMonthNames()[i],startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:i=>ut.format(new Date(0,0,0,i),"hour"),startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:i=>ut.format(new Date(0,0,0,0,i),"minute"),startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:i=>ut.format(new Date(0,0,0,0,0,i),"second"),startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:i=>ut.format(new Date(0,0,0,0,0,0,i),"millisecond"),startValue:0,endValue:999}};const M4=function(i,e,t){yoe(i,e,t)},yoe=function(i,e,t){i.css("transform",`rotate(${e}deg) translate(0,${t}px)`)};class XF extends to{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5})}_getValue(){const{value:e}=this.option();return e||new Date}_init(){super._init(),this.$element().addClass("dx-timeview")}_render(){super._render(),this._renderBox(),this._updateTime()}_renderBox(){const e=M("<div>").appendTo(this.$element()),t=[];this.option("_showClock")&&t.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),t.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(e,Ga,{height:"100%",width:"100%",direction:"col",items:t})}_renderClock(e,t,n){this._$hourArrow=M("<div>").addClass("dx-timeview-hourarrow"),this._$minuteArrow=M("<div>").addClass("dx-timeview-minutearrow");const s=M(n);s.addClass("dx-timeview-clock").append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",s)}_updateClock(){const e=this._getValue(),t=e.getHours()/12*360+e.getMinutes()/60*30,n=e.getMinutes()/60*360;M4(this._$hourArrow,t,this.option("_arrowOffset")),M4(this._$minuteArrow,n,this.option("_arrowOffset"))}_getBoxItems(e){const t=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:M("<div>").addClass("dx-timeview-time-separator").text(ut.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return e&&t.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),t}_renderField(){const e=!this.option("use24HourFormat");return this._createHourBox(e),this._createMinuteBox(),e&&this._createFormat12Box(),this._createComponent(M("<div>").addClass("dx-timeview-field"),Ga,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(e)}).$element()}_createHourBox(e){this._hourBox=this._createComponent(M("<div>"),Gg,Object.assign({min:-1,max:e?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:t=>this._keyboardHandler(t)},this._getNumberBoxConfig())),this._hourBox.setAria("label","hours")}_isPM(){return!this.option("use24HourFormat")&&this._format12.option("value")===1}_onHourBoxValueChanged(e){let{value:t,component:n}=e;const s=this._getValue(),r=new Date(s);let o=this._convertMaxHourToMin(t);n.option("value",o),this._isPM()&&(o+=12),r.setHours(o),Wt.normalizeTime(r),this.option("value",r)}_convertMaxHourToMin(e){const t=this.option("use24HourFormat")?24:12;return(t+e)%t}_createMinuteBox(){this._minuteBox=this._createComponent(M("<div>"),Gg,Object.assign({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{let{value:t,component:n}=e;const s=(60+t)%60;n.option("value",s);const r=new Date(this._getValue());r.setMinutes(s),Wt.normalizeTime(r),this.option("value",r)}},this._getNumberBoxConfig())),this._minuteBox.setAria("label","minutes")}_createFormat12Box(){const e=ut.getPeriodNames();this._format12=this._createComponent(M("<div>").addClass("dx-timeview-format12"),WS,{items:[{value:-1,text:e[0]},{value:1,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:t=>this._keyboardHandler(t),onValueChanged:t=>{let{value:n}=t;const s=this._getValue().getHours(),r=new Date(this._getValue()),o=(s+12*n)%24;r.setHours(o),this.option("value",r)},dropDownOptions:{container:this.$element()},value:this._getValue().getHours()>=12?1:-1,stylingMode:this.option("stylingMode")}),this._format12.setAria("label","type")}_refreshFormat12(){if(this.option("use24HourFormat"))return;const s=this._getValue().getHours()>=12?1:-1;this._silentEditorValueUpdate(this._format12,s)}_silentEditorValueUpdate(e,t){e&&(e._suppressValueChangeAction(),e.option("value",t),e._resumeValueChangeAction())}_getNumberBoxConfig(){const{stylingMode:e}=this.option();return{showSpinButtons:!0,displayValueFormatter:t=>(t<10?"0":"")+t,stylingMode:e}}_normalizeHours(e){return this.option("use24HourFormat")?e:e%12||12}_updateField(){const e=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,e),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()}_updateTime(){this.option("_showClock")&&this._updateClock(),this._updateField()}_visibilityChanged(e){e&&this._updateTime()}_optionChanged(e){switch(e.name){case"value":this._updateTime(),super._optionChanged(e);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:super._optionChanged(e)}}}St("dxTimeView",XF);const Coe=bt(),F4="dx-datebox-datetime-time-side";class woe extends YF{ctor(e){super.ctor(e),this.NAME="CalendarWithTime"}getDefaultOptions(){return Object.assign({},super.getDefaultOptions(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})}_closeDropDownByEnter(){return Be.sameDate(this._getContouredValue(),this.widgetOption("value"))}getDisplayFormat(e){return e||"shortdateshorttime"}_is24HourFormat(){return ut.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))}_getContouredValue(){const e=super._getContouredValue();return this._updateDateTime(e)}_renderWidget(){super._renderWidget(),this._timeView=this.dateBox._createComponent(M("<div>"),XF,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")})}renderOpenedState(){super.renderOpenedState();const e=this._getPopup();e&&e.$wrapper().toggleClass("dx-datebox-adaptivity-mode",this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(()=>{var t;(t=this._getPopup())===null||t===void 0||t.repaint()},0)}isAdaptivityChanged(){const e=this._isShrinkView(),t=this._currentAdaptiveMode;return e!==t?(this._currentAdaptiveMode=e,t!==void 0):super.isAdaptivityChanged()}_updateValue(e){let t=this.dateBoxValue();!t&&!e&&(t=new Date,Wt.normalizeTime(t)),super._updateValue(),this._timeView&&(t&&this._timeView.option("value",t),this._timeView.option("use24HourFormat",this._is24HourFormat()))}_isSmallScreen(){return Xe(Coe)<=573}_isShrinkView(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()}_getBoxItems(){const e=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||e.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),e}renderPopupContent(){super.renderPopupContent(),this._currentAdaptiveMode=this._isShrinkView();const e=this._getPopup().$content();this._box=this.dateBox._createComponent(M("<div>").appendTo(e),Ga,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:(function(t,n,s){const r=M("<div>");switch(t.name){case"calendar":r.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(F4),r.append(this._timeView.$element()));break;case"time":r.append(this._timeView.$element()),M(s).addClass(F4)}return r}).bind(this)})}popupConfig(e){const t=super.popupConfig(e);return se(t,{width:"auto"})}_preventFocusOnPopup(e){M(e.target).hasClass("dx-texteditor-input")||(super._preventFocusOnPopup.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())}_updateDateTime(e){const{value:t}=this._timeView.option();return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}getValue(){let e=this._widget.option("value")??this._widget.getContouredDate();return e=e?new Date(e):new Date,this._updateDateTime(e)}dispose(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),super.dispose()}}class Soe{constructor(e){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=e??Fg}get isHorizontal(){return this.direction===B8||this.direction===gx}get isVertical(){return this.direction===Fg||this.direction===gx}get isBoth(){return this.direction===gx}}function Eoe(i,e){if(ot(i)){const s=wn(i.left,i.x),r=wn(i.top,i.y);return{left:G(s)?s:void 0,top:G(r)?r:void 0}}const{isVertical:t,isHorizontal:n}=new Soe(e);return{left:n&&G(i)?i:void 0,top:t&&G(i)?i:void 0}}class ZF extends ys{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass("dx-dateviewroller"),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){Y.on(M(this.container()),"dxmousewheel",e=>{this._isWheelScrolled=!0})}_renderContainerClick(){if(!this.option("showOnClick"))return;const e=be(Nt,this.NAME),t=this._createActionByOption("onClick");Y.off(M(this.container()),e),Y.on(M(this.container()),e,n=>{t({event:n})})}_renderItems(){const e=this.option("items")||[];let t=M();M(this.content()).empty(),e.forEach(n=>{t=t.add(M("<div>").addClass("dx-dateview-item").append(n))}),M(this.content()).append(t),this._$items=t,this.update()}_renderSelectedItemFrame(){M("<div>").addClass("dx-dateview-item-selected-frame").append(M("<div>").addClass("dx-dateview-item-selected-border")).appendTo(M(this.container()))}_renderSelectedValue(e){const t=this._fitIndex(e??this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(t)}),this._renderActiveStateItem()}_fitIndex(e){const n=(this.option("items")||[]).length;return e>=n?n-1:e<0?0:e}_getItemPosition(e){return Math.round(this._itemHeight()*e)}_renderItemsClick(){const e=this._getItemSelector(),t=be(Nt,this.NAME);Y.off(this.$element(),t,e),Y.on(this.$element(),t,e,this._itemClickHandler.bind(this))}_getItemSelector(){return".dx-dateview-item"}_itemClickHandler(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))}_itemElementIndex(e){return this._itemElements().index(e)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){const e=this.option("selectedIndex");ie(this._$items,function(t){M(this).toggleClass("dx-dateview-item-selected",e===t)})}_shouldScrollToNeighborItem(){return Oe.real().deviceType==="desktop"&&this._isWheelScrolled}_moveTo(e){const{top:t,left:n}=Eoe(e),s=this.scrollOffset(),r={x:s.left-n,y:s.top-t};if(this._isVisible()&&(r.x||r.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){const o=this;Ht.stop(M(this.content())),Ht.animate(M(this.content()),{duration:200,type:"slide",to:{top:Math.floor(r.y)},complete(){yp(M(o.content())),o.handleMove({delta:r})}}),delete this._animation}else this.handleMove({delta:r})}_validate(e){return this._moveIsAllowed(e)}_fitSelectedIndexInRange(e){const t=this.option("items").length;return Math.max(Math.min(e,t-1),0)}_isInNullNeighborhood(e){return-.1<=e&&e<=.1}_getSelectedIndexAfterScroll(e){const t=this.scrollOffset().top,n=e*this._itemHeight(),s=t-n;if(this._isInNullNeighborhood(s))return e;const r=s>0?1:-1;return this._fitSelectedIndexInRange(e+r)}_getNewSelectedIndex(e){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(e);this._animation=!0;const t=this.scrollOffset().top/this._itemHeight();return Math.round(t)}_endActionHandler(){const e=this.option("selectedIndex"),t=this._getNewSelectedIndex(e);t===e?this._renderSelectedValue(t):this.option("selectedIndex",t),this._isWheelScrolled=!1}_itemHeight(){const e=this._$items.first();return ht(e)}_toggleActive(e){this.$element().toggleClass("dx-state-active",e)}_isVisible(){return M(this.container()).is(":visible")}_fireSelectedIndexChanged(e,t){var n;(n=this._selectedIndexChanged)===null||n===void 0||n.call(this,{value:e,previousValue:t,event:void 0})}_visibilityChanged(e){super._visibilityChanged(e),this._visibilityChangedHandler(e)}_visibilityChangedHandler(e){e&&(this._visibilityTimer=setTimeout(()=>{this._renderSelectedValue(this.option("selectedIndex"))})),this.toggleActiveState(!1)}toggleActiveState(e){this.$element().toggleClass("dx-dateviewroller-current",e)}_refreshSelectedIndex(){const e=this.option("selectedIndex"),t=this._fitIndex(e);t===e?this._renderActiveStateItem():this.option("selectedIndex",t)}_optionChanged(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(e)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}St("dxDateViewRoller",ZF);const B4={date:"date"},os={year:"year",month:"month",day:"day",hours:"hours"};class QF extends to{_valueOption(){const{value:e}=this.option(),t=new Date(e);return!e||isNaN(t)?this._getDefaultDate():t}_getDefaultDate(){const e=new Date,{type:t}=this.option();return t===B4.date?new Date(e.getFullYear(),e.getMonth(),e.getDate()):e}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{minDate:Wt.MIN_DATEVIEW_DEFAULT_DATE,maxDate:Wt.MAX_DATEVIEW_DEFAULT_DATE,type:B4.date,value:new Date,applyCompactClass:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:e=>e.deviceType!=="desktop",options:{applyCompactClass:!0}}])}_render(){super._render(),this.$element().addClass("dx-dateview");const{type:e}=this.option();this._toggleFormatClasses(e),this._toggleCompactClass()}_toggleFormatClasses(e,t){this.$element().addClass(`dx-dateview-${e}`),t&&this.$element().removeClass(`dx-dateview-${t}`)}_toggleCompactClass(){const{applyCompactClass:e}=this.option();this.$element().toggleClass("dx-dateview-compact",e)}_wrapper(){return this._$wrapper}_renderContentImpl(){this._$wrapper=M("<div>").addClass("dx-dateview-wrapper"),this._renderRollers(),this._$wrapper.appendTo(this.$element())}_renderRollers(){this._$rollersContainer||(this._$rollersContainer=M("<div>").addClass("dx-dateview-rollers")),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};const e=this;ie(e._rollerConfigs,t=>{const n=M("<div>").appendTo(e._$rollersContainer).addClass(`dx-dateviewroller-${e._rollerConfigs[t].type}`);e._rollers[e._rollerConfigs[t].type]=e._createComponent(n,ZF,{items:e._rollerConfigs[t].displayItems,selectedIndex:e._rollerConfigs[t].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart(s){s.component._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t])},onEnd(s){s.component._toggleActive(!1)},onClick(s){const r=s.component;r._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t]),e._setRollerState(e._rollerConfigs[t],r.option("selectedIndex")),r._toggleActive(!1)},onSelectedIndexChanged(s){const r=s.component;e._setRollerState(e._rollerConfigs[t],r.option("selectedIndex"))}})}),e._$rollersContainer.appendTo(e._wrapper())}_createRollerConfigs(e){const t=this;e=e||t.option("type"),t._rollerConfigs={},ut.getFormatParts(Wt.FORMATS_MAP[e]).forEach(n=>{t._createRollerConfig(n)})}_createRollerConfig(e){const t=Wt.DATE_COMPONENTS_INFO[e],n=this._calculateRollerConfigValueRange(e),{startValue:s}=n,{endValue:r}=n,{formatter:o}=t,a=this._getCurrentDate(),l={type:e,setValue:t.setter,valueItems:[],displayItems:[],getIndex:d=>d[t.getter]()-s};for(let d=s;d<=r;d++)l.valueItems.push(d),l.displayItems.push(o(d,a));l.selectedIndex=l.getIndex(a),this._rollerConfigs[e]=l}_setActiveRoller(e){const t=e&&this._rollers[e.type];ie(this._rollers,function(){this.toggleActiveState(this===t)})}_updateRollersPosition(){const e=this;ie(this._rollers,function(t){const n=e._rollerConfigs[t].getIndex(e._getCurrentDate());this.option("selectedIndex",n)})}_setRollerState(e,t){if(t!==e.selectedIndex){const n=e.valueItems[t],{setValue:s}=e;let r=new Date(this._getCurrentDate()),o=r.getDate();const a=this.option("minDate"),l=this.option("maxDate");e.type===os.month?o=Math.min(o,Wt.getMaxMonthDay(r.getFullYear(),n)):e.type===os.year&&(o=Math.min(o,Wt.getMaxMonthDay(n,r.getMonth()))),r.setDate(o),r[s](n);const d=Be.normalizeDate(r,a,l);r=Wt.mergeDates(d,r,"time"),r=Be.normalizeDate(r,a,l),this.option("value",r),e.selectedIndex=t}e.type===os.year&&this._refreshRollers(),e.type===os.month&&(this._refreshRoller(os.day),this._refreshRoller(os.hours))}_refreshRoller(e){const t=this._rollers[e];if(t){this._createRollerConfig(e);const n=this._rollerConfigs[e];(e===os.day||n.displayItems.toString()!==t.option("items").toString())&&t.option({items:n.displayItems,selectedIndex:n.selectedIndex})}}_getCurrentDate(){const e=this._valueOption(),t=this.option("minDate"),n=this.option("maxDate");return Be.normalizeDate(e,t,n)}_calculateRollerConfigValueRange(e){const t=this._getCurrentDate(),{minDate:n,maxDate:s}=this.option(),r=Be.sameYear(t,n),o=r&&t.getMonth()===n.getMonth(),a=Be.sameYear(t,s),l=a&&t.getMonth()===s.getMonth(),d=o&&t.getDate()===n.getDate(),c=l&&t.getDate()===s.getDate(),h=Wt.DATE_COMPONENTS_INFO[e];let{startValue:u}=h,{endValue:p}=h;return e===os.year&&(u=n.getFullYear(),p=s.getFullYear()),e===os.month&&(r&&(u=n.getMonth()),a&&(p=s.getMonth())),e===os.day&&(p=Wt.getMaxMonthDay(t.getFullYear(),t.getMonth()),r&&o&&(u=n.getDate()),a&&l&&(p=s.getDate())),e===os.hours&&(u=d?n.getHours():u,p=c?s.getHours():p),{startValue:u,endValue:p}}_refreshRollers(){this._refreshRoller(os.month),this._refreshRoller(os.day),this._refreshRoller(os.hours)}_optionChanged(e){switch(e.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(e.value,e.previousValue);break;case"visible":super._optionChanged(e),e.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:super._optionChanged(e)}}_clean(){super._clean(),delete this._$rollersContainer}}St("dxDateView",QF);const Ioe=bt();class Toe extends d_{ctor(e){super.ctor(e),this.NAME="DateView"}getDefaultOptions(){return Object.assign({},super.getDefaultOptions(),{openOnFieldClick:!0,applyButtonText:ue.format("OK"),"dropDownOptions.showTitle":!0})}getDisplayFormat(e){return e||Wt.FORMATS_MAP[this.dateBox.option("type")]}popupConfig(e){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:e.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device(t){const{platform:n}=t;return n==="generic"||n==="ios"},options:{width:"auto",height:"auto"}},{device(t){const{platform:n}=t,{phone:s}=t;return n==="generic"&&s},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:Ioe}}}]}}_renderWidget(){if(F0(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly")){this._widget&&(this._widget.$element().remove(),this._widget=null);return}const e=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{const t=M("<div>").appendTo(e.$content());this._widget=this._createWidget(t)}this._widget.$element().appendTo(this._getWidgetContainer())}_getWidgetName(){return QF}renderOpenedState(){super.renderOpenedState(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())}_getWidgetOptions(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*Wt.ONE_YEAR),onDisposing:(function(){this._widget=null}).bind(this)}}}const Doe=bt(),Aoe={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)};class koe extends d_{ctor(e){super.ctor(e),this.NAME="List"}supportedKeys(){return{space:Te,home:Te,end:Te}}getDefaultOptions(){return Object.assign({},super.getDefaultOptions(),{applyValueMode:"instantly"})}getDisplayFormat(e){return e||"shorttime"}popupConfig(e){return e}getValue(){const e=this._widget.option("selectedIndex");if(e===-1)return this.dateBox.option("value");const t=this._widgetItems[e];return this._getDateByItemData(t)}useCurrentDateByDefault(){return!0}getDefaultDate(){return new Date(null)}popupShowingHandler(){this.dateBox._dimensionChanged()}_renderWidget(){super._renderWidget(),this._refreshItems()}_getWidgetName(){return eu}_getWidgetOptions(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}}_refreshActiveDescendant(e){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",e.actionValue)}_refreshItems(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)}renderOpenedState(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())}dispose(){super.dispose(),clearTimeout(this._asyncScrollTimeout)}_updateValue(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())}_setSelectedItemsByValue(){const e=this.dateBoxValue(),t=this._getDateIndex(e);t===-1?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",t)}_scrollToSelectedItem(){this._widget.scrollToItem(this._widget.option("selectedIndex"))}_getDateIndex(e){let t=-1;for(let n=0,s=this._widgetItems.length;n<s;n++)if(this._areDatesEqual(e,this._widgetItems[n])){t=n;break}return t}_areDatesEqual(e,t){return zi(e)&&zi(t)&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()}_getTimeListItems(){let e=this.dateBox.dateOption("min")||this._getBoundaryDate("min");const t=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),n=this.dateBox.dateOption("value")||null;let s=t-e;const r=e.getMinutes()%this.dateBox.option("interval");return s<0?[]:(s>Wt.ONE_DAY&&(s=Wt.ONE_DAY),n-e<Wt.ONE_DAY?this._getRangeItems(e,new Date(e),s):(e=this._getBoundaryDate("min"),e.setMinutes(r),n&&Math.abs(n-t)<Wt.ONE_DAY&&(s=(60*t.getHours()+Math.abs(t.getMinutes()-r))*Wt.ONE_MINUTE),this._getRangeItems(e,new Date(e),s)))}_getRangeItems(e,t,n){const s=[],r=this.dateBox.option("interval");for(;t-e<=n;)s.push(new Date(t)),t.setMinutes(t.getMinutes()+r);return s}_getBoundaryDate(e){const t=Aoe[e],n=new Date(wn(this.dateBox.dateOption("value"),0));return new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes())}_timeListItemTemplate(e){const t=this.dateBox.option("displayFormat");return ut.format(e,this.getDisplayFormat(t))}_listItemClickHandler(e){if(this.dateBox.option("applyValueMode")==="useButtons")return;const t=this._getDateByItemData(e.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(t,e.event)}_getDateByItemData(e){let t=this.dateBox.option("value");const n=e.getHours(),s=e.getMinutes(),r=e.getSeconds(),o=e.getFullYear(),a=e.getMonth(),l=e.getDate();return t?(this.dateBox.option("dateSerializationFormat")?t=Wn.deserializeDate(t):t=new Date(t),t.setHours(n),t.setMinutes(s),t.setSeconds(r),t.setFullYear(o),t.setMonth(a),t.setDate(l)):t=new Date(o,a,l,n,s,0,0),t}getKeyboardListener(){return this._widget}_updatePopupHeight(){var e;const t=RS(this.dateBox.option("dropDownOptions.height"));if(t===void 0||t==="auto"){this.dateBox._setPopupOption("height","auto");const n=gt(this._widget.$element()),s=.45*ht(Doe);this.dateBox._setPopupOption("height",Math.min(n,s))}(e=this.dateBox._timeList)===null||e===void 0||e.updateDimensions()}getParsedText(e,t){let n=super.getParsedText(e,t);return n&&(n=Wt.mergeDates(n,new Date(null),"date")),n}}class Ooe extends d_{ctor(e){super.ctor(e),this.NAME="Native"}popupConfig(e){return Object.assign({},e,{width:"auto"})}getParsedText(e){return e?this.dateBox.option("type")==="datetime"?new Date(e.replace(/-/g,"/").replace("T"," ").split(".")[0]):Wt.fromStandardDateFormat(e):null}renderPopupContent(){}_getWidgetName(){}_getWidgetOptions(){}_getDateBoxType(){let{type:e}=this.dateBox.option();return Wt.SUPPORTED_FORMATS.includes(e)?e==="datetime"&&!F0(e)&&(e="datetime-local"):e="date",e}customizeButtons(){const e=this.dateBox.getButton("dropDown");Oe.real().android&&e&&e.on("click",()=>{this.dateBox._input().get(0).click()})}getDefaultOptions(){return{mode:this._getDateBoxType()}}getDisplayFormat(e){const t=this._getDateBoxType();return e||Wt.FORMATS_MAP[t]}renderInputMinMax(e){const t=this.dateBox.option("type"),n={datetime:"yyyy-MM-ddTHH:mm:ss",date:"yyyy-MM-dd",time:"HH:mm:ss"}[t]??"yyyy-MM-dd";e.attr({min:Wn.serializeDate(this.dateBox.dateOption("min"),n),max:Wn.serializeDate(this.dateBox.dateOption("max"),n)})}}const ku=bt(),Roe="dx-show-invalid-badge",Poe="dx-clear-button-area",Us={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},Ks={date:"date",datetime:"datetime",time:"time"},Ou={calendar:"Calendar",dateView:"DateView",native:"Native",calendarWithTime:"CalendarWithTime",list:"List"},Moe={Calendar:YF,DateView:Toe,Native:Ooe,CalendarWithTime:woe,List:koe};class Foe extends jS{_supportedKeys(){return Object.assign({},super._supportedKeys(),this._strategy.supportedKeys())}_renderButtonContainers(){super._renderButtonContainers.apply(this,arguments),this._strategy.customizeButtons()}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{type:"date",showAnalogClock:!0,value:null,displayFormat:null,interval:30,disabledDates:null,pickerType:Us.calendar,invalidDateMessage:ue.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:ue.format("validation-range"),applyButtonText:ue.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0,_showValidationIcon:!0})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device(){const e=Oe.real(),{platform:t}=e;return t==="ios"||t==="android"},options:{pickerType:Us.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])}_initOptions(e){this._userOptions=se({},e),super._initOptions(e),this._updatePickerOptions()}_updatePickerOptions(){let{pickerType:e}=this.option();const{type:t}=this.option();e===Us.list&&(t===Ks.datetime||t===Ks.date)&&(e=Us.calendar),t===Ks.time&&e===Us.calendar&&(e=Us.list),this._pickerType=e,this._setShowDropDownButtonOption()}_setShowDropDownButtonOption(){const{platform:e}=Oe.real(),t=e==="android"&&gn.mozilla,n=this._isNativeType();let s=e!=="generic"||!n;n&&t&&(s=!1),this.option({showDropDownButton:s})}_init(){this._initStrategy(),this.option(se({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,super._init()}_toLowerCaseFirstLetter(e){return e.charAt(0).toLowerCase()+e.substr(1)}_initStrategy(){const e=this._getStrategyName(this._getFormatType()),t=Moe[e];this._strategy&&this._strategy.NAME===e||(this._strategy=new t(this))}_getFormatType(){const e=this.option("type"),t=/h|m|s/g.test(e),n=/d|M|Y/g.test(e);let s="";return n&&(s+=Ks.date),t&&(s+=Ks.time),s}_getStrategyName(e){const t=this._pickerType;return t===Us.rollers?Ou.dateView:t===Us.native?Ou.native:e===Ks.date?Ou.calendar:e===Ks.datetime?Ou.calendarWithTime:Ou.list}_initMarkup(){this.$element().addClass("dx-datebox"),super._initMarkup(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())}_render(){super._render(),this._formatValidationIcon()}_renderDimensions(){super._renderDimensions(),this.$element().toggleClass("dx-auto-width",!this.option("width")),this._updatePopupWidth(),this._updatePopupHeight()}_dimensionChanged(){super._dimensionChanged(),this._updatePopupHeight()}_updatePopupHeight(){if(this._popup){var e,t;(e=(t=this._strategy)._updatePopupHeight)===null||e===void 0||e.call(t)}}_refreshFormatClass(){const e=this.$element();ie(Ks,(n,s)=>{e.removeClass(`dx-datebox-${s}`)});const{type:t}=this.option();e.addClass(`dx-datebox-${t}`)}_refreshPickerTypeClass(){const e=this.$element();ie(Us,(t,n)=>{e.removeClass(`dx-datebox-${n}`)}),e.addClass(`dx-datebox-${this._pickerType}`)}_formatValidationIcon(){if(!st())return;const e=this._input().get(0),t=this.option("rtlEnabled"),n=this._getClearButtonWidth(),s=this._getLongestElementDimensions(),r=parseFloat(ku.getComputedStyle(e).width)-n,o=s.width>r,{style:a}=e,{_showValidationIcon:l}=this.option();this.$element().toggleClass(Roe,!o&&l),o?(this._storedPadding===void 0&&(this._storedPadding=t?s.leftPadding:s.rightPadding),t?a.paddingLeft=0:a.paddingRight=0):t?a.paddingLeft=`${this._storedPadding}px`:a.paddingRight=`${this._storedPadding}px`}_getClearButtonWidth(){let e=0;if(this._isClearButtonVisible()&&this._input().val()===""){const t=this.$element().find(`.${Poe}`).get(0);e=parseFloat(ku.getComputedStyle(t).width)}return e}_getLongestElementDimensions(){const e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=ut.format(Wt.getLongestDate(e,ut.getMonthNames(),ut.getDayNames()),e),n=this._input(),s=n.get(0),r=sP(n,t),a=this._storedPadding!==void 0?this._storedPadding:0;r.appendTo(this.$element());const l=parseFloat(ku.getComputedStyle(r.get(0)).width),d=parseFloat(ku.getComputedStyle(s).paddingRight),c=parseFloat(ku.getComputedStyle(s).paddingLeft),h=l+c+d+a;return r.remove(),{width:h,leftPadding:c,rightPadding:d}}_getKeyboardListeners(){var e;return super._getKeyboardListeners().concat([(e=this._strategy)===null||e===void 0?void 0:e.getKeyboardListener()])}_renderPopup(){var e;super._renderPopup(),(e=this._popup)===null||e===void 0||(e=e.$wrapper())===null||e===void 0||e.addClass("dx-datebox-wrapper"),this._renderPopupWrapper()}_getPopupToolbarItems(){var e,t;const n=super._getPopupToolbarItems();return((e=(t=this._strategy)._getPopupToolbarItems)===null||e===void 0?void 0:e.call(t,n))??n}_popupConfig(){const e=super._popupConfig();return Object.assign({},this._strategy.popupConfig(e),{title:this._getPopupTitle(),dragEnabled:!1})}_renderPopupWrapper(){var e;if(!this._popup)return;const t=this.$element(),n=se({},Ks,Us);ie(n,(r,o)=>{t.removeClass(`dx-datebox-wrapper-${o}`)});const{type:s}=this.option();(e=this._popup.$wrapper())===null||e===void 0||e.addClass(`dx-datebox-wrapper-${s}`).addClass(`dx-datebox-wrapper-${this._pickerType}`).addClass("dx-dropdowneditor-overlay")}_renderPopupContent(){super._renderPopupContent(),this._strategy.renderPopupContent()}_popupShowingHandler(){super._popupShowingHandler(),this._strategy.popupShowingHandler()}_popupShownHandler(){super._popupShownHandler(),this._strategy.renderOpenedState()}_popupHiddenHandler(){super._popupHiddenHandler(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()}_visibilityChanged(e){e&&this._formatValidationIcon()}_clearValueHandler(e){this.option("text",""),super._clearValueHandler(e)}_readOnlyPropValue(){if(this._pickerType===Us.rollers)return!0;const{platform:e}=Oe.real();if(this._isNativeType()&&(e==="ios"||e==="android")){const{readOnly:n}=this.option();return n}return super._readOnlyPropValue()}_isClearButtonVisible(){return super._isClearButtonVisible()&&!this._isNativeType()}_renderValue(){const e=this.dateOption("value");return this.option("text",this._getDisplayedText(e)),this._strategy.renderValue(),super._renderValue()}_setSubmitValue(){const e=this.dateOption("value"),{type:t,dateSerializationFormat:n}=this.option(),s=Wt.SUBMIT_FORMATS_MAP[t],r=n?Wn.serializeDate(e,n):Wt.toStandardDateFormat(e,s);this._getSubmitElement().val(r)}_getDisplayedText(e){const{mode:t}=this.option();let n;if(t==="text"){const s=this._strategy.getDisplayFormat(this.option("displayFormat"));n=ut.format(e,s)}else{const s=this._getFormatByMode(t);s?n=ut.format(e,s):n=Wt.toStandardDateFormat(e,t)}return n}_getFormatByMode(e){return F0(e)?null:Wt.FORMATS_MAP[e]}_valueChangeEventHandler(e){const{text:t,type:n,validationError:s}=this.option(),r=this.dateOption("value");if(t===this._getDisplayedText(r)){this._recallInternalValidation(r,s);return}const o=this._getParsedDate(t),a=r??this._getDateByDefault(),l=Wt.mergeDates(a,o,n),d=o&&n==="time"?l:o;if(this._applyInternalValidation(d).isValid){const c=this._getDisplayedText(l);a&&l&&a.getTime()===l.getTime()&&c!==t?this._renderValue():this.dateValue(l,e)}}_recallInternalValidation(e,t){(!t||t.editorSpecific)&&(this._applyInternalValidation(e),this._applyCustomValidation(e))}_getDateByDefault(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()}_getParsedDate(e){const t=this._strategy.getDisplayFormat(this.option("displayFormat"));return this._strategy.getParsedText(e,t)??void 0}_applyInternalValidation(e){const n=!!this.option("text")&&e!==null,s=!!e&&zi(e)&&!isNaN(e.getTime()),r=s&&Be.dateInRange(e,this.dateOption("min"),this.dateOption("max"),this.option("type")),o=!n&&!e||r;let a="";const{invalidDateMessage:l,dateOutOfRangeMessage:d}=this.option();return s?r||(a=d):a=l,this._updateInternalValidationState(o,a),{isValid:o,isDate:s}}_updateInternalValidationState(e,t){this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:t}})}_applyCustomValidation(e){this.validationRequest.fire({editor:this,value:this._serializeDate(e)})}_isValueChanged(e){const t=this.dateOption("value"),n=t&&t.getTime(),s=e&&e.getTime();return n!==s}_isTextChanged(e){const t=this.option("text"),n=e&&this._getDisplayedText(e)||"";return t!==n}_renderProps(){super._renderProps(),this._input().attr("autocomplete","off")}_renderOpenedState(){this._isNativeType()||super._renderOpenedState(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()}_getPopupTitle(){const{placeholder:e}=this.option();if(e)return e;const{type:t}=this.option();return t===Ks.time?ue.format("dxDateBox-simulatedDataPickerTitleTime"):t===Ks.date||t===Ks.datetime?ue.format("dxDateBox-simulatedDataPickerTitleDate"):""}_refreshStrategy(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()}_applyButtonHandler(e){const t=this._strategy.getValue();this.dateValue(t,e.event),super._applyButtonHandler()}_dispose(){var e;super._dispose(),(e=this._strategy)===null||e===void 0||e.dispose()}_isNativeType(){return this._pickerType===Us.native}_updatePopupTitle(){var e;(e=this._popup)===null||e===void 0||e.option("title",this._getPopupTitle())}_optionChanged(e){switch(e.name){case"showClearButton":case"buttons":case"isValid":case"readOnly":super._optionChanged.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions(),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions(),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":super._optionChanged.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":{const t=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),t||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break}case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":case"todayButtonText":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(e.value),super._optionChanged.apply(this,arguments);break;case"showDropDownButton":this._formatValidationIcon(),super._optionChanged.apply(this,arguments);break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":case"_showValidationIcon":break;default:super._optionChanged.apply(this,arguments)}}_getSerializationFormat(){const{value:e}=this.option();if(this.option("dateSerializationFormat")&&Ot().forceIsoDateParsing)return this.option("dateSerializationFormat");if(jt(e))return"number";if(!(!Ke(e)||e===""))return Wn.getDateSerializationFormat(e)}_updateValue(e){super._updateValue(),this._applyInternalValidation(e??this.dateOption("value"))}dateValue(e,t){const n=this._isValueChanged(e);if(n&&t&&this._saveValueChangeEvent(t),!n){const{text:s}=this.option();this._isTextChanged(e)?this._updateValue(e):s===""&&this._applyCustomValidation(e)}return this.dateOption("value",e)}dateOption(e,t){if(arguments.length===1)return Wn.deserializeDate(this.option(e));this.option(e,this._serializeDate(t))}_serializeDate(e){const t=this._getSerializationFormat();return Wn.serializeDate(e,t)}_clearValue(){const e=this.option("value");super._clearValue(),e===null&&this._applyCustomValidation(null)}clear(){const e=this.option("value");super.clear(),e===null&&this._applyInternalValidation(null)}}const N4=i=>i.getMonth()+1,V4=(i,e)=>{const t=i.getDate(),n=tp("M",i),s=Ii(parseInt(e),n.min,n.max);i.setMonth(s-1,1);const{min:r,max:o}=tp("dM",i),a=Ii(t,r,o);i.setDate(a)},Boe={a:i=>i.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:N4,L:N4,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds",x:"getTimezoneOffset"},Noe=se({},Aq(),{a:(i,e)=>{const t=i.getHours();t>=12!==!!parseInt(e)&&i.setHours((t+12)%24)},d:(i,e)=>{const t=tp("dM",i).max;e>t&&i.setMonth(i.getMonth()+1),i.setDate(e)},h:(i,e)=>{const t=i.getHours()>=12;i.setHours(+e%12+(t?12:0))},M:V4,L:V4,E:(i,e)=>{e<0||i.setDate(i.getDate()-i.getDay()+parseInt(e))},y:(i,e)=>{const t=i.getFullYear(),n=String(e).length,s=String(tp("y",i).max).length,r=parseInt(String(t).substr(0,s-n)+e);i.setFullYear(r)},x:i=>i}),Voe=i=>Boe[i]||(()=>i),Loe=(i,e)=>{const t=e.regexp.exec(i);let n=0,s=0;const r=[];for(let o=1;o<t.length;o++){n=s,s=n+t[o].length;const a=e.patterns[o-1].replace(/^'|'$/g,""),l=Voe(a[0]);r.push({index:o-1,isStub:a===t[o],caret:{start:n,end:s},pattern:a,text:t[o],limits:function(){for(var d=arguments.length,c=new Array(d),h=0;h<d;h++)c[h]=arguments[h];return tp(a[0],...c)},setter:Noe[a[0]]||Te,getter:l})}return r},tp=(i,e,t)=>{const n={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:1,max:12},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1},x:{min:0,max:0}};return n[t||i]||n.getAmPm},$oe=(i,e)=>{for(let t=0;t<i.length;t++){const n=i[t].caret.end>=e;if(!i[t].isStub&&n)return t}return null};class Hoe extends Foe{_supportedKeys(){const e=super._supportedKeys(),t=s=>{const r=e[En(s)];return r==null?void 0:r.apply(this,[s])},n=(s,r)=>this._shouldUseOriginalHandler(s)?t.apply(this,[s]):r.apply(this,[s]);return Object.assign({},e,{del:s=>n(s,r=>{this._revertPart(1),this._isAllSelected()||r.preventDefault()}),backspace:s=>n(s,r=>{this._revertPart(-1),this._isAllSelected()||r.preventDefault()}),home:s=>n(s,r=>{this._selectFirstPart(),r.preventDefault()}),end:s=>n(s,r=>{this._selectLastPart(),r.preventDefault()}),escape:s=>n(s,()=>{this._revertChanges()}),enter:s=>n(s,()=>{this._enterHandler()}),leftArrow:s=>n(s,r=>{this._selectNextPart(-1),r.preventDefault()}),rightArrow:s=>n(s,r=>{this._selectNextPart(1),r.preventDefault()}),upArrow:s=>n(s,r=>{this._upDownArrowHandler(1),r.preventDefault()}),downArrow:s=>n(s,r=>{this._upDownArrowHandler(-1),r.preventDefault()})})}_shouldUseOriginalHandler(e){const t=this.option("opened")&&e&&!["backspace","del"].includes(En(e));return!this._useMaskBehavior()||t||e&&e.altKey}_upDownArrowHandler(e){this._setNewDateIfEmpty();const t=this._getActivePartValue(this._initialMaskValue),s=this._getActivePartValue()-t;this._loadMaskValue(this._initialMaskValue),this._changePartValue(s+e,!0)}_changePartValue(e,t){const n=this._getActivePartProp("pattern");/^a{1,5}$/.test(n)?this._toggleAmPm():this._partIncrease(e,t)}_toggleAmPm(){const e=this._getActivePartProp("text"),n=1^Jd.getPeriodNames().indexOf(e);this._setActivePartValue(n)}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})}_isSingleCharKey(e){let{originalEvent:t,alt:n}=e;const s=t.data||t.key;return typeof s=="string"&&s.length===1&&!n&&!$n(t)}_isSingleDigitKey(e){var t;const n=(t=e.originalEvent)===null||t===void 0?void 0:t.data;return(n==null?void 0:n.length)===1&&parseInt(n,10)}_useBeforeInputEvent(){return Oe.real().android}_keyInputHandler(e,t){const n=this._input().val();this._processInputKey(t),e.preventDefault(),n!==this._input().val()&&Y.trigger(this._input(),"input")}_keyboardHandler(e){let{key:t}=e.originalEvent;const n=super._keyboardHandler(e);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(gn.chrome&&e.key==="Process"&&e.code.indexOf("Digit")===0?(t=e.code.replace("Digit",""),this._processInputKey(t),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(e)&&this._keyInputHandler(e.originalEvent,t)),n}_maskBeforeInputHandler(e){this._maskInputHandler=null;const{inputType:t}=e.originalEvent;t==="insertCompositionText"&&(this._maskInputHandler=()=>{this._renderSelectedPart()});const n=t==="deleteContentBackward";if(n||t==="deleteContentForward"){const o=n?-1:1;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(o)}}if(!this._useMaskBehavior()||!this._isSingleCharKey(e))return;const r=e.originalEvent.data;return this._keyInputHandler(e,r),!0}_keyPressHandler(e){const{originalEvent:t}=e;(t==null?void 0:t.inputType)==="insertCompositionText"&&this._isSingleDigitKey(e)&&(this._processInputKey(t.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),super._keyPressHandler(e),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)}_processInputKey(e){var t;const n=((t=this._dateParts)===null||t===void 0?void 0:t.length)>1;this._isAllSelected()&&n&&(this._activePartIndex=0,this._clearSearchValue()),this._setNewDateIfEmpty(),isNaN(parseInt(e))?this._searchString(e):this._searchNumber(e)}_isAllSelected(){const e=this._caret(),{text:t}=this.option();return e.end-e.start===t.length}_getFormatPattern(){if(this._formatPattern)return this._formatPattern;const e=this._strategy.getDisplayFormat(this.option("displayFormat"));return Ke(e)&&!ut._getPatternByFormat(e)?this._formatPattern=e:this._formatPattern=$1(n=>ut.format(n,e)),this._formatPattern}_setNewDateIfEmpty(){if(!this._maskValue){const{type:e}=this.option(),t=e==="time"?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}}_partLimitsReached(e){const t=String(e).length,n=this._getActivePartProp("pattern").length,r=n===1?t:Math.min(n,t),o=this._searchValue.length===r,a=parseInt(`${this._searchValue}0`)>e;return o||a}_searchNumber(e){const{max:t}=this._getActivePartLimits(),n=String(t).length;this._searchValue=(this._searchValue+e).substr(-n),isNaN(this._searchValue)&&(this._searchValue=e),this._setActivePartValue(this._searchValue),this._partLimitsReached(t)&&this._selectNextPart(1)}_searchString(e){const t=this._getActivePartProp("text"),n=Jt.convertDigits(t,!0);if(!isNaN(parseInt(n,10)))return;const s=this._getActivePartProp("limits")(this._maskValue),r=this._searchValue+e.toLowerCase(),o=s.max-s.min;for(let a=0;a<=o;a++)if(this._loadMaskValue(this._initialMaskValue),this._changePartValue(a+1),this._getActivePartProp("text").toLowerCase().indexOf(r)===0){this._searchValue=r;return}this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(e))}_clearSearchValue(){this._searchValue=""}_revertPart(e){if(!this._isAllSelected()){const t=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(t),this._selectNextPart(e)}this._clearSearchValue()}_useMaskBehavior(){const{mode:e}=this.option();return this.option("useMaskBehavior")&&e==="text"}_prepareRegExpInfo(){this._regExpInfo=VP(this._getFormatPattern(),ut);const{regexp:e}=this._regExpInfo,{source:t}=e,{flags:n}=e,s=new RegExp(/(\{[0-9]+,?[0-9]*\})/),r=t.split(s).map(o=>s.test(o)?o:Jt.convertDigits(o,!1)).join("");this._regExpInfo.regexp=new RegExp(r,n)}_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()}_renderMask(){super._renderMask(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())}_renderDateParts(){if(!this._useMaskBehavior())return;const e=this.option("text")||this._getDisplayedText(this._maskValue);e&&(this._dateParts=Loe(e,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}_detachMaskEvents(){Y.off(this._input(),".dateBoxMask")}_attachMaskEvents(){Y.on(this._input(),be("dxclick","dateBoxMask"),this._maskClickHandler.bind(this)),Y.on(this._input(),be("paste","dateBoxMask"),this._maskPasteHandler.bind(this)),Y.on(this._input(),be("drop","dateBoxMask"),()=>{this._renderSelectedPart()}),Y.on(this._input(),be("compositionend","dateBoxMask"),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&Y.on(this._input(),be("beforeinput","dateBoxMask"),this._maskBeforeInputHandler.bind(this))}_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()}_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(-1))}_selectFirstPart(){this.option("text")&&this._dateParts&&(this._activePartIndex=-1,this._selectNextPart(1))}_hasMouseWheelHandler(){return!0}_onMouseWheel(e){this._useMaskBehavior()&&this._partIncrease(e.delta>0?1:-1,e)}_selectNextPart(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;if(!this.option("text")||this._disposed)return;e&&(this._initialMaskValue=new Date(this._maskValue));let t=Ii(this._activePartIndex+e,0,this._dateParts.length-1);if(this._dateParts[t].isStub){if(!(t===0&&e<0||t===this._dateParts.length-1&&e>0)){this._selectNextPart(e>=0?e+1:e-1);return}t=this._activePartIndex}this._activePartIndex!==t&&this._clearSearchValue(),this._activePartIndex=t,this._caret(this._getActivePartProp("caret"))}_getRealLimitsPattern(){if(this._getActivePartProp("pattern")[0]==="d")return"dM"}_getActivePartLimits(e){return this._getActivePartProp("limits")(this._maskValue,e&&this._getRealLimitsPattern())}_getActivePartValue(e){e=e||this._maskValue;const t=this._getActivePartProp("getter");return Ie(t)?t(e):e[t]()}_addLeadingZeroes(e){const t=/^0+/.exec(this._searchValue),n=this._getActivePartLimits(),s=String(n.max).length;return((t&&t[0]||"")+String(e)).substr(-s)}_setActivePartValue(e,t){t=t||this._maskValue;const n=this._getActivePartProp("setter"),s=this._getActivePartLimits();e=Co(e,s.min,s.max)?e:e%10,e=this._addLeadingZeroes(Ii(e,s.min,s.max)),Ie(n)?n(t,e):t[n](e),this._renderDisplayText(this._getDisplayedText(t)),this._renderDateParts()}_getActivePartProp(e){if(!(!this._dateParts||!this._dateParts[this._activePartIndex]))return this._dateParts[this._activePartIndex][e]}_loadMaskValue(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dateOption("value");this._maskValue=e&&new Date(e),this._initialMaskValue=e&&new Date(e)}_saveMaskValue(){const e=this._maskValue&&new Date(this._maskValue),{type:t}=this.option();e&&t==="date"&&e.setHours(0,0,0,0),this._initialMaskValue=new Date(e),this._applyInternalValidation(e).isValid&&this.dateOption("value",e)}_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()}_renderDisplayText(e){super._renderDisplayText(e),this._useMaskBehavior()&&this.option("text",e)}_partIncrease(e,t){this._setNewDateIfEmpty();const{max:n,min:s}=this._getActivePartLimits(t);let r=e+this._getActivePartValue();r>n?r=this._applyLimits(r,{limitBase:s,limitClosest:n,max:n}):r<s&&(r=this._applyLimits(r,{limitBase:n,limitClosest:s,max:n})),this._setActivePartValue(r)}_applyLimits(e,t){let{limitBase:n,limitClosest:s,max:r}=t;const o=(e-s)%r;return o?n+o-1*Xl(o):s}_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=$oe(this._dateParts,this._caret().start),this._isAllSelected()||(this._clearSearchValue(),G(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))}_maskCompositionEndHandler(e){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}}_maskPasteHandler(e){const t=this._replaceSelectedText(this.option("text"),this._caret(),Ig(e)),n=ut.parse(t,this._getFormatPattern());n&&this._isDateValid(n)&&(this._maskValue=n,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),e.preventDefault()}_isDateValid(e){return zi(e)&&!isNaN(e)}_isValueDirty(){const e=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(e&&e.getTime())}_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&Y.trigger(this._input(),"change")}_enterHandler(){this._fireChangeEvent(),this._selectNextPart(1)}_focusOutHandler(e){this._useMaskBehavior()&&!e.isDefaultPrevented()?(this._fireChangeEvent(),super._focusOutHandler(e),this._selectFirstPart()):super._focusOutHandler(e)}_valueChangeEventHandler(e){const t=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(e),t?this._maskValue===null&&this._loadMaskValue(t):this._maskValue=null,this._saveMaskValue()):super._valueChangeEventHandler(e)}_optionChanged(e){switch(e.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":super._optionChanged(e),this._renderMask();break;case"value":this._loadMaskValue(),super._optionChanged(e),this._renderDateParts();break;case"emptyDateValue":break;default:super._optionChanged(e)}}_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue}clear(){this._clearMaskState(),this._activePartIndex=0,super.clear()}_clean(){super._clean(),this._detachMaskEvents(),this._clearMaskState()}}St("dxDateBox",Hoe);const{isWrapped:joe}=bi,zoe="dx-editor-inline-block",qp=(i,e)=>se(i,{readOnly:e.readOnly,placeholder:e.placeholder,inputAttr:{id:e.id,"aria-labelledby":e["aria-labelledby"]},tabIndex:e.tabIndex},e.editorOptions),JF=()=>gn.mozilla||Oe.real().ios,eB=i=>{const e={},t=JF(),n=i.sharedData||e;return qp({placeholder:i.placeholder,width:i.width,value:i.value,onValueChanged(s){const r=i.parentType==="filterRow"||i.parentType==="searchPanel",o=s.event&&(s.event.type==="input"||s.event.type==="keyup"),a=function(l,d){i==null||i.setValue(l.value,d)};clearTimeout(e.valueChangeTimeout),o&&r?n.valueChangeTimeout=e.valueChangeTimeout=setTimeout(()=>{a(s,e.valueChangeTimeout!==n.valueChangeTimeout)},G(i.updateValueTimeout)?i.updateValueTimeout:0):a(s)},onKeyDown(s){t&&En(s.event)==="enter"&&Y.trigger(M(s.component._input()),"change")},valueChangeEvent:"change"+(i.parentType==="filterRow"?" keyup input":"")},i)};function Woe(i){var e;if((e=i.row)!==null&&e!==void 0&&e.watch&&i.parentType==="dataRow"){const t=i.editorOptions||{};i.editorOptions=t;let n;const{onInitialized:s}=t;t.onInitialized=function(a){s==null||s.apply(this,arguments),n=a.component,n.on("disposing",o)};let r;const o=i.row.watch(()=>{var a;return r=i.lookup.dataSource(i.row),(a=r)===null||a===void 0?void 0:a.filter},()=>{n.option("dataSource",r)},a=>{i.row=a})}}const L4=i=>{i.editorName="dxDateBox",i.editorOptions=qp({value:i.value,onValueChanged(e){i.setValue(e.value)},onKeyDown(e){let{component:t,event:n}=e;const s=t.option("useMaskBehavior");(JF()||s)&&En(n)==="enter"&&(t.blur(),t.focus())},displayFormat:i.format,type:i.dataType,dateSerializationFormat:null,width:i.parentType==="filterBuilder"?void 0:"auto"},i)},$4=i=>{const e=eB(i),t=i.parentType==="searchPanel";i.editorType&&i.editorType!=="dxTextBox"?e.value=i.value:e.value=(n=i.value,G(n)?n.toString():"");var n;e.valueChangeEvent+=t?" keyup input search":"",e.mode=e.mode||(t?"search":"text"),i.editorName="dxTextBox",i.editorOptions=e},H4=i=>{const e=eB(i);e.value=G(i.value)?i.value:null,i.editorName="dxNumberBox",i.editorOptions=e};function tB(i){const{lookup:e}=i;let t,n,s;const r=i.parentType==="filterRow";if(e){t=qt(e.displayExpr),n=e.dataSource,Ie(n)&&!joe(n)&&(n=n(i.row||{}),Woe(i)),(Me(n)||Array.isArray(n))&&(n=nl(n),r&&(s=n.postProcess,n.postProcess=function(a){return this.pageIndex()===0&&(a=a.slice(0),a.unshift(null)),s?s.call(this,a):a}));const o=!!(e.allowClearing&&!r);i.editorName=i.editorType??"dxSelectBox",i.editorOptions=qp({searchEnabled:!0,value:i.value,valueExpr:i.lookup.valueExpr,searchExpr:i.lookup.searchExpr||i.lookup.displayExpr,allowClearing:o,showClearButton:o,displayExpr(a){return a===null?i.showAllText:t(a)},dataSource:n,onValueChanged(a){const l=[a.value];r||l.push(a.component.option("text")),i.setValue.apply(this,l)}},i)}}function nB(i){i.editorName="dxCheckBox",i.editorOptions=qp({elementAttr:{id:i.id},value:G(i.value)?i.value:void 0,hoverStateEnabled:!i.readOnly,focusStateEnabled:!i.readOnly,activeStateEnabled:!1,onValueChanged(e){var t;(t=i.setValue)===null||t===void 0||t.call(i,e.value,e)}},i)}const Uoe=i=>{i.parentType==="filterRow"||i.parentType==="filterBuilder"?tB(se(i,{lookup:{displayExpr(e){if(e===!0)return i.trueText||"true";if(e===!1)return i.falseText||"false"},dataSource:[!0,!1]}})):nB(i)},Koe=(i,e)=>{const t=M(e.editorElement);if(e.editorName&&e.editorOptions&&t[e.editorName]){if((e.editorName==="dxCheckBox"||e.editorName==="dxSwitch")&&(e.isOnForm||(t.addClass(i.addWidgetPrefix("checkbox-size")),t.parent().addClass(zoe))),i._createComponent(t,e.editorName,e.editorOptions),e.editorName==="dxDateBox"){const n=t.dxDateBox("instance"),s=n._supportedKeys().enter;n.registerKeyHandler("enter",r=>(n.option("opened")&&s(r),!0))}e.editorName==="dxTextArea"&&t.dxTextArea("instance").registerKeyHandler("enter",n=>{En(n)==="enter"&&!n.ctrlKey&&!n.shiftKey&&n.stopPropagation()})}},Goe=i=>{i.editorName=i.editorType,i.editorOptions=qp({value:i.value,onValueChanged(e){i.setValue(e.value)}},i)},qoe=i=>{const e={dxDateBox:L4,dxCheckBox:nB,dxNumberBox:H4,dxTextBox:$4};if(i.lookup)tB(i);else if(i.editorType)(e[i.editorType]??Goe)(i);else switch(i.dataType){case"date":case"datetime":L4(i);break;case"boolean":Uoe(i);break;case"number":H4(i);break;default:$4(i)}},iB=i=>class extends i{createEditor(e,t){t.cancel=!1,t.editorElement=We(e),G(t.tabIndex)||(t.tabIndex=this.option("tabIndex")),qoe(t),this.executeAction("onEditorPreparing",t),!t.cancel&&(t.parentType==="dataRow"&&!t.isOnForm&&!G(t.editorOptions.showValidationMark)&&(t.editorOptions.showValidationMark=!1),Koe(this,t),this.executeAction("onEditorPrepared",t))}},Yoe="dx-editor-inline-block",sB="dxDataGridEditorFactory",j4=be([Nt,"focusin"].join(" "),sB),qf="dx-hidden",Xoe=iB(fn.ViewController);let Zoe=class extends Xoe{init(){this.createAction("onEditorPreparing",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this.createAction("onEditorPrepared",{excludeValidators:["disabled","readOnly"],category:"rendering"}),this._columnsResizerController=this.getController("columnsResizer"),this._editingController=this.getController("editing"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._columnsController=this.getController("columns"),this._validatingController=this.getController("validating"),this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView"),this._updateFocusHandler=this._updateFocusHandler||this.createAction(this._updateFocus.bind(this)),this._subscribedContainerRoot=this._getContainerRoot(),Y.on(this._subscribedContainerRoot,j4,this._updateFocusHandler),this._attachContainerEventHandlers()}dispose(){clearTimeout(this._focusTimeoutID),clearTimeout(this._updateFocusTimeoutID),Y.off(this._subscribedContainerRoot,j4,this._updateFocusHandler)}_getFocusedElement(e){const n=["td[tabindex]:focus",`${this.option("focusedRowEnabled")?"tr[tabindex]:focus":"tr[tabindex]:not(.dx-data-row):focus"}`,"input:focus","button:focus","textarea:focus","div[tabindex]:focus",".dx-lookup-field:focus",".dx-checkbox:focus",".dx-switch:focus",".dx-dropdownbutton .dx-buttongroup:focus",".dx-adaptive-item-text:focus"].join(","),s=e.find(n);return this.elementIsInsideGrid(s)&&s}_getFocusCellSelector(){return".dx-row > td"}_updateFocusCore(){const e=this.component&&this.component.$element();if(e){let t=this._getFocusedElement(e);if(t&&t.length){let n;if(!t.hasClass("dx-cell-focus-disabled")&&!t.hasClass("dx-row")){const s=t.closest(`${this._getFocusCellSelector()}, .dx-cell-focus-disabled`);s.get(0)!==t.get(0)&&(n=this._needHideBorder(s),t=s)}if(t.length&&!t.hasClass("dx-cell-focus-disabled")){this.focus(t,n);return}}}this.loseFocus()}_needHideBorder(e){const t=this._rowsView.element(),n=e.closest(t).length>0,s=this._editingController.isEditing();return e.hasClass(Yoe)||n&&!s}_updateFocus(e){const t=this,n=e&&e.event&&M(e.event.target).hasClass(t.addWidgetPrefix("focus-overlay"));t._isFocusOverlay=t._isFocusOverlay||n,clearTimeout(t._updateFocusTimeoutID),t._updateFocusTimeoutID=setTimeout(()=>{delete t._updateFocusTimeoutID,t._isFocusOverlay||t._updateFocusCore(),t._isFocusOverlay=!1})}updateFocusOverlaySize(e,t){e.hide();const n=lr.calculate(e,se({collision:"fit"},t));n.h.oversize>0&&Y2(e,kt(e)-n.h.oversize),n.v.oversize>0&&X2(e,gt(e)-n.v.oversize),e.show()}callbackNames(){return["focused"]}getFocusOverlayContainer(e){return e.closest(`.${this.addWidgetPrefix("content")}`)}getFocusOverlaySize(e){const t=en(e.get(0));return{width:t.right-t.left+1,height:t.bottom-t.top+1}}updateFocusOverlay(e){if(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)this._$focusOverlay.addClass(qf);else if(e.length){const n=gn.mozilla?"right bottom":"left top",s=e.hasClass(this.addWidgetPrefix("invalid")),r=e.hasClass("dx-cell-modified")&&!s,o=this.getFocusOverlayContainer(e),a=this.getFocusOverlaySize(e);this._$focusOverlay.removeClass(qf).toggleClass("dx-focused-cell-invalid",s).toggleClass("dx-focused-cell-modified",r).appendTo(o),X2(this._$focusOverlay,a.height),Y2(this._$focusOverlay,a.width);const l={precise:!0,my:n,at:n,of:e,boundary:o.length&&o};this.updateFocusOverlaySize(this._$focusOverlay,l),lr.setup(this._$focusOverlay,l),this._$focusOverlay.css("visibility","visible")}}renderFocusOverlay(e,t){xe.isElementInCurrentGrid(this,e)&&(this._$focusOverlay||(this._$focusOverlay=M("<div>").addClass(this.addWidgetPrefix("focus-overlay"))),this.updateFocusOverlay(e,t))}focus(e,t){const n=this;if(e===void 0)return n._$focusedElement;e&&(e.is(n._$focusedElement)||n._$focusedElement&&n._$focusedElement.removeClass("dx-focused"),n._$focusedElement=e,clearTimeout(n._focusTimeoutID),n._focusTimeoutID=setTimeout(()=>{delete n._focusTimeoutID,n.renderFocusOverlay(e,t),e.addClass("dx-focused"),n.focused.fire(e)}))}refocus(){const e=this.focus();this.focus(e)}resize(){const e=this._$focusedElement;e&&this.focus(e)}loseFocus(e){this._$focusedElement&&this._$focusedElement.removeClass("dx-focused"),this._$focusedElement=null,this._$focusOverlay&&this._$focusOverlay.addClass(qf)}_getContainerRoot(){var e;const t=(e=this.component)===null||e===void 0?void 0:e.$element(),n=ve.getRootNode(t==null?void 0:t.get(0));return n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&!n.host?ve.getDocument():n}_attachContainerEventHandlers(){const e=this,t=e.component&&e.component.$element();t&&Y.on(t,be("keydown",sB),n=>{En(n)==="tab"&&e._updateFocusHandler(n)})}getFocusOverlay(){return this._$focusOverlay}hasOverlayElements(){var e;return!!((e=this._$focusOverlay)!==null&&e!==void 0&&e.length)&&!this._$focusOverlay.hasClass(qf)}};const Qoe={defaultOptions:()=>({}),controllers:{editorFactory:Zoe}};Ue.registerModule("editorFactory",Qoe);const Yf=bt(),Joe={h:10,v:0},eae={text:ue.format("OK"),onClick:()=>!0},tae=()=>ts(Yt())?{stylingMode:"contained",type:"default"}:{},nae=()=>ts(Yt())?{stylingMode:"outlined",type:"normal"}:{},iae=i=>{var e;const{buttons:t,dragEnabled:n,message:s,messageHtml:r,popupOptions:o,showCloseButton:a,showTitle:l,title:d="",width:c,position:h}=i??{};G(s)&&pt.log("W1013");const p=G(r),f=String(p?r:s),g=d?null:new Xt().toString(),m=de(),v=M("<div>").addClass("dx-dialog").appendTo(ja()),_=M("<div>").addClass("dx-dialog-message").html(f).attr("id",g);let x=null;const y=z=>{var H;m.resolve(z),(H=x)===null||H===void 0||H.hide()},O=(t??[eae]).map(z=>{const{onClick:H}=z,I=new Yi(H,{context:x});return{toolbar:"bottom",location:Oe.current().android?"after":"center",widget:"dxButton",options:Object.assign({},z,{onClick:E=>{const b=I.execute(E);y(b)}})}}),L=h??{boundaryOffset:Object.assign({},Joe)},R={animation:{show:{type:"pop",duration:400},hide:{type:"pop",duration:400,to:{opacity:0,scale:0},from:{opacity:1,scale:1}}},container:v,dragAndResizeArea:Yf,dragEnabled:wn(n,!0),height:"auto",ignoreChildEvents:!1,onContentReady:z=>{var H;const I=z.component;(H=I.$content())===null||H===void 0||H.addClass("dx-dialog-content").append(_),g&&I.$overlayContent().attr("aria-labelledby",g)},onHiding:()=>{m.reject()},onShowing:z=>{const I=z.component.bottomToolbar();I==null||I.addClass("dx-dialog-buttons").find(".dx-button").addClass("dx-dialog-button"),Sr.resetActiveElement()},onShown:z=>{const I=z.component.bottomToolbar(),A=I==null?void 0:I.find(".dx-button").first();Y.trigger(A,"focus")},position:L,rtlEnabled:Ot().rtlEnabled,showCloseButton:a??!1,showTitle:wn(l,!0),title:d,toolbarItems:O,visualContainer:Yf,width:c},$=Object.assign({},R,o,{onHidden:z=>{var H;M(z.element).remove(),o==null||(H=o.onHidden)===null||H===void 0||H.call(o,z)}});return x=new hr(v,$),(e=x.$wrapper())===null||e===void 0||e.addClass("dx-dialog-wrapper").addClass("dx-dialog-root"),{show:()=>{var z;if(Oe.real().deviceType==="phone"){var H;const A=ht(Yf)>Xe(Yf)?"90%":"60%";(H=x)===null||H===void 0||H.option({width:A})}return(z=x)===null||z===void 0||z.show(),m.promise()},hide:y}},sae=i=>ot(i),rae=(i,e,t)=>{const n=e??"",s=sae(i)?i:{title:n,messageHtml:i,showTitle:t,buttons:[Object.assign({text:ue.format("Yes"),onClick:()=>!0},tae()),Object.assign({text:ue.format("No"),onClick:()=>!1},nae())],dragEnabled:t};return iae(s).show()},c_="dx-editor-cell",da="dx-row",oae="dx-cell-modified",z4="dx-selection",KS="edit-form",gr="insert",Vr="remove",Mm="editing.popup",Lx="editing.form",Ts="editing.editRowKey",Dl="editing.editColumnName",rB="targetComponent",GS="input:not([type='hidden'])",qS=`[tabindex]:not([disabled]), ${GS}:not([disabled])`,EC="batch",hh="row",IC="cell",YS="form",aae="popup",W4="first",Xf="last",U4="pageBottom",K4="pageTop",G4="viewportBottom",oB="viewportTop",lae=["batch","row","cell","form","popup"],dae=["row","form","popup"],cae=["batch","cell"],uae=["batch","row","cell"],hae=["row","form"],pae="readonly",fae="dx-link",mae="dx-link-icon",gae="dx-selection",_ae="dx-edit-button",vae="dx-command-edit",q4="dx-command-edit-with-icons",ta="__DX_INSERT_INDEX__",xae="dx-row-inserted",bae="dx-row-modified",Y4="dx-cell-modified",yae="dxDataGridEditing",Cae="dx-cell-focus-disabled",Ru="update",wae="click",Sae={save:"dx-link-save",cancel:"dx-link-cancel",edit:"dx-link-edit",undelete:"dx-link-undelete",delete:"dx-link-delete",add:"dx-link-add"},Eae={save:"save",cancel:"revert",edit:"edit",undelete:"revert",delete:"trash",add:"add"},Iae={edit:"editRow",delete:"deleteRow",undelete:"undeleteRow",save:"saveEditData",cancel:"cancelEditData",add:"addRowByRowIndex"},Tae={add:"allowAdding",edit:"allowUpdating",delete:"allowDeleting"},Dae=["edit","save","cancel","delete","undelete"],lo="editing.changes",Aae="focus-overlay",kae="addrow-button",Oae="dx-dropdowneditor-overlay",Rae="dx-data-row",Pae="dx-row-removed",Mae="filter-row",aB="edit-form-item",Fae="edit-popup",Bae="edit-popup-form",Nae="dx-scrollable-container",Vae="dx-button",Lae="form-buttons-container",TC="dx-edit-row",Zf=function(i){return function(e){const t=e instanceof Error?e:new Error(e&&String(e)||"Unknown error");i.reject(t)}},lB=function(i,e){return e.isEditing||i&&e.column.allowEditing},X4=function(i,e){const t=!!e.column.command,n=lB(i,e),s=!t&&(n||e.column.showEditorAlways);return e.rowType==="data"&&s},$ae=i=>{const e=i.component.option("editing.texts")||{};return{save:e.saveRowChanges,cancel:e.cancelRowChanges,edit:e.editRow,undelete:e.undeleteRow,delete:e.deleteRow,add:e.addRowToNode}},Hae=()=>`_DX_KEY_${new Xt}`,jae=i=>typeof i=="string"&&i.startsWith("_DX_KEY_")&&i.length===44,Rd=(i,e)=>{let t=-1;return i.some((n,s)=>{if(dB(n)===e)return t=s,!0}),t};function dB(i){return Me(i)?i.name:i}function zae(i){return i&&(i.is("input")||i.is("textarea"))}const Wae=i=>{var e;const{column:t}=i;return i.isCustomEditorType?i.editorType:(e=t.formItem)===null||e===void 0?void 0:e.editorType},cB=(i,e)=>{i.forEach(t=>{t.items||t.tabs?cB(t.items||t.tabs,e):e(t)})};class Uae extends fn.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._validatingController=this.getController("validating"),this._editorFactoryController=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._columnsResizerController=this.getController("columnsResizer"),this._errorHandlingController=this.getController("errorHandling"),this._rowsView=this.getView("rowsView"),this._headerPanelView=this.getView("headerPanel"),this._lastOperation=null,this._changes=[],this._deferreds&&this._deferreds.forEach(e=>{e.reject("cancel")}),this._deferreds=[],this._dataChangedHandler||(this._dataChangedHandler=this._handleDataChanged.bind(this),this._dataController.changed.add(this._dataChangedHandler)),this._saveEditorHandler||(this.createAction("onInitNewRow",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserting",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowInserted",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditingStart",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdating",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowUpdated",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onRowRemoved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaved",{excludeValidators:["disabled","readOnly"]}),this.createAction("onSaving",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceling",{excludeValidators:["disabled","readOnly"]}),this.createAction("onEditCanceled",{excludeValidators:["disabled","readOnly"]})),this._updateEditColumn(),this._updateEditButtons(),this._internalState||(this._internalState=new Map),this.component._optionsByReference[Ts]=!0,this.component._optionsByReference[lo]=!0}getEditMode(){const e=this.option("editing.mode")??hh;return lae.includes(e)?e:hh}isCellBasedEditMode(){const e=this.getEditMode();return cae.includes(e)}_getDefaultEditorTemplate(){return(e,t)=>{const n=M("<div>").appendTo(e),s=se({},t.column,{value:t.value,setValue:t.setValue,row:t.row,parentType:"dataRow",width:null,readOnly:!t.setValue,isOnForm:t.isOnForm,id:t.id});uae.includes(this.getEditMode())&&(s["aria-labelledby"]=t.column.headerId),this._editorFactoryController.createEditor(n,s)}}_getNewRowPosition(){const e=this.option("editing.newRowPosition");if(this.option("scrolling.mode")==="virtual")switch(e){case K4:return oB;case U4:return G4;default:return e}return e}getChanges(){return this.option(lo)}getInsertRowCount(){return this.option(lo).filter(t=>t.type==="insert").length}resetChanges(){const e=this.getChanges();(e==null?void 0:e.length)&&(this._silentOption(lo,[]),this._internalState.clear())}_getInternalData(e){return this._internalState.get(vs(e))}_addInternalData(e){const t=this._getInternalData(e.key);return t?se(t,e):(this._internalState.set(vs(e.key),e),e)}_getOldData(e){var t;return(t=this._getInternalData(e))===null||t===void 0?void 0:t.oldData}getUpdatedData(e){const t=this._dataController.keyOf(e),n=this.getChanges(),s=xe.getIndexByKey(t,n);return n[s]?ba(e,n[s].data):e}getInsertedData(){return this.getChanges().filter(e=>e.data&&e.type===gr).map(e=>e.data)}getRemovedData(){return this.getChanges().filter(e=>this._getOldData(e.key)&&e.type===Vr).map(e=>this._getOldData(e.key))}_fireDataErrorOccurred(e){if(e==="cancel")return;const t=this.getPopupContent();this._dataController.dataErrorOccurred.fire(e,t)}_needToCloseEditableCell(e){}_closeEditItem(e){}_handleDataChanged(e){}_isDefaultButtonVisible(e,t){let n=!0;switch(e.name){case"delete":n=this.allowDeleting(t);break;case"undelete":n=!1}return n}isPopupEditMode(){return this.option("editing.mode")===aae}_isButtonVisible(e,t){const{visible:n}=e;return G(n)?Ie(n)?n.call(e,{component:t.component,row:t.row,column:t.column}):n:this._isDefaultButtonVisible(e,t)}_isButtonDisabled(e,t){const{disabled:n}=e;return Ie(n)?n.call(e,{component:t.component,row:t.row,column:t.column}):!!n}_getButtonConfig(e,t){const n=Me(e)?e:{},s=dB(e),r=$ae(t),o=Iae[s],a=this.option("editing"),l=Tae[s],d=l?a[l]:!0;return se({name:s,text:r[s],cssClass:Sae[s]},{onClick:o&&(c=>{const{event:h}=c;h.stopPropagation(),h.preventDefault(),setTimeout(()=>{t.row&&d&&this[o]&&this[o](t.row.rowIndex)})})},n)}_getEditingButtons(e){let t;const n=!!e.column.buttons;let s=(e.column.buttons||[]).slice();return n?(t=Rd(s,"edit"),t>=0&&(Rd(s,"save")<0&&s.splice(t+1,0,"save"),Rd(s,"cancel")<0&&s.splice(Rd(s,"save")+1,0,"cancel")),t=Rd(s,"delete"),t>=0&&Rd(s,"undelete")<0&&s.splice(t+1,0,"undelete")):s=Dae.slice(),s.map(r=>this._getButtonConfig(r,e))}_renderEditingButtons(e,t,n,s){t.forEach(r=>{this._isButtonVisible(r,n)&&this._createButton(e,r,n,s)})}_getEditCommandCellTemplate(){return(e,t,n)=>{const s=M(e);if(t.rowType==="data"){const r=this._getEditingButtons(t);if(this._renderEditingButtons(s,r,t,n),t.watch){const o=t.watch(()=>r.map(a=>({visible:this._isButtonVisible(a,t),disabled:this._isButtonDisabled(a,t)})),()=>{s.empty(),this._renderEditingButtons(s,r,t)});Y.on(s,$s,o)}}else xe.setEmptyText(s)}}isRowBasedEditMode(){const e=this.getEditMode();return dae.includes(e)}getFirstEditableColumnIndex(){let e;const t=this._columnsController.getVisibleColumns();return ie(t,(n,s)=>{if(s.allowEditing)return e=n,!1}),e}getFirstEditableCellInRow(e){var t;const n=this.getFirstEditableColumnIndex();return(t=this._rowsView)===null||t===void 0?void 0:t._getCellElement(e||0,n)}getFocusedCellInRow(e){return this.getFirstEditableCellInRow(e)}getIndexByKey(e,t){return xe.getIndexByKey(e,t)}hasChanges(e){const t=this.getChanges();let n=!1;for(let s=0;s<(t==null?void 0:t.length);s++)if(t[s].type&&(!G(e)||this._dataController.getRowIndexByKey(t[s].key)===e)){n=!0;break}return n}dispose(){super.dispose(),clearTimeout(this._inputFocusTimeoutID),Y.off(ve.getDocument(),mt.up,this._pointerUpEditorHandler),Y.off(ve.getDocument(),mt.down,this._pointerDownEditorHandler),Y.off(ve.getDocument(),Nt,this._saveEditorHandler)}_silentOption(e,t){e==="editing.changes"&&(this._changes=Gi([],t)),super._silentOption(e,t)}optionChanged(e){if(e.name==="editing"){const{fullName:t}=e;t===Ts?this._handleEditRowKeyChange(e):t===lo?dn(e.value,this._changes,{maxDepth:4})||(this._changes=Gi([],e.value),this._handleChangesChange(e)):e.handled||(this._columnsController.reinit(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey()),e.handled=!0}else super.optionChanged(e)}_handleEditRowKeyChange(e){const t=this._dataController.getRowIndexByKey(e.value),n=this._getEditRowIndexCorrection(),s=this._dataController.getRowIndexByKey(e.previousValue)+n;G(e.value)?e.value!==e.previousValue&&this._editRowFromOptionChanged(t,s):this.cancelEditData()}_handleChangesChange(e){const t=this._dataController,n=e.value;!e.value.length&&!e.previousValue.length||(n.forEach(s=>{if(s.type==="insert")this._addInsertInfo(s);else{var r;const o=t.getCachedStoreData()||((r=t.items())===null||r===void 0?void 0:r.map(l=>l.data)),a=xe.getIndexByKey(s.key,o,t.key());this._addInternalData({key:s.key,oldData:o[a]})}}),t.updateItems({repaintChangesOnly:!0,isLiveUpdate:!1,isOptionChanged:!0}))}publicMethods(){return["addRow","deleteRow","undeleteRow","editRow","saveEditData","cancelEditData","hasEditData"]}refresh(){G(this._pageIndex)&&this._refreshCore.apply(this,arguments)}_refreshCore(e){}isEditing(){return G(this.option(Ts))}isEditRow(e){return!1}_setEditRowKey(e,t){t?this._silentOption(Ts,e):this.option(Ts,e),this._refocusEditCell&&(this._refocusEditCell=!1,this._focusEditingCell())}getEditRowIndex(){return this._getVisibleEditRowIndex()}getEditFormRowIndex(){return-1}isEditRowByIndex(e){const t=this._dataController.getKeyByRowIndex(e),n=G(t)&&dn(this.option(Ts),t);return n&&this._getVisibleEditRowIndex()===e}isEditCell(e,t){return this.isEditRowByIndex(e)&&this._getVisibleEditColumnIndex()===t}getPopupContent(){}_isProcessedItem(e){return!1}_getInsertRowIndex(e,t,n){let s=-1;const r=this._dataController,o=this._getInsertAfterOrBeforeKey(t);return!G(o)&&e.length===0?s=0:G(o)&&e.some((a,l)=>{const d=n||this._isProcessedItem(a);if(Me(a)&&(d||G(a[ta])?dn(a.key,o)&&(s=l):dn(r.keyOf(a),o)&&(s=l)),s>=0){const c=e[s+1];return c&&(c.rowType==="detail"||c.rowType==="detailAdaptive")&&G(t.insertAfterKey)?void 0:(G(t.insertAfterKey)&&(s+=1),!0)}}),s}_generateNewItem(e){var t;const n={key:e},s=(t=this._getInternalData(e))===null||t===void 0?void 0:t.insertInfo;return s!=null&&s[ta]&&(n[ta]=s[ta]),n}_getLoadedRowIndex(e,t,n){let s=this._getInsertRowIndex(e,t,n);const r=this._dataController;if(s<0){const o=this._getNewRowPosition(),a=r.pageIndex(),l=this._getInsertAfterOrBeforeKey(t);o!==Xf&&a===0&&!G(l)?s=0:o===Xf&&r.isLastPageLoaded()&&(s=e.length)}return s}processItems(e,t){const{changeType:n}=t;return this.update(n),this.getChanges().forEach(r=>{var o;if(!(r.type===gr))return;let{key:l}=r,d=(o=this._getInternalData(l))===null||o===void 0?void 0:o.insertInfo;(!G(l)||!G(d))&&(d=this._addInsertInfo(r),l=d.key);const c=this._getLoadedRowIndex(e,r),h=this._generateNewItem(l);c>=0&&e.splice(c,0,h)}),e}processDataItem(e,t,n){const s=t.visibleColumns,r=e.data[ta]?e.data.key:e.key,o=this.getChanges(),a=xe.getIndexByKey(r,o);e.isEditing=!1,a>=0&&this._processDataItemCore(e,o[a],r,s,n)}_processDataItemCore(e,t,n,s,r){const{data:o,type:a}=t;switch(a){case gr:e.isNewRow=!0,e.key=n,e.data=o;break;case Ru:e.modified=!0,e.oldData=e.data,e.data=ba(e.data,o),e.modifiedValues=r(o,s,!0);break;case Vr:e.removed=!0}}_initNewRow(e){if(this.executeAction("onInitNewRow",e),e.promise){const t=new de;return Ae(ci(e.promise)).done(t.resolve).fail(Zf(t)).fail(n=>this._fireDataErrorOccurred(n)),t}}_createInsertInfo(){const e={};return e[ta]=this._getInsertIndex(),e}_addInsertInfo(e,t){var n;let s;e.key=this.getChangeKeyValue(e);const{key:r}=e;if(s=(n=this._getInternalData(r))===null||n===void 0?void 0:n.insertInfo,!G(s)){const o=this._getInsertAfterOrBeforeKey(e);s=this._createInsertInfo(),G(o)||this._setInsertAfterOrBeforeKey(e,t)}return this._addInternalData({insertInfo:s,key:r}),{insertInfo:s,key:r}}getChangeKeyValue(e){if(G(e.key))return e.key;const t=this._dataController.key();let n;return e.data&&t&&!Array.isArray(t)&&(n=e.data[t]),G(n)||(n=Hae()),n}_setInsertAfterOrBeforeKey(e,t){const n=this.getView("rowsView"),s=this._dataController,r=s.items(!0),o=this._getNewRowPosition();switch(o){case W4:case Xf:break;case K4:r.length&&(e.insertBeforeKey=r[0].key);break;case U4:r.length&&(e.insertAfterKey=r[r.length-1].key);break;default:{let l=o===G4?n==null?void 0:n.getBottomVisibleItemIndex():n==null?void 0:n.getTopVisibleItemIndex();const d=s.getVisibleRows()[l];d&&(!d.isEditing&&d.rowType==="detail"||d.rowType==="detailAdaptive")&&l++;const c=s.getKeyByRowIndex(l);G(c)&&(e.insertBeforeKey=c)}}}_getInsertIndex(){let e=0;return this.getChanges().forEach(t=>{var n;const s=(n=this._getInternalData(t.key))===null||n===void 0?void 0:n.insertInfo;G(s)&&t.type===gr&&s[ta]>e&&(e=s[ta])}),e+1}_getInsertAfterOrBeforeKey(e){return e.insertAfterKey??e.insertBeforeKey}_getPageIndexToInsertRow(){const e=this._getNewRowPosition(),t=this._dataController,n=t.pageIndex(),s=t.pageCount()-1;return e===W4&&n!==0?0:e===Xf&&n!==s?s:-1}addRow(e){const t=this._dataController;return t.store()?this._addRow(e):(t.fireError("E1052",this.component.NAME),new de().reject())}_addRow(e){const n=this._dataController.store(),s=n&&n.key(),r={data:{}},o=this._getVisibleEditRowIndex(),a=new de;return this.refresh({allowCancelEditing:!0}),this._allowRowAdding()?(s||(r.data.__KEY__=String(new Xt)),Ae(this._initNewRow(r,e)).done(()=>{this._allowRowAdding()?Ae(this._addRowCore(r.data,e,o)).done(a.resolve).fail(a.reject):a.reject("cancel")}).fail(a.reject),a.promise()):(Ae(this._navigateToNewRow(o)).done(a.resolve).fail(a.reject),a.promise())}_allowRowAdding(e){return!(this._getInsertIndex()>1)}_addRowCore(e,t,n){const s={data:e,type:gr},r=this._getVisibleEditRowIndex(),o=this._addInsertInfo(s,t),{key:a}=o;return this._setEditRowKey(a,!0),this._addChange(s),this._navigateToNewRow(n,s,r)}_navigateToNewRow(e,t,n){const s=new de,r=this._dataController;if(n=n??-1,t=t??this.getChanges().filter(c=>c.type===gr)[0],!t)return s.reject("cancel").promise();const o=this._getPageIndexToInsertRow();let a=this._getLoadedRowIndex(r.items(),t,!0);const l=c=>{var h;Ae((h=this._focusController)===null||h===void 0?void 0:h.navigateToRow(c)).done(()=>{a=r.getRowIndexByKey(t.key),s.resolve()})},d=this._getInsertAfterOrBeforeKey(t);return o>=0?r.pageIndex(o).done(()=>{l(t.key)}).fail(s.reject):a<0&&G(d)?l(d):(r.updateItems({changeType:"update",rowIndices:[e,n,a]}),a=r.getRowIndexByKey(t.key),a<0?l(t.key):s.resolve()),s.done(()=>{var c;(c=this._rowsView)===null||c===void 0||c.waitAsyncTemplates(!0).done(()=>{this._showAddedRow(a),this._afterInsertRow(t.key)})}),s.promise()}_showAddedRow(e){this._focusFirstEditableCellInRow(e)}_beforeFocusElementInRow(e){}_focusFirstEditableCellInRow(e){var t;const n=this._dataController,s=n.getKeyByRowIndex(e),r=this.getFirstEditableCellInRow(e);(t=this._keyboardNavigationController)===null||t===void 0||t.focus(r),this.option("focusedRowKey",s),this._editCellInProgress=!0,this._delayedInputFocus(r,()=>{e=n.getRowIndexByKey(s),this._editCellInProgress=!1,this._beforeFocusElementInRow(e)})}_isEditingStart(e){return this.executeAction("onEditingStart",e),e.cancel}_beforeUpdateItems(e,t){}_getVisibleEditColumnIndex(){const e=this.option(Dl);return G(e)?this._columnsController.getVisibleColumnIndex(e):-1}_setEditColumnNameByIndex(e,t){var n;const s=this._columnsController.getVisibleColumns();this._setEditColumnName((n=s[e])===null||n===void 0?void 0:n.name,t)}_setEditColumnName(e,t){t?this._silentOption(Dl,e):this.option(Dl,e)}_resetEditColumnName(){this._setEditColumnName(null,!0)}_getEditColumn(){const e=this.option(Dl);return this._getColumnByName(e)}_getColumnByName(e){const t=this._columnsController.getVisibleColumns();let n;return G(e)&&t.some(s=>{if(s.name===e)return n=s,!0}),n}_getVisibleEditRowIndex(e){const t=this._dataController,n=this.option(Ts),s=t.getRowIndexByKey(n);return s===-1?s:s+this._getEditRowIndexCorrection(e)}_getEditRowIndexCorrection(e){const t=e?this._getColumnByName(e):this._getEditColumn();return(t==null?void 0:t.visibleWidth)==="adaptiveHidden"?1:0}_resetEditRowKey(){this._refocusEditCell=!1,this._setEditRowKey(null,!0)}_resetEditIndices(){this._resetEditColumnName(),this._resetEditRowKey()}editRow(e){const t=this._dataController,s=t.items()[e],r={data:s&&s.data,cancel:!1},o=this._getVisibleEditRowIndex();if(s){if(e===o)return!0;if(s.key===void 0){this._dataController.fireError("E1043");return}s.isNewRow||(r.key=s.key),!this._isEditingStart(r)&&(this.resetChanges(),this.init(),this._resetEditColumnName(),this._pageIndex=t.pageIndex(),this._addInternalData({key:s.key,oldData:s.oldData??s.data}),this._setEditRowKey(s.key))}}_editRowFromOptionChanged(e,t){const n=[t,e];this._beforeUpdateItems(n,e,t),this._editRowFromOptionChangedCore(n,e)}_editRowFromOptionChangedCore(e,t,n){this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:e,cancel:n})}_focusEditorIfNeed(){}_showEditPopup(e,t){}_repaintEditPopup(){}_getEditPopupHiddenHandler(){return e=>{this.isEditing()&&this.cancelEditData()}}_getPopupEditFormTemplate(e){}_getSaveButtonConfig(){const e={text:this.option("editing.texts.saveRowChanges"),onClick:this.saveEditData.bind(this)};return ts(Yt())&&(e.stylingMode="contained",e.type="default"),e}_getCancelButtonConfig(){const e={text:this.option("editing.texts.cancelRowChanges"),onClick:this.cancelEditData.bind(this)};return ts(Yt())&&(e.stylingMode="outlined"),e}_removeInternalData(e){this._internalState.delete(vs(e))}_updateInsertAfterOrBeforeKeys(e,t){const n=e[t];e.forEach(s=>{if(s.type===gr){const r=this._getInsertAfterOrBeforeKey(s);dn(r,n.key)&&(s[G(s.insertAfterKey)?"insertAfterKey":"insertBeforeKey"]=this._getInsertAfterOrBeforeKey(n))}})}_removeChange(e){if(e>=0){const t=[...this.getChanges()],{key:n,type:s}=t[e];this._removeInternalData(n),s!==Vr&&this._updateInsertAfterOrBeforeKeys(t,e),t.splice(e,1),this._silentOption(lo,t),dn(this.option(Ts),n)&&this._resetEditIndices()}}executeOperation(e,t){this._lastOperation&&this._lastOperation.reject(),this._lastOperation=e,this.waitForDeferredOperations().done(()=>{e.state()!=="rejected"&&(t(),this._lastOperation=null)}).fail(()=>{e.reject(),this._lastOperation=null})}waitForDeferredOperations(){return Ae(...this._deferreds)}_processCanceledEditingCell(){}_repaintEditCell(e,t,n){!e||!e.showEditorAlways||t&&!t.showEditorAlways?(this._editCellInProgress=!0,this._needFocusEditor=!0,this._editorFactoryController.loseFocus(),this._dataController.updateItems({changeType:"update",rowIndices:[n,this._getVisibleEditRowIndex()]})):e!==t&&(this._needFocusEditor=!0,this._dataController.updateItems({changeType:"update",rowIndices:[]}))}_delayedInputFocus(e,t,n){const s=()=>{if(t&&t(),e){const r=e.find(qS).first();xe.focusAndSelectElement(this,r)}this._beforeFocusCallback=null};Oe.real().ios||Oe.real().android?s():(this._beforeFocusCallback&&this._beforeFocusCallback(),clearTimeout(this._inputFocusTimeoutID),n&&(this._beforeFocusCallback=t),this._inputFocusTimeoutID=setTimeout(s))}_focusEditingCell(e,t,n){const s=this._getVisibleEditColumnIndex();t=t||this._rowsView&&this._rowsView._getCellElement(this._getVisibleEditRowIndex(),s),t&&this._delayedInputFocus(t,e,n)}deleteRow(e){this._checkAndDeleteRow(e)}_checkAndDeleteRow(e){const t=this.option("editing"),n=t==null?void 0:t.texts,s=t==null?void 0:t.confirmDelete,r=n==null?void 0:n.confirmDeleteMessage,o=this._dataController.items()[e],a=!this.isEditing()||o.isNewRow;if(o&&a)if(!s||!r)this._deleteRowCore(e);else{const l=n&&n.confirmDeleteTitle,d=G(l)&&l.length>0;rae(r,l,d).done(c=>{c&&this._deleteRowCore(e)})}}_deleteRowCore(e){const n=this._dataController.items()[e],s=n&&n.key,r=this._getVisibleEditRowIndex();this.refresh();const o=this.getChanges(),a=xe.getIndexByKey(s,o);return a>=0?o[a].type===gr?this._removeChange(a):this._addChange({key:s,type:Vr}):this._addChange({key:s,oldData:n.data,type:Vr}),this._afterDeleteRow(e,r)}_afterDeleteRow(e,t){return this.saveEditData()}undeleteRow(e){const t=this._dataController,n=t.items()[e],s=this._getVisibleEditRowIndex(),r=n&&n.key,o=this.getChanges();if(n){const a=xe.getIndexByKey(r,o);if(a>=0){const{data:l}=o[a];ki(l)?this._removeChange(a):this._addChange({key:r,type:Ru}),t.updateItems({changeType:"update",rowIndices:[s,e]})}}}_fireOnSaving(){const e={cancel:!1,promise:null,changes:[...this.getChanges()]};this.executeAction("onSaving",e);const t=new de;return Ae(ci(e.promise)).done(()=>{t.resolve(e)}).fail(n=>{this._fireDataErrorOccurred(n),t.resolve({cancel:!0})}),t}_executeEditingAction(e,t,n){if(this.component._disposed)return null;const s=new de;return this.executeAction(e,t),Ae(ci(t.cancel)).done(r=>{r?setTimeout(()=>{s.resolve("cancel")}):n(t).done(s.resolve).fail(Zf(s))}).fail(Zf(s)),s}_processChanges(e,t,n,s){const r=this._dataController.store();ie(s,(o,a)=>{const l=this._getOldData(a.key),{data:d,type:c}=a,h=Object.assign({},a);let u,p;if(!this._beforeSaveEditData(a,o)){switch(c){case Vr:p={data:l,key:a.key,cancel:!1},u=this._executeEditingAction("onRowRemoving",p,()=>r.remove(a.key).done(f=>{n.push({type:"remove",key:f})}));break;case gr:p={data:d,cancel:!1},u=this._executeEditingAction("onRowInserting",p,()=>r.insert(p.data).done((f,g)=>{G(g)&&(h.key=g),f&&Me(f)&&f!==p.data&&(h.data=f),n.push({type:"insert",data:f,index:0})}));break;case Ru:p={newData:d,oldData:l,key:a.key,cancel:!1},u=this._executeEditingAction("onRowUpdating",p,()=>r.update(a.key,p.newData).done((f,g)=>{f&&Me(f)&&f!==p.newData&&(h.data=f),n.push({type:"update",key:g,data:f})}))}if(s[o]=h,u){const f=new de;u.always(g=>{t.push({key:a.key,result:g})}).always(f.resolve),e.push(f.promise())}}})}_processRemoveIfError(e,t){const n=e[t];return(n==null?void 0:n.type)===Vr&&t>=0&&e.splice(t,1),!0}_processRemove(e,t,n){const s=e[t];if(!n||!s||s.type===Vr)return this._processRemoveCore(e,t,!n||!s)}_processRemoveCore(e,t,n){return t>=0&&e.splice(t,1),!0}_processSaveEditDataResult(e){let t=!1;const n=this.getChanges(),s=[...n],r=s.length;for(let o=0;o<e.length;o++){const a=e[o].result,l=a==="cancel",d=xe.getIndexByKey(e[o].key,s),c=s[d];if(a&&a instanceof Error){if(c&&this._addInternalData({key:c.key,error:a}),this._fireDataErrorOccurred(a),this._processRemoveIfError(s,d))break}else if(this._processRemove(s,d,l)){t=!l;const u=xe.getIndexByKey(e[o].key,n);this._updateInsertAfterOrBeforeKeys(n,u)}}return s.length<r&&this._silentOption(lo,s),t}_fireSaveEditDataEvents(e){ie(e,(t,n)=>{let{data:s,key:r,type:o}=n;const a=this._addInternalData({key:r}),l={key:r,data:s};switch(a.error&&(l.error=a.error),o){case Vr:this.executeAction("onRowRemoved",se({},l,{data:a.oldData}));break;case gr:this.executeAction("onRowInserted",l);break;case Ru:this.executeAction("onRowUpdated",l)}}),this.executeAction("onSaved",{changes:e})}saveEditData(){const e=new de;return this.waitForDeferredOperations().done(()=>{if(this.isSaving()){this._resolveAfterSave(e);return}Ae(this._beforeSaveEditData()).done(t=>{if(t){this._resolveAfterSave(e,{cancel:t});return}this._saving=!0,this._saveEditDataInner().always(()=>{this._saving=!1,this._refocusEditCell&&this._focusEditingCell()}).done(e.resolve).fail(e.reject)}).fail(e.reject)}).fail(e.reject),e.promise()}_resolveAfterSave(e){let{cancel:t,error:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Ae(this._afterSaveEditData(t)).done(()=>{e.resolve(n)}).fail(e.reject)}_saveEditDataInner(){const e=new de,t=[],n=[],s=[],r=this._dataController.dataSource();return Ae(this._fireOnSaving()).done(o=>{let{cancel:a,changes:l}=o;if(a)return e.resolve().promise();if(this._processChanges(n,t,s,l),n.length)return this._refocusEditCell=!0,r==null||r.beginLoading(),Ae(...n).done(()=>{this._processSaveEditDataResult(t)?this._endSaving(s,l,e):(r==null||r.endLoading(),e.resolve())}).fail(d=>{r==null||r.endLoading(),e.resolve(d)}),e.always(()=>{this._refocusEditCell=!0}).promise();this._cancelSaving(e)}).fail(e.reject),e.promise()}_beforeEndSaving(e){this._resetEditIndices()}_endSaving(e,t,n){const s=this._dataController.dataSource();this._beforeEndSaving(t),s==null||s.endLoading(),this._refreshDataAfterSave(e,t,n)}_cancelSaving(e){this.executeAction("onSaved",{changes:[]}),this._resolveAfterSave(e)}_refreshDataAfterSave(e,t,n){const s=this._dataController,r=this.option("editing.refreshMode"),o=r!=="reshape"&&r!=="repaint";o||s.push(e),Ae(s.refresh({selection:o,reload:o,load:r==="reshape",changesOnly:this.option("repaintChangesOnly")})).always(()=>{this._fireSaveEditDataEvents(t)}).done(()=>{this._resolveAfterSave(n)}).fail(a=>{this._resolveAfterSave(n,{error:a})})}isSaving(){return this._saving}_updateEditColumn(){const e=this._isEditColumnVisible(),t=this.option("editing.useIcons"),n=vae+(t?` ${q4}`:"");this._columnsController.addCommandColumn({type:"buttons",command:"edit",visible:e,cssClass:n,width:"auto",alignment:"center",cellTemplate:this._getEditCommandCellTemplate(),fixedPosition:"right"}),this._columnsController.columnOption("command:edit",{visible:e,cssClass:n})}_isEditColumnVisible(){return this.option("editing").allowDeleting}_isEditButtonDisabled(){const e=this.hasChanges();return!(G(this.option("editing.editRowKey"))||e)}_updateEditButtons(){const e=this._isEditButtonDisabled();this._headerPanelView&&(this._headerPanelView.setToolbarItemDisabled("saveButton",e),this._headerPanelView.setToolbarItemDisabled("revertButton",e))}_applyModified(e,t){e&&e.addClass(Y4)}_beforeCloseEditCellInBatchMode(e){}cancelEditData(){const e=this.getChanges(),t={cancel:!1,changes:e};this.executeAction("onEditCanceling",t),t.cancel||(this._cancelEditDataCore(),this.executeAction("onEditCanceled",{changes:e}))}_cancelEditDataCore(){const e=this._getVisibleEditRowIndex();this._beforeCancelEditData(),this.init(),this.resetChanges(),this._resetEditColumnName(),this._resetEditRowKey(),this._afterCancelEditData(e)}_afterCancelEditData(e){this._dataController.updateItems({repaintChangesOnly:this.option("repaintChangesOnly")})}_hideEditPopup(){}hasEditData(){return this.hasChanges()}update(e){const t=this._dataController;t&&this._pageIndex!==t.pageIndex()&&(e==="refresh"&&this.refresh({isPageChanged:!0}),this._pageIndex=t.pageIndex()),this._updateEditButtons()}_getRowIndicesForCascadeUpdating(e,t){return t?[]:[e.rowIndex]}addDeferred(e){this._deferreds.includes(e)||(this._deferreds.push(e),e.always(()=>{const t=this._deferreds.indexOf(e);t>=0&&this._deferreds.splice(t,1)}))}_prepareChange(e,t,n){var s;const r={},o=(s=e.row)===null||s===void 0?void 0:s.data,a=e.key,l=new de;return a!==void 0&&(e.value=t,ci(e.column.setCellValue(r,t,se(!0,{},o),n)).done(()=>{l.resolve({data:r,key:a,oldData:o,type:Ru})}).fail(Zf(l)).fail(c=>this._fireDataErrorOccurred(c)),G(n)&&e.column.displayValueMap&&(e.column.displayValueMap[t]=n),this._updateRowValues(e),this.addDeferred(l)),l}_updateRowValues(e){if(e.values){const t=this._dataController,n=t.getRowIndexByKey(e.key),s=t.getVisibleRows()[n];s&&(e.row.values=s.values,e.values=s.values),e.values[e.columnIndex]=e.value}}updateFieldValue(e,t,n,s){const r=e.key,o=new de;return r===void 0&&this._dataController.fireError("E1043"),e.column.setCellValue?this._prepareChange(e,t,n).done(a=>{Ae(this._applyChange(e,a,s)).always(()=>{o.resolve()})}):o.resolve(),o.promise()}_focusPreviousEditingCellIfNeed(e){if(this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex))return this._focusEditingCell(),this._updateEditRow(e.row,!0),!0}_needUpdateRow(e){const t=this._columnsController.getVisibleColumns();e||(e=this._getEditColumn());const n=e&&e.setCellValue!==e.defaultSetCellValue,s=t.some(r=>r.calculateCellValue!==r.defaultCalculateCellValue);return n||s}_applyChange(e,t,n){const s=Object.assign({},e,{forceUpdateRow:n});return this._addChange(t,s),this._updateEditButtons(),this._applyChangeCore(e,s.forceUpdateRow)}_applyChangeCore(e,t){const n=e.column.setCellValue!==e.column.defaultSetCellValue,{row:s}=e;s&&(t||n?this._updateEditRow(s,t,n):s.update&&s.update())}_updateEditRowCore(e,t,n){this._dataController.updateItems({changeType:"update",rowIndices:this._getRowIndicesForCascadeUpdating(e,t)})}_updateEditRow(e,t,n){t?this._updateRowImmediately(e,t,n):this._updateRowWithDelay(e,n)}_updateRowImmediately(e,t,n){this._updateEditRowCore(e,!t,n),this._validateEditFormAfterUpdate(e,n),t||this._focusEditingCell()}_updateRowWithDelay(e,t){const n=new de;this.addDeferred(n),setTimeout(()=>{var s;const r=((s=this._editForm)===null||s===void 0?void 0:s.element())||this.component.$element().get(0),o=M(ve.getActiveElement(r)),a=this._rowsView.getCellIndex(o,e.rowIndex);let l=o.get(0);const d=xe.getSelectionRange(l);if(this._updateEditRowCore(e,!1,t),this._validateEditFormAfterUpdate(e,t),a>=0){const c=this._rowsView._getCellElement(e.rowIndex,a);this._delayedInputFocus(c,()=>{setTimeout(()=>{var h;l=ve.getActiveElement((h=this.component.$element())===null||h===void 0?void 0:h.get(0)),d.selectionStart>=0&&xe.setSelectionRange(l,d)})})}n.resolve()})}_validateEditFormAfterUpdate(){}_addChange(e,t){var n;const s=t==null?void 0:t.row,r=[...this.getChanges()];let o=xe.getIndexByKey(e.key,r);o<0&&(o=r.length,this._addInternalData({key:e.key,oldData:e.oldData}),delete e.oldData,r.push(e));const a=Object.assign({},r[o]);return a&&(e.data&&(a.data=ba(a.data,e.data)),(!a.type||!e.data)&&e.type&&(a.type=e.type),s&&(s.oldData=this._getOldData(s.key),s.data=ba(s.data,e.data))),r[o]=a,this._silentOption(lo,r),t&&a!==((n=this.getChanges())===null||n===void 0?void 0:n[o])&&(t.forceUpdateRow=!0),a}_getFormEditItemTemplate(e,t){return t.editCellTemplate||this._getDefaultEditorTemplate()}getColumnTemplate(e){const{column:t}=e,n=e.row&&e.row.rowIndex;let s;const r=this.isRowBasedEditMode(),o=this.isEditRow(n),a=this.isEditCell(n,e.columnIndex);let l;return(t.showEditorAlways||t.setCellValue&&(o&&t.allowEditing||a))&&(e.rowType==="data"||e.rowType==="detailAdaptive")&&!t.command?(((this.allowUpdating(e)||o)&&t.allowEditing||a)&&(o||!r)&&(t.showEditorAlways&&!r&&(l={cancel:!1,key:e.row.isNewRow?void 0:e.row.key,data:e.row.data,column:t},this._isEditingStart(l)),(!l||!l.cancel)&&(e.setValue=(c,h)=>{this.updateFieldValue(e,c,h)})),s=t.editCellTemplate||this._getDefaultEditorTemplate()):t.command==="detail"&&e.rowType==="detail"&&o&&(s=this===null||this===void 0?void 0:this.getEditFormTemplate(e)),s}_createButton(e,t,n,s){let r=Eae[t.name];const o=this.option("editing.useIcons"),a=this.option("useLegacyColumnButtonTemplate");let l=M("<a>").attr("href","#").addClass(fae).addClass(t.cssClass);if(t.template&&a)this._rowsView.renderTemplate(e,t.template,n,!0);else{if(t.template)l=M("<span>").addClass(t.cssClass);else if(o&&r||t.icon){r=t.icon||r;const d=Np(r);d==="image"||d==="svg"?l=Xr(r).addClass(t.cssClass):l.addClass(`dx-icon${d==="dxIcon"?"-":" "}${r}`).attr("title",t.text),l.addClass(mae),e.addClass(q4);const c=this.getButtonLocalizationNames()[t.name];c&&l.attr("aria-label",ue.format(c))}else l.text(t.text);G(t.hint)&&l.attr("title",t.hint),this._isButtonDisabled(t,n)?l.addClass("dx-state-disabled"):(!t.template||t.onClick)&&Y.on(l,be("click",yae),this.createAction(d=>{var c;(c=t.onClick)===null||c===void 0||c.call(t,se({},d,{row:n.row,column:n.column})),d.event.preventDefault(),d.event.stopPropagation()})),e.append(l),t.template&&(n.renderAsync=!1,this._rowsView.renderTemplate(l,t.template,n,!0,s))}}getButtonLocalizationNames(){return{edit:"dxDataGrid-editingEditRow",save:"dxDataGrid-editingSaveRowChanges",delete:"dxDataGrid-editingDeleteRow",undelete:"dxDataGrid-editingUndeleteRow",cancel:"dxDataGrid-editingCancelRowChanges"}}prepareButtonItem(e,t,n,s){const r=this.option("editing.texts")??{},o={revert:r.cancelAllChanges,save:r.saveAllChanges,addRow:r.addRow},a={revert:"cancel",save:"save",addRow:"addrow"}[t],l=o[t],d=(a==="save"||a==="cancel")&&this._isEditButtonDisabled();return{widget:"dxButton",options:{onInitialized:c=>{M(c.element).addClass(e._getToolbarButtonClass(`${_ae} ${this.addWidgetPrefix(a)}-button`))},icon:`edit-button-${a}`,disabled:d,onClick:()=>{setTimeout(()=>{this[n]()})},text:l,hint:l},showText:"inMenu",name:`${t}Button`,location:"after",locateInMenu:"auto",sortIndex:s}}prepareEditButtons(e){const t=this.option("editing")??{},n=[];return t.allowAdding&&n.push(this.prepareButtonItem(e,"addRow","addRow",20)),n}highlightDataCell(e,t){this.shouldHighlightCell(t)&&e.addClass(Y4)}_afterInsertRow(e){}_beforeSaveEditData(e){if(e&&!G(e.key)&&G(e.type))return!0}_afterSaveEditData(){}_beforeCancelEditData(){}_allowEditAction(e,t){let n=this.option(`editing.${e}`);return Ie(n)&&(n=n({component:this.component,row:t.row})),n}allowUpdating(e,t){const n=this.option("editing.startEditAction")??wae;return(arguments.length>1?n===t||t==="down":!0)&&this._allowEditAction("allowUpdating",e)}allowDeleting(e){return this._allowEditAction("allowDeleting",e)}isCellModified(e){var t,n;const{columnIndex:s}=e;let r=e==null||(t=e.row)===null||t===void 0||(t=t.modifiedValues)===null||t===void 0?void 0:t[s];return e!=null&&(n=e.row)!==null&&n!==void 0&&n.isNewRow&&(r=e.value),r!==void 0}isNewRowInEditMode(){const e=this._getVisibleEditRowIndex(),t=this._dataController.items();return e>=0?t[e].isNewRow:!1}_isRowDeleteAllowed(){}_prepareEditCell(e){return!1}shouldHighlightCell(e){return this.isCellModified(e)&&e.column.setCellValue&&(this.getEditMode()!==hh||!e.row.isEditing)}}const uB=i=>class extends i{reload(e,t){return!t&&this._editingController.refresh(),super.reload.apply(this,arguments)}repaintRows(){if(!this._editingController.isSaving())return super.repaintRows.apply(this,arguments)}_updateEditRow(e){const t=this.option(Ts),n=xe.getIndexByKey(t,e),s=e[n];if(s){var r;s.isEditing=!0,(r=this._updateEditItem)===null||r===void 0||r.call(this,s)}}_updateItemsCore(e){super._updateItemsCore(e),this._updateEditRow(this.items(!0))}_applyChangeUpdate(e){this._updateEditRow(e.items),super._applyChangeUpdate(e)}_applyChangesOnly(e){this._updateEditRow(e.items),super._applyChangesOnly(e)}_processItems(e,t){return e=this._editingController.processItems(e,t),super._processItems(e,t)}_processDataItem(e,t){return this._editingController.processDataItem(e,t,this.generateDataValues),super._processDataItem(e,t)}_processItem(e,t){return e=super._processItem(e,t),e.isNewRow&&(t.dataIndex--,delete e.dataIndex),e}_getChangedColumnIndices(e,t,n,s){if(!(e.isNewRow!==t.isNewRow||e.removed!==t.removed))return super._getChangedColumnIndices.apply(this,arguments)}_isCellChanged(e,t,n,s,r){const o=e.cells&&e.cells[s],a=this._editingController&&this._editingController.isEditCell(n,s);return r&&a?!1:o&&o.column&&!o.column.showEditorAlways&&o.isEditing!==a?!0:super._isCellChanged.apply(this,arguments)}needToRefreshOnDataSourceChange(e){return!(Array.isArray(e.value)&&e.value===e.previousValue&&this._editingController.isSaving())}_handleDataSourceChange(e){const t=super._handleDataSourceChange(e),n=this.option("editing.changes"),s=e.value;if(Array.isArray(s)&&n.length){const r=s.map(d=>this.keyOf(d)),o=n.filter(d=>d.type==="insert"||r.some(c=>dn(d.key,c)));o.length!==n.length&&this.option("editing.changes",o);const a=this.option("editing.editRowKey");!o.some(d=>d.type==="insert"&&dn(a,d.key))&&r.every(d=>!dn(a,d))&&this.option("editing.editRowKey",null)}return t}},Kae=i=>class extends i{getCellIndex(e,t){if(!e.is("td")&&t>=0){const n=this.getCellElements(t);let s=-1;return ie(n,(r,o)=>{M(o).find(e).length&&(s=r)}),s}return super.getCellIndex.apply(this,arguments)}publicMethods(){return super.publicMethods().concat(["cellValue"])}_getCellTemplate(e){return this._editingController.getColumnTemplate(e)||super._getCellTemplate(e)}_createRow(e){const t=super._createRow.apply(this,arguments);if(e){const n=!!e.removed,s=!!e.isNewRow,r=!!e.modified;s&&t.addClass(xae),r&&t.addClass(bae),(s||n)&&t.removeClass(gae)}return t}_getColumnIndexByElement(e){let t=e.closest("table");const n=this.getTableElements();for(;t.length&&!n.filter(t).length;)e=t.closest("td"),t=e.closest("table");return this._getColumnIndexByElementCore(e)}_getColumnIndexByElementCore(e){const t=e.closest(`.${da}> td:not(.dx-master-detail-cell)`);return this.getCellIndex(t)}_editCellByClick(e,t){const n=this._editingController,s=M(e.event.target),r=this._getColumnIndexByElement(s),o=this._dataController.items()[e.rowIndex],a=n.allowUpdating({row:o},t)||o&&o.isNewRow,l=this._columnsController.getVisibleColumns()[r],d=n.isEditCell(e.rowIndex,r),c=a&&l&&(l.allowEditing||d),h=this.option("editing.startEditAction")||"click",u=l&&l.showEditorAlways;if(d)return!0;if(t==="down")return(Oe.real().ios||Oe.real().android)&&Sr.resetActiveElement(),u&&c&&n.editCell(e.rowIndex,r);if(t==="click"&&h==="dblClick"&&this._pointerDownTarget===s.get(0)){const f=o==null?void 0:o.isNewRow;n.closeEditCell(!1,f)}if(c&&t===h)return n.editCell(e.rowIndex,r)||n.isEditRow(e.rowIndex)}_rowPointerDown(e){this._pointerDownTarget=e.event.target,this._pointerDownTimeout=setTimeout(()=>{this._editCellByClick(e,"down")})}_rowClickTreeListHack(e){super._rowClick.apply(this,arguments)}_rowClick(e){const t=M(e.rowElement).hasClass(this.addWidgetPrefix(KS));e.event[rB]=this.component,!this._editCellByClick(e,"click")&&!t&&super._rowClick.apply(this,arguments)}_rowDblClickTreeListHack(e){super._rowDblClick.apply(this,arguments)}_rowDblClick(e){this._editCellByClick(e,"dblClick")||super._rowDblClick.apply(this,arguments)}_cellPrepared(e,t){var n;const s=this._editingController,r=!!t.column.command,o=t.setValue,a=s.isEditRow(t.rowIndex),l=lB(a,t);if(X4(a,t)){const{alignment:c}=t.column;e.toggleClass(this.addWidgetPrefix(pae),!o).toggleClass(Cae,!o),c&&e.find(GS).first().css("textAlign",c)}l&&this._editCellPrepared(e);const d=!!((n=t.column)!==null&&n!==void 0&&n.cellTemplate);t.column&&!r&&(!d||s.shouldHighlightCell(t))&&s.highlightDataCell(e,t),super._cellPrepared.apply(this,arguments)}_getCellOptions(e){const t=super._getCellOptions(e),{columnIndex:n,row:s}=e;return t.isEditing=this._editingController.isEditCell(t.rowIndex,t.columnIndex),t.removed=s.removed,s.modified&&(t.modified=s.modifiedValues[n]!==void 0),t}_setCellAriaAttributes(e,t,n){super._setCellAriaAttributes(e,t,n),t.removed&&this.setAria("roledescription",ue.format("dxDataGrid-ariaDeletedCell"),e),t.modified&&this.setAria("roledescription",ue.format("dxDataGrid-ariaModifiedCell"),e),t.column.allowEditing&&!t.removed&&!t.modified&&t.rowType==="data"&&t.column.calculateCellValue===t.column.defaultCalculateCellValue&&this._editingController.isCellBasedEditMode()&&this.setAria("roledescription",ue.format("dxDataGrid-ariaEditableCell"),e)}_createCell(e){const t=super._createCell(e),n=this._editingController.isEditRow(e.rowIndex);return X4(n,e)&&t.addClass(c_),t}cellValue(e,t,n,s){const r=this.getCellOptions(e,t);if(r){if(n===void 0)return r.value;this._editingController.updateFieldValue(r,n,s,!0)}}dispose(){super.dispose.apply(this,arguments),clearTimeout(this._pointerDownTimeout)}_renderCore(){return super._renderCore.apply(this,arguments),this.waitAsyncTemplates(!0).done(()=>{this._editingController._focusEditorIfNeed()})}_editCellPrepared(){}_formItemPrepared(){}},Gae=i=>class extends i{optionChanged(e){const{fullName:t}=e;switch(e.name){case"editing":{t&&![Mm,lo,Dl,Ts].some(r=>r===t)&&this._invalidate(),super.optionChanged(e);break}case"useLegacyColumnButtonTemplate":e.handled=!0;break;default:super.optionChanged(e)}}_getToolbarItems(){const e=super._getToolbarItems();return this._editingController.prepareEditButtons(this).concat(e)}},$x={defaultOptions:()=>({editing:{mode:"row",refreshMode:"full",newRowPosition:oB,allowAdding:!1,allowUpdating:!1,allowDeleting:!1,useIcons:!1,selectTextOnEditStart:!1,confirmDelete:!0,texts:{editRow:ue.format("dxDataGrid-editingEditRow"),saveAllChanges:ue.format("dxDataGrid-editingSaveAllChanges"),saveRowChanges:ue.format("dxDataGrid-editingSaveRowChanges"),cancelAllChanges:ue.format("dxDataGrid-editingCancelAllChanges"),cancelRowChanges:ue.format("dxDataGrid-editingCancelRowChanges"),addRow:ue.format("dxDataGrid-editingAddRow"),deleteRow:ue.format("dxDataGrid-editingDeleteRow"),undeleteRow:ue.format("dxDataGrid-editingUndeleteRow"),confirmDeleteMessage:ue.format("dxDataGrid-editingConfirmDeleteMessage"),confirmDeleteTitle:""},form:{colCount:2},popup:{},startEditAction:"click",editRowKey:null,editColumnName:null,changes:[]},useLegacyColumnButtonTemplate:!1}),controllers:{editing:Uae},extenders:{controllers:{data:uB},views:{rowsView:Kae,headerPanel:Gae}}},qae=i=>class extends uB(i){_changeRowExpandCore(e){const t=this._editingController;return Array.isArray(e)&&t&&t.refresh(),super._changeRowExpandCore.apply(this,arguments)}};Ue.registerModule("editing",Object.assign({},$x,{extenders:Object.assign({},$x.extenders,{controllers:Object.assign({},$x.extenders.controllers,{data:qae})})}));const Yae=i=>class extends i{isRowEditMode(){return this.getEditMode()===hh}_afterCancelEditData(e){const t=this._dataController;this.isRowBasedEditMode()&&e>=0?t.updateItems({changeType:"update",rowIndices:[e,e+1]}):super._afterCancelEditData(e)}_isDefaultButtonVisible(e,t){const n=this.isRowBasedEditMode(),r=!this.isPopupEditMode()&&t.row&&dn(t.row.key,this.option(Ts));if(n)switch(e.name){case"edit":return!r&&this.allowUpdating(t);case"delete":return super._isDefaultButtonVisible(e,t)&&!r;case"save":case"cancel":return r;default:return super._isDefaultButtonVisible(e,t)}return super._isDefaultButtonVisible(e,t)}isEditRow(e){return this.isRowBasedEditMode()&&this.isEditRowByIndex(e)}_cancelSaving(e){this.isRowBasedEditMode()&&(this.hasChanges()||this._cancelEditDataCore()),super._cancelSaving(e)}_refreshCore(e){const{allowCancelEditing:t}=e??{};if(this.isRowBasedEditMode()){const n=this.getChanges().filter(s=>s.type==="update").length>0;this.init(),t&&n&&this._cancelEditDataCore()}super._refreshCore(e)}_isEditColumnVisible(){const e=super._isEditColumnVisible(),t=this.option("editing"),n=this.isRowEditMode(),s=t.allowUpdating||t.allowAdding;return e||n&&s}_focusEditorIfNeed(){const e=this.getEditMode();if(this._needFocusEditor){if(hae.includes(e)){const t=this.getFocusedCellInRow(this._getVisibleEditRowIndex());this._delayedInputFocus(t,()=>{t&&this.component.focus(t)})}this._needFocusEditor=!1}}},Xae=i=>class extends i{_getChangedColumnIndices(e,t,n,s){if(!(this._editingController.isRowBasedEditMode()&&e.isEditing!==t.isEditing))return super._getChangedColumnIndices.apply(this,arguments)}},Zae=i=>class extends i{_createRow(e){const t=super._createRow.apply(this,arguments);return e&&this._editingController.isEditRow(e.rowIndex)&&(t.addClass(TC),t.removeClass(z4),e.rowType==="detail"&&t.addClass(this.addWidgetPrefix(KS))),t}_update(e){super._update(e),e.changeType==="updateSelection"&&this.getTableElements().children("tbody").children(`.${TC}`).removeClass(z4)}},Qae={extenders:{controllers:{editing:Yae,data:Xae},views:{rowsView:Zae}}};Ue.registerModule("editingRowBased",Qae);const Jae="dx-validationsummary-item",ele="dx-validationsummary-item-data";class XS extends Kr{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{focusStateEnabled:!1,noDataText:null})}_setOptionsByReference(){super._setOptionsByReference(),se(this._optionsByReference,{validationGroup:!0})}_init(){super._init(),this._initGroupRegistration()}_initGroupRegistration(){const e=this.$element(),{validationGroup:t}=this.option(),n=t||Gt.findGroup(e,this._modelByElement(e)),s=Gt.addGroup(n,!0);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=n,this.groupSubscription=this._groupValidationHandler.bind(this),s.on("validated",this.groupSubscription)}_unsubscribeGroup(){const e=Gt.getGroupConfig(this._validationGroup);e==null||e.off("validated",this.groupSubscription)}_getOrderedItems(e,t){let n=[];return ie(e,(s,r)=>{const o=Qi(t,a=>{if(a.validator===r)return!0});o.length&&(n=n.concat(o))}),n}_groupValidationHandler(e){const t=this._getOrderedItems(e.validators,Mn(e.brokenRules,n=>({text:n.message,validator:n.validator,index:n.index})));this.validators=e.validators,ie(this.validators,(n,s)=>{if(s._validationSummary!==this){let r=this._itemValidationHandler.bind(this);const o=function(){s.off("validated",r),s._validationSummary=null,r=null};s.on("validated",r),s.on("disposing",o),s._validationSummary=this}}),this.option("items",t)}_itemValidationHandler(e){let{isValid:t,validator:n,brokenRules:s}=e,{items:r}=this.option(),o=!1,a=0;for(;a<r.length;){const l=r[a];if(l.validator===n){const d=Qi(s||[],c=>c.index===l.index)[0];if(t||!d){r.splice(a,1),o=!0;continue}d.message!==l.text&&(l.text=d.message,o=!0)}a++}ie(s,(l,d)=>{Qi(r,h=>h.validator===n&&h.index===d.index)[0]||(r.push({text:d.message,validator:n,index:d.index}),o=!0)}),o&&(r=this._getOrderedItems(this.validators,r),this.option("items",r))}_initMarkup(){this.$element().addClass("dx-validationsummary"),super._initMarkup()}_optionChanged(e){e.name==="validationGroup"?this._initGroupRegistration():super._optionChanged(e)}_itemClass(){return Jae}_itemDataKey(){return ele}_postprocessRenderItem(e){Y.on(e.itemElement,"click",()=>{var t,n;(t=e.itemData.validator)===null||t===void 0||(n=t.focus)===null||n===void 0||n.call(t)})}_dispose(){super._dispose(),this._unsubscribeGroup()}refreshValidationGroup(){this._initGroupRegistration()}}St("dxValidationSummary",XS);class tle extends Dt.inherit({}){ctor(e,t){this.editor=e,this.validator=t,this.validationRequestsCallbacks=[];const n=s=>{this.validationRequestsCallbacks.forEach(r=>r(s))};e.validationRequest.add(n),e.on("disposing",()=>{e.validationRequest.remove(n)})}getValue(){return this.editor.option("value")}getCurrentValidationError(){return this.editor.option("validationError")}bypass(){return this.editor.option("disabled")}applyValidationResults(e){this.editor.option({validationErrors:e.brokenRules,validationStatus:e.status})}reset(){this.editor.clear()}focus(){this.editor.focus()}}class u_ extends Ar{_initOptions(e){super._initOptions.apply(this,arguments),this.option(Gt.initValidationOptions(e))}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{validationRules:[]})}_init(){super._init(),this._initGroupRegistration(),this.focused=Bt(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}}_initGroupRegistration(){const e=this._findGroup();this._groupWasInit||this.on("disposing",t=>{Gt.removeRegisteredValidator(t.component._validationGroup,t.component)}),(!this._groupWasInit||this._validationGroup!==e)&&(Gt.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=e,Gt.registerValidatorInGroup(e,this))}_setOptionsByReference(){super._setOptionsByReference(),se(this._optionsByReference,{validationGroup:!0})}_getEditor(){const e=this.$element()[0];return kn(e,"dx-validation-target")}_initAdapter(){const e=this._getEditor();let{adapter:t}=this.option();if(!t){if(e){var n;t=new tle(e,this),(n=t)===null||n===void 0||(n=n.validationRequestsCallbacks)===null||n===void 0||n.push(r=>{var o;(o=this._validationInfo)!==null&&o!==void 0&&o.skipValidation||this.validate(r)}),this.option("adapter",t);return}throw pt.Error("E0120")}const s=t.validationRequestsCallbacks;s&&s.push(r=>{this.validate(r)})}_toggleRTLDirection(e){var t;const{adapter:n}=this.option(),s=(n==null||(t=n.editor)===null||t===void 0?void 0:t.option("rtlEnabled"))??e;super._toggleRTLDirection(s)}_initMarkup(){this.$element().addClass("dx-validator"),super._initMarkup()}_render(){super._render(),this._toggleAccessibilityAttributes()}_toggleAccessibilityAttributes(){const e=this._getEditor();if(e){const n=(this.option("validationRules")||[]).some(s=>{let{type:r}=s;return r==="required"})||null;e.isInitialized()&&e.setAria("required",n),e.option("_onMarkupRendered",()=>{e.setAria("required",n)})}}_visibilityChanged(e){e&&this._initGroupRegistration()}_optionChanged(e){switch(e.name){case"validationGroup":this._initGroupRegistration();return;case"validationRules":this._resetValidationRules(),this._toggleAccessibilityAttributes(),this.option("isValid")!==void 0&&this.validate();return;case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(Gt.synchronizeValidationOptions(e,this.option()));break;default:super._optionChanged(e)}}_getValidationRules(){return this._validationRules||(this._validationRules=Mn(this.option("validationRules"),(e,t)=>se({},e,{validator:this,index:t}))),this._validationRules}_findGroup(){const e=this.$element(),{validationGroup:t}=this.option();return t||Gt.findGroup(e,this._modelByElement(e))}_resetValidationRules(){delete this._validationRules}validate(e){var t,n,s,r,o;const{adapter:a,name:l}=this.option(),d=a==null||(t=a.bypass)===null||t===void 0?void 0:t.call(a),c=e&&e.value!==void 0?e.value:a==null||(n=a.getValue)===null||n===void 0?void 0:n.call(a),h=a==null||(s=a.getCurrentValidationError)===null||s===void 0?void 0:s.call(a),u=this._getValidationRules(),p=(r=this._validationInfo)===null||r===void 0?void 0:r.result;if(p&&p.status==="pending"&&p.value===c)return se({},p);let f;return d?f={isValid:!0,status:"valid"}:h!=null&&h.editorSpecific?(h.validator=this,f={isValid:!1,status:"invalid",brokenRule:h,brokenRules:[h]}):f=Gt.validate(c,u,l),f.id=new Xt().toString(),this._applyValidationResult(f,a),(o=f.complete)===null||o===void 0||o.then(g=>{g.id===this._validationInfo.result.id&&this._applyValidationResult(g,a)}),se({},this._validationInfo.result)}reset(){const{adapter:e}=this.option(),t={id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:"valid",complete:null};this._validationInfo.skipValidation=!0,e.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult(t,e)}_updateValidationResult(e){if(!this._validationInfo.result||this._validationInfo.result.id!==e.id){const t=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=se({},e,{complete:t})}else for(const t in e)t!=="id"&&t!=="complete"&&(this._validationInfo.result[t]=e[t])}_applyValidationResult(e,t){const n=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(e.validator=this,this._updateValidationResult(e),t.applyValidationResults&&t.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),this._validationInfo.result.status==="pending"){this._validationInfo.deferred||(this._validationInfo.deferred=de(),this._validationInfo.result.complete=this._validationInfo.deferred.promise()),this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);return}this._validationInfo.result.status!=="pending"&&(n(e),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(e),this._validationInfo.deferred=null))}focus(){const{adapter:e}=this.option();e&&e.focus&&e.focus()}_useTemplates(){return!1}}St("dxValidator",u_);class nle extends Ar{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),Gt.addGroup(this,!1)}_initMarkup(){const e=this.$element();e.addClass("dx-validationgroup"),e.find(".dx-validator").each((t,n)=>{u_.getInstance(M(n))._initGroupRegistration()}),e.find(".dx-validationsummary").each((t,n)=>{XS.getInstance(M(n)).refreshValidationGroup()}),super._initMarkup()}validate(){return Gt.validateGroup(this)}reset(){return Gt.resetGroup(this)}_dispose(){Gt.removeGroup(this),this.$element().removeClass("dx-validationgroup"),super._dispose()}_useTemplates(){return!1}}St("dxValidationGroup",nle);function ile(i,e,t){const n=s=>{const r=s?t:e;r==null||r()};Ho(i)?i.then(n).catch(e):n(!!i)}const sle="dx-form",Hx="dx-form-group",rle="dx-form-group-caption",ole="dx-form-group-custom-caption",Z4="dx-col-",hB="dx-field-item",Q4="dx-layout-manager-one-col",pB="dx-field-item-label-content",ale="dx-layout-manager",fB="dx-field-item-label",DC="dx-field-item-content",lle="dx-single-column-item-content",mB="dx-root-simple-item",dle="dx-form-group-content",cle="dx-field-item-has-group",ule="dx-field-item-has-tabs",hle="dx-form-group-with-caption",J4="dx-field-item-tab",ek="dx-group-colcount-",tk="group-col-count",ple="dx-form-validation-summary",fle="dx-form-styling-mode-underlined",mle="dx-form-loadpanel",gle="dx-form-loadpanel-wrapper",AC="simple",_le=["dxTagBox","dxRangeSlider","dxDateRangeBox"],vle=["dxRangeSlider","dxDateRangeBox"],xle=["dxRangeSlider","dxSlider"],ble=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"],yle=["dxSelectBox","dxDropDownBox","dxTagBox","dxLookup","dxAutocomplete","dxColorBox","dxDateBox","dxDateRangeBox"];function Cle(i){return i==null?void 0:i.some(e=>e.type==="required")}function wle(i,e){let{showRequiredMark:t,requiredMark:n,showOptionalMark:s,optionalMark:r}=i;return{showRequiredMark:t&&e,requiredMark:n,showOptionalMark:s&&!e,optionalMark:r}}function Sle(i){let{item:e,id:t,isRequired:n,managerMarkOptions:s,showColonAfterLabel:r,labelLocation:o,labelTemplate:a,formLabelMode:l,onLabelTemplateRendered:d}=i;const c=ble.includes(e.editorType),h=se({showColon:r,location:o,id:t,visible:l==="outside"||c&&l!=="hidden",isRequired:n},e?e.label:{},{markOptions:wle(s,n),labelTemplate:a,onLabelTemplateRendered:d});return["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor","dxDateRangeBox"].includes(e.editorType)&&(h.labelID=`dx-label-${new Xt}`),!h.text&&e.dataField&&(h.text=Mc(e.dataField)),h.text&&(h.textWithoutColon=h.text,h.text+=h.showColon?":":""),h}function Ele(i,e,t){return yle.includes(e)?{onPopupInitialized:s=>{let{component:r,popup:o}=s;const{openOnFieldClick:a}=r.option(),{hideOnOutsideClick:l}=o.option();if(a&&Ie(l)){const d=c=>{const h=M(c.target),u=i.find(`label[for="${t}"]`);return!!!h.closest(u).length&&l(c)};r.option("dropDownOptions",{hideOnOutsideClick:d}),o.option({hideOnOutsideClick:d})}}}:{}}function Ile(i){let{$parent:e,editorType:t,defaultEditorName:n,editorValue:s,canAssignUndefinedValueToEditor:r,externalEditorOptions:o,editorInputId:a,editorValidationBoundary:l,editorStylingMode:d,formLabelMode:c,labelText:h,labelMark:u}=i;const p={};(s!==void 0||r)&&(p.value=s),_le.includes(t)&&(p.value=p.value||[]);let f=o==null?void 0:o.labelMode;G(f)||(f=c==="outside"?"hidden":c);const g=(o==null?void 0:o.stylingMode)||d,m=xle.includes(t),v=Ele(e,t,a),_=se(!0,p,o,v,{inputAttr:{id:a},validationBoundary:l,stylingMode:g,label:m?o==null?void 0:o.label:h,labelMode:f,labelMark:u});if(o&&(_.dataSource&&(_.dataSource=o.dataSource),_.items&&(_.items=o.items)),n){if(vle.includes(t))return t==="dxRangeSlider"&&(_.startName||(_.startName=`${n}Start`),_.endName||(_.endName=`${n}End`)),t==="dxDateRangeBox"&&(_.startDateName||(_.startDateName=`${n}Start`),_.endDateName||(_.endDateName=`${n}End`)),_;_.name||(_.name=n)}return _}function Tle(i){let{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:s,item:r,template:o,labelTemplate:a,name:l,formLabelLocation:d,requiredMessageTemplate:c,validationGroup:h,editorValue:u,canAssignUndefinedValueToEditor:p,editorValidationBoundary:f,editorStylingMode:g,showColonAfterLabel:m,managerLabelLocation:v,itemId:_,managerMarkOptions:x,labelMode:y,onLabelTemplateRendered:T}=i;const O=G(r.isRequired)?r.isRequired:!!Cle(r.validationRules),L=r.itemType===AC,R=r.helpText?`dx-${new Xt}`:null,$=Sle({item:r,id:_,isRequired:O,managerMarkOptions:x,showColonAfterLabel:m,labelLocation:v,formLabelMode:y,labelTemplate:a,onLabelTemplateRendered:T}),V=!!$.visible&&!!($.text||$.labelTemplate&&L),{location:z,labelID:H}=$,I=z!=="top"&&["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(r.editorType??""),A=Ile({$parent:e,editorType:r.editorType,editorValue:u,defaultEditorName:r.dataField,canAssignUndefinedValueToEditor:p,externalEditorOptions:r.editorOptions,editorInputId:_,editorValidationBoundary:f,editorStylingMode:g,formLabelMode:y,labelText:$.textWithoutColon,labelMark:$.markOptions.showRequiredMark?""+$.markOptions.requiredMark:""}),b=$.markOptions.showOptionalMark&&!$.visible&&A.labelMode!=="hidden"&&!G(r.helpText)?$.markOptions.optionalMark:r.helpText;return{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:s,labelOptions:$,labelNeedBaselineAlign:I,labelLocation:z,needRenderLabel:V,item:r,isSimpleItem:L,isRequired:O,template:o,helpID:R,labelID:H,name:l,helpText:b,formLabelLocation:d,requiredMessageTemplate:c,validationGroup:h,editorOptions:A}}function Dle(i){let{showRequiredMark:e,requiredMark:t,showOptionalMark:n,optionalMark:s}=i;return!e&&!n?"":""+(e?t:s)}function Ale(i){const e=Dle(i);if(e==="")return M();const t=i.showRequiredMark?"dx-field-item-required-mark":"dx-field-item-optional-mark";return M("<span>").addClass(t).attr("aria-hidden","true").text(e)}function kle(i){let{text:e,id:t,location:n,alignment:s,labelID:r=null,markOptions:o={},labelTemplate:a,labelTemplateData:l,onLabelTemplateRendered:d}=i;if((!G(e)||e.length<=0)&&!G(a))return null;const c=M("<label>").addClass(`${fB} dx-field-item-label-location-${n}`).attr("for",t).attr("id",r).css("textAlign",s),h=M("<span>").addClass(pB);let u=M("<span>").addClass("dx-field-item-label-text");return u.text(e),a&&(u=M("<div>").addClass("dx-field-item-custom-label-content"),l.text=e,a.render({container:We(u),model:l,onRendered(){d==null||d()}})),c.append(h.append(u).append(Ale(o)))}function Ole(i){let e=0;const t=i.children.length;for(let n=0;n<t;n+=1){const s=i.children[n];e+=s.offsetWidth}return e}function Rle(i,e){const t=`${e} > .${fB}:not(.dx-field-item-label-location-top) > .${pB}`,n=i.find(t),s=n.length;let r=0,o=0;for(let a=0;a<s;a+=1)r=Ole(n[a]),r>o&&(o=r);for(let a=0;a<s;a+=1)n[a].style.width=`${o}px`}const Ple=i=>{switch(i){case"dxDateBox":case"dxCalendar":return"date in ISO format";case"dxDateRangeBox":return"date range in ISO format, use pattern {start}:::{end}";case"dxColorBox":return"color in hex format";case"dxCheckBox":case"dxSwitch":return"boolean value, true or false";case"dxNumberBox":case"dxSlider":return"numeric value";case"dxRangeSlider":return"numeric range, use pattern {start}:::{end}";default:return"text"}},Mle=i=>{switch(i){case"dxDateBox":case"dxCalendar":return"date";case"dxDateRangeBox":return"dateRange";case"dxCheckBox":case"dxSwitch":return"boolean";case"dxNumberBox":case"dxSlider":return"number";case"dxRangeSlider":return"numberRange";case"dxColorBox":return"color";default:return"string"}},Fle=i=>{if(!(i!=null&&i.items))return"";const t=`, accepted values: ${i.items.map(s=>Me(s)?s.text:s).join(", ")}, split values with :::`,n=i!=null&&i.acceptCustomValue?" (custom values are allowed)":"";return`${t}${n}`},Ble=i=>{let{editorType:e,editorOptions:t}=i;const n=Ple(e),s=Fle(t);return`${n}${s}`};class fd{constructor(e){this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){Dt.abstract()}}const kC=(i,e)=>`${e?"tabs":"items"}[${i}]`,gB=(i,e)=>G(i)&&G(e)?`${i}.${e}`:i||e,OC=i=>i?i.replace(/\s/g,""):void 0,Nle=(i,e)=>i?i.dataField===e||i.name===e||OC(i.title)===e||i.itemType==="group"&&OC(i.caption)===e:!1,Wu=(i,e)=>`${i}.${e}`,nk=i=>{const e=i.split(".");return e[e.length-1].replace(/\[\d+]/,"")},_B=i=>i.includes("tabs"),Vle=i=>{const e=i.split("."),t=[...e];for(let n=e.length-1;n>=0;n-=1){if(_B(e[n]))return t.join(".");t.splice(n,1)}return""},vB=(i,e,t)=>{if(!e)return"";const n=i.indexOf(e);if(n>-1)return kC(n,t);for(let s=0;s<i.length;s+=1){const r=i[s],o=r.tabs??r.items;if(o){const a=vB(o,e,!!r.tabs);if(a)return gB(kC(s,t),a)??""}}return""};function Lle(i){let{form:e,$formElement:t,formOptions:n,items:s,validationGroup:r,extendedLayoutManagerOptions:o,onFieldDataChanged:a,onContentReady:l,onDisposing:d,onFieldItemRendered:c}=i;const h={form:e,items:s,$formElement:t,validationGroup:r,onFieldDataChanged:a,onContentReady:l,onDisposing:d,onFieldItemRendered:c,validationBoundary:n.scrollingEnabled?t:void 0,scrollingEnabled:n.scrollingEnabled,showRequiredMark:n.showRequiredMark,showOptionalMark:n.showOptionalMark,requiredMark:n.requiredMark,optionalMark:n.optionalMark,requiredMessage:n.requiredMessage,screenByWidth:n.screenByWidth,layoutData:n.formData,labelLocation:n.labelLocation,customizeItem:n.customizeItem,minColWidth:n.minColWidth,showColonAfterLabel:n.showColonAfterLabel,onEditorEnterKey:n.onEditorEnterKey,labelMode:n.labelMode};return se(h,{isRoot:o.isRoot,colCount:o.colCount,alignItemLabels:o.alignItemLabels,cssItemClass:o.cssItemClass,colCountByScreen:o.colCountByScreen,onLayoutChanged:o.onLayoutChanged,width:o.width})}class $le extends fd{tryExecute(){const{value:e}=this._options,t=this.findInstance();return t?(t.option(e),!0):!1}}class ik extends fd{tryExecute(){const e=this.findInstance();if(e){const{optionName:t,item:n,value:s}=this._options,r=this._itemsRunTimeInfo.findItemIndexByItem(n)??-1;if(r>=0)return e.option(Wu(`items[${r}]`,t),s),!0}return!1}}class Hle extends fd{tryExecute(){return!1}}class jle extends fd{tryExecute(){const e=this.findPreparedItem();return e!=null&&e._prepareGroupItemTemplate&&e._renderGroupContentTemplate?(e._prepareGroupItemTemplate(this._options.item.template),e._renderGroupContentTemplate(),!0):!1}}class zle extends fd{tryExecute(){const e=this.findInstance();if(e){const{value:t}=this._options;return e.option("dataSource",t),!0}return!1}}class Wle extends fd{tryExecute(){const{item:e}=this._options,t=this.findInstance(),n=t&&kn(t.$element()[0],"dxValidator");if(n&&e){const s=a=>a.type==="required",r=(n.option("validationRules")||[]).some(s),o=(e.validationRules??[]).some(s);if(r===o)return n.option("validationRules",e.validationRules),!0}return!1}}class Ule extends fd{tryExecute(){const e=this.findItemContainer();if(e.length){const{previousValue:t="",value:n=""}=this._options;return e.removeClass(t).addClass(n),!0}return!1}}const Kle=(i,e)=>{switch(i){case"editorOptions":case"buttonOptions":return new $le(e);case"validationRules":return new Wle(e);case"cssClass":return new Ule(e);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return e.optionName=i,new ik(e);case"tabs":return new zle(e);case"template":{var t,n;const s=(e==null||(t=e.item)===null||t===void 0?void 0:t.itemType)??((n=e.itemsRunTimeInfo.findPreparedItemByItem(e==null?void 0:e.item))===null||n===void 0?void 0:n.itemType);return s==="simple"?new Hle(e):s==="group"?new jle(e):(e.optionName=i,new ik(e))}default:return null}};class xB{constructor(){this._map={}}_findWidgetInstance(e){let t;return ie(this._map,(n,s)=>{let{widgetInstance:r,item:o}=s;return e(o)?(t=r,!1):!0}),t}_findFieldByCondition(e,t){let n;return ie(this._map,(s,r)=>e(r)?(n=t==="guid"?s:r[t],!1):!0),n}clear(){this._map={}}removeItemsByItems(e){ie(e.getItems(),t=>this.removeItemByKey(t))}removeItemByKey(e){delete this._map[e]}add(e){const t=e.guid??new Xt().toString();return this._map[t]=e,t}addItemsOrExtendFrom(e){e.each((t,n)=>{this._map[t]?(n.widgetInstance&&(this._map[t].widgetInstance=n.widgetInstance),this._map[t].$itemContainer=n.$itemContainer):this.add({item:n.item,widgetInstance:n.widgetInstance,guid:t,$itemContainer:n.$itemContainer})})}extendRunTimeItemInfoByKey(e,t){this._map[e]&&(this._map[e]=se(this._map[e],t))}findWidgetInstanceByItem(e){return this._findWidgetInstance(t=>t===e)}findGroupOrTabLayoutManagerByPath(e){return this._findFieldByCondition(t=>{let{path:n}=t;return n===e},"layoutManager")}findKeyByPath(e){return this._findFieldByCondition(t=>{let{path:n}=t;return n===e},"guid")}findWidgetInstanceByName(e){return this._findWidgetInstance(t=>e===t.name)}findWidgetInstanceByDataField(e){return this._findWidgetInstance(t=>e===(Ke(t)?t:t.dataField))}findItemContainerByItem(e){for(const t in this._map)if(this._map[t].item===e)return this._map[t].$itemContainer??M();return M()}findItemIndexByItem(e){return this._findFieldByCondition(t=>{let{item:n}=t;return n===e},"itemIndex")}findPreparedItemByItem(e){return this._findFieldByCondition(t=>{let{item:n}=t;return n===e},"preparedItem")}getItems(){return this._map}each(e){ie(this._map,(t,n)=>{e(t,n)})}removeItemsByPathStartWith(e){Object.keys(this._map).filter(s=>{if(this._map[s].path){var r;return(r=this._map[s].path)===null||r===void 0?void 0:r.includes(e,0)}return!1}).forEach(s=>this.removeItemByKey(s))}_isEditableItem(e){const{visible:t,editorOptions:n}=e,{readOnly:s,disabled:r,visible:o}=n??{};return t!==!1&&!s&&!r&&o!==!1}_isItemAIEnabled(e){var t;return!((t=e.aiOptions)!==null&&t!==void 0&&t.disabled)}_isDataItem(e){return"dataField"in e}getVisibleItems(){return Object.values(this._map).filter(t=>{let{$itemContainer:n}=t;return(n==null?void 0:n.css("visibility"))==="visible"})}getItemsForDataExtraction(){return this.getVisibleItems().map(t=>{let{item:n}=t;return n}).filter(this._isDataItem).filter(this._isItemAIEnabled).filter(this._isEditableItem)}}function Gle(i){return G(i)?i:"right"}function qle(i){switch(i){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}function Yle(i){let{item:e,$parent:t,rootElementCssClassList:n,validationGroup:s,createComponentCallback:r}=i;const o=M("<div>").appendTo(t).addClass(n.join(" ")).addClass("dx-field-button-item").css("textAlign",Gle(e.horizontalAlignment));t.css("justifyContent",qle(e.verticalAlignment));const a=M("<div>").appendTo(o);return{$rootElement:o,buttonInstance:r(a,se({validationGroup:s},e.buttonOptions))}}function Xle(i){const{$parent:e,rootElementCssClassList:t}=i;return M("<div>").addClass("dx-field-empty-item").html("&nbsp;").addClass(t.join(" ")).appendTo(e)}function sk(i){const e=i.children().first();return e.hasClass("dx-template-wrapper")?e.children().first():e}function rk(i){if(i&&Ns(Yt())){const e=".dx-field-item-content-wrapper",t=n=>{let{element:s,component:r}=n;const{isValid:o,validationMessageMode:a}=r.option();M(s).parents(e).toggleClass("dx-invalid",o===!1&&(r._isFocused()||a==="always"))};i.on("optionChanged",n=>{n.name==="isValid"&&t(n)}),i.on("focusIn",t).on("focusOut",t).on("enterKey",t)}}function Zle(i){var e;return(i==null?void 0:i.data("dx-validation-target"))||(i==null||(e=i.parent)===null||e===void 0||(e=e.call(i))===null||e===void 0?void 0:e.data("dx-validation-target"))}function ok(i,e,t){return{dataField:i.dataField,editorType:i.editorType,editorOptions:e,component:t,name:i.name}}function Qle(i){let{$parent:e,rootElementCssClassList:t,formOrLayoutManager:n,createComponentCallback:s,labelOptions:r,labelNeedBaselineAlign:o,labelLocation:a,needRenderLabel:l,formLabelLocation:d,item:c,editorOptions:h,isSimpleItem:u,isRequired:p,template:f,helpID:g,labelID:m,name:v,helpText:_,requiredMessageTemplate:x,validationGroup:y}=i;const T=M("<div>").addClass(t.join(" ")).appendTo(e);T.addClass(p?"dx-field-item-required":"dx-field-item-optional"),u&&T.addClass("dx-flex-layout"),u&&o&&T.addClass("dx-field-item-label-align");const O=M("<div>");O.data("dx-form-item",c),O.addClass(DC).addClass("dx-field-item-content-location-"+{right:"left",left:"right",top:"bottom"}[d]);let L=null;if(l&&(r.labelTemplate&&(r.labelTemplateData=ok(c,h,n)),L=kle(r)),L){const{editorType:H}=c;T.append(L),(a==="top"||a==="left")&&T.append(O),a==="right"&&T.prepend(O),a==="top"?T.addClass("dx-label-v-align"):T.addClass("dx-label-h-align"),(H==="dxCheckBox"||H==="dxSwitch")&&Y.on(L,Nt,()=>{Y.trigger(O.children(),Nt)});const A=["dxCheckBox","dxSwitch","dxRadioGroup"].includes(H),E=r.alignment;!f&&A&&a==="top"&&(E==="left"||!E)&&O.addClass("dx-toggle-controls-paddings")}else T.append(O);let R;if(f)f.render({container:We(O),model:ok(c,h,n),onRendered(){const H=sk(O),I=Zle(H);rk(I)}});else{const H=M("<div>").appendTo(O);try{R=s(H,c.editorType,h),R.setAria("describedby",g),m&&R.setAria("labelledby",m),R.setAria("required",p)}catch(I){pt.log("E1035",I.message)}}const $=sk(O),V=$==null?void 0:$.data("dx-validation-target");if(V){var z;const H=(z=c.label)===null||z===void 0?void 0:z.text,I=H?null:v,A=H?c.label.text:I&&Mc(I);let E=null;if(u)if(c.validationRules)E=c.validationRules;else{const b=Fs(x,A);E=c.isRequired?[{type:"required",message:b}]:null}Array.isArray(E)&&E.length&&s($,u_,{validationRules:E,validationGroup:y,dataGetter:()=>({formItem:c})}),rk(V)}return _&&u&&O.parent().append(M("<div>").addClass("dx-field-item-content-wrapper").append(O).append(M("<div>").addClass("dx-field-item-help-text").attr("id",g).text(_))),{$fieldEditorContainer:O,$rootElement:T,widgetInstance:R}}const ak="dx-responsivebox-screen-";class bB extends Kr{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{rows:[],cols:[],singleColumnScreen:"",screenByWidth:null,height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onLayoutChanged:null})}_init(){const{screenByWidth:e}=this.option();e||this._options.silent("screenByWidth",R0),super._init(),this._initLayoutChangedAction()}_initLayoutChangedAction(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readOnly"]})}_itemClass(){return"dx-box-item"}_itemDataKey(){return"dxBoxItemData"}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-responsivebox")}_renderItems(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()}_itemOptionChanged(e){const t=this._findItemElementByItem(e);t.length&&(this._refreshItem(t,e),this._clearItemNodeTemplates(),this._update(!0))}_setScreenSize(){const e=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(ak+e),this.option("currentScreenFactor",e)}_removeScreenSizeClass(){const{currentScreenFactor:e}=this.option();e&&this.$element().removeClass(ak+e)}_prepareGrid(){this._grid=[],this._prepareRowsAndCols(),ie(this._rows,()=>{const e=[];this._grid.push(e),ie(this._cols,()=>{e.push(this._createEmptyCell())})})}getSingleColumnRows(){const{rows:e}=this.option(),t=this._screenItems.length;if(e!=null&&e.length){const n=this._filterByScreen(e),s=[];for(let r=0;r<t;r+=1){const o=this._defaultSizeConfig();r<n.length&&G(n[r].shrink)&&(o.shrink=n[r].shrink),s.push(o)}return s}return this._defaultSizeConfig(t)}_prepareRowsAndCols(){if(this._isSingleColumnScreen())this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1);else{const{rows:e,cols:t}=this.option();this._rows=this._sizesByScreen(e),this._cols=this._sizesByScreen(t)}}_isSingleColumnScreen(){const{singleColumnScreen:e,rows:t,cols:n}=this.option();return this._screenRegExp().test(e)||!(t!=null&&t.length)||!(n!=null&&n.length)}_prepareSingleColumnScreenItems(){this._screenItems.sort((e,t)=>e.location.row-t.location.row||e.location.col-t.location.col),ie(this._screenItems,(e,t)=>{Object.assign(t.location,{row:e,col:0,rowspan:1,colspan:1})})}_sizesByScreen(e){return Mn(this._filterByScreen(e),t=>se(this._defaultSizeConfig(),t))}_createDefaultSizeConfig(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}}_defaultSizeConfig(e){const t=this._createDefaultSizeConfig();if(!arguments.length)return t;const n=[];for(let s=0;s<e;s+=1)n.push(t);return n}_filterByScreen(e){const t=this._screenRegExp();return Qi(e,n=>!n.screen||t.test(n.screen))}_screenRegExp(){const e=this._getCurrentScreen();return new RegExp(`(^|\\s)${e}($|\\s)`,"i")}_getCurrentScreen(){const e=this._screenWidth(),{screenByWidth:t}=this.option();return t==null?void 0:t(e)}_screenWidth(){return st()?Xe(bt()):1920}_createEmptyCell(){return{item:{},location:{colspan:1,rowspan:1}}}_spreadItems(){ie(this._screenItems,(e,t)=>{const n=t.location||{},s=n.col,r=n.row,o=this._grid[r],a=o==null?void 0:o[s];this._occupyCells(a,t)})}_itemsByScreen(){const{items:e=[]}=this.option();return e.reduce((t,n)=>{let s=n.location??{};return s=ot(s)?[s]:s,this._filterByScreen(s).forEach(r=>{t.push({item:n,location:Object.assign({rowspan:1,colspan:1},r)})}),t},[])}_occupyCells(e,t){!e||this._isItemCellOccupied(e,t)||(se(e,t),this._markSpanningCell(e))}_isItemCellOccupied(e,t){if(!ki(e.item))return!0;let n=!1;return this._loopOverSpanning(t.location,s=>{n=n||!ki(s.item)}),n}_loopOverSpanning(e,t){const n=e.row+e.rowspan-1,s=e.col+e.colspan-1,r=Math.min(n,this._rows.length-1),o=Math.min(s,this._cols.length-1);e.rowspan-=n-r,e.colspan-=s-o;for(let a=e.row;a<=r;a+=1)for(let l=e.col;l<=o;l+=1)(a!==e.row||l!==e.col)&&t(this._grid[a][l])}_markSpanningCell(e){this._loopOverSpanning(e.location,t=>{t.item=e.item,t.spanningCell=e})}_linkNodeToItem(){ie(this._itemElements(),(e,t)=>{const n=M(t),s=n.data("dxBoxItemData");s.box||(s.node=n.children())})}_layoutItems(){const e=this._grid.length,t=e&&this._grid[0].length;if(!e&&!t)return;const n=this._layoutBlock({direction:"col",row:{start:0,end:e-1},col:{start:0,end:t-1}}),s=this._prepareBoxConfig((n==null?void 0:n.box)??{direction:"row",items:[se(n,{ratio:1})]});se(s,this._rootBoxConfig(s.items)),this._$root=M("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,Ga,s)}_rootBoxConfig(e){const t=ie(e,(s,r)=>{this._needApplyAutoBaseSize(r)&&(r.baseSize="auto")}),{itemHoldTimeout:n}=this.option();return{width:"100%",height:"100%",items:t,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:n,onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")}}_needApplyAutoBaseSize(e){return!e.baseSize&&(!e.minSize||e.minSize==="auto")&&(!e.maxSize||e.maxSize==="auto")}_prepareBoxConfig(e){const{onItemStateChanged:t}=this.option();return se(e||{},{crossAlign:"stretch",onItemStateChanged:t})}_layoutBlock(e){return this._isSingleItem(e)?this._itemByCell(e.row.start,e.col.start):this._layoutDirection(e)}_isSingleItem(e){const{row:t,col:n}=e,s=this._grid[t.start][n.start].location,r=t.end-t.start===s.rowspan-1,o=n.end-n.start===s.colspan-1;return r&&o}_itemByCell(e,t){const n=this._grid[e][t];return n.spanningCell?null:n.item}_layoutDirection(e){const t=[],{direction:n}=e,s=this._crossDirection(n);let r=null;for(;r=this._nextBlock(e);){if(this._isBlockIndivisible(e.prevBlockOptions,r))throw pt.Error("E1025");const o=this._layoutBlock({direction:s,row:r.row,col:r.col,prevBlockOptions:e});o&&(se(o,this._blockSize(r,s)),t.push(o)),e[s].start=r[s].end+1}return{box:this._prepareBoxConfig({direction:n,items:t})}}_isBlockIndivisible(e,t){return!!e&&e.col.start===t.col.start&&e.col.end===t.col.end&&e.row.start===t.row.start&&e.row.end===t.row.end}_crossDirection(e){return e==="col"?"row":"col"}_nextBlock(e){const{direction:t}=e,n=this._crossDirection(t),s=e[t].start,r=e[t].end,o=e[n].start;if(o>e[n].end)return null;let a=1;for(let d=o;d<o+a;d+=1){let c=1;for(let p=s;p<=r;p+=1){const f=this._cellByDirection(t,p,d);c=Math.max(c,f.location[`${n}span`])}const h=d+c,u=o+a;h>u&&(a+=h-u)}const l={};return l[t]={start:s,end:r},l[n]={start:o,end:o+a-1},l}_cellByDirection(e,t,n){return e==="col"?this._grid[n][t]:this._grid[t][n]}_blockSize(e,t){const n=t==="row"?"auto":0,s=t==="row"?this._rows:this._cols,r=Object.assign({},this._createDefaultSizeConfig(),{ratio:0});for(let o=e[t].start;o<=e[t].end;o+=1){const a=s[o];r.ratio+=a.ratio,r.baseSize+=a.baseSize,r.minSize+=a.minSize,r.maxSize+=a.maxSize,G(a.shrink)&&(r.shrink=a.shrink)}return r.minSize||(r.minSize=n),r.maxSize||(r.maxSize="auto"),this._isSingleColumnScreen()&&(r.baseSize="auto"),r}_update(e){var t;const n=this._$root;this._renderItems(),n&&(e?n.remove():(n.detach(),this._saveAssistantRoot(n))),(t=this._layoutChangedAction)===null||t===void 0||t.call(this)}_saveAssistantRoot(e){this._assistantRoots=this._assistantRoots??[],this._assistantRoots.push(e)}_dispose(){this._clearItemNodeTemplates(),this._cleanUnusedRoots(),super._dispose()}_cleanUnusedRoots(){this._assistantRoots&&ie(this._assistantRoots,(e,t)=>{M(t).remove()})}_clearItemNodeTemplates(){const{items:e}=this.option();ie(e,function(){delete this.node})}_attachClickEvent(){}_optionChanged(e){const{name:t}=e;switch(t){case"rows":case"cols":case"screenByWidth":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":super._optionChanged(e),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),super._optionChanged(e);break;case"currentScreenFactor":break;default:super._optionChanged(e)}}_dimensionChanged(){const{currentScreenFactor:e}=this.option();this._getCurrentScreen()!==e&&this._update()}repaint(){this._update()}}St("dxResponsiveBox",bB);const lk=200;class yB extends Oi{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{layoutData:{},readOnly:!1,colCount:1,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:lk,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:ue.format("dxForm-optionalMark"),requiredMessage:ue.getFormatter("dxForm-requiredMessage")})}_setOptionsByReference(){super._setOptionsByReference(),se(this._optionsByReference,{layoutData:!0,validationGroup:!0})}_init(){const{layoutData:e}=this.option();super._init(),this._itemWatchers=[],this._itemsRunTimeInfo=new xB,this._updateReferencedOptions(e),this._initDataAndItems(e)}_dispose(){super._dispose(),this._cleanItemWatchers()}_initDataAndItems(e){this._syncDataWithItems(),this._updateItems(e)}_syncDataWithItems(){const{layoutData:e,items:t}=this.option();G(t)&&t.forEach(n=>{if(n.dataField&&this._getDataByField(n.dataField)===void 0){var s;const r=(s=n.editorOptions)===null||s===void 0?void 0:s.value;(G(r)||n.dataField in e)&&this._updateFieldValue(n.dataField,r)}})}_getDataByField(e){return e?this.option(`layoutData.${e}`):null}_isCheckboxUndefinedStateEnabled(e,t,n){if(e&&t==="dxCheckBox"){const s=["layoutData",...n.split(".")],r=s.pop(),o=this.option(s.join("."));return r?o&&r in o:!1}return!1}_updateFieldValue(e,t){const{layoutData:n}=this.option();let s=t;!bi.isWrapped(n[e])&&G(e)?this.option(`layoutData.${e}`,s):bi.isWritableWrapped(n[e])&&(s=Ie(s)?s():s,n[e](s)),this._triggerOnFieldDataChanged({dataField:e,value:s})}_triggerOnFieldDataChanged(e){this._createActionByOption("onFieldDataChanged")(e)}_updateItems(e){const{items:t}=this.option(),n=G(t),{customizeItem:s}=this.option(),r=n?t:this._generateItemsByData(e);if(G(r)){const o=[];ie(r,(a,l)=>{this._isAcceptableItem(l)&&(l=this._processItem(l),s==null||s(l),Me(l)&&bi.unwrap(l.visible)!==!1&&o.push(l))}),(!this._itemWatchers.length||!n)&&this._updateItemWatchers(r),this._setItems(o),this._sortItems()}}_cleanItemWatchers(){this._itemWatchers.forEach(e=>{e()}),this._itemWatchers=[]}_updateItemWatchers(e){const t=this._getWatch();e.forEach(n=>{Me(n)&&G(n.visible)&&Ie(t)&&this._itemWatchers.push(t(()=>bi.unwrap(n.visible),()=>{const{layoutData:s}=this.option();this._updateItems(s),this.repaint()},{skipImmediate:!0}))})}_generateItemsByData(e){const t=[];return G(e)&&ie(e,n=>{t.push({dataField:n})}),t}_isAcceptableItem(e){const t=Ke(e)?e:e.dataField,n=this._getDataByField(t);return!(Ie(n)&&!bi.isWrapped(n))}_processItem(e){if(typeof e=="string"&&(e={dataField:e}),typeof e=="object"&&!e.itemType&&(e.itemType=AC),!G(e.editorType)&&G(e.dataField)){const t=this._getDataByField(e.dataField);e.editorType=G(t)?this._getEditorTypeByDataType(Ji(t)):"dxTextBox"}return e.editorType==="dxCheckBox"&&(e.allowIndeterminateState=e.allowIndeterminateState??!0),e}_getEditorTypeByDataType(e){switch(e){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}}_sortItems(){Uh(this._items,"visibleIndex"),this._sortIndexes()}_sortIndexes(){var e;(e=this._items)===null||e===void 0||e.sort((t,n)=>{const s=t.visibleIndex,r=n.visibleIndex;return s>r?1:s<r?-1:0})}_initMarkup(){this._itemsRunTimeInfo.clear(),this.$element().addClass(ale),super._initMarkup(),this._renderResponsiveBox()}_renderResponsiveBox(){var e;const t=[];if((e=this._items)!==null&&e!==void 0&&e.length){const n=this._getColCount(),s=M("<div>").appendTo(this.$element());this._prepareItemsWithMerging(n);const r=this._generateLayoutItems();this._responsiveBox=super._createComponent(s,bB,this._getResponsiveBoxConfig(r,n,t)),st()||this._renderTemplates(t)}}_itemStateChangedHandler(e){this._refresh()}_renderTemplates(e){let t=0;e.forEach(n=>{var s;let{item:r}=n;r!=null&&(s=r.label)!==null&&s!==void 0&&s.template&&(t+=1)}),ie(e,(n,s)=>{switch(s.itemType){case"empty":Xle(s);break;case"button":this._renderButtonItem(s);break;default:this._renderFieldItem(s,t)}})}_getResponsiveBoxConfig(e,t,n){const s=this,{colCountByScreen:r,screenByWidth:o}=this.option(),a=r==null?void 0:r.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),onLayoutChanged:()=>{const{onLayoutChanged:l}=this.option(),d=this.isSingleColumnMode();l&&(this.$element().toggleClass(Q4,d),l(d))},onContentReady:l=>{st()&&this._renderTemplates(n);const{onLayoutChanged:d}=this.option();d&&this.$element().toggleClass(Q4,this.isSingleColumnMode(l.component))},itemTemplate(l,d,c){var h;const{location:u}=l;if(!u)return;const p=M(c),f=u.row*t,g=(h=s._items)===null||h===void 0?void 0:h[u.col+f];if(!g)return;const m=[g.cssClass??""];p.toggleClass(lle,s.isSingleColumnMode(this)),u.row===0&&m.push("dx-first-row"),u.col===0&&m.push("dx-first-col");const{isRoot:v}=s.option();g.itemType===AC&&v&&p.addClass(mB);const _=u.col===t-1||u.col+u.colspan===t,x=s._getRowsCount(),y=u.row===x-1;if(_&&m.push("dx-last-col"),y&&m.push("dx-last-row"),g.itemType!=="empty"){m.push(hB);const{cssItemClass:T=""}=s.option();m.push(T),G(g.col)&&m.push(`dx-col-${g.col}`)}n.push({itemType:g.itemType,item:g,$parent:p,rootElementCssClassList:m})},cols:this._generateRatio(t),rows:this._generateRatio(this._getRowsCount(),!0),dataSource:e,screenByWidth:o,singleColumnScreen:a?!1:"xs"}}_getColCount(){let{colCount:e}=this.option();const t=this.option("colCountByScreen");if(t){const{form:n}=this.option();let s=n==null?void 0:n.getTargetScreenFactor();s||(s=st()?c1(this.option("screenByWidth")):"lg"),e=t[s]||e}if(e==="auto"){if(this._cashedColCount)return this._cashedColCount;e=this._getMaxColCount(),this._cashedColCount=e}return e<1?1:e}_getMaxColCount(){if(!st())return 1;const{minColWidth:e=lk}=this.option(),t=Xe(this.$element()),n=this._items.length,s=Math.floor(t/e)||1;return n<s?n:s}isCachedColCountObsolete(){return!!this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount}_prepareItemsWithMerging(e){const t=(this._items??[]).slice(0);let n=[];for(let s=0;s<t.length;s+=1){const r=t[s];n.push(r);const{alignItemLabels:o}=this.option();if((o||r.alignItemLabels||r.colSpan)&&(r.col=this._getColByIndex(n.length-1,e)),r.colSpan>1&&r.col+r.colSpan<=e){const a=[];for(let l=0;l<r.colSpan-1;l+=1)a.push({merged:!0});n=n.concat(a)}else delete r.colSpan}this._setItems(n)}_getColByIndex(e,t){return e%t}_setItems(e){this._items=e,this._cashedColCount=null}_generateLayoutItems(){const e=this._items??[],t=this._getColCount(),n=[];for(let s=0;s<e.length;s+=1){const r=e[s];if(!r.merged){const o={row:parseInt(String(s/t),10),col:this._getColByIndex(s,t)};G(r.colSpan)&&(o.colspan=r.colSpan),G(r.rowSpan)&&(o.rowspan=r.rowSpan);const a={location:o};G(r.disabled)&&(a.disabled=r.disabled),G(r.visible)&&(a.visible=r.visible),n.push(a)}}return n}_handleSmartPasteClick(){const e=this._getFormOrThis();e==null||e.smartPaste()}_handleResetClick(){const e=this._getFormOrThis();e==null||e.reset()}_configureDefaultButton(e){if(!e.name)return;const n={smartPaste:{icon:"clipboardpastesparkle",text:ue.format("dxForm-smartPasteButtonText"),stylingMode:"outlined",type:"normal",onClick:()=>{this._handleSmartPasteClick()}},reset:{text:ue.format("dxForm-resetButtonText"),stylingMode:"outlined",type:"normal",onClick:()=>{this._handleResetClick()}},submit:{text:ue.format("dxForm-submitButtonText"),stylingMode:"contained",type:"default",useSubmitBehavior:!0}}[e.name];n&&(e.buttonOptions=Object.assign({},n,e.buttonOptions??{}))}_renderButtonItem(e){const{item:t,$parent:n,rootElementCssClassList:s}=e,{validationGroup:r}=this.option();this._configureDefaultButton(t);const{$rootElement:o,buttonInstance:a}=Yle({item:t,$parent:n,rootElementCssClassList:s,validationGroup:r,createComponentCallback:(l,d)=>super._createComponent(l,si,d)});this._itemsRunTimeInfo.add({item:t,widgetInstance:a,guid:t.guid,$itemContainer:o})}_renderFieldItem(e,t){var n;const{item:s,$parent:r,rootElementCssClassList:o}=e,a=this._getDataByField(s.dataField);let l=!1;if(a===void 0){const{allowIndeterminateState:L,editorType:R,dataField:$}=s;l=this._isCheckboxUndefinedStateEnabled(L,R,$)}const d=s.dataField||s.name,c=this._getFormOrThis(),{form:h,labelLocation:u,requiredMessage:p,validationGroup:f,validationBoundary:g,showColonAfterLabel:m,labelMode:v}=this.option(),_=Tle({$parent:r,rootElementCssClassList:o,item:s,name:d,editorValue:a,canAssignUndefinedValueToEditor:l,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),formLabelLocation:u,requiredMessageTemplate:p,validationGroup:f,editorValidationBoundary:g,editorStylingMode:h==null?void 0:h.option("stylingMode"),showColonAfterLabel:!!m,managerLabelLocation:u,template:s.template?this._getTemplate(s.template):null,labelTemplate:(n=s.label)!==null&&n!==void 0&&n.template?this._getTemplate(s.label.template):null,itemId:h==null?void 0:h.getItemID(d),managerMarkOptions:this._getMarkOptions(),labelMode:v,onLabelTemplateRendered:()=>{this._incTemplateRenderedCallCount(),this._shouldAlignLabelsOnTemplateRendered(c,t)&&c._alignLabels(this,this.isSingleColumnMode(c))}}),{$fieldEditorContainer:x,widgetInstance:y,$rootElement:T}=Qle(_),{onFieldItemRendered:O}=this.option();O==null||O(),y&&s.dataField&&this._bindDataField(y,s.dataField,x),this._itemsRunTimeInfo.add({item:s,widgetInstance:y,guid:s.guid,$itemContainer:T})}_incTemplateRenderedCallCount(){this._labelTemplateRenderedCallCount=(this._labelTemplateRenderedCallCount??0)+1}_shouldAlignLabelsOnTemplateRendered(e,t){const{templatesRenderAsynchronously:n}=e.option();return!!n&&this._labelTemplateRenderedCallCount===t}_getMarkOptions(){const{showRequiredMark:e,requiredMark:t,showOptionalMark:n,optionalMark:s}=this.option();return{showRequiredMark:e,requiredMark:t,showOptionalMark:n,optionalMark:s}}_getFormOrThis(){const{form:e}=this.option();return e||this}_bindDataField(e,t,n){const s=this._getFormOrThis();e.on("enterKey",r=>{s._createActionByOption("onEditorEnterKey")(se(r,{dataField:t}))}),this._createWatcher(e,n,t),this.linkEditorToDataField(e,t)}_createWatcher(e,t,n){const s=this._getWatch();if(!Ie(s))return;const r=s(()=>this._getDataByField(n),()=>{const o=this._getDataByField(n);if(e.NAME==="dxTagBox"){const a=e.option("value");if(o!==a&&function(l,d){if(!Array.isArray(l)||!Array.isArray(d)||l.length!==d.length)return!1;for(let c=0;c<l.length;c+=1)if(l[c]!==d[c])return!1;return!0}(o,a))return}e.option("value",o)},{deep:!0,skipImmediate:!0},{createWatcherDataField:n});Y.on(t,$s,r)}_getWatch(){if(!G(this._watch)){const{form:e}=this.option();this._watch=e==null?void 0:e.option("integrationOptions.watchMethod")}return this._watch}_createComponent(e,t,n){const{readOnly:s}=this.option();let r=Object.hasOwn(n,"readOnly");const o=super._createComponent(e,t,Object.assign({},n,{readOnly:r?n.readOnly:s}));let a=!1;return o.on("optionChanged",l=>{l.name==="readOnly"&&!a&&(r=!0)}),this.on("optionChanged",l=>{l.name==="readOnly"&&!r&&(a=!0,o.option(l.name,l.value),a=!1)}),o}_generateRatio(e,t){const n=[];for(let s=0;s<e;s+=1){const r={ratio:1};t&&(r.baseSize="auto"),n.push(r)}return n}_getRowsCount(){const e=this._items??[];return Math.ceil(e.length/this._getColCount())}_updateReferencedOptions(e){const t=this.option("layoutData");Me(t)&&Object.getOwnPropertyNames(t).forEach(n=>delete this._optionsByReference[`layoutData.${n}`]),Me(e)&&Object.getOwnPropertyNames(e).forEach(n=>this._optionsByReference[`layoutData.${n}`]=!0)}_clearWidget(e){this._disableEditorValueChangedHandler=!0,e.clear(),this._disableEditorValueChangedHandler=!1,e.option("isValid",!0)}_optionChanged(e){if(e.fullName.search("layoutData.")!==0)switch(e.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"layoutData":{this._updateReferencedOptions(e.value);const{items:t}=this.option();t?ki(e.value)||this._itemsRunTimeInfo.each((n,s)=>{if(G(s.item)){const{dataField:r}=s.item;if(r&&G(s.widgetInstance)){const a=qt(r)(e.value),{allowIndeterminateState:l,editorType:d}=s.item;a!==void 0||this._isCheckboxUndefinedStateEnabled(l,d,r)?s.widgetInstance.option("value",a):this._clearWidget(s.widgetInstance)}}}):(this._initDataAndItems(e.value),this._invalidate());break}case"items":this._cleanItemWatchers(),this._initDataAndItems(e.value),this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":case"colCountByScreen":this._resetColCount();break;case"minColWidth":{const{colCount:t}=this.option();t==="auto"&&this._resetColCount();break}case"readOnly":case"onFieldDataChanged":break;case"width":{super._optionChanged(e);const{colCount:t}=this.option();t==="auto"&&this._resetColCount();break}default:super._optionChanged(e)}}_resetColCount(){this._cashedColCount=null,this._invalidate()}linkEditorToDataField(e,t){this.on("optionChanged",n=>{n.fullName===`layoutData.${t}`&&e._setOptionWithoutOptionChange("value",n.value)}),e.on("valueChanged",n=>{const s=Me(n.value)||Array.isArray(n.value);!this._disableEditorValueChangedHandler&&!(s&&n.value===n.previousValue)&&this._updateFieldValue(t,n.value)})}_dimensionChanged(){const{colCount:e}=this.option();e==="auto"&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")}updateData(e,t){Me(e)?ie(e,(n,s)=>{this._updateFieldValue(n,s)}):typeof e=="string"&&this._updateFieldValue(e,t)}getEditor(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)??this._itemsRunTimeInfo.findWidgetInstanceByName(e)}isSingleColumnMode(e){const t=this._responsiveBox||e;if(t){const{currentScreenFactor:n,singleColumnScreen:s}=t.option();return n===s}return!1}getItemsRunTimeInfo(){return this._itemsRunTimeInfo}}St("dxLayoutManager",yB);class Jle{constructor(e){this._dependencies=e}show(){var e;this._ensureLoadPanel(),(e=this._loadPanel)===null||e===void 0||e.show()}hide(){var e;(e=this._loadPanel)===null||e===void 0||e.hide()}dispose(){this._loadPanel&&(this._loadPanel.dispose(),this._loadPanel.$element().remove(),this._loadPanel=void 0)}get instance(){return this._loadPanel}option(e){var t;return(t=this._loadPanel)===null||t===void 0?void 0:t.option(e)}_ensureLoadPanel(){if(this._loadPanel)return;const e=M("<div>").addClass(mle).appendTo(this._dependencies.$container);this._loadPanel=this._dependencies.onLoadPanelCreate(e,{width:120,height:120,maxHeight:void 0,maxWidth:void 0,position:{of:this._dependencies.$container.get(0)},visible:!1,showIndicator:!0,indicatorOptions:{animationType:Ma.Sparkle,width:120,height:120},showPane:!1,shading:!1,hideOnOutsideClick:!1,hideOnParentScroll:!1,deferRendering:!1,disabled:!1,message:"",wrapperAttr:{class:gle}})}}const Qf={move(i,e){ui(i,{left:e})}},jx={moveTo(i,e,t,n){Ht.animate(i.get(0),{type:"slide",to:{left:e},duration:t,complete:n})},complete(i){Ht.stop(i.get(0),!0)}},dk=i=>+i,ede=i=>tr(i).left;class CB extends AS{_activeStateUnit(){return".dx-multiview-item"}_supportedKeys(){return Object.assign({},super._supportedKeys(),{pageUp:Te,pageDown:Te})}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectByClick:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Oe.real().deviceType==="desktop"&&!Oe.isSimulator(),options:{focusStateEnabled:!0}}])}_itemClass(){return"dx-multiview-item"}_itemDataKey(){return"dxMultiViewItemData"}_itemContainer(){return this._$itemContainer}_itemElements(){return this._itemContainer().children(this._itemSelector())}_itemWidth(){return this._itemWidthValue?this._itemWidthValue:Xe(this._$wrapper)}_clearItemWidthCache(){delete this._itemWidthValue}_itemsCount(){const{items:e=[]}=this.option();return e.length}_isAllItemsHidden(){const{items:e=[]}=this.option();return e.every((t,n)=>!this._isItemVisible(n))}_normalizeIndex(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const s=this._itemsCount();let r=e;if(this._isAllItemsHidden())return;e<0&&(r+=s),e>=s&&(r-=s);const o=t>0?-1:1,a=o===-1?0:s-1;for(;!this._isItemVisible(r)&&(n||r!==a);)r=(r+o+s)%s;return r}_getRTLSignCorrection(){const{rtlEnabled:e}=this.option();return e?-1:1}_init(){super._init();const e=this.$element();e.addClass("dx-multiview"),this._$wrapper=M("<div>").addClass("dx-multiview-wrapper"),this._$wrapper.appendTo(e),this._$itemContainer=M("<div>").addClass("dx-multiview-item-container"),this._$itemContainer.appendTo(this._$wrapper);const{loop:t}=this.option();this.option("loopItemFocus",t),this._findBoundaryIndices(),this._initSwipeable()}_ensureSelectedItemIsVisible(){const{loop:e,selectedIndex:t}=this.option();if(!G(t)||this._isItemVisible(t))return;if(this._isAllItemsHidden()){this.option("selectedIndex",0);return}const n=-1*this._getRTLSignCorrection();let s=this._normalizeIndex(t,n,e);s===t&&(s=this._normalizeIndex(t,-n,e)),this.option("selectedIndex",s)}_initMarkup(){this._deferredItems=[],super._initMarkup(),this._ensureSelectedItemIsVisible();const e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0]),this._setElementAria(),this._setItemsAria()}_afterItemElementDeleted(e,t){super._afterItemElementDeleted(e,t),this._deferredItems&&this._deferredItems.splice(t.itemIndex,1)}_beforeItemElementInserted(e){super._beforeItemElementInserted(e),this._deferredItems&&this._deferredItems.splice(e.index,0,null)}_executeItemRenderAction(e,t,n){const{items:s=[]}=this.option(),r=s.indexOf(t);super._executeItemRenderAction(r,t,n)}_renderItemContent(e){const t=de(),n=de();n.done(()=>{const r=super._renderItemContent(e);t.resolve(r)}),this._deferredItems[e.index]=n;const{deferRendering:s}=this.option();return s||n.resolve(),t.promise()}_render(){super._render(),qn(()=>{const e=this._getSelectedItemIndices();this._updateItems(e[0])})}_getElementAria(){return{role:"group",roledescription:ue.format("dxMultiView-elementAriaRoleDescription"),label:ue.format("dxMultiView-elementAriaLabel")}}_setElementAria(){const e=this._getElementAria();this.setAria(e,this.$element())}_setItemsAria(){const e=this._itemElements(),t=this._itemsCount();e.each((n,s)=>{const r=this._getItemAria({itemIndex:n,itemsCount:t});this.setAria(r,M(s))})}_getItemAria(e){const{itemIndex:t,itemsCount:n}=e;return{role:"group",roledescription:ue.format("dxMultiView-itemAriaRoleDescription"),label:ue.format("dxMultiView-itemAriaLabel",t+1,n)}}_updateItems(e,t){this._updateItemsPosition(e,t),this._updateItemsVisibility(e,t)}_modifyByChanges(e,t){super._modifyByChanges(e,t);const n=this._getSelectedItemIndices();this._updateItemsVisibility(n[0])}_updateItemsPosition(e,t){const n=this._itemElements(),s=G(t)?-this._animationDirection(t,e):void 0,r=n.eq(e);Qf.move(r,0),G(t)&&G(s)&&Qf.move(n.eq(t),100*s+"%")}_isItemVisible(e){var t;const{items:n=[]}=this.option();return(G(e)&&((t=n[e])===null||t===void 0?void 0:t.visible))??!0}_updateItemsVisibility(e,t){this._itemElements().each((s,r)=>{const o=M(r),a=s!==e&&s!==t;a||this._renderSpecificItem(s),o.toggleClass("dx-multiview-item-hidden",a),this.setAria("hidden",a||void 0,o)})}_renderSpecificItem(e){const t=this._itemElements().eq(e),n=t.find(this._itemContentClass()).length>0;if(G(e)&&!n){var s;(s=this._deferredItems[e])===null||s===void 0||s.resolve(),Xs(t)}}_refreshItem(e,t){super._refreshItem(e,t);const{selectedIndex:n=0}=this.option();this._updateItemsVisibility(n)}_setAriaSelectionAttribute(){}_updateSelection(e,t){const n=e[0],s=t[0];jx.complete(this._$itemContainer),this._updateItems(s,n);const r=this._animationDirection(n,s);this._animateItemContainer(r*this._itemWidth(),()=>{Qf.move(this._$itemContainer,0),this._updateItems(n),Xe(this._$itemContainer)})}_animateItemContainer(e,t){const{animationEnabled:n}=this.option(),s=n?200:0;jx.moveTo(this._$itemContainer,e,s,t)}_animationDirection(e,t){const n=ede(this._$itemContainer),s=this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection(),r=(t-e)*s;return Xl(n!==0?n:r)}_getSwipeDisabledState(){const{swipeEnabled:e}=this.option();return!e||this._itemsCount()<=1}_initSwipeable(){this._createComponent(this.$element(),qg,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:e=>{this._swipeStartHandler(e.event)},onUpdated:e=>{this._swipeUpdateHandler(e.event)},onEnd:e=>{this._swipeEndHandler(e.event)}})}_findBoundaryIndices(){const{items:e=[]}=this.option();let t,n;e.forEach((s,r)=>{const o=!!(s!=null&&s.disabled),a=this._isItemVisible(r);!o&&a&&(t??(t=r),n=r)}),this._boundaryIndices={firstAvailableIndex:t??0,lastAvailableIndex:n??e.length-1,firstTrueIndex:0,lastTrueIndex:e.length-1}}_swipeStartHandler(e){jx.complete(this._$itemContainer);const{selectedIndex:t,loop:n,rtlEnabled:s}=this.option();if(!G(t)||!G(this._boundaryIndices))return;const{firstAvailableIndex:r,lastAvailableIndex:o}=this._boundaryIndices,a=s?t>r:t<o,l=s?t<o:t>r;e.maxLeftOffset=dk(!!n||a),e.maxRightOffset=dk(!!n||l)}_swipeUpdateHandler(e){const{offset:t}=e,n=Xl(t)*this._getRTLSignCorrection(),{selectedIndex:s}=this.option();if(!G(s))return;const r=this._normalizeIndex(s-n,n);s!==r&&(Qf.move(this._$itemContainer,t*this._itemWidth()),this._updateItems(s,r))}_findNextAvailableIndex(e,t){if(!G(this._boundaryIndices))return e;const{items:n=[],loop:s}=this.option(),{firstAvailableIndex:r,lastAvailableIndex:o,firstTrueIndex:a,lastTrueIndex:l}=this._boundaryIndices,d=[a,r].includes(e),c=[l,o].includes(e);if(s){if(d&&t<0)return o;if(c&&t>0)return r}for(let h=e+t;h>=r&&h<=o;h+=t){const u=!!n[h].disabled,p=this._isItemVisible(h);if(!u&&p)return h}return e}_postprocessSwipe(e){}_swipeEndHandler(e){const t=e.targetOffset*this._getRTLSignCorrection();if(t){const{selectedIndex:n}=this.option();if(!G(n))return;const s=this._findNextAvailableIndex(n,-t);this.selectItem(s).fail(()=>{this._animateItemContainer(0,Te)}).done(()=>{this._postprocessSwipe({swipedTabsIndex:s})});const r=this.itemElements().filter(".dx-item-selected"),{focusStateEnabled:o}=this.option();o&&this.option("focusedElement",We(r))}else this._animateItemContainer(0,Te)}_getItemFocusLoopSignCorrection(){return this._itemFocusLooped?-1:1}_moveFocus(e,t){super._moveFocus(e,t),this._itemFocusLooped=!1}_prevItem(e){const t=super._prevItem(e);return this._itemFocusLooped=t.is(e.last()),t}_nextItem(e){const t=super._nextItem(e);return this._itemFocusLooped=t.is(e.first()),t}_dimensionChanged(){this._clearItemWidthCache()}_visibilityChanged(e){e&&this._dimensionChanged()}_updateSwipeDisabledState(){const e=this._getSwipeDisabledState();qg.getInstance(this.$element()).option("disabled",e)}_dispose(){delete this._boundaryIndices,super._dispose()}_itemOptionChanged(e,t,n,s){super._itemOptionChanged(e,t,n,s);const{selectedItem:r}=this.option();t==="visible"&&e===r&&this._ensureSelectedItemIsVisible()}_optionChanged(e){const{value:t}=e;switch(e.name){case"loop":this.option("loopItemFocus",t);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this._findBoundaryIndices(),super._optionChanged(e);break;case"selectedIndex":this._isItemVisible(t)?super._optionChanged(e):this._ensureSelectedItemIsVisible();break;default:super._optionChanged(e)}}}St("dxMultiView",CB);function wB(i){return i.scrollWidth-i.clientWidth}function tde(i){return i.scrollHeight-i.clientHeight}function nde(i,e){return Math.round(i)<=e}function ide(i,e,t){return Math.round(wB(i)-e)<=t}function sde(i,e){return Math.round(i)<=e}function rde(i,e,t,n){return Math.round(tde(i)-e-t)<=n}const ck="dx-tabs-expanded";class ode extends Ua{_renderWatchers(){super._renderWatchers(),this._startWatcher("badge",this._renderBadge.bind(this))}_renderBadge(e){if(this._$element.children(".dx-badge").remove(),!e)return;const t=M("<div>").addClass("dx-tabs-item-badge").addClass("dx-badge").text(e);this._$element.append(t)}}const ade="dx-tab-text",lde="dx-tab-text-span",dde="dx-tab-text-span-pseudo",uk={vertical:"dx-tabs-vertical",horizontal:"dx-tabs-horizontal"},hk={top:"dx-tab-indicator-position-top",right:"dx-tab-indicator-position-right",bottom:"dx-tab-indicator-position-bottom",left:"dx-tab-indicator-position-left"},Pu={top:"dx-tabs-icon-position-top",end:"dx-tabs-icon-position-end",bottom:"dx-tabs-icon-position-bottom",start:"dx-tabs-icon-position-start"},pk={primary:"dx-tabs-styling-mode-primary",secondary:"dx-tabs-styling-mode-secondary"},zx={horizontal:"horizontal",vertical:"vertical"},Jf={right:"right",bottom:"bottom",left:"left"},fk={horizontal:"horizontal",vertical:"vertical"},Pd={top:"top",end:"end",bottom:"bottom",start:"start"},mk={primary:"primary",secondary:"secondary"};class ZS extends AS{_activeStateUnit(){return".dx-tab"}_feedbackHideTimeout(){return 100}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",orientation:zx.horizontal,iconPosition:Pd.start,stylingMode:mk.primary,activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:e=>e==null?void 0:e.badge,_itemAttributes:{role:"tab"},_indicatorPosition:null})}_defaultOptionsRules(){const e=Yt();return super._defaultOptionsRules().concat([{device:()=>Oe.real().deviceType!=="desktop",options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:()=>Oe.real().deviceType==="desktop"&&!Oe.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>ts(e),options:{iconPosition:Pd.top,stylingMode:mk.secondary}},{device:()=>xs(e),options:{useInkRipple:!0,selectOnFocus:!1,iconPosition:Pd.top}}])}_init(){const{orientation:e,stylingMode:t,scrollingEnabled:n}=this.option(),s=this._getIndicatorPosition();super._init(),this.setAria("role","tablist"),this.$element().addClass("dx-tabs"),this._toggleScrollingEnabledClass(n),this._toggleOrientationClass(e),this._toggleIndicatorPositionClass(s),this._toggleIconPositionClass(),this._toggleStylingModeClass(t),this._renderWrapper(),this._renderMultiple()}_prepareDefaultItemTemplate(e,t){const n=ot(e)?e==null?void 0:e.text:e;if(G(n)){const s=M("<span>").addClass("dx-tab-text-span");s.text(n);const r=M("<span>").addClass("dx-tab-text-span-pseudo");r.text(n),r.appendTo(s),s.appendTo(t)}G(e.html)&&t.html(e.html)}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({item:new hd((e,t)=>{this._prepareDefaultItemTemplate(t,e);const n=Xr(t.icon);n&&n.prependTo(e);const s=M("<div>").addClass("dx-tab-text");e.wrapInner(s)},["text","html","icon"],this.option("integrationOptions.watchMethod"))})}_itemClass(){return"dx-tab"}_selectedItemClass(){return"dx-tab-selected"}_itemDataKey(){return"dxTabData"}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass("dx-overflow-hidden"),this._attachResizeObserverSubscription()}_postProcessRenderItems(){this._renderScrolling()}_renderScrolling(){const e=["dx-tabs-stretched",ck,"dx-overflow-hidden"];if(this.$element().removeClass(e.join(" ")),this.option("scrollingEnabled")&&this._isItemsSizeExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());const t=this.getScrollable();if(t==null||t.update(),this.option("rtlEnabled")){const s=wB(M(this.getScrollable().container()).get(0));t==null||t.scrollTo({left:s})}this._updateNavButtonsState();const{selectedItem:n}=this.option();this._scrollToItem(n)}this.option("scrollingEnabled")&&this._isItemsSizeExceeded()||(this._cleanScrolling(),this._needStretchItems()&&this.$element().addClass("dx-tabs-stretched"),this.$element().removeClass("dx-tabs-nav-buttons").addClass(ck))}_isVertical(){const{orientation:e}=this.option();return e===zx.vertical}_isItemsSizeExceeded(){return this._isVertical()?this._isItemsHeightExceeded():this._isItemsWidthExceeded()}_isItemsWidthExceeded(){const e=this._getVisibleItems(),t=this._getSummaryItemsSize("width",e,!0),n=Xe(this.$element());return[t,n].includes(0)?!1:t>n-1}_isItemsHeightExceeded(){const e=this._getVisibleItems(),t=this._getSummaryItemsSize("height",e,!0),n=ht(this.$element());return t-1>n}_needStretchItems(){const e=this._getVisibleItems(),t=Xe(this.$element()),n=[];ie(e,(o,a)=>{n.push(kt(a,!0))});const s=Math.max.apply(null,n),r=t/e.length;return s>r+1}_cleanNavButtons(){!this._leftButton||!this._rightButton||(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)}_cleanScrolling(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())}_renderInkRipple(){this._inkRipple=oS()}_getPointerEvent(){return mt.up}_toggleActiveState(e,t,n){if(super._toggleActiveState(e,t,n),!this._inkRipple)return;const s={element:e,event:n};t?this._inkRipple.showWave(s):this._inkRipple.hideWave(s)}_renderMultiple(){const{selectionMode:e}=this.option();e==="multiple"&&this.option("selectOnFocus",!1)}_renderWrapper(){this._$wrapper=M("<div>").addClass("dx-tabs-wrapper"),this.$element().append(this._$wrapper)}_itemContainer(){return this._$wrapper}_getScrollableDirection(){return this._isVertical()?fk.vertical:fk.horizontal}_updateScrollable(){this.getScrollable()&&this._cleanScrolling(),this._renderScrolling()}_renderScrollable(){const e=this.$element().wrapInner(M("<div>").addClass("dx-tabs-scrollable")).children(),{scrollByContent:t}=this.option();this._scrollable=this._createComponent(e,ys,{direction:this._getScrollableDirection(),showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:t,onScroll:()=>{this._updateNavButtonsState()}}),this.$element().append(this._scrollable.$element())}_scrollToItem(e){if(!this._scrollable)return;const t=this._editStrategy.getItemElement(e);this._scrollable.scrollToElement(t)}_itemPointerHandler(e){this._handleItemFocus(e)}_itemPointerUpHandler(e){super._itemPointerHandler(e)}_renderNavButtons(){const{showNavButtons:e,rtlEnabled:t}=this.option();if(this.$element().toggleClass("dx-tabs-nav-buttons",e),!e)return;this._leftButton=this._createNavButton(-30,t?"chevronnext":"chevronprev");const n=this._leftButton.$element();n.addClass("dx-tabs-nav-button-left"),this.$element().prepend(n),this._rightButton=this._createNavButton(30,t?"chevronprev":"chevronnext");const s=this._rightButton.$element();s.addClass("dx-tabs-nav-button-right"),this.$element().append(s)}_updateNavButtonsAriaDisabled(){[this._leftButton,this._rightButton].forEach(t=>{t==null||t.$element().attr({"aria-disabled":null})})}_updateNavButtonsState(){const e=this._isVertical(),t=this.getScrollable();if(e){var n,s;(n=this._leftButton)===null||n===void 0||n.option("disabled",sde(t.scrollTop(),1)),(s=this._rightButton)===null||s===void 0||s.option("disabled",rde(M(t.container()).get(0),t.scrollTop(),0,1))}else{var r,o;(r=this._leftButton)===null||r===void 0||r.option("disabled",nde(t.scrollLeft(),1)),(o=this._rightButton)===null||o===void 0||o.option("disabled",ide(M(t.container()).get(0),t.scrollLeft(),1))}this._updateNavButtonsAriaDisabled()}_updateScrollPosition(e,t){var n,s;(n=this._scrollable)===null||n===void 0||n.update(),(s=this._scrollable)===null||s===void 0||s.scrollBy(e/t)}_createNavButton(e,t){const n=this._createAction(()=>{this._holdInterval=setInterval(()=>{this._updateScrollPosition(e,5)},5)}),s=be(Fo.name,"dxNavButton"),r=be(mt.up,"dxNavButton"),o=be(mt.out,"dxNavButton"),a=this._createComponent(M("<div>").addClass("dx-tabs-nav-button"),si,{focusStateEnabled:!1,icon:t,integrationOptions:{},elementAttr:{role:null,"aria-label":null,"aria-disabled":null},onClick:()=>{this._updateScrollPosition(e,1)}}),l=a.$element();return Y.on(l,s,{timeout:300},d=>{n({event:d})}),Y.on(l,r,()=>{this._clearInterval()}),Y.on(l,o,()=>{this._clearInterval()}),a}_clearInterval(){this._holdInterval&&clearInterval(this._holdInterval)}_updateSelection(e){if(this._scrollable)return this._scrollable.scrollToElement(this.itemElements().eq(e[0]))}_visibilityChanged(e){e&&this._dimensionChanged()}_attachResizeObserverSubscription(){Gr.unobserve(this.$element().get(0)),Gr.observe(this.$element().get(0),()=>{this._dimensionChanged()})}_dimensionChanged(){this._renderScrolling()}_enterKeyHandler(e){const{focusedElement:t}=this.option();super._enterKeyHandler(e),this.option("focusedElement",t)}_itemSelectHandler(e){const{selectionMode:t}=this.option();t==="single"&&this.isItemSelected(e.currentTarget)||super._itemSelectHandler(e)}_clean(){Gr.unobserve(this.$element().get(0)),this._cleanScrolling(),super._clean()}_toggleTabsVerticalClass(e){this.$element().toggleClass(uk.vertical,e)}_toggleTabsHorizontalClass(e){this.$element().toggleClass(uk.horizontal,e)}_getIndicatorPositionClass(e){return hk[e]}_getIndicatorPosition(){const{_indicatorPosition:e,rtlEnabled:t}=this.option();if(e)return e;const n=this._isVertical();return t?n?Jf.left:Jf.bottom:n?Jf.right:Jf.bottom}_toggleIndicatorPositionClass(e){const t=this._getIndicatorPositionClass(e);this._toggleElementClasses(hk,t)}_toggleScrollingEnabledClass(e){this.$element().toggleClass("dx-tabs-scrolling-enabled",!!e)}_toggleOrientationClass(e){const t=e===zx.vertical;this._toggleTabsVerticalClass(t),this._toggleTabsHorizontalClass(!t)}_getTabsIconPositionClass(){const{iconPosition:e}=this.option();switch(e){case Pd.top:return Pu.top;case Pd.end:return Pu.end;case Pd.bottom:return Pu.bottom;default:return Pu.start}}_toggleIconPositionClass(){const e=this._getTabsIconPositionClass();this._toggleElementClasses(Pu,e)}_toggleStylingModeClass(e){const t=pk[e??"primary"];this._toggleElementClasses(pk,t)}_toggleElementClasses(e,t){for(const n in e)this.$element().removeClass(e[n]);this.$element().addClass(t)}_toggleFocusedDisabledNextClass(e,t){this._itemElements().eq(e).toggleClass("dx-focused-disabled-next-tab",t)}_toggleFocusedDisabledPrevClass(e,t){this._itemElements().eq(e).toggleClass("dx-focused-disabled-prev-tab",t)}_toggleFocusedDisabledClasses(e){const{selectedIndex:t}=this.option();this._itemElements().removeClass("dx-focused-disabled-next-tab").removeClass("dx-focused-disabled-prev-tab");const n=t-1,s=t+1,r=M(e).index(),o=this._itemElements().eq(s).hasClass("dx-state-disabled"),a=this._itemElements().eq(n).hasClass("dx-state-disabled"),l=o&&r===s,d=a&&r===n;this._toggleFocusedDisabledNextClass(t,l),this._toggleFocusedDisabledPrevClass(t,d)}_updateFocusedElement(){const{focusStateEnabled:e,selectedIndex:t}=this.option(),n=this._itemElements();if(e&&n.length){const s=n.get(t);this.option({focusedElement:s})}}_optionChanged(e){var t;const{name:n,value:s}=e;switch(n){case"useInkRipple":case"scrollingEnabled":this._toggleScrollingEnabledClass(s),this._invalidate();break;case"showNavButtons":case"badgeExpr":this._invalidate();break;case"scrollByContent":(t=this._scrollable)===null||t===void 0||t.option(n,s);break;case"width":case"height":super._optionChanged(e),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),super._optionChanged(e);break;case"focusedElement":this._toggleFocusedDisabledClasses(M(s)),super._optionChanged(e),this._scrollToItem(s);break;case"rtlEnabled":{super._optionChanged(e);const r=this._getIndicatorPosition();this._toggleIndicatorPositionClass(r);break}case"orientation":{this._toggleOrientationClass(s);const r=this._getIndicatorPosition();this._toggleIndicatorPositionClass(r),st()&&this._updateScrollable();break}case"iconPosition":this._toggleIconPositionClass(),st()&&this._dimensionChanged();break;case"stylingMode":this._toggleStylingModeClass(s),st()&&this._dimensionChanged();break;case"_indicatorPosition":{const r=this._getIndicatorPosition();this._toggleIndicatorPositionClass(r);break}case"selectedIndex":case"selectedItem":case"selectedItems":super._optionChanged(e),this._updateFocusedElement();break;default:super._optionChanged(e)}}_afterItemElementInserted(){super._afterItemElementInserted(),this._planPostRenderActions()}_afterItemElementDeleted(e,t){super._afterItemElementDeleted(e,t),this._renderScrolling()}getScrollable(){return this._scrollable}}ZS.ItemClass=ode;St("dxTabs",ZS);class cde extends Ua{_renderWatchers(){this._startWatcher("badge",Te),super._renderWatchers()}}const Md={top:"dx-tabpanel-tabs-position-top",right:"dx-tabpanel-tabs-position-right",bottom:"dx-tabpanel-tabs-position-bottom",left:"dx-tabpanel-tabs-position-left"},na={top:"top",right:"right",bottom:"bottom",left:"left"},ude={top:"bottom",right:"left",bottom:"top",left:"right"},gk={horizontal:"horizontal",vertical:"vertical"},_k={top:"top",start:"start"},vk={primary:"primary",secondary:"secondary"};class QS extends CB{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{itemTitleTemplate:"title",hoverStateEnabled:!0,selectOnFocus:!1,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,tabsPosition:na.top,iconPosition:_k.start,stylingMode:vk.primary,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:e=>e==null?void 0:e.badge,_tabsIndicatorPosition:null})}_defaultOptionsRules(){const e=Yt();return super._defaultOptionsRules().concat([{device:()=>Oe.real().deviceType==="desktop"&&!Oe.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>!es.touch,options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}},{device:()=>ts(e),options:{stylingMode:vk.secondary}},{device:()=>Ns(e),options:{iconPosition:_k.top}}])}_init(){super._init(),this.$element().addClass("dx-tabpanel"),this._toggleTabPanelTabsPositionClass()}_getElementAria(){return{role:"tabpanel"}}_getItemAria(){return{role:"tabpanel"}}_initMarkup(){super._initMarkup(),this._createTitleActions(),this._renderLayout()}_prepareTabsItemTemplate(e,t){const n=Xr(e==null?void 0:e.icon);n&&t.append(n);const s=ot(e)?e==null?void 0:e.title:e;if(G(s)&&!ot(s)){const r=M("<span>").addClass(lde);r.append(ve.createTextNode(s));const o=M("<span>").addClass(dde);o.append(ve.createTextNode(s)),o.appendTo(r),r.appendTo(t)}}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({title:new hd((e,t)=>{this._prepareTabsItemTemplate(t,e);const n=M("<div>").addClass(ade);e.wrapInner(n)},["title","icon"],this.option("integrationOptions.watchMethod"))})}_createTitleActions(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()}_createTitleClickAction(){this._titleClickAction=this._createActionByOption("onTitleClick")}_createTitleHoldAction(){this._titleHoldAction=this._createActionByOption("onTitleHold")}_createTitleRenderedAction(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")}_renderLayout(){if(this._tabs)return;const e=this.$element();this._$tabContainer=M("<div>").addClass("dx-tabpanel-tabs").appendTo(e);const t=M("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(t,ZS,this._tabConfig()),this._$container=M("<div>").addClass("dx-tabpanel-container").appendTo(e),this._$container.append(this._$wrapper);const{focusStateEnabled:n,selectedIndex:s}=this.option();if(n&&G(s)){const r=this._tabs.itemElements().get(s);r&&this._tabs.option({focusedElement:r})}}_refreshActiveDescendant(){if(!this._tabs)return;const e=this._tabs,t=e.itemElements(),n=M(t[e.option("selectedIndex")]),s=this.getFocusedItemId();this.setAria("controls",void 0,M(t)),this.setAria("controls",s,n)}_getTabsIndicatorPosition(){const{_tabsIndicatorPosition:e,tabsPosition:t}=this.option();return e??ude[t??na.top]}_tabConfig(){const e=this._getTabsIndicatorPosition(),{focusStateEnabled:t,hoverStateEnabled:n,repaintChangesOnly:s,tabIndex:r,selectedIndex:o,badgeExpr:a,itemHoldTimeout:l,items:d,scrollingEnabled:c,scrollByContent:h,showNavButtons:u,loop:p,iconPosition:f,stylingMode:g}=this.option();return{selectOnFocus:!0,focusStateEnabled:t,hoverStateEnabled:n,repaintChangesOnly:s,tabIndex:r,selectedIndex:o,badgeExpr:a,onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:l,onSelectionChanging:m=>{const v=m.addedItems[0],_=this._getIndexByItemData(v),x=this.selectItem(_),y=x.state();if(y!=="pending"){m.cancel=y==="rejected";return}m.cancel=new Promise(T=>{x.done(()=>{T(!1)}).fail(()=>{T(!0)})})},onSelectionChanged:()=>{this._refreshActiveDescendant()},onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:d,noDataText:null,scrollingEnabled:c,scrollByContent:h,showNavButtons:u,itemTemplateProperty:"tabTemplate",loopItemFocus:p,selectionRequired:!0,onOptionChanged:m=>{if(m.name==="focusedElement")if(m.value){const v=M(m.value),_=this._itemElements().eq(v.index());this.option("focusedElement",We(_))}else this.option("focusedElement",m.value)},onFocusIn:m=>{this._focusInHandler(m.event)},onFocusOut:m=>{this._isFocusOutHandlerExecuting||this._focusOutHandler(m.event)},orientation:this._getTabsOrientation(),iconPosition:f,stylingMode:g,_itemAttributes:{class:"dx-tabpanel-tab"},_indicatorPosition:e}}_renderFocusTarget(){this._focusTarget().attr("tabIndex",-1)}_getTabsOrientation(){const{tabsPosition:e}=this.option();return[na.right,na.left].includes(e)?gk.vertical:gk.horizontal}_getTabPanelTabsPositionClass(){const{tabsPosition:e}=this.option();switch(e){case na.right:return Md.right;case na.bottom:return Md.bottom;case na.left:return Md.left;case na.top:default:return Md.top}}_toggleTabPanelTabsPositionClass(){for(const t in Md)this.$element().removeClass(Md[t]);const e=this._getTabPanelTabsPositionClass();this.$element().addClass(e)}_updateTabsOrientation(){const e=this._getTabsOrientation();this._setTabsOption("orientation",e)}_toggleWrapperFocusedClass(e){this._toggleFocusClass(e,this._$wrapper)}_toggleDisabledFocusedClass(e){this._focusTarget().toggleClass("dx-disabled-focused-tab",e)}_updateFocusState(e,t){super._updateFocusState(e,t);const n=e.target===this._tabs._focusTarget().get(0),s=e.target===this._focusTarget().get(0);if(n&&this._toggleFocusClass(t,this._focusTarget()),n||s){const r=this._isDisabled(this.option("focusedElement"));this._toggleWrapperFocusedClass(t&&!r),this._toggleDisabledFocusedClass(t&&r)}s&&(this._toggleFocusClass(t,this._tabs.$element()),this._toggleFocusClass(t,this._tabs.option("focusedElement")))}_focusOutHandler(e){this._isFocusOutHandlerExecuting=!0,super._focusOutHandler(e),this._tabs._focusOutHandler(e),this._isFocusOutHandlerExecuting=!1}_setTabsOption(e,t){this._tabs&&this._tabs.option(e,t)}_postprocessSwipe(e){this._setTabsOption("selectedIndex",e.swipedTabsIndex)}_visibilityChanged(e){e&&this._tabs._dimensionChanged()}registerKeyHandler(e,t){super.registerKeyHandler(e,t),this._tabs&&this._tabs.registerKeyHandler(e,t)}repaint(){super.repaint(),this._tabs.repaint()}_updateTabsIndicatorPosition(){const e=this._getTabsIndicatorPosition();this._setTabsOption("_indicatorPosition",e)}_optionChanged(e){const{name:t,value:n,fullName:s}=e;switch(t){case"dataSource":default:super._optionChanged(e);break;case"items":this._setTabsOption(t,this.option(t)),this.option("repaintChangesOnly")||this._tabs.repaint(),super._optionChanged(e);break;case"width":super._optionChanged(e),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":{this._setTabsOption(s,n),super._optionChanged(e);const{focusStateEnabled:r}=this.option();if(r===!0){const o=this.option("selectedIndex"),a=this._itemElements().eq(o);this.option("focusedElement",We(a))}break}case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(s,n),super._optionChanged(e);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(s,n);break;case"focusedElement":{const r=n&&M(n).index(),o=n&&this._tabs?this._tabs._itemElements().eq(r):n;if(this._setTabsOption("focusedElement",We(o)),n){const a=this._isDisabled(n);this._toggleWrapperFocusedClass(!a),this._toggleDisabledFocusedClass(a)}super._optionChanged(e);break}case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",n),super._optionChanged(e);break;case"badgeExpr":this._invalidate();break;case"tabsPosition":this._toggleTabPanelTabsPositionClass(),this._updateTabsIndicatorPosition(),this._updateTabsOrientation();break;case"iconPosition":this._setTabsOption("iconPosition",n);break;case"stylingMode":this._setTabsOption("stylingMode",n);break;case"_tabsIndicatorPosition":this._setTabsOption("_indicatorPosition",n)}}}QS.ItemClass=cde;St("dxTabPanel",QS);const hde=["items","isRequired","validationRules","visible"];class JS extends Oi{constructor(){super(...arguments),this._currentAICommand=void 0}_init(){super._init(),this._dirtyFields=new Set,this._cachedColCountOptions=[],this._itemsRunTimeInfo=new xB,this._groupsColCount=[],this._attachSyncSubscriptions(),this._createSmartPastingAction(),this._createSmartPastedAction()}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{formID:`dx-${new Xt}`,formData:{},colCount:1,screenByWidth:R0,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:ue.format("dxForm-optionalMark"),requiredMessage:ue.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,scrollingEnabled:!1,stylingMode:Ot().editorStylingMode,labelMode:"outside",isDirty:!1,onSmartPasting:null,onSmartPasted:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Ns(Yt()),options:{labelLocation:"top"}},{device:()=>xs(Yt()),options:{showColonAfterLabel:!1}}])}_setOptionsByReference(){super._setOptionsByReference(),se(this._optionsByReference,{formData:!0,validationGroup:!0})}_getGroupColCount(e){return parseInt(e.attr(tk)??"1",10)}_applyLabelsWidthByCol(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=n!=null&&n.inOneColumn?hB:Z4+t,r=n!=null&&n.excludeTabbed?`:not(.${J4})`:"";Rle(e,`.${s}${r}`)}_applyLabelsWidth(e,t,n,s){const r={excludeTabbed:t,inOneColumn:n},o=n?1:s??this._getGroupColCount(e);for(let a=0;a<o;a+=1)this._applyLabelsWidthByCol(e,a,r)}_getGroupElementsInColumn(e,t,n){const s=G(n)?`.${ek}${n}`:"",r=`.${Z4}${t} > .${DC} > .${Hx}${s}`;return e.find(r)}_applyLabelsWidthWithGroups(e,t,n){const{alignRootItemLabels:s}=this.option();if(s===!0){const o=e.find(`.${mB}`);for(let a=0;a<t;a+=1)this._applyLabelsWidthByCol(o,a)}if(this.option("alignItemLabelsInAllGroups"))this._applyLabelsWidthWithNestedGroups(e,t,n);else{const o=this.$element().find(`.${Hx}`);for(let a=0;a<o.length;a+=1)this._applyLabelsWidth(o.eq(a),n,!1,void 0)}}_applyLabelsWidthWithNestedGroups(e,t,n){const s={excludeTabbed:n};for(let r=0;r<t;r+=1){const o=this._getGroupElementsInColumn(e,r);this._applyLabelsWidthByCol(o,0,s);for(let a=0;a<this._groupsColCount.length;a+=1){const l=this._getGroupElementsInColumn(e,r,this._groupsColCount[a]),d=this._getGroupColCount(l);for(let c=1;c<d;c+=1)this._applyLabelsWidthByCol(l,c,s)}}}_labelLocation(){const{labelLocation:e}=this.option();return e}_alignLabelsInColumn(e){const{layoutManager:t,inOneColumn:n,$container:s,excludeTabbed:r,items:o}=e;!st()||this._labelLocation()==="top"||(n?this._applyLabelsWidth(s,r,!0,void 0):this._checkGrouping(o)?this._applyLabelsWidthWithGroups(s,t._getColCount(),r):this._applyLabelsWidth(s,r,!1,t._getColCount()))}_prepareFormData(){G(this.option("formData"))||this.option("formData",{})}_setStylingModeClass(){const{stylingMode:e}=this.option();e==="underlined"&&this.$element().addClass(fle)}_initMarkup(){Gt.addGroup(this._getValidationGroup(),!1),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass(sle),this._setStylingModeClass(),super._initMarkup(),this.setAria("role","form",this.$element());const{scrollingEnabled:e}=this.option();e&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor(),this._attachResizeObserverSubscription()}_attachResizeObserverSubscription(){if(st()){const e=this.$element().get(0);Gr.unobserve(e),Gr.observe(e,()=>{this._resizeHandler()})}}_resizeHandler(){this._cachedLayoutManagers.length&&ie(this._cachedLayoutManagers,(e,t)=>{const{onLayoutChanged:n}=t.option();n==null||n(t.isSingleColumnMode())})}_getCurrentScreenFactor(){const{screenByWidth:e}=this.option();return st()?c1(e):"lg"}_clearCachedInstances(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]}_alignLabels(e,t){const{items:n}=this.option();this._alignLabelsInColumn({$container:this.$element(),layoutManager:e,excludeTabbed:!0,items:n,inOneColumn:t}),Xs(this.$element().find(`.${$g}`))}_clean(){this._clearValidationSummary(),super._clean(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0,Gr.unobserve(this.$element().get(0))}_renderScrollable(){const e=this.option("useNativeScrolling");this._scrollable=new ys(this.$element(),{useNative:!!e,useSimulatedScrollbar:!e,useKeyboard:!1,direction:"both",bounceEnabled:!1})}_getContent(){var e;const{scrollingEnabled:t}=this.option();return t?M((e=this._scrollable)===null||e===void 0?void 0:e.content()):this.$element()}_clearValidationSummary(){var e;(e=this._$validationSummary)===null||e===void 0||e.remove(),this._$validationSummary=void 0,this._validationSummary=void 0}_renderValidationSummary(){this._clearValidationSummary();const{showValidationSummary:e}=this.option();e&&(this._$validationSummary=M("<div>").addClass(ple).appendTo(this._getContent()),this._validationSummary=super._createComponent(this._$validationSummary,XS,{validationGroup:this._getValidationGroup()}))}_prepareItems(e,t,n,s){if(e){const r=[];for(let o=0;o<e.length;o+=1){let a=e[o];const l=gB(n,kC(o,s)),d={item:a,itemIndex:o,path:l},c=this._itemsRunTimeInfo.add(d);if(Ke(a)&&(a={dataField:a}),Me(a)){const h=Object.assign({},a);d.preparedItem=h,h.guid=c,this._tryPrepareGroupItemCaption(h),this._tryPrepareGroupItem(h),this._tryPrepareTabbedItem(h,l),this._tryPrepareItemTemplate(h),t&&(h.cssItemClass=J4),h.items&&(h.items=this._prepareItems(h.items,t,l)),r.push(h)}else r.push(a)}return r}return e}_isGroupItem(e){return e.itemType==="group"}_tryPrepareGroupItemCaption(e){this._isGroupItem(e)&&(e._prepareGroupCaptionTemplate=t=>{e.captionTemplate&&(e.groupCaptionTemplate=this._getTemplate(t)),e.captionTemplate=this._itemGroupTemplate.bind(this,e)},e._prepareGroupCaptionTemplate(e.captionTemplate))}_tryPrepareGroupItem(e){this._isGroupItem(e)&&(e.alignItemLabels=wn(e.alignItemLabels,!0),e._prepareGroupItemTemplate=t=>{e.template&&(e.groupContentTemplate=this._getTemplate(t)),e.template=this._itemGroupTemplate.bind(this,e)},e._prepareGroupItemTemplate(e.template))}_isTabbedItem(e){return e.itemType==="tabbed"}_tryPrepareTabbedItem(e,t){this._isTabbedItem(e)&&(e.template=this._itemTabbedTemplate.bind(this,e),e.tabs=this._prepareItems(e.tabs,!0,t,!0))}_tryPrepareItemTemplate(e){e.template&&(e.template=this._getTemplate(e.template))}_checkGrouping(e){if(e){for(let t=0;t<e.length;t+=1)if(e[t].itemType==="group")return!0}return!1}_renderLayout(){const{items:e}=this.option(),t=this._getContent(),n=this._prepareItems(e),{colCount:s,alignItemLabels:r,screenByWidth:o,colCountByScreen:a}=this.option();this._rootLayoutManager=this._renderLayoutManager(t,this._createLayoutManagerOptions(n,{isRoot:!0,colCount:s,alignItemLabels:r,screenByWidth:o,colCountByScreen:a,onLayoutChanged:l=>{this._alignLabels.bind(this)(this._rootLayoutManager,l)},onContentReady:l=>{this._alignLabels(l.component,l.component.isSingleColumnMode())}}))}_tryGetItemsForTemplate(e){return e.items??[]}_itemTabbedTemplate(e,t,n){const s=M("<div>").appendTo(n),r=Object.assign({},e.tabPanelOptions,{dataSource:e.tabs,onItemRendered:l=>{var d,c;(d=e.tabPanelOptions)===null||d===void 0||(c=d.onItemRendered)===null||c===void 0||c.call(d,l),Y1(l.itemElement)},itemTemplate:(l,d,c)=>{const{screenByWidth:h}=this.option(),u=M(c),p=wn(l.alignItemLabels,!0),f=this._renderLayoutManager(u,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(l),{colCount:l.colCount,alignItemLabels:p,screenByWidth:h,colCountByScreen:l.colCountByScreen,cssItemClass:l.cssItemClass,onLayoutChanged:g=>{this._alignLabelsInColumn({$container:M(c),layoutManager:f,items:l.items,inOneColumn:g,excludeTabbed:!1})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(l.guid??"",{layoutManager:f}),p&&this._alignLabelsInColumn({$container:u,layoutManager:f,items:l.items,inOneColumn:f.isSingleColumnMode(),excludeTabbed:!1})}}),o=(l,d)=>{Array.isArray(l)&&l.forEach(c=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(c.guid??"",{widgetInstance:d}))},a=this._createComponent(s,QS,r);M(n).parent().addClass(ule),a.on("optionChanged",l=>{const{fullName:d,value:c,component:h}=l;d==="dataSource"&&o(c,h)}),o([{guid:e.guid},...e.tabs??[]],a)}_itemGroupCaptionTemplate(e,t,n){if(e.groupCaptionTemplate){const s=M("<div>").addClass(ole).attr("id",n).appendTo(t);e._renderGroupCaptionTemplate=()=>{var r;const o={component:this,caption:e.caption,name:e.name};(r=e.groupCaptionTemplate)===null||r===void 0||r.render({model:o,container:We(s)})},e._renderGroupCaptionTemplate();return}e.caption&&M("<span>").addClass(rle).text(e.caption).attr("id",n).appendTo(t)}_itemGroupContentTemplate(e,t){const n=M("<div>").addClass(dle).appendTo(t);if(e.groupContentTemplate)e._renderGroupContentTemplate=()=>{var r;n.empty();const o={formData:this.option("formData"),component:this};(r=e.groupContentTemplate)===null||r===void 0||r.render({model:o,container:We(n)})},e._renderGroupContentTemplate();else{var s;const r=this._renderLayoutManager(n,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(e),{colCount:e.colCount,colCountByScreen:e.colCountByScreen,alignItemLabels:e.alignItemLabels,cssItemClass:e.cssItemClass}));(s=this._itemsRunTimeInfo)===null||s===void 0||s.extendRunTimeItemInfoByKey(e.guid??"",{layoutManager:r});const o=r._getColCount();this._groupsColCount.includes(o)||this._groupsColCount.push(o),t.addClass(ek+o),t.attr(tk,o)}}_itemGroupTemplate(e,t,n){var s;const{id:r}=t.editorOptions.inputAttr,o=M("<div>").toggleClass(hle,!!((s=e.caption)!==null&&s!==void 0&&s.length)).addClass(Hx).appendTo(n),a={role:"group",labelledby:r};this.setAria(a,o),M(n).parent().addClass(cle),this._itemGroupCaptionTemplate(e,o,r),this._itemGroupContentTemplate(e,o)}_createLayoutManagerOptions(e,t){return Lle({form:this,formOptions:this.option(),$formElement:this.$element(),items:e,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:t,onFieldDataChanged:n=>{this._isDataUpdating||this._triggerOnFieldDataChanged(n)},onContentReady:n=>{var s;this._itemsRunTimeInfo.addItemsOrExtendFrom(n.component._itemsRunTimeInfo),(s=t.onContentReady)===null||s===void 0||s.call(t,n)},onDisposing:n=>{const{component:s}=n,r=s.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(r)},onFieldItemRendered:()=>{var n;(n=this._validationSummary)===null||n===void 0||n.refreshValidationGroup()}})}_renderLayoutManager(e,t){const n={lg:t.colCount,md:t.colCount,sm:t.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:se(n,t.colCountByScreen)});const s=M("<div>");s.appendTo(e);const r=this._createComponent(s,yB,t);return r.on("autoColCountChanged",()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout(()=>!this._disposed&&this._refresh(),0)}),this._cachedLayoutManagers.push(r),r}_getValidationGroup(){const{validationGroup:e}=this.option();return e??this}_createComponent(e,t,n){const{readOnly:s}=this.option();return this._extendConfig(n??{},{readOnly:s}),super._createComponent(e,t,n)}_attachSyncSubscriptions(){this.on("optionChanged",e=>{const{fullName:t,name:n}=e;t==="formData"&&(G(e.value)||this._options.silent("formData",e.value={}),this._triggerOnFieldDataChangedByDataSet(e.value)),this._cachedLayoutManagers.length&&ie(this._cachedLayoutManagers,(s,r)=>{t==="formData"&&(this._isDataUpdating=!0,r.option("layoutData",e.value),this._isDataUpdating=!1),(n==="readOnly"||n==="disabled")&&r.option(t,e.value)})})}_createSmartPastingAction(){this._smartPastingAction=this._createActionByOption("onSmartPasting",{excludeValidators:["disabled"]})}_createSmartPastedAction(){this._smartPastedAction=this._createActionByOption("onSmartPasted",{excludeValidators:["disabled"]})}_optionChanged(e){const{fullName:t}=e,n=t.split(".");n.length>1&&n[0].search("items")!==-1&&this._itemsOptionChangedHandler(e)||n.length>1&&n[0].search("formData")!==-1&&this._formDataOptionChangedHandler(e)||this._defaultOptionChangedHandler(e)}_defaultOptionChangedHandler(e){switch(e.name){case"formData":this.option("items")?ki(e.value)&&this._clear():this._invalidate();break;case"onFieldDataChanged":case"alignRootItemLabels":case"readOnly":case"isDirty":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":{const{colCount:t}=this.option();t==="auto"&&this._invalidate();break}case"width":super._optionChanged(e),this._rootLayoutManager.option(e.name,e.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"validationGroup":Gt.removeGroup(e.previousValue||this),this._invalidate();break;case"aiIntegration":this._processAIIntegrationUpdate();break;case"onSmartPasting":this._createSmartPastingAction();break;case"onSmartPasted":this._createSmartPastedAction();break;default:super._optionChanged(e)}}_itemsOptionChangedHandler(e){const{value:t,fullName:n}=e,s=n.split("."),r=this._getItemPath(s),o=this.option(r),a=n.replace(`${r}.`,""),l=a.split(".")[0].replace(/\[\d+]/,""),d=this._tryCreateItemOptionAction(l,o,o[l],e.previousValue,r);let c=this._tryExecuteItemOptionAction(d)??this._tryChangeLayoutManagerItemOption(n,t);if(!c&&o){this._changeItemOption(o,a,t);const{items:h}=this.option(),u=this._generateItemsFromData(h);this.option("items",u),c=!0}return c}_formDataOptionChangedHandler(e){const t=e.fullName.split("."),{value:n}=e,s=t.slice(1).join("."),r=this.getEditor(s);return r?r.option("value",n):this._triggerOnFieldDataChanged({dataField:s,value:n}),!0}_tryCreateItemOptionAction(e,t,n,s,r){let o=n;return e==="tabs"&&(this._itemsRunTimeInfo.removeItemsByPathStartWith(`${r}.tabs`),o=this._prepareItems(o,!0,r,!0)),Kle(e,{item:t,value:o,previousValue:s,itemsRunTimeInfo:this._itemsRunTimeInfo})}_tryExecuteItemOptionAction(e){return e==null?void 0:e.tryExecute()}_updateValidationGroupAndSummaryIfNeeded(e){const t=nk(e);if(hde.includes(t)&&(Gt.addGroup(this._getValidationGroup(),!1),this.option("showValidationSummary"))){var n;(n=this._validationSummary)===null||n===void 0||n.refreshValidationGroup()}}_setLayoutManagerItemOption(e,t,n,s){if(this._updateLockCount>0){e._updateLockCount||e.beginUpdate();const o=this._itemsRunTimeInfo.findKeyByPath(s);this.postponedOperations.add(o,()=>(e._disposed||e.endUpdate(),de().resolve()))}const r=o=>{if(o.component.off("contentReady",r),_B(s)){const a=Vle(s),l=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(a);if(l){const{items:d}=l.option();this._alignLabelsInColumn({items:d,layoutManager:l,$container:l.$element(),inOneColumn:l.isSingleColumnMode(),excludeTabbed:!1})}}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};e.on("contentReady",r),e.option(t,n),this._updateValidationGroupAndSummaryIfNeeded(t)}_tryChangeLayoutManagerItemOption(e,t){const n=e.split("."),s=nk(e);if(s==="items"&&n.length>1){const r=this._getItemPath(n),o=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(r);if(o){this._itemsRunTimeInfo.removeItemsByItems(o.getItemsRunTimeInfo());const a=this._prepareItems(t,!1,r);return this._setLayoutManagerItemOption(o,s,a,r),!0}}else if(n.length>2){const r=n.length-2,o=this._getItemPath(n.slice(0,r)),a=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(o);if(a){const l=Wu(n[r],s);if(s==="editorType"&&a.option(l)!==t)return!1;if(s==="visible"){const d=this.option(Wu(o,"items"));if(d!=null&&d.length){const{items:c}=a.option();d.forEach((h,u)=>{const p=c[u];p.visibleIndex=h.visibleIndex})}}return this._setLayoutManagerItemOption(a,l,t,o),!0}}return!1}_tryChangeLayoutManagerItemOptions(e,t){let n=!1;return this.beginUpdate(),ie(t,(s,r)=>(n=this._tryChangeLayoutManagerItemOption(Wu(e,s),r),!!n)),this.endUpdate(),n}_getItemPath(e){let t=e[0];for(let n=1;n<e.length&&e[n].search(/items\[\d+]|tabs\[\d+]/)!==-1;n+=1)t+=`.${e[n]}`;return t}_triggerOnFieldDataChanged(e){this._updateIsDirty(e.dataField??""),this._createActionByOption("onFieldDataChanged")(e)}_triggerOnFieldDataChangedByDataSet(e){e&&Me(e)&&Object.keys(e).forEach(t=>{this._triggerOnFieldDataChanged({dataField:t,value:e[t]})})}_updateFieldValue(e,t){const{formData:n}=this.option();if(G(n)){const s=this.getEditor(e);this.option(`formData.${e}`,t),s&&s.option("value")!==t&&s.option("value",t)}}_generateItemsFromData(e){const{formData:t}=this.option(),n=[];return!e&&G(t)&&ie(t,s=>{n.push({dataField:s})}),e&&ie(e,(s,r)=>{Me(r)?n.push(r):n.push({dataField:r})}),n}_getItemByField(e,t){const n=Me(e)?e:this._getFieldParts(e),{fieldName:s}=n,{fieldPath:r}=n;let o=null;return t.length&&ie(t,(a,l)=>{const{itemType:d}=l;if(r.length){const c=r.slice();l=this._getItemByFieldPath(c,s,l)}else if(this._isGroupItem(l)&&!(l.caption||l.name)||d==="tabbed"&&!l.name){const c=this._getSubItemField(d);l.items=this._generateItemsFromData(l.items),l=this._getItemByField({fieldName:s,fieldPath:r},l[c])}return Nle(l,s)?(o=l,!1):!0}),o}_getFieldParts(e){const[t,...n]=e.split(".").reverse();return{fieldName:t,fieldPath:n}}_getItemByFieldPath(e,t,n){const{itemType:s}=n,r=this._getSubItemField(s),o=s==="group"||s==="tabbed"||n.title;let a=null;do if(o){const l=n.name||n.caption||n.title,d=G(l),c=OC(l);let h="";if(n[r]=this._generateItemsFromData(n[r]),d&&(h=e.pop()),!e.length&&c===h&&(a=this._getItemByField(t,n[r]),a)||(!d||d&&c===h)&&e.length&&(a=this._searchItemInEverySubItem(e,t,n[r]),!a))break}else break;while(e.length&&!G(a));return a}_getSubItemField(e){return e==="tabbed"?"tabs":"items"}_searchItemInEverySubItem(e,t,n){let s=null;return ie(n,(r,o)=>(s=this._getItemByFieldPath(e.slice(),t,o),!s)),s}_changeItemOption(e,t,n){Me(e)&&(e[t]=n)}_dimensionChanged(){const e=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==e&&(this._isColCountChanged(this._lastMarkupScreenFactor,e)&&(this._targetScreenFactor=e,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=e)}_isColCountChanged(e,t){let n=!1;return ie(this._cachedColCountOptions,(s,r)=>r.colCountByScreen[e]!==r.colCountByScreen[t]?(n=!0,!1):!0),n}_refresh(){const e=`.${ite}.${uX}:not(.${Kre}) .${ste}`;Y.trigger(this.$element().find(e),"change"),super._refresh()}_updateIsDirty(e){const t=this.getEditor(e);t&&(t.option("isDirty")?this._dirtyFields.add(e):this._dirtyFields.delete(e),this.option("isDirty",!!this._dirtyFields.size))}updateRunTimeInfoForEachEditor(e){this._itemsRunTimeInfo.each((t,n)=>{const{widgetInstance:s}=n;G(s)&&to.isEditor(s)&&e(s)})}_clear(){this.updateRunTimeInfoForEachEditor(e=>{e.clear(),e.option("isValid",!0)}),Gt.resetGroup(this._getValidationGroup())}_updateData(e,t,n){const s=n?t:e;Me(s)?ie(s,(r,o)=>{this._updateData(n?`${e}.${r}`:r,o,Me(o))}):Ke(e)&&this._updateFieldValue(e,t)}registerKeyHandler(e,t){super.registerKeyHandler(e,t),this._itemsRunTimeInfo.each((n,s)=>{G(s.widgetInstance)&&s.widgetInstance.registerKeyHandler(e,t)})}_focusTarget(){return this.$element().find(`.${DC} [tabindex]`).first()}_visibilityChanged(){this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())}_clearAutoColCountChangedTimeout(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)}_ensureLoadPanel(){this._loadPanel||(this._loadPanel=new Jle({$container:this.$element(),onLoadPanelCreate:(e,t)=>this._createComponent(e,Fp,t)}))}_showLoadPanel(){var e;this._ensureLoadPanel(),this.option("disabled",!0),(e=this._loadPanel)===null||e===void 0||e.show()}_hideLoadPanel(){var e;(e=this._loadPanel)===null||e===void 0||e.hide(),this.option("disabled",!1)}_dispose(){var e;this._clearAutoColCountChangedTimeout(),this._processCommandCompletion(),(e=this._loadPanel)===null||e===void 0||e.dispose(),Gt.removeGroup(this._getValidationGroup()),super._dispose()}clear(){this._clear()}reset(e){this.updateRunTimeInfoForEachEditor(t=>{const{name:n=""}=t.option();e&&n in e?(t.reset(e[n]),this._updateIsDirty(n)):t.reset()}),this._renderValidationSummary()}updateData(e,t){this._updateData(e,t)}getEditor(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)??this._itemsRunTimeInfo.findWidgetInstanceByName(e)}getButton(e){return this._itemsRunTimeInfo.findWidgetInstanceByName(e)}updateDimensions(){const e=de();return this._scrollable?this._scrollable.update().done(()=>{e.resolveWith(this)}):e.resolveWith(this),e.promise()}itemOption(e,t,n){const{items:s}=this.option(),r=this._generateItemsFromData(s),o=this._getItemByField(e,r),a=vB(r,o);if(o){if(arguments.length===1)return o;switch(arguments.length){case 3:{const l=this._tryCreateItemOptionAction(t,o,n,o[t??""],a);this._changeItemOption(o,t??"",n);const d=Wu(a,t);!this._tryExecuteItemOptionAction(l)&&!this._tryChangeLayoutManagerItemOption(d,n)&&this.option("items",r);break}default:if(Me(t)&&!this._tryChangeLayoutManagerItemOptions(a,t)){let l=!1;ie(t,(d,c)=>{const h=this._tryCreateItemOptionAction(d,o,c,o[d],a);this._changeItemOption(o,d,c),!l&&!this._tryExecuteItemOptionAction(h)&&(l=!0)}),l&&this.option("items",r)}}}}validate(){return Gt.validateGroup(this._getValidationGroup())}getItemID(e){const{formID:t}=this.option();return`dx_${t}_${e||new Xt}`}getTargetScreenFactor(){return this._targetScreenFactor}_processCommandCompletion(){var e;(e=this._abort)===null||e===void 0||e.call(this),this._abort=void 0,this._currentAICommand=void 0}_processAIIntegrationUpdate(){if(this._currentAICommand){const{command:e,params:t,callbacks:n}=this._currentAICommand,{aiIntegration:s}=this.option();if(this._processCommandCompletion(),s)this._executeAICommand(e,t,n);else throw this._hideLoadPanel(),pt.Error("E1063")}}_executeAICommand(e,t,n){const{aiIntegration:s}=this.option();if(!s)throw this._hideLoadPanel(),pt.Error("E1063");this._currentAICommand={command:e,params:t,callbacks:n},this._abort=s[e](t,n)}_updateFieldWithSmartPasteValue(e,t){const{formData:n}=this.option();G(n)&&this._updateFieldValue(e,t)}_getSmartPasteCommandCallbacks(){return{onComplete:e=>{var t;const n=Object.fromEntries(e.map(r=>[r.name,r.value])),s={aiResult:n,cancel:!1};(t=this._smartPastingAction)===null||t===void 0||t.call(this,s),ile(s.cancel,()=>{var r;this._hideLoadPanel(),this.beginUpdate(),e.forEach(o=>{let{name:a,value:l}=o;try{this._updateFieldWithSmartPasteValue(a,l)}catch(d){Gl.error(d)}}),this.endUpdate(),(r=this._smartPastedAction)===null||r===void 0||r.call(this,{aiResult:n})},()=>{this._hideLoadPanel()}),this._processCommandCompletion()},onError:e=>{Gl.error(e),this._hideLoadPanel(),this._processCommandCompletion()}}}async smartPaste(e){var t;((t=this._currentAICommand)===null||t===void 0?void 0:t.command)==="smartPaste"&&this._processCommandCompletion();const{aiIntegration:n}=this.option();if(!n)throw pt.Error("E1063");const s=e??await navigator.clipboard.readText();if(!G(e)&&!s)return;this._showLoadPanel();const o=this._itemsRunTimeInfo.getItemsForDataExtraction().map(d=>{var c;return{name:d.dataField,format:Ble(d),type:Mle(d.editorType),instruction:(c=d.aiOptions)===null||c===void 0?void 0:c.instruction}}),a={text:s,fields:o},l=this._getSmartPasteCommandCallbacks();this._executeAICommand("smartPaste",a,l)}}St("dxForm",JS);const pde=i=>class extends i{init(){this._editForm=null,this._updateEditFormDeferred=null,super.init()}isEditRow(e){return!this.isPopupEditMode()&&super.isEditRow(e)}isFormOrPopupEditMode(){return this.isPopupEditMode()||this.isFormEditMode()}isFormEditMode(){return this.option("editing.mode")===YS}getFirstEditableColumnIndex(){const e=this._firstFormItem;if(this.isFormEditMode()&&e){const t=this.option(Ts),n=this._dataController.getRowIndexByKey(t),s=this._rowsView.getCellElements(n);return this._rowsView._getEditFormEditorVisibleIndex(s,e.column)}return super.getFirstEditableColumnIndex()}getEditFormRowIndex(){return this.isFormOrPopupEditMode()?this._getVisibleEditRowIndex():super.getEditFormRowIndex()}_isEditColumnVisible(){const e=super._isEditColumnVisible(),t=this.option("editing");return this.isFormOrPopupEditMode()&&t.allowUpdating||e}_handleDataChanged(e){if(this.isPopupEditMode()){var t,n;const s=this.option("editing.editRowKey"),r=e==null||(t=e.items)===null||t===void 0?void 0:t.some(a=>dn(a.key,s)),o=((n=e.changeTypes)===null||n===void 0?void 0:n.length)&&e.changeTypes.every(a=>a==="insert");(e.changeType==="refresh"||r&&e.isOptionChanged)&&!o&&this._repaintEditPopup()}super._handleDataChanged(e)}getPopupContent(){var e;const t=(e=this._editPopup)===null||e===void 0?void 0:e.option("visible");if(this.isPopupEditMode()&&t)return this._$popupContent}_showAddedRow(e){this.isPopupEditMode()?this._showEditPopup(e):super._showAddedRow(e)}_cancelEditDataCore(){super._cancelEditDataCore(),this.isPopupEditMode()&&this._hideEditPopup()}_updateEditRowCore(e,t,n){const s=this._editForm;if(this.isPopupEditMode())if(this.option("repaintChangesOnly")){var r;(r=e.update)===null||r===void 0||r.call(e,e),this._rowsView.renderDelayedTemplates()}else s&&(this._updateEditFormDeferred=new de().done(()=>s.repaint()),this._updateLockCount||this._updateEditFormDeferred.resolve());else super._updateEditRowCore(e,t,n)}_showEditPopup(e,t){const n=Oe.current().deviceType!=="desktop",s=this.addWidgetPrefix(Fae),r=se({showTitle:!1,fullScreen:n,wrapperAttr:{class:s},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getSaveButtonConfig()},{toolbar:"bottom",location:"after",widget:"dxButton",options:this._getCancelButtonConfig()}],contentTemplate:this._getPopupEditFormTemplate(e)},this.option(Mm));if(!this._editPopup){const o=M("<div>").appendTo(this.component.$element()).addClass(s);this._editPopup=this._createComponent(o,hr),this._editPopup.on("hiding",this._getEditPopupHiddenHandler()),this._editPopup.on("shown",a=>{if(Y.trigger(a.component.$content().find(qS).not(`.${Nae}`).first(),"focus"),t){var l;(l=this._editForm)===null||l===void 0||l.repaint()}})}this._editPopup.option(r),this._editPopup.show(),super._showEditPopup(e,t)}_getPopupEditFormTemplate(e){const t=this.component.getVisibleRows()[e],n={row:t,values:t.values,rowType:t.rowType,key:t.key,rowIndex:e};return this._rowsView._addWatchMethod(n,t),s=>{const r=this.getEditFormTemplate(),o=this._createComponent(M("<div>").appendTo(s),ys);this._$popupContent=M(o.content()),r(this._$popupContent,n,{isPopupForm:!0}),this._rowsView.renderDelayedTemplates(),M(s).parent().attr("aria-label",this.localize("dxDataGrid-ariaEditForm"))}}_repaintEditPopup(){const e=this._getVisibleEditRowIndex();if(e>=0){var t,n;const s=(t=this._editPopup)===null||t===void 0?void 0:t.option("animation");(n=this._editPopup)===null||n===void 0||n.option("animation",null),this._showEditPopup(e,!0),s!==void 0&&this._editPopup.option("animation",s)}}_hideEditPopup(){var e;(e=this._editPopup)===null||e===void 0||e.option("visible",!1)}optionChanged(e){if(e.name==="editing"&&this.isFormOrPopupEditMode()){const{fullName:t}=e;t.indexOf(Lx)===0?(this._handleFormOptionChange(e),e.handled=!0):t.indexOf(Mm)===0&&(this._handlePopupOptionChange(e),e.handled=!0)}super.optionChanged(e)}_handleFormOptionChange(e){var t;if(this.isFormEditMode()){const n=this._getVisibleEditRowIndex();n>=0&&this._dataController.updateItems({changeType:"update",rowIndices:[n]})}else(t=this._editPopup)!==null&&t!==void 0&&t.option("visible")&&e.fullName.indexOf(Lx)===0&&this._repaintEditPopup()}_handlePopupOptionChange(e){const t=this._editPopup;if(t){const n=e.fullName.slice(Mm.length+1);n?t.option(n,e.value):t.option(e.value)}}renderFormEditorTemplate(e,t,n,s,r){const o=this,a=M(s),{column:l}=t,d=Wae(t),c=e==null?void 0:e.row,h=c==null?void 0:c.data,u=n.component,p=l.calculateCellValue(h),f=xe.getDisplayValue(l,p,h,c==null?void 0:c.rowType),{label:g,labelMark:m,labelMode:v}=n.editorOptions||{},_=se({},e,{data:h,cellElement:null,isOnForm:!0,item:t,id:u.getItemID(t.name||t.dataField),column:se({},l,{editorType:d,editorOptions:se({label:g,labelMark:m,labelMode:v},l.editorOptions,t.editorOptions)}),columnIndex:l.index,setValue:!r&&l.allowEditing&&function(y,T){o.updateFieldValue(_,y,T)}});_.value=p,_.displayValue=f,_.text=l.command?"":xe.formatValue(f,l);const x=this._getFormEditItemTemplate.bind(this)(_,l);return this._rowsView.renderTemplate(a,x,_,!!Zc(a)).done(()=>{this._rowsView._updateCell(a,_)}),_}getFormEditorTemplate(e,t){const n=this.component.columnOption(t.name||t.dataField);return(s,r)=>{const o=M(r),{row:a}=e;if(a!=null&&a.watch){const l=a.watch(()=>n.selector(a.data),()=>{var d;let c=o.find(".dx-widget").first(),h=c.data("dxValidator");const u=(d=h)===null||d===void 0?void 0:d.option();o.contents().remove(),e=this.renderFormEditorTemplate.bind(this)(e,t,s,o),c=o.find(".dx-widget").first(),h=c.data("dxValidator"),u&&!h&&c.dxValidator({validationRules:u.validationRules,validationGroup:u.validationGroup,dataGetter:u.dataGetter})});Y.on(o,$s,l)}e=this.renderFormEditorTemplate.bind(this)(e,t,s,o)}}getEditFormOptions(e){var t;const n=(t=this._getValidationGroupsInForm)===null||t===void 0?void 0:t.call(this,e),s=this.option("editing.form.customizeItem"),r=this.addWidgetPrefix(aB);let o=this.option("editing.form.items");const a={};if(o)cB(o,l=>{const d=(l==null?void 0:l.name)||(l==null?void 0:l.dataField);d&&(a[d]=!!l.editorType)});else{const l=this._columnsController.getColumns();o=[],ie(l,(d,c)=>{!c.isBand&&!c.type&&o.push({column:c,name:c.name,dataField:c.dataField})})}return se({},n,{items:o,formID:`dx-${new Xt}`,customizeItem:l=>{let d;const c=l.name||l.dataField;if((l.column||c)&&(d=l.column||this._columnsController.columnOption(l.name?`name:${l.name}`:`dataField:${l.dataField}`)),d){if(l.label=l.label||{},l.label.text=l.label.text||d.caption,d.dataType==="boolean"&&l.label.visible===void 0){const u=this.option("editing.form.labelMode");(u==="floating"||u==="static")&&(l.label.visible=!0)}l.template=l.template||this.getFormEditorTemplate(e,l),l.column=d,l.isCustomEditorType=a[c],d.formItem&&se(l,d.formItem),l.isRequired===void 0&&d.validationRules&&(l.isRequired=d.validationRules.some(u=>u.type==="required"),l.validationRules=[]);const h=G(l.visible)?l.visible:!0;!this._firstFormItem&&h&&(this._firstFormItem=l)}s==null||s.call(this,l),l.cssClass=Ke(l.cssClass)?`${l.cssClass} ${r}`:r}})}getEditFormTemplate(){return(e,t,n)=>{const s=this.option(Lx),r=this.getEditFormOptions(t),o=M("<div>").appendTo(e),a=n==null?void 0:n.isPopupForm;if(this._firstFormItem=void 0,a&&o.addClass(this.addWidgetPrefix(Bae)),this._editForm=this._createComponent(o,JS,se({},s,r)),!a){const l=M("<div>").addClass(this.addWidgetPrefix(Lae)).appendTo(e);this._createComponent(M("<div>").appendTo(l),si,this._getSaveButtonConfig()),this._createComponent(M("<div>").appendTo(l),si,this._getCancelButtonConfig())}this._editForm.on("contentReady",()=>{var l;this._rowsView.renderDelayedTemplates(),(l=this._editPopup)===null||l===void 0||l.repaint()})}}getEditForm(){return this._editForm}_endUpdateCore(){var e;(e=this._updateEditFormDeferred)===null||e===void 0||e.resolve()}_beforeEndSaving(e){if(super._beforeEndSaving(e),this.isPopupEditMode()){var t;(t=this._editPopup)===null||t===void 0||t.hide()}}_processDataItemCore(e,t,n,s,r){const{type:o}=t;this.isPopupEditMode()&&o===gr&&(e.visible=!1),super._processDataItemCore(e,t,n,s,r)}_editRowFromOptionChangedCore(e,t){const n=this.isPopupEditMode();super._editRowFromOptionChangedCore(e,t,n),n&&this._showEditPopup(t)}},fde=i=>class extends i{_updateEditItem(e){this._editingController.isFormEditMode()&&(e.rowType="detail")}_getChangedColumnIndices(e,t,n,s){if(!(s===!1&&t.isEditing&&this._editingController.isFormEditMode()))return super._getChangedColumnIndices.apply(this,arguments)}},mde=i=>class extends i{_renderCellContent(e,t){t.rowType==="data"&&this._editingController.isPopupEditMode()&&t.row.visible===!1||super._renderCellContent.apply(this,arguments)}getCellElements(e){const t=super.getCellElements(e),n=this._editingController,s=n.getEditForm();return n.getEditFormRowIndex()===e&&t&&s?s.$element().find(`.${this.addWidgetPrefix(aB)}, .${Vae}`):t}_getVisibleColumnIndex(e,t,n){if(this._editingController.getEditFormRowIndex()===t&&Ke(n)){const r=this._columnsController.columnOption(n);return this._getEditFormEditorVisibleIndex(e,r)}return super._getVisibleColumnIndex.apply(this,arguments)}_getEditFormEditorVisibleIndex(e,t){let n=-1;return ie(e,(s,r)=>{const o=M(r).find(".dx-field-item-content").data("dx-form-item");if(o!=null&&o.column&&t&&o.column.index===t.index)return n=s,!1}),n}_isFormItem(e){const t=e.rowType==="detail"||e.rowType==="detailAdaptive",n=e.rowType==="data"&&this._editingController.isPopupEditMode();return(t||n)&&e.item}_updateCell(e,t){this._isFormItem(t)?this._formItemPrepared(t,e):super._updateCell(e,t)}_updateContent(){const e=this._editingController,t=e.getEditForm(),n=t==null?void 0:t.option("validationGroup");return super._updateContent.apply(this,arguments).done(()=>{const r=e.getEditForm();n&&r&&r!==t&&r.option("validationGroup",n)})}},gde={extenders:{controllers:{editing:pde,data:fde},views:{rowsView:mde}}};Ue.registerModule("editingFormBased",gde);const _de=i=>class extends i{init(){const e=!this._saveEditorHandler;if(super.init(),e){let t,n;this._pointerUpEditorHandler=()=>{var s;n=(s=this._columnsResizerController)===null||s===void 0?void 0:s.isResizing()},this._pointerDownEditorHandler=s=>t=M(s.target),this._saveEditorHandler=this.createAction(function(s){const{event:r}=s,o=M(r.target),a=r[rB],{component:l}=this;if(zae(t)&&!t.is(o))return;function d(c){if(!c)return!1;const h=c.closest(`.${Oae}`),u=l.$element();return h.length>0&&u.closest(h).length===0}if(this.isCellOrBatchEditMode()&&!this._editCellInProgress){const c=d(o)||d(a==null?void 0:a.$element()),h=a&&!a._disposed&&a!==this.component,u=!!o.closest(`.${this.addWidgetPrefix(kae)}`).length,p=o.hasClass(this.addWidgetPrefix(Aae)),f=this.isCellEditMode();!n&&!c&&!p&&!(u&&f&&this.isEditing())&&(Zc(o)||h)&&this._closeEditItem.bind(this)(o)}}),Y.on(ve.getDocument(),mt.up,this._pointerUpEditorHandler),Y.on(ve.getDocument(),mt.down,this._pointerDownEditorHandler),Y.on(ve.getDocument(),Nt,this._saveEditorHandler)}}isCellEditMode(){return this.option("editing.mode")===IC}isBatchEditMode(){return this.option("editing.mode")===EC}isCellOrBatchEditMode(){return this.isCellEditMode()||this.isBatchEditMode()}_needToCloseEditableCell(e){const t=this.component.$element();let n=this.isEditing();if((!t||!!e.closest(t).length)&&e.closest(`.${Rae}`).length){const a=e.closest(`.${da}> td`),l=this._rowsView.getRowIndex(a.parent()),d=this._rowsView.getCellElements(l);if(d!=null&&d.length){var r;const c=d.index(a),u=(r=this._columnsController.getVisibleColumns()[c])===null||r===void 0?void 0:r.allowEditing,p=this.isEditCell(l,c);n=n&&!u&&!p}}return n||super._needToCloseEditableCell(e)}_closeEditItem(e){this._needToCloseEditableCell(e)&&this.closeEditCell()}_focusEditorIfNeed(){if(this._needFocusEditor&&this.isCellOrBatchEditMode()){var e;const t=this._getVisibleEditColumnIndex(),n=(e=this._rowsView)===null||e===void 0?void 0:e._getCellElement(this._getVisibleEditRowIndex(),t);this._refocusEditCell=!1,clearTimeout(this._inputFocusTimeoutID),n&&!n.find(":focus").length?this._focusEditingCell(()=>{this._editCellInProgress=!1},n,!0):this._editCellInProgress=!1,this._needFocusEditor=!1}else super._focusEditorIfNeed()}isEditing(){if(this.isCellOrBatchEditMode()){const e=G(this.option(Ts)),t=G(this.option(Dl));return e&&t}return super.isEditing()}_handleEditColumnNameChange(e){const t=this._getVisibleEditRowIndex(e.previousValue);if(this.isCellOrBatchEditMode()&&t!==-1&&G(e.value)&&e.value!==e.previousValue){const n=this._columnsController.getVisibleColumnIndex(e.value),s=this._columnsController.getVisibleColumnIndex(e.previousValue);this._editCellFromOptionChanged(n,s,t)}}_addRow(e){if(this.isCellEditMode()&&this.hasChanges()){const t=new de;return this.saveEditData().done(()=>{this.hasChanges()?t.reject("cancel"):this.addRow(e).done(t.resolve).fail(t.reject)}),t.promise()}return super._addRow(e)}editCell(e,t){return this._editCell({rowIndex:e,columnIndex:t})}_editCell(e){const t=new de;let n;return this.executeOperation(t,()=>{n=this._editCellCore(e),Ae(n).done(t.resolve).fail(t.reject)}),n!==void 0?n:t.promise()}_editCellCore(e){const t=this._getNormalizedEditCellOptions(e),{columnIndex:n,rowIndex:s,column:r,item:o}=t;if(o.key===void 0){this._dataController.fireError("E1043");return}return r&&(o.rowType==="data"||o.rowType==="detailAdaptive")&&!o.removed&&this.isCellOrBatchEditMode()?this.isEditCell(s,n)?!0:Ae(this._beforeEditCell(s,n,o)).done(a=>{a||this._prepareEditCell(t)||this._processCanceledEditingCell()}):!1}_beforeEditCell(e,t,n){if(this.isCellEditMode()&&!n.isNewRow&&this.hasChanges()){const s=new de;return this.saveEditData().always(()=>{s.resolve(this.hasChanges())}),this.addDeferred(s),s}return!1}publicMethods(){return super.publicMethods().concat(["editCell","closeEditCell"])}_getNormalizedEditCellOptions(e){let{oldColumnIndex:t,oldRowIndex:n,columnIndex:s,rowIndex:r}=e;const o=this._columnsController,a=o.getVisibleColumns(),d=this._dataController.items()[r];let c;G(t)?c=a[t]:c=this._getEditColumn(),G(n)||(n=this._getVisibleEditRowIndex()),Ke(s)&&(s=o.columnOption(s,"index"),s=o.getVisibleIndex(s));const h=a[s];return{oldColumn:c,columnIndex:s,oldRowIndex:n,rowIndex:r,column:h,item:d}}_prepareEditCell(e){let{item:t,column:n,oldColumn:s,columnIndex:r,oldRowIndex:o}=e;const a={data:t==null?void 0:t.data,cancel:!1,column:n,key:t.isNewRow?void 0:t.key};return this._isEditingStart(a)?!1:(this._pageIndex=this._dataController.pageIndex(),this._setEditRowKey(t.key,!0),this._setEditColumnNameByIndex(r,!0),this._repaintEditCell(n,s,o),n.showEditorAlways||this._addInternalData({key:t.key,oldData:t.oldData??t.data}),!0)}closeEditCell(e,t){let n=Ae();const s=this._getVisibleEditRowIndex();if(this.isCellOrBatchEditMode()){const r=new de;n=new de,this.executeOperation(r,()=>{this._closeEditCellCore(e,s,t).always(n.resolve)})}return n.promise()}_closeEditCellCore(e,t,n){const s=this._dataController,r=new de,o=r.promise();if(this.isCellEditMode()&&this.hasChanges()){if(!n)return this.saveEditData().done(a=>{if(!this.hasChanges()){this.closeEditCell(!!a).always(r.resolve);return}r.resolve()}),o}else if(this._resetEditRowKey(),this._resetEditColumnName(),t>=0){const a=[t];this._beforeCloseEditCellInBatchMode(a),e||s.updateItems({changeType:"update",rowIndices:a})}return r.resolve(),o}_resetModifiedClassCells(e){if(this.isBatchEditMode()){const t=this._columnsController.getVisibleColumns().length;e.forEach(n=>{let{key:s}=n;const r=this._dataController.getRowIndexByKey(s);for(let o=0;o<t;o++){const a=this._rowsView._getCellElement(r,o);a==null||a.removeClass(oae)}})}}_prepareChange(e,t,n){const s=M(e.cellElement);return this.isBatchEditMode()&&e.key!==void 0&&this._applyModified(s,e),super._prepareChange(e,t,n)}_cancelSaving(e){const t=this._dataController;this.isCellOrBatchEditMode()&&(this.isBatchEditMode()&&this._resetEditIndices(),t.updateItems()),super._cancelSaving(e)}optionChanged(e){const{fullName:t}=e;e.name==="editing"&&t===Dl?(this._handleEditColumnNameChange(e),e.handled=!0):super.optionChanged(e)}_editCellFromOptionChanged(e,t,n){const s=this._columnsController.getVisibleColumns();e>-1&&qn(()=>{this._repaintEditCell(s[e],s[t],n)})}_handleEditRowKeyChange(e){if(this.isCellOrBatchEditMode()){const n=this._getVisibleEditColumnIndex(),s=this._getEditRowIndexCorrection(),r=this._dataController.getRowIndexByKey(e.previousValue)+s;if(G(e.value)&&e.value!==e.previousValue){var t;(t=this._editCellFromOptionChanged)===null||t===void 0||t.call(this,n,n,r)}}else super._handleEditRowKeyChange(e)}deleteRow(e){if(this.isCellEditMode()&&this.isEditing()){const{isNewRow:t}=this._dataController.items()[e],n=this._dataController.getKeyByRowIndex(e);this.closeEditCell(null,t).always(()=>{e=this._dataController.getRowIndexByKey(n),this._checkAndDeleteRow(e)})}else super.deleteRow(e)}_checkAndDeleteRow(e){this.isBatchEditMode()?this._deleteRowCore(e):super._checkAndDeleteRow(e)}_refreshCore(e){const{isPageChanged:t}=e??{},n=this.isBatchEditMode()||t&&this.option("scrolling.mode")!=="virtual";this.isCellOrBatchEditMode()?n&&(this._resetEditColumnName(),this._resetEditRowKey()):super._refreshCore(e)}_allowRowAdding(e){return this.isBatchEditMode()?!0:super._allowRowAdding(e)}_afterDeleteRow(e,t){const n=this._dataController;return this.isBatchEditMode()?(n.updateItems({changeType:"update",rowIndices:[t,e]}),new de().resolve()):super._afterDeleteRow(e,t)}_updateEditRow(e,t,n){this.isCellOrBatchEditMode()?this._updateRowImmediately(e,t,n):super._updateEditRow(e,t,n)}_isDefaultButtonVisible(e,t){if(this.isCellOrBatchEditMode()){const n=this.isBatchEditMode();switch(e.name){case"save":case"cancel":case"edit":return!1;case"delete":return super._isDefaultButtonVisible(e,t)&&(!n||!t.row.removed);case"undelete":return n&&this.allowDeleting(t)&&t.row.removed;default:return super._isDefaultButtonVisible(e,t)}}return super._isDefaultButtonVisible(e,t)}_isRowDeleteAllowed(){return super._isRowDeleteAllowed()||this.isBatchEditMode()}_beforeEndSaving(e){if(this.isCellEditMode()){var t;((t=e[0])===null||t===void 0?void 0:t.type)!=="update"&&super._beforeEndSaving(e)}else this.isBatchEditMode()&&this._resetModifiedClassCells(e),super._beforeEndSaving(e)}prepareEditButtons(e){const t=this.option("editing")??{},n=super.prepareEditButtons(e);return(t.allowUpdating||t.allowAdding||t.allowDeleting)&&this.isBatchEditMode()&&(n.push(this.prepareButtonItem(e,"save","saveEditData",21)),n.push(this.prepareButtonItem(e,"revert","cancelEditData",22))),n}_saveEditDataInner(){var e;const t=this._dataController.getVisibleRows()[this.getEditRowIndex()],n=this._getEditColumn(),s=n==null?void 0:n.showEditorAlways,r=this.isCellEditMode()&&!(t!=null&&t.isNewRow);let o;return r&&s&&(o=new de,this.addDeferred(o)),super._saveEditDataInner().always((e=o)===null||e===void 0?void 0:e.resolve)}_applyChange(e,t,n){const s=this.isCellEditMode()&&e.row&&!e.row.isNewRow,{showEditorAlways:r}=e.column,o=e.column.setCellValue!==e.column.defaultSetCellValue;if(r&&!n&&s&&this.hasEditData()&&!this.isEditCell(e.rowIndex,e.columnIndex)){this._focusEditingCell(),this._updateEditRow(e.row,!0,o);return}return super._applyChange(e,t,n)}_applyChangeCore(e,t){const{showEditorAlways:n}=e.column,s=this.isCellEditMode()&&e.row&&!e.row.isNewRow;if(n&&!t){if(s)return this._setEditRowKey(e.row.key,!0),this._setEditColumnNameByIndex(e.columnIndex,!0),this.saveEditData();if(this.isBatchEditMode())return t=this._needUpdateRow(e.column),super._applyChangeCore(e,t)}return super._applyChangeCore(e,t)}_processDataItemCore(e,t,n,s,r){const{data:o,type:a}=t;this.isBatchEditMode()&&a===Vr&&(e.data=ba(e.data,o)),super._processDataItemCore(e,t,n,s,r)}_processRemoveCore(e,t,n){if(!(this.isBatchEditMode()&&!n))return super._processRemoveCore(e,t,n)}_processRemoveIfError(e,t){if(!this.isBatchEditMode())return super._processRemoveIfError(e,t)}_beforeFocusElementInRow(e){super._beforeFocusElementInRow(e);const t=e>=0?e:0,n=this.getFirstEditableColumnIndex();n>=0&&this.editCell(t,n)}},vde=i=>class extends i{_createTable(){const e=super._createTable.apply(this,arguments),t=this._editingController;return t.isCellOrBatchEditMode()&&this.option("editing.allowUpdating")&&Y.on(e,be(Fo.name,"dxDataGridRowsView"),`td:not(.${c_})`,this.createAction(()=>{t.isEditing()&&t.closeEditCell()})),e}_createRow(e){const t=super._createRow.apply(this,arguments);if(e){const n=this._editingController,s=!!e.removed;n.isBatchEditMode()&&s&&t.addClass(Pae)}return t}},xde={extenders:{controllers:{editing:_de},views:{rowsView:vde}}};Ue.registerModule("editingCellBased",xde);const xk="__DX_INSERT_INDEX__",SB="row",Fm="batch",bc="cell",EB=["popup","form"],ls={valid:"valid",invalid:"invalid",pending:"pending"},Uu=function(i){return G(i)&&i!=="cancel"},IB=function(i,e){return i!==void 0||i===void 0&&e&&!e.isNewRow};class bde extends fn.Controller{constructor(){super(...arguments),this._isValidationInProgress=!1,this._disableApplyValidationResults=!1}init(){this._editingController=this.getController("editing"),this._editorFactoryController=this.getController("editorFactory"),this._columnsController=this.getController("columns"),this.createAction("onRowValidating"),this._validationState||this.initValidationState()}initValidationState(){this._validationState=[],this._validationStateCache={}}_rowIsValidated(e){const t=this._getValidationData(e==null?void 0:e.key);return!!t&&!!t.validated}_getValidationData(e,t){const n=vs(e),s=Me(n);let r;return s?r=this._validationState.filter(o=>dn(o.key,e))[0]:r=this._validationStateCache[n],!r&&t&&(r={key:e,isValid:!0},this._validationState.push(r),s||(this._validationStateCache[n]=r)),r}_getBrokenRules(e,t){let n;return t?n=t.brokenRules||t.brokenRule&&[t.brokenRule]:n=e.brokenRules||[],n}_rowValidating(e,t){const n=new de,s=this._editingController.getChangeByKey(e==null?void 0:e.key),r=this._getBrokenRules(e,t),o=t?t.isValid:e.isValid,a={brokenRules:r,isValid:o,key:s.key,newData:s.data,oldData:this._editingController._getOldData(s.key),promise:null,errorText:this.getHiddenValidatorsErrorText(r)};return this.executeAction("onRowValidating",a),Ae(ci(a.promise)).always(()=>{e.isValid=a.isValid,e.errorText=a.errorText,n.resolve(a)}),n.promise()}getHiddenValidatorsErrorText(e){const t=[];return ie(e,(n,s)=>{const{column:r}=s,o=r&&r.groupIndex!==void 0&&!r.showWhenGrouped,a=r&&r.visible;!s.validator.$element().parent().length&&(!a||o)&&t.push(s.message)}),t.join(", ")}validate(e){let t=!0;const n=this._editingController,s=new de,r=[],o=n.getEditMode();if(e=e||o===SB,this._isValidationInProgress)return s.resolve(!1).promise();if(this._isValidationInProgress=!0,e){n.addDeferred(s);const a=n.getChanges();ie(a,(l,d)=>{let{type:c,key:h}=d;if(c!=="remove"){const u=this._getValidationData(h,!0),p=this.validateGroup(u);r.push(p),p.done(f=>{u.validated=!0,t=t&&f.isValid})}})}else if(this._currentCellValidator){const a=this.validateGroup(this._currentCellValidator._findGroup());r.push(a),a.done(l=>{t=l.isValid})}return Ae(...r).done(()=>{this._isValidationInProgress=!1,s.resolve(t)}),s.promise()}validateGroup(e){var t;const n=new de,s=e&&Gt.getGroupConfig(e);let r;return s!=null&&s.validators.length&&(this.resetRowValidationResults(e),r=Gt.validateGroup(e)),Ae(((t=r)===null||t===void 0?void 0:t.complete)||r).done(o=>{Ae(this._rowValidating(e,o)).done(n.resolve)}),n.promise()}isRowDataModified(e){return!ki(e.data)}updateValidationState(e){const t=this._editingController.getEditMode(),{key:n}=e,s=this._getValidationData(n,!0);if(EB.includes(t))s.isValid=!0;else{if(e.type==="insert"&&!this.isRowDataModified(e)){s.isValid=!0;return}if(this.setDisableApplyValidationResults(!0),Gt.getGroupConfig(s)){const o=Gt.validateGroup(s);Ae(o.complete||o).done(a=>{s.isValid=a.isValid,s.brokenRules=a.brokenRules})}else(!s.brokenRules||!s.brokenRules.length)&&(s.isValid=!0);this.setDisableApplyValidationResults(!1)}}setValidator(e){this._currentCellValidator=e}renderCellPendingIndicator(e){let t=e.find(".dx-pending-indicator");if(!t.length){const n=e;t=M("<div>").appendTo(n).addClass("dx-pending-indicator"),this._createComponent(t,Rs),e.addClass("dx-validation-pending")}}disposeCellPendingIndicator(e){const t=e.find(".dx-pending-indicator");if(t.length){const n=Rs.getInstance(t);n&&(n.dispose(),n.$element().remove()),e.removeClass("dx-validation-pending")}}validationStatusChanged(e){const{validator:t}=e,n=t.option("validationGroup"),{column:s}=t.option("dataGetter")();this.updateCellValidationResult({rowKey:n.key,columnIndex:s.index,validationResult:e})}validatorInitialized(e){e.component.on("validating",this.validationStatusChanged.bind(this)),e.component.on("validated",this.validationStatusChanged.bind(this))}validatorDisposing(e){const t=e.component,n=t.option("validationGroup"),{column:s}=t.option("dataGetter")(),r=this.getCellValidationResult({rowKey:n==null?void 0:n.key,columnIndex:s.index});Uu(r)&&r.status===ls.pending&&this.cancelCellValidationResult({change:n,columnIndex:s.index})}applyValidationResult(e,t){const{validator:n}=t,s=n.option("validationGroup"),{column:r}=n.option("dataGetter")();if(t.brokenRules&&t.brokenRules.forEach(o=>{o.columnIndex=r.index,o.column=r}),e){const o=this.getCellValidationResult({rowKey:s.key,columnIndex:r.index}),a=Uu(o)&&o.disabledPendingId===t.id;if(this._disableApplyValidationResults||a)return;if(t.status===ls.invalid){const d=e.find(":focus");Ha(d)||(Y.trigger(d,"focus"),Y.trigger(d,mt.down))}const l=!r.editCellTemplate&&this._editorFactoryController.getEditorInstance(e);t.status===ls.pending?l?l.option("validationStatus",ls.pending):this.renderCellPendingIndicator(e):l?l.option("validationStatus",ls.valid):this.disposeCellPendingIndicator(e),e.toggleClass(this.addWidgetPrefix("invalid"),t.status===ls.invalid)}}_syncInternalEditingData(e){var t;const n=this._editingController,s=n.getChangeByKey(e.key),r=n._getOldData(e.key),o=(t=e.row)===null||t===void 0?void 0:t.oldData;s&&o&&!r&&n._addInternalData({key:e.key,oldData:o})}createValidator(e,t){const n=this._editingController,{column:s}=e;let{showEditorAlways:r}=s;if(G(s.command)||!s.validationRules||!Array.isArray(s.validationRules)||!s.validationRules.length)return;let a=n.getIndexByKey(e.key,n.getChanges())>-1;if(!a){if(!r){var l;r=(((l=this._columnsController)===null||l===void 0?void 0:l.getVisibleColumns())||[]).some(p=>p.showEditorAlways)}const c=dn(this.option("editing.editRowKey"),e.key),h=n.isCellOrBatchEditMode()&&n.allowUpdating({row:e.row});if(a=c||h&&r,h&&r){var d;n._addInternalData({key:e.key,oldData:((d=e.row)===null||d===void 0?void 0:d.oldData)??e.data})}}if(a){if(t&&!t.length){pt.log("E1050");return}this._syncInternalEditingData(e);const c=this._getValidationData(e.key,!0),h=()=>{const f=n.getChangeByKey(c==null?void 0:c.key),g=s.calculateCellValue((f==null?void 0:f.data)||{});return g!==void 0?g:e.value},u=t&&t.hasClass("dx-widget");t&&t.addClass(this.addWidgetPrefix("validator"));const p=new u_(t||M("<div>"),{name:s.caption,validationRules:se(!0,[],s.validationRules),validationGroup:c,adapter:u?null:{getValue:h,applyValidationResults:f=>{this.applyValidationResult(t,f)}},dataGetter(){const f=c==null?void 0:c.key,g=n.getChangeByKey(f),m=n._getOldData(f);return{data:ba(m,g==null?void 0:g.data),column:s}},onInitialized:this.validatorInitialized.bind(this),onDisposing:this.validatorDisposing.bind(this)});if(u){const f=p.option("adapter");if(f){const g=f.bypass,m=()=>e.row.isNewRow&&!this._isValidationInProgress&&!n.isCellModified(e);f.getValue=h,f.validationRequestsCallbacks=[],f.bypass=()=>g.call(f)||m()}}return p}}setDisableApplyValidationResults(e){this._disableApplyValidationResults=e}getDisableApplyValidationResults(){return this._disableApplyValidationResults}isCurrentValidatorProcessing(e){let{rowKey:t,columnIndex:n}=e;return this._currentCellValidator&&dn(this._currentCellValidator.option("validationGroup").key,t)&&this._currentCellValidator.option("dataGetter")().column.index===n}validateCell(e){const t={rowKey:e.option("validationGroup").key,columnIndex:e.option("dataGetter")().column.index,validationResult:null};let n=this.getCellValidationResult(t);const s=Uu(n),r=e.option("adapter");if(!s)n=e.validate();else{const a=r.getValue();dn(a,n.value)||(n=e.validate())}const o=new de;return s&&n.status===ls.pending&&(this.updateCellValidationResult(t),r.applyValidationResults(n)),Ae(n.complete||n).done(a=>{s&&r.applyValidationResults(a),o.resolve(a)}),o.promise()}updateCellValidationResult(e){let{rowKey:t,columnIndex:n,validationResult:s}=e;const r=this._getValidationData(t);if(!r)return;r.validationResults||(r.validationResults={});let o;if(s){if(o=se({},s),r.validationResults[n]=o,s.status===ls.pending&&(this._editingController.getEditMode()===bc&&(o.deferred=new de,o.complete.always(()=>{o.deferred.resolve()}),this._editingController.addDeferred(o.deferred)),this._disableApplyValidationResults)){o.disabledPendingId=s.id;return}}else o=r.validationResults[n];o&&o.disabledPendingId&&delete o.disabledPendingId}getCellValidationResult(e){var t;let{rowKey:n,columnIndex:s}=e;const r=this._getValidationData(n,!0);return r==null||(t=r.validationResults)===null||t===void 0?void 0:t[s]}removeCellValidationResult(e){let{change:t,columnIndex:n}=e;const s=this._getValidationData(t==null?void 0:t.key);s&&s.validationResults&&(this.cancelCellValidationResult({change:t,columnIndex:n}),delete s.validationResults[n])}cancelCellValidationResult(e){let{change:t,columnIndex:n}=e;const s=this._getValidationData(t.key);if(t&&s.validationResults){const r=s.validationResults[n];r&&(r.deferred&&r.deferred.reject("cancel"),s.validationResults[n]="cancel")}}resetRowValidationResults(e){e&&(e.validationResults&&delete e.validationResults,delete e.validated)}isInvalidCell(e){let{rowKey:t,columnIndex:n}=e;const s=this.getCellValidationResult({rowKey:t,columnIndex:n});return Uu(s)&&s.status===ls.invalid}getCellValidator(e){let{rowKey:t,columnIndex:n}=e;const s=this._getValidationData(t),r=s&&Gt.getGroupConfig(s),o=r&&r.validators;return o&&o.filter(a=>{const{column:l}=a.option("dataGetter")();return l?l.index===n:!1})[0]}setCellValidationStatus(e){const t=this.getCellValidationResult({rowKey:e.key,columnIndex:e.column.index});G(t)?e.validationStatus=t!=="cancel"?t.status:"cancel":delete e.validationStatus}}const yde=i=>class extends i{processDataItemTreeListHack(e){super.processDataItem.apply(this,arguments)}processItemsTreeListHack(e,t){return super.processItems.apply(this,arguments)}_addChange(e){const t=super._addChange.apply(this,arguments);return t&&e.type!=="remove"&&this._validatingController.updateValidationState(t),t}_handleChangesChange(e){super._handleChangesChange.apply(this,arguments),e.value.forEach(t=>{this._validatingController._getValidationData(t.key)===void 0&&this._validatingController.updateValidationState(t)})}_updateRowAndPageIndices(){const e=this,t=e.getView("rowsView").getTopVisibleItemIndex();let n=t;ie(e.getChanges(),(s,r)=>{let{key:o,type:a}=r;const l=this._validatingController._getValidationData(o);l&&!l.isValid&&l.pageIndex!==e._pageIndex&&(l.pageIndex=e._pageIndex,a==="insert"?l.rowIndex=t:l.rowIndex=n,n++)})}_getValidationGroupsInForm(e){return{validationGroup:this._validatingController._getValidationData(e.key,!0)}}_validateEditFormAfterUpdate(e,t){t&&this._editForm&&this._editForm.validate(),super._validateEditFormAfterUpdate.apply(this,arguments)}_prepareEditCell(e){const{column:t,item:n}=e,s=super._prepareEditCell(e),r=n.isNewRow?void 0:n.key;return s&&t.showEditorAlways&&this._validatingController.updateValidationState({key:r}),s}processItems(e,t){const n=this.getChanges(),s=(o,a)=>{let l=-1;const d=o.type==="insert",{key:c}=o;return ie(a,(h,u)=>{if(dn(c,d?u.key:this._dataController.keyOf(u)))return l=h,!1}),l};e=super.processItems(e,t);const r=e.length;return this.getEditMode()===Fm&&t!=="prepend"&&t!=="append"&&n.forEach(o=>{const{key:a}=o,l=this._validatingController._getValidationData(a);l&&o.type&&l.pageIndex===this._pageIndex&&(o==null?void 0:o.pageIndex)!==this._pageIndex&&function(d,c){const h={key:d.key};if(s(d,e)>=0)return;c.rowIndex=c.rowIndex>r?c.rowIndex%r:c.rowIndex;const{rowIndex:p}=c;h[xk]=1,e.splice(p,0,h)}(o,l)}),e}processDataItem(e){const t=e.data[xk],n=t?e.data.key:e.key;if(this.getEditMode()===Fm&&t&&n){const r=this.getChanges(),o=xe.getIndexByKey(n,r);if(o>=0){const a=r[o];if(a.type!=="insert"){const l=this._getOldData(a.key);e.data=se(!0,{},l,a.data),e.key=n}}}super.processDataItem.apply(this,arguments)}_createInvisibleColumnValidators(e){const t=this,n=this._columnsController.getColumns(),s=this._columnsController.getInvisibleColumns().filter(l=>!l.isBand),r=this._columnsController.getGroupColumns().filter(l=>!l.showWhenGrouped&&s.indexOf(l)===-1),o=[],a=(l,d)=>this._dataController.getRowIndexByKey(d)>=0&&s.indexOf(l)<0;return s.push(...r),EB.includes(this.getEditMode())||ie(n,(l,d)=>{e.forEach(c=>{let h;if(!a(d,c.key)){if(c.type==="insert")h=c.data;else if(c.type==="update"){const u=t._getOldData(c.key);if(!G(u))return;h=ba(u,c.data)}if(h){const u=this._validatingController.createValidator({column:d,key:c.key,value:d.calculateCellValue(h)});u&&o.push(u)}}})}),function(){o.forEach(l=>{l.dispose()})}}_beforeSaveEditData(e,t){let n=super._beforeSaveEditData.apply(this,arguments);const s=this._validatingController._getValidationData(e==null?void 0:e.key,!0);if(e){const r=e.type==="remove"||s.isValid;n=n||!r}else{const r=this._createInvisibleColumnValidators(this.getChanges());n=new de,this.executeOperation(n,()=>{this._validatingController.validate(!0).done(o=>{switch(r(),this._updateRowAndPageIndices(),this.getEditMode()){case bc:o||this._focusEditingCell();break;case Fm:o||(this._resetEditRowKey(),this._resetEditColumnName(),this._dataController.updateItems())}n.resolve(!o)})})}return n.promise?n.promise():n}_beforeEditCell(e,t,n){const s=super._beforeEditCell(e,t,n);if(this.getEditMode()===bc){const r=this._rowsView._getCellElement(e,t),o=r&&r.data("dxValidator"),a=r&&r.closest(".dx-row").data("options"),l=o&&o.option("adapter").getValue();if(o&&IB(l,a)){const d=new de;return Ae(this._validatingController.validateCell(o),s).done((c,h)=>{d.resolve(c.status===ls.valid&&h)}),d.promise()}if(!o)return s}return!1}_afterSaveEditData(e){let t;const n=this.getEditMode()===bc;if(ie(this.getChanges(),(s,r)=>{const o=this._showErrorRow(r);t=t||o}),t){const s=this._rowsView.getScrollable();s&&(s.update(),s.scrollToElement(t))}if(e&&n&&this._needUpdateRow()){const s=this.getEditRowIndex();this._dataController.updateItems({changeType:"update",rowIndices:[s]}),this._focusEditingCell()}else if(!e){let s=!0;n&&(s=!(this._columnsController.getColumns().filter(a=>{var l;return a.showEditorAlways&&((l=a.validationRules)===null||l===void 0?void 0:l.length)>0}).length>0)),s&&this._validatingController.initValidationState()}}_handleDataChanged(e){const t=this._validatingController._validationState;this.option("scrolling.mode")==="standard"&&this.resetRowAndPageIndices(),e.changeType==="prepend"&&ie(t,(n,s)=>{s.rowIndex+=e.items.length}),super._handleDataChanged(e)}resetRowAndPageIndices(){const e=this._validatingController._validationState;ie(e,(t,n)=>{n.pageIndex!==this._pageIndex&&(delete n.pageIndex,delete n.rowIndex)})}_beforeCancelEditData(){this._validatingController.initValidationState(),super._beforeCancelEditData()}_showErrorRow(e){let t;const n=this._dataController.items(),s=this.getIndexByKey(e.key,n),r=this._validatingController._getValidationData(e.key);if(!(r!=null&&r.isValid)&&r!==null&&r!==void 0&&r.errorText&&s>=0)return t=this.getPopupContent(),this._errorHandlingController&&this._errorHandlingController.renderErrorRow(r==null?void 0:r.errorText,s,t)}updateFieldValue(e){const t=new de;return this._validatingController.removeCellValidationResult({change:this.getChangeByKey(e.key),columnIndex:e.column.index}),super.updateFieldValue.apply(this,arguments).done(()=>{const n=this._validatingController.getCellValidator({rowKey:e.key,columnIndex:e.column.index});Ae(n&&this._validatingController.validateCell(n)).done(s=>{this._editorFactoryController.refocus(),t.resolve(s)})}),t.promise()}highlightDataCell(e,t){super.highlightDataCell.apply(this,arguments),this._validatingController.setCellValidationStatus(t);const n=!!t.setValue,s=this.isCellModified(t),r=G(t.validationStatus);if(s&&t.column.setCellValue||n&&!s&&!(t.row.isNewRow||!r)){const a=e.data("dxValidator");a&&Ae(this._validatingController.validateCell(a)).done(()=>{this._validatingController.setCellValidationStatus(t)})}}getChangeByKey(e){const t=this.getChanges();return t[xe.getIndexByKey(e,t)]}isCellModified(e){const t=super.isCellModified(e),n=this.getChangeByKey(e.key),s=!!e.row&&this._validatingController.isInvalidCell({rowKey:e.key,columnIndex:e.column.index});return t||this._validatingController._rowIsValidated(n)&&s}},Cde=function(i,e){const t=M(e).closest("tr").index(),n=M(i._rowsView.getRowElement(t)).first().children().filter(":not(.dx-hidden-cell)");return i._rowsView._getWidths(n).reduce((s,r)=>s+r,0)},wde=function(i){let e,t;return i.some((n,s)=>{if(n.command==="transparent")return e=s===0?-1:s,t=s===i.length-1?-1:s+n.colspan-1,!0}),{startColumnIndex:e,endColumnIndex:t}},Sde=i=>class extends i{_showRevertButton(e){var t,n;let s=(t=this._revertTooltip)===null||t===void 0?void 0:t.$element();if(!e||!e.length){var r;(r=s)===null||r===void 0||r.remove(),this._revertTooltip=void 0;return}if(e.find(s).length){var o;(o=this._revertTooltip)===null||o===void 0||o.repaint();return}const a=this.getRevertButtonContainer(e),l=this.addWidgetPrefix("revert-tooltip");(n=s)===null||n===void 0||n.remove(),s=M("<div>").addClass(l).appendTo(e);const d={animation:null,visible:!0,width:"auto",height:"auto",shading:!1,container:a,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{class:l},contentTemplate:()=>{const c=M("<div>").addClass("dx-revert-button"),h={icon:"revert",hint:this.option("editing.texts.validationCancelChanges"),elementAttr:{id:"dxRevertButton","aria-label":ue.format("dxDataGrid-ariaRevertButton")},onClick:()=>{this._editingController.cancelEditData()}};return new si(c,h).$element()},position:{my:"left top",at:"right top",offset:"1 0",collision:"flip",boundaryOffset:"0 0",boundary:this._rowsView.element(),of:e},onPositioned:this.overlayPositionedHandler.bind(this)};this._revertTooltip=new Ps(s,d)}_hideFixedGroupCell(e,t){var n,s;let r,o;const a=(n=this._rowsView)===null||n===void 0||(s=n.isFixedColumns)===null||s===void 0?void 0:s.call(n),l=this._editingController.isFormOrPopupEditMode();if(a&&!l){const d=e.closest(".dx-row").next().data("options");d&&d.rowType==="group"&&(r=M(this._rowsView.getRowElement(d.rowIndex)).last(),o=r.find(".dx-group-cell"),o.length&&o.get(0).style.visibility!=="hidden"&&(o.css("visibility","hidden"),t.onDisposing=function(){o.css("visibility","")}))}}_showValidationMessage(e,t,n){const s=e.find(".dx-dropdowneditor-overlay").data("dxPopup"),r=s&&s.option("visible"),o=r?"top right":`top ${n}`,a=r?"top left":`bottom ${n}`,l=this.getValidationMessageContainer(e);let d="";t&&t.forEach(p=>{d+=(d.length?"<br/>":"")+f6(p)});const c=this.addWidgetPrefix("invalid-message");this._rowsView.element().find(`.${c}`).remove();const h=M("<div>").addClass("dx-invalid-message").addClass("dx-invalid-message-always").addClass(c).html(d).appendTo(e),u={container:l,shading:!1,width:"auto",height:"auto",visible:!0,animation:!1,propagateOutsideClick:!0,hideOnOutsideClick:!1,wrapperAttr:{id:"dxInvalidMessage",class:`dx-invalid-message dx-invalid-message-always ${c}`},position:{collision:"flip",boundary:this._rowsView.element(),boundaryOffset:"0 0",offset:{x:0,y:!r&&gn.mozilla?-1:0},my:o,at:a,of:e},onPositioned:p=>{this.overlayPositionedHandler(p,r),this._shiftValidationMessageIfNeed(p.component.$content(),e)}};this._hideFixedGroupCell(e,u),new Ps(h,u)}getValidationMessages(){var e;return(e=this._rowsView.element())===null||e===void 0?void 0:e.find(this._getValidationMessagesSelector())}getRevertButton(){var e;return M((e=this._revertTooltip)===null||e===void 0?void 0:e.element())}_hideValidationMessage(){var e;const t=(e=this._rowsView.element())===null||e===void 0?void 0:e.find(this._getValidationMessagesSelector());t==null||t.remove()}_normalizeValidationMessagePositionAndMaxWidth(e,t,n){const s=this._columnsController.getFixedColumns();if(!s||!s.length)return;let r;const o=!t&&Cde(this,e.element),a=e.component.$content(),l=kt(a,!0),d=!t&&l>o,c=this._rowsView.getCellIndex(M(e.element).closest("td")),h=wde(s);return!t&&(c===h.startColumnIndex||d)?r={collision:"none flip",my:"top left",at:n?"top right":"bottom left"}:c===h.endColumnIndex&&(r={collision:"none flip",my:"top right",at:t||n?"top left":"bottom right"},t&&(r.offset="-1 0")),r&&{position:r,maxWidth:d?o-2:void 0}}_shiftValidationMessageIfNeed(e,t){const n=this._revertTooltip&&this._revertTooltip.$content();if(!n)return;const s=e.offset(),r=n.offset();if(s.top===r.top&&s.left+Xe(e)>r.left){const o=Xe(n)+2;e.css("left",r.left<t.offset().left?-o:o)}}getOverlayBaseZIndex(){return Ps.baseZIndex()}overlayPositionedHandler(e,t){if(!e.component.__skipPositionProcessing){const n=M(e.element).hasClass(this.addWidgetPrefix("revert-tooltip")),s=!n&&this._rowsView.updateFreeSpaceRowHeight(),r=this._normalizeValidationMessagePositionAndMaxWidth(e,n,t);e.component.__skipPositionProcessing=!!(s||r),r?e.component.option(r):s&&e.component.repaint()}}_getRevertTooltipsSelector(){return`.dx-editor-cell .${this.addWidgetPrefix("revert-tooltip")}`}_getValidationMessagesSelector(){const e=this.addWidgetPrefix("invalid-message");return`.dx-editor-cell .${e}, .dx-cell-modified .${e}`}loseFocus(e){e||this._validatingController.setValidator(null),super.loseFocus()}updateCellState(e,t,n){var s;const r=e==null?void 0:e.closest(this._getFocusCellSelector()),o=r!=null&&r.is("td")?r:null,a=r==null?void 0:r.closest(".dx-row").data("options"),l=a?this._editingController.getChangeByKey(a.key):null,d=o&&this._columnsController.getVisibleColumns()[o.index()],c=(l==null||(s=l.data)===null||s===void 0?void 0:s[d==null?void 0:d.name])!==void 0&&!this._editingController.isSaving(),h=[];if(this._editingController.getEditMode()===bc&&((t==null?void 0:t.status)===ls.invalid||c?(this._showRevertButton(r),h.push("dxRevertButton")):this._revertTooltip&&this._revertTooltip.$element().remove()),t&&t.status===ls.invalid&&o&&d&&t&&t.brokenRules){const p=[];t.brokenRules.forEach(f=>{f.message&&p.push(f.message)}),p.length&&(this._showValidationMessage(r,p,d.alignment||"left"),h.push("dxInvalidMessage"))}this._updateAriaValidationAttributes(r,h),!n&&this._rowsView.element()&&this._rowsView.updateFreeSpaceRowHeight()}_updateAriaValidationAttributes(e,t){if(t.length===0)return;const n=this._editingController.getEditMode();if([bc,Fm,SB].includes(n)){const r=this._getCurrentFocusElement(e);r.attr("aria-labelledby",t.join(" ")),r.attr("aria-invalid",!0)}}_getCurrentFocusElement(e){return this._editingController.isEditing()?e.find(GS).first():e}focus(e,t){if(!arguments.length)return super.focus();if(this._hideValidationMessage(),e!=null&&e.hasClass("dx-row")||e!=null&&e.hasClass("dx-master-detail-cell"))return super.focus(e,t);const n=e==null?void 0:e.closest(this._getFocusCellSelector()),s=n&&(n.data("dxValidator")||e.find(`.${this.addWidgetPrefix("validator")}`).eq(0).data("dxValidator")),r=n&&n.closest(".dx-row").data("options"),o=r?this._editingController.getChangeByKey(r.key):null;let a;if(s){this._validatingController.setValidator(s);const l=s.option("adapter").getValue();if(IB(l,r)||this._validatingController._rowIsValidated(o))return this._editingController.waitForDeferredOperations().done(()=>{this._rowsView.isElementInside(e)&&Ae(this._validatingController.validateCell(s)).done(c=>{a=c;const{column:h}=a.validator.option("dataGetter")();o&&h&&!this._validatingController.isCurrentValidatorProcessing({rowKey:o.key,columnIndex:h.index})||(!ts(Yt())&&a.status===ls.invalid&&(t=!0),this.updateCellState(e,a,t),super.focus.call(this,e,t))})}),super.focus(e,t)}return this.updateCellState(e,a,t),super.focus(e,t)}getEditorInstance(e){const t=e.find(".dx-texteditor").eq(0);return xe.getWidgetInstance(t)}getValidationMessageContainer(e){return e.closest(`.${this.addWidgetPrefix("content")}`)}getRevertButtonContainer(e){return e.closest(`.${this.addWidgetPrefix("content")}`).parent()}hasOverlayElements(){const e=this.getValidationMessages(),t=this.getRevertButton();return super.hasOverlayElements()||!!(e!=null&&e.length)||!!(t!=null&&t.length)}},Ede=i=>class extends i{_getValidationStatus(e){return(Uu(e)?e.status:e)||ls.valid}_isCellChanged(e,t,n,s,r){var o,a;const l=(o=e.cells)===null||o===void 0?void 0:o[s],d=this._getValidationStatus({status:l==null?void 0:l.validationStatus}),c=this._validatingController.getCellValidationResult({rowKey:e.key,columnIndex:s}),h=this._validatingController._getValidationData(e.key),u=this._getValidationStatus(c),p=JSON.stringify(t.modifiedValues)!==JSON.stringify(e.modifiedValues),f=d!==u&&p,g=M(l==null?void 0:l.cellElement).hasClass(this.addWidgetPrefix("invalid")),m=l==null||(a=l.column.validationRules)===null||a===void 0?void 0:a.length,v=e.isEditing!==t.isEditing&&m,_=f||h.isValid&&g;return v||_?!0:super._isCellChanged.apply(this,arguments)}},Ide=i=>class extends i{updateFreeSpaceRowHeight(e){const t=this;let n,s,r;const o=t.element(),a=o&&o.find(`.${t.addWidgetPrefix("invalid-message")} .dx-overlay-content`);if(super.updateFreeSpaceRowHeight(e),a&&a.length){n=t._getRowElements().filter(":visible"),r=t._getFreeSpaceRowElements(e),s=r.first();const l=n.find(":focus").length>0;if(s&&n.length===1&&(!s.is(":visible")||gt(a)>gt(s))&&l)return r.show(),$a(r,gt(a)),!0}}_formItemPrepared(e,t){super._formItemPrepared.apply(this,arguments),Si(()=>{const n=t.find(".dx-widget").first();n.length&&!n.children().length||this._validatingController.createValidator(e,n)})}_cellPrepared(e,t){this._editingController.isFormOrPopupEditMode()||this._validatingController.createValidator(t,e),super._cellPrepared.apply(this,arguments)}_restoreErrorRow(e){this._editingController&&this._editingController.hasChanges()&&this._getRowElements(e).each((t,n)=>{const s=M(n).data("options");if(s){const r=this._editingController.getChangeByKey(s.key);r&&this._editingController._showErrorRow(r)}})}},Tde={defaultOptions:()=>({editing:{texts:{validationCancelChanges:ue.format("dxDataGrid-validationCancelChanges")}}}),controllers:{validating:bde},extenders:{controllers:{editing:yde,editorFactory:Sde,data:Ede},views:{rowsView:Ide}}};Ue.registerModule("validating",Tde);const Wx="scrolling.legacyMode",TB=i=>i.option("scrolling.loadTwoPagesOnStart")||i._controller.isVirtual()||i._controller.getViewportItemIndex()>0,Bm=i=>i._cache.length?i._cache[0].pageIndex:-1,RC=i=>i._cache.length?i._cache[i._cache.length-1].pageIndex:-1,Yg=(i,e,t)=>{i._isChangedFiring=!0,e(t),i._isChangedFiring=!1},bk=(i,e,t)=>{if(i._isDelayChanged)return i._isDelayChanged=!1,Yg(i,e,t),!0},Dde=i=>{const e=i._dataOptions.pageSize();if(i.option("scrolling.preventPreload"))return 0;let n=i._controller.viewportSize();if(i._controller.isVirtualMode()&&i.option("scrolling.removeInvisiblePages")){n=0;const s=i._controller.viewportSize()*i._controller.viewportItemSize();let r=i._controller.getContentOffset();const o=i._controller.getViewportPosition(),a=i._controller.virtualItemsCount(),l=i._dataOptions.totalItemsCount();for(let d=a.begin;d<l&&!(r>=o+s);d++){const c=i._controller.getItemSizes()[d]||i._controller.viewportItemSize();r+=c,r>=o&&n++}}return e&&n>0?Math.ceil(n/e):1},Nm=(i,e)=>{const t=i.option("scrolling.preloadEnabled");let n=Dde(i);const s=i._controller.isAppendMode();return n&&(e?n=t?1:0:(t&&n++,(s||!TB(i))&&n--)),n},Ade=i=>{let e=-1;const t=Bm(i),n=i._dataOptions;return t<0?e=i._pageIndex:i._cache[i._pageIndex-t]?t>=0&&i._controller.viewportSize()>=0&&(t>0&&(RC(i)+1===n.pageCount()&&i._cache.length<Nm(i)+1||i._pageIndex===t&&Nm(i,!0))&&(e=t-1),e<0&&t+i._cache.length<=i._pageIndex+Nm(i)&&(e=t+i._cache.length)):e=i._pageIndex,i._loadingPageIndexes[e]&&(e=-1),e},kde=(i,e)=>{const t=i._dataOptions;if(e===i.pageIndex()||!t.isLoading()&&e<t.pageCount()||!t.hasKnownLastPage()&&e===t.pageCount())return t.pageIndex(e),i._loadingPageIndexes[e]=!0,Ae(t.load()).always(()=>{i._loadingPageIndexes[e]=!1})},yk=(i,e,t,n,s)=>{const r=i._dataOptions,o=r.items().slice();let a=Me(t)?t:void 0;const l=t==="prepend",d=r.viewportItems();t&&Ke(t)&&!i._isDelayChanged&&(a={changeType:t,items:o},s&&(a.removeCount=s.itemsCount,a.removeCount&&r.correctCount&&(a.removeCount=r.correctCount(d,a.removeCount,l))));let c=s?s.itemsLength:0;c&&r.correctCount&&(c=r.correctCount(d,c,l)),t==="append"?(d.push.apply(d,o),s&&d.splice(0,c)):l?(d.unshift.apply(d,o),s&&d.splice(-c)):i._dataOptions.viewportItems(o),r.updateLoading(),i._lastPageIndex=i.pageIndex(),i._isDelayChanged=n,n||Yg(i,e,a)};class Ode{constructor(e,t){this._dataOptions=t,this._controller=e,this._pageIndex=this._lastPageIndex=t.pageIndex(),this._cache=[],this._loadingPageIndexes={}}option(){return this._controller.option.apply(this._controller,arguments)}viewportItemIndexChanged(e){const t=this._dataOptions.pageSize(),n=this._dataOptions.pageCount(),s=this._controller.isVirtualMode(),r=this._controller.isAppendMode(),o=this._dataOptions.totalItemsCount();let a;if(t&&(s||r)&&o>=0){const l=this._controller.viewportSize();if(l&&e+l>=o&&!this._controller.isVirtual())if(this._dataOptions.hasKnownLastPage()){a=n-1;const d=o%t;a>0&&d>0&&d<l&&a--}else a=n;else{a=Math.floor(e/t);const d=n-1;a=Math.max(a,0),a=Math.min(a,d)}return this.pageIndex(a),this.load()}}pageIndex(e){const t=this._controller.isVirtualMode(),n=this._controller.isAppendMode();return this.option(Wx)!==!1&&(t||n)?(e!==void 0&&(this._pageIndex=e),this._pageIndex):this._dataOptions.pageIndex(e)}beginPageIndex(e){let t=Bm(this);return t<0&&(t=e!==void 0?e:this.pageIndex()),t}endPageIndex(){const e=RC(this);return e>0?e:this._lastPageIndex}pageSize(){return this._dataOptions.pageSize()}load(){const e=this._dataOptions;let t;const n=this._controller.isVirtualMode(),s=this._controller.isAppendMode();if(this.option(Wx)!==!1&&(n||s)){const r=Ade(this);if(r>=0){const o=kde(this,r);o&&(t=new de,o.done(()=>{const a=this._delayDeferred;a?a.done(t.resolve).fail(t.reject):t.resolve()}).fail(t.reject),e.updateLoading())}}else t=e.load();return!t&&this._lastPageIndex!==this.pageIndex()&&this._dataOptions.onChanged({changeType:"pageIndex"}),t||new de().resolve()}loadIfNeed(){const e=this._controller.isVirtualMode(),t=this._controller.isAppendMode();if((e||t)&&!this._dataOptions.isLoading()&&(!this._isChangedFiring||this._controller.isVirtual())){const n=this._controller.getViewportPosition();n>0?this._controller._setViewportPositionCore(n):this.load()}}handleDataChanged(e,t){const n=this._dataOptions;let s=this._cache.length,r,o;const a=this._controller.isVirtualMode(),l=this._controller.isAppendMode();if(t&&t.changes)Yg(this,e,t);else if(this.option(Wx)!==!1&&(a||l)){const d=Bm(this);if(d>=0&&(a&&d+this._cache.length!==n.pageIndex()&&d-1!==n.pageIndex()&&(s=0,this._cache=[]),l)){if(n.pageIndex()===0)this._cache=[];else if(n.pageIndex()<RC(this)){Yg(this,e,{changeType:"append",items:[]});return}}const c={pageIndex:n.pageIndex(),itemsLength:n.items(!0).length,itemsCount:this.itemsCount(!0)};this.option("scrolling.removeInvisiblePages")&&a?o=this._cache.length>Math.max(Nm(this)+(this.option("scrolling.preloadEnabled")?1:0),2):bk(this,e,{isDelayed:!0});let h;d===n.pageIndex()+1?(o&&(h=this._cache.pop()),r="prepend",this._cache.unshift(c)):(o&&(h=this._cache.shift()),r="append",this._cache.push(c));const u=a&&s===0&&TB(this);yk(this,e,this._cache.length>1?r:void 0,u,h),this._delayDeferred=this.load().done(()=>{bk(this,e)&&this.load()})}else yk(this,e,t)}getDelayDeferred(){return this._delayDeferred}itemsCount(e){let t=0;const n=this._controller.isVirtualMode();return!e&&n?this._cache.forEach(s=>{t+=s.itemsCount}):t=this._dataOptions.itemsCount(),t}virtualItemsCount(){let e=Bm(this);e<0&&(e=this._dataOptions.pageIndex());const t=e*this._dataOptions.pageSize(),n=this._cache.length*this._dataOptions.pageSize(),s=Math.max(0,this._dataOptions.totalItemsCount()-n-t);return{begin:t,end:s}}reset(){this._loadingPageIndexes={},this._cache=[]}}const em="scrolling.legacyMode",Ck=i=>i.option("scrolling.mode")==="virtual"||i._isVirtual,Rde=i=>i.option("scrolling.mode")==="infinite"&&!i._isVirtual;function DB(i,e,t){let n;const s=[],r=[];t=t||i;function o(c){const h=c.element?c.$element():c,u=lr.offset(h);return u?c.scrollTop()-(u.top-i.offset().top):i.offset().top}const a={on(c,h,u){c.on("scroll",u)},off(c,h,u){c.off("scroll",u)}};function l(c){const h=c.get(0).nodeName==="#document",u=c.get(0).nodeType===bt().Node.ELEMENT_NODE;let p=c.data("dxScrollable"),f=a;if(!p&&(p=h&&M(bt())||u&&c.css("overflowY")==="auto"&&c,f=Y,!p))return;const g=function(m){return function(){let v=m.scrollTop()-o(m);v=v>0?v:0,e(v)}}(p);f.on(p,"scroll",g),s.push(m=>{const v=o(p),_=p.scrollTo?"scrollTo":"scrollTop";m-v>=0&&p[_](m+v)}),r.push(()=>{f.off(p,"scroll",g)})}const d=c=>M(c.get(0).parentNode??c.get(0).host);for(n=t.parent();n.length;n=d(n))l(n);return{scrollTo(c){ie(s,(h,u)=>{u(c)})},dispose(){ie(r,(c,h)=>{h()})}}}class AB{constructor(e,t,n){this._dataOptions=t,this.component=e,this._viewportSize=e.option(em)===!1?15:0,this._viewportItemSize=20,this._viewportItemIndex=0,this._position=0,this._isScrollingBack=!1,this._contentSize=0,this._itemSizes={},this._sizeRatio=1,this._isVirtual=n,this.positionChanged=Bt(),this._dataLoader=new Ode(this,this._dataOptions)}getItemSizes(){return this._itemSizes}option(e,t){return this.component.option.apply(this.component,arguments)}isVirtual(){return this._isVirtual}virtualItemsCount(){if(Ck(this)){const e=this._dataOptions,t=e.totalItemsCount();if(this.option(em)===!1&&t!==-1){const n=this.getViewportParams(),s=e.loadedOffset(),r=e.loadedItemCount(),o=Math.max(n.skip,s),a=Math.min(n.take,r),l=Math.max(t-(o+a),0);return{begin:o,end:l}}return this._dataLoader.virtualItemsCount.apply(this._dataLoader,arguments)}}getScrollingTimeout(){const e=this.option("scrolling.renderAsync");let t=0;return G(e)?e&&(t=this.option("scrolling.timeout")??0):(t=Math.min(this.option("scrolling.timeout")||0,this._dataOptions.changingDuration()),t<this.option("scrolling.renderingThreshold")&&(t=this.option("scrolling.minTimeout")||0)),t}setViewportPosition(e){const t=new de,n=this.getScrollingTimeout();return clearTimeout(this._scrollTimeoutID),n>0?this._scrollTimeoutID=setTimeout(()=>{this._setViewportPositionCore(e),t.resolve()},n):(this._setViewportPositionCore(e),t.resolve()),t.promise()}getViewportPosition(){return this._position}getItemIndexByPosition(e,t,n){e=e??this._position;const s=this.getItemSize();let r=0,o=0;const a=Object.keys(this._itemSizes).concat(-1);for(let l=0;l<a.length&&r<e;l++){const d=parseInt(a[l]);let c=(e-r)/s;if(d<0||o+c<d){o+=c,this._sizeRatio<1&&G(t)&&(o=t+n/this._viewportItemSize);break}else c=d-o,r+=c*s,o+=c;const h=this._itemSizes[d];r+=h,o+=r<e?1:(e-r+h)/h}return Math.round(50*o)/50}isScrollingBack(){return this._isScrollingBack}_setViewportPositionCore(e){const t=this._position||0;this._position=e,t!==this._position&&(this._isScrollingBack=this._position<t);const n=this.getItemIndexByPosition(),s=this.setViewportItemIndex(n);return this.positionChanged.fire(),s}setContentItemSizes(e){const t=this.virtualItemsCount();if(this._contentSize=e.reduce((n,s)=>n+s,0),t){e.forEach((r,o)=>{this._itemSizes[t.begin+o]=r});const n=(t.begin+t.end+this.itemsCount())*this._viewportItemSize,s=xe.getContentHeightLimit(gn);n>s?this._sizeRatio=s/n:this._sizeRatio=1}}getItemSize(){return this._viewportItemSize*this._sizeRatio}getItemOffset(e,t){const n=this.virtualItemsCount();let s=e;if(!n)return 0;let r=0;const o=this._dataOptions.totalItemsCount();return Object.keys(this._itemSizes).forEach(a=>{s&&(t?a>=o-e:a<e)&&(r+=this._itemSizes[a],s--)}),Math.floor(r+s*this._viewportItemSize*this._sizeRatio)}getContentOffset(e){const t=e==="end",n=this.virtualItemsCount();return n?this.getItemOffset(t?n.end:n.begin,t):0}getVirtualContentSize(){return this.virtualItemsCount()?this.getContentOffset("begin")+this.getContentOffset("end")+this._contentSize:0}getViewportItemIndex(){return this._viewportItemIndex}setViewportItemIndex(e){if(this._viewportItemIndex=e,this.option(em)!==!1)return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader,arguments)}viewportItemSize(e){return e!==void 0&&(this._viewportItemSize=e),this._viewportItemSize}viewportSize(e){return e!==void 0&&(this._viewportSize=e),this._viewportSize}viewportHeight(e,t){const n=t??this._position,s=this.getItemIndexByPosition(n),r=this.getItemIndexByPosition(n+e,s,e);this.viewportSize(Math.ceil(r-s)),!G(t)&&this._viewportItemIndex!==s&&this._setViewportPositionCore(n)}reset(e){this._dataLoader.reset(),e||(this._itemSizes={})}subscribeToWindowScrollEvents(e){this._windowScroll=this._windowScroll||DB(e,t=>{this.viewportItemSize()&&this.setViewportPosition(t)})}dispose(){clearTimeout(this._scrollTimeoutID),this._windowScroll&&this._windowScroll.dispose(),this._windowScroll=null}scrollTo(e){this._windowScroll&&this._windowScroll.scrollTo(e)}isVirtualMode(){return Ck(this)}isAppendMode(){return Rde(this)}getViewportParams(){const e=this.option("scrolling.mode")==="virtual",t=this._dataOptions.totalItemsCount(),s=this._dataOptions.hasKnownLastPage()&&this._viewportItemIndex>t?t:this._viewportItemIndex,r=this._viewportSize+s,o=this.option("scrolling.prerenderedRowChunkSize")||1,a=this.isScrollingBack(),l=this.option("scrolling.prerenderedRowCount")??1,d=a?l:0,c=a?0:l,h=Math.floor(Math.max(0,s-d)/o)*o;let u=Math.ceil((r+c-h)/o)*o;if(e){const p=Math.max(0,t-h);u=Math.min(u,p)}return{skip:h,take:u}}itemsCount(){let e=0;return this.option(em)?e=this._dataLoader.itemsCount.apply(this._dataLoader,arguments):e=this._dataOptions.itemsCount(),e}pageIndex(){return this._dataLoader.pageIndex(...arguments)}beginPageIndex(){return this._dataLoader.beginPageIndex(...arguments)}endPageIndex(){return this._dataLoader.endPageIndex(...arguments)}pageSize(){return this._dataLoader.pageSize(...arguments)}load(){return this._dataLoader.load(...arguments)}loadIfNeed(){return this._dataLoader.loadIfNeed(...arguments)}handleDataChanged(){return this._dataLoader.handleDataChanged(...arguments)}getDelayDeferred(){return this._dataLoader.getDelayDeferred()}}const kB="dx-freespace-row",Pde="dx-row-inserted",It="scrolling.legacyMode",Mde=["beginPageIndex","endPageIndex","pageIndex"],$i=function(i){return i.option("scrolling.mode")==="virtual"},qr=function(i){return i.option("scrolling.mode")==="infinite"},_r=function(i){return $i(i)||qr(i)},wk=function(i,e,t,n){for(let s=0;s<e+1;s++){const r=i[t?i.length-1-s:s];r&&!n(r,s===e,t)&&e++}return e},Vm=function(i,e){return i.rowType==="data"&&!i.isNewRow||i.rowType==="group"&&e.isGroupItemCountable(i.data)},Fde=function(i){return i.forEach((e,t)=>{e.rowIndex=t}),i},Ux=function(i){const e=i._virtualScrollController.beginPageIndex(-1);$i(i)&&(e<0||i.viewportSize()>=0&&i.getViewportItemIndex()>=0&&(e*i.pageSize()>i.getViewportItemIndex()||e*i.pageSize()+i.itemsCount()<i.getViewportItemIndex()+i.viewportSize())&&i._dataSource.isLoading()?i._isLoading||(i._isLoading=!0,i.loadingChanged.fire(!0)):i._isLoading&&(i._isLoading=!1,i.loadingChanged.fire(!1)))},Mi=function(i,e,t){if(i.option(It)===!1&&Mde.includes(e)){const s=i._dataSource;return s.pageIndex.apply(s,t)}const n=i._virtualScrollController;return n[e].apply(n,t)},Sk=function(i,e){const t=i.toArray().map(s=>M(s).parent(`.${e}`).get(0)).filter(s=>s);t.length&&(i=M(t));const n=e===kB?i.length-1:i.length;for(let s=0;s<n;s++)i.eq(s).remove()},Bde=i=>class extends i{init(){super.init.apply(this,arguments),this._items=[],this._totalCount=-1,this._isLoaded=!0,this._loadPageCount=1,this._virtualScrollController=new AB(this.component,this._getVirtualScrollDataOptions())}dispose(){this._virtualScrollController.dispose(),super.dispose.apply(this,arguments)}_getVirtualScrollDataOptions(){const e=this;return{pageSize:()=>e.pageSize(),totalItemsCount:()=>e.totalItemsCount(),hasKnownLastPage:()=>e.hasKnownLastPage(),pageIndex:t=>e._dataSource.pageIndex(t),isLoading:()=>e._dataSource.isLoading()&&!e.isCustomLoading(),pageCount:()=>e.pageCount(),load:()=>e._dataSource.load(),updateLoading(){Ux(e)},itemsCount:()=>e.itemsCount(!0),items:()=>e._dataSource.items(),viewportItems(t){return t&&(e._items=t),e._items},onChanged(t){e.changed.fire(t)},changingDuration(){return e.isLoading()?300:e._renderTime||0}}}_handleLoadingChanged(e){if(this.option(It)===!1){super._handleLoadingChanged.apply(this,arguments);return}(!$i(this)||this._isLoadingAll)&&(this._isLoading=e,super._handleLoadingChanged.apply(this,arguments)),e?this._startLoadTime=new Date:this._startLoadTime=void 0}_handleLoadError(){this.option(It)!==!1&&(this._isLoading=!1,this.loadingChanged.fire(!1)),super._handleLoadError.apply(this,arguments)}_handleDataChanged(e){if(this.option(It)===!1){this._items=this._dataSource.items().slice(),this._totalCount=this._dataSourceTotalCount(!0),super._handleDataChanged.apply(this,arguments);return}const t=super._handleDataChanged.bind(this);this._virtualScrollController.handleDataChanged(t,e)}_customizeRemoteOperations(e,t){const n=this.option(It)===!1;let s=this.option("scrolling.renderAsync");G(s)||(s=this._renderTime>=this.option("scrolling.renderingThreshold")),($i(this)||qr(this)&&n)&&!t.reload&&(t.skip||n)&&!s&&(e.delay=void 0),super._customizeRemoteOperations.apply(this,arguments)}items(){return this._items}_dataSourceTotalCount(e){return this.option(It)===!1&&$i(this)&&!e?this._totalCount:super._dataSourceTotalCount()}itemsCount(e){return e||this.option(It)===!1?super.itemsCount():this._virtualScrollController.itemsCount()}load(e){return this.option(It)===!1||e?super.load(e):this._virtualScrollController.load()}isLoading(){return this.option(It)===!1?this._dataSource.isLoading():this._isLoading}isLoaded(){return this._dataSource.isLoaded()&&this._isLoaded}resetPagesCache(e){e||this._virtualScrollController.reset(!0),super.resetPagesCache.apply(this,arguments)}_changeRowExpandCore(){const e=super._changeRowExpandCore.apply(this,arguments);return this.option(It)===!1||(this.resetPagesCache(),Ux(this)),e}reload(){this._dataSource.pageIndex(this.pageIndex());const e=this._virtualScrollController;if(this.option(It)!==!1&&e){const t=new de;return super.reload.apply(this,arguments).done(n=>{const s=e.getDelayDeferred();s?s.done(t.resolve).fail(t.reject):t.resolve(n)}).fail(t.reject),t}return super.reload.apply(this,arguments)}refresh(e,t){if(this.option(It)!==!1){const{storeLoadOptions:n}=e,s=this._dataSource;t.reload?(this._virtualScrollController.reset(),s.items().length=0,this._isLoaded=!1,Ux(this),this._isLoaded=!0,qr(this)?(this.pageIndex(0),s.pageIndex(0),n.pageIndex=0,e.pageIndex=0,n.skip=0):(s.pageIndex(this.pageIndex()),s.paginate()&&(e.pageIndex=this.pageIndex(),n.skip=this.pageIndex()*this.pageSize()))):qr(this)&&n.skip&&this._totalCountCorrection<0&&(n.skip+=this._totalCountCorrection)}return super.refresh.apply(this,arguments)}loadPageCount(e){if(!G(e))return this._loadPageCount;this._loadPageCount=e}_handleDataLoading(e){const t=this.loadPageCount(),n=this.pageSize(),s=this.option(It)===!1,{storeLoadOptions:r}=e,o=G(r.take);e.loadPageCount=t,!e.isCustomLoading&&s&&o&&t>1&&n>0&&(r.take=t*n),super._handleDataLoading.apply(this,arguments)}_loadPageSize(){return super._loadPageSize.apply(this,arguments)*this.loadPageCount()}beginPageIndex(){return Mi(this,"beginPageIndex",[...arguments])}endPageIndex(){return Mi(this,"endPageIndex",[...arguments])}pageIndex(e){return Mi(this,"pageIndex",[...arguments])}virtualItemsCount(){return Mi(this,"virtualItemsCount",[...arguments])}getContentOffset(){return Mi(this,"getContentOffset",[...arguments])}getVirtualContentSize(){return Mi(this,"getVirtualContentSize",[...arguments])}setContentItemSizes(){return Mi(this,"setContentItemSizes",[...arguments])}setViewportPosition(){return Mi(this,"setViewportPosition",[...arguments])}getViewportItemIndex(){return Mi(this,"getViewportItemIndex",[...arguments])}setViewportItemIndex(e){return Mi(this,"setViewportItemIndex",[...arguments])}getItemIndexByPosition(){return Mi(this,"getItemIndexByPosition",[...arguments])}viewportSize(){return Mi(this,"viewportSize",[...arguments])}viewportItemSize(){return Mi(this,"viewportItemSize",[...arguments])}getItemSize(){return Mi(this,"getItemSize",[...arguments])}getItemSizes(){return Mi(this,"getItemSizes",[...arguments])}loadIfNeed(){return Mi(this,"loadIfNeed",[...arguments])}},Nde=i=>class extends i{dispose(){const e=this._rowsScrollController;e&&e.dispose(),super.dispose.apply(this,arguments)}_refreshDataSource(){const e=super._refreshDataSource.apply(this,arguments)||new de().resolve().promise();return e.done(this.initVirtualRows.bind(this)),e}_loadDataSource(){if(this._rowsScrollController&&_r(this)){var e;const{loadPageCount:t}=G(this._loadViewportParams)?this.getLoadPageParams():{loadPageCount:0};t>=1&&((e=this._dataSource)===null||e===void 0||e.loadPageCount(t))}return super._loadDataSource.apply(this,arguments)}getRowPageSize(){const e=this.option("scrolling.rowPageSize"),t=this.pageSize();return t&&t<e?t:e}reload(){const e=this._rowsScrollController||this._dataSource,t=e==null?void 0:e.getItemIndexByPosition(),n=super.reload.apply(this,arguments);return n==null?void 0:n.done(()=>{if($i(this)||xe.isVirtualRowRendering(this)){const r=this.getRowIndexOffset(),o=Math.floor(t)-r,{component:a}=this,l=a.getScrollable&&a.getScrollable(),d=this.dataSource().operationTypes().sorting;if(l&&!d&&o>=0){var s;const c=a.getRowElement(o),h=(c==null?void 0:c[0])&&M(c[0]);let u=h==null||(s=h.position())===null||s===void 0?void 0:s.top;const p=gn.chrome&&Number(gn.version??0)>=91,f=gn.mozilla||p?1:0;u&&u>f&&(u=Math.round(u+gt(h)*(t%1)),l.scrollTo({y:u}))}}})}initVirtualRows(){const e=xe.isVirtualRowRendering(this);if(this._allItems=null,this._loadViewportParams=null,this.option("scrolling.mode")!=="virtual"&&!e||!e||this.option(It)!==!1&&!this.option("scrolling.rowPageSize")){this._visibleItems=null,this._rowsScrollController=null;return}const t=!$i(this)&&this.pageIndex()>=this.pageCount()?this.pageCount()-1:this.pageIndex();this._rowPageIndex=Math.ceil(t*this.pageSize()/this.getRowPageSize()),this._visibleItems=this.option(It)===!1?null:[],this._viewportChanging=!1,this._needUpdateViewportAfterLoading=!1,this._rowsScrollController||(this._rowsScrollController=new AB(this.component,this._getRowsScrollDataOptions(),!0),this._rowsScrollController.positionChanged.add(()=>{var n;if(this.option(It)===!1){this._viewportChanging=!0,this.loadViewport(),this._viewportChanging=!1;return}(n=this._dataSource)===null||n===void 0||n.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())})),this.option(It)===!1&&this._updateLoadViewportParams(),this.isLoaded()&&this.option(It)!==!1&&this._rowsScrollController.load()}_getRowsScrollDataOptions(){const e=this,t=function(n){return Vm(n,e._dataSource)};return{pageSize:()=>e.getRowPageSize(),loadedOffset(){var n;return $i(e)&&((n=e._dataSource)===null||n===void 0?void 0:n.lastLoadOptions().skip)||0},loadedItemCount:()=>e._itemCount,totalItemsCount(){return _r(e)?e.totalItemsCount():e.option(It)===!1?e._itemCount:e._items.filter(t).length},hasKnownLastPage:()=>e.option(It)===!1?e.hasKnownLastPage():!0,pageIndex(n){return n!==void 0&&(e._rowPageIndex=n),e._rowPageIndex},isLoading:()=>e.isLoading(),pageCount(){return Math.ceil(this.totalItemsCount()/this.pageSize())||1},load(){e._rowsScrollController.pageIndex()>=this.pageCount()&&(e._rowPageIndex=this.pageCount()-1,e._rowsScrollController.pageIndex(e._rowPageIndex)),!(!this.items().length&&this.totalItemsCount())&&e._rowsScrollController.handleDataChanged(n=>{n=n||{},n.changeType=n.changeType||"refresh",n.items=n.items||e._visibleItems,e._visibleItems.forEach((s,r)=>{s.rowIndex=r}),e._fireChanged(n)})},updateLoading(){},itemsCount(){return this.items(!0).length},correctCount:(n,s,r)=>wk(n,s,r,(o,a,l)=>o.isNewRow?a&&!l:a&&l?!o.isNewRow:t(o)),items(n){let s=e._items;if(e.option(It)){const r=e.dataSource(),o=r==null?void 0:r.virtualItemsCount(),a=o?o.begin:0,l=e.getRowPageSize();let d=e._rowPageIndex*l-a,c=l;if(d<0)return[];d&&(d=this.correctCount(s,d),s=s.slice(d)),c&&(c=this.correctCount(s,c),s=s.slice(0,c))}return n?s.filter(t):s},viewportItems(n){return n&&e.option(It)!==!1&&(e._visibleItems=n),e._visibleItems},onChanged(){},changingDuration(){const n=e.dataSource();return n!=null&&n.isLoading()&&e.option(It)!==!1?300:(n==null?void 0:n._renderTime)||0}}}_updateItemsCore(e){const t=this.getRowIndexDelta();if(super._updateItemsCore.apply(this,arguments),this.option(It)===!1&&xe.isVirtualRowRendering(this)){e.changeType==="update"&&e.rowIndices.length===0&&e.cancelEmptyChanges&&(e.cancel=!0);return}const n=this._rowsScrollController;if(n){const s=this._visibleItems,r=e.changeType==="refresh"||e.isLiveUpdate;if(e.changeType==="append"&&e.items&&!e.items.length)return;r||e.changeType==="append"||e.changeType==="prepend"?(e.cancel=!0,r&&n.reset(!0),n.load()):(e.changeType==="update"?e.rowIndices.forEach((o,a)=>{const l=e.changeTypes[a],d=e.items[a];l==="update"?s[o]=d:l==="insert"?s.splice(o,0,d):l==="remove"&&s.splice(o,1)}):(s.forEach((o,a)=>{s[a]=this._items[a+t]||s[a]}),e.items=s),Fde(s))}}_updateLoadViewportParams(){const e=this._rowsScrollController.getViewportParams(),t=this.pageSize();if(e&&!_r(this)&&t>0){const n=this.pageIndex()*t;e.skip+=n}this._loadViewportParams=e}_processItems(){const e=super._processItems.apply(this,arguments);if(this.option(It)===!1){const t=this._dataSource;let n=(t==null?void 0:t.lastLoadOptions().skip)??0,s,r,o,a=!1,l=[];e.forEach(d=>{const{rowType:c}=d,h=Vm(d,t),u=c==="group"&&(s||h||r!=="group"&&n>0),p=c==="data"&&h&&(s||r!=="group");!d.isNewRow&&G(s)&&(u||p)&&!(o&&!a)&&n++,(u||p)&&(a=!0),d.isNewRow?l.push(d):(l.forEach(f=>{f.loadIndex=n}),l=[]),d.loadIndex=n,s=h,r=c,o=d.isNewRow}),l.forEach(d=>{d.loadIndex=n})}return e}_afterProcessItems(e){if(this._itemCount=e.filter(t=>Vm(t,this._dataSource)).length,G(this._loadViewportParams)){this._updateLoadViewportParams();let t=e;if(this._allItems=e,e.length){const{skipForCurrentPage:n}=this.getLoadPageParams(!0),s=e[0].loadIndex+n,{take:r}=this._loadViewportParams;t=e.filter(o=>{const a=o.isNewRow&&o.loadIndex===s&&r===0,l=o.loadIndex>=s,d=o.loadIndex<s+r||a;return l&&d})}return t}return super._afterProcessItems.apply(this,arguments)}_applyChange(e){const t=this,{items:n}=e,{changeType:s}=e;let{removeCount:r}=e;if(r){const o=s==="prepend";r=wk(t._items,r,o,(a,l)=>a.rowType==="data"&&!a.isNewRow||a.rowType==="group"&&(t._dataSource.isGroupItemCountable(a.data)||l)),e.removeCount=r}switch(s){case"prepend":t._items.unshift.apply(t._items,n),r&&t._items.splice(-r);break;case"append":t._items.push.apply(t._items,n),r&&t._items.splice(0,r);break;default:super._applyChange(e)}}items(e){return e?this._allItems||this._items:this._visibleItems||this._items}getRowIndexDelta(){let e=0;if(this.option(It)){const t=this._visibleItems;t!=null&&t[0]&&(e=this._items.indexOf(t[0]))}return e<0?0:e}getRowIndexOffset(e,t){let n=0;const s=this.dataSource(),r=this._rowsScrollController,o=this.option(It)===!1,a=_r(this);if(r&&!e)if(o&&G(this._loadViewportParams)){const{skipForCurrentPage:d,pageIndex:c}=this.getLoadPageParams(!0),h=this.items(!0);if(n=a?c*this.pageSize():0,h.length){const u=h[0].loadIndex;n+=h.filter(p=>p.loadIndex<u+d).length}}else n=r.beginPageIndex()*r.pageSize();else if(a&&o&&s){var l;const d=s.lastLoadOptions();t&&(l=d.skips)!==null&&l!==void 0&&l.length?n=d.skips.reduce((c,h)=>c+h,0):n=d.skip??0}else $i(this)&&s&&(n=s.beginPageIndex()*s.pageSize());return n}getDataIndex(){return this.option(It)===!1?this.getRowIndexOffset(!0,!0):super.getDataIndex.apply(this,arguments)}viewportSize(){const e=this._rowsScrollController,t=this._dataSource,n=e==null?void 0:e.viewportSize.apply(e,arguments);return this.option(It)===!1?n:t==null?void 0:t.viewportSize.apply(t,arguments)}viewportHeight(e,t){var n;(n=this._rowsScrollController)===null||n===void 0||n.viewportHeight(e,t)}viewportItemSize(){const e=this._rowsScrollController,t=this._dataSource,n=e==null?void 0:e.viewportItemSize.apply(e,arguments);return this.option(It)===!1?n:t==null?void 0:t.viewportItemSize.apply(t,arguments)}setViewportPosition(){const e=this._rowsScrollController,t=this._dataSource;this._isPaging=!1,e?e.setViewportPosition.apply(e,arguments):t==null||t.setViewportPosition.apply(t,arguments)}setContentItemSizes(e){const t=this._rowsScrollController,n=this._dataSource,s=t==null?void 0:t.setContentItemSizes(e);return this.option(It)===!1?s:n==null?void 0:n.setContentItemSizes(e)}getPreloadedRowCount(){const e=this.option("scrolling.preloadedRowCount"),t=this.option("scrolling.preloadEnabled");if(G(e))return e;const n=this.viewportSize();return t?2*n:n}getLoadPageParams(e){var t,n;const s=this.pageSize(),r=this._loadViewportParams,o=(t=this._dataSource)===null||t===void 0?void 0:t.lastLoadOptions(),a=(o==null?void 0:o.pageIndex)||0,l=(o==null?void 0:o.take)||0,d=this._rowsScrollController.isScrollingBack(),c=d?this.getPreloadedRowCount():0,h=d?0:this.getPreloadedRowCount(),u=((n=this._dataSource)===null||n===void 0?void 0:n.totalCountCorrection())||0,p=Math.max(0,r.skip-c),f=e?a:Math.floor(s?p/s:0),g=f*s,m=r.skip-g,v=r.take+m+h-u,x=Math.ceil(s?(e?l:v)/s:0);return{pageIndex:f,loadPageCount:Math.max(1,x),skipForCurrentPage:Math.max(0,m)}}_updateVisiblePageIndex(e){if(!this._rowsScrollController)return;if(G(e)){this._silentOption("paging.pageIndex",e),this.pageChanged.fire();return}const t=this._rowsScrollController.getViewportItemIndex(),n=Math.floor(t/this.pageSize());this.pageIndex()!==n&&(this._silentOption("paging.pageIndex",n),this.updateItems({changeType:"pageIndex"}))}_getChangedLoadParams(){const e=this.getLoadPageParams(!0),{pageIndex:t,loadPageCount:n}=this.getLoadPageParams(),s=this._pageIndexIsValid(t);let r=null;return!this._isLoading&&s&&(t!==e.pageIndex||n!==e.loadPageCount)&&(r={pageIndex:t,loadPageCount:n}),r}_pageIndexIsValid(e){let t=!0;return(qr(this)&&this.hasKnownLastPage()||$i(this))&&(t=e*this.pageSize()<this.totalItemsCount()),t}_loadItems(e,t){const n=_r(this),s=this._dataSource,r=this._getChangedLoadParams(),o=(s==null?void 0:s.loadPageCount())??0,a=this.pageSize()*o,l=(s==null?void 0:s.pageIndex())??0,d=(r==null?void 0:r.pageIndex)===l,c=qr(this)&&this.totalItemsCount()<a,h=this.option("editing.refreshMode")==="repaint",u=(r==null?void 0:r.pageIndex)>l;let p=!1;if(!s||n&&e&&(h&&t||u||d&&c))return p;if(n&&this._isLoading&&(this._needUpdateViewportAfterLoading=!0),n&&r){p=!0,s.pageIndex(r.pageIndex),s.loadPageCount(r.loadPageCount),this._repaintChangesOnly=!0,this._needUpdateDimensions=!0;const f=this._viewportChanging;this.load().always(()=>{this._repaintChangesOnly=void 0,this._needUpdateDimensions=void 0}).done(()=>{const g=this.pageCount()>0&&this.pageIndex()===this.pageCount()-1;(f||g)&&this._updateVisiblePageIndex(),this._needUpdateViewportAfterLoading&&(this._needUpdateViewportAfterLoading=!1,this.loadViewport({checkLoadedParamsOnly:!0}))})}return p}loadViewport(e){const{checkLoadedParamsOnly:t,checkLoading:n,viewportIsNotFilled:s}=e??{};if(_r(this)||xe.isVirtualRowRendering(this)){var o;this._updateLoadViewportParams();const l=this._loadItems(n,!s),d=(o=this._dataSource)===null||o===void 0?void 0:o.isCustomLoading(),c=n&&!d&&this._isLoading;if(!(l||c||t)){var a;const u=!((a=this._editingController)!==null&&a!==void 0&&(a=a.getChanges())!==null&&a!==void 0&&a.length);this.updateItems({repaintChangesOnly:!0,needUpdateDimensions:!0,useProcessedItemsCache:u,cancelEmptyChanges:!0})}}}updateViewport(){var e;const t=this.viewportSize(),n=this.items().length,s=t>n,r=((e=this._loadViewportParams)===null||e===void 0?void 0:e.take)??0,o=this._rowsScrollController,a=o==null?void 0:o.getViewportParams().take;(s||r<a)&&!this._isPaging&&n&&this.loadViewport({checkLoading:!0,viewportIsNotFilled:s})}loadIfNeed(){if(this.option(It)===!1)return;const e=this._rowsScrollController;e&&e.loadIfNeed();const t=this._dataSource;return t==null?void 0:t.loadIfNeed()}getItemSize(){const e=this._rowsScrollController;if(e)return e.getItemSize.apply(e,arguments);const t=this._dataSource;return t==null?void 0:t.getItemSize.apply(t,arguments)}getItemSizes(){const e=this._rowsScrollController;if(e)return e.getItemSizes.apply(e,arguments);const t=this._dataSource;return t==null?void 0:t.getItemSizes.apply(t,arguments)}getContentOffset(){const e=this._rowsScrollController;if(e)return e.getContentOffset.apply(e,arguments);const t=this._dataSource;return t==null?void 0:t.getContentOffset.apply(t,arguments)}refresh(e){const t=this._dataSource;return t&&e!==null&&e!==void 0&&e.load&&qr(this)&&t.resetCurrentTotalCount(),super.refresh.apply(this,arguments)}topItemIndex(){var e;return(e=this._loadViewportParams)===null||e===void 0?void 0:e.skip}bottomItemIndex(){const e=this._loadViewportParams;return e&&e.skip+e.take}virtualItemsCount(){const e=this._rowsScrollController;if(e)return e.virtualItemsCount.apply(e,arguments);const t=this._dataSource;return t==null?void 0:t.virtualItemsCount.apply(t,arguments)}pageIndex(e){const t=_r(this),n=this._rowsScrollController;return this.option(It)===!1&&t&&n&&e===void 0?this.option("paging.pageIndex")??0:super.pageIndex.apply(this,arguments)}_fireChanged(e){super._fireChanged.apply(this,arguments);const{operationTypes:t}=e;if(this.option(It)===!1&&_r(this)&&t){const{fullReload:n,pageIndex:s}=t;e.isDataChanged&&!n&&s&&this._updateVisiblePageIndex(this._dataSource.pageIndex())}}_getPagingOptionValue(e){let t=super._getPagingOptionValue.apply(this,arguments);return this.option(It)===!1&&_r(this)&&(t=this[e]()),t}isEmpty(){return this.option(It)===!1?!this.items(!0).length:super.isEmpty.apply(this,arguments)}isLastPageLoaded(){let e=!1;if(this.option(It)===!1&&_r(this)){const{pageIndex:t,loadPageCount:n}=this.getLoadPageParams(!0),s=this.pageCount();e=t+n>=s}else e=super.isLastPageLoaded.apply(this,arguments);return e}reset(){this._itemCount=0,this._allItems=null,super.reset.apply(this,arguments)}_applyFilter(){var e;return(e=this._dataSource)===null||e===void 0||e.loadPageCount(1),super._applyFilter.apply(this,arguments)}getVirtualContentSize(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.getVirtualContentSize.apply(this._dataSource,arguments)}setViewportItemIndex(){var e;return(e=this._dataSource)===null||e===void 0?void 0:e.setViewportItemIndex.apply(this._dataSource,arguments)}isViewportChanging(){return this._viewportChanging||super.isViewportChanging()}},Vde=i=>class extends i{dispose(){super.dispose.apply(this,arguments),clearTimeout(this._resizeTimeout)}_updateMasterDataGridCore(e){return Ae(super._updateMasterDataGridCore.apply(this,arguments)).done(t=>{const n=$i(e)&&e.option(It)===!1;!t&&n&&e.getScrollable()&&e.updateDimensions()})}hasResizeTimeout(){return G(this._resizeTimeout)}resetLastResizeTime(){this._lastTime=void 0}resize(){let e;if($i(this)||xe.isVirtualRowRendering(this)){clearTimeout(this._resizeTimeout),this._resizeTimeout=null;const t=new Date-this._lastTime,n=this.option("scrolling.updateTimeout");this._lastTime&&t<n?(e=new de,this._resizeTimeout=setTimeout(()=>{this._resizeTimeout=null,super.resize.apply(this).done(e.resolve).fail(e.reject),this._lastTime=new Date},n),this._lastTime=new Date):(e=super.resize.apply(this),this._dataController.isLoaded()&&(this._lastTime=new Date))}else e=super.resize.apply(this);return e}},Lde=i=>class extends i{init(){var e;super.init(),this._dataController.pageChanged.add(t=>{const n=this._scrollTop;this.scrollToPage(t??this._dataController.pageIndex()),this.option(It)===!1&&this._scrollTop===n&&this._dataController.updateViewport()}),this._dataController.dataSourceChanged.add(()=>{!this._scrollTop&&this._scrollToCurrentPageOnResize()}),(e=this._dataController.stateLoaded)===null||e===void 0||e.add(()=>{this._scrollToCurrentPageOnResize()}),this._scrollToCurrentPageOnResize()}dispose(){clearTimeout(this._scrollTimeoutID),super.dispose()}_scrollToCurrentPageOnResize(){if(this._dataController.pageIndex()>0){const e=()=>{this.resizeCompleted.remove(e),this.scrollToPage(this._dataController.pageIndex())};this.resizeCompleted.add(e)}}scrollToPage(e){const t=this._dataController?this._dataController.pageSize():0;let n;if($i(this)||qr(this)){const s=this._dataController.getItemSize(),r=this._dataController.getItemSizes(),o=e*t;n=o*s;for(const a in r)parseInt(a)<o&&(n+=r[a]-s)}else n=0;this.scrollTo({y:n,x:this._scrollLeft})}renderDelayedTemplates(){this.waitAsyncTemplates().done(()=>{this._updateContentPosition(!0)}),super.renderDelayedTemplates.apply(this,arguments)}_renderCore(e){const t=new Date,n=super._renderCore.apply(this,arguments),s=this._dataController._dataSource;if(s&&e){const r=e.items?e.items.length:20,o=this._dataController.viewportSize()||20;xe.isVirtualRowRendering(this)&&r>0&&this.option(It)!==!1?s._renderTime=(new Date-t)*o/r:s._renderTime=new Date-t}return n}_getRowElements(e){const t=super._getRowElements(e);return t==null?void 0:t.not(".dx-virtual-row")}_removeRowsElements(e,t,n){let s=this._getRowElements(e).toArray();n==="append"?s=s.slice(0,t):s=s.slice(-t),s.map(r=>{const o=M(r);this._errorHandlingController&&this._errorHandlingController.removeErrorRow(o.next()),o.remove()})}_updateContent(e,t){let n;const s=this._findContentElement(),r=t==null?void 0:t.changeType,o=de(),a=s.children().first();return r==="append"||r==="prepend"?this.waitAsyncTemplates().done(()=>{const l=this._getBodies(e);l.length===1?this._getBodies(a)[r==="append"?"append":"prepend"](l.children()):l[r==="append"?"appendTo":"prependTo"](a),e.remove(),n=this._getFreeSpaceRowElements(a),Sk(n,kB),t.removeCount&&this._removeRowsElements(a,t.removeCount,r),this._restoreErrorRow(a),o.resolve()}).fail(o.reject):super._updateContent.apply(this,arguments).done(()=>{r==="update"&&this._restoreErrorRow(a),o.resolve()}).fail(o.reject),o.promise().done(()=>{this._updateBottomLoading()})}_addVirtualRow(e,t,n,s){if(!s)return;let r=this._createEmptyRow("dx-virtual-row",t,s);r=this._wrapRowIfNeed(e,r),this._appendEmptyRow(e,r,n)}_updateContentItemSizes(){const e=this._getRowHeights(),t=this._correctRowHeights(e);this._dataController.setContentItemSizes(t)}_updateViewportSize(e,t){G(e)||(e=this._hasHeight?gt(this.element()):gt(bt())),this._dataController.viewportHeight(e,t)}_getRowHeights(){var e,t;const n=(e=this._editingController)===null||e===void 0||(t=e.isPopupEditMode)===null||t===void 0?void 0:t.call(e);let s=this._getRowElements(this._tableElement).toArray();return n&&(s=s.filter(r=>!M(r).hasClass(Pde))),s.map(r=>en(r).height)}_correctRowHeights(e){const t=this._dataController,n=t._dataSource,s=[],r=t.getVisibleRows();let o=0,a=!0,l=-1;for(let d=0;d<e.length;d++){const c=r[d];G(c)&&(this.option(It)===!1?(l>=0&&l!==c.loadIndex&&(s.push(o),o=0),l=c.loadIndex):Vm(c,n)&&(a?a=!1:(s.push(o),o=0)),o+=e[d])}return o>0&&s.push(o),s}_updateContentPosition(e){const t=this._rowHeight||20;if(this._dataController.viewportItemSize(t),$i(this)||xe.isVirtualRowRendering(this)){if(this._dataController.isEmpty())return;e||this._updateContentItemSizes();const s=this._dataController.getContentOffset("begin"),r=this._dataController.getContentOffset("end"),o=this.getTableElements(),a=o.children("tbody").children(".dx-virtual-row");Sk(a,"dx-virtual-row"),o.each((l,d)=>{const c=l>0,h=this._isFixedTableRendering;this._isFixedTableRendering=c,this._addVirtualRow(M(d),c,"top",s),this._addVirtualRow(M(d),c,"bottom",r),this._isFixedTableRendering=h})}}_isTableLinesDisplaysCorrect(e){return e.find(".dx-column-lines").length>0===this.option("showColumnLines")}_isColumnElementsEqual(e,t){let n=e.length===t.length;return n&&ie(e,(s,r)=>{if(r.style.width!==t[s].style.width)return n=!1,n}),n}_getCellClasses(e){const t=[],{cssClass:n}=e,s=e.command==="expand";return n&&t.push(n),s&&t.push(this.addWidgetPrefix("group-space")),t}_findBottomLoadPanel(e){const t=e||this.element(),n=t==null?void 0:t.find(`.${this.addWidgetPrefix("bottom-load-panel")}`);if(n!=null&&n.length)return n}_updateBottomLoading(){const e=this,t=$i(this),n=qr(this),s=!e._dataController.hasKnownLastPage()&&e._dataController.isLoaded()&&(t||n),r=e._findContentElement(),o=e._findBottomLoadPanel(r);s?o||M("<div>").addClass(e.addWidgetPrefix("bottom-load-panel")).append(e._createComponent(M("<div>"),Rs,{elementAttr:{role:null,"aria-label":null}}).$element()).appendTo(r):o&&o.remove()}_handleScroll(e){const t=this.option(It)===!0,n=e.scrollOffset.top===0,r=this._scrollTop!==e.scrollOffset.top||e.forceUpdateScrollPosition,o=this._hasHeight||!t&&n;r&&o&&this._rowHeight&&(this._scrollTop=e.scrollOffset.top,($i(this)||this.option("scrolling.rowRenderingMode")!=="standard")&&this.option(It)===!1&&(this._updateContentItemSizes(),this._updateViewportSize(null,this._scrollTop)),this._dataController.setViewportPosition(e.scrollOffset.top)),super._handleScroll.apply(this,arguments)}_needUpdateRowHeight(e){return super._needUpdateRowHeight.apply(this,arguments)||e>0&&qr(this)&&!xe.isVirtualRowRendering(this)}_updateRowHeight(){if(super._updateRowHeight.apply(this,arguments),this._rowHeight){this._updateContentPosition();const e=this._hasHeight?gt(this.element()):gt(bt());this.option(It)===!1?(this._updateViewportSize(e),this._dataController.updateViewport()):this._dataController.viewportSize(Math.ceil(e/this._rowHeight))}}updateFreeSpaceRowHeight(){const e=super.updateFreeSpaceRowHeight.apply(this,arguments);return e&&this._updateContentPosition(),e}setLoading(e,t){const n=this._dataController,s=n.pageIndex()>0&&n.isLoaded()&&!!this._findBottomLoadPanel(),r=e&&!n.isCustomLoading();this.option(It)===!1&&r&&n.isViewportChanging()||(s&&(e=!1),super.setLoading.call(this,e,t))}isGridDragging(){return this.component.option("isDragging")}throwHeightWarningIfNeed(){const e=this.isGridDragging();if(this._hasHeight===void 0||e)return;!this._hasHeight&&_r(this)&&!this._heightWarningIsThrown&&(this._heightWarningIsThrown=!0,pt.log("W1025"))}_resizeCore(){const e=this,t=e.element();super._resizeCore(),this.throwHeightWarningIfNeed(),e.component.$element()&&!e._windowScroll&&Zc(t)&&(e._windowScroll=DB(t,n=>{!e._hasHeight&&e._rowHeight&&e._dataController.setViewportPosition(n)},e.component.$element()),e.on("disposing",()=>{e._windowScroll.dispose()})),this.option(It)!==!1&&e.loadIfNeed()}loadIfNeed(){var e,t;(e=this._dataController)===null||e===void 0||(t=e.loadIfNeed)===null||t===void 0||t.call(e)}_restoreErrorRow(e){if(this.option(It)===!1){var t;(t=this._errorHandlingController)===null||t===void 0||t.removeErrorRow()}super._restoreErrorRow.apply(this,arguments)}},$de={defaultOptions:()=>({scrolling:{timeout:300,updateTimeout:300,minTimeout:0,renderingThreshold:100,removeInvisiblePages:!0,rowPageSize:5,prerenderedRowChunkSize:1,mode:"standard",preloadEnabled:!1,rowRenderingMode:"standard",loadTwoPagesOnStart:!1,legacyMode:!1,prerenderedRowCount:1}}),extenders:{controllers:{data:Nde,resizing:Vde},views:{rowsView:Lde}}};Ue.registerModule("virtualScrolling",$de);Y0.extend(Bde);const OB=(i,e)=>{const t=i.offset();if(t===void 0)return;const n=M(bt()),{top:s}=t;let r=0;const o=n.scrollTop(),a=gy(n);if(jt(e)){if(e<s)return s-e;r=a-e+o}else{const l=s-o,d=a-l-gt(i);r=Math.max(l,d)}return .9*r};class Kx extends SS{_getMaxUsableSpace(e,t,n){return Math.max(e,t-e-n)}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{orientation:"horizontal",tabIndex:null,onHoverStart:Te})}_initDataAdapter(){const{_dataAdapter:e}=this.option();this._dataAdapter=e,this._dataAdapter||super._initDataAdapter()}_renderContentImpl(){this._renderContextMenuOverlay(),super._renderContentImpl();const{_parentKey:e}=this.option(),t=this._dataAdapter.getNodeByKey(e);t&&this._renderItems(this._getChildNodes(t)),this._renderDelimiter()}_renderDelimiter(){this.$contentDelimiter=M("<div>").appendTo(this._itemContainer()).addClass("dx-context-menu-content-delimiter")}_getOverlayOptions(){return se(!0,super._getOverlayOptions(),{onPositioned:this._overlayPositionedActionHandler.bind(this),position:{precise:!0}})}_overlayPositionedActionHandler(e){this._showDelimiter(e)}_hoverEndHandler(e){super._hoverEndHandler(e),this._toggleFocusClass(!1,e.currentTarget)}_isMenuHorizontal(){const{orientation:e}=this.option();return e==="horizontal"}_hoverStartHandler(e){const{onHoverStart:t}=this.option();t==null||t(e),super._hoverStartHandler(e)}_drawSubmenu(e){var t,n,s,r;(t=(n=this._actions).onShowing)===null||t===void 0||t.call(n,{rootItem:We(e),submenu:this}),super._drawSubmenu(e),(s=(r=this._actions).onShown)===null||s===void 0||s.call(r,{rootItem:We(e),submenu:this})}_hideSubmenu(e){var t,n,s,r;(t=(n=this._actions).onHiding)===null||t===void 0||t.call(n,{cancel:!0,rootItem:We(e),submenu:this}),super._hideSubmenu(e),(s=(r=this._actions).onHidden)===null||s===void 0||s.call(r,{rootItem:We(e),submenu:this})}_getDelimiterWidth(e,t){if(this._isMenuHorizontal()){const n=Xe(e),s=Xe(t);return n<s?n:s}return 3}_getDelimiterHeight(e,t){if(this._isMenuHorizontal())return 3;const n=ht(e),s=ht(t);return n<s?n:s}_showDelimiter(e){if(!this.$contentDelimiter)return;const{position:t}=this.option(),n=this._itemContainer().children(".dx-submenu").eq(0),s=M(t==null?void 0:t.of).find(".dx-context-menu-container-border"),r={of:n,precise:!0},o=e.position,a=o.v.location,l=o.h.location,d=s.offset(),c=Math.round((d==null?void 0:d.left)??0),h=Math.round((d==null?void 0:d.top)??0);this.$contentDelimiter.css("display","block"),$h(this.$contentDelimiter,this._getDelimiterWidth(s,n)),$a(this.$contentDelimiter,this._getDelimiterHeight(s,n)),this._isMenuHorizontal()?a>h?Math.round(l)===c?(r.offset="0 -2.5",r.at="left top",r.my="left top"):(r.offset="0 -2.5",r.at="right top",r.my="right top"):($a(this.$contentDelimiter,5),Math.round(l)===c?(r.offset="0 5",r.at="left bottom",r.my="left bottom"):(r.offset="0 5",r.at="right bottom",r.my="right bottom")):l>c?Math.round(a)===h?(r.offset="-2.5 0",r.at="left top",r.my="left top"):(r.offset="-2.5 0",r.at="left bottom",r.my="left bottom"):Math.round(a)===h?(r.offset="2.5 0",r.at="right top",r.my="right top"):(r.offset="2.5 0",r.at="right bottom",r.my="right bottom"),lr.setup(this.$contentDelimiter,r)}_getContextMenuPosition(){const{position:e}=this.option();return e}isOverlayVisible(){var e;const{visible:t}=((e=this._overlay)===null||e===void 0?void 0:e.option())??{};return t}getOverlayContent(){var e;return(e=this._overlay)===null||e===void 0?void 0:e.$content()}}const Lm="dx-menu-adaptive-mode",Hde=`${Lm}-overlay-wrapper`,Ek={show:50,hide:300},Ik=["onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","onItemContextMenu","onItemClick","onSelectionChanged","onItemRendered"];class PC extends wS{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{orientation:"horizontal",submenuDirection:"auto",showFirstSubmenuMode:{name:"onClick",delay:{show:50,hide:300}},hideSubmenuOnMouseLeave:!1,onSubmenuShowing:null,onSubmenuShown:null,onSubmenuHiding:null,onSubmenuHidden:null,adaptivityEnabled:!1})}_setOptionsByReference(){super._setOptionsByReference(),se(this._optionsByReference,{animation:!0,selectedItem:!0})}_itemElements(){const e=super._itemElements(),t=this._submenuItemElements();return e.add(t)}_submenuItemElements(){const e=this._submenus.length&&this._submenus[0];if(e&&e.itemsContainer()){var t;return((t=e.itemsContainer())===null||t===void 0?void 0:t.find(".dx-menu-item"))??M()}return M()}_focusTarget(){return this.$element()}_isMenuHorizontal(){const{orientation:e}=this.option();return e==="horizontal"}_moveFocus(e){const t=this._getAvailableItems(),n=this._isMenuHorizontal(),s=this._getActiveItem(!0);let r,o;switch(e){case"up":o=n?"showSubmenu":this._getItemsNavigationOperation("prevItem"),r=n?s:t;break;case"down":o=n?"showSubmenu":this._getItemsNavigationOperation("nextItem"),r=n?s:t;break;case"right":o=n?this._getItemsNavigationOperation("nextItem"):"showSubmenu",r=n?t:s;break;case"left":o=n?this._getItemsNavigationOperation("prevItem"):"showSubmenu",r=n?t:s;break;default:return super._moveFocus(e)}const l=this._getKeyboardNavigationAction(o,r)();l&&l.length!==0&&this.option("focusedElement",We(l))}_getItemsNavigationOperation(e){const{rtlEnabled:t}=this.option();return t?e==="prevItem"?"nextItem":"prevItem":e}_getKeyboardNavigationAction(e,t){let n=Te;switch(e){case"showSubmenu":t.hasClass("dx-state-disabled")||(n=this._showSubmenu.bind(this,t));break;case"nextItem":n=this._nextItem.bind(this,t);break;case"prevItem":n=this._prevItem.bind(this,t)}return n}_clean(){super._clean();const{templatesRenderAsynchronously:e}=this.option();e&&clearTimeout(this._resizeEventTimer)}_visibilityChanged(e){e&&(this._menuItemsWidth||this._updateItemsWidthCache(),this._dimensionChanged())}_isAdaptivityEnabled(){const{adaptivityEnabled:e,orientation:t}=this.option();return!!e&&t==="horizontal"}_updateItemsWidthCache(){const e=this.$element().find("ul").first().children("li").children(".dx-menu-item");this._menuItemsWidth=this._getSummaryItemsSize("width",e,!0)}_dimensionChanged(){if(!this._isAdaptivityEnabled())return;const e=kt(this.$element());this._toggleAdaptiveMode(this._menuItemsWidth>e)}_init(){super._init(),this._submenus=[]}_initActions(){this._actions={},ie(Ik,(e,t)=>{this._actions[t]=this._createActionByOption(t)})}_initMarkup(){this._visibleSubmenu=null,this.$element().addClass("dx-menu"),super._initMarkup(),this._addCustomCssClass(this.$element()),this.setAria("role","menubar")}_setAriaRole(e){const t=this._isAdaptivityEnabled()&&e?void 0:"menubar";this.setAria({role:t})}_render(){super._render(),this._initAdaptivity()}_isTargetOutOfComponent(e){const t=M(e).closest(".dx-menu").length!==0,n=M(e).closest(".dx-context-menu").length!==0;return!(t||n)}_focusOutHandler(e){const{relatedTarget:t}=e;t&&this._isTargetOutOfComponent(t)&&this._hideVisibleSubmenu(),super._focusOutHandler(e)}_renderHamburgerButton(){return this._hamburger=new si(M("<div>").addClass("dx-menu-hamburger-button"),{icon:"menu",activeStateEnabled:!1,onClick:()=>{this._toggleTreeView()}}),this._hamburger.$element()}_toggleTreeView(e){var t,n;const s=e??!((t=this._overlay)!==null&&t!==void 0&&(t=t.option())!==null&&t!==void 0&&t.visible);if((n=this._overlay)===null||n===void 0||n.option("visible",s),s){var r;(r=this._treeView)===null||r===void 0||r.focus()}this._toggleHamburgerActiveState(s)}_toggleHamburgerActiveState(e){var t;(t=this._hamburger)===null||t===void 0||t.$element().toggleClass("dx-state-active",e)}_toggleAdaptiveMode(e){const t=this.$element().find(".dx-menu-horizontal"),n=this.$element().find(`.${Lm}`);if(e)this._hideVisibleSubmenu();else{var s;(s=this._treeView)===null||s===void 0||s.collapseAll(),this._overlay&&this._toggleTreeView(e)}this._setAriaRole(e),t.toggle(!e),n.toggle(e)}_removeAdaptivity(){this._$adaptiveContainer&&(this._toggleAdaptiveMode(!1),this._$adaptiveContainer.remove(),this._$adaptiveContainer=null,this._treeView=null,this._hamburger=null,this._overlay=null)}_treeviewItemClickHandler(e){var t;this._actions.onItemClick(e),(t=e.node)!==null&&t!==void 0&&(t=t.children)!==null&&t!==void 0&&t.length||this._toggleTreeView(!1)}_getAdaptiveOverlayOptions(){var e;const{rtlEnabled:t}=this.option(),n=t?"right":"left";return{_ignoreFunctionValueDeprecation:!0,maxHeight:()=>OB(this.$element()),deferRendering:!1,shading:!1,animation:!1,hideOnParentScroll:!0,onHidden:()=>{this._toggleHamburgerActiveState(!1)},height:"auto",hideOnOutsideClick:s=>!M(s.target).closest(".dx-menu-hamburger-button").length,position:{collision:"flipfit",at:`bottom ${n}`,my:`top ${n}`,of:(e=this._hamburger)===null||e===void 0?void 0:e.$element()}}}_getTreeViewOptions(){const e={};ie(["rtlEnabled","width","accessKey","activeStateEnabled","animation","dataSource","disabled","displayExpr","displayExpr","focusStateEnabled","hint","hoverStateEnabled","itemsExpr","items","itemTemplate","selectedExpr","selectionMode","tabIndex","visible"],(s,r)=>{e[r]=this.option(r)}),ie(["onItemContextMenu","onSelectionChanged","onItemRendered"],(s,r)=>{e[r]=o=>{this._actions[r](o)}});const{animation:t,selectByClick:n}=this.option();return Object.assign({},e,{dataSource:this.getDataSource(),animationEnabled:!!t,onItemClick:this._treeviewItemClickHandler.bind(this),onItemExpanded:s=>{var r,o,a;(r=this._overlay)===null||r===void 0||r.repaint(),(o=(a=this._actions).onSubmenuShown)===null||o===void 0||o.call(a,s)},onItemCollapsed:s=>{var r,o,a;(r=this._overlay)===null||r===void 0||r.repaint(),(o=(a=this._actions).onSubmenuHidden)===null||o===void 0||o.call(a,s)},selectNodesRecursive:!1,selectByClick:n,expandEvent:"click",_supportItemUrl:!0})}_initAdaptivity(){var e,t;if(!this._isAdaptivityEnabled())return;const{cssClass:n}=this.option(),s=this._renderHamburgerButton();this._treeView=this._createComponent(M("<div>"),Gp,this._getTreeViewOptions()),this._overlay=this._createComponent(M("<div>"),Ps,this._getAdaptiveOverlayOptions()),(e=this._overlay.$content())===null||e===void 0||e.append(this._treeView.$element()).addClass(Lm).addClass(n),(t=this._overlay.$wrapper())===null||t===void 0||t.addClass(Hde),this._$adaptiveContainer=M("<div>").addClass(Lm),this._$adaptiveContainer.append(s),this._$adaptiveContainer.append(this._overlay.$element()),this.$element().append(this._$adaptiveContainer),this._updateItemsWidthCache(),this._dimensionChanged()}_getDelay(e){const{showFirstSubmenuMode:t}=this.option(),n=Me(t)?t.delay:void 0;return G(n)?Me(n)?n[e]??Ek[e]:n:Ek[e]}_keyboardHandler(e){return super._keyboardHandler(e,!!this._visibleSubmenu)}_renderContainer(){const e=M("<div>");return e.appendTo(this.$element()).addClass(this._isMenuHorizontal()?"dx-menu-horizontal":"dx-menu-vertical"),super._renderContainer(e)}_renderSubmenuItems(e,t){const n=this._createSubmenu(e,t);return this._submenus.push(n),this._renderBorderElement(t),n}_getKeyboardListeners(){return super._getKeyboardListeners().concat(this._visibleSubmenu)}_createSubmenu(e,t){const n=M("<div>").addClass("dx-context-menu").appendTo(t),s=this._getChildNodes(e),r=this._createComponent(n,Kx,Object.assign({},this._getSubmenuOptions(),{_dataAdapter:this._dataAdapter,_parentKey:e.internalFields.key,items:s,onHoverStart:this._clearTimeouts.bind(this),position:this.getSubmenuPosition(t)}));return this._attachSubmenuHandlers(t,r),r}_getSubmenuOptions(){const e=M("<div>"),t=this._isMenuHorizontal(),{itemTemplate:n,orientation:s,selectionMode:r,cssClass:o,selectByClick:a,hoverStateEnabled:l,activeStateEnabled:d,focusStateEnabled:c,animation:h,showSubmenuMode:u,displayExpr:p,disabledExpr:f,selectedExpr:g,itemsExpr:m}=this.option();return{itemTemplate:n,target:e,orientation:s,selectionMode:r,cssClass:o,selectByClick:a,hoverStateEnabled:l,activeStateEnabled:d,focusStateEnabled:c,animation:h,showSubmenuMode:u,displayExpr:p,disabledExpr:f,selectedExpr:g,itemsExpr:m,onFocusedItemChanged:v=>{const{visible:_,focusedElement:x}=v.component.option();_&&this.option("focusedElement",x)},onSelectionChanged:this._nestedItemOnSelectionChangedHandler.bind(this),onItemClick:this._nestedItemOnItemClickHandler.bind(this),onItemRendered:this._nestedItemOnItemRenderedHandler.bind(this),onLeftFirstItem:t?null:this._moveMainMenuFocus.bind(this,"prevItem"),onLeftLastItem:t?null:this._moveMainMenuFocus.bind(this,"nextItem"),onCloseRootSubmenu:this._moveMainMenuFocus.bind(this,t?"prevItem":null),onExpandLastSubmenu:t?this._moveMainMenuFocus.bind(this,"nextItem"):null}}_getShowFirstSubmenuMode(){if(!this._isDesktopDevice())return"onClick";const{showFirstSubmenuMode:e}=this.option();return Me(e)?e.name:e}_moveMainMenuFocus(e){const t=this._getAvailableItems(),n=t.length,s=t.filter(".dx-menu-item-expanded").eq(0);let r=t.index(s);this._hideSubmenu(this._visibleSubmenu),r+=e==="prevItem"?-1:1,r>=n?r=0:r<0&&(r=n-1);const o=t.eq(r);this.option("focusedElement",We(o))}_nestedItemOnSelectionChangedHandler(e){const t=e.addedItems.length&&e.addedItems[0],n=Kx.getInstance(e.element),{onSelectionChanged:s}=this._actions;s==null||s(e),t&&this._clearSelectionInSubmenus(n),this._clearRootSelection(),this._setOptionWithoutOptionChange("selectedItem",t)}_clearSelectionInSubmenus(e){const t=!arguments.length;ie(this._submenus,(n,s)=>{const r=s._itemContainer(),o=!r.is(e==null?void 0:e._itemContainer()),a=r.find(`.${this._selectedItemClass()}`);if(o&&a.length||t){a.removeClass(this._selectedItemClass());const l=this._getItemData(a);l&&(l.selected=!1),s._clearSelectedItems()}})}_clearRootSelection(){const e=this.$element().find(".dx-menu-items-container").first().children().children().filter(`.${this._selectedItemClass()}`);if(e.length){const t=this._getItemData(e);t.selected=!1,e.removeClass(this._selectedItemClass())}}_nestedItemOnItemClickHandler(e){var t,n;(t=(n=this._actions).onItemClick)===null||t===void 0||t.call(n,e)}_nestedItemOnItemRenderedHandler(e){var t,n;(t=(n=this._actions).onItemRendered)===null||t===void 0||t.call(n,e)}_attachSubmenuHandlers(e,t){const n=t.getOverlayContent(),s=n==null?void 0:n.find(".dx-submenu"),r=be(Pp,`${this.NAME}_submenu`);t.option({onShowing:this._submenuOnShowingHandler.bind(this,e,t),onShown:this._submenuOnShownHandler.bind(this,e,t),onHiding:this._submenuOnHidingHandler.bind(this,e,t),onHidden:this._submenuOnHiddenHandler.bind(this,e,t)}),ie(s,(o,a)=>{Y.off(a,r),Y.on(a,r,null,this._submenuMouseLeaveHandler.bind(this,e))})}_submenuOnShowingHandler(e,t,n){var s,r;let{rootItem:o}=n;const a=e.children(".dx-context-menu-container-border"),l=this._getVisibilityChangeEventParams(o,t,e);(s=(r=this._actions).onSubmenuShowing)===null||s===void 0||s.call(r,l),a.show(),e.addClass("dx-menu-item-expanded")}_submenuOnShownHandler(e,t,n){var s,r;let{rootItem:o}=n;const a=this._getVisibilityChangeEventParams(o,t,e);(s=(r=this._actions).onSubmenuShown)===null||s===void 0||s.call(r,a)}_submenuOnHidingHandler(e,t,n){var s,r;const o=e.children(".dx-context-menu-container-border"),a=this._getVisibilityChangeEventParams(n.rootItem,t,e,!0);n.itemData=a.itemData,n.rootItem=a.rootItem,n.submenuContainer=a.submenuContainer,n.submenu=a.submenu,(s=(r=this._actions).onSubmenuHiding)===null||s===void 0||s.call(r,n);const{focusedElement:l}=this.option(),{focusedElement:d}=t.option(),c=this._visibleSubmenu===t;c&&l===d&&this.option("focusedElement",We(e)),n.cancel||(c&&(this._visibleSubmenu=null),o.hide(),e.removeClass("dx-menu-item-expanded"))}_submenuOnHiddenHandler(e,t,n){var s,r;let{rootItem:o}=n;const a=this._getVisibilityChangeEventParams(o,t,e,!0);(s=(r=this._actions).onSubmenuHidden)===null||s===void 0||s.call(r,a)}_getVisibilityChangeEventParams(e,t,n,s){let r,o;if(e){const l=s?M(e).closest(".dx-menu-item")[0]:e;r=this._getItemData(l),o=M(l).find(".dx-submenu").first()}else{var a;const l=M((a=t._overlay)===null||a===void 0?void 0:a.content());r=this._getItemData(n),o=l.find(".dx-submenu").first()}return{itemData:r,rootItem:We(n),submenuContainer:We(o),submenu:t}}_submenuMouseLeaveHandler(e,t){var n;const s=M(t.relatedTarget).parents(".dx-context-menu")[0],r=this._getSubmenuByRootElement(e),o=r==null||(n=r.getOverlayContent())===null||n===void 0?void 0:n[0],{hideSubmenuOnMouseLeave:a}=this.option();a&&s!==o&&(this._clearTimeouts(),setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide")))}_hideSubmenuAfterTimeout(){var e,t;if(!this._visibleSubmenu)return;const n=M(this._visibleSubmenu.$element().context).hasClass("dx-state-hover"),s=(e=this._visibleSubmenu.getOverlayContent())===null||e===void 0?void 0:e.find(".dx-state-hover").length;!((t=this._visibleSubmenu.getOverlayContent())===null||t===void 0?void 0:t.get(0).querySelector(":hover"))&&!s&&!n&&this._visibleSubmenu.hide()}_getSubmenuByRootElement(e){if(!e)return;const t=e.children(".dx-context-menu");if(t.length)return Kx.getInstance(t)}getSubmenuPosition(e){const{submenuDirection:t,rtlEnabled:n}=this.option(),s=this._isMenuHorizontal(),r=t==null?void 0:t.toLowerCase(),o={collision:"flip",of:e,precise:!0};switch(r){case"leftortop":o.at="left top",o.my=s?"left bottom":"right top";break;case"rightorbottom":o.at=s?"left bottom":"right top",o.my="left top";break;default:s?(o.at=n?"right bottom":"left bottom",o.my=n?"right top":"left top"):(o.at=n?"left top":"right top",o.my=n?"right top":"left top")}return o}_renderBorderElement(e){M("<div>").appendTo(e).addClass("dx-context-menu-container-border").hide()}_itemPointerHandler(e){if(M(e.target).closest(this._itemElements()).hasClass("dx-menu-item-has-submenu")){this.option("focusedElement",null);return}super._itemPointerHandler(e)}_hoverStartHandler(e){const t=be(mt.move,this.NAME),n=this._getItemElementByEventArgs(e);if(!n||this._isItemDisabled(n))return;const s=this._dataAdapter.getNodeByItem(this._getItemData(n)),r=G(e.buttons)&&e.buttons===1||!G(e.buttons)&&e.which===1;if(Y.off(n,t),!this._hasChildren(s)){this._showSubmenuTimer=setTimeout(this._hideSubmenuAfterTimeout.bind(this),this._getDelay("hide"));return}if(this._getShowFirstSubmenuMode()==="onHover"&&!r){const o=this._getSubmenuByElement(n);this._clearTimeouts(),o!=null&&o.isOverlayVisible()||(Y.on(n,t,this._itemMouseMoveHandler.bind(this)),this._showSubmenuTimer=this._getDelay("hide"))}}_hoverEndHandler(e){const t=this._getItemElementByEventArgs(e),n=M(e.relatedTarget);if(super._hoverEndHandler(e),this._clearTimeouts(),!t||this._isItemDisabled(t)||n.hasClass("dx-context-menu-content-delimiter"))return;const{hideSubmenuOnMouseLeave:s}=this.option();s&&!n.hasClass("dx-menu-items-container")&&(this._hideSubmenuTimer=setTimeout(()=>{this._hideSubmenuAfterTimeout()},this._getDelay("hide")))}_hideVisibleSubmenu(){return this._visibleSubmenu?(this._hideSubmenu(this._visibleSubmenu),!0):!1}_showSubmenu(e){const t=this._getSubmenuByElement(e);if(this._visibleSubmenu!==t&&this._hideVisibleSubmenu(),t){this._clearTimeouts(),this.focus(),t.show();const{focusedElement:n}=t.option();this.option("focusedElement",n)}this._visibleSubmenu=t,this._hoveredRootItem=e}_hideSubmenu(e){e&&e.hide(),this._visibleSubmenu===e&&(this._visibleSubmenu=null),this._hoveredRootItem=null}_itemMouseMoveHandler(e){var t;if((t=e.pointers)!==null&&t!==void 0&&t.length)return;const n=M(e.currentTarget);G(this._showSubmenuTimer)&&(this._clearTimeouts(),this._showSubmenuTimer=setTimeout(()=>{const s=this._getSubmenuByElement(n);s&&!s.isOverlayVisible()&&this._showSubmenu(n)},this._getDelay("show")))}_clearTimeouts(){clearTimeout(this._hideSubmenuTimer),clearTimeout(this._showSubmenuTimer)}_getSubmenuByElement(e,t){const n=this._getSubmenuByRootElement(e);if(n)return n;const s=this._dataAdapter.getNodeByItem(t??this._getItemData(e));if(s&&this._hasChildren(s))return this._renderSubmenuItems(s,e)}_updateSubmenuVisibilityOnClick(e){var t;const n=(t=e.args)===null||t===void 0?void 0:t[0];if(!n||this._disabledGetter(n.itemData))return;const s=M(n.itemElement),r=this._getSubmenuByElement(s,n.itemData);if(this._updateSelectedItemOnClick(e),this._visibleSubmenu){if(this._visibleSubmenu===r){const{showFirstSubmenuMode:o}=this.option();o==="onClick"&&this._hideSubmenu(this._visibleSubmenu);return}this._hideSubmenu(this._visibleSubmenu)}r&&(r.isOverlayVisible()||this._showSubmenu(s))}_optionChanged(e){if(Ik.includes(e.name)){this._initActions();return}switch(e.name){case"orientation":case"submenuDirection":this._invalidate();break;case"showFirstSubmenuMode":case"hideSubmenuOnMouseLeave":break;case"showSubmenuMode":this._changeSubmenusOption(e);break;case"adaptivityEnabled":e.value?this._initAdaptivity():this._removeAdaptivity();break;case"width":if(this._isAdaptivityEnabled()){var t,n;(t=this._treeView)===null||t===void 0||t.option(e.name,e.value),(n=this._overlay)===null||n===void 0||n.option(e.name,e.value)}super._optionChanged(e),this._dimensionChanged();break;case"animation":if(this._isAdaptivityEnabled()){var s;(s=this._treeView)===null||s===void 0||s.option("animationEnabled",!!e.value)}super._optionChanged(e);break;default:if(this._isAdaptivityEnabled()&&(e.name===e.fullName||e.name==="items")){var r;(r=this._treeView)===null||r===void 0||r.option(e.fullName,e.value)}super._optionChanged(e)}}_changeSubmenusOption(e){let{name:t,value:n}=e;ie(this._submenus,(s,r)=>{r.option(t,n)})}selectItem(e){this._hideSubmenu(this._visibleSubmenu),super.selectItem(e)}unselectItem(e){this._hideSubmenu(this._visibleSubmenu),super.unselectItem(e)}}St("dxMenu",PC);const Gx={"=":"filter-operation-equals","<>":"filter-operation-not-equals","<":"filter-operation-less","<=":"filter-operation-less-equal",">":"filter-operation-greater",">=":"filter-operation-greater-equal",default:"filter-operation-default",notcontains:"filter-operation-not-contains",contains:"filter-operation-contains",startswith:"filter-operation-starts-with",endswith:"filter-operation-ends-with",between:"filter-operation-between"},Tk={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",between:"between"},jde="dx-filter-menu",Mu="input:not([type='hidden'])",zde=["date","datetime","number"];function Vc(i){return i.option("filterRow.applyFilter")==="onClick"}const qx=function(i){const e=i==null?void 0:i.children(),t=e==null?void 0:e.data("dxComponents"),n=(t==null?void 0:t.length)&&e.data(t[0]);return n instanceof to?n:null},Yx=function(i,e){let t="",n="";const s=eE(i,e),r=xe.getFormatOptionsByColumn(e,"filterRow");return Array.isArray(s)?(t=xe.formatValue(s[0],r),n=xe.formatValue(s[1],r),n!==""&&(t+=` - ${n}`)):G(s)&&(t=xe.formatValue(s,r)),t};function eE(i,e){if(e)return Vc(i)&&e.bufferedFilterValue!==void 0?e.bufferedFilterValue:e.filterValue}const br=function(i,e){if(e)return Vc(i)&&e.bufferedSelectedFilterOperation!==void 0?e.bufferedSelectedFilterOperation:e.selectedFilterOperation},Wde=function(i,e){return e&&zde.includes(e.dataType)&&Array.isArray(i)?!1:i!==void 0},MC=function(i,e,t){const n=i._columnsController.columnOption(e),s=eE(i,n),r=t.closest(`.${i.addWidgetPrefix("filter-range-overlay")}`).length,o=t.hasClass(i.addWidgetPrefix("filter-range-start"));return s&&Array.isArray(s)&&br(i,n)==="between"?o?s[0]:s[1]:!r&&Wde(s,n)?s:null},Ude=function(i,e,t,n){if(br(i,t)==="between"){const s=eE(i,t);return n.hasClass(i.addWidgetPrefix("filter-range-start"))?[e,Array.isArray(s)?s[1]:void 0]:[Array.isArray(s)?s[0]:s,e]}return e},Kde=function(i,e){const t=e.value===""?null:e.value,n=e.container,s=i._columnsController.columnOption(e.column.index),r=MC(i,s.index,n);if(!G(r)&&!G(t))return;i._applyFilterViewController.setHighLight(n,r!==t);const o=Vc(i)?"bufferedFilterValue":"filterValue",a=Ude(i,t,s,n),l=br(i,s)==="between",d=e.notFireEvent||l&&Array.isArray(a)&&a.includes(void 0);i._columnsController.columnOption(s.index,o,a,d)},Gde=i=>class extends i{init(){super.init(),this._applyFilterViewController=this.getController("applyFilter")}optionChanged(e){switch(e.name){case"filterRow":case"showColumnLines":this._invalidate(!0,!0),e.handled=!0;break;case"syncLookupFilterValues":e.value?this.updateLookupDataSource():this.render(),e.handled=!0;break;default:super.optionChanged(e)}}_updateEditorValue(e,t){const n=qx(t);n&&n.option("value",MC(this,e.index,t))}_columnOptionChanged(e){const t=this,{optionNames:n}=e;let s,r,o,a;if(xe.checkChanges(n,["filterValue","bufferedFilterValue","selectedFilterOperation","bufferedSelectedFilterOperation","filterValues","filterType"])&&e.columnIndex!==void 0){const l=t._columnsController.getVisibleIndex(e.columnIndex),d=t._columnsController.columnOption(e.columnIndex);if(s=t._getCellElement(t.element().find(`.${t.addWidgetPrefix("filter-row")}`).index(),l)??M(),r=s.find(".dx-editor-container").first(),n.filterValue||n.bufferedFilterValue){t._updateEditorValue(d,r);const c=s.find(`.${t.addWidgetPrefix("filter-range-overlay")}`).data("dxOverlay");c&&(o=c.$content().find(".dx-editor-container"),t._updateEditorValue(d,o.first()),t._updateEditorValue(d,o.last())),c!=null&&c.option("visible")||t._updateFilterRangeContent(s,Yx(t,d))}(n.selectedFilterOperation||n.bufferedSelectedFilterOperation)&&l>=0&&d&&(a=s.find(".dx-menu"),a.length&&(t._updateFilterOperationChooser(a,d,r),br(t,d)==="between"?t._renderFilterRangeContent(s,d):r.find(".dx-filter-range-content").length&&(t._renderEditor(r,t._getEditorOptions(r,d)),t._hideFilterRange())));return}super._columnOptionChanged(e)}_renderCore(){return this._filterRangeOverlayInstance=null,super._renderCore.apply(this,arguments)}_resizeCore(){var e;super._resizeCore.apply(this,arguments),(e=this._filterRangeOverlayInstance)===null||e===void 0||e.repaint()}isFilterRowVisible(){return this._isElementVisible(this.option("filterRow"))}isVisible(){return super.isVisible()||this.isFilterRowVisible()}_initFilterRangeOverlay(e,t){const n=this,s={},r=e.find(".dx-editor-container"),o=n.addWidgetPrefix("filter-range-overlay"),a=M("<div>").addClass(o).appendTo(e);return n._createComponent(a,Ps,{height:"auto",shading:!1,showTitle:!1,focusStateEnabled:!1,hideOnOutsideClick:!0,hideOnParentScroll:!0,_hideOnParentScrollTarget:a,wrapperAttr:{class:o},animation:!1,position:{my:"top",at:"top",of:r.length&&r||e,offset:"0 -1"},contentTemplate(l){let d,c=M("<div>").addClass(`dx-editor-container ${n.addWidgetPrefix("filter-range-start")}`).appendTo(l);return t=n._columnsController.columnOption(t.index),d=n._getEditorOptions(c,t),d.sharedData=s,n._renderEditor(c,d),Y.on(c.find(Mu),"keydown",h=>{let u=e.find("[tabindex]").not(h.target).first();En(h)==="tab"&&h.shiftKey&&(h.preventDefault(),n._hideFilterRange(),u.length||(u=e.prev().find("[tabindex]").last()),Y.trigger(u,"focus"))}),c=M("<div>").addClass(`dx-editor-container ${n.addWidgetPrefix("filter-range-end")}`).appendTo(l),d=n._getEditorOptions(c,t),d.sharedData=s,n._renderEditor(c,d),Y.on(c.find(Mu),"keydown",h=>{En(h)==="tab"&&!h.shiftKey&&(h.preventDefault(),n._hideFilterRange(),Y.trigger(e.next().find("[tabindex]").first(),"focus"))}),M(l).addClass(n.getWidgetContainerClass())},onShown(l){const d=l.component.$content().find(".dx-editor-container").first();Y.trigger(d.find(Mu),"focus")},onHidden(){t=n._columnsController.columnOption(t.index),e.find(".dx-menu").parent().addClass("dx-editor-with-menu"),br(n,t)==="between"&&(n._updateFilterRangeContent(e,Yx(n,t)),n.component.updateDimensions())}})}_updateFilterRangeOverlay(e){const t=this._filterRangeOverlayInstance;t==null||t.option(e)}_showFilterRange(e,t){const n=this,s=e.children(`.${n.addWidgetPrefix("filter-range-overlay")}`);let r=s.length&&s.data("dxOverlay");if(!r&&t&&(r=n._initFilterRangeOverlay(e,t)),!r.option("visible")){var o,a;(o=n._filterRangeOverlayInstance)===null||o===void 0||o.hide(),n._filterRangeOverlayInstance=r,n._updateFilterRangeOverlay({width:kt(e,!0)+1}),(a=n._filterRangeOverlayInstance)===null||a===void 0||a.show()}}_hideFilterRange(){const e=this._filterRangeOverlayInstance;e==null||e.hide()}getFilterRangeOverlayInstance(){return this._filterRangeOverlayInstance}_createRow(e){const t=super._createRow(e);return e.rowType==="filter"&&(t.addClass(this.addWidgetPrefix("filter-row")),this.option("useLegacyKeyboardNavigation")||Y.on(t,"keydown",n=>b1("filterRow",this,n))),t}_getRows(){const e=super._getRows();return this.isFilterRowVisible()&&e.push({rowType:"filter"}),e}_renderFilterCell(e,t){var n;const s=this,{column:r}=t,o=M(e);s.component.option("showColumnHeaders")&&s.setAria("describedby",r.headerId,o),s.setAria("label",ue.format("dxDataGrid-ariaFilterCell"),o),o.addClass("dx-editor-cell");const a=M("<div>").appendTo(o),l=M("<div>").addClass("dx-editor-container").appendTo(a);if(br(s,r)==="between")s._renderFilterRangeContent(o,r);else{const c=s._getEditorOptions(l,r);s._renderEditor(l,c)}const{alignment:d}=r;d&&d!=="center"&&o.find(Mu).first().css("textAlign",r.alignment),(n=r.filterOperations)!==null&&n!==void 0&&n.length&&s._renderFilterOperationChooser(a,r,l)}_renderCellContent(e,t){const n=this,{column:s}=t;if(t.rowType==="filter"){if(s.command)e.html("&nbsp;");else if(s.allowFiltering){n.renderTemplate(e,n._renderFilterCell.bind(n),t).done(()=>{n._updateCell(e,t)});return}}super._renderCellContent.apply(this,arguments)}_getEditorOptions(e,t){const n=this,s={editorOptions:{inputAttr:n._getFilterInputAccessibilityAttributes(t)}},r=se(s,t,{value:MC(n,t.index,e),parentType:"filterRow",showAllText:n.option("filterRow.showAllText"),updateValueTimeout:n.option("filterRow.applyFilter")==="onClick"?0:700,width:null,setValue(o,a){Kde(n,{column:t,value:o,container:e,notFireEvent:a})}});return br(n,t)==="between"&&(e.hasClass(n.addWidgetPrefix("filter-range-start"))?r.placeholder=n.option("filterRow.betweenStartText"):r.placeholder=n.option("filterRow.betweenEndText")),r}_getFilterInputAccessibilityAttributes(e){const t=ue.format("dxDataGrid-ariaFilterCell");return this.component.option("showColumnHeaders")?{"aria-label":t,"aria-describedby":e.headerId}:{"aria-label":t}}_renderEditor(e,t){e.empty();const n=M("<div>").appendTo(e),s=this._dataController.dataSource();if(t.lookup&&this.option("syncLookupFilterValues")){this._applyFilterViewController.setCurrentColumnForFiltering(t);const r=this._dataController.getCombinedFilter();this._applyFilterViewController.setCurrentColumnForFiltering(null);const o=xe.getWrappedLookupDataSource(t,s,r),a=Object.assign({},t,{lookup:Object.assign({},t.lookup,{dataSource:o})});return this._editorFactoryController.createEditor(n,a)}return this._editorFactoryController.createEditor(n,t)}_renderFilterRangeContent(e,t){const n=this,s=e.find(".dx-editor-container").first();s.empty();const r=M("<div>").addClass("dx-filter-range-content").attr("tabindex",this.option("tabIndex"));Y.on(r,"focusin",()=>{n._showFilterRange(e,t)}),r.appendTo(s),n._updateFilterRangeContent(e,Yx(n,t))}_updateFilterRangeContent(e,t){const n=e.find(".dx-filter-range-content");n.length&&(t===""?n.html("&nbsp;"):n.text(t))}_updateFilterOperationChooser(e,t,n){var s;const r=this;let o;const a=function(){const c=PC.getInstance(e);c&&c.option("focusedElement",null),o&&r._focusEditor(n)},l=this._editorFactoryController,d=ue.format("dxDataGrid-ariaSearchBox");r._createComponent(e,PC,{integrationOptions:{},activeStateEnabled:!1,selectionMode:"single",cssClass:`${r.getWidgetContainerClass()} dx-cell-focus-disabled ${jde}`,showFirstSubmenuMode:"onHover",hideSubmenuOnMouseLeave:!0,items:[{name:br(r,t)||d,disabled:!((s=t.filterOperations)!==null&&s!==void 0&&s.length),icon:Gx[br(r,t)||"default"],selectable:!1,items:r._getFilterOperationMenuItems(t)}],onItemRendered:c=>{let{itemElement:h,itemData:u}=c;if(u!=null&&u.items&&u!==null&&u!==void 0&&u.name){const p=r._getOperationDescriptionFromDescriptor(u.name)||d;this.setAria("label",p,M(h))}},onItemClick(c){var h;const u=c.itemData.name,p=br(r,t);let f=!1;const g=Vc(r),m={};if(c.itemData.items||u&&u===p)return;u?(m[g?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=u,(u==="between"||p==="between")&&(f=u==="between",m[g?"bufferedFilterValue":"filterValue"]=null)):(m[g?"bufferedFilterValue":"filterValue"]=null,m[g?"bufferedSelectedFilterOperation":"selectedFilterOperation"]=t.defaultSelectedFilterOperation||null);const _=!((h=c.itemData)!==null&&h!==void 0&&h.name)?!1:void 0;if(r._columnsController.columnOption(t.index,m,void 0,_),r._applyFilterViewController.setHighLight(n,!0),!u){const x=qx(n);x&&x.NAME==="dxDateBox"&&!x.option("isValid")&&(x.clear(),x.option("isValid",!0))}f?r._showFilterRange(n.closest(".dx-editor-cell"),t):r._focusEditor(n)},onSubmenuShowing(){o=r._isEditorFocused(n),l.loseFocus()},onSubmenuHiding(){Y.trigger(e,"blur"),a()},onContentReady(c){Y.on(e,"blur",()=>{c.component._hideSubmenuAfterTimeout(),a()})},rtlEnabled:r.option("rtlEnabled")})}_isEditorFocused(e){return e.hasClass("dx-focused")||e.parents(".dx-focused").length}_focusEditor(e){this._editorFactoryController.focus(e),Y.trigger(e.find(Mu),"focus")}_renderFilterOperationChooser(e,t,n){const s=this;let r;s.option("filterRow.showOperationChooser")&&(e.addClass("dx-editor-with-menu"),r=M("<div>").prependTo(e),s._updateFilterOperationChooser(r,t,n))}_getFilterOperationMenuItems(e){var t;const n=this;let s=[{}];const r=n.option("filterRow");if((t=e.filterOperations)!==null&&t!==void 0&&t.length){const o=e.filterOperations.filter(a=>G(Tk[a]));s=Mn(o,a=>({name:a,selected:(br(n,e)||e.defaultFilterOperation)===a,text:n._getOperationDescriptionFromDescriptor(a),icon:Gx[a]})),s.push({name:null,text:r==null?void 0:r.resetOperationText,icon:Gx.default})}return s}_getOperationDescriptionFromDescriptor(e){const t=this.option("filterRow"),n=(t==null?void 0:t.operationDescriptions)||{},s=Tk[e];return n[s]}_handleDataChanged(e){var t,n,s,r,o;const a=(t=this._dataController)===null||t===void 0||(n=t.dataSource)===null||n===void 0?void 0:n.call(t),l=a==null||(s=a.lastLoadOptions)===null||s===void 0?void 0:s.call(a);if(super._handleDataChanged.apply(this,arguments),(r=e.operationTypes)!==null&&r!==void 0&&r.filtering||(o=e.operationTypes)!==null&&o!==void 0&&o.fullReload){var d;this.updateLookupDataSource(((d=e.operationTypes)===null||d===void 0?void 0:d.filtering)||(l==null?void 0:l.filter))}}updateLookupDataSource(e){if(!this.option("syncLookupFilterValues")||!this.element())return;const t=this._columnsController.getVisibleColumns(),n=this._dataController.dataSource(),s=this._applyFilterViewController,r=this.element().find(`.${this.addWidgetPrefix("filter-row")}`).index();r!==-1&&t.forEach((o,a)=>{if(!o.lookup||o.calculateCellValue!==o.defaultCalculateCellValue)return;const l=this._getCellElement(r,a),d=qx(l==null?void 0:l.find(".dx-editor-container"));if(d){s.setCurrentColumnForFiltering(o);const c=this._dataController.getCombinedFilter()||null;s.setCurrentColumnForFiltering(null);const h=d.option("dataSource");if(!e||!dn(h.__dataGridSourceFilter||null,c)){const p=xe.getWrappedLookupDataSource(o,n,c);d.option("dataSource",p)}}})}getColumnElements(e,t){var n;const s=this._getRows();return(s==null||(n=s[e])===null||n===void 0?void 0:n.rowType)==="filter"&&arguments.length<2?this.getCellElements(e):super.getColumnElements(e,t)}isFilterRowCell(e){return!!e.closest(`.${this.addWidgetPrefix("filter-row")}`).length}},qde=i=>class extends i{skipCalculateColumnFilters(){return!1}_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return super._calculateAdditionalFilter();const e=[super._calculateAdditionalFilter()],t=this._columnsController.getVisibleColumns(null,!0),n=this._applyFilterController;return ie(t,function(){var s;const r=((s=n.getCurrentColumnForFiltering())===null||s===void 0?void 0:s.index)===this.index;if(this.allowFiltering&&this.calculateFilterExpression&&G(this.filterValue)&&!r){const o=this.createFilterExpression(this.filterValue,this.selectedFilterOperation||this.defaultFilterOperation,"filterRow");e.push(o)}}),xe.combineFilters(e)}};class Yde extends fn.ViewController{init(){this._columnsController=this.getController("columns")}_getHeaderPanel(){return this._headerPanel||(this._headerPanel=this.getView("headerPanel")),this._headerPanel}setHighLight(e,t){Vc(this)&&(e!=null&&e.toggleClass("dx-highlight-outline",t)&&e.closest(".dx-editor-cell").toggleClass("dx-filter-modified",t),this._getHeaderPanel().enableApplyButton(t))}applyFilter(){const e=this._columnsController.getColumns();this._columnsController.beginUpdate();for(let t=0;t<e.length;t++){const n=e[t];n.bufferedFilterValue!==void 0&&(this._columnsController.columnOption(t,"filterValue",n.bufferedFilterValue),n.bufferedFilterValue=void 0),n.bufferedSelectedFilterOperation!==void 0&&(this._columnsController.columnOption(t,"selectedFilterOperation",n.bufferedSelectedFilterOperation),n.bufferedSelectedFilterOperation=void 0)}this._columnsController.endUpdate(),this.removeHighLights()}removeHighLights(){if(Vc(this)){const e=this.getView("columnHeadersView").element();e.find(`.${this.addWidgetPrefix("filter-row")} .dx-highlight-outline`).removeClass("dx-highlight-outline"),e.find(`.${this.addWidgetPrefix("filter-row")} .dx-filter-modified`).removeClass("dx-filter-modified"),this._getHeaderPanel().enableApplyButton(!1)}}setCurrentColumnForFiltering(e){this._currentColumn=e}getCurrentColumnForFiltering(){return this._currentColumn}}const Xde=i=>class extends i{_startResizing(){const e=this;if(super._startResizing.apply(e,arguments),e.isResizing()){const t=e._columnHeadersView.getFilterRangeOverlayInstance();if(t){const n=t.$element().closest("td").index();(n===e._targetPoint.columnIndex||n===e._targetPoint.columnIndex+1)&&t.$content().hide()}}}_endResizing(){const e=this;let t;if(e.isResizing()){const n=e._columnHeadersView.getFilterRangeOverlayInstance();n&&(t=n.$element().closest("td"),e._columnHeadersView._updateFilterRangeOverlay({width:kt(t,!0)+1}),n.$content().show())}super._endResizing.apply(e,arguments)}},Zde=i=>class extends i{updateFieldValue(e){return e.column.lookup&&(this._needUpdateLookupDataSource=!0),super.updateFieldValue.apply(this,arguments)}_afterSaveEditData(e){if(this._needUpdateLookupDataSource&&!e){var t;(t=this.getView("columnHeadersView"))===null||t===void 0||t.updateLookupDataSource()}return this._needUpdateLookupDataSource=!1,super._afterSaveEditData.apply(this,arguments)}_afterCancelEditData(){return this._needUpdateLookupDataSource=!1,super._afterCancelEditData.apply(this,arguments)}},Qde=i=>class extends i{init(){super.init(),this._dataController=this.getController("data"),this._applyFilterViewController=this.getController("applyFilter")}optionChanged(e){e.name==="filterRow"?(this._invalidate(),e.handled=!0):super.optionChanged(e)}_getToolbarItems(){const e=super._getToolbarItems();return this._prepareFilterItem().concat(e)}_prepareFilterItem(){const e=this,t=[];if(e._isShowApplyFilterButton()){const n=e.option("filterRow.applyFilterText"),l={widget:"dxButton",options:{icon:"apply-filter",disabled:!e._columnsController.getColumns().filter(d=>d.bufferedFilterValue!==void 0).length,onClick:function(){e._applyFilterViewController.applyFilter()},hint:n,text:n,onInitialized:function(d){M(d.element).addClass(e._getToolbarButtonClass("dx-apply-button"))}},showText:"inMenu",name:"applyFilterButton",location:"after",locateInMenu:"auto",sortIndex:10};t.push(l)}return t}_isShowApplyFilterButton(){const e=this.option("filterRow");return!!(e!=null&&e.visible)&&e.applyFilter==="onClick"}enableApplyButton(e){this.setToolbarItemDisabled("applyFilterButton",!e)}},Jde={defaultOptions:()=>({syncLookupFilterValues:!0,filterRow:{visible:!1,showOperationChooser:!0,showAllText:ue.format("dxDataGrid-filterRowShowAllText"),resetOperationText:ue.format("dxDataGrid-filterRowResetOperationText"),applyFilter:"auto",applyFilterText:ue.format("dxDataGrid-applyFilterText"),operationDescriptions:{equal:ue.format("dxDataGrid-filterRowOperationEquals"),notEqual:ue.format("dxDataGrid-filterRowOperationNotEquals"),lessThan:ue.format("dxDataGrid-filterRowOperationLess"),lessThanOrEqual:ue.format("dxDataGrid-filterRowOperationLessOrEquals"),greaterThan:ue.format("dxDataGrid-filterRowOperationGreater"),greaterThanOrEqual:ue.format("dxDataGrid-filterRowOperationGreaterOrEquals"),startsWith:ue.format("dxDataGrid-filterRowOperationStartsWith"),contains:ue.format("dxDataGrid-filterRowOperationContains"),notContains:ue.format("dxDataGrid-filterRowOperationNotContains"),endsWith:ue.format("dxDataGrid-filterRowOperationEndsWith"),between:ue.format("dxDataGrid-filterRowOperationBetween"),isBlank:ue.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:ue.format("dxFilterBuilder-filterOperationIsNotBlank")},betweenStartText:ue.format("dxDataGrid-filterRowOperationBetweenStartText"),betweenEndText:ue.format("dxDataGrid-filterRowOperationBetweenEndText")}}),controllers:{applyFilter:Yde},extenders:{controllers:{data:qde,columnsResizer:Xde,editing:Zde},views:{columnHeadersView:Gde,headerPanel:Qde}}};Ue.registerModule("filterRow",Jde);Bo.setEditorClass(Jc);const Dk=Symbol("HANDLER_DECORATED_KEY");function RB(i){i=i||[];for(let e=0;e<i.length;e++)i[e].selected=!1,RB(i[e].items)}function tE(i){const e=i.NAME==="dxTreeView"?".dx-treeview-select-all-item":".dx-list-select-all-checkbox";return i.$element().find(e).dxCheckBox("instance")}function ece(i,e){const t=i.option("onValueChanged");if(t!=null&&t[Dk])return t;const n=s=>{const{event:r,value:o}=s,a=!!r;switch(r==null||r.stopPropagation(),!0){case(a&&o===!0):e.selectAll();return;case(a&&o===!1):e.unselectAll();return;default:t==null||t(s)}};return n[Dk]=!0,n}function tce(i){const e=tE(i);if(!e)return;const t=ece(e,i);e.option("onValueChanged",t)}function Ak(i,e){if(i.option("searchValue"))return;const t=tE(i);t&&e!==null&&e!==void 0&&e.length&&t.option("value",void 0)}function nce(i,e,t){if(e^t){if(i.selected=!0,t&&i.items){for(let n=0;n<i.items.length;n++)if(!i.items[n].selected){i.selected=void 0;break}}}else(t||i.selected)&&(i.selected=!1,RB(i.items))}class ice extends fn.View{getPopupContainer(){return this._popupContainer}getListComponent(){return this._listComponent}applyHeaderFilter(e){const t=this.getListComponent(),n=t.option("searchValue"),s=tE(t),r=!n&&!e.isFilterBuilder&&(s==null?void 0:s.option("value")),o=[],a=function(l,d,c){ie(d,(h,u)=>{if(u.selected!==void 0&&!!u.selected^c){const p=t._getNode(u),g=t._hasChildren(p)&&u.items&&u.items.some(m=>m.selected);if(!n||!g){l.push(u.value);return}}u.items&&u.items.length&&a(l,u.items,c)})};r?(e.type==="tree"&&(e.filterType="exclude"),Array.isArray(e.filterValues)&&(e.filterValues=[])):e.type==="tree"&&(e.filterType&&(e.filterType="include"),a(o,t.option("items"),!1),e.filterValues=o),e.filterValues&&!e.filterValues.length&&(e.filterValues=null),e.apply(),this.hideHeaderFilterMenu()}showHeaderFilterMenu(e,t){const n=this;if(t){n._initializePopupContainer(t);const s=n.getPopupContainer();n.hideHeaderFilterMenu(),n.updatePopup(e,t),s.show()}}hideHeaderFilterMenu(){const e=this.getPopupContainer();e&&e.hide()}updatePopup(e,t){const n=this,s=this.option("showColumnLines"),r=t.alignment==="right"^!s?"left":"right";n._popupContainer.setAria({role:"dialog",label:ue.format("dxDataGrid-headerFilterLabel")}),n._popupContainer&&(n._cleanPopupContent(),n._popupContainer.option("position",{my:`${r} top`,at:`${r} bottom`,of:e,collision:"fit fit"}))}_getSearchExpr(e,t){const{lookup:n}=e,{useDefaultSearchExpr:s}=e,r=t.dataSource,o=t.search.searchExpr;if(o)return o;if(s||G(r)&&!Ie(r))return"text";if(n)return n.displayExpr||"this";if(e.dataSource){const{group:a}=e.dataSource;if(Array.isArray(a)&&a.length>0)return a[0].selector;if(Ie(a)&&!e.remoteFiltering)return a}return e.dataField||e.selector}_cleanPopupContent(){this._popupContainer&&this._popupContainer.$content().empty()}_initializePopupContainer(e){const t=this,n=t.element(),s=this._normalizeHeaderFilterOptions(e),{hidePopupCallback:r}=e,{height:o,width:a}=s,l={width:a,height:o,visible:!1,shading:!1,showTitle:!1,showCloseButton:!1,hideOnParentScroll:!1,dragEnabled:!1,hideOnOutsideClick:!0,wrapperAttr:{class:"dx-header-filter-menu"},focusStateEnabled:!1,toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:s.texts.ok,onClick(){t.applyHeaderFilter(e)}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:s.texts.cancel,onClick(){t.hideHeaderFilterMenu(),r==null||r()}}}],resizeEnabled:!0,onShowing(d){d.component.$content().parent().addClass("dx-dropdowneditor-overlay"),t._initializeListContainer(e,s),e.onShowing&&e.onShowing(d)},onShown(){t.getListComponent().focus()},onHidden:e.onHidden,onInitialized(d){const{component:c}=d;c.option("animation",c._getDefaultOptions().animation)},_loopFocus:!0};G(t._popupContainer)?t._popupContainer.option(l):t._popupContainer=t._createComponent(n,hr,l)}_initializeListContainer(e,t){const n=this,s=n._popupContainer.$content(),r=!e.isFilterBuilder&&t.allowSelectAll,o={searchEnabled:t.search.enabled,searchTimeout:t.search.timeout,searchEditorOptions:t.search.editorOptions,searchMode:t.search.mode||"",dataSource:e.dataSource,onContentReady(){n.renderCompleted.fire()},itemTemplate(c,h,u){const p=M(u);return e.encodeHtml!==!1?p.text(c.text):p.html(c.text)}},a=()=>r&&n.option("headerFilter.hideSelectAllOnSearch")!==!1,l=c=>{switch(!0){case(c.fullName==="searchValue"&&a()):c.component.option("showCheckBoxesMode",c.value?"normal":"selectAll");break;case c.fullName==="showCheckBoxesMode":Promise.resolve().then(()=>{c.component.getSearchBoxController().focus()}).catch(()=>{})}},d=c=>{c.fullName==="searchValue"&&a()&&c.component.option("selectionMode",c.value?"multiple":"all")};e.type==="tree"?n._listComponent=n._createComponent(M("<div>").appendTo(s),Gp,se(o,{showCheckBoxesMode:r?"selectAll":"normal",onOptionChanged:l,keyExpr:"id"})):n._listComponent=n._createComponent(M("<div>").appendTo(s),eu,se(o,{searchExpr:n._getSearchExpr(e,t),pageLoadMode:"scrollBottom",showSelectionControls:!0,selectionMode:r?"all":"multiple",onOptionChanged:d,onSelectionChanged(c){const{component:h}=c,u=h.option("items"),p=h.option("selectedItems");if(!h._selectedItemsUpdating&&!h.option("searchValue")&&!e.isFilterBuilder){const f=e.filterValues||[],g=e.filterType==="exclude";p.length===0&&u.length&&(f.length<=1||g&&f.length===u.length-1)?(e.filterType="include",e.filterValues=[]):p.length===u.length&&(e.filterType="exclude",e.filterValues=[])}ie(u,(f,g)=>{const m=xe.getIndexByKey(g,p,null)>=0;if(!!g.selected!==m){g.selected=m,e.filterValues=e.filterValues||[];const _=xe.getIndexByKey(g.value,e.filterValues,null);_>=0&&e.filterValues.splice(_,1);const x=e.filterType==="exclude";m^x&&e.filterValues.push(g.value)}}),Ak(h,e.filterValues)},onContentReady(c){const{component:h}=c,u=h.option("items"),p=[];ie(u,function(){this.selected&&p.push(this)}),h._selectedItemsUpdating=!0,h.option("selectedItems",p),h._selectedItemsUpdating=!1,tce(h),Ak(h,e.filterValues)}}))}_normalizeHeaderFilterOptions(e){const t=this.option("headerFilter")||{},n=e.headerFilter||{},s={search:{enabled:t.allowSearch,timeout:t.searchTimeout}},r={search:{enabled:n.allowSearch,mode:n.searchMode,timeout:n.searchTimeout}};return se(!0,{},t,s,n,r)}_renderCore(){this.element().addClass("dx-header-filter-menu")}}const h_=function(i){return G(i.allowHeaderFiltering)?i.allowHeaderFiltering:i.allowFiltering},PB=i=>class extends i{optionChanged(e){if(e.name==="headerFilter"){const t=this.name==="columnHeadersView";this._invalidate(t,t),e.handled=!0}else super.optionChanged(e)}_applyColumnState(e){let t;const{rootElement:n}=e,{column:s}=e;if(e.name==="headerFilter"){if(n.find(".dx-header-filter").remove(),h_(s)){t=super._applyColumnState(e).toggleClass("dx-header-filter-empty",this._isHeaderFilterEmpty(s)),this.option("useLegacyKeyboardNavigation")||t.attr("tabindex",this.option("tabindex")||0);const r=ue.format("dxDataGrid-headerFilterIndicatorLabel",s.caption);t.attr("aria-label",r),t.attr("aria-haspopup","dialog"),t.attr("role","button")}return t}return super._applyColumnState(e)}_isHeaderFilterEmpty(e){return!e.filterValues||!e.filterValues.length}_getIndicatorClassName(e){return e==="headerFilter"?"dx-header-filter":super._getIndicatorClassName(e)}_renderIndicator(e){const t=e.container,n=e.indicator;if(e.name==="headerFilter"){const s=this.option("rtlEnabled");if(t.children().length&&(!s&&e.columnAlignment==="right"||s&&e.columnAlignment==="left")){t.prepend(n);return}}super._renderIndicator(e)}},sce={month:i=>ut.getMonthNames()[i-1],quarter:i=>ut.format(new Date(2e3,3*i-1),"quarter")};function MB(i,e,t){return e=e||[],t=t||[],i.forEach(n=>{if(G(n.key)){const s=e.length===1;if(e.push(s?n.key-1:n.key),n.items)MB(n.items,e,t);else{const r=new Date(Date.UTC.apply(Date,e));t.push(r)}e.pop()}else t.push(null)}),t}function rce(i,e){const t=MB(i),n=Hi(t),s=xe.getHeaderFilterGroupParameters(Object.assign({},e,{calculateCellValue:r=>r}));return Mo.queryByOptions(n,{group:s}).toArray()}function oce(i){return(i==null?void 0:i.slice(-1))==="Z"||(i==null?void 0:i.slice(-3))==="'Z'"}const ace=function(i,e,t){const n=ud.getGroupInterval(e),s=xe.getFormatOptionsByColumn(e,"headerFilter");return n&&(s.groupInterval=n[t],xe.isDateType(e.dataType)?s.format=sce[n[t]]:e.dataType==="number"&&(s.getDisplayFormat=function(){const r={format:e.format,target:"headerFilter"},o=xe.formatValue(i,r),a=i+n[t],l=xe.formatValue(a,r);return o&&l?`${o} - ${l}`:""})),s};class lce extends fn.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._headerFilterView=this.getView("headerFilterView")}_updateSelectedState(e,t){let n=e.length;const s=t.filterType==="exclude";for(;n--;){const r=e[n];"items"in e[n]&&this._updateSelectedState(e[n].items,t),nce(r,xe.getIndexByKey(e[n].value,t.filterValues,null)>-1,s)}}_normalizeGroupItem(e,t,n){let s,r;const{path:o}=n,{valueSelector:a}=n,{displaySelector:l}=n,{column:d}=n;return a&&l?(s=a(e),r=l(e)):(s=e.key,r=s),Me(e)?e=se({},e):e={},o.push(s),o.length===1?e.value=o[0]:e.value=o.join("/"),e.text=this.getHeaderItemText(r,d,t,n.headerFilterOptions),e}getHeaderItemText(e,t,n,s){let r=xe.formatValue(e,ace(e,t,n));return r||(r=s.texts.emptyValue),r}_processGroupItems(e,t,n,s){const r=this;let o,a;const{column:l}=s,{lookup:d}=l,{level:c}=s;n=n||[],t=t||0,d&&(o=qt(d.displayExpr),a=qt(d.valueExpr));for(let h=0;h<e.length;h++)e[h]=r._normalizeGroupItem(e[h],t,{column:s.column,headerFilterOptions:s.headerFilterOptions,displaySelector:o,valueSelector:a,path:n}),"items"in e[h]&&(t===c||!G(e[h].value)?delete e[h].items:r._processGroupItems(e[h].items,t+1,n,s)),n.pop()}getDataSource(e){var t;const n=this._dataController.dataSource(),s=n==null?void 0:n.remoteOperations().grouping,r=xe.getHeaderFilterGroupParameters(e,s),o=(t=e.headerFilter)===null||t===void 0?void 0:t.dataSource,a=this.option("headerFilter");let l=!1;const d={component:this.component};if(!n)return;if(G(o)&&!Ie(o))d.dataSource=nl(o);else if(e.lookup)if(l=!0,this.option("syncLookupFilterValues")){this._currentColumn=e;const u=this._dataController.getCombinedFilter();this._currentColumn=null,d.dataSource=xe.getWrappedLookupDataSource(e,n,u)}else d.dataSource=xe.normalizeLookupDataSource(e.lookup);else{const u=Array.isArray(r)?r.length-1:0;this._currentColumn=e;const p=this._dataController.getCombinedFilter();this._currentColumn=null,d.dataSource={filter:p,group:r,useDefaultSearch:!0,load:f=>{const g=new de;return f.dataField=e.dataField||e.name,n.load(f).done(m=>{s&&oce(e.serializationFormat)&&u>3&&(m=rce(m,e)),h._processGroupItems(m,null,null,{level:u,column:e,headerFilterOptions:a}),g.resolve(m)}).fail(g.reject),g}}}Ie(o)&&o.call(e,d);const c=d.dataSource.postProcess,h=this;return d.dataSource.postProcess=function(u){let p=u;return l&&(p=p.filter(f=>f[e.lookup.valueExpr]!==null),this.pageIndex()===0&&!this.searchValue()&&(p=p.slice(0),p.unshift(null)),h._processGroupItems(p,null,null,{level:0,column:e,headerFilterOptions:a})),p=c&&c.call(this,p)||p,h._updateSelectedState(p,e),p},d.dataSource}getCurrentColumn(){return this._currentColumn}showHeaderFilterMenu(e,t){const n=this._columnsController,s=se(!0,{},this._columnsController.getColumns()[e]);if(s){const r=n.getVisibleIndex(e),a=(t?this.getView("headerPanel"):this.getView("columnHeadersView")).getColumnElements().eq(t?s.groupIndex:r);this.showHeaderFilterMenuBase({columnElement:a,column:s,applyFilter:!0,apply(){n.columnOption(e,{filterValues:this.filterValues,filterType:this.filterType})}})}}showHeaderFilterMenuBase(e){const t=this,{column:n}=e;if(n){const s=ud.getGroupInterval(n),r=t._dataController.dataSource(),o=r&&r.remoteOperations().filtering,a=e.onHidden;se(e,n,{type:s&&s.length>1?"tree":"list",remoteFiltering:o,onShowing:l=>{const d=l.component.$overlayContent().dxResizable("instance");d&&d.option("onResizeEnd",c=>{let h=this._columnsController.columnOption(e.dataField,"headerFilter");h=h||{},h.width=c.width,h.height=c.height,this._columnsController.columnOption(e.dataField,"headerFilter",h,!0)})},onHidden:()=>{a==null||a(),y1(this)}}),e.dataSource=t.getDataSource(e),e.isFilterBuilder&&(e.dataSource.filter=null,e.alignment="right"),t._headerFilterView.showHeaderFilterMenu(e.columnElement,e)}}hideHeaderFilterMenu(){this._headerFilterView.hideHeaderFilterMenu()}}const dce=i=>class extends PB(i){_renderCellContent(e,t){const n=this;let s;const{column:r}=t;!r.command&&h_(r)&&n.option("headerFilter.visible")&&t.rowType==="header"&&(s=n._applyColumnState({name:"headerFilter",rootElement:e,column:r,showColumnLines:n.option("showColumnLines")}),s&&n._subscribeToIndicatorEvent(s,r,"headerFilter")),super._renderCellContent.apply(this,arguments)}_subscribeToIndicatorEvent(e,t,n){n==="headerFilter"&&Y.on(e,Nt,this.createAction(s=>{s.event.stopPropagation(),s5(e,this),this._headerFilterController.showHeaderFilterMenu(t.index,!1)}))}_updateIndicator(e,t,n){const s=super._updateIndicator(e,t,n);s&&this._subscribeToIndicatorEvent(s,t,n)}_updateHeaderFilterIndicators(){this.option("headerFilter.visible")&&this._updateIndicators("headerFilter")}_needUpdateFilterIndicators(){return!0}_columnOptionChanged(e){const{optionNames:t}=e,n=xe.checkChanges(t,["filterValues","filterValue"]),s=xe.checkChanges(t,["filterValues","filterType"]);(n||s)&&this._needUpdateFilterIndicators()&&this._updateHeaderFilterIndicators(),s||super._columnOptionChanged(e)}},cce=i=>class extends PB(i){_createGroupPanelItem(e,t){const n=this,s=super._createGroupPanelItem.apply(n,arguments);let r;return!t.command&&h_(t)&&n.option("headerFilter.visible")&&(r=n._applyColumnState({name:"headerFilter",rootElement:s,column:{alignment:tl(n.option("rtlEnabled")),filterValues:t.filterValues,allowHeaderFiltering:!0,caption:t.caption},showColumnLines:!0}),r&&Y.on(r,Nt,n.createAction(o=>{const{event:a}=o;a.stopPropagation(),this._headerFilterController.showHeaderFilterMenu(t.index,!0)}))),s}},uce=i=>class extends i{skipCalculateColumnFilters(){return!1}_calculateAdditionalFilter(){if(this.skipCalculateColumnFilters())return super._calculateAdditionalFilter();const e=[super._calculateAdditionalFilter()],t=this._columnsController.getVisibleColumns(null,!0),s=this._headerFilterController.getCurrentColumn();return ie(t,(r,o)=>{let a;if(!(s&&s.index===o.index)&&h_(o)&&o.calculateFilterExpression&&Array.isArray(o.filterValues)&&o.filterValues.length){let l=[];ie(o.filterValues,(d,c)=>{Array.isArray(c)?a=c:(o.deserializeValue&&!xe.isDateType(o.dataType)&&o.dataType!=="number"&&(c=o.deserializeValue(c)),a=o.createFilterExpression(c,"=","headerFilter")),a&&(a.columnIndex=o.index),l.push(a)}),l=xe.combineFilters(l,"or"),e.push(o.filterType==="exclude"?["!",l]:l)}}),xe.combineFilters(e)}},hce={defaultOptions:()=>({syncLookupFilterValues:!0,headerFilter:{visible:!1,width:252,height:325,allowSelectAll:!0,search:{enabled:!1,timeout:500,mode:"contains",editorOptions:{}},texts:{emptyValue:ue.format("dxDataGrid-headerFilterEmptyValue"),ok:ue.format("dxDataGrid-headerFilterOK"),cancel:ue.format("dxDataGrid-headerFilterCancel")}}}),controllers:{headerFilter:lce},views:{headerFilterView:ice},extenders:{controllers:{data:uce},views:{columnHeadersView:dce,headerPanel:cce}}};Ue.registerModule("headerFilter",hce);function pce(i,e){const t=M("<div>").addClass("dx-filterbuilder-range-start"),n=M("<div>").addClass("dx-filterbuilder-range-end");let s=i.value||[];const r=function(a){return a&&a.length>0?a[0]:null},o=function(a){return a&&a.length===2?a[1]:null};e.append(t),e.append(M("<span>").addClass("dx-filterbuilder-range-separator").text("")),e.append(n),e.addClass("dx-filterbuilder-range"),this._editorFactory.createEditor.call(this,t,se({},i.field,i,{value:r(s),parentType:"filterBuilder",setValue(a){s=[a,o(s)],i.setValue(s)}})),this._editorFactory.createEditor.call(this,n,se({},i.field,i,{value:o(s),parentType:"filterBuilder",setValue(a){s=[r(s),a],i.setValue(s)}}))}function kk(i,e){return{name:"between",caption:i,icon:"range",valueSeparator:"",dataTypes:["number","date","datetime"],editorTemplate:pce.bind(e),notForLookup:!0}}const fce={"=":"equal","<>":"notequal","<":"less","<=":"lessorequal",">":"greater",">=":"greaterorequal",notcontains:"doesnotcontain",contains:"contains",startswith:"startswith",endswith:"endswith",isblank:"isblank",isnotblank:"isnotblank"},mce={"=":"equal","<>":"notEqual","<":"lessThan","<=":"lessThanOrEqual",">":"greaterThan",">=":"greaterThanOrEqual",startswith:"startsWith",contains:"contains",notcontains:"notContains",endswith:"endsWith",isblank:"isBlank",isnotblank:"isNotBlank",between:"between"},FB={getIconByFilterOperation:i=>fce[i],getNameByFilterOperation:i=>mce[i]},gce={number:["=","<>","<",">","<=",">=","isblank","isnotblank"],string:["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"],date:["=","<>","<",">","<=",">=","isblank","isnotblank"],datetime:["=","<>","<",">","<=",">=","isblank","isnotblank"],boolean:["=","<>","isblank","isnotblank"],object:["isblank","isnotblank"]},_ce={date:"shortDate",datetime:"shortDateShortTime"},vce=["=","<>","isblank","isnotblank"],xce=["caption","customizeText","dataField","dataType","editorTemplate","falseText","editorOptions","filterOperations","format","lookup","trueText","calculateFilterExpression","name"];function bce(i,e){const t=i.format||_ce[i.dataType];if(Kl(e)){const n=i.trueText||ue.format("dxDataGrid-trueText"),s=i.falseText||ue.format("dxDataGrid-falseText");return e?n:s}return i.dataType==="date"||i.dataType==="datetime"?Zy.format(new Date(e),t):Zy.format(e,t)}function qa(i){return i&&i.length>1&&i[0]==="!"&&!mi(i)}function rl(i){return qa(i)?i[1]:i}function yce(i,e){return qa(i)?i[1]=e:i=e,i}function Cce(i,e){(function(t){return t.indexOf("!")!==-1})(e)?qa(i)||function(t){const n=t.slice(0);t.length=0,t.push("!",n)}(i):qa(i)&&function(t){const n=rl(t);t.length=0,[].push.apply(t,n)}(i)}function wce(i,e){Cce(i,e);const t=rl(i);let n;return e=function(s){return s.indexOf("!")===-1?s:s.substring(1)}(e),function(s,r){for(n=0;n<s.length;n++)Array.isArray(s[n])||(s[n]=r)}(t,e),i}function Sce(i,e){const t=md(i);return e.filter(n=>n.value===t)[0]}function BB(i){if(mi(i))return"and";let e="";for(let t=0;t<i.length;t++){const n=i[t];if(!Array.isArray(n)){if(e&&e!==n)throw pn.Error("E4019");n!=="!"&&(e=n)}}return e}function md(i){const e=rl(i);let t=BB(e);return t||(t="and"),e!==i&&(t=`!${t}`),t}function Ece(i){return i.lookup&&vce||gce[i.dataType||"string"]}function Ice(i){return Array.isArray(i)&&i.length}function NB(i){const e=Ice(i.filterOperations)?i.filterOperations:Ece(i);return se([],e)}function FC(i,e){const t=FB.getNameByFilterOperation(i);return e&&e[t]?e[t]:t}function Tce(i,e){for(let t=0;t<e.length;t++)if(e[t].value===i)return e[t];throw new pt.Error("E1048",i)}function To(i,e){const t=i.filter(n=>n.name===e);return t.length?t[0]:null}function Dce(i,e,t){const n=NB(i),s=!!i.lookup;return t.forEach(r=>{if(!i.filterOperations&&n.indexOf(r.name)===-1){const o=r&&r.dataTypes;!(s?!!r.notForLookup:!1)&&o&&o.indexOf(i.dataType||"string")>=0&&n.push(r.name)}}),n.map(r=>{const o=To(t,r);return o?{icon:o.icon||"icon-none",text:o.caption||Mc(o.name),value:o.name,isCustom:!0}:{icon:FB.getIconByFilterOperation(r)||"icon-none",text:FC(r,e),value:r}})}function nE(i){return i.defaultFilterOperation||NB(i)[0]}function Ace(i,e){const t=[i.dataField,"",""],n=nE(i);return NC(t,n,e),t}function BC(i,e){const t=rl(i),n=t.indexOf(e);return t.splice(n,1),t.length!==1&&t.splice(n,1),i}function VB(i){const e=iE(i),t=e?sE(i):i;return e?["!",[t]]:[t]}function Xg(i,e){const t=rl(e),n=md(t);return t.length===1?t.unshift(i):t.push(i,n),e}function Zg(i,e){for(let n=0;n<e.length;n++)if(e[n].name===i||e[n].dataField.toLowerCase()===i.toLowerCase())return e[n];const t=WB(e,!0).filter(n=>n.dataField.toLowerCase()===i.toLowerCase());if(t.length>0)return t[0];throw new pt.Error("E1047",i)}function ol(i){return Array.isArray(i)?i.length<2||Array.isArray(i[0])||Array.isArray(i[1]):!1}function mi(i){return Array.isArray(i)?i.length>1&&!Array.isArray(i[0])&&!Array.isArray(i[1]):!1}function Ok(i,e,t){t=t||"and";const n=BB(i).toLowerCase()||t;let s=[];for(let r=0;r<i.length;r++)ol(i[r])?(s.push(rE(i[r],e,t)),s=Zx(s,n)):mi(i[r])&&(s.push(Qg(i[r],e)),s=Zx(s,n));return s.length===0&&(s=Zx(s,n)),s}function kce(i,e){const t=To(e,i[1]);return t&&t.name===i[1]}function Qg(i,e){return kce(i,e)||i.length<3&&(i[2]=i[1],i[1]="="),i}function iE(i){return i.indexOf("not")!==-1}function sE(i){return i.substring(3).toLowerCase()}function Xx(i,e){const t=iE(e);return e=t?sE(e):e,t?["!",i,e]:[i,e]}function Zx(i,e){const t=iE(e);e=t?sE(e):e,i.push(e);let n=i;return t&&(n=["!",n]),n}function rE(i,e,t){return t=t||"and",i?(i=se(!0,[],i),mi(i)?Xx(Qg(i,e),t):qa(i)?["!",mi(i[1])?Xx(Qg(i[1],e),t):qa(i[1])?Xx(rE(i[1],e),t):Ok(i[1],e,t)]:Ok(i,e,t)):VB(t)}function Oce(i){return i.reduce((e,t)=>{if(G(t.dataField)){const n={};for(const s in t)t[s]&&xce.includes(s)&&(n[s]=t[s]);n.defaultCalculateFilterExpression=ud.defaultCalculateFilterExpression,G(n.dataType)||(n.dataType="string"),G(n.trueText)||(n.trueText=ue.format("dxDataGrid-trueText")),G(n.falseText)||(n.falseText=ue.format("dxDataGrid-falseText")),e.push(n)}return e},[])}function Rk(i,e,t,n){const s=Zg(i[0],e),r=Qg(i,t),o=t.length&&To(t,r[1]);return o&&o.calculateFilterExpression?o.calculateFilterExpression.apply(o,[r[2],s,e]):s.createFilterExpression?s.createFilterExpression.apply(s,[r[2],r[1],n]):s.calculateFilterExpression?s.calculateFilterExpression.apply(s,[r[2],r[1],n]):s.defaultCalculateFilterExpression.apply(s,[r[2],r[1],n])}function Lc(i,e,t,n){if(!G(i))return null;if(qa(i))return["!",Lc(i[1],e,t,n)];const s=rl(i);if(mi(s))return Rk(s,e,t,n)||null;let r=[],o;const a=md(s);for(let l=0;l<s.length;l++)ol(s[l])?(o=Lc(s[l],e,t,n),o&&(l&&r.push(a),r.push(o))):mi(s[l])&&(o=Rk(s[l],e,t,n),o&&(r.length&&r.push(a),r.push(o)));return r.length===1&&(r=r[0]),r.length?r:null}function ph(i){const e=rl(i);let t;if(e.length===0)return null;const n=[];for(t=0;t<e.length;t++)if(ol(e[t])){const s=ph(e[t]);s?e[t]=s:n.push(e[t])}else mi(e[t])&&(Pce(e[t])||n.push(e[t]));for(t=0;t<n.length;t++)BC(e,n[t]);return e.length===1||(e.splice(e.length-1,1),e.length===1&&(i=yce(i,e[0])),i.length===0)?null:i}function LB(i,e,t){if(e===""){t("");return}const{lookup:n}=i;if(n.items)t(n.calculateCellValue(e)||"");else{const s=Ie(n.dataSource)?n.dataSource({}):n.dataSource;new Os(s).loadSingle(n.valueExpr,e).done(o=>{let a="";o&&(a=n.displayExpr?qt(n.displayExpr)(o):o),i.customizeText&&(a=i.customizeText({value:e,valueText:a})),t(a)}).fail(()=>{t("")})}}function $B(i,e,t,n,s){let r=bce(i,e);return i.customizeText&&(r=i.customizeText.call(i,{value:e,valueText:r,target:n})),t&&t.customizeText&&(r=t.customizeText.call(t,{value:e,valueText:r,field:i,target:n},s)),r}function Rce(i,e,t,n){const s={values:e};return e.map(r=>$B(i,r,t,n,s))}function Qx(i){return i===""||i===null}function HB(i,e,t){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"filterBuilder";if(Qx(e))return"";if(Array.isArray(e)){const s=new de;return Ae.apply(this,Rce(i,e,t,n)).done(function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];const l=o.some(d=>!Qx(d))?o.map(d=>Qx(d)?"?":d):"";s.resolve(l)}),s}return $B(i,e,t,n)}function Pk(i,e){return i.some(t=>t.dataField===e)}function jB(i,e,t){const{dataField:n}=t;oE(n)&&(t.parentId=UB(n),!Pk(e,t.parentId)&&!Pk(i,t.parentId)&&jB(i,e,{id:t.parentId,dataType:"object",dataField:t.parentId,caption:zB(t.parentId,!0),filterOperations:["isblank","isnotblank"],defaultCalculateFilterExpression:ud.defaultCalculateFilterExpression})),e.push(t)}function zB(i,e){let t="";if(e)i=i.substring(i.lastIndexOf(".")+1);else if(oE(i))return i.split(".").forEach((n,s,r)=>{t+=Mc(n),s!==r.length-1&&(t+=".")}),t;return Mc(i)}function WB(i,e){const t=[];for(let n=0;n<i.length;n++){const s=se(!0,{caption:zB(i[n].dataField,e)},i[n]);s.id=s.name||s.dataField,e?jB(i,t,s):t.push(s)}return t}function oE(i){return i.lastIndexOf(".")!==-1}function UB(i){return i.substring(0,i.lastIndexOf("."))}function KB(i,e){if(oE(i.dataField)){const t=UB(i.dataField);for(let n=0;n<e.length;n++)if(e[n].dataField===t)return`${KB(e[n],e)}.${i.caption}`}return i.caption}function NC(i,e,t){let n=To(t,e);return n?(n.hasValue===!1?(i[1]=e,i.length=2):(i[1]=e,i[2]=""),i):(e==="isblank"?(i[1]="=",i[2]=null):e==="isnotblank"?(i[1]="<>",i[2]=null):(n=To(t,i[1]),(n||i.length===2||i[2]===null)&&(i[2]=""),i[1]=e),i)}function Mk(i){let e;return i[2]===null?i[1]==="="?e="isblank":e="isnotblank":e=i[1],e}function Pce(i){return i[2]!==""}function Mce(i,e,t){const n=se(!0,[],i);let s=-1;return n.some((r,o)=>{if(r.name==="between")return s=o,!0}),s!==-1?n[s]=se(kk(e,t),n[s]):n.unshift(kk(e,t)),n}function np(i,e){return i[0]===e}function VC(i,e){return!i||i.length===0?null:mi(i)?np(i,e)?null:i:GB(i,[e],!1)}function GB(i,e,t){const n=[],s=qa(i);return i.forEach(r=>{mi(r)?np(r,e[0])?t?(n.push(e),t=!1):n.splice(n.length-1,1):n.push(r):(n.length||ol(r))&&n.push(r)}),n.length===0?null:(t&&(n.push("and"),n.push(e)),s?["!",n.length===1?n[0]:n]:n.length===1?n[0]:n)}function Fk(i,e){return i===null||i.length===0?e:mi(i)?np(i,e[0])?e:[i,"and",e]:md(i)!=="and"?[e,"and",i]:GB(i,e,!0)}function Fce(i,e){return i===null||i.length===0?[]:mi(i)?np(i,e)?[i]:[]:md(i)!=="and"?[]:i.filter(s=>mi(s)&&np(s,e))}function qB(i,e){return i===null||i.length===0?!1:mi(i)?i[0]===e:i.some(t=>(mi(t)||ol(t))&&qB(t,e))}const LC=function(i,e,t){if(Array.isArray(e)){const n=e.length-1;i.empty(),e.forEach((s,r)=>{M("<span>").addClass("dx-filterbuilder-text-part").text(s).appendTo(i),r!==n&&M("<span>").addClass("dx-filterbuilder-text-separator").text(t&&t.valueSeparator?t.valueSeparator:"|").addClass("dx-filterbuilder-text-separator-empty").appendTo(i)})}else e?i.text(e):i.text(ue.format("dxFilterBuilder-enterValueText"))};function YB(i){const e=function(s,r){return r?`${r}/${s}`:s},t=function(s,r){let o=[];return s.forEach(a=>{if(a.items){const l=t(a.items,e(a.text,r));o=o.concat(l)}a.selected&&o.push(e(a.text,r))}),o},n=i&&i.getController("headerFilter");return{dataTypes:["string","date","datetime","number","boolean","object"],calculateFilterExpression:function(s,r,o){const a=[],l=s.length-1;return s&&s.forEach((d,c)=>{if(mi(d)||ol(d)){const h=Lc(d,o,[],"headerFilter");a.push(h)}else{const h=Lc([r.dataField,"=",d],o,[],"headerFilter");a.push(h)}c!==l&&a.push("or")}),a.length===1?a[0]:a},editorTemplate(s,r){const o=M("<div>").addClass("dx-filterbuilder-item-value-text").appendTo(r),a=se(!0,{},i.columnOption(s.field.dataField));return LC(o,s.text&&s.text.split("|")),a.filterType="include",a.filterValues=s.value?s.value.slice():[],n.showHeaderFilterMenuBase({columnElement:o,column:a,apply(){l=this.filterValues,s.setValue(l);var l;n.hideHeaderFilterMenu(),s.closeEditor()},onHidden(){s.closeEditor()},isFilterBuilder:!0}),r},customizeText:function(s,r){r=r||{};const{value:o}=s;let a=i.columnOption(s.field.dataField);const l=a&&a.headerFilter,d=a&&a.lookup,c=r.values||[o];if(l&&l.dataSource||d&&d.dataSource){const u=new de,p=r.items||new de;if(!r.items){a=se({},a,{filterType:"include",filterValues:c});const f=n.getDataSource(a);f.paginate=!1;const g=new Os(f),m=g.store().key();if(m){const{values:v}=r;if(v&&v.length>1){const _=v.reduce((x,y)=>(x.length&&x.push("or"),x.push([m,"=",y]),x),[]);g.filter(_)}else g.filter([m,"=",s.value])}else s.field.calculateDisplayValue&&pt.log("W1017");r.items=p,g.load().done(p.resolve)}return p.done(f=>{const g=c.indexOf(s.value);u.resolve(t(f,null)[g])}),u}return n.getHeaderItemText(o,a,0,i.option("headerFilter"))}}}function Bce(i){return se(YB(i),{name:"anyof",icon:"selectall",caption:ue.format("dxFilterBuilder-filterOperationAnyOf")})}function Nce(i){const e=YB(i);return se({},e,{calculateFilterExpression(t,n,s){const r=e.calculateFilterExpression(t,n,s);return!r||r.length===0?null:r[0]==="!"?r:["!",r]},name:"noneof",icon:"unselectall",caption:ue.format("dxFilterBuilder-filterOperationNoneOf")})}const Vce=["=","<>","<","<=",">",">=","notcontains","contains","startswith","endswith","between"];function Yr(i){return i.name||i.dataField}function Lce(i){i.forEach(e=>{const t=Yr(e);if(!G(t)&&e.allowFiltering)throw new pt.Error("E1049",e.caption)})}const Jx=function(){return{filterType:"include",filterValues:void 0}},XB=function(i){const e=i.filterValues||[];return!ud.getGroupInterval(i)&&!(i.headerFilter&&i.headerFilter.dataSource)||e.length===1&&e[0]===null},$ce=function(i,e){if(!i)return Jx();let t;const n=i[1],s=i[2],r=Array.isArray(s);if(!r&&!XB(e))return Jx();switch(n){case"anyof":case"=":t="include";break;case"noneof":case"<>":t="exclude";break;default:return Jx()}return{filterType:t,filterValues:r?s:[s]}},Bk=function(i){const e=i.filterValue;if(G(e)){const t=i.selectedFilterOperation||i.defaultFilterOperation||nE(i);return[Yr(i),t,i.filterValue]}return null},Nk=function(i){let e,t;const{filterValues:n}=i;return n?(n.length===1&&XB(i)&&!Array.isArray(n[0])?(i.filterType==="exclude"?e="<>":e="=",t=n[0]):(i.filterType==="exclude"?e="noneof":e="anyof",t=n),[Yr(i),e,t]):null},Vk=function(i,e,t){const n=$ce(t,e);i.columnOption(Yr(e),n)},Lk=function(i,e,t){let n,s=t==null?void 0:t[1];const r=t==null?void 0:t[2],o=e.filterOperations||e.defaultFilterOperations,a=!o||o.indexOf(s)>=0,l=s===e.defaultFilterOperation,d=Vce.includes(s);(a||l)&&d&&(r!==null&&r!=="")?(l&&!G(e.selectedFilterOperation)&&(s=e.selectedFilterOperation),n={filterValue:r,selectedFilterOperation:s}):n={filterValue:void 0,selectedFilterOperation:void 0},i.columnOption(Yr(e),n)};class Hce extends fn.Controller{init(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._dataController.isFilterSyncActive()&&(this._columnsController.isAllDataTypesDefined()?this._initSync():this._dataController.dataSourceChanged.add(()=>this._initSync()))}publicMethods(){return["getCustomFilterOperations"]}syncFilterValue(){const e=this,t=this._columnsController.getFilteringColumns();this._skipSyncColumnOptions=!0,t.forEach(n=>{const s=Fce(e.option("filterValue"),Yr(n));if(s.length===1){const r=s[0];Vk(this._columnsController,n,r),Lk(this._columnsController,n,r)}else G(n.filterValues)&&Vk(this._columnsController,n,null),G(n.filterValue)&&Lk(this._columnsController,n,null)}),this._skipSyncColumnOptions=!1}_initSync(){const e=this._columnsController.getColumns(),t=this._dataController.pageIndex();if(Lce(e),!this.option("filterValue")){const n=this._columnsController.getFilteringColumns(),s=this.getFilterValueFromColumns(n);this._silentOption("filterValue",s)}this.syncFilterValue(),this._dataController.pageIndex(t)}_getSyncFilterRow(e,t){const n=Bk(t);return G(n)?Fk(e,n):VC(e,Yr(t))}_getSyncHeaderFilter(e,t){const n=Nk(t);return n?Fk(e,n):VC(e,Yr(t))}getFilterValueFromColumns(e){if(!this._dataController.isFilterSyncActive())return null;const t=["and"];return e&&e.forEach(n=>{const s=Nk(n),r=Bk(n);s&&Xg(s,t),r&&Xg(r,t)}),ph(t)}syncFilterRow(e,t){this.option("filterValue",this._getSyncFilterRow(this.option("filterValue"),e))}syncHeaderFilter(e){this.option("filterValue",this._getSyncHeaderFilter(this.option("filterValue"),e))}getCustomFilterOperations(){const e=this.option("filterBuilder.customOperations")??[];return[Bce(this.component),Nce(this.component)].concat(e)}}const jce=i=>class extends i{optionChanged(e){switch(e.name){case"filterValue":this._applyFilter(),this.isFilterSyncActive()&&this._filterSyncController.syncFilterValue(),e.handled=!0;break;case"filterSyncEnabled":e.handled=!0;break;case"columns":if(this.isFilterSyncActive()){const t=this._columnsController.getColumnByPath(e.fullName);if(t&&!this._filterSyncController._skipSyncColumnOptions){const n=this._parseColumnPropertyName(e.fullName);this._filterSyncController._skipSyncColumnOptions=!0,n==="filterType"?(e.value==="exclude"||e.previousValue==="exclude")&&this._filterSyncController.syncHeaderFilter(t):n==="filterValues"?this._filterSyncController.syncHeaderFilter(t):["filterValue","selectedFilterOperation"].includes(n)&&this._filterSyncController.syncFilterRow(t,t.filterValue),this._filterSyncController._skipSyncColumnOptions=!1}}super.optionChanged(e);break;default:super.optionChanged(e)}}isFilterSyncActive(){const e=this.option("filterSyncEnabled");return e==="auto"?this.option("filterPanel.visible"):e}skipCalculateColumnFilters(){return(G(this.option("filterValue"))||this._filterSyncController._skipSyncColumnOptions)&&this.isFilterSyncActive()}_calculateAdditionalFilter(){const e=this._columnsController.getFilteringColumns();if(!(e!=null&&e.length)||this.option("filterPanel.filterEnabled")===!1)return super._calculateAdditionalFilter();const t=[super._calculateAdditionalFilter()];let n=this.option("filterValue");if(this.isFilterSyncActive()){const o=this._headerFilterController.getCurrentColumn(),a=this._applyFilterController.getCurrentColumnForFiltering(),l=o||a;(o||G(a==null?void 0:a.filterValue))&&n&&(n=VC(n,Yr(l)))}const s=this._filterSyncController.getCustomFilterOperations(),r=Lc(n,e,s,"filterBuilder");return r&&t.push(r),xe.combineFilters(t)}_parseColumnPropertyName(e){const t=e.match(/.*\.(.*)/);return t?t[1]:null}clearFilter(e){this.component.beginUpdate(),arguments.length>0?(e==="filterValue"&&this.option("filterValue",null),super.clearFilter(e)):(this.option("filterValue",null),super.clearFilter()),this.component.endUpdate()}_applyFilter(){return this._filterSyncController._skipSyncColumnOptions?new de().resolve():super._applyFilter.apply(this,arguments)}},zce=i=>class extends i{optionChanged(e){e.name==="filterValue"?this._updateHeaderFilterIndicators():super.optionChanged(e)}_isHeaderFilterEmpty(e){return this._dataController.isFilterSyncActive()?!qB(this.option("filterValue"),Yr(e)):super._isHeaderFilterEmpty(e)}_needUpdateFilterIndicators(){return!this._dataController.isFilterSyncActive()}},Wce={defaultOptions:()=>({filterValue:null,filterSyncEnabled:"auto"}),controllers:{filterSync:Hce},extenders:{controllers:{data:jce},views:{columnHeadersView:zce}}};Ue.registerModule("filterSync",Wce);const $k="dx-filterbuilder-action-icon",tm="dx-state-active",Hk="filterBuilder",Uce="dx-treeview-node-container",Kce=[{name:"onEditorPreparing",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onEditorPrepared",config:{excludeValidators:["disabled","readOnly"],category:"rendering"}},{name:"onValueChanged",config:{excludeValidators:["disabled","readOnly"]}}],jk={and:"and",or:"or",notAnd:"!and",notOr:"!or"},Gce=iB(class{});class ZB extends Oi{_getDefaultOptions(){return se(super._getDefaultOptions(),{onEditorPreparing:null,onEditorPrepared:null,onValueChanged:null,fields:[],groupOperations:["and","or","notAnd","notOr"],maxGroupLevel:void 0,value:null,allowHierarchicalFields:!1,groupOperationDescriptions:{and:ue.format("dxFilterBuilder-and"),or:ue.format("dxFilterBuilder-or"),notAnd:ue.format("dxFilterBuilder-notAnd"),notOr:ue.format("dxFilterBuilder-notOr")},customOperations:[],closePopupOnTargetScroll:!0,filterOperationDescriptions:{between:ue.format("dxFilterBuilder-filterOperationBetween"),equal:ue.format("dxFilterBuilder-filterOperationEquals"),notEqual:ue.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:ue.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:ue.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:ue.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:ue.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:ue.format("dxFilterBuilder-filterOperationStartsWith"),contains:ue.format("dxFilterBuilder-filterOperationContains"),notContains:ue.format("dxFilterBuilder-filterOperationNotContains"),endsWith:ue.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:ue.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:ue.format("dxFilterBuilder-filterOperationIsNotBlank")}})}_optionChanged(e){switch(e.name){case"closePopupOnTargetScroll":break;case"onEditorPreparing":case"onEditorPrepared":case"onValueChanged":this._initActions();break;case"customOperations":this._initCustomOperations(),this._invalidate();break;case"fields":case"maxGroupLevel":case"groupOperations":case"allowHierarchicalFields":case"groupOperationDescriptions":case"filterOperationDescriptions":this._invalidate();break;case"value":if(e.value!==e.previousValue){const t=this._disableInvalidateForValue;t||(this._initModel(),this._invalidate()),this._disableInvalidateForValue=!1,this.executeAction("onValueChanged",{value:e.value,previousValue:e.previousValue}),this._disableInvalidateForValue=t}break;default:super._optionChanged(e)}}getFilterExpression(){const e=this._getNormalizedFields(),t=se(!0,[],this._model);return Lc(ph(t),e,this._customOperations,Hk)}_getNormalizedFields(){return Oce(this.option("fields"))}_updateFilter(){this._disableInvalidateForValue=!0;const e=se(!0,[],this._model),t=ph(e),n=ph(this._getModel(this.option("value")));JSON.stringify(n)!==JSON.stringify(t)&&this.option("value",t),this._disableInvalidateForValue=!1,this._fireContentReadyAction()}_init(){this._initCustomOperations(),this._initModel(),this._initEditorFactory(),this._initActions(),super._init()}_initEditorFactory(){this._editorFactory=new Gce}_initCustomOperations(){this._customOperations=Mce(this.option("customOperations"),this.option("filterOperationDescriptions.between"),this)}_getDefaultGroupOperation(){var e;return((e=this.option("groupOperations"))===null||e===void 0?void 0:e[0])??jk.and}_getModel(e){return rE(e,this._customOperations,this._getDefaultGroupOperation())}_initModel(){this._model=this._getModel(this.option("value"))}_initActions(){const e=this;e._actions={},Kce.forEach(t=>{const n=se({},t.config);e._actions[t.name]=e._createActionByOption(t.name,n)})}executeAction(e,t){const n=this._actions[e];return n&&n(t)}_initMarkup(){this.$element().addClass("dx-filterbuilder"),super._initMarkup(),this._addAriaAttributes(this.$element(),ue.format("dxFilterBuilder-filterAriaRootElement"),"group"),this._createGroupElementByCriteria(this._model).appendTo(this.$element())}_addAriaAttributes(e,t,n,s,r,o){if(!e||!e.length)return;const a={role:n};t&&(e.text().length>0?a.title=t:a["aria-label"]=t),G(s)&&(a["aria-haspopup"]=`${s}`),G(r)&&(a["aria-expanded"]=`${r}`),G(o)&&(a["aria-level"]=`${o}`),e.attr(a)}_createConditionElement(e,t,n){return M("<div>").addClass("dx-filterbuilder-group").append(this._createConditionItem(e,t,n)).attr("role","group")}_createGroupElementByCriteria(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const s=this._createGroupElement(e,t,n),r=s.find(".dx-filterbuilder-group-content"),o=rl(e);for(let a=0;a<o.length;a++){const l=o[a];ol(l)?this._createGroupElementByCriteria(l,e,n+1).appendTo(r):mi(l)&&this._createConditionElement(l,e,`${n+1}`).appendTo(r)}return s}_createGroupElement(e,t,n){const s=new Xt,r=M("<div>").addClass("dx-filterbuilder-group-item"),o=M("<div>").addClass("dx-filterbuilder-group-content").attr("id",`${s}`),a=M("<div>").addClass("dx-filterbuilder-group").append(r).append(o);t!=null&&this._createRemoveButton(()=>{BC(t,e),a.remove(),this._updateFilter()},"group").appendTo(r);let l=n;return n===0&&(this._addAriaAttributes(a,"","tree"),l+=1),this._addAriaAttributes(r,ue.format("dxFilterBuilder-filterAriaGroupItem"),"treeitem",null,null,l),r.attr("aria-owns",`${s}`),this._createGroupOperationButton(e).appendTo(r),this._createAddButton(()=>{const d=VB(this._getDefaultGroupOperation());Xg(d,e),this._createGroupElement(d,e,n+1).appendTo(o),this._updateFilter()},()=>{const d=this.option("fields")[0],c=Ace(d,this._customOperations);Xg(c,e),this._createConditionElement(c,e,n+1).appendTo(o),this._updateFilter()},n).appendTo(r),a}_createButton(e){return M("<div>").text(e)}_createGroupOperationButton(e){const t=this._getGroupOperations(e);let n=Sce(e,t);const s=n.text,r=t&&t.length<2?this._createButton(s).addClass("dx-state-disabled"):this._createButtonWithMenu({caption:s,menu:{items:t,displayExpr:"text",keyExpr:"value",onItemClick:o=>{n!==o.itemData&&(wce(e,o.itemData.value),r.text(o.itemData.text),n=o.itemData,this._updateFilter())},onContentReady(o){o.component.selectItem(n)},cssClass:"dx-filterbuilder-group-operations"}});return this._addAriaAttributes(r,ue.format("dxFilterBuilder-filterAriaOperationButton"),"combobox",!0,!1),r.addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-group-operation").attr("tabindex",0)}_createButtonWithMenu(e){const t=this,n=function(){t.$element().find(`.${tm}`).removeClass(tm).attr("aria-expanded","false"),t.$element().find(".dx-overlay .dx-treeview").remove(),t.$element().find(".dx-overlay").remove()},s=this.option("rtlEnabled"),r=s?"right":"left",o=this._createButton(e.caption),a=new Xt;o.attr("aria-controls",`${a}`),se(e.menu,{id:a,focusStateEnabled:!0,selectionMode:"single",onItemClick:(l=e.menu.onItemClick,function(d){l(d),d.event.type==="dxclick"&&n()}),onHiding(){o.removeClass(tm).attr("aria-expanded","false")},position:{my:`${r} top`,at:`${r} bottom`,offset:"0 1",of:o,collision:"flip"},animation:null,onHidden(){n()},cssClass:`dx-filterbuilder-overlay ${e.menu.cssClass}`,rtlEnabled:s});var l;return e.popup={onShown(d){const h=M(d.component.content()).find(".dx-treeview");h.length&&t._applyAccessibilityAttributes(h),Y.on(h,"keyup keydown",p=>{const f=En(p);(p.type==="keydown"&&f==="tab"||p.type==="keyup"&&(f==="escape"||f==="enter"))&&(d.component.hide(),Y.trigger(e.menu.position.of,"focus"))});const u=h.dxTreeView("instance");u.focus(),u.option("focusedElement",null)}},this._subscribeOnClickAndEnterKey(o,()=>{n(),t._createPopupWithTreeView(e,t.$element()),o.addClass(tm).attr("aria-expanded","true")}),o}_hasValueButton(e){const t=To(this._customOperations,e[1]);return t?t.hasValue!==!1:e[2]!==null}_createOperationButtonWithMenu(e,t){const n=this,s=Dce(t,this.option("filterOperationDescriptions"),this._customOperations);let r=Tce(Mk(e),s);const o=this._createButtonWithMenu({caption:r.text,menu:{items:s,displayExpr:"text",onItemRendered(a){a.itemData.isCustom&&M(a.itemElement).addClass("dx-filterbuilder-menu-custom-operation")},onContentReady(a){a.component.selectItem(r)},onItemClick:a=>{if(r!==a.itemData){r=a.itemData,NC(e,r.value,n._customOperations);const l=o.siblings().filter(".dx-filterbuilder-item-value");n._hasValueButton(e)?(l.length!==0&&l.remove(),n._createValueButton(e,t).appendTo(o.parent())):l.remove(),o.text(r.text),this._updateFilter()}},cssClass:"dx-filterbuilder-operations"}}).addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-item-operation").attr("tabindex",0);return this._addAriaAttributes(o,ue.format("dxFilterBuilder-filterAriaItemOperation"),"combobox",!0,!1),o}_createOperationAndValueButtons(e,t,n){this._createOperationButtonWithMenu(e,t).appendTo(n),this._hasValueButton(e)&&this._createValueButton(e,t).appendTo(n)}_createFieldButtonWithMenu(e,t,n){const s=this,r=this.option("allowHierarchicalFields"),o=WB(e,r);let a=Zg(n.name||n.dataField,o);const l=function(c,h){return r?KB(c,h):c.caption};t[0]=a.name||a.dataField;const d=this._createButtonWithMenu({caption:l(a,o),menu:{items:o,dataStructure:"plain",keyExpr:"id",parentId:"parentId",displayExpr:"caption",onItemClick:c=>{if(a!==c.itemData){a=c.itemData,t[0]=a.name||a.dataField,t[2]=a.dataType==="object"?null:"",NC(t,nE(a),s._customOperations),d.siblings().filter(".dx-filterbuilder-text").remove(),s._createOperationAndValueButtons(t,a,d.parent());const h=l(a,c.component.option("items"));d.text(h),this._updateFilter()}},onContentReady(c){c.component.selectItem(a)},cssClass:"dx-filterbuilder-fields"}}).addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-item-field").attr("tabindex",0);return this._addAriaAttributes(d,ue.format("dxFilterBuilder-filterAriaItemField"),"combobox",!0,!1),d}_createConditionItem(e,t,n){const s=M("<div>").addClass("dx-filterbuilder-group-item"),r=this._getNormalizedFields(),o=Zg(e[0],r);return this._addAriaAttributes(s,"","treeitem",null,null,n),this._createRemoveButton(()=>{BC(t,e),s.parent().children().length===1?s.parent().remove():s.remove(),this._updateFilter()},"condition").appendTo(s),this._createFieldButtonWithMenu(r,e,o).appendTo(s),this._createOperationAndValueButtons(e,o,s),s}_getGroupOperations(e){let t=this.option("groupOperations");const n=this.option("groupOperationDescriptions");return(!t||!t.length)&&(t=[md(e).replace("!","not")]),t.map(s=>({text:n[s],value:jk[s]}))}_createRemoveButton(e,t){const n=M("<div>").addClass($k).addClass("dx-icon-remove").addClass("dx-filterbuilder-action").attr("tabindex",0);if(t){const s=ue.format("dxFilterBuilder-filterAriaRemoveButton",t);this._addAriaAttributes(n,s,"button")}return this._subscribeOnClickAndEnterKey(n,e),n}_createAddButton(e,t,n){let s;const r=this.option("maxGroupLevel");return G(r)&&n>=r?(s=this._createButton(),this._subscribeOnClickAndEnterKey(s,t)):s=this._createButtonWithMenu({menu:{items:[{caption:ue.format("dxFilterBuilder-addCondition"),click:t},{caption:ue.format("dxFilterBuilder-addGroup"),click:e}],displayExpr:"caption",onItemClick(o){o.itemData.click()},cssClass:"dx-filterbuilder-add-condition"}}),this._addAriaAttributes(s,ue.format("dxFilterBuilder-filterAriaAddButton"),"combobox",!0,!1),s.addClass($k).addClass("dx-icon-plus").addClass("dx-filterbuilder-action").attr("tabindex",0)}_createValueText(e,t,n){const s=this,r=M("<div>").html("&nbsp;").addClass("dx-filterbuilder-item-value-text").attr("tabindex",0).appendTo(n);this._addAriaAttributes(r,ue.format("dxFilterBuilder-filterAriaItemValue"),"button",!0);const o=e[2],a=To(s._customOperations,e[1]);return!a&&t.lookup?LB(t,o,l=>{LC(r,l)}):Ae(HB(t,o,a)).done(l=>{LC(r,l,a)}),s._subscribeOnClickAndEnterKey(r,l=>{l.type==="keyup"&&l.stopPropagation(),s._createValueEditorWithEvents(e,t,n)}),r}_updateConditionValue(e,t,n){e[2]!==t&&(e[2]=t),n(),this._updateFilter()}_addDocumentKeyUp(e,t){let n=!1,s=!1;const r=ve.getDocument(),o=l=>{if(n||s){s=!1;return}t(l)};Y.on(r,"keyup",o);const a=e.find("input");Y.on(a,"compositionstart",()=>{n=!0}),Y.on(a,"compositionend",()=>{n=!1,s=!0}),Y.on(a,"keydown",l=>{l.which!==229&&(s=!1)}),this._documentKeyUpHandler=o}_addDocumentClick(e,t){const n=ve.getDocument(),s=r=>{this._isFocusOnEditorParts(e,r.target)||(Y.trigger(e.find("input"),"change"),t())};Y.on(n,"dxpointerdown",s),this._documentClickHandler=s}_isFocusOnEditorParts(e,t){const n=t||ve.getActiveElement();return M(n).closest(e.children()).length||M(n).closest(".dx-dropdowneditor-overlay").length}_removeEvents(){const e=ve.getDocument();G(this._documentKeyUpHandler)&&Y.off(e,"keyup",this._documentKeyUpHandler),G(this._documentClickHandler)&&Y.off(e,"dxpointerdown",this._documentClickHandler)}_dispose(){this._removeEvents(),super._dispose()}_createValueEditorWithEvents(e,t,n){let s=e[2];const r=()=>(n.empty(),this._removeEvents(),this._createValueText(e,t,n)),o=()=>{this._updateConditionValue(e,s,()=>{r()})},a={value:s===""?null:s,filterOperation:Mk(e),setValue(d){s=d===null?"":d},closeEditor:o,text:n.text()};n.empty();const l=this._createValueEditor(n,t,a);Y.trigger(l.find("input").not(":hidden").eq(0),"focus"),this._removeEvents(),this._addDocumentClick(l,o),this._addDocumentKeyUp(l,d=>{const c=En(d);if(c==="tab"){if(this._isFocusOnEditorParts(l))return;this._updateConditionValue(e,s,()=>{r(),d.shiftKey&&Y.trigger(n.prev(),"focus")})}c==="escape"&&Y.trigger(r(),"focus"),c==="enter"&&this._updateConditionValue(e,s,()=>{Y.trigger(r(),"focus")})}),this._fireContentReadyAction()}_createValueButton(e,t){const n=M("<div>").addClass("dx-filterbuilder-text").addClass("dx-filterbuilder-item-value");return this._createValueText(e,t,n),n}_createValueEditor(e,t,n){const s=M("<div>").attr("tabindex",0).appendTo(e),r=To(this._customOperations,n.filterOperation),o=r&&r.editorTemplate?r.editorTemplate:t.editorTemplate;return o?this._getTemplate(o).render({model:se({field:t},n),container:s}):this._editorFactory.createEditor.call(this,s,se({},t,n,{parentType:Hk})),s}_createPopupWithTreeView(e,t){const n=this,s=M("<div>").addClass(e.menu.cssClass).appendTo(t);this._createComponent(s,hr,{onHiding:e.menu.onHiding,onHidden:e.menu.onHidden,rtlEnabled:e.menu.rtlEnabled,position:e.menu.position,animation:e.menu.animation,contentTemplate(r){const o=M("<div>").appendTo(r);n._createComponent(o,Gp,e.menu),o.attr("id",`${e.menu.id}`),this.repaint()},_ignoreFunctionValueDeprecation:!0,maxHeight:()=>OB(e.menu.position.of),visible:!0,focusStateEnabled:!1,preventScrollEvents:!1,hideOnParentScroll:this.option("closePopupOnTargetScroll"),_hideOnParentScrollTarget:s,hideOnOutsideClick:!0,onShown:e.popup.onShown,shading:!1,width:"auto",height:"auto",showTitle:!1,_wrapperClassExternal:e.menu.cssClass,_ignorePreventScrollEventsDeprecation:!0})}_subscribeOnClickAndEnterKey(e,t){Y.on(e,"dxclick",t),Y.on(e,"keyup",n=>{En(n)==="enter"&&t(n)})}_applyAccessibilityAttributes(e){var t;const n=e.closest(".dx-overlay-content");n==null||n.removeAttr("role");const s=n==null||(t=n.find)===null||t===void 0?void 0:t.call(n,`.${Uce}`);s==null||s.attr("role","presentation")}addWidgetPrefix(e){return`dx-filterbuilder-${e}`}}St("dxFilterBuilder",ZB);class qce extends fn.View{init(){super.init(),this._columnsController=this.getController("columns"),this._filterSyncController=this.getController("filterSync")}optionChanged(e){switch(e.name){case"filterBuilder":case"filterBuilderPopup":this._invalidate(),e.handled=!0;break;default:super.optionChanged(e)}}_renderCore(){this._updatePopupOptions()}_updatePopupOptions(){this.option("filterBuilderPopup.visible")?this._initPopup():this._filterBuilderPopup&&this._filterBuilderPopup.hide()}_disposePopup(){this._filterBuilderPopup&&(this._filterBuilderPopup.dispose(),this._filterBuilderPopup=void 0),this._filterBuilder&&(this._filterBuilder.dispose(),this._filterBuilder=void 0)}_initPopup(){const e=this;e._disposePopup(),e._filterBuilderPopup=e._createComponent(e.element(),hr,se({title:ue.format("dxDataGrid-filterBuilderPopupTitle"),contentTemplate:t=>e._getPopupContentTemplate(t),onOptionChanged(t){t.name==="visible"&&e.option("filterBuilderPopup.visible",t.value)},toolbarItems:e._getPopupToolbarItems()},e.option("filterBuilderPopup"),{onHidden(){y1(e),e._disposePopup()}}))}_getPopupContentTemplate(e){const t=M(e),n=M("<div>").appendTo(M(e));this._filterBuilder=this._createComponent(n,ZB,se({value:this.option("filterValue"),fields:this._columnsController.getFilteringColumns()},this.option("filterBuilder"),{customOperations:this._filterSyncController.getCustomFilterOperations()})),this._createComponent(t,pF,{direction:"both"})}_getPopupToolbarItems(){const e=this;return[{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:ue.format("OK"),onClick(){const t=e._filterBuilder.option("value");e.option("filterValue",t),e._filterBuilderPopup.hide()}}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{text:ue.format("Cancel"),onClick(){e._filterBuilderPopup.hide()}}}]}}const Yce={defaultOptions:()=>({filterBuilder:{groupOperationDescriptions:{and:ue.format("dxFilterBuilder-and"),or:ue.format("dxFilterBuilder-or"),notAnd:ue.format("dxFilterBuilder-notAnd"),notOr:ue.format("dxFilterBuilder-notOr")},filterOperationDescriptions:{between:ue.format("dxFilterBuilder-filterOperationBetween"),equal:ue.format("dxFilterBuilder-filterOperationEquals"),notEqual:ue.format("dxFilterBuilder-filterOperationNotEquals"),lessThan:ue.format("dxFilterBuilder-filterOperationLess"),lessThanOrEqual:ue.format("dxFilterBuilder-filterOperationLessOrEquals"),greaterThan:ue.format("dxFilterBuilder-filterOperationGreater"),greaterThanOrEqual:ue.format("dxFilterBuilder-filterOperationGreaterOrEquals"),startsWith:ue.format("dxFilterBuilder-filterOperationStartsWith"),contains:ue.format("dxFilterBuilder-filterOperationContains"),notContains:ue.format("dxFilterBuilder-filterOperationNotContains"),endsWith:ue.format("dxFilterBuilder-filterOperationEndsWith"),isBlank:ue.format("dxFilterBuilder-filterOperationIsBlank"),isNotBlank:ue.format("dxFilterBuilder-filterOperationIsNotBlank")}},filterBuilderPopup:{}}),views:{filterBuilderView:qce}};Ue.registerModule("filterBuilder",Yce);class Xce extends fn.View{init(){this._dataController=this.getController("data"),this._columnsController=this.getController("columns"),this._filterSyncController=this.getController("filterSync"),this._dataController.dataSourceChanged.add(()=>this.render())}isVisible(){return this.option("filterPanel.visible")&&this._dataController.dataSource()}_renderCore(){const e=this.element();if(e.empty(),!!!this._columnsController.getColumns().length)return;e.addClass(this.addWidgetPrefix("filter-panel"));const n=M("<div>").addClass(this.addWidgetPrefix("filter-panel-left")).appendTo(e);this._renderFilterBuilderText(e,n)}_renderFilterBuilderText(e,t){const n=this._getFilterElement(),s=this._getTextElement();if(this.option("filterValue")||this._filterValueBuffer){const r=this._getCheckElement(),o=this._getRemoveButtonElement();t.append(r).append(n).append(s),e.append(o);return}t.append(n).append(s)}_getCheckElement(){const e=this,t=M("<div>").addClass(this.addWidgetPrefix("filter-panel-checkbox"));return e._createComponent(t,Jl,{value:e.option("filterPanel.filterEnabled"),onValueChanged(n){e.option("filterPanel.filterEnabled",n.value)}}),t.attr("title",this.option("filterPanel.texts.filterEnabledHint")),t}_getFilterElement(){const e=this,t=M("<div>").addClass("dx-icon-filter");return Y.on(t,"click",()=>e._showFilterBuilder()),ih("filterPanel",e,t,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(t),t}_getTextElement(){const e=this,t=M("<div>").addClass(e.addWidgetPrefix("filter-panel-text"));let n;const s=e.option("filterValue");return s?Ae(e.getFilterText(s,this._filterSyncController.getCustomFilterOperations())).done(r=>{const o=e.option("filterPanel.customizeText");if(o){const a=o({component:e.component,filterValue:s,text:r});typeof a=="string"&&(r=a)}t.text(r)}):(n=e.option("filterPanel.texts.createFilter"),t.text(n)),Y.on(t,"click",()=>e._showFilterBuilder()),ih("filterPanel",e,t,void 0,()=>e._showFilterBuilder()),e._addTabIndexToElement(t),t}_showFilterBuilder(){this.option("filterBuilderPopup.visible",!0)}_getRemoveButtonElement(){const e=this,t=()=>e.option("filterValue",null),n=M("<div>").addClass(e.addWidgetPrefix("filter-panel-clear-filter")).text(e.option("filterPanel.texts.clearFilter"));return Y.on(n,"click",t),ih("filterPanel",this,n,void 0,t),e._addTabIndexToElement(n),n}_addTabIndexToElement(e){if(!this.option("useLegacyKeyboardNavigation")){const t=this.option("tabindex")||0;e.attr("tabindex",t)}}optionChanged(e){switch(e.name){case"filterValue":this._invalidate(),this.option("filterPanel.filterEnabled",!0),e.handled=!0;break;case"filterPanel":this._invalidate(),e.handled=!0;break;default:super.optionChanged(e)}}_getConditionText(e,t,n){let s=`[${e}] ${t}`;return G(n)&&(s+=n),s}_getValueMaskedText(e){return Array.isArray(e)?`('${e.join("', '")}')`:` '${e}'`}_getValueText(e,t,n){const s=new de,r=t&&t.customizeText;if(G(n)||r)if(!r&&e.lookup)LB(e,n,o=>{s.resolve(this._getValueMaskedText(o))});else{const o=Array.isArray(n)?n:xe.getDisplayValue(e,n,null);Ae(HB(e,o,t,"filterPanel")).done(a=>{s.resolve(this._getValueMaskedText(a))})}else s.resolve("");return s.promise()}getConditionText(e,t){const n=this,s=e[1],r=new de,o=To(t.customOperations,s);let a;const l=Zg(e[0],t.columns),d=l.caption||"",c=e[2];return o?a=o.caption||M6.captionize(o.name):c===null?a=FC(s==="="?"isblank":"isnotblank",t.filterOperationDescriptions):a=FC(s,t.filterOperationDescriptions),this._getValueText(l,o,c).done(h=>{r.resolve(n._getConditionText(d,a,h))}),r}getGroupText(e,t,n){const s=this,r=new de,o=[],a=md(e);return e.forEach(l=>{mi(l)?o.push(s.getConditionText(l,t)):ol(l)&&o.push(s.getGroupText(l,t,!0))}),Ae.apply(this,o).done(function(){let l;for(var d=arguments.length,c=new Array(d),h=0;h<d;h++)c[h]=arguments[h];a.startsWith("!")?l=`${t.groupOperationDescriptions[`not${a.substring(1,2).toUpperCase()}${a.substring(2)}`].split(" ")[0]} ${c[0]}`:l=c.join(` ${t.groupOperationDescriptions[a]} `),n&&(l=`(${l})`),r.resolve(l)}),r}getFilterText(e,t){const n={customOperations:t,columns:this._columnsController.getFilteringColumns(),filterOperationDescriptions:this.option("filterBuilder.filterOperationDescriptions"),groupOperationDescriptions:this.option("filterBuilder.groupOperationDescriptions")};return mi(e)?this.getConditionText(e,n):this.getGroupText(e,n)}}const Zce=i=>class extends i{optionChanged(e){e.name==="filterPanel"?(this._applyFilter(),e.handled=!0):super.optionChanged(e)}},Qce={defaultOptions:()=>({filterPanel:{visible:!1,filterEnabled:!0,texts:{createFilter:ue.format("dxDataGrid-filterPanelCreateFilter"),clearFilter:ue.format("dxDataGrid-filterPanelClearFilter"),filterEnabledHint:ue.format("dxDataGrid-filterPanelFilterEnabledHint")}}}),views:{filterPanelView:Xce},extenders:{controllers:{data:Zce}}};Ue.registerModule("filterPanel",Qce);function QB(i){return!!(i.allowSearch??i.allowFiltering)}function JB(i,e){const{lookup:t}=i;return i.parseValue?t?i.parseValue.call(t,e):i.parseValue(e):e}const Jce=i=>class extends i{optionChanged(e){switch(e.fullName){case"searchPanel.text":case"searchPanel":this._applyFilter(),e.handled=!0;break;default:super.optionChanged(e)}}publicMethods(){return super.publicMethods().concat(["searchByText"])}_calculateAdditionalFilter(){var e,t,n;const s=(e=this._dataController)===null||e===void 0||(t=e.getDataSource)===null||t===void 0?void 0:t.call(e),r=s==null||(n=s.loadOptions)===null||n===void 0||(n=n.call(s))===null||n===void 0?void 0:n.langParams,o=super._calculateAdditionalFilter(),a=this.calculateSearchFilter(this.option("searchPanel.text"),r);return xe.combineFilters([o,a])}searchByText(e){this.option("searchPanel.text",e)}calculateSearchFilter(e,t){let n;const s=this._columnsController.getColumns(),r=this.option("searchPanel.searchVisibleColumnsOnly");let o;const a=[];if(!e)return null;function l(c){const h=qt(o.valueExpr);for(let u=0;u<c.length;u++){const p=h(c[u]);a.push(n.createFilterExpression(p,null,"search"))}}for(let c=0;c<s.length;c++)if(n=s[c],!(r&&!n.visible)&&QB(n)&&n.calculateFilterExpression){var d;o=n.lookup;const h=JB(n,e);(d=o)!==null&&d!==void 0&&d.items?Hi(o.items,{langParams:t}).filter(n.createFilterExpression.call({dataField:o.displayExpr,dataType:o.dataType,calculateFilterExpression:n.calculateFilterExpression},h,null,"search")).enumerate().done(l):h!==void 0&&a.push(n.createFilterExpression(h,null,"search"))}return a.length===0?["!"]:xe.combineFilters(a,"or")}},eue=i=>class extends i{optionChanged(e){if(e.name==="searchPanel"){if(e.fullName==="searchPanel.text"){const t=this.getSearchTextEditor();t&&t.option("value",e.value)}else this._invalidate();e.handled=!0}else super.optionChanged(e)}_getToolbarItems(){const e=super._getToolbarItems();return this._prepareSearchItem(e)}_prepareSearchItem(e){const t=this,n=this._dataController,s=this.option("searchPanel");if(s&&s.visible){const r={template(o,a,l){const d=M("<div>").addClass(t.addWidgetPrefix("search-panel")).appendTo(l);t._editorFactoryController.createEditor(d,{width:s.width,placeholder:s.placeholder,parentType:"searchPanel",value:t.option("searchPanel.text"),updateValueTimeout:700,setValue(c){n.searchByText(c)},editorOptions:{inputAttr:{"aria-label":ue.format(`${t.component.NAME}-ariaSearchInGrid`)}}}),t.resize()},name:"searchPanel",location:"after",locateInMenu:"never",sortIndex:40};e.push(r)}return e}getSearchTextEditor(){const e=this,t=e.element(),n=t.find(`.${e.addWidgetPrefix("search-panel")}`).filter(function(){return M(this).closest(`.${e.addWidgetPrefix("header-panel")}`).is(t)});return n.length?n.dxTextBox("instance"):null}},tue=i=>class extends i{init(){super.init.apply(this,arguments),this._searchParams=[],this._dataController=this.getController("data")}dispose(){clearTimeout(this._highlightTimer),super.dispose()}_getFormattedSearchText(e,t){const n=JB(e,t),s=xe.getFormatOptionsByColumn(e,"search");return xe.formatValue(n,s)}_getStringNormalizer(){var e,t,n;const s=this.option("searchPanel.highlightCaseSensitive"),r=(e=this._dataController)===null||e===void 0||(t=e.getDataSource)===null||t===void 0?void 0:t.call(e),o=r==null||(n=r.loadOptions)===null||n===void 0||(n=n.call(r))===null||n===void 0?void 0:n.langParams;return a=>xi(a,s,o)}_findHighlightingTextNodes(e,t,n){var s;const r=this;let o=t.parent(),a;const l=this._getStringNormalizer(),d=l(n),c=[];if(!o.length)o=M("<div>").append(t);else if(e)if(e.groupIndex>=0&&!e.showWhenGrouped)a=t;else{const h=r._columnsController.getVisibleIndex(e.index);a=o.children("td").eq(h).find("*")}return a=(s=a)!==null&&s!==void 0&&s.length?a:o.find("*"),a.each((h,u)=>{const p=M(u).contents();for(let f=0;f<p.length;f++){const g=p.get(f);g.nodeType===3&&l(g.textContent??g.nodeValue??"").includes(d)&&c.push(g)}}),c}_highlightSearchTextCore(e,t){const n=this,s=M("<span>").addClass(n.addWidgetPrefix("search-text")),r=e.text(),o=e[0],a=this._getStringNormalizer(),l=a(r).indexOf(a(t));if(l>=0)return o.textContent?o.textContent=r.substr(0,l):o.nodeValue=r.substr(0,l),e.after(s.text(r.substr(l,t.length))),e=M(ve.createTextNode(r.substr(l+t.length))).insertAfter(s),n._highlightSearchTextCore(e,t)}_highlightSearchText(e,t,n){const s=this,r=this._getStringNormalizer();let o=s.option("searchPanel.text");t&&n&&(o=o&&s._getFormattedSearchText(n,o)),o&&s.option("searchPanel.highlightSearchText")&&s._findHighlightingTextNodes(n,e,o).forEach(l=>{t?r(M(l).text())===r(o??"")&&M(l).replaceWith(M("<span>").addClass(s.addWidgetPrefix("search-text")).text(M(l).text())):s._highlightSearchTextCore(M(l),o)})}_renderCore(){const e=super._renderCore.apply(this,arguments);return(this.option().rowTemplate||this.option("dataRowTemplate"))&&(this.option("templatesRenderAsynchronously")?(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._highlightSearchText(this.getTableElement())})):this._highlightSearchText(this.getTableElement())),e}_updateCell(e,t){const{column:n}=t,r=(n.lookup&&n.lookup.dataType||n.dataType)!=="string";QB(n)&&!t.isOnForm&&(this.option("templatesRenderAsynchronously")?(this._searchParams.length||(clearTimeout(this._highlightTimer),this._highlightTimer=setTimeout(()=>{this._searchParams.forEach(o=>{this._highlightSearchText.apply(this,o)}),this._searchParams=[]})),this._searchParams.push([e,r,n])):this._highlightSearchText(e,r,n)),super._updateCell(e,t)}},nue={defaultOptions:()=>({searchPanel:{visible:!1,width:160,placeholder:ue.format("dxDataGrid-searchPanelPlaceholder"),highlightSearchText:!0,highlightCaseSensitive:!1,text:"",searchVisibleColumnsOnly:!1}}),extenders:{controllers:{data:Jce},views:{headerPanel:eue,rowsView:tue}}};Ue.registerModule("search",nue);const iue=Object.assign({},Up,{isGridCompatibilityMode:!1,showInfo:!1,displayMode:"adaptive",maxPagesCount:10,pageCount:1,visible:!0,hasKnownLastPage:!0,pagesNavigatorVisible:"auto",showPageSizeSelector:"auto",allowedPageSizes:[5,10],showNavigationButtons:!1,itemCount:1,label:ue.format("dxPagination-ariaLabel")}),Fn=Object.assign({},iue,{pageSize:5,pageIndex:1,pageIndexChangedInternal:()=>{},pageSizeChangedInternal:()=>{}}),sue="dx-pager",rue="dx-pagination",oue="dx-light-mode",aue="dx-pages",lue="dx-page-indexes",due="dx-page",cue="dx-selection",uue="dx-page-size",hue="dx-page-sizes",pue="dx-page-size dx-selection",fue="dx-first-child",fh=bS(void 0),mh=bS(void 0),mue={};class eN extends ws{constructor(){super(...arguments),this.state={}}getConfig(){return{isGridCompatibilityMode:this.props.isGridCompatibilityMode}}getChildContext(){return Object.assign({},this.context,{[mh.id]:this.getConfig()||mh.defaultValue})}render(){return this.props.children}}eN.defaultProps=mue;function gue(i){return i[mh.id]?i[mh.id]:mh.defaultValue}function tN(i){var e;return!!((e=gue(i))!==null&&e!==void 0&&e.isGridCompatibilityMode)}function Qr(i,e){let t=e;return tN(i)&&(t=e.replace("dxPagination","dxPager")),ue.getFormatter(t)()}const _ue="dx-info",vue={pageCount:Fn.pageCount,pageIndex:Fn.pageIndex,itemCount:Fn.itemCount};class nN extends ws{constructor(){super(...arguments),this.state={},this.refs=null,this.rootElementRef=Hn()}getInfoText(){return this.props.infoText??Qr(this.context,"dxPagination-infoText")}getText(){const{pageCount:e,pageIndex:t,itemCount:n}=this.props;return Fs(this.getInfoText(),(t+1).toString(),e==null?void 0:e.toString(),n==null?void 0:n.toString())}render(){return Un(1,"div","dx-info",this.getText(),0,null,null,this.props.rootElementRef)}}nN.defaultProps=vue;const xue={className:"",label:"",tabIndex:0,selected:!1};class ip extends Uo{constructor(e){super(e),this.state={},this.refs=null,this.widgetRef=Hn(),this.keyboardEffect=this.keyboardEffect.bind(this),this.subscribeToClick=this.subscribeToClick.bind(this)}getComponentProps(){return this.props}getKeyboardContext(){return this.context[fh.id]?this.context[fh.id]:fh.defaultValue}componentWillUpdate(e,t,n){super.componentWillUpdate(e,t,n)}createEffects(){return[new An(this.keyboardEffect,[this.getKeyboardContext(),this.props.onClick]),new An(this.subscribeToClick,[this.props.onClick])]}updateEffects(){var e,t;(e=this._effects[0])===null||e===void 0||e.update([this.getKeyboardContext(),this.props.onClick]),(t=this._effects[1])===null||t===void 0||t.update([this.props.onClick])}keyboardEffect(){return this.getKeyboardContext().registerKeyboardAction(this.widgetRef.current,this.props.onClick)}subscribeToClick(){return Ree(this.widgetRef.current,this.props.onClick)}render(){return Un(1,"div",this.props.className,this.props.children,0,{tabindex:this.props.tabIndex,role:"button","aria-label":this.props.label,"aria-current":this.props.selected?"page":void 0},null,this.widgetRef)}}ip.defaultProps=xue;const bue={allowedPageSizes:[],pageSize:Fn.pageSize,pageSizeChangedInternal:Fn.pageSizeChangedInternal};class iN extends ws{constructor(e){super(e),this.state={},this.refs=null,this.__getterCache={pageSizesText:void 0},this.state={},this.onPageSizeChange=this.onPageSizeChange.bind(this)}getPageSizesText(){if(this.__getterCache.pageSizesText!==void 0)return this.__getterCache.pageSizesText;const e=(()=>{const{pageSize:t,allowedPageSizes:n}=this.props;return n.map((s,r)=>{const{text:o,value:a}=s;return{className:Kp({[a===t?pue:uue]:!0,[fue]:r===0}),click:this.onPageSizeChange(a),label:Fs(Qr(this.context,"dxPagination-pageSize"),a||Qr(this.context,"dxPagination-pageSizesAllText")),text:o}})})();return this.__getterCache.pageSizesText=e,e}onPageSizeChange(e){return()=>(this.props.pageSizeChangedInternal(e),this.props.pageSize)}componentWillUpdate(e){(this.props.pageSize!==e.pageSize||this.props.allowedPageSizes!==e.allowedPageSizes||this.props.pageSizeChangedInternal!==e.pageSizeChangedInternal)&&(this.__getterCache.pageSizesText=void 0)}render(){return Wo(this.getPageSizesText().map(e=>{let{text:t,className:n,label:s,click:r}=e;return _n(2,ip,{className:n,label:s,onClick:r,children:t},t)}),0)}}iN.defaultProps=bue;const sN={label:"",labelMode:xs(Yt())?"floating":"static"},yue={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0,rtlEnabled:!1},zk=Object.assign({},Up,{_feedbackHideTimeout:400,_feedbackShowTimeout:30,cssText:"",aria:{},classes:"",name:"",addWidgetClass:!0}),rN=Object.assign({},yue,{aria:zk.aria,classes:zk.classes,readOnly:!1,name:"",value:null,validationError:null,validationErrors:null,validationMessageMode:"auto",validationMessagePosition:"bottom",validationStatus:"valid",isValid:!0,isDirty:!1,inputAttr:{}}),oN={hoverStateEnabled:!0,activeStateEnabled:!0,focusStateEnabled:Oe.real().deviceType==="desktop"&&!Oe.isSimulator()},Cue=Object.assign({},rN,oN,sN,{placeholder:"",hoverStateEnabled:!0,searchEnabled:!1,value:null,isReactComponentWrapper:!0});class aN extends ws{constructor(){super(...arguments),this.state={},this.refs=null}get componentProps(){return this.props}render(){return _n(2,MS,{componentType:WS,componentProps:this.componentProps,templateNames:["dropDownButtonTemplate","groupTemplate","itemTemplate"]})}}aN.defaultProps=Cue;function lN(i,e){return i+10*Math.max(...e).toString().length}function wue(i){var e;const t=bt();return i?(e=t.getComputedStyle)===null||e===void 0?void 0:e.call(t,i):null}function Sue(i){return i?Number(i.replace("px","")):0}function Do(i,e){const t=wue(e)??{};return Sue(t[i])}function Eue(i){const e=Do("paddingLeft",i)+Do("paddingRight",i);return Do("width",i)-e}function $m(i){const e=Do("marginLeft",i)+Do("marginRight",i),t=Do("width",i);return e+t}function dN(i){return Do("minWidth",i)}const Iue={allowedPageSizes:[]},Tue=Object.assign({},Iue,{pageSize:Fn.pageSize,pageSizeChangedInternal:Fn.pageSizeChangedInternal});class cN extends Uo{constructor(e){super(e),this.state={minWidth:10},this.refs=null,this.updateWidth=this.updateWidth.bind(this)}componentWillUpdate(e,t,n){super.componentWillUpdate(e,t,n)}createEffects(){const e=[this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChangedInternal,this.props.allowedPageSizes];return[new An(this.updateWidth,e)]}updateEffects(){var e;const t=[this.props,this.state.minWidth,this.props.pageSize,this.props.pageSizeChangedInternal,this.props.allowedPageSizes];(e=this._effects[0])===null||e===void 0||e.update(t)}updateWidth(){var e;const t=dN((e=this.props.parentRef)===null||e===void 0?void 0:e.current);this.setState(n=>({minWidth:t>0?t:n.minWidth}))}getWidth(){var e;return lN(this.state.minWidth,(e=this.props.allowedPageSizes)===null||e===void 0?void 0:e.map(t=>t.value))}getInputAttributes(){return{"aria-label":Qr(this.context,"dxPagination-ariaPageSize")}}render(){const{allowedPageSizes:e,pageSize:t,pageSizeChangedInternal:n}=this.props;return _n(2,aN,{displayExpr:"text",valueExpr:"value",dataSource:e,value:t,valueChange:n,width:this.getWidth(),inputAttr:this.getInputAttributes()})}}cN.defaultProps=Tue;const Due={isLargeDisplayMode:!0,pageSize:Fn.pageSize,pageSizeChangedInternal:Fn.pageSizeChangedInternal,allowedPageSizes:Fn.allowedPageSizes};class uN extends Uo{constructor(e){super(e),this.state={},this.refs=null,this.rootElementRef=Hn(),this.htmlRef=Hn(),this.__getterCache={normalizedPageSizes:void 0},this.setRootElementRef=this.setRootElementRef.bind(this)}createEffects(){return[new An(this.setRootElementRef,[])]}setRootElementRef(){const{rootElementRef:e}=this.props;e&&(e.current=this.htmlRef.current)}getAllText(){return Qr(this.context,"dxPagination-pageSizesAllText")}getNormalizedPageSizes(){if(this.__getterCache.normalizedPageSizes!==void 0)return this.__getterCache.normalizedPageSizes;const e=this.props.allowedPageSizes.map(t=>t==="all"||t===0?{text:this.getAllText(),value:0}:{text:String(t),value:t});return this.__getterCache.normalizedPageSizes=e,e}componentWillUpdate(e){super.componentWillUpdate(),this.props.allowedPageSizes!==e.allowedPageSizes&&(this.__getterCache.normalizedPageSizes=void 0)}render(){const e=this.getNormalizedPageSizes(),{pageSize:t,pageSizeChangedInternal:n,isLargeDisplayMode:s}=this.props;return Un(1,"div",hue,[s&&_n(2,iN,{allowedPageSizes:e,pageSize:t,pageSizeChangedInternal:n}),!s&&_n(2,cN,{parentRef:this.htmlRef,allowedPageSizes:e,pageSize:t,pageSizeChangedInternal:n})],0,null,null,this.htmlRef)}}uN.defaultProps=Due;const Aue={index:0,selected:!1,className:due};class aE extends ws{constructor(){super(...arguments),this.state={},this.refs=null}getLabel(){return Fs(Qr(this.context,"dxPagination-page"),this.getValue())}getValue(){return this.props.index+1}getClassName(){return Kp({[`${this.props.className}`]:!!this.props.className,[cue]:!!this.props.selected})}render(){return _n(2,ip,{className:this.getClassName(),label:this.getLabel(),onClick:this.props.onClick,selected:this.props.selected,children:this.getValue()})}}aE.defaultProps=Aue;const kue={maxPagesCount:Fn.maxPagesCount,pageCount:Fn.pageCount,pageIndex:Fn.pageIndex,pageIndexChangedInternal:Fn.pageIndexChangedInternal};function Wk(i,e,t){switch(!0){case i===1:return"high";case i+e===t-1:return"low";default:return"both"}}function hN(i,e,t){let n=[],s=[];switch(t){case"none":n=[...i];break;case"both":n=[0,"low",...i,"high",e-1],s=i.slice(1,-1);break;case"high":n=[0,...i,"high",e-1],s=i.slice(0,-1);break;case"low":n=[0,"low",...i,e-1],s=i.slice(1)}return{slidingWindowIndexes:i,indexesForReuse:s,pageIndexes:n}}function Uk(i,e,t,n){const s=[];for(let r=0;r<e;r+=1)s.push(r+i);return hN(s,t,n)}class pN extends ws{constructor(e){super(e),this.state={},this.refs=null,this.canReuseSlidingWindow=this.canReuseSlidingWindow.bind(this),this.generatePageIndexes=this.generatePageIndexes.bind(this),this.isSlidingWindowMode=this.isSlidingWindowMode.bind(this),this.onPageClick=this.onPageClick.bind(this)}getConfig(){return this.context[Xi.id]?this.context[Xi.id]:Xi.defaultValue}getSlidingWindowState(){const e=this.slidingWindowStateHolder;return e||{indexesForReuse:[],slidingWindowIndexes:[]}}canReuseSlidingWindow(e,t){const{indexesForReuse:n}=this.getSlidingWindowState(),s=n.slice(-1)[0]<e-1,r=n.includes(t);return s&&r}generatePageIndexes(){const{pageCount:e,pageIndex:t}=this.props;let n=0;const{slidingWindowIndexes:s}=this.getSlidingWindowState();t===s[0]?n=t-1:t===s[s.length-1]?n=t+2-4:t<4?n=1:t>=e-4?n=e-4-1:n=t-1;const r=Wk(n,4,e),o=Uk(n,4,e,r),{pageIndexes:a}=o;return this.slidingWindowStateHolder=o,a}isSlidingWindowMode(){const{maxPagesCount:e,pageCount:t}=this.props;return t<=4||t<=e}onPageClick(e){this.props.pageIndexChangedInternal(e)}getPageIndexes(){const{pageCount:e}=this.props;if(this.isSlidingWindowMode())return Uk(0,e,e,"none").pageIndexes;if(this.canReuseSlidingWindow(e,this.props.pageIndex)){const{slidingWindowIndexes:t}=this.getSlidingWindowState(),n=Wk(t[0],4,e);return hN(t,e,n).pageIndexes}return this.generatePageIndexes()}getPages(){var e;const{pageIndex:t}=this.props,n=o=>{const a=o==="low"||o==="high"?null:{index:o,onClick:()=>this.onPageClick(o),selected:t===o};return{key:o.toString(),pageProps:a}},s=this.getPageIndexes();return((e=this.getConfig())!==null&&e!==void 0&&e.rtlEnabled?[...s].reverse():s).map(o=>n(o))}render(){const e=this.getPages().map(t=>{let{key:n,pageProps:s}=t;return s?_n(2,aE,{index:s.index,selected:s.selected,onClick:s.onClick},n):Un(1,"div","dx-separator",". . .",16,null,n)});return Wo(e,0)}}pN.defaultProps=kue;const Oue=Object.assign({},rN,oN,sN,{value:0,isReactComponentWrapper:!0});class fN extends ws{constructor(){super(...arguments),this.state={},this.refs=null}get componentProps(){return this.props}render(){return _n(2,MS,{componentType:Gg,componentProps:this.componentProps,templateNames:[]})}}fN.defaultProps=Oue;const Rue=`${_ue}  dx-info-text`,Pue={pageIndex:Fn.pageIndex,pageCount:Fn.pageCount,pageIndexChangedInternal:Fn.pageIndexChangedInternal};class mN extends Uo{constructor(e){super(e),this.state={minWidth:10},this.refs=null,this.pageIndexRef=Hn(),this.updateWidth=this.updateWidth.bind(this),this.selectLastPageIndex=this.selectLastPageIndex.bind(this),this.valueChange=this.valueChange.bind(this)}componentWillUpdate(e,t,n){super.componentWillUpdate(e,t,n)}createEffects(){return[new An(this.updateWidth,[this.state.minWidth])]}updateEffects(){var e;(e=this._effects[0])===null||e===void 0||e.update([this.state.minWidth])}updateWidth(){var e;const t=(e=this.pageIndexRef.current)===null||e===void 0?void 0:e.querySelector(".dx-page-index"),n=t?dN(t):0;this.setState(s=>({minWidth:n>0?n:s.minWidth}))}getValue(){return this.props.pageIndex+1}getWidth(){return lN(this.state.minWidth,[this.props.pageCount])}getPagesCountText(){return(this.props.pagesCountText??"")||Qr(this.context,"dxPagination-pagesCountText")}getInputAttributes(){return{"aria-label":Qr(this.context,"dxPagination-ariaPageNumber")}}selectLastPageIndex(){this.props.pageIndexChangedInternal(this.props.pageCount-1)}valueChange(e){this.props.pageIndexChangedInternal(e-1)}render(){return Un(1,"div","dx-light-pages",[_n(2,fN,{className:"dx-page-index",min:1,max:Math.max(this.props.pageCount,this.getValue()),width:this.getWidth(),value:this.getValue(),valueChange:this.valueChange,inputAttr:this.getInputAttributes()}),Un(1,"span",Rue,this.getPagesCountText(),0),_n(2,aE,{className:"dx-pages-count",selected:!1,index:this.props.pageCount-1,onClick:this.selectLastPageIndex})],4,null,null,this.pageIndexRef)}}mN.defaultProps=Pue;const Mue={nextEnabledClass:"dx-navigate-button dx-next-button",prevEnabledClass:"dx-navigate-button dx-prev-button",nextDisabledClass:"dx-button-disable dx-navigate-button dx-next-button",prevDisabledClass:"dx-button-disable dx-navigate-button dx-prev-button"},Fue={next:"prev",prev:"next"};function Bue(i){return i==="next"?1:-1}const Nue={isLargeDisplayMode:!0,maxPagesCount:Fn.maxPagesCount,pageCount:Fn.pageCount,pageIndex:Fn.pageIndex,pageIndexChangedInternal:Fn.pageIndexChangedInternal,showNavigationButtons:Fn.showNavigationButtons,itemCount:Fn.itemCount};class gN extends ws{constructor(e){super(e),this.state={},this.refs=null,this.__getterCache={prevButtonProps:void 0,nextButtonProps:void 0},this.pageIndexChangedInternal=this.pageIndexChangedInternal.bind(this),this.getButtonProps=this.getButtonProps.bind(this),this.canNavigateToPage=this.canNavigateToPage.bind(this),this.getNextPageIndex=this.getNextPageIndex.bind(this),this.canNavigateTo=this.canNavigateTo.bind(this),this.navigateToPage=this.navigateToPage.bind(this)}getConfig(){return this.context[Xi.id]?this.context[Xi.id]:Xi.defaultValue}pageIndexChangedInternal(e){this.canNavigateToPage(e)&&this.props.pageIndexChangedInternal(e)}getButtonProps(e){var t;const n=(t=this.getConfig())!==null&&t!==void 0&&t.rtlEnabled?Fue[e]:e,s=this.canNavigateTo(n);return{className:Mue[`${e}${s?"Enabled":"Disabled"}Class`],tabIndex:s?0:-1,navigate:()=>this.navigateToPage(n)}}canNavigateToPage(e){return this.props.hasKnownLastPage?e>=0&&e<=this.props.pageCount-1:e>=0}getNextPageIndex(e){return this.props.pageIndex+Bue(e)}canNavigateTo(e){return this.canNavigateToPage(this.getNextPageIndex(e))}navigateToPage(e){this.pageIndexChangedInternal(this.getNextPageIndex(e))}getRenderPrevButton(){const{isLargeDisplayMode:e,showNavigationButtons:t}=this.props;return(!e||t)??!1}getRenderNextButton(){return this.getRenderPrevButton()||!this.props.hasKnownLastPage}getPrevButtonProps(){if(this.__getterCache.prevButtonProps!==void 0)return this.__getterCache.prevButtonProps;const e=this.getButtonProps("prev");return this.__getterCache.prevButtonProps=e,e}getNextButtonProps(){if(this.__getterCache.nextButtonProps!==void 0)return this.__getterCache.nextButtonProps;const e=this.getButtonProps("next");return this.__getterCache.nextButtonProps=e,e}componentWillUpdate(e,t,n){(this.context[Xi.id]!==n[Xi.id]||this.props.hasKnownLastPage!==e.hasKnownLastPage||this.props.pageCount!==e.pageCount||this.props.pageIndex!==e.pageIndex||this.props.pageIndexChangedInternal!==e.pageIndexChangedInternal)&&(this.__getterCache.prevButtonProps=void 0,this.__getterCache.nextButtonProps=void 0)}getPrevButtonLabel(){return Qr(this.context,"dxPagination-prevPage")}getNextButtonLabel(){return Qr(this.context,"dxPagination-nextPage")}render(){const{className:e,tabIndex:t,navigate:n}=this.getPrevButtonProps(),{isLargeDisplayMode:s,maxPagesCount:r,pageCount:o,pageIndex:a,pagesCountText:l}=this.props;return Wo([this.getRenderPrevButton()&&_n(2,ip,{label:this.getPrevButtonLabel(),className:e,tabIndex:t,onClick:n}),s&&_n(2,pN,{maxPagesCount:r,pageCount:o,pageIndex:a,pageIndexChangedInternal:this.pageIndexChangedInternal}),!s&&_n(2,mN,{pageCount:o,pageIndex:a,pageIndexChangedInternal:this.pageIndexChangedInternal,pagesCountText:l}),this.getRenderNextButton()&&_n(2,ip,{label:this.getNextButtonLabel(),className:this.getNextButtonProps().className,tabIndex:this.getNextButtonProps().tabIndex,onClick:this.getNextButtonProps().navigate})],0)}}gN.defaultProps=Nue;const Vue=Object.assign({},Fn,{infoTextVisible:!0,isLargeDisplayMode:!0});class _N extends Uo{constructor(e){super(e),this.state={},this.refs=null,this.widgetElementRef=Hn(),this.widgetRootElementRef=Hn(),this.pagesRef=Hn(),this.infoTextRef=Hn(),this.__getterCache={keyboardAction:void 0},this.state={},this.__getterCache={},this.setRootElementRef=this.setRootElementRef.bind(this),this.createFakeInstance=this.createFakeInstance.bind(this)}createEffects(){return[new An(this.setRootElementRef,[])]}getChildContext(){return Object.assign({},this.context,{[fh.id]:this.getKeyboardAction()||fh.defaultValue})}setRootElementRef(){const{rootElementRef:e}=this.props;e&&this.widgetRootElementRef&&(e.current=this.widgetRootElementRef.current)}getWidgetRootElement(){var e;return(e=this.widgetRootElementRef)===null||e===void 0?void 0:e.current}createFakeInstance(){return{option:()=>!1,element:()=>this.getWidgetRootElement(),component:this.props._getParentComponentRootNode?{element:()=>{var e,t;return(e=(t=this.props)._getParentComponentRootNode)===null||e===void 0?void 0:e.call(t)}}:{element:()=>this.getWidgetRootElement()},_createActionByOption:()=>e=>{var t,n;(t=(n=this.props).onKeyDown)===null||t===void 0||t.call(n,e)}}}getKeyboardAction(){return{registerKeyboardAction:(e,t)=>{const n=this.createFakeInstance();return a5("pager",n,e,void 0,t)}}}getInfoVisible(){const{infoTextVisible:e,showInfo:t}=this.props;return!!t&&e}getPageIndexSelectorVisible(){return this.props.pageSize!==0}getNormalizedDisplayMode(){const{displayMode:e,lightModeEnabled:t}=this.props;return e==="adaptive"&&t!==void 0?t?"compact":"full":e??"adaptive"}getPagesContainerVisible(){return!!this.props.pagesNavigatorVisible&&this.props.pageCount>0}getPagesContainerVisibility(){const{pagesNavigatorVisible:e,pageCount:t,hasKnownLastPage:n,showInfo:s,showNavigationButtons:r,showPageSizeSelector:o}=this.props;return e==="auto"&&t===1&&n&&!(!!s||!!r||o===!0)?"hidden":void 0}getIsLargeDisplayMode(){const e=this.getNormalizedDisplayMode();let t=!1;return e==="adaptive"?t=this.props.isLargeDisplayMode:t=e==="full",t}getClasses(){const e={[`${this.props.className}`]:!!this.props.className,[sue]:!!this.props.isGridCompatibilityMode,[rue]:!this.props.isGridCompatibilityMode,[oue]:!this.getIsLargeDisplayMode()};return Kp(e)}getAria(){return{role:"navigation",label:this.props.label??""}}componentWillUpdate(e){super.componentWillUpdate(),this.props.onKeyDown!==e.onKeyDown&&(this.__getterCache.keyboardAction=void 0)}render(){const{isGridCompatibilityMode:e,rtlEnabled:t,visible:n,showPageSizeSelector:s,allowedPageSizesRef:r,pageSize:o,pageSizeChangedInternal:a,allowedPageSizes:l,infoTextRef:d,infoText:c,pageCount:h,pageIndex:u,itemCount:p,pagesRef:f,hasKnownLastPage:g,maxPagesCount:m,pageIndexChangedInternal:v,pagesCountText:_,showNavigationButtons:x,style:y,width:T,height:O,elementAttr:L,hint:R,disabled:$,tabIndex:V,accessKey:z,activeStateEnabled:H,focusStateEnabled:I,hoverStateEnabled:A}=this.props,E=Zr(_n(2,s_,Object.assign({rootElementRef:this.widgetRootElementRef,rtlEnabled:t,classes:this.getClasses(),visible:n,aria:this.getAria(),style:y,width:T,height:O,hint:R,disabled:$,tabIndex:V,accessKey:z,activeStateEnabled:H,focusStateEnabled:I,hoverStateEnabled:A},L,{children:[s&&_n(2,uN,{rootElementRef:r,isLargeDisplayMode:this.getIsLargeDisplayMode(),itemCount:p,pageSize:o,pageSizeChangedInternal:a,allowedPageSizes:l}),this.getPagesContainerVisible()&&Un(1,"div",aue,[this.getInfoVisible()&&_n(2,nN,{rootElementRef:d,infoText:c,pageCount:h,pageIndex:u,itemCount:p}),this.getPageIndexSelectorVisible()&&Un(1,"div",lue,_n(2,gN,{hasKnownLastPage:g,isLargeDisplayMode:this.getIsLargeDisplayMode(),maxPagesCount:m,pageCount:h,pageIndex:u,pageIndexChangedInternal:v,pagesCountText:_,showNavigationButtons:x,itemCount:p}),2,null,null,f)],0,{style:{visibility:this.getPagesContainerVisibility()}})]})));return _n(2,eN,{isGridCompatibilityMode:e,children:E})}}_N.defaultProps=Vue;function Lue(i){let{parent:e,allowedPageSizes:t,pages:n}=i;return e-(t+n)>0}function $ue(i){let{parent:e,allowedPageSizes:t,pages:n,info:s}=i;const r=t+n+s;return e-r>0}function Hue(i){let{parent:e,allowedPageSizes:t,pages:n,info:s}=i;const r=Eue(e),o=$m(t),a=$m(s),l=$m(n);return{parent:r,allowedPageSizes:o,info:a+Do("marginLeft",s)+Do("marginRight",s),pages:l}}const jue={paginationProps:Object.assign({},Fn)};class vN extends Uo{constructor(e){super(e),this.state={infoTextVisible:!0,isLargeDisplayMode:!0},this.refs=null,this.parentRef=Hn(),this.infoTextRef=Hn(),this.pagesRef=Hn(),this.allowedPageSizesRef=Hn(),this.elementsWidth={},this.actualIsLargeDisplayMode=!0,this.actualInfoTextVisible=!0,this.subscribeToResize=this.subscribeToResize.bind(this),this.effectUpdateChildProps=this.effectUpdateChildProps.bind(this),this.updateAdaptivityProps=this.updateAdaptivityProps.bind(this)}componentWillUpdate(e,t,n){super.componentWillUpdate(e,t,n)}createEffects(){return[new An(this.subscribeToResize,[this.state.infoTextVisible,this.state.isLargeDisplayMode]),new An(this.effectUpdateChildProps,[this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.paginationProps,this.props.contentTemplate])]}updateEffects(){var e,t;(e=this._effects[0])===null||e===void 0||e.update([this.state.infoTextVisible,this.state.isLargeDisplayMode]),(t=this._effects[1])===null||t===void 0||t.update([this.props,this.state.infoTextVisible,this.state.isLargeDisplayMode,this.props.paginationProps,this.props.contentTemplate])}subscribeToResize(){const e=()=>{this.getParentWidth()>0&&this.updateAdaptivityProps()};return Yl.add(e),()=>{Yl.remove(e)}}effectUpdateChildProps(){this.getParentWidth()>0&&this.updateAdaptivityProps()}getContentAttributes(){const{className:e,displayMode:t,isGridCompatibilityMode:n,_getParentComponentRootNode:s,hasKnownLastPage:r,infoText:o,label:a,lightModeEnabled:l,maxPagesCount:d,onKeyDown:c,pageCount:h,pageIndex:u,pageIndexChangedInternal:p,pageSize:f,pageSizeChangedInternal:g,allowedPageSizes:m,pagesCountText:v,pagesNavigatorVisible:_,rtlEnabled:x,showInfo:y,showNavigationButtons:T,showPageSizeSelector:O,itemCount:L,visible:R,style:$,width:V,height:z,elementAttr:H,hint:I,disabled:A,tabIndex:E,accessKey:b,activeStateEnabled:w,focusStateEnabled:C,hoverStateEnabled:S}=this.props.paginationProps;return{pageSize:f,pageIndex:u,pageIndexChangedInternal:p,pageSizeChangedInternal:g,isGridCompatibilityMode:n,_getParentComponentRootNode:s,className:e,showInfo:y,infoText:o,lightModeEnabled:l,displayMode:t,maxPagesCount:d,pageCount:h,pagesCountText:v,visible:R,hasKnownLastPage:r,pagesNavigatorVisible:_,showPageSizeSelector:O,allowedPageSizes:m,rtlEnabled:x,showNavigationButtons:T,itemCount:L,onKeyDown:c,label:a,style:$,width:V,height:z,elementAttr:H,hint:I,disabled:A,tabIndex:E,accessKey:b,activeStateEnabled:w,focusStateEnabled:C,hoverStateEnabled:S}}getParentWidth(){var e;return(e=this.parentRef)!==null&&e!==void 0&&e.current?$m(this.parentRef.current):0}updateAdaptivityProps(){var e,t,n,s;const r=Hue({parent:(e=this.parentRef)===null||e===void 0?void 0:e.current,allowedPageSizes:(t=this.allowedPageSizesRef)===null||t===void 0?void 0:t.current,info:(n=this.infoTextRef)===null||n===void 0?void 0:n.current,pages:(s=this.pagesRef)===null||s===void 0?void 0:s.current});if(this.actualInfoTextVisible!==this.state.infoTextVisible||this.actualIsLargeDisplayMode!==this.state.isLargeDisplayMode)return;const o=!G(this.elementsWidth);o&&(this.elementsWidth={}),(o||this.state.isLargeDisplayMode)&&(this.elementsWidth.allowedPageSizes=r.allowedPageSizes,this.elementsWidth.pages=r.pages),(o||this.state.infoTextVisible)&&(this.elementsWidth.info=r.info),this.actualIsLargeDisplayMode=Lue({parent:r.parent,allowedPageSizes:this.elementsWidth.allowedPageSizes,pages:this.elementsWidth.pages}),this.actualInfoTextVisible=$ue(Object.assign({},r,{info:this.elementsWidth.info})),this.setState(()=>({infoTextVisible:this.actualInfoTextVisible})),this.setState(()=>({isLargeDisplayMode:this.actualIsLargeDisplayMode}))}render(){const{infoTextVisible:e,isLargeDisplayMode:t}=this.state,{props:{contentTemplate:n}}=this;return Zr(_n(2,n,Object.assign({rootElementRef:this.parentRef,allowedPageSizesRef:this.allowedPageSizesRef,infoTextRef:this.infoTextRef,pagesRef:this.pagesRef,infoTextVisible:e,isLargeDisplayMode:t},this.getContentAttributes())))}}vN.defaultProps=jue;let xN=class extends jp{constructor(e){super(e),this.__getterCache={},this.pageIndexChangedInternal=this.pageIndexChangedInternal.bind(this),this.pageSizeChangedInternal=this.pageSizeChangedInternal.bind(this)}createEffects(){return[zp()]}pageIndexChangedInternal(e){const t=e+1;this.setState(()=>({pageIndex:t})),this.props.pageIndexChangedInternal(t)}getPageIndex(){return this.props.pageIndex-1}pageSizeChangedInternal(e){this.setState(()=>({pageSize:e})),this.props.pageSizeChangedInternal(e)}getClassName(){return Kp({"dx-datagrid-pager":tN(this.context),[`${this.props.className}`]:!!this.props.className})}getPaginationProps(){return Object.assign({},this.props,{className:this.getClassName(),pageIndex:this.getPageIndex(),pageIndexChangedInternal:e=>this.pageIndexChangedInternal(e),pageSizeChangedInternal:e=>this.pageSizeChangedInternal(e)})}render(){return _n(2,vN,{contentTemplate:_N,paginationProps:this.getPaginationProps()})}};xN.defaultProps=Fn;function zue(i){return i<0?1:i}function Wue(i){return i<0?0:i}function bN(i,e){return i>0&&e>0?Math.max(1,Math.ceil(e/i)):1}function Uue(i,e,t){if(i<1)return 1;const n=bN(e,t);return Math.min(i,n)}function Kue(i,e,t){const n=zue(i),s=Wue(t),r=bN(n,t),o=Uue(e,n,s);return{pageSize:n,pageIndex:o,itemCount:s,pageCount:r}}const Gue=["pageSize","pageIndex","itemCount"];class que extends Wp{_optionChanged(e){switch(e.name){case"pageIndex":{const t=this.option("pageIndexChanged");t&&t(e.value);break}case"pageSize":{const t=this.option("pageSizeChanged");t&&t(e.value);break}}super._optionChanged(e)}getPageCount(){return this.option("pageCount")}_validateOptions(e){if(e._skipValidation||this.option("_skipValidation"))return e;const t=super._validateOptions(e);let{pageSize:n,pageIndex:s,itemCount:r}=t,o=Hs(t,Gue);n===void 0&&(n=this.option("pageSize")),s===void 0&&(s=this.option("pageIndex")),r===void 0&&(r=this.option("itemCount"));const a=Kue(n,s,r);return Object.assign({},o,a)}}class Yue extends que{getProps(){const e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}get _propsInfo(){return{twoWay:[["pageSize","defaultPageSize","pageSizeChangedInternal","pageSizeChanged"],["pageIndex","defaultPageIndex","pageIndexChangedInternal","pageIndexChanged"]],allowNull:[],elements:[],templates:[],props:["defaultPageSize","pageSizeChanged","pageSizeChangedInternal","defaultPageIndex","pageIndexChanged","pageIndexChangedInternal","isGridCompatibilityMode","className","showInfo","infoText","lightModeEnabled","displayMode","maxPagesCount","pageCount","pagesCountText","visible","hasKnownLastPage","pagesNavigatorVisible","showPageSizeSelector","allowedPageSizes","rtlEnabled","showNavigationButtons","itemCount","label","onKeyDown","pageSize","pageIndex","width","height","elementAttr","hint","disabled","tabIndex","accessKey","activeStateEnabled","focusStateEnabled","hoverStateEnabled","_skipValidation","_getParentComponentRootNode"]}}get _viewComponent(){return xN}}const Kk=function(i){return 1+(parseInt(i.pageIndex())||0)};class Xue extends fn.View{init(){const e=this.getController("data");e.changed.add(t=>{if(t&&t.repaintChangesOnly){const n=this._pager;n?n.option({pageIndex:Kk(e),pageSize:e.pageSize(),pageCount:e.pageCount(),itemCount:e.totalCount(),hasKnownLastPage:e.hasKnownLastPage()}):this.render()}else(!t||t.changeType!=="update"&&t.changeType!=="updateSelection"&&t.changeType!=="updateFocusedRow")&&(this._pager=null,this.render())})}dispose(){this._pager=null}optionChanged(e){const{name:t}=e,n=t==="pager",s=t==="paging",r=t==="dataSource",o=t==="scrolling",a=this.getController("data");if(n||s||o||r){if(e.handled=!0,a.skipProcessingPagingChange(e.fullName))return;(n||s)&&(this._pageSizes=null),r||(this._pager=null,this._invalidate(),st()&&n&&this.component&&this.component.resize())}}_renderCore(){const e=this,t=e.element().addClass(e.addWidgetPrefix("pager")),n=e.option("pager")??{},s=e.getController("data"),r=e.getController("keyboardNavigation"),o={maxPagesCount:10,pageIndex:Kk(s),pageCount:s.pageCount(),pageSize:s.pageSize(),showPageSizeSelector:n.showPageSizeSelector,showInfo:n.showInfo,displayMode:n.displayMode,pagesNavigatorVisible:n.visible,showNavigationButtons:n.showNavigationButtons,label:n.label,allowedPageSizes:e.getPageSizes(),itemCount:s.totalCount(),hasKnownLastPage:s.hasKnownLastPage(),rtlEnabled:e.option("rtlEnabled"),isGridCompatibilityMode:!0,_getParentComponentRootNode:()=>this.component.element(),_skipValidation:!0,pageIndexChanged(a){s.pageIndex()!==a-1&&s.pageIndex(a-1)},pageSizeChanged(a){s.pageSize(a)},onKeyDown:a=>r&&r.executeAction("onKeyDown",a)};if(G(n.infoText)&&(o.infoText=n.infoText),this._pager){this._pager.repaint();return}st()?this._pager=e._createComponent(t,Yue,o):t.addClass("dx-pager").html('<div class="dx-pages"><div class="dx-page"></div></div>')}getPager(){return this._pager}getPageSizes(){const e=this,t=e.getController("data"),n=e.option("pager"),s=n&&n.allowedPageSizes,r=t.pageSize();return(!G(e._pageSizes)||!e._pageSizes.includes(r))&&(e._pageSizes=[],n&&(Array.isArray(s)?e._pageSizes=s:s&&r>1&&(e._pageSizes=[Math.floor(r/2),r,2*r]))),e._pageSizes}isVisible(){const e=this.getController("data"),t=this.option("pager");let n=t&&t.visible;const s=this.option("scrolling");return n==="auto"&&(s&&(s.mode==="virtual"||s.mode==="infinite")?n=!1:n=e.pageCount()>1||e.isLoaded()&&!e.hasKnownLastPage()),!!n}getHeight(){return this.getElementHeight()}}const Zue={defaultOptions:()=>({pager:{visible:"auto",showPageSizeSelector:!1,allowedPageSizes:"auto",label:ue.format("dxPager-ariaLabel")}}),views:{pagerView:Xue}};Ue.registerModule("pager",Zue);const Que=i=>{const e=[];return ie(i,(t,n)=>{const s=n==null?void 0:n.getBoundingRect();s&&e.push({draggingPanel:n,boundingRect:s})}),e.length?e:null},Gk="columns-separator-transparent",cs="dxDataGridResizingReordering",gh=function(i){return i.option("allowColumnResizing")||i.getController("columns").isColumnOptionUsed("allowResizing")},yN=function(i){return i.option("allowColumnReordering")||i.getController("columns").isColumnOptionUsed("allowReordering")};class Jue extends fn.View{init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._subscribeToCallback()}dispose(){this._unsubscribeFromCallback(),super.dispose()}optionChanged(e){e.name==="allowColumnResizing"&&(this._unsubscribeFromCallback(),e.value&&(this._subscribeToCallback(),this._invalidate())),super.optionChanged(e)}_renderCore(){const e=super._renderCore();return this.element().addClass(this.addWidgetPrefix("tracker")),this.hide(),e}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_subscribeToCallback(){const e=this;e._positionChanged=function(t){const n=e.element();n!=null&&n.hasClass(e.addWidgetPrefix("tracker"))&&(n.css({top:t.top}),$a(n,t.height))},this._tablePositionController.positionChanged.add(e._positionChanged)}isVisible(){return gh(this)}show(){this.element().show()}hide(){var e;(e=this.element())===null||e===void 0||e.hide()}setHeight(e){$a(this.element(),e)}}class CN extends fn.View{_renderSeparator(){}_renderCore(e){const t=super._renderCore(e);return this._isShown=!0,this._renderSeparator(),this.hide(),t}show(){this._isShown=!0}hide(){this._isShown=!1}height(e){const t=this.element();if(t)if(G(e))$a(t,e);else return ht(t)}width(e){const t=this.element();if(t)if(G(e))$h(t,e);else return Xe(t)}}class ehe extends CN{init(){super.init(),this._tablePositionController=this.getController("tablePosition"),this._init()}dispose(){this._unsubscribeFromCallback(),super.dispose()}optionChanged(e){e.name==="allowColumnResizing"&&(e.value?(this._init(),this._invalidate(),this.hide(!0)):(this._unsubscribeFromCallback(),this._isTransparent=gh(this),this.hide(!0))),super.optionChanged(e)}_renderSeparator(){super._renderSeparator(),this.element().addClass(this.addWidgetPrefix("columns-separator"))}_subscribeToCallback(){const e=this;let t;e._positionChanged=function(n){t=e.element(),t&&(t.css({top:n.top}),$a(t,n.height))},e._tablePositionController.positionChanged.add(e._positionChanged)}_unsubscribeFromCallback(){this._positionChanged&&this._tablePositionController.positionChanged.remove(this._positionChanged)}_init(){this._isTransparent=gh(this),this.isVisible()&&this._subscribeToCallback()}isVisible(){return this.option("showColumnHeaders")&&(yN(this)||gh(this))}show(){const e=this,t=this.element();t&&!e._isShown&&(e._isTransparent?t.removeClass(e.addWidgetPrefix(Gk)):t.show()),super.show()}hide(e){const t=this.element(),n=this.addWidgetPrefix(Gk);t&&(this._isShown||e)&&(this._isTransparent?(t.addClass(n),t.css("left",""),t.show()):(t.hasClass(n)&&t.removeClass(n),t.hide())),super.hide()}moveByX(e){const t=this.element();t&&t.css("left",e===null?0:e-this._parentElement().offset().left)}changeCursor(e){e=G(e)?e:"";const t=this.element();t&&t.css("cursor",e)}}class the extends CN{init(){super.init(),this.getController("data").loadingChanged.add(t=>{t||this.hide()})}_renderSeparator(){super._renderSeparator(),this.element().addClass("dx-block-separator").html("&nbsp;")}hide(){const e=this,t=this._parentElement(),n=this.element();n&&this._isShown&&n.css("display","none"),t&&!t.children(".dx-block-separator").length&&t.prepend(e.element()),super.hide()}isVisible(){const e=this.option("groupPanel"),t=this.option("columnChooser");return(e==null?void 0:e.visible)||(t==null?void 0:t.enabled)}show(e){const t=this.element();if(t&&!this._isShown)switch(e){case"group":this.element().css("display","block");break;case"columnChooser":(function(n){Ht.stop(t,!0),Ht.animate(t,{type:"slide",from:{width:0,display:n.display},to:n,duration:300,easing:"swing"})})({width:"100%",display:"block"});break;default:t.css("display","")}super.show()}}class nhe extends fn.View{getSourceDraggingPanel(){const{sourceLocation:e,draggingPanels:t}=this._dragOptions;return t.find(n=>n.getName()===e)}updateDragElement(){const{columnElement:e,sourceColumn:t}=this._dragOptions,n=this.getSourceDraggingPanel(),s=this.element();s.empty().css({textAlign:e==null?void 0:e.css("textAlign"),height:e&&ht(e),width:e&&Xe(e),whiteSpace:e==null?void 0:e.css("whiteSpace")}).addClass(this.addWidgetPrefix("drag-action")),n.renderDragCellContent(s,t)}init(){super.init();const e=this.getController("data");this._controller=this.getController("draggingHeader"),this._columnsResizerViewController=this.getController("columnsResizer"),this._columnsController=this.getController("columns"),this._isDragging=!1,e.loadingChanged.add(t=>{const n=this.element();!t&&n&&n.hide()})}isDragging(){return this._isDragging}_getDraggingPanelByPos(e){let t;return ie(this._dragOptions.draggingPanelBoundingRects,(n,s)=>{let{draggingPanel:r,boundingRect:o}=s;if(o&&(o.bottom===void 0||e.y<o.bottom)&&(o.top===void 0||e.y>o.top)&&(o.left===void 0||e.x>o.left)&&(o.right===void 0||e.x<o.right))return t=r,!1}),t}_renderCore(){this.element().addClass(`${this.addWidgetPrefix("drag-header")} ${this.addWidgetPrefix("text-content")} dx-widget`).hide()}_resetTargetColumnOptions(){const e=this._dropOptions;e.targetColumnIndex=-1,delete e.targetColumnElement,delete e.isLast,delete e.posX,delete e.posY}_getVisibleIndexObject(e,t){return G(e)?{columnIndex:t,rowIndex:e}:t}dispose(){const e=this.element();this._dragOptions=null,e==null||e.parent().find(`.${this.addWidgetPrefix("drag-header")}`).remove()}isVisible(){const e=this._columnsController.getCommonSettings();return this.option("showColumnHeaders")&&(yN(this)||e.allowGrouping||e.allowHiding)}dragHeader(e){const{columnElement:t}=e,n=Object.assign({},e,{draggingPanelBoundingRects:Que(e.draggingPanels)});this._isDragging=!0,this._dragOptions=n,this._dropOptions={sourceIndex:e.index,sourceColumnIndex:this._getVisibleIndexObject(e.rowIndex,e.columnIndex),sourceColumnElement:t,sourceLocation:e.sourceLocation};const s=ve.getDocument();this._onSelectStart=s.onselectstart,s.onselectstart=function(){return!1},this._controller.drag(this._dropOptions),this.updateDragElement(),this.element().appendTo(o8.getSwatchContainer(t))}moveHeader(e){const t=e.event,{that:n}=t.data,s=On(t),r=n._columnsResizerViewController?n._columnsResizerViewController.isResizing():!1,o=n._dragOptions;if(n._isDragging&&!r){const a=n.element(),l=Math.abs(s.x-o.columnElement.offset().left-o.deltaX),d=Math.abs(s.y-o.columnElement.offset().top-o.deltaY);if(a.is(":visible")||l>5||d>5){a.show();const c=s.x-o.deltaX,h=s.y-o.deltaY;a.css({left:c,top:h}),n.dockHeader(s)}t.preventDefault()}}dockHeader(e){const t=this,n=t._getDraggingPanelByPos(e),s=t._controller,r=t._dropOptions,o=t._dragOptions;if(n){const a=t.option("rtlEnabled"),l=n.getName()==="columnChooser",d=l?"y":"x",c=n.getName(),h=c==="headers"?o.rowIndex:void 0,{sourceColumn:u}=o,p=n.getColumnElements(h,u==null?void 0:u.ownerBand)||[],f=o.pointsByTarget=o.pointsByTarget||{},g=c==="columnChooser"?[]:f[c]||s._generatePointsByColumns(se({},o,{targetDraggingPanel:n,columns:n.getColumns(h),columnElements:p,isVerticalOrientation:l,startColumnIndex:c==="headers"?M(p[0]).index():0}));if(f[c]=g,r.targetLocation=c,g.length>0)for(let m=0;m<g.length;m++){const v=g[m+1]&&(g[m][d]+g[m+1][d])/2;if(v===void 0||(a&&d==="x"?e[d]>v:e[d]<v)){r.targetColumnIndex=t._getVisibleIndexObject(h,g[m].columnIndex),p[m]?(r.targetColumnElement=p.eq(m),r.isLast=!1):(r.targetColumnElement=p.last(),r.isLast=!0),r.posX=g[m].x,r.posY=g[m].y,s.dock(r);break}}else t._resetTargetColumnOptions(),s.dock(r)}}dropHeader(e){const t=e.event,{that:n}=t.data,s=n._controller;n.element().hide(),s&&n._isDragging&&s.drop(n._dropOptions),n.element().appendTo(n._parentElement()),n._dragOptions=null,n._dropOptions=null,n._isDragging=!1,ve.getDocument().onselectstart=n._onSelectStart||null}}const Fu=function(i){return i.option("columnResizingMode")!=="widget"};class ihe extends fn.ViewController{callbackNames(){return["resizeStarted"]}init(){this._subscribesToCallbacks=[],gh(this)&&this._init()}dispose(){this._unsubscribes(),super.dispose()}optionChanged(e){super.optionChanged(e),e.name==="allowColumnResizing"&&(e.value?(this._init(),this._subscribeToEvents()):this._unsubscribes())}_isHeadersRowArea(e){if(this._columnHeadersView){const t=this._columnHeadersView.element();if(t){const n=t.offset().top,s=this._columnHeadersView.getHeadersRowHeight();return e>=n&&e<=n+s}}return!1}_isRtlParentStyle(){var e;return this.option("rtlEnabled")&&((e=this._$parentContainer)===null||e===void 0?void 0:e.parent().css("direction"))==="rtl"}_correctColumnIndexForPoint(e,t,n){e.columnIndex-=t}_pointCreated(e,t,n){const s=Fu(this),r=this.option("rtlEnabled"),o=this._isRtlParentStyle(),a=!s&&r&&!o?0:1,l=(n==null?void 0:n.length)??t.length;if(e.index>=a&&e.index<l+(!s&&(!r||o)?1:0)){this._correctColumnIndexForPoint(e,a,t);const d=t[e.columnIndex]||{},c=t[e.columnIndex+1]||{};return!(s?d.allowResizing&&c.allowResizing:d.allowResizing)}return!0}_getTargetPoint(e,t,n){if(e){for(let s=0;s<e.length;s++)if(!(e[s].x===e[0].x&&e[s+1]&&e[s].x===e[s+1].x)&&e[s].x-n<=t&&t<=e[s].x+n)return e[s]}return null}getSeparatorOffsetX(e){var t;const n=Fu(this),s=this.option("rtlEnabled"),r=this._isRtlParentStyle(),o=e[0].getBoundingClientRect().width;return(((t=e.offset())===null||t===void 0?void 0:t.left)??0)+((n||r)&&s?0:o)}_moveSeparator(e){var t;const n=e.event,s=n.data,r=s._columnsSeparatorView.width(),o=Fu(s),a=r/2,l=s._$parentContainer.offset(),d=l.left,c=On(n),h=this._isRtlParentStyle(),u=(t=s._draggingHeaderView)===null||t===void 0?void 0:t.isDragging();if(s._isResizing&&s._resizingInfo){if((d<=c.x||!o&&h)&&(!o||c.x<=d+Xe(s._$parentContainer))&&s._updateColumnsWidthIfNeeded(c.x)){const p=s._columnHeadersView.getColumnElements().eq(s._resizingInfo.currentColumnIndex);if(p.length){const f=this.getSeparatorOffsetX(p);s._columnsSeparatorView.moveByX(f),s._tablePositionController.update(s._targetPoint.y),n.preventDefault()}}}else u||(s._isHeadersRowArea(c.y)?(s._previousParentOffset&&(s._previousParentOffset.left!==l.left||s._previousParentOffset.top!==l.top)&&s.pointsByColumns(null),s._targetPoint=s._getTargetPoint(s.pointsByColumns(),c.x,r),s._previousParentOffset=l,s._isReadyResizing=!1,s._targetPoint?(s._columnsSeparatorView.changeCursor("col-resize"),s._columnsSeparatorView.moveByX(s._targetPoint.x-a),s._tablePositionController.update(s._targetPoint.y),s._isReadyResizing=!0,n.preventDefault()):(s._columnsSeparatorView.changeCursor(),s._columnsSeparatorView.moveByX(null))):(s.pointsByColumns(null),s._isReadyResizing=!1,s._columnsSeparatorView.changeCursor(),s._columnsSeparatorView.moveByX(null)))}_endResizing(e){const n=e.event.data;n._isResizing&&(n.pointsByColumns(null),n._resizingInfo=null,n._columnsSeparatorView.hide(),n._columnsSeparatorView.changeCursor(),n._trackerView.hide(),n._isReadyResizing=!1,n._isResizing=!1)}_getNextColumnIndex(e){return e+1}_setupResizingInfo(e){const t=this._targetPoint.columnIndex,n=this._getNextColumnIndex(t),s=this._columnHeadersView.getHeaderElement(t),r=this._columnHeadersView.getHeaderElement(n);this._resizingInfo={startPosX:e,currentColumnIndex:t,currentColumnWidth:s!=null&&s.length?en(s[0]).width:0,nextColumnIndex:n,nextColumnWidth:r!=null&&r.length?en(r[0]).width:0,needToInvertResizing:this._needToInvertResizing(s)}}_startResizing(e){const t=e.event,n=t.data,s=On(t);if(xp(t)&&(n._isHeadersRowArea(s.y)?(n._targetPoint=n._getTargetPoint(n.pointsByColumns(),s.x,10),n._targetPoint&&(n._columnsSeparatorView.moveByX(n._targetPoint.x-n._columnsSeparatorView.width()/2),n._isReadyResizing=!0)):n._isReadyResizing=!1),n._isReadyResizing){n._setupResizingInfo(s.x),n._isResizing=!0,n._tablePositionController.update(n._targetPoint.y),n._columnsSeparatorView.show(),n._trackerView.show();const r=n.component.getScrollable();r&&n._isRtlParentStyle()&&(n._scrollRight=Xe(r.$content())-Xe(r.container())-r.scrollLeft()),this.resizeStarted.fire(),t.preventDefault(),t.stopPropagation()}this.isResizing()&&this._editorFactoryController.loseFocus()}_generateColumnsTopYIndex(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const t=this,n=t._columnsController.getRowCount(),s={},r=o=>{const a=Math.ceil(o.x);return s[a]||(s[a]=o.y),!0};for(let o=0;o<n-1;o++){const a=t._columnHeadersView.getColumnElements(o);a&&a.length>0&&xe.getPointsByColumns(a,r,!1,0,e)}return s}_generatePointsByColumns(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const t=this,n=t._generateColumnsTopYIndex(e),s=t._columnsController?t._columnsController.getVisibleColumns():[],r=t._columnHeadersView.getColumnElements();t._pointsByColumns=[],r&&r.length>0&&(t._pointsByColumns=xe.getPointsByColumns(r,o=>t._pointCreated((a=>{const l=Math.ceil(a.x);return n[l]&&(a.y=n[l]),a})(o),s,r),!1,0,e))}_needToInvertResizing(e){const t=this.option("rtlEnabled"),n=this._isRtlParentStyle();return(Fu(this)||n)&&t}_unsubscribeFromEvents(){this._moveSeparatorHandler&&Y.off(ve.getDocument(),be(mt.move,cs),this._moveSeparatorHandler),this._startResizingHandler&&Y.off(this._$parentContainer,be(mt.down,cs),this._startResizingHandler),this._endResizingHandler&&(Y.off(this._columnsSeparatorView.element(),be(mt.up,cs),this._endResizingHandler),Y.off(ve.getDocument(),be(mt.up,cs),this._endResizingHandler))}_subscribeToEvents(){this._moveSeparatorHandler=this.createAction(this._moveSeparator),this._startResizingHandler=this.createAction(this._startResizing),this._endResizingHandler=this.createAction(this._endResizing),Y.on(ve.getDocument(),be(mt.move,cs),this,this._moveSeparatorHandler),Y.on(this._$parentContainer,be(mt.down,cs),this,this._startResizingHandler),Y.on(this._columnsSeparatorView.element(),be(mt.up,cs),this,this._endResizingHandler),Y.on(ve.getDocument(),be(mt.up,cs),this,this._endResizingHandler)}_updateColumnsWidthIfNeeded(e){let t,n=!1,s=this._rowsView.contentWidth();const r=this._resizingInfo,o=this._columnsController,a=o.getVisibleColumns(),l=this._columnsSeparatorView.width(),d=Fu(this),c=d&&this.option("adaptColumnWidthByRatio")&&!this.option("columnAutoWidth"),h=this._isRtlParentStyle(),u=a[r.currentColumnIndex],p=a[r.nextColumnIndex],{needToInvertResizing:f}=r;function g(x){return Ke(x)&&x.endsWith("%")}function m(x,y,T,O){if(x){const L=x.width;L&&(O=g(L)),O?(o.columnOption(x.index,"visibleWidth",y),o.columnOption(x.index,"width",`${(y/T*100).toFixed(3)}%`)):(o.columnOption(x.index,"visibleWidth",null),o.columnOption(x.index,"width",y))}}t=e-r.startPosX,f&&(t=-t);let{cellWidth:v,nextCellWidth:_}=function(x){let y,T,O;const L=r.currentColumnWidth+x,R=(u==null?void 0:u.minWidth)||l,$={};return L>=R?$.cellWidth=L:($.cellWidth=R,O=!0),d&&(T=r.nextColumnWidth-x,y=(p==null?void 0:p.minWidth)||l,T>=y?O?$.nextCellWidth=r.nextColumnWidth-(x+R-L):$.nextCellWidth=T:($.nextCellWidth=y,$.cellWidth=r.currentColumnWidth+(x-y+T))),$}(t);if(n=u.width!==v,n){if(o.beginUpdate(),v=Math.floor(v),s=function(x,y){if(y.every(O=>O.width)){const O=y.reduce((L,R)=>(g(R.width)&&(L+=parseFloat(R.width)),L),0);O>100&&(x=x/O*100)}return x}(s,a),m(u,v,s,c),d)_=Math.floor(_),m(p,_,s,c);else{const x=this._columnHeadersView.getColumnWidths();if(x[r.currentColumnIndex]=v,!(x.reduce((T,O)=>T+O,0)>this._rowsView.contentWidth())){const T=xe.getLastResizableColumnIndex(a);T>=0&&o.columnOption(a[T].index,"visibleWidth","auto")}for(let T=0;T<x.length;T++)a[T]&&a[T]!==u&&a[T].width===void 0&&o.columnOption(a[T].index,"width",x[T])}if(o.endUpdate(),!d){this.component.updateDimensions();const x=this.component.getScrollable();if(x&&h){const y=Xe(x.$content())-Xe(x.container())-this._scrollRight;x.scrollTo({left:y})}}}return n}_subscribeToCallback(e,t){e.add(t),this._subscribesToCallbacks.push({callback:e,handler:t})}_unsubscribeFromCallbacks(){for(let e=0;e<this._subscribesToCallbacks.length;e++){const t=this._subscribesToCallbacks[e];t.callback.remove(t.handler)}this._subscribesToCallbacks=[]}_unsubscribes(){this._unsubscribeFromEvents(),this._unsubscribeFromCallbacks()}_init(){const e=()=>{this._isResizing||this.pointsByColumns(null)},t=r=>{this._scrollLeft!==r.left&&(this._scrollLeft=r.left,this.pointsByColumns(null))};this._columnsSeparatorView=this.getView("columnsSeparatorView"),this._columnHeadersView=this.getView("columnHeadersView"),this._trackerView=this.getView("trackerView"),this._rowsView=this.getView("rowsView"),this._columnsController=this.getController("columns"),this._tablePositionController=this.getController("tablePosition"),this._editorFactoryController=this.getController("editorFactory"),this._draggingHeaderView=this.component.getView("draggingHeaderView"),this._$parentContainer=this.component.$element(),this._subscribeToCallback(this._columnHeadersView.renderCompleted,e),this._subscribeToCallback(this._columnHeadersView.resizeCompleted,e),this._subscribeToCallback(this._columnsSeparatorView.renderCompleted,()=>{this._unsubscribeFromEvents(),this._subscribeToEvents()}),this._subscribeToCallback(this._rowsView.renderCompleted,()=>{this._rowsView.scrollChanged.remove(t),this._rowsView.scrollChanged.add(t)});let n=this._rowsView.getScrollbarWidth()!==0,s=0;this._subscribeToCallback(this._tablePositionController.positionChanged,r=>{if(this._isResizing&&!this._rowsView.isResizing){const o=this._rowsView.getScrollbarWidth()!==0;n!==o||s&&s!==r.height?(n=o,s=r.height,this.component.updateDimensions()):this._rowsView.updateFreeSpaceRowHeight()}s=r.height})}isResizing(){return this._isResizing}pointsByColumns(e){if(e!==void 0)this._pointsByColumns=e;else return this._pointsByColumns||this._generatePointsByColumns(),this._pointsByColumns}}class she extends fn.ViewController{constructor(e){super(e),this.positionChanged=Bt()}init(){super.init(),this._columnsResizerController=this.getController("columnsResizer"),this._columnHeadersView=this.getView("columnHeadersView"),this._rowsView=this.getView("rowsView"),this._pagerView=this.getView("pagerView"),this._rowsView.resizeCompleted.add(()=>{if(this.option("allowColumnResizing")){const e=this._columnsResizerController._targetPoint;this.update(e?e.y:null)}})}update(e){const t={},n=this._columnHeadersView.element(),s=n==null?void 0:n.offset(),r=(s==null?void 0:s.top)||0,o=G(e)?Math.abs(e-r):0,a=this._columnHeadersView?this._columnHeadersView.getHeight():0,l=this._rowsView.getScrollbarWidth(!0),d=this._rowsView?this._rowsView.height()-l:0,c=this.component.getView("draggingHeaderView");t.height=a,(this._columnsResizerController.isResizing()||c.isDragging())&&(t.height+=d-o),e!==null&&n!==null&&n!==void 0&&n.length&&(t.top=n[0].offsetTop+o),this.positionChanged.fire(t)}}class rhe extends fn.ViewController{init(){var e,t;super.init(),this._columnsController=this.getController("columns"),this._tablePositionController=this.getController("tablePosition"),this._columnHeadersView=this.getView("columnHeadersView"),this._columnsSeparatorView=this.getView("columnsSeparatorView"),this._draggingHeaderView=this.getView("draggingHeaderView"),this._rowsView=this.getView("rowsView"),this._blockSeparatorView=this.getView("blockSeparatorView"),this._headerPanelView=this.getView("headerPanel"),this._columnChooserView=this.getView("columnChooserView");const n=()=>{if(this._draggingHeaderView){const s=[this._columnChooserView,this._columnHeadersView,this._headerPanelView];this._unsubscribeFromEvents(this._draggingHeaderView,s),this._subscribeToEvents(this._draggingHeaderView,s)}};this._columnHeadersView.renderCompleted.add(n),(e=this._headerPanelView)===null||e===void 0||e.renderCompleted.add(n),(t=this._columnChooserView)===null||t===void 0||t.renderCompleted.add(n)}dispose(){this._draggingHeaderView&&this._unsubscribeFromEvents(this._draggingHeaderView,[this._columnChooserView,this._columnHeadersView,this._headerPanelView])}_generatePointsByColumns(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this._columnHeadersView.getColumnElements();return this.isCustomGroupColumnPosition=this.checkIsCustomGroupColumnPosition(e),xe.getPointsByColumns(e.columnElements,r=>this._pointCreated({point:r,columns:e.columns,location:e.targetDraggingPanel.getName(),sourceColumn:e.sourceColumn,cells:n}),e.isVerticalOrientation,e.startColumnIndex,t)}checkIsCustomGroupColumnPosition(e){let t=!0;for(let n=0;n<e.columns.length;n+=1){const s=e.columns[n];if(s.command==="expand"&&!t)return!0;s.command||(t=!1)}return!1}_pointCreated(e){let{point:t,columns:n,location:s,sourceColumn:r}=e;const o=n[t.columnIndex],a=n[t.columnIndex-1],l=(a==null?void 0:a.command)==="expand",d=(o==null?void 0:o.command)==="expand"&&(a==null?void 0:a.command)!=="expand",c=r&&!r.allowReordering,h=!(o!=null&&o.allowReordering)&&!(a!=null&&a.allowReordering);switch(s){case"columnChooser":return!0;case"headers":if(c)return!0;if(!d)return l||h;if(this.isCustomGroupColumnPosition)return!1;for(;((u=n[t.columnIndex])===null||u===void 0?void 0:u.command)==="expand";){var u;t.columnIndex+=1}return!1;default:return n.length===0}}_subscribeToEvents(e,t){const n=this;ie(t,(s,r)=>{if(r){let o;const a=r.getRowCount?r.getRowCount():1,l=r.getName(),d=function(c,h){if(!h)return;const u=M(h),p=o[c];p&&r.allowDragging(p)&&(u.addClass(n.addWidgetPrefix("drag-action")),Y.on(u,be(Kh,cs),n.createAction(f=>{const g=f.event,m=On(g);e.dragHeader({deltaX:m.x-M(g.currentTarget).offset().left,deltaY:m.y-M(g.currentTarget).offset().top,sourceColumn:p,index:p.index,columnIndex:c,columnElement:u,sourceLocation:l,draggingPanels:t,rowIndex:n._columnsController.getRowIndex(p.index,!0)})})),Y.on(u,be(Nc,cs),{that:e},n.createAction(e.moveHeader)),Y.on(u,be(Gh,cs),{that:e},n.createAction(e.dropHeader)))};for(let c=0;c<a;c++){const h=r.getColumnElements(c)||[];h.length&&(o=r.getColumns(c)||[],ie(h,d))}}})}_unsubscribeFromEvents(e,t){const n=this;ie(t,(s,r)=>{if(r){const o=r.getColumnElements()||[];ie(o,(a,l)=>{const d=M(l);Y.off(d,be(Kh,cs)),Y.off(d,be(Nc,cs)),Y.off(d,be(Gh,cs)),d.removeClass(n.addWidgetPrefix("drag-action"))})}})}_getSeparator(e){return e==="headers"?this._columnsSeparatorView:this._blockSeparatorView}hideSeparators(e){const t=this._blockSeparatorView,n=this._columnsSeparatorView;this._animationColumnIndex=void 0,t&&t.hide(),e!=="block"&&n&&n.hide()}allowDrop(e){return this._columnsController.allowMoveColumn(this.addColumnIndexOffset(e.sourceColumnIndex),this.addColumnIndexOffset(e.targetColumnIndex),e.sourceLocation,e.targetLocation)}drag(e){const{sourceIndex:t}=e,{sourceLocation:n}=e,{sourceColumnElement:s}=e,r=this._columnHeadersView,o=this._rowsView;s&&(s.addClass(this.addWidgetPrefix(xg.draggableColumn)),n==="headers"&&(r&&r.toggleDraggableColumnClass(t,!0),o&&o.toggleDraggableColumnClass(t,!0)))}dock(e){const t=this,n=Me(e.targetColumnIndex)?e.targetColumnIndex.columnIndex:e.targetColumnIndex,{sourceLocation:s}=e,{targetLocation:r}=e,o=t._getSeparator(r),a=n>=0;t._columnHeadersView.element().find(".dx-header-row").toggleClass(t.addWidgetPrefix("drop-highlight"),s!=="headers"&&r==="headers"&&!a),o&&(t.allowDrop(e)&&a?r==="group"||r==="columnChooser"?function(){t._animationColumnIndex!==n&&(t.hideSeparators(),o.element()[e.isLast?"insertAfter":"insertBefore"](e.targetColumnElement),t._animationColumnIndex=n,o.show(r))}():(t.hideSeparators("block"),t._tablePositionController.update(e.posY),o.moveByX(e.posX-o.width()),o.show()):t.hideSeparators())}addColumnIndexOffset(e){const t=this._columnsController.getColumnIndexOffset();return Me(e)?Object.assign({},e,{columnIndex:e.columnIndex+t}):e+t}drop(e){const{sourceColumnElement:t}=e;if(t&&(t.removeClass(this.addWidgetPrefix(xg.draggableColumn)),this._columnHeadersView.toggleDraggableColumnClass(e.sourceIndex,!1),this._rowsView.toggleDraggableColumnClass(e.sourceIndex,!1),this._columnHeadersView.element().find(".dx-header-row").removeClass(this.addWidgetPrefix("drop-highlight"))),this.allowDrop(e)){const n=this._getSeparator(e.targetLocation);n&&n.hide(),this._columnsController.moveColumn(this.addColumnIndexOffset(e.sourceColumnIndex),this.addColumnIndexOffset(e.targetColumnIndex),e.sourceLocation,e.targetLocation)}}}const ohe=i=>class extends i{_needUpdateRowHeight(e){const t=this.option("wordWrapEnabled"),n=this._columnsResizerController.isResizing();return super._needUpdateRowHeight.apply(this,arguments)||e>0&&!!t&&!!n}},ahe=i=>class extends i{renderFocusOverlay(){if(!this._columnsResizerController.isResizing())return super.renderFocusOverlay.apply(this,arguments)}},gd={views:{columnsSeparatorView:ehe,blockSeparatorView:the,draggingHeaderView:nhe,trackerView:Jue},controllers:{draggingHeader:rhe,tablePosition:she,columnsResizer:ihe},extenders:{views:{rowsView:ohe},controllers:{editorFactory:ahe}}};gd.views.draggingHeaderView;gd.controllers.draggingHeader;gd.views.columnsSeparatorView;gd.controllers.tablePosition;gd.controllers.columnsResizer;gd.views.trackerView;Ue.registerModule("columnsResizingReordering",gd);const lhe=(i,e)=>i.length===e.length&&!Object.keys(i).some(t=>i[t]!==e[t]),dhe=(i,e)=>dn(i,e,{maxDepth:4}),che=(i,e,t,n)=>{let s=i,r=e;return function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return n(a,s)||(s=a,r=t(...s)),r}},uhe={compareType:"reference"},qk=function(i){let{compareType:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:uhe,t=null;return function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];if(!t){const o=i(...s);return t=che(s,o,i,e==="reference"?lhe:dhe),o}return t(...s)}},hhe=i=>i.attr(Cy.dragCell)!==void 0,phe=i=>[`[${Cy.ariaColIndex}="${i+1}"]`,`:not([${Cy.dragCell}])`,":not([aria-hidden=true])"].join(""),fhe=(i,e)=>i.filter(phe(e)).first(),wN={isDragCell:hhe,getCellToFocus:fhe};function sc(i){return i&&i.hasClass(Rz)}function SN(i){return i&&i.hasClass("dx-datagrid-group-footer")}function mhe(i){return i&&i.hasClass(K6)}function ghe(i){return i&&i.hasClass(Vz)}function _he(i){return i==null?void 0:i.hasClass(TC)}function vhe(i){return i&&i.hasClass(K6)&&i.hasClass(Oz)}function Fd(i){return i&&i.hasClass(U6)}function xhe(i){return!i||i.hasClass(G6)||i.hasClass(Fz)}function Yk(i,e){return!i._isRowEditMode()&&e&&!e.hasClass(q6)&&e.hasClass(c_)}function Ys(i){return G(i)&&i.length>0}function $C(){return Oe.current().deviceType!=="desktop"}function Xk(i){return!!i.parent(`.${Pz}`).length}function bhe(i,e){return i.option("rtlEnabled")?!(e.fixedPosition==="right"||G(e.command)&&!G(e.fixedPosition)):!(!G(e.fixedPosition)||e.fixedPosition==="left")}function EN(i){const e=i.getController("keyboardNavigation");return e._isVirtualScrolling()?i.option("focusedRowIndex")===e.getRowIndex():!1}function yhe(i){return i.find(nh).filter(":visible")}function Zk(i,e){const t=yhe(i);return e?t.last():t.first()}let IN=class extends fn.ViewController{constructor(){super(...arguments),this.needToRestoreFocus=!1}_applyColumnIndexBoundaries(e){const t=this._columnsController.getVisibleColumns(null,!0).length;return e<0?e=0:e>=t&&(e=t-1),e}unsubscribeFromKeyDownEvent(){this.keyDownListener&&Pa.off(this.keyDownListener)}subscribeToKeyDownEvent(){const e=this.getFocusedViewElement();e&&(this.keyDownListener=Pa.on(e,null,t=>this.keyDownHandler(t)))}unsubscribeFromFocusinEvent(){const e=this.getFocusedViewElement();e&&Y.off(e,"focusin",this.focusinHandlerContext)}subscribeToFocusinEvent(){const e=this.getFocusedViewElement(),t=this.getFocusinSelector();e&&Y.on(e,"focusin",t,this.focusinHandlerContext)}getScrollPadding(e){const t=en(e.get(0)),n=this.getContainerBoundingRect(e);return{left:n.left-t.left,right:t.right-n.right}}getVirtualCellWidth(){var e;const t=this._columnsController.getVisibleColumns(void 0,!0),n=xe.getColumnWidths(t),s=((e=this._focusedCellPosition)===null||e===void 0?void 0:e.columnIndex)??0;return n[s]??0}getNextCellLocation(e,t){var n;const s=this.getScrollable(),r=this._isVirtualColumnRender();if(!s||e===null&&!r)return 0;if(e===null){const l=(t==="previous"||t==="previousInRow")!==this.option("rtlEnabled")?-1:1;return s.scrollLeft()+l*this.getVirtualCellWidth()}const o=this.getScrollPadding(M(s.container()));return U8(e[0],"horizontal",M((n=this.getFocusedView())===null||n===void 0?void 0:n.getContent())[0],s.scrollOffset(),o,this.addWidgetPrefix("table"))}resizeCompleted(){}getColumnIndexOffset(e){let t=0;const n=this._columnsController.getVisibleColumns()[e];return n!=null&&n.fixed?t=this._getFixedColumnIndexOffset(n):e>=0&&(t=this._columnsController.getColumnIndexOffset()),t}getFocusedViewElement(){var e;return(e=this.getFocusedView())===null||e===void 0?void 0:e.element()}keyDownHandler(e){}initKeyDownHandler(){this.unsubscribeFromKeyDownEvent(),this.subscribeToKeyDownEvent()}getFocusinSelector(){return""}focusinHandler(e){}initHandlers(){var e,t;const n=this.getFocusedView();if(this.unsubscribeFromKeyDownEvent(),n==null||(e=n.renderCompleted)===null||e===void 0||e.remove(this.renderCompletedWithContext),(t=this._resizeController)===null||t===void 0||(t=t.resizeCompleted)===null||t===void 0||t.remove(this.resizeCompletedWithContext),this.isKeyboardEnabled()){var s,r;n==null||(s=n.renderCompleted)===null||s===void 0||s.add(this.renderCompletedWithContext),(r=this._resizeController)===null||r===void 0||(r=r.resizeCompleted)===null||r===void 0||r.add(this.resizeCompletedWithContext)}}getFocusedView(){}_getCell(e){}_getRowIndex(e){return e==null?void 0:e.index()}getCellIndex(e,t){return e==null?void 0:e.index()}_getFixedColumnIndexOffset(e){const t=this._columnsController.getVisibleColumns(null,!0).length;return bhe(this,e)?t-this._columnsController.getVisibleColumns().length:0}getNewVisibleIndex(e,t,n){return n==="previous"?e-1:e+1}_getCellPosition(e,t){const n=Ys(e)&&e.closest("tr");if(Ys(n)){const s=this._getRowIndex(n);let r=this.getCellIndex(e,s);return r+=this.getColumnIndexOffset(r),t&&(r=this.getNewVisibleIndex(r,s,t),r=this._applyColumnIndexBoundaries(r)),{rowIndex:s,columnIndex:r}}}_getColumnByCellElement(e,t){const s=this.getCellIndex(e)+this._columnsController.getColumnIndexOffset();return this._columnsController.getVisibleColumns(t,!0)[s]}processOnKeyDown(e){const{originalEvent:t}=e,n={handled:!1,event:t};return this.executeAction("onKeyDown",n),e.ctrl=t.ctrlKey,e.alt=t.altKey,e.shift=t.shiftKey,!!n.handled}setFocusedColumnIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.columnIndex=e}_updateFocusedCellPosition(e,t){const n=this._getCellPosition(e,t);return n&&(!e.length||n.rowIndex>=0&&n.columnIndex>=0)&&this.setFocusedCellPosition(n.rowIndex,n.columnIndex),n}renderCompleted(e){this.initKeyDownHandler(),this.unsubscribeFromFocusinEvent(),this.subscribeToFocusinEvent()}getScrollable(){return this._rowsView.getScrollable()}scrollLeft(e){const t=this.getScrollable();if(!t||t.scrollLeft()===e)return de().resolve().promise();const n=de(),s=()=>{var r;t.off("scroll",s);const o=this._rowsView.normalizeScrollLeft(e);if((r=this._columnsController)!==null&&r!==void 0&&r.isNeedToRenderVirtualColumns(o)){const a=()=>{this._rowsView.renderCompleted.remove(a),n.resolve()};this._rowsView.renderCompleted.add(a)}else n.resolve()};return t.on("scroll",s),t.scrollTo({left:e}),n.promise()}scrollToNextCell(e,t){const n=this.getNextCellLocation(e,t);return this.scrollLeft(n)}_isVirtualColumnRender(){return this.option("scrolling.columnRenderingMode")==="virtual"}getContainerBoundingRect(e){const t=en(e.get(0));return{left:t.left,right:t.right}}init(){this._columnsController=this.getController("columns"),this._resizeController=this.getController("resizing"),this._rowsView=this.getView("rowsView"),this._focusedCellPosition={},this.isKeyboardEnabled()&&this.createAction("onKeyDown"),this.renderCompletedWithContext=this.renderCompletedWithContext??this.renderCompleted.bind(this),this.resizeCompletedWithContext=this.resizeCompletedWithContext??this.resizeCompleted.bind(this),this.focusinHandlerContext=this.focusinHandlerContext??this.focusinHandler.bind(this),this.initHandlers()}dispose(){Pa.off(this.keyDownListener)}setFocusedRowIndex(e){this._focusedCellPosition||(this._focusedCellPosition={}),this._focusedCellPosition.rowIndex=e}setFocusedCellPosition(e,t){this.setFocusedRowIndex(e),this.setFocusedColumnIndex(t)}optionChanged(e){switch(e.name){case"keyboardNavigation":e.fullName==="keyboardNavigation.enabled"&&this.init(),e.handled=!0;break;case"useLegacyKeyboardNavigation":this.init(),e.handled=!0;break;default:super.optionChanged(e)}}isKeyboardEnabled(){return this.option("keyboardNavigation.enabled")}_getFocusedCell(){return M(this._getCell(this._focusedCellPosition))}getDirectionByKeyName(e){const t=this.option("rtlEnabled");switch(e){case"leftArrow":return t?qi.Next:qi.Previous;case"rightArrow":return t?qi.Previous:qi.Next;default:return qi.Next}}};const Che=i=>class extends i{focusinHandler(e){const t=M(e.target);this.translateFocusIfNeed(e,t),super.focusinHandler(e)}focusOutHandler(e){super.focusOutHandler(e),this.makeScrollableFocusableIfNeed()}translateFocusIfNeed(e,t){const n=this.isScrollableNeedFocusable(),s=this._isFixedColumn(0);if(!n||!s)return;const r=this._rowsView.getCell({rowIndex:0,columnIndex:0}),o=!!r.attr("tabindex"),a=t.is(this._$firstNotFixedCell);o&&a&&(e.preventDefault(),this._focus(r))}renderCompleted(e){this._$firstNotFixedCell=this.getFirstNotFixedCell(),this.makeScrollableFocusableIfNeed(),super.renderCompleted(e)}_focus(e,t,n){super._focus(e,t,n),this.makeScrollableFocusableIfNeed()}_tabKeyHandler(e){const n=!(G(this._focusedCellPosition)&&!ki(this._focusedCellPosition))||!e.shift&&this._isLastValidCell(this._focusedCellPosition)||e.shift&&this._isFirstValidCell(this._focusedCellPosition),s=this.isScrollableNeedFocusable();if(n&&s){var r;(r=this._$firstNotFixedCell)===null||r===void 0||r.removeAttr("tabIndex")}super._tabKeyHandler(e)}getFirstNotFixedCell(){var e;const n=this._columnsController.getVisibleColumns().findIndex(r=>{let{fixed:o}=r;return!o}),s=(e=this._editingController)===null||e===void 0?void 0:e.isEditing();return n===-1||s?void 0:this._rowsView._getCellElement(0,n)}isScrollableNeedFocusable(){var e,t;const n=!!this._rowsView.getScrollable(),s=!!((e=this._rowsView._fixedTableElement)!==null&&e!==void 0&&e.length),r=!!((t=this._rowsView.getCellElements(0))!==null&&t!==void 0&&t.length);return n&&s&&r}makeScrollableFocusableIfNeed(){!this.isScrollableNeedFocusable()||!this._$firstNotFixedCell||this._applyTabIndexToElement(this._$firstNotFixedCell)}};class whe extends IN{constructor(){super(...arguments),this._needNavigationToCell=!1}init(){if(this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._editingController=this.getController("editing"),this._headerPanel=this.getView("headerPanel"),this._editorFactory=this.getController("editorFactory"),this._focusController=this.getController("focus"),this._adaptiveColumnsController=this.getController("adaptiveColumns"),this._columnResizerController=this.getController("columnsResizer"),this._rowsView=this.getView("rowsView"),super.init(),this._memoFireFocusedCellChanged=qk(this._memoFireFocusedCellChanged.bind(this),{compareType:"value"}),this._memoFireFocusedRowChanged=qk(this._memoFireFocusedRowChanged.bind(this),{compareType:"value"}),this.focusedHandlerWithContext=this.focusedHandlerWithContext||this.focusedHandler.bind(this),this.focusOutHandlerContext=this.focusOutHandlerContext??this.focusOutHandler.bind(this),this._updateFocusTimeout=null,this._fastEditingStarted=!1,this._canceledCellPosition=null,this.isKeyboardEnabled()){var e;rW(),(e=this._editorFactory)===null||e===void 0||e.focused.add(this.focusedHandlerWithContext)}else{var t;hT(),(t=this._editorFactory)===null||t===void 0||t.focused.remove(this.focusedHandlerWithContext)}this.initDocumentHandlers()}dispose(){super.dispose(),this._resetFocusedView(),Y.off(ve.getDocument(),be(mt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),clearTimeout(this._updateFocusTimeout),hT()}focusedHandler(e){this.setupFocusedView(),this._isNeedScroll&&e.is(":visible")&&this._focusedView&&this._focusedView.getScrollable()&&(this._focusedView._scrollToElement(e),this._isNeedScroll=!1)}focusinHandler(e){const t=M(e.target),n=M(e.relatedTarget).closest(this._rowsView.element()).length,s=t.is("a");if(e.relatedTarget&&s&&!n&&this._isEventInCurrentGrid(e)){let a=this._getFocusedCell();a=Ys(a)?a:this._rowsView.getCellElements(0).filter("[tabindex]").eq(0),t.closest(a).length||(e.preventDefault(),Y.trigger(a,"focus"))}const r=t.is("td"),o=(this.option("focusedRowIndex")??-1)<0;r&&o&&this._updateFocusedCellPosition(t)}focusOutHandler(e){const{relatedTarget:t}=e;this._toggleInertAttr(!1),t&&!this.isInsideFocusedView(M(t))&&(this._isNeedFocus=!1,this._isHiddenFocus=!1,this._isNeedScroll=!1)}subscribeToRowsViewFocusEvent(){var e;const t=(e=this._rowsView)===null||e===void 0?void 0:e.element();Y.on(t,"focusin",this.focusinHandlerContext),Y.on(t,"focusout",this.focusOutHandlerContext)}unsubscribeFromRowsViewFocusEvent(){var e;const t=(e=this._rowsView)===null||e===void 0?void 0:e.element();Y.off(t,"focusin",this.focusinHandlerContext),Y.off(t,"focusout",this.focusOutHandlerContext)}resizeCompleted(){var e;if(this.navigationToCellInProgress()&&this._resizeController.resetLastResizeTime(),!this.needToRestoreFocus)return;const t=((e=this._rowsView)===null||e===void 0||(e=e.getScrollable())===null||e===void 0?void 0:e.scrollLeft())??0;this._columnsController.isNeedToRenderVirtualColumns(t)||(this.needToRestoreFocus=!1,this.focusFirstOrLastCell())}renderCompleted(e){const t=this._rowsView.element(),n=!e||e.changeType==="refresh",s=this._focusedView&&this._focusedView.name===this._rowsView.name;let r=!1;const o=e&&(e.changeType==="append"||e.changeType==="prepend"),l=M(ve.getRootNode(t.get&&t.get(0))).find(":focus"),d=this._isFocusedElementCorrect(l,t,e);if(this.unsubscribeFromRowsViewFocusEvent(),this.subscribeToRowsViewFocusEvent(),this.initPointerEventHandler(),this.initKeyDownHandler(),this._setRowsViewAttributes(),s&&d&&(r=this._isNeedFocus?!o:this._isHiddenFocus&&n&&!(e!=null&&e.virtualColumnsScrolling),r)){var c;const h=!!(e!=null&&(c=e.event)!==null&&c!==void 0&&c.type),u=(e==null?void 0:e.virtualColumnsScrolling)&&h;this._updateFocus(!0,u)}}_isFocusedElementCorrect(e,t,n){if(e.length&&!e.closest(t).length)return!1;if(!e.length&&n!==null&&n!==void 0&&n.virtualColumnsScrolling){var s;const r=((s=this._focusedCellPosition)===null||s===void 0?void 0:s.columnIndex)??-1;return this._isColumnRendered(r)}return!0}initHandlers(){this.unsubscribeFromRowsViewFocusEvent(),this.unsubscribeFromPointerEvent(),super.initHandlers()}initDocumentHandlers(){const e=ve.getDocument();this._documentClickHandler=this._documentClickHandler||this.createAction(t=>{var n;const s=M(t.event.target),r=`.${this.addWidgetPrefix(kz)}`,o=`.${this.addWidgetPrefix(gu)}`,a=`.${Bz}`;if(!!s.closest(r).length&&!Zc(s)){t.event.preventDefault();return}const d=this._isEventInCurrentGrid(t.event)&&!!s.closest(o).length,c=!!s.closest(a).length,h=!!((n=this._columnResizerController)!==null&&n!==void 0&&n.isResizing());!d&&!c&&!h&&((!this._focusedView||s.closest(this._focusedView.element()).length===0)&&this._resetFocusedCell(!0),this._resetFocusedView())}),Y.off(e,be(mt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler),this.isKeyboardEnabled()&&Y.on(e,be(mt.down,"dxDataGridKeyboardNavigation"),this._documentClickHandler)}_setRowsViewAttributes(){const e=this._getRowsViewElement();!this._dataController.getVisibleRows().length&&this._applyTabIndexToElement(e)}unsubscribeFromPointerEvent(){const e=$C()?Nt:mt.down,t=this._getRowsViewElement();this._pointerEventAction&&Y.off(t,be(e,"dxDataGridKeyboardNavigation"),this._pointerEventAction)}subscribeToPointerEvent(){const e=$C()?Nt:mt.down,t=this._getRowsViewElement(),n=`.${da} > td, .${da}`;Y.on(t,be(e,"dxDataGridKeyboardNavigation"),n,this._pointerEventAction)}initPointerEventHandler(){this._pointerEventAction=this._pointerEventAction||this.createAction(this._pointerEventHandler),this.unsubscribeFromPointerEvent(),this.subscribeToPointerEvent()}isRowFocusType(){return this.focusType===nT}isCellFocusType(){return this.focusType===iT}setRowFocusType(){this.option("focusedRowEnabled")&&(this.focusType=nT)}setCellFocusType(){this.focusType=iT}executeTabKey(e,t){const n=this._editingController.isEditing(),s=e.shift?"previous":"next",r=e.originalEvent.target,{editingOptions:o,isLastValidCell:a}=t;let l=t.isOriginalHandlerRequired;if(o&&r&&!l)if(n){if(!this._editingCellTabHandler(e,s))return}else this._targetCellTabHandler(e,s)&&(l=!0);if(l){const c=this._getFocusedCell().is($v);a&&!c&&this._toggleInertAttr(!0),this._editorFactory.loseFocus(),this._editingController.isEditing()&&!this._isRowEditMode()&&(this._resetFocusedCell(!0),this._resetFocusedView(),this._closeEditCell());return}e.originalEvent.preventDefault()}keyDownHandler(e){var t;let n=!0;this._isNeedFocus=!0,this._isNeedScroll=!0;let s=this.processOnKeyDown(e);const r=(t=this._editingController)===null||t===void 0?void 0:t.isEditing(),{originalEvent:o}=e;if(o.isDefaultPrevented()){this._isNeedFocus=!1,this._isNeedScroll=!1;return}if(!zz.includes(e.keyName)&&this._updateFocusedCellPositionByTarget(o.target),!s){switch(e.keyName){case"leftArrow":case"rightArrow":this._leftRightKeysHandler(e,r),s=!0;break;case"upArrow":case"downArrow":e.ctrl?b1("rowsView",this,o):this._upDownKeysHandler(e,r),s=!0;break;case"pageUp":case"pageDown":this._pageUpDownKeyHandler(e),s=!0;break;case"space":s=this._spaceKeyHandler(e,r);break;case"A":$n(e.originalEvent)?(this._ctrlAKeyHandler(e,r),s=!0):s=this._beginFastEditing(e.originalEvent);break;case"tab":this._tabKeyHandler(e),s=!0;break;case"enter":this._enterKeyHandler(e,r),s=!0;break;case"escape":s=this._escapeKeyHandler(e,r);break;case"F":$n(e.originalEvent)?(this._ctrlFKeyHandler(e),s=!0):s=this._beginFastEditing(e.originalEvent);break;case"F2":this._f2KeyHandler(),s=!0;break;case"del":case"backspace":this._isFastEditingAllowed()&&!this._isFastEditingStarted()&&(s=this._beginFastEditing(o,!0));break;case"home":case"end":this.homeOrEndKeyHandler(e)}!s&&!this._beginFastEditing(o)&&(this._isNeedFocus=!1,this._isNeedScroll=!1,n=!1),n&&o.stopPropagation()}}_closeEditCell(){const e=de();return setTimeout(()=>{this._editingController.closeEditCell().always(e.resolve)}),e}_leftRightKeysHandler(e,t){const n=this.getVisibleRowIndex(),{originalEvent:s}=e,r=this._focusedView&&this._focusedView.getRow(n),o=this._getDirectionCodeByKey(e.keyName),a=this._isFastEditingStarted();if(!((!t||a)&&Fd(r)))return;s==null||s.preventDefault(),this.setCellFocusType(),a&&this._closeEditCell();const d=()=>{const c=this._getNextCell(o);Ys(c)&&this._arrowKeysHandlerFocusCell(s,c,o)};if(this._isVirtualColumnRender()){this._processVirtualHorizontalPosition(o,e).done(d);return}d()}isInsideMasterDetail(e){const t=e.closest(`.${Lv}`);return!!t.get(0)&&this.elementIsInsideGrid(t)&&!e.is(t)}_upDownKeysHandler(e,t){var n,s;const r=this.getVisibleRowIndex(),o=this._focusedView&&this._focusedView.getRow(r),a=e.originalEvent,l=e.keyName==="upArrow",d=this._dataController.dataSource(),c=(n=this._editingController)===null||n===void 0||(s=n.isEditRowByIndex)===null||s===void 0?void 0:s.call(n,r),h=this._isFastEditingStarted(),u=this.isInsideMasterDetail(M(a==null?void 0:a.target));if((!c||!t||h)&&o&&!vhe(o)&&!u){if(h&&this._closeEditCell(),!this._navigateNextCell(a,e.keyName)&&this._isVirtualRowRender()&&l&&d&&!d.isLoading()){const f=gt(o),g=this._focusedCellPosition.rowIndex-1;this._scrollBy(0,-f,g,a)}a&&a.preventDefault()}}_pageUpDownKeyHandler(e){const t=this._dataController.pageIndex(),n=this._dataController.pageCount(),s=this.option("paging.enabled"),r=e.keyName==="pageUp",o=r?-1:1,a=this._rowsView.getScrollable();s&&!this._isVirtualScrolling()?(r?t>0:t<n-1)&&!this._isVirtualScrolling()&&(this._dataController.pageIndex(t+o),e.originalEvent.preventDefault()):a&&ht(a.container())<ht(a.$content())&&(this._scrollBy(0,ht(a.container())*o),e.originalEvent.preventDefault())}_spaceKeyHandler(e,t){const n=this.getVisibleRowIndex(),s=M(e.originalEvent&&e.originalEvent.target);if(this.option("selection")&&this.option("selection").mode!=="none"&&!t){const r=this._getElementType(s)==="row"&&this.isRowFocusType()&&Fd(s);return s.hasClass(q6)&&this.option("selection.showCheckBoxesMode")==="onClick"&&this._selectionController.startSelectionWithCheckboxes(),r||s.parent().hasClass(U6)||s.hasClass(this.addWidgetPrefix(gu))?(this._selectionController.changeItemSelection(n,{shift:e.shift,control:e.ctrl}),e.originalEvent.preventDefault(),!0):!1}return this._beginFastEditing(e.originalEvent)}_ctrlAKeyHandler(e,t){!t&&!e.alt&&this.option("selection.mode")==="multiple"&&this.option("selection.allowSelectAll")&&(this._selectionController.selectAll(),e.originalEvent.preventDefault())}_toggleInertAttr(e){}_tabKeyHandler(e){const t=e.shift?"previous":"next",n=e.originalEvent.target,s=this._focusedView&&this._focusedView.element(),r=this.option("editing"),o=G(this._focusedCellPosition)&&!ki(this._focusedCellPosition),a=e.shift&&o?this._isFirstValidCell(this._focusedCellPosition):!1,l=!e.shift&&o?this._isLastValidCell(this._focusedCellPosition):!1,d=M(n).hasClass(this.addWidgetPrefix(gu)),c=!o||a||l,h=r&&n&&!c,u=h&&d,p=h&&this._isVirtualColumnRender(),f={editingOptions:r,isLastValidCell:l,isOriginalHandlerRequired:c};if(!this._handleTabKeyOnMasterDetailCell(n,t)){if(M(s).addClass(J2),u&&this._resetFocusedCell(),p){this._processVirtualHorizontalPosition(t,e).done(()=>{this.executeTabKey(e,f)});return}this.executeTabKey(e,f)}}_getMaxVerticalOffset(){const e=this.component.getScrollable();return e?e.scrollHeight()-ht(this._rowsView.element()):0}_getMaxHorizontalOffset(){const e=this.component.getScrollable();return e?e.scrollWidth()-Xe(this._rowsView.element()):0}_isColumnRendered(e){const t=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getVisibleColumns(),s=t[e];let r=!1;return s&&(r=n.indexOf(s)>=0),r}_isFixedColumn(e){const n=this._columnsController.getVisibleColumns(null,!0)[e];return!!n&&!!n.fixed}_isColumnVirtual(e){const t=e-this._columnsController.getColumnIndexOffset(),s=this._columnsController.getVisibleColumns()[t];return!!s&&s.command==="virtual"}_processVirtualHorizontalPosition(e,t){const n=this.getColumnIndex();let s,r=0,o=!1;switch(e){case"next":case"nextInRow":{const a=this._getVisibleColumnCount();s=n+1,r=this.option("rtlEnabled")?this._getMaxHorizontalOffset():0,e==="next"?o=a===s||this._isFixedColumn(n)&&!this._isColumnRendered(s):o=a>s&&this._isFixedColumn(n)&&!this._isColumnRendered(s);break}case"previous":case"previousInRow":if(s=n-1,r=this.option("rtlEnabled")?0:this._getMaxHorizontalOffset(),e==="previous"){const a=this._columnsController.getColumnIndexOffset();o=s<0&&a===0||this._isFixedColumn(n)&&!this._isColumnRendered(s)}else o=s>=0&&this._isFixedColumn(n)&&!this._isColumnRendered(s)}return o?(t.originalEvent.preventDefault(),this.scrollLeft(r)):G(s)&&G(e)&&this._isColumnVirtual(s)?(t.originalEvent.preventDefault(),this.scrollToNextCell(null,e)):de().resolve().promise()}_editingCellTabHandler(e,t){const n=e.originalEvent.target,s=this._getCellElementFromTarget(n),r=s.is($v);if(this.isOriginalTabHandlerRequired(s,e))return!1;if(r)return!this._targetCellTabHandler(e,t);this._updateFocusedCellPosition(s);const o=this._getElementType(n),a=this._getNextCellByTabKey(e.originalEvent,t,o),l=a.$cell;if(!l||this._handleTabKeyOnMasterDetailCell(l,t))return!1;let d=!1;const c=this._getColumnByCellElement(l);if(c!=null&&c.allowEditing){const u=l.parent(),p=this._getLocalRowIndex(u),f=this._dataController.items()[p],g=!f||f.rowType==="data";d=this._editingController.allowUpdating({row:f})?g:f==null?void 0:f.isNewRow}return d||this._closeEditCell(),this._focusCell(l,!a.isHighlighted)&&(!this._isRowEditMode()&&d?this._editFocusedCell():this._focusInteractiveElement(l,e.shift)),!0}isOriginalTabHandlerRequired(e,t){const n=t.originalEvent.target,s=this._getElementType(n),r=Zk(e,!t.shift);return s!=="cell"||r.length===0?!1:n!==r.get(0)}_targetCellTabHandler(e,t){const n=e.originalEvent;let s=n.target,r=this._getElementType(s),o=this._getCellElementFromTarget(s);if(!Yk(this,o)&&this.isOriginalTabHandlerRequired(o,e))return!0;this._focusedCellPosition.rowIndex===void 0&&M(s).hasClass(da)&&this._updateFocusedCellPosition(o),this.isRowFocusType()&&(this.setCellFocusType(),r==="row"&&Fd(M(s))&&(s=this.getFirstValidCellInRow(M(s)),r=this._getElementType(s)));const a=this._getNextCellByTabKey(n,t,r);return o=a.$cell,!o||(o=this._checkNewLineTransition(n,o),!o)||(this._focusCell(o,!a.isHighlighted),Yk(this,o)||this._focusInteractiveElement(o,e.shift)),!1}_getNextCellByTabKey(e,t,n){let s=this._getNextCell(t,n);const r=s&&this._fireFocusedCellChanging(e,s,!0);return!r||r.cancel?{}:(r.$newCellElement&&(s=r.$newCellElement),{$cell:s,isHighlighted:r.isHighlighted})}_checkNewLineTransition(e,t){const n=this.getVisibleRowIndex(),s=t.parent();if(n!==this._getRowIndex(s)){const r=this._getCellPosition(t),o=this._fireFocusedRowChanging(e,s);if(o.cancel)return;o.rowIndexChanged&&r&&(this.setFocusedColumnIndex(r.columnIndex),t=this._getFocusedCell())}return t}_enterKeyHandler(e,t){var n,s;const r=this.getVisibleRowIndex(),o=this._dataController.getKeyByRowIndex(r),a=(n=this._focusedView)===null||n===void 0?void 0:n.getRow(r),l=this._getFocusedCell(),d=this.option("grouping.allowCollapsing")&&sc(a),c=this.option("masterDetail.enabled")&&(l==null?void 0:l.hasClass(If)),h=l==null?void 0:l.hasClass(Nz);if(d||c){const u=this._dataController.items()[r],p=(u==null?void 0:u.data)&&!u.data.isContinuation;G(o)&&p&&this._dataController.changeRowExpand(o)}else h?(this._adaptiveColumnsController.toggleExpandAdaptiveDetailRow(o),this._updateFocusedCellPosition(l)):(s=this.getMasterDetailCell(l))!==null&&s!==void 0&&s.is(l)?l.is(":focus")&&this.focusFirstInteractiveElementInside(l):l!=null&&l.hasClass(Y6)||this._processEnterKeyForDataCell(e,t)}focusFirstInteractiveElementInside(e){e.find(nh).get(0).focus()}_processEnterKeyForDataCell(e,t){const n=this._getEnterKeyDirection(e),s=this._allowEditingOnEnterKey();t||!s&&n?this._handleEnterKeyEditingCell(e.originalEvent).done(()=>{n==="next"||n==="previous"?this._targetCellTabHandler(e,n):(n==="upArrow"||n==="downArrow")&&this._navigateNextCell(e.originalEvent,n)}):s&&this._startEditing(e)}_getEnterKeyDirection(e){const t=this.option("keyboardNavigation.enterKeyDirection"),n=e.shift;if(t==="column")return n?"upArrow":"downArrow";if(t==="row")return n?"previous":"next"}_handleEnterKeyEditingCell(e){const t=de(),{target:n}=e,s=this._getCellElementFromTarget(n),r=this._isRowEditMode();return this._updateFocusedCellPosition(s),r?(this._focusEditFormCell(s),setTimeout(this._editingController.saveEditData.bind(this._editingController)),t.resolve()):(Y.trigger(M(n),"change"),this._closeEditCell().always(t.resolve),e.preventDefault()),t}_escapeKeyHandler(e,t){const n=this._getCellElementFromTarget(e.originalEvent.target);if(t)return this._updateFocusedCellPosition(n),this._isRowEditMode()?(this._focusEditFormCell(n),this._editingController.cancelEditData(),this._dataController.items().length===0&&(this._resetFocusedCell(),this._editorFactory.loseFocus())):this._editingController.getEditMode()==="cell"?this._editingController.cancelEditData():this._closeEditCell(),e.originalEvent.preventDefault(),!0;const s=this.getMasterDetailCell(n);return s?(this._focusCell(s),!0):!1}_ctrlFKeyHandler(e){if(this.option("searchPanel.visible")){const t=this._headerPanel.getSearchTextEditor();t&&(t.focus(),e.originalEvent.preventDefault())}}_f2KeyHandler(){const e=this._editingController.isEditing(),t=this.getVisibleRowIndex(),n=this._focusedView&&this._focusedView.getRow(t);!e&&Fd(n)&&this._startEditing()}_navigateNextCell(e,t){const n=this._getNextCell(t),s=this._getDirectionCodeByKey(t);return n&&this._isCellValid(n)?this._arrowKeysHandlerFocusCell(e,n,s):!1}_arrowKeysHandlerFocusCell(e,t,n){const s=n==="prevRow"||n==="nextRow",r=this._fireFocusChangingEvents(e,t,s,!0);return t=r.$newCellElement,!r.cancel&&this._isCellValid(t)?(this._focus(t,!r.isHighlighted),!0):!1}_beginFastEditing(e,t){if(!this._isFastEditingAllowed()||e.altKey||e.ctrlKey||this._editingController.isEditing())return!1;if(t)this._startEditing(e,Hv);else{const{key:n}=e,s=e.keyCode||e.which,r=n||s&&String.fromCharCode(s);r&&(r.length===1||r===Hv)&&this._startEditing(e,r)}return!0}isQuickNavigationPossible(){var e,t,n;const s=this.getVisibleRowIndex(),r=(e=this._rowsView)===null||e===void 0?void 0:e.getRow(s),o=this.option("dataRowTemplate");return!((t=this._editingController)===null||t===void 0||(n=t.isEditRowByIndex)===null||n===void 0?void 0:n.call(t,s))&&!o&&Fd(r)}getFirstOrLastColumnIndex(e){const t=this._columnsController.getVisibleColumns(null,!0),n=s=>this.isFocusableColumn(s);return e?t.findIndex(n):t.findLastIndex(n)}getFirstOrLastRowIndex(e){var t;const n=this._isVirtualScrolling()?this._dataController.totalItemsCount():(t=this._dataController.items(!0))===null||t===void 0?void 0:t.length;return e?0:n-1}calculateScrollLeft(e){var t;const n=e?0:this._getMaxHorizontalOffset();return((t=this._columnsController)===null||t===void 0?void 0:t.isNeedToRenderVirtualColumns(n))?n:-1}calculateScrollTop(e){const t=this._getMaxVerticalOffset(),n=t>0;return this._isVirtualRowRender()&&n?e?0:t:-1}scrollTo(e){var t;const n=(t=this._rowsView)===null||t===void 0?void 0:t.getScrollable();n==null||n.scrollTo(e)}focusFirstOrLastCell(e){var t;const n=this._getFocusedCell();this._focusElement(n,!0,e),(t=this._rowsView.getScrollable())===null||t===void 0||t.update()}navigateToFirstOrLastRow(e,t){const n=this.calculateScrollTop(e),s=this.getFirstOrLastRowIndex(e),r=this.getFirstOrLastColumnIndex(e);this.silentUpdateFocusedCellPosition({columnIndex:r,rowIndex:s}),n>=0?(this._needNavigationToCell=!0,this.scrollTo({top:n})):this.navigateToFirstOrLastCell(e,t)}homeOrEndKeyHandler(e){if(!this.isQuickNavigationPossible())return;const t=e.keyName==="home",{originalEvent:n}=e;$n(n)?this.navigateToFirstOrLastRow(t,n):this.navigateToFirstOrLastCell(t,n),n.preventDefault()}isFocusableColumn(e){return e.type!==Wz}navigateToFirstOrLastCell(e,t){const n=this.getFirstOrLastColumnIndex(e);if(this._needNavigationToCell=!1,n<0)return;const s=this.calculateScrollLeft(e);this.silentUpdateFocusedCellPosition({columnIndex:n}),s>=0?(this.needToRestoreFocus=!0,this.scrollTo({left:s})):this.focusFirstOrLastCell(t)}isQuickNavigationToFirstCell(){var e;const t=this.getFirstOrLastColumnIndex(!0);return((e=this._focusedCellPosition)===null||e===void 0?void 0:e.columnIndex)===t}_pointerEventHandler(e){var t;const n=e.event||e;let s=M(n.currentTarget);const r=(t=this._rowsView)===null||t===void 0?void 0:t.element(),o=s.parent(),a=M(n.target).is(nh),l=!!M(n.target).closest(`.${Hz}`).length,d=s.hasClass(If);this._isEventInCurrentGrid(n)&&(!l&&(this._isCellValid(s,!a)||d)?(s=this._isInsideEditForm(s)?M(n.target):s,this._focusView(),M(r).removeClass(J2),o.hasClass(G6)?(this._updateFocusedCellPosition(s),this._applyTabIndexToElement(this._focusedView.element()),this._focusedView.focus(!0)):this.getMasterDetailCell(s)?this._updateFocusedCellPosition(s):this._clickTargetCellHandler(n,s)):s.is("td")&&this._resetFocusedCell())}_clickTargetCellHandler(e,t){const n=this._getColumnByCellElement(t),s=this._isCellEditMode(),r=this._editingController.isEditing();this.setCellFocusType();const o=this._fireFocusChangingEvents(e,t,!0);if(t=o.$newCellElement,o.cancel)this.setRowFocusType(),this.setFocusedRowIndex(o.prevRowIndex),r&&s&&this._closeEditCell();else{if(o.resetFocusedRow){this._focusController._resetFocusedRow();return}if(o.rowIndexChanged&&(t=this._getFocusedCell()),!o.isHighlighted&&!s&&this.setRowFocusType(),this._updateFocusedCellPosition(t),this._allowRowUpdating()&&s&&n&&n.allowEditing)this._isNeedFocus=!1,this._isHiddenFocus=!1;else{t=this._getFocusedCell();const a=e&&M(e.target).closest(`${tT}, td`),l=a&&a.not(t).is(tT),c=!(!(n!=null&&n.command)&&r&&t.hasClass(c_))&&(!o.isHighlighted||l);this._focus(t,c,l)}}}_allowRowUpdating(){const e=this.getVisibleRowIndex(),t=this._dataController.items()[e];return this._editingController.allowUpdating({row:t},"click")}focus(e){let t;const n=this.option("focusedRowEnabled"),s=this._isCellElement(M(e));e||(t=`.${this.addWidgetPrefix(gu)} .dx-row[tabindex]`,n||(t+=`, .${this.addWidgetPrefix(gu)} .dx-row > td[tabindex]`),e=this.component.$element().find(t).first()),e&&this._focusElement(M(e),s)}getFocusedView(){return this.getView("rowsView")}setupFocusedView(){this.isKeyboardEnabled()&&!G(this._focusedView)&&this._focusView()}_focusElement(e,t,n){const s=M(this._getRowsViewElement()),r=e.closest(s),o=this.isRowFocusType();let a={};!r.length||this._isCellElement(e)&&!this._isCellValid(e)||(this._focusView(),this._isNeedFocus=!0,this._isNeedScroll=!0,(this._isCellElement(e)||sc(e))&&(this.setCellFocusType(),a=this._fireFocusChangingEvents(n,e,!0,t),e=a.$newCellElement,o&&!a.isHighlighted&&this.setRowFocusType()),a.cancel||(this._focus(e,!a.isHighlighted),(this._getElementType(e)!=="row"||_he(e))&&this._focusInteractiveElement(e)))}isInsideFocusedView(e){var t;return e.closest((t=this._focusedView)===null||t===void 0?void 0:t.element()).length!==0}_focusView(){this._focusedView=this._rowsView}_resetFocusedView(){this.setRowFocusType(),this._focusedView=null}_focusInteractiveElement(e,t){if(!e)return;const n=Zk(e,t);xe.focusAndSelectElement(this,n)}_focus(e,t,n){const s=e&&!e.hasClass(da)?e.closest(`.${da}`):e;if(s&&xhe(s))return;const r=this._focusedView,o=r&&r.element();let a;this._isHiddenFocus=t;const l=sc(s)||SN(s)||this.isRowFocusType();l?(a=s,r&&this.setFocusedRowIndex(this._getRowIndex(s))):this._isCellElement(e)&&(a=e,this._updateFocusedCellPosition(e)),a&&(o&&o.find(".dx-row[tabindex], .dx-row > td[tabindex]").filter((d,c)=>xe.isElementInCurrentGrid(this,M(c))).not(a).removeClass(_u).removeClass(eT).removeAttr("tabindex"),Y.one(a,"blur",d=>{d.relatedTarget&&a.removeClass(_u).removeClass(eT)}),n||(this._applyTabIndexToElement(a),Y.trigger(a,"focus")),t?(a.addClass(_u),l&&e.addClass(_u)):this._editorFactory.focus(a))}_updateFocus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._updateFocusTimeout=setTimeout(()=>{if(this._needFocusEditingCell()){this._editingController._focusEditingCell();return}let n=this._getFocusedCell();const s=this._editingController.isEditing();if(!this.getMasterDetailCell(n)||this._isRowEditMode()){if(this._hasSkipRow(n.parent())){const r=this._focusedCellPosition&&this._focusedCellPosition.rowIndex>0?"upArrow":"downArrow";n=this._getNextCell(r)}if(Ys(n))if(n.is("td")||n.hasClass(this.addWidgetPrefix(Mz))){const r=n.is($v),o=n.find(":focus"),a=Ys(o),l=this._getColumnByCellElement(n);if((e||!r)&&this._editorFactory.focus()){if(r&&a){xe.focusAndSelectElement(this,o);return}!a&&this._focus(n,!1,t)}else!a&&(this._isNeedFocus||this._isHiddenFocus)&&this._focus(n,this._isHiddenFocus,t);s&&!(l!=null&&l.showEditorAlways)&&this._focusInteractiveElement.bind(this)(n)}else Y.trigger(n,"focus")}})}_needFocusEditingCell(){const e=this._editingController.getEditMode()===IC,t=this._editingController.getEditMode()===EC,n=e&&this._editingController.hasChanges(),s=t&&this._editingController.isNewRowInEditMode(),r=this._getFocusedCell();return(r.children().length===0||r.find(qS).length>0)&&(n||s)}_updateFocusedCellPositionByTarget(e){var t;if(this._getElementType(e)==="row"&&G((t=this._focusedCellPosition)===null||t===void 0?void 0:t.columnIndex)){const s=M(e);this._focusedView&&sc(s)&&this.setFocusedRowIndex(this._getRowIndex(s))}else this._updateFocusedCellPosition(this._getCellElementFromTarget(e))}_focusCell(e,t){if(this._isCellValid(e))return this._focus(e,t),!0}_focusEditFormCell(e){e.hasClass(Lv)&&this._editorFactory.focus(e,!0)}_resetFocusedCell(e){var t;const n=this._getFocusedCell();Ys(n)&&n.removeAttr("tabindex").removeClass(_u),this._isNeedFocus=!1,this._isNeedScroll=!1,this._focusedCellPosition={},clearTimeout(this._updateFocusTimeout),(t=this._focusedView)===null||t===void 0||t.renderFocusState({preventScroll:e})}restoreFocusableElement(e,t){const n=this;let s,r;const o=G(e),a=this._rowsView.element(),{columnIndex:l}=n._focusedCellPosition,d=n._dataController.getRowIndexOffset();e=o?e:this._rowsView.getTopVisibleItemIndex()+d,o?(r=this._rowsView.getRow(e-d),s=n._fireFocusedRowChanging(t,r),!s.cancel&&s.rowIndexChanged&&(e=s.newRowIndex)):(n._editorFactory.loseFocus(),n._applyTabIndexToElement(a),Y.trigger(a,"focus")),(!o||!s.cancel)&&n.setFocusedCellPosition(e,l),o&&n._updateFocus()}silentUpdateFocusedCellPosition(e){this._focusedCellPosition=Object.assign({},this._focusedCellPosition??{},e)}_getNewPositionByCode(e,t,n){let{columnIndex:s}=e,{rowIndex:r}=e,o;if(e.rowIndex===void 0&&n==="next")return{columnIndex:0,rowIndex:0};switch(n){case"nextInRow":case"next":o=this._getVisibleColumnCount(),s<o-1&&t!=="row"&&this._hasValidCellAfterPosition({columnIndex:s,rowIndex:r})?s++:!this._isLastRow(r)&&n==="next"&&(s=0,r++);break;case"previousInRow":case"previous":s>0&&t!=="row"&&this._hasValidCellBeforePosition({columnIndex:s,rowIndex:r})?s--:r>0&&n==="previous"&&(r--,o=this._getVisibleColumnCount(),s=o-1);break;case"upArrow":r=r>0?r-1:r;break;case"downArrow":r=this._isLastRow(r)?r:r+1}return{columnIndex:s,rowIndex:r}}getRowIndex(){return this._focusedCellPosition?this._focusedCellPosition.rowIndex:-1}getColumnIndex(){return this._focusedCellPosition?this._focusedCellPosition.columnIndex:-1}getVisibleRowIndex(){var e;const t=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.rowIndex;return!G(t)||t<0?-1:t-this._dataController.getRowIndexOffset()}getVisibleColumnIndex(){var e;const t=(e=this._focusedCellPosition)===null||e===void 0?void 0:e.columnIndex;return G(t)?t-this._columnsController.getColumnIndexOffset():-1}_isCellByPositionValid(e){const t=M(this._getCell(e));return this._isCellValid(t)}_isLastRow(e){const t=this._dataController;if(this._isVirtualRowRender())return e>=t.getMaxRowIndex();const n=Math.max(...t.items().map((s,r)=>s.visible!==!1?r:-1));return e===n}_isFirstValidCell(e){let t=!1;return e.rowIndex===0&&e.columnIndex>=0&&(t=t||!this._hasValidCellBeforePosition(e)),t}_hasValidCellBeforePosition(e){let{columnIndex:t}=e,n=!1;for(;t>0&&!n;){const s={columnIndex:--t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(s)}return n}_hasValidCellAfterPosition(e){let{columnIndex:t}=e,n=!1;const s=this._getVisibleColumnCount();for(;t<s-1&&!n;){const r={columnIndex:++t,rowIndex:e.rowIndex};n=this._isCellByPositionValid(r)}return n}_isLastValidCell(e){const t=e.columnIndex>=0?e.columnIndex+1:0,{rowIndex:n}=e,s={columnIndex:t,rowIndex:n},r=this._dataController.getVisibleRows(),o=r&&r[n];return this._isLastRow(n)?((o==null?void 0:o.rowType)==="group"||(o==null?void 0:o.rowType)==="groupFooter")&&e.columnIndex>0||e.columnIndex===this._getVisibleColumnCount()-1?!0:this._isCellByPositionValid(s)?!1:this._isLastValidCell(s):!1}_isCellValid(e,t){if(Ys(e)){const n=e.parent(),s=this._rowsView.getCellIndex(e)+this._columnsController.getColumnIndexOffset(),r=this._getColumnByCellElement(e),o=this._getVisibleColumnCount(),a=this._editingController,l=mhe(n),d=r&&r.showWhenGrouped,c=r&&!e.hasClass(If)&&Fd(n),h=function(){return!l&&r&&(!G(r.groupIndex)||d&&c)||parseInt(e.attr("colspan"),10)>1};if(wN.isDragCell(e))return!1;if(this.getMasterDetailCell(e))return!0;if(o>s&&h()){const p=this._dataController.items(),f=this._rowsView.getRowIndex(n),g=p[f],m=a&&this._isCellEditMode()&&a.isEditing(),v=a&&a.isEditRow(f),_=v||m;return r.command?this._isLegacyNavigation()?!_&&r.command==="expand":m?!1:v?r.command!=="select":!_:m&&g&&g.rowType!=="data"?!1:!_||r.allowEditing||t}}}getFirstValidCellInRow(e,t){const n=this,s=e.find("> td");let r,o;t=t||0;for(let a=t;a<s.length;++a)if(r=s.eq(a),n._isCellValid(r)){o=r;break}return o}_getNextCell(e,t,n){const s=n||this._focusedCellPosition,r=this.isRowFocusType(),o=r||["next","previous"].includes(e);let a,l;if(this._focusedView&&s){const d=this._getNewPositionByCode(s,t,e);a=M(this._getCell(d));const c=e==="previous"?this._isFirstValidCell(d):this._isLastValidCell(d);if(Ys(a)&&!this._isCellValid(a)&&this._isCellInRow(d,o)&&!c&&(r?a=this.getFirstValidCellInRow(a.parent(),d.columnIndex):a=this._getNextCell(e,"cell",d)),l=Ys(a)&&a.parent(),this._hasSkipRow(l)){const h=this._getRowIndex(l);if(!this._isLastRow(h))a=this._getNextCell(e,"row",{columnIndex:s.columnIndex,rowIndex:h});else return null}return Ys(a)?a:null}return null}_startEditing(e,t){const n=this._focusedCellPosition,s=this.getVisibleRowIndex(),r=this.getVisibleColumnIndex(),o=this._dataController.items()[s],a=this._columnsController.getVisibleColumns()[r];this._isAllowEditing(o,a)&&(this._isRowEditMode()?this._editingController.editRow(s):n&&this._startEditCell(e,t))}_isAllowEditing(e,t){return this._editingController.allowUpdating({row:e})&&t&&t.allowEditing}_editFocusedCell(){const e=this.getVisibleRowIndex(),t=this.getVisibleColumnIndex();return this._editingController.editCell(e,t)}_startEditCell(e,t){this._fastEditingStarted=G(t);const n=this._editFocusedCell(),s=fp(n);if(!this._isFastEditingStarted()||!s&&!n)return;const o=s&&t===Hv?"":t,a=s?n:de().resolve(),l=this._rowsView.waitAsyncTemplates(!0);Ae(a,l).done(()=>{this._editingCellHandler(e,o)})}_editingCellHandler(e,t){var n;const s=this._getFocusedCell().find(nh).eq(0),r=s.get(0);if(!r)return;const o=xa(e,{type:"keydown",target:r}),a=xa(e,{type:"keypress",target:r}),l=xa(e,{type:"input",target:r});if(l.originalEvent&&(l.originalEvent=xa(l.originalEvent,{data:t})),(n=r.select)===null||n===void 0||n.call(r),Y.trigger(s,o),!o.isDefaultPrevented()&&(Y.trigger(s,a),!a.isDefaultPrevented())){const d=gn.mozilla?25:0;setTimeout(()=>{const c=this._getKeyPressInputValue(s,t);s.val(c);const h=s.closest(`.${$z}`);Y.off(h,"focusout"),Y.one(h,"focusout",()=>{Y.trigger(s,"change")}),Y.trigger(s,l)},d)}}_getKeyPressInputValue(e,t){const n=e.val();return t==="-"&&n==="-0"?"-0":t}_fireFocusChangingEvents(e,t,n,s){let r={};const o=this._getCellPosition(t)??{};return this.isCellFocusType()&&(r=this._fireFocusedCellChanging(e,t,s),r.cancel||(o.columnIndex=r.newColumnIndex,o.rowIndex=r.newRowIndex,s=r.isHighlighted,t=M(this._getCell(o)))),!r.cancel&&n&&t&&(r=this._fireFocusedRowChanging(e,t.parent()),r.cancel||(o.rowIndex=r.newRowIndex,r.isHighlighted=s)),r.$newCellElement=M(this._getCell(o)),r.$newCellElement.length||(r.$newCellElement=t),r}_fireFocusedCellChanging(e,t,n){const s=this.option("focusedColumnIndex"),r=this.option("focusedRowIndex"),o=this._getCellPosition(t),a=o?o.columnIndex:-1,l=o?o.rowIndex:-1,d=this._dataController.getVisibleRows(),c=this._columnsController.getVisibleColumns(),h={cellElement:t,prevColumnIndex:s,prevRowIndex:r,newColumnIndex:a,newRowIndex:l,rows:d,columns:c,event:e,isHighlighted:n||!1,cancel:!1};return this._canceledCellPosition=null,this.executeAction("onFocusedCellChanging",h),(h.newColumnIndex!==a||h.newRowIndex!==l)&&(h.$newCellElement=M(this._getCell({columnIndex:h.newColumnIndex,rowIndex:h.newRowIndex}))),h.cancel&&(this._canceledCellPosition={rowIndex:l,columnIndex:a}),h}_fireFocusedCellChanged(e){const t=this._rowsView.getCellIndex(e),n=e==null?void 0:e.parent().data("options"),s=n==null?void 0:n.key;this._memoFireFocusedCellChanged(s,t)}_memoFireFocusedCellChanged(e,t){const n=this._getFocusedCell(),s=n==null?void 0:n.parent(),r=this.getRowIndex(),o=Math.min(this._getLocalRowIndex(s),this._dataController.items().length-1);if(this._editingController.isEditCell(o,t))return;const l=this._dataController.items()[o],d=this._columnsController.getVisibleColumns()[t];this.executeAction("onFocusedCellChanged",{cellElement:n?We(n):void 0,columnIndex:t,rowIndex:r,row:l,column:d})}_fireFocusedRowChanging(e,t){const n=this._getRowIndex(t),s=this.option("focusedRowIndex"),r=this._dataController.loadingOperationTypes(),o={rowElement:t,prevRowIndex:s,newRowIndex:n,event:e,rows:this._dataController.getVisibleRows(),cancel:!1},a=r.sorting||r.grouping||r.filtering||r.paging;return!this._dataController||this._dataController.isLoading()&&a?(o.cancel=!0,o):(this.option("focusedRowEnabled")&&(this.executeAction("onFocusedRowChanging",o),!o.cancel&&o.newRowIndex!==n&&(o.resetFocusedRow=o.newRowIndex<0,o.resetFocusedRow||this.setFocusedRowIndex(o.newRowIndex),o.rowIndexChanged=!0)),o)}_fireFocusedRowChanged(){var e;const t=this.option("focusedRowEnabled"),n=this.option("focusedRowKey"),s=(e=this._focusController)===null||e===void 0?void 0:e.getFocusedRowIndexByKey(n);!t||G(n)&&s<0||this._memoFireFocusedRowChanged(n,s)}_memoFireFocusedRowChanged(e,t){const n=t-this._dataController.getRowIndexOffset();this.executeAction("onFocusedRowChanged",{rowElement:t<0?void 0:this._rowsView.getRowElement(n),rowIndex:t,row:t<0?void 0:this._dataController.getVisibleRows()[n]})}_isEventInCurrentGrid(e){return xe.isElementInCurrentGrid(this,M(e.target))}_isRowEditMode(){const e=this._editingController.getEditMode();return e===hh||e===YS}_isCellEditMode(){const e=this._editingController.getEditMode();return e===IC||e===EC}_isFastEditingAllowed(){return this._isCellEditMode()&&this.option("keyboardNavigation.editOnKeyPress")}_applyTabIndexToElement(e){const t=this.option("tabIndex")??0;e.attr("tabindex",t)}_getCell(e){if(this._focusedView&&e){const t=this._dataController.getRowIndexOffset(),n=this._columnsController.getVisibleColumns(null,!0)[e.columnIndex],s=n&&n.fixed?this._getFixedColumnIndexOffset(n):this._columnsController.getColumnIndexOffset(),r=e.rowIndex>=0?e.rowIndex-t:-1,o=e.columnIndex>=0?e.columnIndex-s:-1;return this._focusedView.getCell({rowIndex:r,columnIndex:o})}}_getRowIndex(e){let t=this._getLocalRowIndex(e);return t>=0&&(t+=this._dataController.getRowIndexOffset()),t}_getLocalRowIndex(e){return this._rowsView.getRowIndex(e)}getCellIndex(e,t){return this._rowsView.getCellIndex(e,t)}_hasSkipRow(e){const t=e&&e.get(0);return t&&t.style.display==="none"}_allowEditingOnEnterKey(){return this.option("keyboardNavigation.enterKeyAction")==="startEdit"}_isLegacyNavigation(){return this.option("useLegacyKeyboardNavigation")}_getDirectionCodeByKey(e){let t;switch(e){case"upArrow":t="prevRow";break;case"downArrow":t="nextRow";break;case"leftArrow":t=this.option("rtlEnabled")?"nextInRow":"previousInRow";break;case"rightArrow":t=this.option("rtlEnabled")?"previousInRow":"nextInRow"}return t}_isVirtualScrolling(){const e=this.option("scrolling.mode");return e==="virtual"||e==="infinite"}_isVirtualRowRender(){return this._isVirtualScrolling()||xe.isVirtualRowRendering(this)}_scrollBy(e,t,n,s){const r=this,o=this._rowsView.getScrollable();if(r._focusedCellPosition){const a=function(){o.off("scroll",a),setTimeout(r.restoreFocusableElement.bind(r,n,s))};o.on("scroll",a)}return o.scrollBy({left:e,top:t})}_isInsideEditForm(e){const t=M(e).closest(`.${this.addWidgetPrefix(KS)}`);return t.length&&this.elementIsInsideGrid(t)}getMasterDetailCell(e){const t=M(e).closest(`.${Lv}`);return t.length&&this.elementIsInsideGrid(t)?t:null}_processNextCellInMasterDetail(e,t){!this._isInsideEditForm(e)&&e&&this._applyTabIndexToElement(e)}_handleTabKeyOnMasterDetailCell(e,t){if(this.getMasterDetailCell(e)){this._updateFocusedCellPosition(M(e),t);const n=this._getNextCell(t,"row");return this._processNextCellInMasterDetail(n,M(e)),!0}return!1}_getElementType(e){return M(e).is("tr")?"row":"cell"}_isFastEditingStarted(){return this._isFastEditingAllowed()&&this._fastEditingStarted}_getVisibleColumnCount(){return this._columnsController.getVisibleColumns(null,!0).length}_isCellInRow(e,t){const{columnIndex:n}=e,s=this._getVisibleColumnCount();return t?n>=0&&n<=s-1:n>0&&n<s-1}_isCellElement(e){return e.length&&e[0].tagName==="TD"}_getCellElementFromTarget(e){const t=this._getElementType(e),n=M(e);let s;return t==="cell"?s=n.closest(`.${da} > td`):s=n.children().not(`.${If}`).first(),s}_getRowsViewElement(){var e;return(e=this._rowsView)===null||e===void 0?void 0:e.element()}_processCanceledEditCellPosition(e,t){if(this._canceledCellPosition){const n=this._canceledCellPosition.rowIndex===e&&this._canceledCellPosition.columnIndex===t;return this._canceledCellPosition=null,n}}updateFocusedRowIndex(){const e=this._dataController,t=this.getVisibleRowIndex(),n=e.items(),s=n.length?n.length-1:-1,r=e.getRowIndexOffset();s>=0&&t>s&&this.setFocusedRowIndex(s+r)}needNavigationToCell(){return this._needNavigationToCell}navigationToCellInProgress(){return this.needToRestoreFocus||this.needNavigationToCell()}}const She=i=>class extends i{_rowClick(e){const t=this._editingController.getEditRowIndex(),n=this._keyboardNavigationController.isKeyboardEnabled();t===e.rowIndex&&this._keyboardNavigationController.setCellFocusType(),($C()||!n)&&this.option("focusedRowEnabled")&&this._triggerPointerDownEventHandler(e,!n),super._rowClick.apply(this,arguments)}_triggerPointerDownEventHandler(e,t){const{originalEvent:n}=e.event;if(n){const s=M(n.target),r=this.getCellIndex(s),o=this._columnsController.getVisibleColumns()[r],a=this._dataController.items()[e.rowIndex];if(this._keyboardNavigationController._isAllowEditing(a,o)||t){const l=xa(n,{currentTarget:n.target});this._keyboardNavigationController._pointerEventHandler(l)}}}renderFocusState(e){if(super.renderFocusState(e),this._keyboardNavigationController.navigationToCellInProgress())return;const{preventScroll:t,pageSizeChanged:n}=e??{},s=this.element();s&&!Ha(s)&&s.attr("tabindex",null),n&&this._keyboardNavigationController.updateFocusedRowIndex();let r=this._keyboardNavigationController.getVisibleRowIndex();(!G(r)||r<0)&&(r=0);const o=this.getCellElements(r);this._keyboardNavigationController.isKeyboardEnabled()&&o!==null&&o!==void 0&&o.length&&this.updateFocusElementTabIndex(o,t)}updateFocusElementTabIndex(e,t){const n=e.eq(0).parent();if(sc(n))this._keyboardNavigationController._applyTabIndexToElement(n);else{let s=this._keyboardNavigationController.getColumnIndex();(!G(s)||s<0)&&(s=0),this._updateFocusedCellTabIndex(e,s)}}_updateFocusedCellTabIndex(e,t){const n=this._keyboardNavigationController,s=e?e.length:-1,r=function(a){const l=!!n.getMasterDetailCell(a),d=n._isCellValid(a);if(!l&&d&&n._isCellElement(a))return n._applyTabIndexToElement(a),n.setCellFocusType(),!0},o=wN.getCellToFocus(e,t);if(o.length)r(o);else{s<=t&&(t=s-1);for(let a=t;a<s&&!r(M(e[a]));++a);}}renderDelayedTemplates(e){super.renderDelayedTemplates.apply(this,arguments),this.waitAsyncTemplates().done(()=>{this._renderFocusByChange(e)})}_renderFocusByChange(e){const{operationTypes:t,repaintChangesOnly:n}=e??{},{fullReload:s,pageSize:r}=t??{};if(!e||!n||s||r){const o=EN(this);this.renderFocusState({preventScroll:o,pageSizeChanged:r})}}_renderCore(e){const t=super._renderCore.apply(this,arguments);return this._renderFocusByChange(e),t}_editCellPrepared(e){var t;const n=this._getEditorInstance(e),s=(t=this._keyboardNavigationController)===null||t===void 0?void 0:t._isFastEditingStarted();n&&s&&this._handleEditingNavigationMode(n),super._editCellPrepared.apply(this,arguments)}_handleEditingNavigationMode(e){["downArrow","upArrow"].forEach(n=>{const s=e._supportedKeys()[n];e.registerKeyHandler(n,r=>{if(e._input().attr("aria-expanded")==="true")return s&&s.call(e,r)})}),e.registerKeyHandler("leftArrow",Te),e.registerKeyHandler("rightArrow",Te),e.NAME===Lz&&e.option("useMaskBehavior")&&e.registerKeyHandler("enter",Te)}_getEditorInstance(e){const t=e.find(".dx-texteditor").eq(0);return xe.getWidgetInstance(t)}_handleScroll(e){super._handleScroll(e),this._keyboardNavigationController.needNavigationToCell()&&this._keyboardNavigationController.navigateToFirstOrLastCell(this._keyboardNavigationController.isQuickNavigationToFirstCell())}init(){super.init(),this._resizeController=this.getController("resizing")}},Ehe=i=>class extends i{editCell(e,t){if(this._keyboardNavigationController._processCanceledEditCellPosition(e,t))return!1;const n=super.editCell(e,t);return n&&this._keyboardNavigationController.setupFocusedView(),n}editRow(e){const t=this._keyboardNavigationController.getVisibleColumnIndex(),n=this._columnsController.getVisibleColumns()[t];(n&&n.type||this.option("editing.mode")===YS)&&this._keyboardNavigationController._resetFocusedCell(),super.editRow(e)}addRow(e){return this._keyboardNavigationController.setupFocusedView(),this._keyboardNavigationController.setCellFocusType(),super.addRow.apply(this,arguments)}getFocusedCellInRow(e){let t=super.getFocusedCellInRow(e);const n=this._dataController.getRowIndexOffset(),s=this._keyboardNavigationController._focusedCellPosition.rowIndex-n;if(this._keyboardNavigationController.isKeyboardEnabled()&&s===e){const r=this._keyboardNavigationController._getFocusedCell();Ys(r)&&!r.hasClass(Y6)&&(t=r)}return t}_processCanceledEditingCell(){this.closeEditCell().done(()=>{this._keyboardNavigationController._updateFocus()})}closeEditCell(){const e=this._keyboardNavigationController;e._fastEditingStarted=!1;const t=super.closeEditCell.apply(this,arguments);return!!this._getFocusedElement().closest(`.${this.addWidgetPrefix(Mae)}`).length||e._updateFocus(),t}_getFocusedElement(){var e,t;return M((e=(t=this.component).element)===null||e===void 0?void 0:e.call(t)).find(":focus")}_delayedInputFocus(){this._keyboardNavigationController._isNeedScroll=!0,super._delayedInputFocus.apply(this,arguments)}_isEditingStart(){const e=super._isEditingStart.apply(this,arguments);if(e&&!this._keyboardNavigationController._isNeedFocus){const t=this._keyboardNavigationController._getFocusedCell();this._keyboardNavigationController._focus(t,!0)}return e}},Ihe=i=>class extends i{_correctRowIndices(e){const t=this._keyboardNavigationController._focusedCellPosition;if(super._correctRowIndices.apply(this,arguments),t&&t.rowIndex>=0){const n=e(t.rowIndex);n&&(t.rowIndex+=n,this._editorFactoryController.refocus())}}getMaxRowIndex(){let e=this.items().length-1;const t=this.virtualItemsCount();if(t){const n=this.getRowIndexOffset();e+=n+t.end}return e}},The=i=>class extends i{_showHiddenCellsInView(e){let{viewName:t,$cells:n,isCommandColumn:s}=e;super._showHiddenCellsInView.apply(this,arguments),t===sT&&!s&&n.each((r,o)=>{const a=M(o);Xk(a)&&a.attr("tabindex",0)})}_hideVisibleCellInView(e){let{viewName:t,$cell:n,isCommandColumn:s}=e;super._hideVisibleCellInView.apply(this,arguments),t===sT&&!s&&Xk(n)&&n.removeAttr("tabindex")}_hideVisibleColumnInView(e){let{view:t,isCommandColumn:n,visibleIndex:s}=e;super._hideVisibleColumnInView({view:t,isCommandColumn:n,visibleIndex:s}),t.name===jz&&this._rowsView.renderFocusState({preventScroll:EN(this)})}},Dhe={defaultOptions:()=>({useLegacyKeyboardNavigation:!1,keyboardNavigation:{enabled:!0,enterKeyAction:"startEdit",enterKeyDirection:"none",editOnKeyPress:!1}}),controllers:{keyboardNavigation:whe},extenders:{views:{rowsView:She},controllers:{editing:Ehe,data:Ihe,adaptiveColumns:The,keyboardNavigation:Che}}};Ue.registerModule("keyboardNavigation",Dhe);const Ahe=(i,e)=>{i.addClass(e(Tn.stickyColumnBorderLeft))},khe=(i,e)=>{i.addClass(e(Tn.stickyColumnBorderRight))},Ohe=(i,e,t)=>{switch(e){case cn.Right:i.addClass(t(Tn.stickyColumnRight));break;case cn.Sticky:i.addClass(t(Tn.stickyColumn));break;default:i.addClass(t(Tn.stickyColumnLeft))}},Rhe=(i,e,t)=>{i.toggleClass(t(Tn.firstHeader),e)},Phe=(i,e,t)=>{i.toggleClass(t(Tn.columnNoBorder),e)},Mhe=(i,e,t)=>{i.toggleClass(t(Tn.stickyColumns),e)},p_=(i,e,t)=>{if(!i.hasClass(t(Tn.stickyColumn)))return!1;const s=parseFloat(i[0].style.left),r=en(i[0]),o=en(e[0]),a=r.left-o.left;return Math.round(s)>=Math.round(a)},Yp=(i,e,t)=>{if(!i.hasClass(t(Tn.stickyColumn)))return!1;const s=parseFloat(i[0].style.right),r=en(i[0]),a=en(e[0]).right-r.right;return Math.round(s)>=Math.round(a)},Fhe=(i,e,t)=>p_(i,e,t)||Yp(i,e,t),Bhe=(i,e,t)=>i.hasClass(t(Tn.stickyColumnRight))||Yp(i,e,t),TN=(i,e)=>i.hasClass(e(Tn.stickyColumnLeft))&&i.hasClass(e(Tn.stickyColumnBorderRight)),DN=(i,e)=>i.hasClass(e(Tn.stickyColumnRight))&&i.hasClass(e(Tn.stickyColumnBorderLeft)),Nhe=(i,e)=>i.hasClass(e(Tn.stickyColumn)),AN=(i,e)=>i.hasClass(e(Tn.stickyColumnLeft))||i.hasClass(e(Tn.stickyColumnRight))||i.hasClass(e(Tn.stickyColumn)),Vhe=(i,e)=>i.filter((t,n)=>M(n).hasClass(e(Tn.stickyColumnLeft))),Lhe=(i,e)=>i.filter((t,n)=>M(n).hasClass(e(Tn.stickyColumnRight))),$he=(i,e)=>i.filter((t,n)=>M(n).hasClass(e(Tn.stickyColumn))||!AN(M(n),e)),Hhe=(i,e,t)=>{const r=(e.css("direction")==="rtl"?i.toArray():i.toArray().reverse()).find(o=>p_(M(o),e,t)||TN(M(o),t));return M(r??"")},jhe=(i,e,t)=>{const r=(e.css("direction")==="rtl"?i.toArray().reverse():i.toArray()).find(o=>Yp(M(o),e,t)||DN(M(o),t));return M(r??"")},Xp=(i,e,t)=>{const n=en(e.get(0)),s={left:n.left,right:n.right};if(i!=null&&i.length){const r=Hhe(i,e,t),o=jhe(i,e,t);r!=null&&r.length&&(s.left=Math.round(en(r[0]).right)),o!=null&&o.length&&(s.right=Math.round(en(o[0]).left))}return s},zhe=(i,e,t)=>{let{point:n,column:s,nextColumn:r,cells:o}=e;const{item:a,isLeftBoundary:l,isRightBoundary:d}=n,c=M(a),h=Math.round(n.x),u=i.option("rtlEnabled"),p=G(l)||G(d),f=M(o??""),g=M(i.getContent()),m=(s==null?void 0:s.fixed)&&(r==null?void 0:r.fixed),v=Xp(f,g,t);if(m||x8(n,s,r))return!1;if(p){if(TN(c,t)||p_(c,g,t))return l;if(DN(c,t)||Yp(c,g,t))return d}const _=h<v.left||h>v.right,x=h===v.left||h===v.right,y=u?n.index===0:n.index===f.length;return _||!y&&x},Whe=(i,e,t,n)=>{const{item:s,isLeftBoundary:r,isRightBoundary:o}=i,a=M(s),l=Math.round(i.x),d=G(r)||G(o),c=Xp(e,t,n);return p_(a,t,n)?d&&!r:Yp(a,t,n)?d&&!o:l<c.left||l>c.right},Uhe=i=>{const t=i.parent().children().filter(s=>s<i.index());return i.attr("colspan")-t.length===1},Khe=(i,e,t)=>{const n=en(e.get(0)),s=Xp(i,e,t);return{left:s.left-n.left,right:n.right-s.right}},Ghe=(i,e,t,n)=>{const s=en(i.get(0)),r=Math.round(s.left),o=Math.round(s.right),a=Xp(e,t,n);return r<a.left||o>a.right},qhe=i=>{if(!i.is("td"))return!1;const e=i.parent().children().last();return i[0]===e[0]},Yhe=i=>!i.is("[tabindex]"),Xhe=function(i){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"next",t=i,n=i.parent();do t=e==="next"?t.next():t.prev(),t.length||(n=e==="next"?n.next():n.prev(),n.length&&(t=e==="next"?n.children().first():n.children().last()));while(t.length&&Yhe(t));return t},Rn={toggleFirstHeaderClass:Rhe,toggleColumnNoBorderClass:Phe,addStickyColumnClass:Ohe,addStickyColumnBorderLeftClass:Ahe,addStickyColumnBorderRightClass:khe,doesGroupCellEndInFirstColumn:Uhe,toggleStickyColumnsClass:Mhe,getLeftFixedCells:Vhe,getRightFixedCells:Lhe,getNonFixedAndStickyCells:$he,getNonFixedAreaBoundingRect:Xp,getScrollPadding:Khe,getNextHeaderCell:Xhe,noNeedToCreateResizingPoint:zhe,isFixedCellPinnedToRight:Bhe,noNeedToCreateReorderingPoint:Whe,isFixedCell:AN,isStickyCell:Nhe,isStickyCellPinned:Fhe,isOutsideVisibleArea:Ghe,isLastCell:qhe};class Zhe extends dd{constructor(){super(...arguments),this.keyboardNavigationControllers=[]}registerKeyboardNavigationController(e){this.keyboardNavigationControllers.push(e)}updateFocusPosition(e,t){G(t)?e.updateFocusPosition(t):this.keyboardNavigationControllers.forEach(n=>{n!==e&&n.updateFocusPosition()})}}class kN extends IN{keyDownHandler(e){return this.processOnKeyDown(e)}getVisibleIndex(e,t){const n=this._columnsController.getVisibleIndex(e.index,t),s=this.getColumnIndexOffset(n);return n>=0?n+s:-1}getNewVisibleIndex(e,t,n){return n==="previous"?e-1:e+2}getNewFocusedColumnIndex(e,t){return t===qi.Next?e-1:e}resizeCompleted(){this.needToRestoreFocus&&this.restoreFocus()}resetFocusedCellPosition(){this._focusedCellPosition={}}canReorderColumn(e,t,n){return!1}init(){var e;super.init(),this.columnFocusDispatcher=this.getController("columnFocusDispatcher"),(e=this.columnFocusDispatcher)===null||e===void 0||e.registerKeyboardNavigationController(this)}moveColumn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qi.Next,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;const s=this.getFocusedView().getName(),r=this.getVisibleIndex(e,n),o=this.getNewVisibleIndex(r,n,t),a=this.getNewFocusedColumnIndex(o,t);this.updateViewFocusPosition({rowIndex:n,columnIndex:a}),this._columnsController.moveColumn({columnIndex:r,rowIndex:n},{columnIndex:o,rowIndex:n},s,s)}getFirstFocusableVisibleIndex(){return-1}updateViewFocusPosition(e){var t;(t=this.columnFocusDispatcher)===null||t===void 0||t.updateFocusPosition(this,e)}updateFocusPosition(e){this.needToRestoreFocus=!0,G(e)?this.setFocusedCellPosition(e.rowIndex,e.columnIndex):this.resetFocusedCellPosition()}restoreFocus(){var e;this.needToRestoreFocus=!1,ki(this._focusedCellPosition)&&this.setFocusedCellPosition(0,this.getFirstFocusableVisibleIndex());const t=this._getFocusedCell();t==null||(e=t[0])===null||e===void 0||e.focus({preventScroll:!0})}}class Qhe extends kN{constructor(){super(...arguments),this.isOutsideVisibleArea=(e,t)=>{const n=en(e.get(0)),s=Math.round(n.left),r=Math.round(n.right),o=this.getContainerBoundingRect(t);return s<o.left||r>o.right}}leftRightKeysHandler(e){const{originalEvent:t}=e;if($n(t)){const n=M(t.target).closest("td"),s=this.getDirectionByKeyName(e.keyName),r=this._getRowIndex(n.parent()),o=this._getColumnByCellElement(n,r);this.canReorderColumn(o,s,r)&&this.moveColumn(o,s,r),t==null||t.preventDefault()}}getColumnVisibleIndexCorrection(e,t,n){return 0}getNewVisibleIndex(e,t,n){const s=super.getNewVisibleIndex(e,t,n),r=this.getColumnVisibleIndexCorrection(e,t,n);return s+r}getDraggableColumns(e,t){var n;const s=this._columnsController,r=(n=s.getVisibleColumns(t,!0))===null||n===void 0?void 0:n.filter(o=>o.ownerBand===(e==null?void 0:e.ownerBand)&&(!G(o.type)||s.isCustomCommandColumn(o)));if(e!=null&&e.fixed){const o=Wa(s,e);if(o!==cn.Sticky)return r.filter(a=>a.fixed&&Wa(s,a)===o)}return r.filter(o=>!o.fixed||o.fixedPosition===cn.Sticky)}keyDownHandler(e){let t=super.keyDownHandler(e);if(t)return!0;switch(e.keyName){case"tab":this.tabKeyHandler(e),t=!0;break;case"leftArrow":case"rightArrow":this.leftRightKeysHandler(e),t=!0}return t}tabKeyHandler(e){}getCellIndex(e){return this._columnHeadersView.getCellIndex(e)}_getCell(e){var t;const n=this.getColumnIndexOffset(e.columnIndex),s=e.columnIndex>=0?e.columnIndex-n:-1;return(t=this._columnHeadersView)===null||t===void 0?void 0:t.getCell({rowIndex:e.rowIndex,columnIndex:s})}getFocusedView(){return this.getView("columnHeadersView")}focusinHandler(e){this._updateFocusedCellPosition(M(e.target))}getFocusinSelector(){return".dx-header-row > td"}getFocusableColumns(e,t){const s=this._columnsController.getVisibleColumns(e).filter(r=>!G(r.type)||this._columnsController.isCustomCommandColumn(r));return G(t)?s.filter(r=>r.ownerBand===t):s}init(){super.init(),this._columnHeadersView=this.getView("columnHeadersView")}canReorderColumn(e,t,n){if(!this._columnHeadersView.isColumnReorderingEnabled(e))return!1;const r=this.getDraggableColumns(e,n),o=e.index===r[0].index,a=e.index===r[r.length-1].index;return t===qi.Next?!a:!o}getFirstFocusableVisibleIndex(){const e=this.getFocusableColumns();return e!=null&&e.length?this._columnsController.getVisibleIndex(e[0].index):-1}restoreFocus(){const e=this._getFocusedCell();if(Rn.isFixedCell(e,this.addWidgetPrefix.bind(this))){super.restoreFocus();return}if(e.length&&this.isOutsideVisibleArea(e,M(this._columnHeadersView.getContent()))){this.scrollToNextCell(e).then(()=>{super.restoreFocus()});return}super.restoreFocus()}needToFocus(){return this.needToRestoreFocus}}const Jhe={controllers:{headersKeyboardNavigation:Qhe,columnFocusDispatcher:Zhe}},ON=i=>class extends i{ungroupColumnByPressingKey(e){var t;const n=this.getColumnFromEvent(e),s=this.getRowIndexFromEvent(e);this.ungroupColumn(n,s),(t=e.originalEvent)===null||t===void 0||t.preventDefault()}getFocusedCellPositionByColumn(e){if(!e)return;const t=this._columnsController.getRowIndex(e.index,!0);return{rowIndex:t,columnIndex:this.getVisibleIndex(e,t)}}getRowIndexFromEvent(e){return 0}getColumnFromEvent(e){}getNewFocusedColumnBeforeUngrouping(e,t){return e}keyDownHandler(e){let t=super.keyDownHandler(e);return t?!0:(this.canUngroupColumnByPressingKey(e)?(this.ungroupColumnByPressingKey(e),t=!0):this.canUngroupAllColumnByPressingKey(e)&&(this.ungroupAllColumns(),t=!0),t)}changeGroupColumnIndex(e,t,n){this._columnsController.beginUpdate(),this._columnsController.columnOption(t.dataField,"groupIndex",e);const s=this.getFocusedCellPositionByColumn(n);this.updateViewFocusPosition(s),this._columnsController.endUpdate()}canUngroupColumnByPressingKey(e){return e.which===wy.G&&e.shift&&$n(e.originalEvent)}canUngroupAllColumnByPressingKey(e){return e.which===wy.G&&e.shift&&e.alt}ungroupColumn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(G(e==null?void 0:e.groupIndex)){const n=this.getNewFocusedColumnBeforeUngrouping(e,t);this.changeGroupColumnIndex(-1,e,n)}}ungroupAllColumns(){this._columnsController.clearGrouping()}},epe=i=>class extends ON(i){getNewFocusedColumnBeforeGrouping(e,t){if(e.showWhenGrouped)return e;const n=this.getFocusableColumns(t,e.ownerBand);if(n.length===1&&G(e.ownerBand))return this._columnsController.getParentColumn(e,!0);if(n.length===1)return;const s=n.findIndex(r=>r.index===e.index);return s===n.length-1?n[s-1]:n[s+1]}groupColumnByPressingKey(e){var t;const n=M(e.originalEvent.target).closest("td"),s=this._getRowIndex(n.parent()),r=this._getColumnByCellElement(n,s);this.groupColumn(r,s),(t=e.originalEvent)===null||t===void 0||t.preventDefault()}canGroupColumnByPressingKey(e){return e.which===wy.G&&$n(e.originalEvent)}getRowIndexFromEvent(e){const t=M(e.originalEvent.target).closest("td");return this._getRowIndex(t.parent())}getColumnFromEvent(e){const t=M(e.originalEvent.target).closest("td"),n=this._getRowIndex(t.parent());return this._getColumnByCellElement(t,n)}keyDownHandler(e){let t=super.keyDownHandler(e);return t?!0:(this.canGroupColumnByPressingKey(e)&&(this.groupColumnByPressingKey(e),t=!0),t)}groupColumn(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!G(e.groupIndex)&&e!==null&&e!==void 0&&e.allowGrouping){var n;const s=((n=this._columnsController.getGroupColumns())===null||n===void 0?void 0:n.length)??0,r=this.getNewFocusedColumnBeforeGrouping(e,t);this.changeGroupColumnIndex(s,e,r)}}ungroupAllColumns(){const e=this._getFocusedCell(),t=this._getColumnByCellElement(e);this._columnsController.beginUpdate(),super.ungroupAllColumns();const n=this._columnsController.getRowIndex(t.index,!0),s=this.getVisibleIndex(t);this.updateFocusPosition({rowIndex:n,columnIndex:s}),this._columnsController.endUpdate()}};Ue.registerModule("headersKeyboardNavigation",Object.assign({},Jhe,{extenders:{controllers:{headersKeyboardNavigation:epe}}}));class tpe extends ON(kN){constructor(){super(...arguments),this.isNeedToHiddenFocusAfterClick=!1}groupItemClickHandler(e){var t;const n=M(e.originalEvent.target),s=this._columnsController.columnOption(`groupIndex:${n.index()}`);this.isNeedToHiddenFocusAfterClick=(t=this._columnsController)===null||t===void 0?void 0:t.allowColumnSorting(s)}unsubscribeFromGroupItemClick(){const e=this.getFocusedViewElement();e&&Y.off(e,Nt,this.groupItemClickHandlerContext)}subscribeToGroupItemClick(){const e=this.getFocusedViewElement();e&&Y.on(e,Nt,`.${as.groupPanelItem}`,this.groupItemClickHandlerContext)}leftRightKeysHandler(e){const{originalEvent:t}=e;if($n(t)){const n=M(t.target),s=this._columnsController.columnOption(`groupIndex:${n.index()}`),r=this.getDirectionByKeyName(e.keyName);this.canReorderColumn(s,r)&&this.moveColumn(s,r),t==null||t.preventDefault()}}getVisibleIndex(e){return e.groupIndex}getColumnFromEvent(e){const t=M(e.originalEvent.target);return this._columnsController.columnOption(`groupIndex:${t.index()}`)}getNewFocusedColumnBeforeUngrouping(e){const t=e.groupIndex,n=this._columnsController.getGroupColumns();return t===n.length-1?n[t-1]:n[t+1]}_getCell(e){var t;const n=(t=this.headerPanel)===null||t===void 0?void 0:t.getColumnElements();return n==null?void 0:n.eq(e.columnIndex)}getFocusedView(){return this.getView("headerPanel")}getFocusedViewElement(){var e;return(e=this.headerPanel)===null||e===void 0||(e=e.element())===null||e===void 0?void 0:e.find(`.${as.groupPanel}`)}getFocusinSelector(){return`.${as.groupPanelItem}`}focusinHandler(e){this.setFocusedCellPosition(0,M(e.target).index())}keyDownHandler(e){let t=super.keyDownHandler(e);return t?!0:((e.keyName==="leftArrow"||e.keyName==="rightArrow")&&(this.leftRightKeysHandler(e),t=!0),t)}renderCompleted(e){const{needToRestoreFocus:t}=this;if(super.renderCompleted(e),this.unsubscribeFromGroupItemClick(),this.subscribeToGroupItemClick(),!t&&this.isNeedToHiddenFocusAfterClick){const n=this._getFocusedCell();n!=null&&n.length&&o5(n.get(0)),this.isNeedToHiddenFocusAfterClick=!1}}canUngroupColumnByPressingKey(e){return super.canUngroupColumnByPressingKey(e)||e.keyName==="backspace"||e.keyName==="del"}getFirstFocusableVisibleIndex(){var e;const t=(e=this.headerPanel)===null||e===void 0?void 0:e.getColumns();return t!=null&&t.length?0:-1}init(){this.headerPanel=this.getView("headerPanel"),this.groupItemClickHandlerContext=this.groupItemClickHandlerContext??this.groupItemClickHandler.bind(this),super.init()}canReorderColumn(e,t){if(!this.headerPanel.allowDragging(e))return!1;const s=this._columnsController.getGroupColumns();return t===qi.Next?e.groupIndex!==s.length-1:e.groupIndex!==0}ungroupAllColumns(){this.updateViewFocusPosition(),super.ungroupAllColumns()}}Ue.registerModule("groupPanelKeyboardNavigation",{controllers:{groupPanelKeyboardNavigation:tpe}});function HC(i,e,t,n){let s=0;if(i<e)for(;s<t.items.length;s++)HC(i+1,e,t.items[s],n);i===e&&n(t)}function nm(i,e){let t;if("map"in i)return i.map(e);const n=new Array(i.length);for(t in i)n[t]=e(i[t],t);return n}function npe(i){return i!==i||i===""||i===null||i===void 0}function ipe(i){return i===P1.count}function Qk(i){const e=qt(i.selector),t="skipEmptyValues"in i?i.skipEmptyValues:!0;let{aggregator:n}=i;if(typeof n=="string"&&(n=P1[n],!n))throw pn.Error("E4001",i.aggregator);return{selector:e,aggregator:n,skipEmptyValues:t}}class spe{constructor(e){this._data=e.data,this._groupLevel=e.groupLevel||0,this._totalAggregates=nm(e.totalAggregates||[],Qk),this._groupAggregates=nm(e.groupAggregates||[],Qk),this._totals=[]}calculate(){this._totalAggregates.length&&this._calculateTotals(0,{items:this._data}),this._groupAggregates.length&&this._groupLevel>0&&this._calculateGroups({items:this._data})}totalAggregates(){return this._totals}_aggregate(e,t,n){const s=t.items?t.items.length:0;for(let r=0;r<e.length;r++){if(ipe(e[r].aggregator)){n[r]=(n[r]||0)+s;continue}for(let o=0;o<s;o++)this._accumulate(r,e[r],n,t.items[o])}}_calculateTotals(e,t){if(e===0&&(this._totals=this._seed(this._totalAggregates)),e===this._groupLevel)this._aggregate(this._totalAggregates,t,this._totals);else for(let n=0;n<t.items.length;n++)this._calculateTotals(e+1,t.items[n]);e===0&&(this._totals=this._finalize(this._totalAggregates,this._totals))}_calculateGroups(e){const t=this._groupLevel;let n=t+1;const s=this._seed.bind(this,this._groupAggregates),r=this._aggregate.bind(this,this._groupAggregates),o=this._finalize.bind(this,this._groupAggregates);function a(l){l.aggregates=s(n-1),n===t?r(l,l.aggregates):HC(n,t,l,d=>{r(d,l.aggregates)}),l.aggregates=o(l.aggregates)}for(;--n>0;)HC(0,n,e,a)}_seed(e,t){return nm(e,n=>{const{aggregator:s}=n;return"seed"in s?Ie(s.seed)?s.seed(t):s.seed:NaN})}_accumulate(e,t,n,s){const r=t.selector(s),{aggregator:o}=t,{skipEmptyValues:a}=t;a&&npe(r)||(n[e]!==n[e]?n[e]=r:n[e]=o.step(n[e],r))}_finalize(e,t){return nm(e,(n,s)=>{const r=n.aggregator.finalize;return r?r(t[s]):t[s]})}}function rpe(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=i.index??-1;return t?(e==null?void 0:e.type)==="groupExpand"||i.type==="groupExpand"?(e==null?void 0:e.index)??-1:G(i.groupIndex)?-1:n:n}const ope="dx-cell-focus-disabled",RN=function(i,e){const t=M(i),{column:n}=e,{summaryItems:s}=e,r=[];if(!n.command&&s){for(let o=0;o<s.length;o++){const a=s[o],l=Ue.getSummaryText(a,e.summaryTexts);r.push(M("<div>").css("textAlign",a.alignment||n.alignment).addClass("dx-datagrid-summary-item").addClass("dx-datagrid-text-content").addClass(a.cssClass).toggleClass("dx-datagrid-group-text-content",e.rowType==="group").text(l).attr("aria-label",`${n.caption} ${l}`))}t.append(r)}},PN=function(i,e){const t=i.option("summary.texts")||{};return{totalItem:e.row,summaryItems:e.row.summaryCells[e.columnIndex],summaryTexts:t}},eb=function(i){return i.summary||i.aggregates||[]},lE=function(i){return i.option("summary.recalculateWhileEditing")},MN=function(i,e,t,n){n=n||[];for(let s=0;s<i.length;s++)n.push(i[s].key),e===1?t(n,i[s].items):MN(i[s].items,e-1,t,n),n.pop()},FN=function(i,e,t){return t?FN(i,e.map(n=>({items:[n]}),t-1)):i.concat(e)},BN=function(i,e,t){return t?i.map(n=>{const s={},r=BN(n.items||[],e,t-1);return Object.defineProperty(s,"aggregates",{get:()=>n.aggregates,set:o=>{n.aggregates=o}}),se(s,n,{items:r})}):i.filter(n=>e.indexOf(n)<0)},NN=function(i,e,t){if(!i||!e.length)return i;const n=e[0],s=t[0];let r;return n&&s&&s.length&&(r=Hi(i),ie(s,function(o){o===0?r=r.sortBy(this.selector,this.desc):r=r.thenBy(this.selector,this.desc)}),r.enumerate().done(o=>{i=o})),e=e.slice(1),t=t.slice(1),e.length&&t.length&&ie(i,function(){this.items=NN(this.items,e,t)}),i},Jk=function(i,e,t){const n=t&&t.sortByGroups&&t.sortByGroups();return n&&n.length?NN(i,e,n):i},eO=function(i,e,t,n){let s;if(lE(i)){const r=i._editingController;if(r){const o=r.getInsertedData();o.length&&(t=FN(t,o,n));const a=r.getRemovedData();a.length&&(t=BN(t,a,n))}}return e&&(s=new spe({totalAggregates:e.totalAggregates,groupAggregates:e.groupAggregates,data:t,groupLevel:n}),s.calculate()),s?s.totalAggregates():[]};class ape extends Bp{_getRows(){return this._dataController.footerItems()}_getCellOptions(e){return se(super._getCellOptions(e),PN(this,e))}_renderCellContent(e,t){RN(e,t),super._renderCellContent.apply(this,arguments)}_renderCore(e){let t=!1;const n=this._dataController.footerItems()[0];return(!e||!e.columnIndices)&&(this.element().empty().addClass("dx-datagrid-total-footer").toggleClass("dx-datagrid-nowrap",!this.option("wordWrapEnabled")),t=!0),n&&n.summaryCells&&n.summaryCells.length&&(this._updateContent(this._renderTable({change:e}),e),t&&this._updateScrollLeftPosition()),super._renderCore(e)}_updateContent(e,t){return t&&t.changeType==="update"&&t.columnIndices?this.waitAsyncTemplates().done(()=>{const n=this.getTableElement().find(".dx-row"),s=e.find(".dx-row");this._updateCells(n,s,t.columnIndices[0])}):super._updateContent.apply(this,arguments)}_rowClick(e){const t=this._dataController.footerItems()[e.rowIndex]||{};this.executeAction("onRowClick",se({},e,t))}_columnOptionChanged(e){const{optionNames:t}=e;e.changeTypes.grouping||(t.width||t.visibleWidth)&&super._columnOptionChanged(e)}_handleDataChanged(e){const{changeType:t}=e;e.changeType==="update"&&e.repaintChangesOnly?e.totalColumnIndices?e.totalColumnIndices.length&&this.render(null,{changeType:"update",columnIndices:[e.totalColumnIndices]}):this.render():(t==="refresh"||t==="append"||t==="prepend")&&this.render()}_createRow(e){const t=super._createRow.apply(this,arguments);return e.rowType==="totalFooter"&&(t.addClass("dx-footer-row"),t.addClass(ope),t.attr("tabindex",0)),t}getHeight(){return this.getElementHeight()}isVisible(){return!!this._dataController.footerItems().length}}const lpe=i=>class extends i{init(){super.init.apply(this,arguments),this._editingController=this.getController("editing"),this._totalAggregates=[],this._summaryGetter=Te}summaryGetter(e){if(!arguments.length)return this._summaryGetter;Ie(e)&&(this._summaryGetter=e)}summary(e){if(!arguments.length)return this._summaryGetter();this._summaryGetter=function(){return e}}totalAggregates(){return this._totalAggregates}isLastLevelGroupItemsPagingLocal(){const e=this.summary(),t=e==null?void 0:e.sortByGroups();return t==null?void 0:t.length}sortLastLevelGroupItems(e,t,n){const s=Mo.multiLevelGroup(Hi(e),t).toArray();let r=[];return n.forEach(o=>{MN(s,t.length,(a,l)=>{o.toString()===a.toString()&&(r=r.concat(l))})}),r}_customizeRemoteOperations(e){const t=this.summary();t&&(e.remoteOperations.summary?(!e.isCustomLoading||e.storeLoadOptions.isLoadingAll)&&(e.storeLoadOptions.group&&(e.remoteOperations.grouping?e.storeLoadOptions.groupSummary=t.groupAggregates:t.groupAggregates.length&&(e.remoteOperations.paging=!1)),e.storeLoadOptions.totalSummary=t.totalAggregates):(t.totalAggregates.length||t.groupAggregates.length&&e.storeLoadOptions.group)&&(e.remoteOperations.paging=!1)),super._customizeRemoteOperations.apply(this,arguments);const n=e.cachedData.extra;n!=null&&n.summary&&!e.isCustomLoading&&(e.storeLoadOptions.totalSummary=void 0)}_handleDataLoadedCore(e){const t=Po(e.storeLoadOptions.group||e.loadOptions.group||[]),n=e.remoteOperations||{},s=this.summaryGetter()(n);if(!e.isCustomLoading||e.storeLoadOptions.isLoadingAll){if(n.summary)!n.paging&&t.length&&s&&(n.grouping||eO(this,{groupAggregates:s.groupAggregates},e.data,t.length),e.data=Jk(e.data,t,s));else if(!n.paging&&s){var r;const o=e.operationTypes||{};if(!Object.keys(o).some(l=>o[l])||!((r=e.cachedData)!==null&&r!==void 0&&(r=r.extra)!==null&&r!==void 0&&r.summary)||t.length&&s.groupAggregates.length){const l=eO(this,s,e.data,t.length);e.extra=ot(e.extra)?e.extra:{},e.extra.summary=l,e.cachedData&&(e.cachedData.extra=e.extra)}e.data=Jk(e.data,t,s)}}e.isCustomLoading||(this._totalAggregates=e.extra&&e.extra.summary||this._totalAggregates),super._handleDataLoadedCore(e)}};Y0.extend(lpe);const dpe=i=>class extends i{_isDataColumn(e){return e&&(!G(e.groupIndex)||e.showWhenGrouped)}_isGroupFooterVisible(){const e=this.option("summary.groupItems")||[];for(let t=0;t<e.length;t++){const n=e[t],s=this._columnsController.columnOption(n.showInColumn||n.column);if(n.showInGroupFooter&&this._isDataColumn(s))return!0}return!1}_processGroupItems(e,t,n){const s=n&&n.data,r=super._processGroupItems.apply(this,arguments);return n&&(n.isGroupFooterVisible===void 0&&(n.isGroupFooterVisible=this._isGroupFooterVisible()),s&&s.items&&n.isGroupFooterVisible&&(n.collectContinuationItems||!s.isContinuationOnNextPage)&&r.push({rowType:"groupFooter",key:n.path.slice(),data:s,groupIndex:n.path.length-1,values:[]})),r}_processGroupItem(e,t){const n=this;if(t.summaryGroupItems||(t.summaryGroupItems=n.option("summary.groupItems")||[]),e.rowType==="group"){let s=-1,r=-1;ie(t.visibleColumns,function(o){const a=t.visibleColumns[o-1];e.groupIndex===this.groupIndex&&(s=this.index),o>0&&a.command==="expand"&&this.command!=="expand"&&(r=this.index)}),e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,eb(e.data),t.visibleColumns,(o,a)=>o.showInGroupFooter?-1:o.alignByColumn&&a&&!G(a.groupIndex)&&a.index!==r?a.index:s,!0)}return e.rowType==="groupFooter"&&(e.summaryCells=this._calculateSummaryCells(t.summaryGroupItems,eb(e.data),t.visibleColumns,(s,r)=>s.showInGroupFooter&&n._isDataColumn(r)?r.index:-1)),e}_calculateSummaryCells(e,t,n,s,r){const o=this,a=[],l={};return ie(e,(d,c)=>{const h=o._columnsController.columnOption(c.column),u=c.showInColumn&&o._columnsController.columnOption(c.showInColumn)||h,p=s(c,u);if(p>=0){l[p]||(l[p]=[]);const f=t[d];if(f===f){let g;G(c.valueFormat)?g=c.valueFormat:c.summaryType!=="count"&&(g=Ue.getFormatByDataType(h&&h.dataType)),l[p].push(se({},c,{value:Ke(f)&&h&&h.deserializeValue?h.deserializeValue(f):f,valueFormat:g,columnCaption:h&&h.index!==p?h.caption:void 0}))}}}),ki(l)||n.forEach((d,c)=>{const h=n[c-1],u=rpe(d,h,r);a.push(l[u]||[])}),a}_getSummaryCells(e,t){const n=this,s=n._columnsController;return n._calculateSummaryCells(e,t,s.getVisibleColumns(),(r,o)=>n._isDataColumn(o)?o.index:-1)}_updateItemsCore(e){const t=this;let n;const s=t._dataSource,r=t._footerItems,o=r&&r[0]&&r[0].summaryCells,a=t.option("summary.totalItems");if(t._footerItems=[],s&&a&&a.length){const l=s.totalAggregates();n=t._getSummaryCells(a,l),e&&e.repaintChangesOnly&&o&&(e.totalColumnIndices=n.map((d,c)=>JSON.stringify(d)!==JSON.stringify(o[c])?c:-1).filter(d=>d>=0)),n.length&&t._footerItems.push({rowType:"totalFooter",summaryCells:n})}super._updateItemsCore(e)}_prepareUnsavedDataSelector(e){if(lE(this)){const t=this._editingController;if(t)return function(n){return n=t.getUpdatedData(n),e(n)}}return e}_prepareAggregateSelector(e,t){return e=this._prepareUnsavedDataSelector(e),t==="avg"||t==="sum"?function(n){const s=e(n);return G(s)?Number(s):s}:e}_getAggregates(e,t){const n=this;let s=n.option("summary.calculateCustomSummary");const r=n.option("summary.skipEmptyValues");return Mn(e||[],o=>{const a=this._columnsController.columnOption(o.column),l=a&&a.calculateCellValue?a.calculateCellValue.bind(a):qt(a?a.dataField:o.column);let d=o.summaryType||"count";const c=G(o.skipEmptyValues)?o.skipEmptyValues:r;if(t)return{selector:o.column,summaryType:d};const h=n._prepareAggregateSelector(l,d);if(d==="custom"){s||(pt.log("E1026"),s=function(){});const u={component:n.component,name:o.name};s(u),u.summaryProcess="calculate",d={seed(p){return u.summaryProcess="start",u.totalValue=void 0,u.groupIndex=p,delete u.value,s(u),u.totalValue},step(p,f){return u.summaryProcess="calculate",u.totalValue=p,u.value=f,s(u),u.totalValue},finalize(p){return u.summaryProcess="finalize",u.totalValue=p,delete u.value,s(u),u.totalValue}}}return{selector:h,aggregator:d,skipEmptyValues:c}})}_addSortInfo(e,t,n,s){if(t){const{groupIndex:r}=t;s=s||t.sortOrder,G(r)&&(e[r]=e[r]||[],e[r].push({selector:n,desc:s==="desc"}))}}_findSummaryItem(e,t){let n=-1;return G(t)&&ie(e||[],function(s){if(this.name===t||s===t||this.summaryType===t||this.column===t||function(r){const{summaryType:o}=r,{column:a}=r;return o&&a&&`${o}_${a}`}(this)===t)return n=s,!1}),n}_getSummarySortByGroups(e,t){const n=this,s=n._columnsController,r=s.getGroupColumns(),o=[];if(!(!t||!t.length))return ie(e||[],function(){const{sortOrder:a}=this;let{groupColumn:l}=this;const d=n._findSummaryItem(t,this.summaryItem);if(d<0)return;const c=function(h){return eb(h)[d]};G(l)?(l=s.columnOption(l),n._addSortInfo(o,l,c,a)):ie(r,(h,u)=>{n._addSortInfo(o,u,c,a)})}),o}_createDataSourceAdapterCore(e,t){const n=this,s=super._createDataSourceAdapterCore(e,t);return s.summaryGetter(r=>n._getSummaryOptions(r||t)),s}_getSummaryOptions(e){const t=this,n=t.option("summary.groupItems"),s=t.option("summary.totalItems"),r=t.option("sortByGroupSummaryInfo"),o=t._getAggregates(n,e&&e.grouping&&e.summary),a=t._getAggregates(s,e&&e.summary),l=function(){return t._getSummarySortByGroups(r,n)};if(o.length||a.length)return{groupAggregates:o,totalAggregates:a,sortByGroups:l}}publicMethods(){const e=super.publicMethods();return e.push("getTotalSummaryValue"),e}getTotalSummaryValue(e){const t=this._findSummaryItem(this.option("summary.totalItems"),e),n=this._dataSource.totalAggregates();if(n.length&&t>-1)return n[t]}optionChanged(e){(e.name==="summary"||e.name==="sortByGroupSummaryInfo")&&(e.name="dataSource"),super.optionChanged(e)}init(){this._footerItems=[],super.init()}footerItems(){return this._footerItems}},cpe=i=>class extends i{_refreshSummary(){lE(this)&&!this.isSaving()&&this._dataController.refresh({load:!0,changesOnly:!0})}_addChange(e){const t=super._addChange.apply(this,arguments);return e.type&&this._refreshSummary(),t}_removeChange(){const e=super._removeChange.apply(this,arguments);return this._refreshSummary(),e}cancelEditData(){const e=super.cancelEditData.apply(this,arguments);return this._refreshSummary(),e}},upe=i=>class extends i{_createRow(e){const t=super._createRow.apply(this,arguments);return e&&t.addClass(e.rowType==="groupFooter"?"dx-datagrid-group-footer":""),t}_renderCells(e,t){super._renderCells.apply(this,arguments),t.row.rowType==="group"&&t.row.summaryCells&&t.row.summaryCells.length&&this._renderGroupSummaryCells(e,t)}_hasAlignByColumnSummaryItems(e,t){return!G(t.columns[e].groupIndex)&&t.row.summaryCells[e].length}_getAlignByColumnCellCount(e,t){let n=0;for(let s=1;s<e;s++){const r=t.row.summaryCells.length-s;n=this._hasAlignByColumnSummaryItems(r,t)?s:n}return n}_renderGroupSummaryCells(e,t){const n=e.children().last(),s=Number(n.attr("colSpan"))||1,r=this._getAlignByColumnCellCount(s,t);this._renderGroupSummaryCellsCore(n,t,s,r)}_renderGroupSummaryCellsCore(e,t,n,s){if(s>0){e.attr("colSpan",n-s);for(let r=0;r<s;r++){const o=t.columns.length-s+r;this._renderCell(e.parent(),se({column:t.columns[o],columnIndex:this._getSummaryCellIndex(o,t.columns)},t))}}}_getSummaryCellIndex(e,t){return e}_getCellTemplate(e){return!e.column.command&&!G(e.column.groupIndex)&&e.summaryItems&&e.summaryItems.length?RN:super._getCellTemplate(e)}_getCellOptions(e){const t=this,n=super._getCellOptions(e);return e.row.summaryCells?se(n,PN(t,e)):n}};Ue.registerModule("summary",{defaultOptions:()=>({summary:{groupItems:void 0,totalItems:void 0,calculateCustomSummary:void 0,skipEmptyValues:!0,recalculateWhileEditing:!1,texts:{sum:ue.format("dxDataGrid-summarySum"),sumOtherColumn:ue.format("dxDataGrid-summarySumOtherColumn"),min:ue.format("dxDataGrid-summaryMin"),minOtherColumn:ue.format("dxDataGrid-summaryMinOtherColumn"),max:ue.format("dxDataGrid-summaryMax"),maxOtherColumn:ue.format("dxDataGrid-summaryMaxOtherColumn"),avg:ue.format("dxDataGrid-summaryAvg"),avgOtherColumn:ue.format("dxDataGrid-summaryAvgOtherColumn"),count:ue.format("dxDataGrid-summaryCount")}},sortByGroupSummaryInfo:void 0}),views:{footerView:ape},extenders:{controllers:{data:dpe,editing:cpe},views:{rowsView:upe}}});const dE=i=>class extends i{_addStickyColumnBorderLeftClass(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=arguments.length>4?arguments[4]:void 0;oZ(this._columnsController,t,n,s,r)&&Rn.addStickyColumnBorderLeftClass(e,this.addWidgetPrefix.bind(this))}_addStickyColumnBorderRightClass(e,t,n){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=arguments.length>4?arguments[4]:void 0;aZ(this._columnsController,t,n,s,r)&&Rn.addStickyColumnBorderRightClass(e,this.addWidgetPrefix.bind(this))}updateBorderCellClasses(e,t,n){const s=this._columnsController,r=this.name==="rowsView",o=rZ(s,t,n,r),a=s==null?void 0:s.isFirstColumn(t,n);Rn.toggleColumnNoBorderClass(e,o,this.addWidgetPrefix.bind(this)),Rn.toggleFirstHeaderClass(e,a,this.addWidgetPrefix.bind(this))}_updateBorderClasses(){const e=this.name==="columnHeadersView";this._getRowElementsCore().not(`.${nr.detailRow}`).toArray().forEach((n,s)=>{const r=e?s:null,o=M(n).children("td").toArray();let a=this.getColumns(r);a=$D(this._columnsController,a),o.forEach((l,d)=>{const c=M(l),h=a[d];h.visibleWidth!==J1&&this.updateBorderCellClasses(c,h,r)})})}_renderCore(e){const t=super._renderCore(e),n=this.element(),s=this.hasStickyColumns();return Rn.toggleStickyColumnsClass(n,s,this.addWidgetPrefix.bind(this)),s?t.done(()=>{this.setStickyOffsets()}):t}_createCell(e){const{column:t}=e,{rowType:n}=e,s=super._createCell(e),r=this.hasStickyColumns(),o=n==="header"?e.rowIndex:null,a=n==="groupFooter"||n==="totalFooter"||n==="group",l=t.command&&t.command==="expand";if(r&&!eS(this._columnsController,t)&&(this.updateBorderCellClasses(s,t,o),t.fixed)){const d=Wa(this._columnsController,t);if(Rn.addStickyColumnClass(s,d,this.addWidgetPrefix.bind(this)),!a&&!l)switch(d){case cn.Right:this._addStickyColumnBorderLeftClass(s,t,o,!1,cn.Right);break;case cn.Sticky:this._addStickyColumnBorderLeftClass(s,t,o,!0),this._addStickyColumnBorderRightClass(s,t,o,!0);break;default:this._addStickyColumnBorderRightClass(s,t,o,!1,cn.Left)}}return s}setStickyOffsets(e,t){const n=this._columnsController,s=this.option("rtlEnabled"),r=this.option("showColumnHeaders");let o=this.getColumnWidths(void 0,e),a=this.getColumns(r?e:void 0);a=$D(this._columnsController,a),s&&(a=s?[...a].reverse():a,o=s?[...o].reverse():o),a.forEach((l,d)=>{if(l.fixed){const c=s?a.length-d-1:d,h=_8(n,a,o,d,t);t&&(t[l.index]=h);const u=v8(h);this.setCellProperties(u,c,e)}})}setColumnWidths(e){const t=this.hasStickyColumns(),n=this.getController("columnsResizer"),s=n==null?void 0:n.isResizing();super.setColumnWidths(e),t&&s&&this.setStickyOffsets()}_resizeCore(){const e=this.hasStickyColumns(),t=this.getController("adaptiveColumns"),n=t==null?void 0:t.getHidingColumnsQueue();super._resizeCore.apply(this,arguments),e&&(this.setStickyOffsets(),n!=null&&n.length&&this._updateBorderClasses())}hasStickyColumns(){var e;const t=(e=this._columnsController)===null||e===void 0?void 0:e.getStickyColumns();return this.option("columnFixing.legacyMode")!==!0&&!!t.length}},hpe=i=>class extends dE(i){setStickyOffsets(){const e={},t=this._getRows();for(let s=0;s<t.length;s++){var n;const r=(t==null||(n=t[s])===null||n===void 0?void 0:n.rowType)==="filter";super.setStickyOffsets(s,r?void 0:e)}}getContextMenuItems(e){const{column:t}=e,n=this._columnsController,s=this.option("columnFixing");let r=super.getContextMenuItems(e);if(e.row&&e.row.rowType==="header"&&s.enabled===!0&&t&&t.allowFixing){const o=l=>{switch(l.itemData.value){case"none":this._columnsController.columnOption(t.index,"fixed",!1);break;case"left":this._columnsController.columnOption(t.index,{fixed:!0,fixedPosition:"left"});break;case"right":this._columnsController.columnOption(t.index,{fixed:!0,fixedPosition:"right"});break;case"sticky":this._columnsController.columnOption(t.index,{fixed:!0,fixedPosition:"sticky"})}},a=[{text:s.texts.leftPosition,icon:s.icons.leftPosition,value:"left",disabled:t.fixed&&(!t.fixedPosition||t.fixedPosition==="left"),onItemClick:o},{text:s.texts.rightPosition,icon:s.icons.rightPosition,value:"right",disabled:t.fixed&&t.fixedPosition==="right",onItemClick:o}];this.option("columnFixing.legacyMode")!==!0&&!n.isVirtualMode()&&a.push({text:s.texts.stickyPosition,icon:s.icons.stickyPosition,value:"sticky",disabled:t.fixed&&t.fixedPosition===cn.Sticky,onItemClick:o}),r=r||[],r.push({text:s.texts.fix,icon:s.icons.fix,beginGroup:!0,items:a},{text:s.texts.unfix,icon:s.icons.unfix,value:"none",disabled:!t.fixed,onItemClick:o})}return r}},ppe=i=>class extends dE(i){_getMasterDetailWidth(){const e=Xe(this.component.$element())??0,t=xe.getComponentBorderWidth(this,this._$element);return e-t-this.getScrollbarWidth()}_renderMasterDetailCell(e,t,n){const s=super._renderMasterDetailCell(e,t,n);if(this.hasStickyColumns()){const r=`.${this.addWidgetPrefix(nr.detailContainer)}`,o=s.find(r);o.addClass(this.addWidgetPrefix(Tn.stickyColumnLeft)),$h(o,this._getMasterDetailWidth())}return s}_updateMasterDetailWidths(){const e=this._getRowElements().children(`.${nr.detailCell}`).children(`.${this.addWidgetPrefix(nr.detailContainer)}`),t=this._getMasterDetailWidth();$h(e,`${t}px`)}setStickyOffsets(e,t){super.setStickyOffsets(e,t),this.setStickyOffsetsForGroupCells()}setStickyOffsetsForGroupCells(){const e=this._columnsController.getGroupColumns();let t=this.getColumns(),n=this.getColumnWidths();const s=this._getColumnsCountBeforeGroups(t),r=this.option("rtlEnabled");r&&(t=r?[...t].reverse():t,n=r?[...n].reverse():n);const o=this.getTableElement();e.forEach(a=>{const l=s+a.groupIndex+1,d=r?t.length-l-1:l,c=_8(this._columnsController,t,n,d),h=v8(c),u=o.children().children(".dx-group-row").find(`.dx-group-cell[aria-colindex='${l+1}']`);for(let p=0;p<u.length;p+=1){const f=u.get(p),g=M(f).find(".dx-datagrid-group-row-container").get(0);Object.assign(f.style,h),Object.assign(g.style,h)}})}_resizeCore(){const e=this.hasStickyColumns();super._resizeCore.apply(this,arguments),e&&this._updateMasterDetailWidths()}_renderCellContent(e,t,n){const s=this.hasStickyColumns(),r=dC(t),o=CC(t);if(!s||!(r||o))return super._renderCellContent(e,t,n);const l=M("<div>").toggleClass(this.addWidgetPrefix(Tn.groupRowContainer),r).toggleClass(this.addWidgetPrefix(nr.detailContainer),o).appendTo(e);return super._renderCellContent(l,t,n)}_renderGroupSummaryCellsCore(e,t,n,s){super._renderGroupSummaryCellsCore(e,t,n,s);const r=`.${this.addWidgetPrefix(Tn.stickyColumn)}`;e.parent().find(r).length&&Rn.doesGroupCellEndInFirstColumn(e)&&Rn.addStickyColumnBorderRightClass(e,this.addWidgetPrefix.bind(this))}_handleScroll(e){const t=this.hasStickyColumns();if(super._handleScroll(e),t){const n=this.getController("editorFactory");if(n.hasOverlayElements()){const r=n.focus();n.focus(r)}}}_scrollToElement(e,t){let n=t;const s=this.getScrollable();if(this.hasStickyColumns()&&s){const o=Rn.isFixedCell(e,this.addWidgetPrefix.bind(this));if(!e.is("td")||o)return;const a=e==null?void 0:e.closest("tr"),l=a==null?void 0:a.children();n=Rn.getScrollPadding(l,M(s.container()),this.addWidgetPrefix.bind(this))}super._scrollToElement(e,n)}},fpe=i=>class extends dE(i){},mpe=i=>class extends i{getSeparatorOffsetX(e){var t;if((t=this._columnHeadersView)===null||t===void 0?void 0:t.hasStickyColumns()){const r=M(this._columnHeadersView.getContent()),o=Rn.isFixedCellPinnedToRight(e,r,this.addWidgetPrefix.bind(this));if(this.option("columnResizingMode")==="widget"&&o){var s;return((s=e.offset())===null||s===void 0?void 0:s.left)??0}}return super.getSeparatorOffsetX(e)}_correctColumnIndexForPoint(e,t,n){const s=this.option("rtlEnabled"),r=this.option("columnResizingMode")==="widget",o=Math.max(e.index-1,0),a=n[o],l=this._getNextColumnIndex(o),d=n[l];if(r&&!x8(e,a,d)){const c=M(this._columnHeadersView.getContent());if(Rn.isFixedCellPinnedToRight(M(e.item),c,this.addWidgetPrefix.bind(this))){e.columnIndex-=s?1:0;return}}super._correctColumnIndexForPoint(e,t,n)}_needToInvertResizing(e){const t=super._needToInvertResizing(e),n=this.option("columnResizingMode")==="widget";if(!t&&n){const s=M(this._columnHeadersView.getContent());return Rn.isFixedCellPinnedToRight(e,s,this.addWidgetPrefix.bind(this))}return t}_generatePointsByColumns(){var e;const t=(e=this._columnHeadersView)===null||e===void 0?void 0:e.hasStickyColumns();super._generatePointsByColumns(t)}_pointCreated(e,t,n){var s;const r=(s=this._columnHeadersView)===null||s===void 0?void 0:s.hasStickyColumns(),o=super._pointCreated(e,t,n),a=(n==null?void 0:n.length)??t.length;if(r&&a>0&&!o){const d=t[e.index-1],c=this._getNextColumnIndex(e.index-1),h=t[c];return Rn.noNeedToCreateResizingPoint(this._columnHeadersView,{point:e,column:d,nextColumn:h,cells:n},this.addWidgetPrefix.bind(this))}return o}},gpe=i=>class extends i{_generatePointsByColumns(e){var t;const n=(t=this._columnHeadersView)===null||t===void 0?void 0:t.hasStickyColumns(),{sourceLocation:s,sourceColumn:r,targetDraggingPanel:o}=e,a=s==="headers"&&(o==null?void 0:o.getName())==="headers";if(n&&a){const l=Wa(this._columnsController,r);switch(!0){case(r.fixed&&l===cn.Left):e.columnElements=Rn.getLeftFixedCells(e.columnElements,this.addWidgetPrefix.bind(this)),e.startColumnIndex=e.columnElements.eq(0).index();break;case(r.fixed&&l===cn.Right):e.columnElements=Rn.getRightFixedCells(e.columnElements,this.addWidgetPrefix.bind(this)),e.startColumnIndex=e.columnElements.eq(0).index();break;default:e.columnElements=Rn.getNonFixedAndStickyCells(e.columnElements,this.addWidgetPrefix.bind(this)),e.startColumnIndex=e.columnElements.eq(0).index()}}return super._generatePointsByColumns(e,n)}_pointCreated(e){let{point:t,columns:n,location:s,sourceColumn:r,cells:o}=e;const l=this._columnHeadersView.hasStickyColumns()&&s==="headers"&&(o==null?void 0:o.length)&&(!r.fixed||r.fixedPosition===cn.Sticky),d=super._pointCreated({point:t,columns:n,location:s,sourceColumn:r});return l&&!d?Rn.noNeedToCreateReorderingPoint(t,o,M(this._columnHeadersView.getContent()),this.addWidgetPrefix.bind(this)):d}},_pe=i=>class extends i{getOverlayContainerIfNeeded(e){const t=this._rowsView.hasStickyColumns(),n=Rn.isFixedCell(e,this.addWidgetPrefix.bind(this));if(t&&n)return e.closest(`.${this.addWidgetPrefix(Tn.stickyColumns)}`)}updateFocusOverlaySize(e,t){this._rowsView.hasStickyColumns()||super.updateFocusOverlaySize(e,t)}getFocusOverlaySize(e){if(this._rowsView.hasStickyColumns()){const n=en(e.get(0)),s=Rn.isLastCell(e),r=Rn.isFixedCell(e,this.addWidgetPrefix.bind(this));return{width:n.right-n.left+(s||r?0:1),height:n.bottom-n.top}}return super.getFocusOverlaySize(e)}getValidationMessageContainer(e){return this.getOverlayContainerIfNeeded(e)??super.getValidationMessageContainer(e)}getRevertButtonContainer(e){return this.getOverlayContainerIfNeeded(e)??super.getRevertButtonContainer(e)}getFocusOverlayContainer(e){return this.getOverlayContainerIfNeeded(e)??super.getFocusOverlayContainer(e)}overlayPositionedHandler(e,t){const n=this.getView("columnHeadersView"),s=n.hasStickyColumns();if(super.overlayPositionedHandler(e,t),s){const r=M(e.element).closest("td");if(!Rn.isFixedCell(r,this.addWidgetPrefix.bind(this))){const o=e.component.$wrapper(),a=e.component.$content(),l=Rn.isOutsideVisibleArea(a,M(n.getColumnElements()),M(n.getContent()),this.addWidgetPrefix.bind(this));o.css("zIndex",l?1:(this===null||this===void 0?void 0:this.getOverlayBaseZIndex())??0)}}}updateFocusOverlay(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!t){const n=Rn.isFixedCell(e,this.addWidgetPrefix.bind(this));this._$focusOverlay.toggleClass(Tn.focusedFixedElement,n);const s=sc(e),r=SN(e),o=ghe(e);(n||s||r||o)&&this._$focusOverlay.toggleClass(Tn.focusedFixedElement,!0)}super.updateFocusOverlay(e,t)}},vpe=i=>class extends i{resize(){const e=super.resize();return this._columnHeadersView.hasStickyColumns()&&this!==null&&this!==void 0&&this.hasResizeTimeout()&&this._rowsView.setStickyOffsets(),e}},xpe=i=>class extends i{getContainerBoundingRect(e){var t;if((t=this._columnHeadersView)===null||t===void 0?void 0:t.hasStickyColumns()){const s=M(this._columnHeadersView.getColumnElements());return Rn.getNonFixedAreaBoundingRect(s,e,this.addWidgetPrefix.bind(this))}return super.getContainerBoundingRect(e)}tabKeyHandler(e){var t,n;let{originalEvent:s,shift:r}=e;const o=(t=this._columnHeadersView)===null||t===void 0?void 0:t.hasStickyColumns(),a=(n=this.getView("rowsView"))===null||n===void 0?void 0:n.getScrollable();if(!o||!a)return;const l=M(s.target).closest("td"),d=Rn.getNextHeaderCell(l,r?"previous":"next");if(Rn.isFixedCell(d,this.addWidgetPrefix.bind(this)))return;d.length&&this.isOutsideVisibleArea(d,M(this._columnHeadersView.getContent()))&&this.scrollToNextCell(d)}},bpe={extenders:{views:{columnHeadersView:hpe,rowsView:ppe,footerView:fpe},controllers:{columnsResizer:mpe,draggingHeader:gpe,editorFactory:_pe,resizing:vpe,headersKeyboardNavigation:xpe}}};Ue.registerModule("stickyColumns",bpe);const ype="dx-master-detail-row",xo=function(i){let e=-1;return ie(i,(t,n)=>{if(n.command==="transparent")return e=t,!1}),e},VN=function(i,e,t){let n=0;if(i&&e&&t)for(let s=0;s<i.length;s++)i[s].command==="transparent"?n+=i[s].colspan:(e[n]<t[s]&&(e[n]=t[s]),n++);return e},cE=i=>class extends i{init(){super.init(),this._isFixedTableRendering=!1,this._isFixedColumns=!1}_createCol(e){return super._createCol(e).toggleClass("dx-col-fixed",!!(this._isFixedTableRendering&&(e.fixed||e.command&&e.command!=="transparent")))}isIndicesArray(e){return Array.isArray(e)&&e.length>0}_correctColumnIndicesForFixedColumns(e,t){var n;const s=t==null?void 0:t.columnIndices;if(!this.isIndicesArray(s))return;const r=xo(e),o=e[r].colspan,a=r+o,l=t==null||(n=t.items)===null||n===void 0?void 0:n.map(d=>{let{rowType:c}=d;return c});t.columnIndices=s.map((d,c)=>this.isIndicesArray(d)?l&&l[c]==="group"?[...d]:d.reduce((u,p)=>{switch(!0){case p<r:u.push(p);break;case p>=a:u.push(p-o+1)}return u},[]):d)}_partialUpdateFixedTable(e,t){const n=this._fixedTableElement,s=this._getRowElementsCore(n);n.children("colgroup").replaceWith(this._createColGroup(e));for(let o=0;o<t.length;o++)this._partialUpdateFixedRow(M(s[o]),e,t[o])}_partialUpdateFixedRow(e,t,n){const s=e.get(0).childNodes,r=xo(t),o=t[r],a=this._columnsController.getColumnIndexOffset();let l,d=a+1,{colspan:c}=o;if(e.hasClass(ype)){var h;s[0].setAttribute("colspan",(h=this._columnsController.getVisibleColumns())===null||h===void 0?void 0:h.length);return}if(e.hasClass("dx-group-row"))if(l=this._getGroupCellOptions({row:n,columns:this._columnsController.getVisibleColumns()}),n.summaryCells.length>0){const p=this._getAlignByColumnCellCount(l.colspan,{columns:this._columnsController.getVisibleColumns(),row:n,isFixed:!0});c=l.colspan-p}else c=l.colspan-Math.max(0,s.length-(l.columnIndex+2));for(let u=0;u<s.length;u++){const p=l?u===l.columnIndex+1:u===r;s[u].setAttribute("aria-colindex",d),p?(s[u].setAttribute("colspan",c),d+=c):d++}}_renderTable(e){let t;const n=this.getFixedColumns();this._isFixedColumns=this.isFixedColumns();const s=super._renderTable(e);if(this._isFixedColumns){var r;const a=e==null?void 0:e.change,l=this._getRowElements(this._fixedTableElement),d=(a==null?void 0:a.virtualColumnsScrolling)&&l.length===(a==null||(r=a.items)===null||r===void 0?void 0:r.length);if(this._isFixedTableRendering=!0,d&&this.option("scrolling.legacyMode")!==!0){var o;this._partialUpdateFixedTable(n,e==null||(o=e.change)===null||o===void 0?void 0:o.items),this._isFixedTableRendering=!1}else{const c=a==null?void 0:a.columnIndices;this._correctColumnIndicesForFixedColumns(n,a),t=this._createTable(n),this._renderRows(t,se({},e,{columns:n})),this._updateContent(t,a,!0),c&&(a.columnIndices=c),this._isFixedTableRendering=!1}}else this._fixedTableElement&&this._fixedTableElement.parent().remove(),this._fixedTableElement=null;return s}_renderRow(e,t){let n,{cells:s}=t.row;if(super._renderRow.apply(this,arguments),this._isFixedTableRendering&&s&&s.length){n=0;const r=t.row.cells||[];s=s.slice(),t.row.cells=s;for(let o=0;o<r.length;o++){if(r[o].column&&r[o].column.command==="transparent"){n=(r[o].column.colspan||1)-1;continue}s[o+n]=r[o]}}}_createCell(e){const t=this,{column:n}=e,s=n&&n.command,{rowType:r}=e,o=super._createCell.apply(t,arguments);let a,l,d;(t._isFixedTableRendering||r==="filter")&&(a=t.getFixedColumns(),d=xo(a),l=a[d-1]),t._isFixedTableRendering?s==="transparent"&&(o.addClass("dx-pointer-events-none").toggleClass("dx-first-cell",d===0||l&&l.command==="expand").toggleClass("dx-last-cell",a.length&&d===a.length-1),r!=="freeSpace"&&xe.setEmptyText(o)):r==="filter"&&o.toggleClass("dx-first-cell",e.columnIndex===d);const c=t.option("rowAlternationEnabled")&&e.isAltRow,h=t.option("selection.mode")==="multiple"&&e.columnIndex===0&&e.rowType==="header";return gn.mozilla&&e.column.fixed&&e.rowType!=="group"&&!c&&!h&&o.addClass("dx-col-fixed"),o}_wrapTableInScrollContainer(e,t){const n=super._wrapTableInScrollContainer.apply(this,arguments);return(this._isFixedTableRendering||t)&&n.addClass(this.addWidgetPrefix("content-fixed")),n}_renderCellContent(e,t){let n;const{column:s}=t,r=this._isFixedTableRendering,o=t.rowType==="group"&&G(s.groupIndex);if(r&&o&&!s.command&&!s.groupCellTemplate&&e.css("pointerEvents","none"),!r&&this._isFixedColumns){if(n=s.fixed||s.command&&s.fixed!==!1,o&&(n=!1,t.row.summaryCells&&t.row.summaryCells.length)){var a;const l=this._columnsController.getVisibleColumns(),d=((a=this._getAlignByColumnCellCount)===null||a===void 0?void 0:a.call(this,s.colspan,{columns:l,row:t.row,isFixed:!0}))??0;if(d>0){const c=xo(this._columnsController.getFixedColumns());n=l.length-d<c}}if(n){if(s.command&&s.type!=="buttons"||t.rowType==="group"){e.html("&nbsp;").addClass(s.cssClass);return}e.addClass("dx-hidden-cell")}}s.command!=="transparent"&&super._renderCellContent.apply(this,arguments)}getContent(e){var t;return e?(t=this._fixedTableElement)===null||t===void 0?void 0:t.parent():super.getContent.apply(this,arguments)}_getCellElementsCore(e){const t=super._getCellElementsCore.apply(this,arguments),n=t==null?void 0:t.parent().hasClass("dx-group-row"),s=this.name==="columnHeadersView"?e:void 0;if(this._fixedTableElement&&t){const r=this.getFixedColumns(s),o=this._getRowElements(this._fixedTableElement).eq(e).children("td");ie(o,(a,l)=>{if(n)t[a]&&l.style.visibility!=="hidden"&&(t[a]=l);else{const d=r[a];if(d)if(d.command==="transparent")o.eq(a).hasClass("dx-master-detail-cell")&&(t[a]=l||t[a]);else{const c=this._columnsController.getVisibleIndexByColumn(d,s);t[c]=l||t[c]}}})}return t}getColumnWidths(e,t){const n=super.getColumnWidths(e,t),s=this.getFixedColumns(),r=this._fixedTableElement&&n.length?super.getColumnWidths(this._fixedTableElement):void 0;return VN(s,n,r)}getTableElement(e){return e=this._isFixedTableRendering||e,e?this._fixedTableElement:super.getTableElement()}setTableElement(e,t){this._isFixedTableRendering||t?this._fixedTableElement=e.addClass("dx-pointer-events-none"):super.setTableElement(e)}getColumns(e){const t=this.getTableElement();return this._isFixedTableRendering?this.getFixedColumns(e):super.getColumns(e,t)}getRowIndex(e){const t=this._fixedTableElement;return t&&t.find(e).length?this._getRowElements(t).index(e):super.getRowIndex(e)}getTableElements(){let e=super.getTableElements.apply(this,arguments);return this._fixedTableElement&&(e=M([e.get(0),this._fixedTableElement.get(0)])),e}getFixedColumns(e){return this._columnsController.getFixedColumns(e)}getFixedColumnsOffset(){let e={left:0,right:0},t;if(this._fixedTableElement){t=this.getTransparentColumnElement();const n=t.position();e={left:n.left,right:kt(this.element(),!0)-(kt(t,!0)+n.left)}}return e}getTransparentColumnElement(){return this._fixedTableElement&&this._fixedTableElement.find(".dx-pointer-events-none").first()}getFixedTableElement(){return this._fixedTableElement}_resizeCore(){super._resizeCore(),this.synchronizeRows()}setColumnWidths(e){var t;const{widths:n}=e,s=this._columnsController.getVisibleColumns(),r=(n==null?void 0:n.length)&&s.some(d=>G(d.visibleWidth)),o=(t=e.optionNames)===null||t===void 0?void 0:t.width;if(super.setColumnWidths(e),this._fixedTableElement){const h=(n==null?void 0:n.some(u=>u==="auto"||!G(u)))&&(!r||!this.isScrollbarVisible(!0))?s:this.getFixedColumns();this.setFixedTableColumnWidths(h,n)}const a=this.option("wordWrapEnabled");(r||o&&a)&&this.synchronizeRows()}setFixedTableColumnWidths(e,t){if(!this._fixedTableElement||!t)return;const n=this._fixedTableElement.children("colgroup").children("col");n.toArray().forEach(r=>r.removeAttribute("style"));let s=0;e.forEach(r=>{if(r.colspan){s+=r.colspan;return}const o=p8(t[s]);G(o)&&by(n.eq(s),o),s+=1})}_getClientHeight(e){const t=e.getBoundingClientRect&&en(e);return t&&t.height?t.height:e.clientHeight}synchronizeRows(){const e=[],t=[];let n,s,r,o;this.waitAsyncTemplates(!0).done(()=>{if(this._isFixedColumns&&this._tableElement&&this._fixedTableElement){const a=this._getClientHeight(this._tableElement.get(0)),l=this._getClientHeight(this._fixedTableElement.get(0));if(s=this._getRowElements(this._tableElement),r=this._getRowElements(this._fixedTableElement),o=this._findContentElement(),a!==l){for(o&&o.css("height",a),s.css("height",""),r.css("height",""),n=0;n<s.length;n++)e.push(this._getClientHeight(s.get(n))),t.push(this._getClientHeight(r.get(n)));for(n=0;n<s.length;n++){const d=e[n],c=t[n];d>c?r.eq(n).css("height",d):d<c&&s.eq(n).css("height",c)}o&&o.css("height","")}}})}setScrollerSpacing(e,t){const n=this.option("rtlEnabled");super.setScrollerSpacing(e),this.element().children(`.${this.addWidgetPrefix("content-fixed")}`).css({paddingLeft:n?e:"",paddingRight:n?"":e})}isFixedColumns(){const e=this.getFixedColumns();return this.option("columnFixing.legacyMode")===!0&&!!e.length}},Cpe=i=>class extends cE(i){_getRowVisibleColumns(e){return this._isFixedTableRendering?this.getFixedColumns(e):super._getRowVisibleColumns(e)}getFixedColumnElements(e){const t=this;if(!this._isFixedColumns)return;if(G(e))return this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(e).children();const n=t.getColumnElements(),s=t.getTransparentColumnElement();if(n&&s&&s.length){var r;const o=xo(t.getFixedColumns());[].splice.apply(n,[o,(r=s.get(0))===null||r===void 0?void 0:r.colSpan,s.get(0)])}return n}getColumnWidths(e,t){const n=this;let s;const r=super.getColumnWidths(e,t),o=n.getFixedColumnElements(),a=n.getFixedColumns();return n._fixedTableElement&&(o&&o.length?s=n._getWidths(o):s=super.getColumnWidths(n._fixedTableElement)),VN(a,r,s)}},wpe=i=>class extends cE(i){dispose(){super.dispose.apply(this,arguments),clearTimeout(this._fixedScrollTimeout)}optionChanged(e){super.optionChanged(e),e.name==="hoverStateEnabled"&&this._isFixedColumns&&(e.value?this._attachHoverEvents():this._detachHoverEvents())}_detachHoverEvents(){const e=this.element();this._fixedTableElement&&this._tableElement&&Y.off(e,"mouseover mouseout",".dx-data-row")}_attachHoverEvents(){this._fixedTableElement&&this._tableElement&&Y.on(this.element(),"mouseover mouseout",".dx-data-row",this.createAction(e=>{const{event:t}=e,n=this.getRowIndex(M(t.target).closest(".dx-row")),s=t.type==="mouseover";n>=0&&(this._tableElement&&this._getRowElements(this._tableElement).eq(n).toggleClass("dx-state-hover",s),this._fixedTableElement&&this._getRowElements(this._fixedTableElement).eq(n).toggleClass("dx-state-hover",s))}))}_getScrollDelay(){var e;return((e=this._resizingController)===null||e===void 0?void 0:e.hasResizeTimeout())?this.option("scrolling.updateTimeout"):gn.mozilla?60:0}_findContentElement(e){let t,n;const s=this.addWidgetPrefix("content"),r=this.element();if(e=this._isFixedTableRendering||e,r&&e){t=r.children(`.${s}`);const o=this.getScrollable();return!t.length&&o&&(t=M("<div>").addClass(s),Y.on(t,"scroll",a=>{const{target:l}=a,d=this._getScrollDelay();clearTimeout(this._fixedScrollTimeout),this._fixedScrollTimeout=setTimeout(()=>{n=M(l).scrollTop(),o.scrollTo({y:n})},d)}),Y.on(t,Ip,a=>{const l=M(a.target).closest(".dx-scrollable");let d=!1;if(o&&o.$element().is(l))d=!0;else{const c=l.length&&ys.getInstance(l.get(0)),h=c&&c.scrollHeight()-c.clientHeight()>0;d=c&&!h}if(d){n=o.scrollTop(),o.scrollTo({y:n-a.delta});const c=o.scrollTop()+o.clientHeight(),h=o.scrollHeight()+this.getScrollbarWidth();if(o.scrollTop()>0&&c<h)return!1}}),t.appendTo(r)),t}return super._findContentElement()}_updateScrollable(){super._updateScrollable();const e=this.getScrollable();if(e!=null&&e._disposed)return;const t=e&&e.scrollOffset().top;this._updateFixedTablePosition(t)}_renderContent(e,t,n){return this._isFixedTableRendering||n?e.empty().addClass(`${this.addWidgetPrefix("content")} ${this.addWidgetPrefix("content-fixed")}`).append(t):super._renderContent(e,t)}_getGroupCellOptions(e){return this._isFixedTableRendering?super._getGroupCellOptions(se({},e,{columns:this._columnsController.getVisibleColumns()})):super._getGroupCellOptions(e)}_renderGroupedCells(e,t){return super._renderGroupedCells(e,se({},t,{columns:this._columnsController.getVisibleColumns()}))}_renderGroupSummaryCells(e,t){this._isFixedTableRendering?super._renderGroupSummaryCells(e,se({},t,{columns:this._columnsController.getVisibleColumns()})):super._renderGroupSummaryCells(e,t)}_hasAlignByColumnSummaryItems(e,t){const n=super._hasAlignByColumnSummaryItems.apply(this,arguments),s=t.columns[e];return t.isFixed?s.fixed&&(n||s.fixedPosition==="right"):n&&(!this._isFixedColumns||!s.fixed)}_renderGroupSummaryCellsCore(e,t,n,s){let r;if(this._isFixedTableRendering){t.isFixed=!0,r=this._getAlignByColumnCellCount(n,t),t.isFixed=!1;const o=t.columns.length-r;t=se({},t,{columns:this.getFixedColumns()});const a=xo(t.columns);o<a?(r-=t.columns[a].colspan-1||0,n-=t.columns[a].colspan-1||0):s>0&&e.css("visibility","hidden"),s=r}super._renderGroupSummaryCellsCore(e,t,n,s)}_getSummaryCellIndex(e,t){if(this._isFixedTableRendering){const n=xo(t);return e>n&&(e+=t[n].colspan-1),e}return super._getSummaryCellIndex.apply(this,arguments)}_renderCore(e){this._detachHoverEvents();const t=super._renderCore(e),n=this._isFixedColumns;return this.element().toggleClass("dx-fixed-columns",n),this.option("hoverStateEnabled")&&n&&this._attachHoverEvents(),t}setAriaOwns(e,t,n){if(n){var s;const r=this.addWidgetPrefix("content-fixed"),o=(s=this.element())===null||s===void 0?void 0:s.children(`.${r}`),a=this.getFixedTableElement();o.length&&a!==null&&a!==void 0&&a.length&&this.setAria("owns",`${e??""} ${a.attr("id")??""} ${t??""}`.trim(),o)}else super.setAriaOwns.apply(this,arguments)}toggleDraggableColumnClass(e,t){if(super.toggleDraggableColumnClass(e,t),this.isFixedColumns()){const n=this._getRowElements(this._fixedTableElement);this._toggleDraggableSourceColumnClass(n,this.getFixedColumns(),e,t)}}getCellIndex(e){const t=this._fixedTableElement;let n=0;if(t&&e.is("td")&&e.closest(t).length){const s=this.getFixedColumns();return ie(s,(r,o)=>{if(r===e[0].cellIndex)return!1;if(o.colspan){n+=o.colspan;return}n++}),n}return super.getCellIndex.apply(this,arguments)}_updateFixedTablePosition(e,t){if(this._fixedTableElement&&this._tableElement){let n;this._fixedTableElement.parent().scrollTop(e),t&&this._editorFactoryController&&(n=this._editorFactoryController.focus(),n&&this._editorFactoryController.focus(n))}}setScrollerSpacing(e,t){const n=this,s={marginBottom:0},r=n.element().children(`.${this.addWidgetPrefix("content-fixed")}`);r.length&&n._fixedTableElement&&(r.css(s),n._fixedTableElement.css(s),s[n.option("rtlEnabled")?"marginLeft":"marginRight"]=e,s.marginBottom=t,(n._scrollable&&n._scrollable.option("useNative")?r:n._fixedTableElement).css(s))}_getElasticScrollTop(e){let t=0;if(e.scrollOffset.top<0)t=-e.scrollOffset.top;else if(e.reachedBottom){const n=M(e.component.content()),s=M(e.component.container()),r=Math.max(n.get(0).clientHeight-s.get(0).clientHeight,0);t=Math.min(r-e.scrollOffset.top,0)}return Math.floor(t)}_applyElasticScrolling(e){if(this._fixedTableElement){const t=this._getElasticScrollTop(e);Math.ceil(t)!==0?ui(this._fixedTableElement,{top:t}):this._fixedTableElement.css("transform","")}}_handleScroll(e){this._updateFixedTablePosition(e.scrollOffset.top,!0),this._applyElasticScrolling(e),super._handleScroll(e)}_updateContentPosition(e){super._updateContentPosition.apply(this,arguments),e||this._updateFixedTablePosition(this._scrollTop)}_afterRowPrepared(e){this._isFixedTableRendering||super._afterRowPrepared(e)}_scrollToElement(e,t){const n=this.isFixedColumns()?this.getFixedColumnsOffset():t;super._scrollToElement(e,n)}},Spe=i=>class extends cE(i){},Epe=function(i,e,t){const n=xo(e),s=i.length-e.length;return ie(t,(r,o)=>{o.index>n&&(o.columnIndex+=s,o.index+=s)}),t},Ipe=i=>class extends i{_generatePointsByColumns(e,t){const n=e.columns,{targetDraggingPanel:s}=e;if(s&&s.getName()==="headers"&&s.isFixedColumns()&&e.sourceColumn.fixed){e.rowIndex||(e.columnElements=s.getFixedColumnElements(0)),e.columns=s.getFixedColumns(e.rowIndex);const r=super._generatePointsByColumns(e,t);return Epe(n,e.columns,r),r}return super._generatePointsByColumns(e,t)}_pointCreated(e){let{point:t,columns:n,location:s,sourceColumn:r,cells:o}=e;const a=super._pointCreated({point:t,columns:n,location:s,sourceColumn:r,cells:o}),l=n[t.columnIndex],d=this._columnHeadersView.getTransparentColumnElement();if(!a&&s==="headers"&&d&&d.length){const c=en(d.get(0));return r&&r.fixed?r.fixedPosition==="right"?t.x<c.right:t.x>c.left:l&&l.fixed&&l.fixedPosition!=="right"?!0:t.x<c.left||t.x>c.right}return a}},Tpe=i=>class extends i{_generatePointsByColumns(e){const t=this,n=t._columnsController,s=n&&t._columnsController.getVisibleColumns(),r=n&&t._columnsController.getFixedColumns(),o=xo(r),a=s.length-r.length,l=t._columnHeadersView.getFixedColumnElements();super._generatePointsByColumns(e),l&&l.length>0&&(t._pointsByFixedColumns=xe.getPointsByColumns(l,d=>(d.index>o&&(d.columnIndex+=a,d.index+=a),t._pointCreated(d,s))))}_getTargetPoint(e,t,n){const s=this._columnHeadersView.getTransparentColumnElement();if(s&&s.length){const r=en(s.get(0));if(t<=r.left||t>=r.right)return super._getTargetPoint(this._pointsByFixedColumns,t,n)}return super._getTargetPoint(e,t,n)}},Dpe=i=>class extends i{_setAriaOwns(){var e,t,n;super._setAriaOwns.apply(this,arguments);const s=(e=this._columnHeadersView)===null||e===void 0?void 0:e.getFixedTableElement(),r=(t=this._footerView)===null||t===void 0?void 0:t.getFixedTableElement();(n=this._rowsView)===null||n===void 0||n.setAriaOwns(s==null?void 0:s.attr("id"),r==null?void 0:r.attr("id"),!0)}},Ape=i=>class extends i{_toggleInertAttr(e){var t;const n=(t=this._rowsView)===null||t===void 0?void 0:t.getFixedContentElement();e?n==null||n.attr("inert",!0):n==null||n.removeAttr("inert")}},kpe=i=>class extends i{getValidationMessageContainer(e){return this._rowsView.isFixedColumns()?this._rowsView.element():super.getValidationMessageContainer(e)}},Ope={defaultOptions:()=>({columnFixing:{enabled:!1,legacyMode:!1,texts:{fix:ue.format("dxDataGrid-columnFixingFix"),unfix:ue.format("dxDataGrid-columnFixingUnfix"),leftPosition:ue.format("dxDataGrid-columnFixingLeftPosition"),rightPosition:ue.format("dxDataGrid-columnFixingRightPosition"),stickyPosition:ue.format("dxDataGrid-columnFixingStickyPosition")},icons:{fix:"fix-column",unfix:"unfix-column",leftPosition:"fix-column-left",rightPosition:"fix-column-right",stickyPosition:"stick-column"}}}),extenders:{views:{columnHeadersView:Cpe,rowsView:wpe,footerView:Spe},controllers:{draggingHeader:Ipe,columnsResizer:Tpe,resizing:Dpe,keyboardNavigation:Ape,editorFactory:kpe}}};Ue.registerModule("columnFixing",Ope);const Rpe=["ai"];function Ppe(i){const e=((i==null?void 0:i.groupIndex)??-1)>=0;return i.visible===!0&&(!G(i.type)||Rpe.includes(i.type))&&!i.fixed&&!e}function Mpe(i){return i.filter(Ppe)}const jC="rowsView",Fpe="footerView",tb=["columnHeadersView",jC,Fpe],Bpe="dxDataGridAdaptivity",LN="dxDataGrid-ariaAdaptiveExpand",Npe="dxDataGrid-ariaAdaptiveCollapse",Vpe="scrolling.legacyMode";function im(i,e){return i._columnsController.getColumnId(e)}function Lpe(i){return i.find("td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])")}function $pe(i,e){let t;const n=M(i),s=e.component.getController("adaptiveColumns");e.rowType==="data"?(t=M("<span>").addClass(s.addWidgetPrefix("adaptive-more")),Y.on(t,be(Nt,Bpe),s.createAction(()=>{s.toggleExpandAdaptiveDetailRow(e.key)})),t.appendTo(n)):xe.setEmptyText(n)}function zC(i){var e;const t=(e=i.data)===null||e===void 0?void 0:e.$nextCell;Y.off(t,"focus",zC),Y.trigger(t,"dxclick")}class Hpe extends fn.ViewController{init(){this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._editingController=this.getController("editing"),this._keyboardNavigationController=this.getController("keyboardNavigation"),this._rowsView=this.getView("rowsView"),this._columnsController.addCommandColumn({type:"adaptive",command:"adaptive",visible:!0,adaptiveHidden:!0,cssClass:"dx-command-adaptive",alignment:"center",width:"auto",cellTemplate:$pe,fixedPosition:"right"}),this._columnsController.columnsChanged.add(()=>{const e=!!this.updateHidingQueue(this._columnsController.getColumns()).length;this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e,!0)}),this._hidingColumnsQueue=[],this._hiddenColumns=[],this.createAction("onAdaptiveDetailRowPreparing"),super.init()}optionChanged(e){e.name==="columnHidingEnabled"&&this._columnsController.columnOption("command:adaptive","adaptiveHidden",!e.value),super.optionChanged(e)}publicMethods(){return["isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow"]}_getValueFromCellOptions(e,t){return t.row.values[e]}_isRowEditMode(){return this._getEditMode()==="row"}_isItemModified(e,t){const n=this._columnsController.getVisibleIndex(e.column.index),s=this._dataController.getRowIndexByKey(t.key),r=this._dataController.items()[s+1];return r&&r.modifiedValues&&G(r.modifiedValues[n])}_renderFormViewTemplate(e,t,n){const s=this,{column:r}=e,o=s.createAction(()=>{s._editingController.isEditing()&&Y.trigger(n,Nt)}),a=t.row.data,l=s._columnsController.getVisibleIndex(r.index),d=r.type===bs?this._getValueFromCellOptions(l,t):r.calculateCellValue(a),c=xe.getDisplayValue(r,d,a,t.rowType),h=xe.formatValue(c,r),u=this._editingController.isCellOrBatchEditMode(),p=s._rowsView;if(r.allowEditing&&this._keyboardNavigationController.isKeyboardEnabled()&&(n.attr("tabIndex",s.option("tabIndex")),u&&(Y.off(n,"focus",o),Y.on(n,"focus",o))),r.cellTemplate){const f=se({},t,{value:d,displayValue:c,text:h,column:r});p.renderTemplate(n,r.cellTemplate,f,Zc(n)).done(()=>{p._cellPrepared(n,t)})}else{const f=n.get(0);r.encodeHtml?f.textContent=h:f.innerHTML=h,n.addClass("dx-adaptive-item-text"),(!G(h)||h==="")&&n.html("&nbsp;"),s._isRowEditMode()||s._isItemModified(e,t)&&n.addClass("dx-item-modified"),p._cellPrepared(n,t)}}_getTemplate(e,t,n){const s=this,{column:r}=e,o=this._editingController;return function(a,l){const d=M(l),c=s._columnsController.getVisibleIndex(r.index),h=se({},t),u=function(){const p=s._isItemEdited(e);h.value=s._getValueFromCellOptions(c,t),p||r.showEditorAlways?o.renderFormEditorTemplate(h,e,a,d,!p):(h.column=r,h.columnIndex=c,s._renderFormViewTemplate(e,h,d))};if(u(),h.watch){const p=h.watch(()=>({isItemEdited:s._isItemEdited(e),value:s._getValueFromCellOptions(c,t)}),()=>{d.contents().remove(),d.removeClass("dx-adaptive-item-text"),u()});Y.on(d,$s,p)}}}_isVisibleColumnsValid(e){return!(e<2||e.length-function(){let t=0;for(let n=0;n<e.length;n++)e[n].command&&t++;return t}()<=1)}_calculatePercentWidths(e,t){const n=this;let s=0;return t.forEach((r,o)=>{e[o]!=="adaptiveHidden"&&(s+=n._getItemPercentWidth(r))}),s}_isPercentWidth(e){return Ke(e)&&e.endsWith("%")}_isColumnHidden(e){return this._hiddenColumns.filter(t=>t.index===e.index).length>0}_getAverageColumnsWidth(e,t,n){const s=this;let r=0,o=0;return t.forEach(a=>{if(!s._isColumnHidden(a)){const{width:l}=a;G(l)&&!isNaN(parseFloat(l))?r+=s._isPercentWidth(l)?s._calculatePercentWidth({visibleIndex:a.visibleIndex,columnsCount:t.length,columnsCanFit:n,bestFitWidth:a.bestFitWidth,columnWidth:l,containerWidth:e}):parseFloat(l):o++}}),(e-r)/o}_calculateColumnWidth(e,t,n,s){const r=im(this,e),o=this._columnsController.columnOption(r,"width"),a=this._columnsController.columnOption(r,"bestFitWidth"),l=n.length;let d;if(o&&o!=="auto")if(this._isPercentWidth(o))d=this._calculatePercentWidth({visibleIndex:e.visibleIndex,columnsCount:l,columnsCanFit:s,bestFitWidth:a,columnWidth:o,containerWidth:t});else return parseFloat(o);else d=this.option("columnAutoWidth")||e.command?a:this._getAverageColumnsWidth(t,n,s);return d}_calculatePercentWidth(e){const t=e.visibleIndex<e.columnsCount-1&&e.columnsCanFit,n=e.containerWidth*parseFloat(e.columnWidth)/100,s=e.columnsCanFit&&n<e.bestFitWidth?e.bestFitWidth:n;return t?e.containerWidth*parseFloat(e.columnWidth)/100:s}_getNotTruncatedColumnWidth(e,t,n,s){const r=im(this,e),o=this._columnsController.columnOption(r,"width"),a=this._columnsController.columnOption(r,"bestFitWidth");if(o&&o!=="auto"&&!this._isPercentWidth(o))return parseFloat(o);const l=this._calculateColumnWidth(e,t,n,s);return l<a?null:l}_getItemPercentWidth(e){let t=0;return e.width&&this._isPercentWidth(e.width)&&(t=parseFloat(e.width)),t}_getCommandColumnsWidth(){const e=this,t=e._columnsController.getVisibleColumns();let n=0;return ie(t,(s,r)=>{(r.index<0||r.command)&&(n+=e._columnsController.columnOption(im(e,r),"bestFitWidth")||0)}),n}_isItemEdited(e){if(this.isFormOrPopupEditMode())return!1;if(this._isRowEditMode()){const t=this.option("editing.editRowKey");if(dn(t,this._dataController.adaptiveExpandedKey()))return!0}else{const t=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,n=this._columnsController.getVisibleIndex(e.column.index);return this._editingController.isEditCell(t,n)}}_getFormItemsByHiddenColumns(e){const t=[];return ie(e,(n,s)=>{t.push({column:s,name:s.name,dataField:s.dataField,visibleIndex:s.visibleIndex})}),t}_getAdaptiveColumnVisibleIndex(e){for(let t=0;t<e.length;t++)if(e[t].command==="adaptive")return t}_hideAdaptiveColumn(e,t){const n=this._getAdaptiveColumnVisibleIndex(t);G(n)&&(e[n]="adaptiveHidden",this._hideVisibleColumn({isCommandColumn:!0,visibleIndex:n}))}_showHiddenCellsInView(e){let{$cells:t,isCommandColumn:n}=e,s=this.addWidgetPrefix("hidden-column");n?(s="dx-command-adaptive-hidden",t.attr({tabIndex:0,"aria-hidden":null}).removeClass(s)):t.removeClass(s)}_showHiddenColumns(){for(let e=0;e<tb.length;e++){const t=this.getView(tb[e]);if(t&&t.isVisible()&&t.element()){const n=t.name,s=t.element().find(".dx-command-adaptive-hidden");this._showHiddenCellsInView({viewName:n,$cells:s,isCommandColumn:!0});const r=t.element().find(`.${this.addWidgetPrefix("hidden-column")}`);this._showHiddenCellsInView({viewName:n,$cells:r})}}}_toggleGroupAdaptiveRowVisibility(e){if(!(this.hasHiddenColumns()||this.getHidingColumnsQueue().length>0))return;const n=this.getView(jC),s=this._dataController.items();!s||s.length===0||s.forEach((r,o)=>{r.rowType==="detailAdaptive"&&M(n.getRowElement(o)).css("display",e?"none":"")})}_isCellValid(e){return e&&e.length&&!e.hasClass("dx-master-detail-cell")&&!e.hasClass("dx-group-cell")}_hideVisibleColumn(e){let{isCommandColumn:t,visibleIndex:n}=e;const s=this;tb.forEach(r=>{const o=s.getView(r);o&&s._hideVisibleColumnInView({view:o,isCommandColumn:t,visibleIndex:n})})}_hideVisibleColumnInView(e){let{view:t,isCommandColumn:n,visibleIndex:s}=e;const r=t.name;let o;const a=this._columnsController.getVisibleColumns()[s],l=this._editingController&&this._editingController.getEditFormRowIndex();if(t&&t.isVisible()&&a){const d=t.getRowsCount(),c=t._getRowElements();for(let h=0;h<d;h++)if(!(h===l&&r===jC&&this.option("editing.mode")!=="popup")){const p=r==="columnHeadersView"?this._columnsController.getVisibleIndex(a.index,h):s;if(p>=0){const f=c.eq(h);o=this._findCellElementInRow(f,p),this._isCellValid(o)&&this._hideVisibleCellInView({viewName:r,isCommandColumn:n,$cell:o})}}}}_findCellElementInRow(e,t){const n=e.children();let s=t,r=!1;if(e.hasClass("dx-group-row")){const a=e.find(".dx-group-cell"),l=a.attr("colspan");if(a.length&&G(l)){const d=parseInt(l),c=a.index()+d-1;t>c?s=t-d+1:r=!0}}return r?void 0:n.eq(s)}_hideVisibleCellInView(e){let{$cell:t,isCommandColumn:n}=e;const s=n?"dx-command-adaptive-hidden":this.addWidgetPrefix("hidden-column");t.attr({tabIndex:-1,"aria-hidden":!0}).addClass(s)}_getEditMode(){return this._editingController.getEditMode()}isFormOrPopupEditMode(){const e=this._getEditMode();return e==="form"||e==="popup"}hideRedundantColumns(e,t,n){const s=this;if(this._hiddenColumns=[],s._isVisibleColumnsValid(t)&&n.length){let r=0;const o=s.component.$element();let a=Xe(o)-s._getCommandColumnsWidth();const l=(function(){return t.filter(f=>!f.command&&this._hiddenColumns.filter(g=>g.index===f.index).length===0)}).bind(this);let d=l();const c=d.length;let h,u,p;do{p=!1,r=0;const f=s._calculatePercentWidths(e,t),g=f<100&&f!==0;for(h=0;h<t.length;h++){const m=t[h];let v=s._getNotTruncatedColumnWidth(m,a,d,g);const _=im(s,m),x=s._columnsController.columnOption(_,"width"),y=s._columnsController.columnOption(_,"minWidth"),T=s._columnsController.columnOption(_,"bestFitWidth");if(e[h]==="adaptiveHidden"){u=!0;continue}if(!v&&!m.command&&!m.fixed){p=!0;break}(!x||x==="auto")&&(v=Math.max(T||0,y||0)),(m.command!=="adaptive"||u)&&(r+=v)}if(p=p||r>Xe(o),p){const m=n.pop(),v=s._columnsController.getVisibleIndex(m.index);a+=s._calculateColumnWidth(m,a,d,g),s._hideVisibleColumn({visibleIndex:v}),e[v]="adaptiveHidden",this._hiddenColumns.push(m),d=l()}}while(p&&d.length>1&&n.length);c===d.length&&s._hideAdaptiveColumn(e,t)}else s._hideAdaptiveColumn(e,t)}getAdaptiveDetailItems(){return this._$itemContents}getItemContentByColumnIndex(e){let t;for(let n=0;n<this._$itemContents.length;n++){t=this._$itemContents.eq(n);const s=t.data("dx-form-item");if(s&&s.column&&this._columnsController.getVisibleIndex(s.column.index)===e)return t}}toggleExpandAdaptiveDetailRow(e,t){this.isFormOrPopupEditMode()&&this._editingController.isEditing()||this._dataController.toggleExpandAdaptiveDetailRow(e,t)}createFormByHiddenColumns(e,t){const n=this,s=M(e),r={items:n._getFormItemsByHiddenColumns(n._hiddenColumns),formID:`dx-${new Xt}`},o=xs()?{colCount:2}:{};this.executeAction("onAdaptiveDetailRowPreparing",{formOptions:r}),n._$itemContents=null,n._form=n._createComponent(M("<div>").appendTo(s),JS,se(o,r,{customizeItem(a){const l=a.column||n._columnsController.columnOption(a.name||a.dataField);l&&(a.label=a.label||{},a.label.text=a.label.text||l.caption,a.column=l,a.template=n._getTemplate(a,t,n.updateForm.bind(n))),r.customizeItem&&r.customizeItem.call(this,a)},onContentReady(a){r.onContentReady&&r.onContentReady.call(this,a),n._$itemContents=s.find(".dx-field-item-content")}}))}hasAdaptiveDetailRowExpanded(){return G(this._dataController.adaptiveExpandedKey())}updateForm(e){this.hasAdaptiveDetailRowExpanded()&&this._form&&G(this._form._contentReadyAction)&&(e&&e.length?this._form.option("items",this._getFormItemsByHiddenColumns(e)):this._form.repaint())}updateHidingQueue(e){const t=this,n=Mpe(e);let s,r;if(t._hidingColumnsQueue=[],t.option("allowColumnResizing")&&t.option("columnResizingMode")==="widget")return t._hidingColumnsQueue;for(r=0;r<n.length;r++){const o=n[r];G(o.hidingPriority)&&o.hidingPriority>=0&&(s=!0,t._hidingColumnsQueue[o.hidingPriority]=o)}if(s)t._hidingColumnsQueue.reverse();else if(t.option("columnHidingEnabled"))for(r=0;r<n.length;r++){const o=t._columnsController.getVisibleIndex(n[r].index);t._hidingColumnsQueue[o]=n[r]}return t._hidingColumnsQueue=t._hidingColumnsQueue.filter(Object),t._hidingColumnsQueue}getHiddenColumns(){return this._hiddenColumns}hasHiddenColumns(){return this._hiddenColumns.length>0}getHidingColumnsQueue(){return this._hidingColumnsQueue}isAdaptiveDetailRowExpanded(e){const t=this._dataController;return t.adaptiveExpandedKey()&&dn(t.adaptiveExpandedKey(),e)}expandAdaptiveDetailRow(e){this.hasAdaptiveDetailRowExpanded()||this.toggleExpandAdaptiveDetailRow(e)}collapseAdaptiveDetailRow(){this.hasAdaptiveDetailRowExpanded()&&this.toggleExpandAdaptiveDetailRow()}updateCommandAdaptiveAriaLabel(e,t){const n=this._dataController.getRowIndexByKey(e);if(n===-1)return;const s=M(this.component.getRowElement(n));this.setCommandAdaptiveAriaLabel(s,t)}setCommandAdaptiveAriaLabel(e,t){e.find(".dx-command-adaptive").attr("aria-label",ue.format(t))}}const jpe=i=>class extends i{_isCellValid(e,t){return super._isCellValid(e,t)&&!e.hasClass(this.addWidgetPrefix("hidden-column"))&&!e.hasClass("dx-command-adaptive-hidden")}_processNextCellInMasterDetail(e,t){super._processNextCellInMasterDetail(e,t);const n=this._editingController.isCellOrBatchEditMode();this._editingController.isEditing()&&e&&n&&!this._isInsideEditForm(e)&&(Y.off(e,"focus",zC),Y.on(e,"focus",{$nextCell:e},zC),Y.trigger(t,"focus"))}isFocusableColumn(e){return super.isFocusableColumn(e)&&e.visibleWidth!=="adaptiveHidden"}_isCellElement(e){return super._isCellElement(e)||e.hasClass("dx-adaptive-item-text")}},zpe=i=>class extends i{_getCellTemplate(e){const t=this,{column:n}=e;return e.rowType==="detailAdaptive"&&n.command==="detail"?function(s,r){t._adaptiveColumnsController.createFormByHiddenColumns(M(s),r)}:super._getCellTemplate(e)}_createRow(e){const t=super._createRow.apply(this,arguments);return e&&e.rowType==="detailAdaptive"&&e.key===this._dataController.adaptiveExpandedKey()&&t.addClass("dx-adaptive-detail-row"),t}_renderCells(e,t){super._renderCells(e,t);const n=this._adaptiveColumnsController,s=n.getHidingColumnsQueue().length,r=n.getHiddenColumns().length;s&&!r&&Lpe(e).last().addClass("dx-last-data-cell"),t.row.rowType==="data"&&n.setCommandAdaptiveAriaLabel(e,LN)}_getColumnIndexByElementCore(e){const t=e.closest(".dx-field-item-content");if(t.length&&t.closest(this.component.$element()).length){const n=t.length?t.first().data("dx-form-item"):null;return n&&n.column&&this._columnsController.getVisibleIndex(n.column.index)}return super._getColumnIndexByElementCore(e)}_cellPrepared(e,t){super._cellPrepared.apply(this,arguments),t.row.rowType!=="detailAdaptive"&&t.column.visibleWidth==="adaptiveHidden"&&e.addClass(this.addWidgetPrefix("hidden-column"))}getCell(e,t){const n=this._dataController.items()[e==null?void 0:e.rowIndex];if((n==null?void 0:n.rowType)==="detailAdaptive"){const s=this._adaptiveColumnsController.getAdaptiveDetailItems();return super.getCell(e,t,s)}return super.getCell.apply(this,arguments)}_getCellElement(e,t){const n=this._dataController.items()[e];return n&&n.rowType==="detailAdaptive"?this._adaptiveColumnsController.getItemContentByColumnIndex(t):super._getCellElement.apply(this,arguments)}getContextMenuItems(e){var t;if(e.row&&e.row.rowType==="detailAdaptive"){const n=this._columnHeadersView,s=M(e.targetElement).closest(".dx-field-item-label").next().data("dx-form-item");return e.column=s?s.column:e.column,n.getContextMenuItems&&n.getContextMenuItems(e)}return(t=super.getContextMenuItems)===null||t===void 0?void 0:t.call(this,e)}isClickableElement(e){var t;return(((t=super.isClickableElement)===null||t===void 0?void 0:t.call(this,e))??!1)||!!e.closest(".dx-command-adaptive").length}},Wpe=i=>class extends i{_updateColumnWidth(e,t){super._updateColumnWidth(e,e.visibleWidth==="adaptiveHidden"?e.bestFitWidth:t)}},Upe=i=>class extends i{_pointCreated(e,t,n){const s=super._pointCreated(e,t,n),r=t[e.columnIndex]||{},o=this._getNextColumnIndex(e.columnIndex),a=t[o]||{},l=o!==e.columnIndex+1&&a.command,d=r.visibleWidth==="adaptiveHidden"||l;return s||d}_getNextColumnIndex(e){const t=this._columnsController.getVisibleColumns();let n=super._getNextColumnIndex(e);for(;t[n]&&t[n].visibleWidth==="adaptiveHidden";)n++;return n}},Kpe=i=>class extends i{_pointCreated(e){let{point:t,columns:n,location:s,sourceColumn:r,cells:o}=e;const a=super._pointCreated({point:t,columns:n,location:s,sourceColumn:r,cells:o}),d=(n[t.columnIndex-1]||{}).visibleWidth==="adaptiveHidden";return a||d}},Gpe=i=>class extends i{_isRowEditMode(){return this.getEditMode()==="row"}_getFormEditItemTemplate(e,t){return this.getEditMode()!=="row"&&e.rowType==="detailAdaptive"?(e.columnIndex=this._columnsController.getVisibleIndex(t.index),this.getColumnTemplate(e)):super._getFormEditItemTemplate(e,t)}_closeEditItem(e){const t=e.closest(".dx-field-item-content"),n=this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey())+1,s=t.length?t.first().data("dx-form-item"):null,r=s&&s.column&&this._columnsController.getVisibleIndex(s.column.index);this.isEditCell(n,r)||super._closeEditItem(e)}_beforeUpdateItems(e,t){if(!this._adaptiveColumnsController.isFormOrPopupEditMode()&&this._adaptiveColumnsController.hasHiddenColumns()){const n=this._dataController.items(),s=n[t],r=xe.getIndexByKey(this._dataController.adaptiveExpandedKey(),n);this._isForceRowAdaptiveExpand=!this._adaptiveColumnsController.hasAdaptiveDetailRowExpanded(),r>=0&&e.push(r+1),e.push(t+1),this._dataController.adaptiveExpandedKey(s.key)}}_afterInsertRow(e){super._afterInsertRow.apply(this,arguments),this._adaptiveColumnsController.hasHiddenColumns()&&(this._adaptiveColumnsController.toggleExpandAdaptiveDetailRow(e,this.isRowEditMode()),this._isForceRowAdaptiveExpand=!0)}_collapseAdaptiveDetailRow(){this._isRowEditMode()&&this._isForceRowAdaptiveExpand&&(this._adaptiveColumnsController.collapseAdaptiveDetailRow(),this._isForceRowAdaptiveExpand=!1)}_cancelEditAdaptiveDetailRow(){this._adaptiveColumnsController.hasHiddenColumns()&&this._collapseAdaptiveDetailRow()}_afterSaveEditData(){super._afterSaveEditData.apply(this,arguments);const e=new de;return this._isRowEditMode()&&this._adaptiveColumnsController.hasHiddenColumns()?Ae(this._validatingController.validate(!0)).done(t=>{t&&this._cancelEditAdaptiveDetailRow(),e.resolve()}):e.resolve(),e.promise()}_beforeCancelEditData(){super._beforeCancelEditData(),this._cancelEditAdaptiveDetailRow()}_getRowIndicesForCascadeUpdating(e){const t=super._getRowIndicesForCascadeUpdating.apply(this,arguments);return this._adaptiveColumnsController.isAdaptiveDetailRowExpanded(e.key)&&t.push(e.rowType==="detailAdaptive"?e.rowIndex-1:e.rowIndex+1),t}_beforeCloseEditCellInBatchMode(e){const t=this._dataController._adaptiveExpandedKey;if(t){const n=xe.getIndexByKey(t,this._dataController.items());n>-1&&e.unshift(n)}}editRow(e){return this._adaptiveColumnsController.isFormOrPopupEditMode()&&this._adaptiveColumnsController.collapseAdaptiveDetailRow(),super.editRow(e)}deleteRow(e){const t=this._dataController.getKeyByRowIndex(e);this.getEditMode()==="batch"&&this._adaptiveColumnsController.isAdaptiveDetailRowExpanded(t)&&this._adaptiveColumnsController.collapseAdaptiveDetailRow(),super.deleteRow(e)}},qpe=i=>class extends i{init(){super.init(),this._adaptiveExpandedKey=void 0}_processItems(e,t){const{changeType:n}=t;if(e=super._processItems.apply(this,arguments),n==="loadingAll"||!G(this._adaptiveExpandedKey))return e;const s=xe.getIndexByKey(this._adaptiveExpandedKey,e),r=this.option(Vpe)===!1;if(s>=0){const o=e[s];e.splice(s+1,0,{visible:!0,rowType:"detailAdaptive",key:o.key,data:o.data,node:o.node,modifiedValues:o.modifiedValues,isNewRow:o.isNewRow,values:o.values})}else n==="refresh"&&!(r&&t.repaintChangesOnly)&&(this._adaptiveExpandedKey=void 0);return e}_getRowIndicesForExpand(e){const t=super._getRowIndicesForExpand.apply(this,arguments);if(this._adaptiveColumnsController.isAdaptiveDetailRowExpanded(e)){const n=t[t.length-1];t.push(n+1)}return t}adaptiveExpandedKey(e){if(G(e))this._adaptiveExpandedKey=e;else return this._adaptiveExpandedKey}toggleExpandAdaptiveDetailRow(e,t){let n=xe.getIndexByKey(this._adaptiveExpandedKey,this._items),s=xe.getIndexByKey(e,this._items);n>=0&&n===s&&!t&&(e=void 0,s=-1);const r=this._adaptiveExpandedKey;this._adaptiveExpandedKey=e,n>=0&&n++,s>=0&&s++;const o=this.getRowIndexDelta();this.updateItems({allowInvisibleRowIndices:!0,changeType:"update",rowIndices:[n-o,s-o]}),this._adaptiveColumnsController.updateCommandAdaptiveAriaLabel(e,Npe),this._adaptiveColumnsController.updateCommandAdaptiveAriaLabel(r,LN)}},Ype=i=>class extends i{_needHideBorder(e){return super._needHideBorder(e)||(e==null?void 0:e.hasClass("dx-field-item-content"))&&(e==null?void 0:e.find(".dx-checkbox").length)}_getFocusCellSelector(){return`${super._getFocusCellSelector()}, .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content`}_getRevertTooltipsSelector(){return`${super._getRevertTooltipsSelector()}, .dx-field-item-content .${this.addWidgetPrefix("revert-tooltip")}`}},Xpe=i=>class extends i{_isColumnVisible(e){return super._isColumnVisible(e)&&!e.adaptiveHidden}getVisibleDataColumnsByBandColumn(e){return super.getVisibleDataColumnsByBandColumn(e).filter(t=>t.visibleWidth!=="adaptiveHidden")}},Zpe=i=>class extends i{dispose(){super.dispose.apply(this,arguments),clearTimeout(this._updateScrollableTimeoutID)}_needBestFit(){return super._needBestFit()||!!this._adaptiveColumnsController.getHidingColumnsQueue().length}_correctColumnWidths(e,t){const n=this._adaptiveColumnsController,s=n.getHiddenColumns(),r=n.updateHidingQueue(this._columnsController.getColumns());n.hideRedundantColumns(e,t,r);const o=n.getHiddenColumns();return n.hasAdaptiveDetailRowExpanded()&&s.length!==o.length&&n.updateForm(o),!o.length&&n.collapseAdaptiveDetailRow(),super._correctColumnWidths.apply(this,arguments)}_toggleBestFitMode(e){this._adaptiveColumnsController._toggleGroupAdaptiveRowVisibility(e),e&&this._adaptiveColumnsController._showHiddenColumns(),super._toggleBestFitMode(e)}_needStretch(){const e=this._adaptiveColumnsController;return super._needStretch.apply(this,arguments)||e.getHidingColumnsQueue().length||e.hasHiddenColumns()}},Qpe=i=>class extends i{getColumnVisibleIndexCorrection(e,t,n){let s=super.getColumnVisibleIndexCorrection(e,t,n),r=this._columnsController.getVisibleColumns(t);for(r=n==="next"?r.slice(e+1):r.slice(0,e).reverse();((o=r)===null||o===void 0||(o=o.shift())===null||o===void 0?void 0:o.visibleWidth)==="adaptiveHidden";){var o;s+=n==="next"?1:-1}return s}getFocusableColumns(e,t){return super.getFocusableColumns(e,t).filter(n=>n.visibleWidth!=="adaptiveHidden")}getDraggableColumns(e,t){return super.getDraggableColumns(e,t).filter(n=>n.visibleWidth!=="adaptiveHidden")}},Jpe={defaultOptions:()=>({columnHidingEnabled:!1,onAdaptiveDetailRowPreparing:null}),controllers:{adaptiveColumns:Hpe},extenders:{views:{rowsView:zpe},controllers:{export:Wpe,columnsResizer:Upe,draggingHeader:Kpe,editing:Gpe,resizing:Zpe,data:qpe,editorFactory:Ype,columns:Xpe,keyboardNavigation:jpe,headersKeyboardNavigation:Qpe}}};Ue.registerModule("adaptivity",Jpe);function $N(i,e,t,n,s,r){t=t||0,n=n||[],r=r||[],n[t]=n[t]||0;const o=i[t],a=r[t]+1||0;let l=0,d;if(o){for(d=a;d<o.length;d++){const c=o[d],h=d+n[t],u=c.colspan||1;if($N(i,e,t+(c.rowspan||1),n,u,r),n[t]+=u-1,l+=u,c.rowspan)for(let p=t+1;p<t+c.rowspan;p++)n[p]=n[p]||0,n[p]+=c.colspan||1;if(e(c,h,t,d)===!1||s!==void 0&&l>=s)break}r[t]=d}}function nb(i,e,t){const n=[];$N(i,(s,r,o)=>{let a=s,l;const d=a.colspan||1,c=r+d-1>=e&&r<t;if(n[o]=n[o]||[],c)r<e?(l=d-(e-r),r=e):l=d,r+l>t&&(l=t-r),l!==d&&(a=se({},a,{colspan:l})),n[o].push(a);else if(r>t)return!1});for(let s=0;s<n.length;s++)n[s]=n[s]||[];return n}const HN=i=>class extends i{_needToSetCellWidths(){let e=super._needToSetCellWidths();return!e&&this._columnsController.isVirtualMode()&&(e=this._columnsController.getColumns().some(n=>n.width==="auto")),e}},efe=i=>class extends HN(i){_resizeCore(){super._resizeCore.apply(this,arguments),this._columnsController.resize()}_handleScroll(e){const t=this.normalizeScrollLeft(e.scrollOffset.left);this._scrollLeft=t,super._handleScroll.apply(this,arguments),this._columnsController.setScrollPosition(t,e.event)}_renderCore(e){if(e!=null&&e.virtualColumnsScrolling){var t,n;const s=this._findContentElement(),r=(t=this._columnsController)===null||t===void 0?void 0:t.getFixedColumns(),o=(n=this._scrollable)===null||n===void 0?void 0:n.option("useNative"),a=this.option("columnFixing.legacyMode");if(r!=null&&r.length){a&&!o?s.css({minHeight:xe.getContentHeightLimit(gn)}):s.css({minHeight:ht(s)});const l=()=>{this.resizeCompleted.remove(l),s.css({minHeight:""})};this.resizeCompleted.add(l)}}return super._renderCore.apply(this,arguments)}},tfe=i=>class extends HN(i){_renderCore(){const e=super._renderCore.apply(this,arguments);return this._columnsController.isVirtualMode()&&this._updateScrollLeftPosition(),e}},nfe=i=>class extends i{init(){super.init.apply(this,arguments),this._resizingController=this.getController("resizing"),this._beginPageIndex=null,this._endPageIndex=null,this._position??(this._position=0),this._virtualVisibleColumns={}}dispose(){clearTimeout(this._changedTimeout),super.dispose.apply(this,arguments)}resetColumnsCache(){super.resetColumnsCache(),this._virtualVisibleColumns={}}getBeginPageIndex(e){const t=this.getVisibleColumns(void 0,!0),n=xe.getColumnWidths(t);let s=0;for(let r=0;r<n.length;r++){if(s>=e)return Math.floor(r/this.getColumnPageSize());s+=n[r]}return 0}getTotalWidth(){const e=this.option("width");return typeof e=="number"?e:this._resizingController._lastWidth||kt(this.component.$element())}getEndPageIndex(e){const t=this.getVisibleColumns(void 0,!0),n=xe.getColumnWidths(t);let s=0;e+=this.getTotalWidth();for(let r=0;r<n.length;r++){if(s>=e)return Math.ceil(r/this.getColumnPageSize());s+=n[r]}return Math.ceil(n.length/this.getColumnPageSize())}getColumnPageSize(){return this.option("scrolling.columnPageSize")}_fireColumnsChanged(e){const t=new Date;this.columnsChanged.fire({optionNames:{all:!0,length:1},changeTypes:{columns:!0,virtualColumnsScrolling:!0,length:2,event:e}}),this._renderTime=new Date-t}getScrollingTimeout(){const e=this.option("scrolling.columnRenderingThreshold"),t=this.option("scrolling.renderAsync");let n=0;return(!G(t)&&this._renderTime>e||t)&&(n=this.option("scrolling.timeout")),n}resize(){this._setScrollPositionCore(this._position)}_setScrollPositionCore(e,t){this.isNeedToRenderVirtualColumns(e)&&(this._position=e,this._beginPageIndex=this.getBeginPageIndex(e),this._endPageIndex=this.getEndPageIndex(e),this._fireColumnsChanged(t))}isNeedToRenderVirtualColumns(e){return this.isVirtualMode()?e<this._position?this._beginPageIndex>this.getBeginPageIndex(e):this._endPageIndex<this.getEndPageIndex(e):!1}getFixedColumns(e,t){const n=super.getFixedColumns(e);if(this.isVirtualMode()&&!t&&n.length){const s=n.map(r=>r.command).indexOf("transparent");return n[s].colspan=this.getVisibleColumns().length-super.getFixedColumns().length+1,n}return n}_compileVisibleColumns(e,t){var n;if(t||!this.isVirtualMode()||!this._shouldReturnVisibleColumns())return super._compileVisibleColumns(e);(n=this._columns)!==null&&n!==void 0&&n.length&&!G(this._beginPageIndex)&&!G(this._endPageIndex)&&(this._beginPageIndex=this.getBeginPageIndex(this._position),this._endPageIndex=this.getEndPageIndex(this._position));const s=this._beginPageIndex,r=this._endPageIndex,o=`${e}-${s}-${r}`;if(this._virtualVisibleColumns[o])return this._virtualVisibleColumns[o];let a=super._compileVisibleColumns();const l=this.getRowCount(),d=this.getColumnPageSize();let c=s*d,h=r*d;const u=this.getFixedColumns(void 0,!0),p=u.map(O=>O.command).indexOf("transparent"),f=u.length?p:0;let g=a.slice(0,f);const m=a.slice(f,c),v=xe.getColumnWidths(m).reduce((O,L)=>O+L,0);v||(c=0);const _=u.length?u.length-p-1:0;let x=a.slice(a.length-_);const y=a.slice(h,a.length-_),T=xe.getColumnWidths(y).reduce((O,L)=>O+L,0);if(T||(h=a.length),l>1&&typeof e=="number"){const O=[];for(let L=0;L<=l;L++)O.push(super._compileVisibleColumns(L));g=nb(O,0,g.length)[e]||[],x=nb(O,a.length-x.length,a.length)[e]||[],a=nb(O,c,h)[e]||[]}else a=a.slice(c,h);return v&&(a.unshift({command:"virtual",type:"virtual",width:v}),a=g.concat(a)),T&&(a.push({command:"virtual",type:"virtual",width:T}),a=a.concat(x)),this._virtualVisibleColumns[o]=a,a}getColumnIndexOffset(){let e=0;if(this._beginPageIndex>0){const n=this.getFixedColumns().map(r=>r.command).indexOf("transparent"),s=n>=0?n:0;e=this._beginPageIndex*this.getColumnPageSize()-s-1}return e>0?e:0}isVirtualMode(){return st()&&this.option("scrolling.columnRenderingMode")==="virtual"}setScrollPosition(e,t){const n=this.getScrollingTimeout();n>0?(clearTimeout(this._changedTimeout),this._changedTimeout=setTimeout(()=>{this._setScrollPositionCore(e,t)},n)):this._setScrollPositionCore(e,t)}},ife={defaultOptions:()=>({scrolling:{columnRenderingMode:"standard",columnPageSize:5,columnRenderingThreshold:300}}),extenders:{controllers:{columns:nfe},views:{columnHeadersView:tfe,rowsView:efe}}};Ue.registerModule("virtualColumns",ife);function sfe(i,e){const t=d=>d||1,n=[],s=(i[0]||[]).reduce((d,c)=>d+t(c.colspan),0),r=(d=>{let c=0,h=0;return()=>{const u=d[c]||[],p=u[h++];return h>=u.length&&(c++,h=0),p&&(p.colspan=t(p.colspan),p.rowspan=t(p.rowspan)),p}})(i),o=(d,c,h)=>{const u=n[d]=n[d]||[];if(u[c]=h,h.colspan>1||h.rowspan>1){const p=(f=>se({},f,e))(h);for(let f=1;f<h.colspan;f++)o(d,c+f,p);for(let f=1;f<h.rowspan;f++)for(let g=0;g<h.colspan;g++)o(d+f,c+g,p)}};let a=r(),l=0;for(;a;){for(let d=0;d<s&&a;d++)n[l]&&n[l][d]||(o(l,d,a),d+=a.colspan-1,a=r());l++}return n}class rfe{constructor(e,t,n){this._exportController=e,this._initialColumnWidthsByColumnIndex=t,this._selectedRowsOnly=n}_getGroupValue(e){const{key:t,data:n,rowType:s,groupIndex:r,summaryCells:o}=e,a=this._options.groupColumns[r],l=Ue.getDisplayValue(a,a.deserializeValue?a.deserializeValue(t[r]):t[r],n,s);let d=`${a.caption}: ${Ue.formatValue(l,a)}`;return o&&o[0]&&o[0].length&&(d+=` ${Ue.getGroupRowSummaryText(o[0],this._options.summaryTexts)}`),d}_correctCellIndex(e){return e}_initOptions(){const e=this._exportController,t=e._columnsController.getGroupColumns();this._options={columns:e._getColumns(this._initialColumnWidthsByColumnIndex),groupColumns:t,items:this._selectedRowsOnly||e._selectionOnly?e._getSelectedItems():e._getAllItems(),isHeadersVisible:e.option("showColumnHeaders"),summaryTexts:e.option("summary.texts"),rtlEnabled:e.option("rtlEnabled")}}getHeaderStyles(){return[{bold:!0,alignment:"center"},{bold:!0,alignment:"left"},{bold:!0,alignment:"right"}]}getGroupRowStyle(){return{bold:!0,alignment:tl(this._options.rtlEnabled)}}getColumnStyles(){const e=[];return this.getColumns().forEach(t=>{e.push({alignment:t.alignment||"left",format:t.format,dataType:t.dataType})}),e}getStyles(){return[...this.getHeaderStyles(),...this.getColumnStyles(),this.getGroupRowStyle()]}_getTotalCellStyleId(e){var t;const n=((t=this.getColumns()[e])===null||t===void 0?void 0:t.alignment)||"right";return this.getHeaderStyles().map(s=>s.alignment).indexOf(n)}getStyleId(e,t){return e<this.getHeaderRowCount()?0:this.isTotalCell(e-this.getHeaderRowCount(),t)?this._getTotalCellStyleId(t):this.isGroupRow(e-this.getHeaderRowCount())?this.getHeaderStyles().length+this.getColumns().length:t+this.getHeaderStyles().length}getColumns(e){const{columns:t}=this._options;return e?t:t[t.length-1]}getColumnsWidths(){const e=this.getColumns();return G(e)?e.map(t=>t.width):void 0}getRowsCount(){return this._options.items.length+this.getHeaderRowCount()}getHeaderRowCount(){return this.isHeadersVisible()?this._options.columns.length-1:0}isGroupRow(e){return e<this._options.items.length&&this._options.items[e].rowType==="group"}getGroupLevel(e){const t=this._options.items[e-this.getHeaderRowCount()],n=t&&t.groupIndex;return t&&t.rowType==="totalFooter"?0:G(n)?n:this._options.groupColumns.length}getCellType(e,t){const n=this.getColumns();if(e<this.getHeaderRowCount())return"string";if(e-=this.getHeaderRowCount(),t<n.length){const s=this._options.items.length&&this._options.items[e],r=n[t];return s&&s.rowType==="data"&&isFinite(s.values[this._correctCellIndex(t)])&&!G(r.customizeText)?G(r.lookup)?r.lookup.dataType:r.dataType:"string"}}ready(){this._initOptions();const e=this._options;return Ae(e.items).done(t=>{e.items=t}).fail(()=>{e.items=[]})}_convertFromGridGroupSummaryItems(e){if(G(e)&&e.length>0)return e.map(t=>({value:t.value,name:t.name}))}getCellData(e,t,n){let s,r;const o={cellSourceData:{},value:s},a=this.getColumns(),l=this._correctCellIndex(t);if(e<this.getHeaderRowCount())r=this.getColumns(!0)[e][t],o.cellSourceData.rowType="header",o.cellSourceData.column=r&&r.gridColumn,o.value=r&&r.caption;else{e-=this.getHeaderRowCount();const d=this._options.items.length&&this._options.items[e];if(d){const c=d.values;switch(o.cellSourceData.rowType=d.rowType,o.cellSourceData.column=a[t]&&a[t].gridColumn,d.rowType){case"groupFooter":case"totalFooter":l<c.length&&(s=c[l],G(s)?(o.cellSourceData.value=s.value,o.cellSourceData.totalSummaryItemName=s.name,o.value=Ue.getSummaryText(s,this._options.summaryTexts)):o.cellSourceData.value=void 0);break;case"group":if(o.cellSourceData.groupIndex=d.groupIndex,t<1)o.cellSourceData.column=this._options.groupColumns[d.groupIndex],o.cellSourceData.value=d.key[d.groupIndex],o.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(d.summaryCells[0]),o.value=this._getGroupValue(d);else{const h=d.values[l];if(Array.isArray(h)){o.cellSourceData.groupSummaryItems=this._convertFromGridGroupSummaryItems(h),s="";for(let u=0;u<h.length;u++)s+=(u>0?n?`
`:` 
 `:"")+Ue.getSummaryText(h[u],this._options.summaryTexts);o.value=s}else o.cellSourceData.value=void 0}break;default:if(r=a[t],r){const h=c[l],u=Ue.getDisplayValue(r,h,d.data,d.rowType);!isFinite(u)||G(r.customizeText)?n&&G(r.customizeText)&&r.customizeText===this._exportController._columnsController.getCustomizeTextByDataType("boolean")?o.value=u:o.value=Ue.formatValue(u,r):o.value=u,o.cellSourceData.value=h}o.cellSourceData.data=d.data}}}return o}isHeadersVisible(){return this._options.isHeadersVisible}isTotalCell(e,t){const{items:n}=this._options,s=n[e],r=this._correctCellIndex(t),o=s.summaryCells&&s.summaryCells[r]&&s.summaryCells[r].length>0&&s.summaryCells[r][0].alignByColumn;return s&&s.rowType==="groupFooter"||s.rowType==="totalFooter"||o}getCellMerging(e,t){const{columns:n}=this._options,s=n[e]&&n[e][t];return s?{colspan:(s.exportColspan||1)-1,rowspan:(s.rowspan||1)-1}:{colspan:0,rowspan:0}}getFrozenArea(){return{x:0,y:this.getHeaderRowCount()}}}class ofe extends Ue.ViewController{init(){this.throwWarningIfNoOnExportingEvent(),this._columnsController=this.getController("columns"),this._dataController=this.getController("data"),this._selectionController=this.getController("selection"),this._rowsView=this.getView("rowsView"),this._headersView=this.getView("columnHeadersView"),this.createAction("onExporting",{excludeValidators:["disabled","readOnly"]})}_getEmptyCell(){return{caption:"",colspan:1,rowspan:1}}_updateColumnWidth(e,t){e.width=t}_getColumns(e){let t=[],n,s;const r=this._columnsController,o=r.getRowCount();for(n=0;n<=o;n++){const a=[];s=r.getVisibleColumns(n,!0);let l;if(n===o)if(this._updateLockCount)l=e;else{const d=this._getColumnWidths(this._headersView,this._rowsView);if(d&&d.length){l={};for(let c=0;c<s.length;c++)l[s[c].index]=d[c]}}for(let d=0;d<s.length;d++){const c=se({},s[d],{dataType:s[d].dataType==="datetime"?"date":s[d].dataType,gridColumn:s[d]});if(this._needColumnExporting(c)){const h=this._calculateExportColspan(c);G(h)&&(c.exportColspan=h),l&&this._updateColumnWidth(c,l[c.index]),a.push(c)}}t.push(a)}return s=t[o],t=sfe(t.slice(0,-1),this._getEmptyCell()),t.push(s),t}_calculateExportColspan(e){if(!e.isBand)return;const t=this._columnsController.getChildrenByBandColumn(e.index,!0);if(G(t))return t.reduce((n,s)=>this._needColumnExporting(s)?n+(this._calculateExportColspan(s)||1):n,0)}_needColumnExporting(e){return!e.command&&(e.allowExporting||e.allowExporting===void 0)}_getFooterSummaryItems(e,t){const n=[];let s=1,r=0;do{const o=[];for(let a=0;a<e.length;a++){const l=e[a],d=l.length;s<d&&(s=d),o.push(l[r])}n.push({values:o,rowType:t?"totalFooter":"groupFooter"})}while(r++<s-1);return n}_hasSummaryGroupFooters(){const e=this.option("summary.groupItems");if(G(e)){for(let t=0;t<e.length;t++)if(e[t].showInGroupFooter)return!0}return!1}_getItemsWithSummaryGroupFooters(e){let t=[],n=[],s=[];for(let r=0;r<e.length;r++){const o=e[r];o.rowType==="groupFooter"?(s=this._getFooterSummaryItems(o.summaryCells),t=t.concat(n,s),n=[]):n.push(o)}return t.length?t:n}_updateGroupValuesWithSummaryByColumn(e){let t=[];for(let n=0;n<e.length;n++){const s=e[n],{summaryCells:r}=s;if(s.rowType==="group"&&r&&r.length>1){const o=s.values.length;for(let a=1;a<r.length;a++)for(let l=0;l<r[a].length;l++){const d=r[a][l];d&&d.alignByColumn&&(Array.isArray(t[a-o])||(t[a-o]=[]),t[a-o].push(d))}t.length>0&&(s.values.push(...t),t=[])}}}_processUnExportedItems(e){const t=this._columnsController.getVisibleColumns(null,!0),n=this._columnsController.getGroupColumns();let s,r;for(let o=0;o<e.length;o++){const a=e[o];let l=!1;s=[],r=[];for(let d=0;d<t.length;d++){const c=t[d];if(l||(l=["detailExpand","buttons"].includes(c.type)),this._needColumnExporting(c)&&(a.values&&(a.rowType==="group"&&!s.length?s.push(a.key[a.groupIndex]):s.push(a.values[d])),a.summaryCells))if(a.rowType==="group"&&!r.length){const h=d-n.length+a.groupIndex;r.push(a.summaryCells[l?h:h+1])}else r.push(a.summaryCells[d])}s.length&&(a.values=s),r.length&&(a.summaryCells=r)}}_getAllItems(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this,s=new de,r=this._dataController.footerItems(),o=r.length&&r[0],a=n.option("summary.totalItems");let l;return Ae(e).done(d=>{this._dataController.loadAll(d,t).done((c,h)=>{n._updateGroupValuesWithSummaryByColumn(c),n._hasSummaryGroupFooters()&&(c=n._getItemsWithSummaryGroupFooters(c)),l=o&&o.summaryCells,G(h)&&a&&(l=n._getSummaryCells(a,h));const u=o&&n._getFooterSummaryItems(l,!0);u&&(c=c.concat(u)),n._processUnExportedItems(c),s.resolve(c)}).fail(s.reject)}).fail(s.reject),s}_getSummaryCells(e,t){return this._dataController._calculateSummaryCells(e,t,this._columnsController.getVisibleColumns(null,!0),(n,s)=>this._dataController._isDataColumn(s)?s.index:-1)}_getSelectedItems(){return this.needLoadItemsOnExportingSelectedItems()?this._getAllItems(this._selectionController.loadSelectedItemsWithFilter(),!0):this._getAllItems(this._selectionController.getSelectedRowsData())}_getColumnWidths(e,t){return e&&e.isVisible()?e.getColumnWidths():t.getColumnWidths()}throwWarningIfNoOnExportingEvent(){var e,t;const n=(e=(t=this.component).hasActionSubscription)===null||e===void 0?void 0:e.call(t,"onExporting");this.option("export.enabled")&&!n&&pt.log("W1024")}callbackNames(){return["selectionOnlyChanged"]}getDataProvider(e){const t=this._getColumnWidths(this._headersView,this._rowsView);let n;if(t&&t.length){n={};const s=this._columnsController.getVisibleColumns(this._columnsController.getRowCount(),!0);for(let r=0;r<s.length;r++)n[s[r].index]=t[r]}return new rfe(this,n,e)}exportTo(e,t){this._selectionOnly=e;const n=this.getAction("onExporting"),s={rtlEnabled:this.option("rtlEnabled"),selectedRowsOnly:!!e,format:t,fileName:"DataGrid",cancel:!1};Ie(n)&&n(s)}publicMethods(){return["getDataProvider"]}selectionOnly(e){if(G(e))this._isSelectedRows=e,this.selectionOnlyChanged.fire();else return this._isSelectedRows}optionChanged(e){super.optionChanged(e),e.name==="export"&&this.throwWarningIfNoOnExportingEvent()}needLoadItemsOnExportingSelectedItems(){return this.option("loadItemsOnExportingSelectedItems")??this._dataController._dataSource.remoteOperations().filtering}}const afe=i=>class extends i{callbackNames(){const e=super.callbackNames();return G(e)?e.push("editingButtonsUpdated"):["editingButtonsUpdated"]}_updateEditButtons(){super._updateEditButtons(),this.editingButtonsUpdated.fire()}},lfe=i=>class extends i{_getToolbarItems(){const e=super._getToolbarItems(),t=this._getExportToolbarButton();return t&&(e.push(t),this._correctItemsPosition(e)),e}_getExportToolbarButton(){const e=this._getExportToolbarItems();if(e.length===0)return null;const t=this._needDisableExportButton(),n={name:"exportButton",location:"after",locateInMenu:"auto",sortIndex:30,options:{items:e},disabled:t};if(e.length===1){const s=Object.assign({},e[0],{hint:e[0].text,elementAttr:{class:"dx-datagrid-export-button"}});n.widget="dxButton",n.showText="inMenu",n.options=s}else{const s={icon:"export",displayExpr:"text",items:e,hint:this.option("export.texts.exportTo"),elementAttr:{class:"dx-datagrid-export-button"},dropDownOptions:{width:"auto",_wrapperClassExternal:"dx-datagrid-export-menu"}};n.options=s,n.widget="dxDropDownButton",n.menuItemTemplate=(r,o,a)=>{this._createComponent(M(a),eu,{items:e})}}return n}_getExportToolbarItems(){const e=this.option("export"),t=this.option("export.texts"),n=this.option("export.formats")??[];if(!e.enabled)return[];const s=[];return n.forEach(r=>{let o=r.toUpperCase(),a="export";r==="xlsx"&&(o="Excel",a="xlsxfile"),r==="pdf"&&(a="pdffile"),s.push({text:Fs(t.exportAll,o),icon:a,onClick:()=>{this._exportController.exportTo(!1,r)}}),e.allowExportSelectedData&&s.push({text:Fs(t.exportSelectedRows,o),icon:"exportselected",onClick:()=>{this._exportController.exportTo(!0,r)}})}),s}_correctItemsPosition(e){e.sort((t,n)=>t.sortIndex-n.sortIndex)}_isExportButtonVisible(){return this.option("export.enabled")}optionChanged(e){super.optionChanged(e),e.name==="export"&&(e.handled=!0,this._invalidate())}_needDisableExportButton(){const e=!this._columnsController.hasVisibleDataColumns(),t=this._editingController.hasChanges();return e||t}_columnOptionChanged(e){if(super._columnOptionChanged(e),Ue.checkChanges(e.optionNames,["groupIndex","visible","all"])){const n=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",n)}}init(){super.init(),this._exportController=this.getController("export"),this._editingController.editingButtonsUpdated.add(()=>{const e=this._needDisableExportButton();this.setToolbarItemDisabled("exportButton",e)})}};Ue.registerModule("export",{defaultOptions:()=>({export:{enabled:!1,fileName:"DataGrid",formats:["xlsx"],allowExportSelectedData:!1,texts:{exportTo:ue.format("dxDataGrid-exportTo"),exportAll:ue.format("dxDataGrid-exportAll"),exportSelectedRows:ue.format("dxDataGrid-exportSelectedRows")}}}),controllers:{export:ofe},extenders:{controllers:{editing:afe},views:{headerPanel:lfe}}});const dfe=(i,e,t)=>{let{isRemoteFiltering:n,dateSerializationFormat:s,getSelector:r}=t;const{selector:o}=i,a=Ie(o)?o:r(o),l=a?a(e):e[o],d=n&&zi(l)?Wn.serializeDate(l,s):l;return{getter:a,rawValue:l,safeValue:d}},cfe={getSortFilterValue:dfe},ufe=".dx-row.dx-row-focused";class hfe extends fn.ViewController{getKeyboardController(){return this.getController("keyboardNavigation")}getDataController(){return this.getController("data")}init(){this.component._optionsByReference.focusedRowKey=!0}optionChanged(e){const{name:t,value:n,previousValue:s}=e;switch(t){case"focusedRowIndex":this._focusRowByIndex(n),this.getKeyboardController()._fireFocusedRowChanged(),e.handled=!0;break;case"focusedRowKey":if(Array.isArray(n)&&JSON.stringify(n)===JSON.stringify(s))return;this._focusRowByKey(n).done(()=>{this.getKeyboardController()._fireFocusedRowChanged()}),e.handled=!0;break;case"focusedColumnIndex":case"focusedRowEnabled":case"autoNavigateToFocusedRow":e.handled=!0;break;default:super.optionChanged(e)}}publicMethods(){return["navigateToRow","isRowFocused"]}isAutoNavigateToFocusedRow(){return this.option("scrolling.mode")!=="infinite"&&this.option("autoNavigateToFocusedRow")}_focusRowByIndex(e,t){if(!this.option("focusedRowEnabled"))return;const n=e!==void 0?e:this.option("focusedRowIndex");n<0?this.isAutoNavigateToFocusedRow()&&this._resetFocusedRow():this._focusRowByIndexCore(n,t)}_focusRowByIndexCore(e,t){const n=this.getDataController().pageSize(),s=()=>{if(this._isValidFocusedRowIndex(e)){let r=e-this.getDataController().getRowIndexOffset(!0);if(!t||t.paging&&!t.filtering){const a=this.getDataController()._getLastItemIndex();r=Math.min(r,a)}const o=this.getDataController().getKeyByRowIndex(r,!0);G(o)&&!this.isRowFocused(o)&&this.option("focusedRowKey",o)}};if(n>=0)if(this._isLocalRowIndex(e))s();else{const r=Math.floor(e/this.getDataController().pageSize());Ae(this.getDataController().pageIndex(r),this.getDataController().waitReady()).done(()=>{s()})}}_isLocalRowIndex(e){if(this.getKeyboardController()._isVirtualScrolling()){const n=Math.floor(e/this.getDataController().pageSize()),s=this.getDataController().virtualItemsCount(),r=s?s.begin:-1,o=this.getDataController().getVisibleRows().length+this.getDataController().getRowIndexOffset(),a=Math.ceil(o/this.getDataController().pageSize());return r<=e&&a>n}return!0}_setFocusedRowKeyByIndex(e){if(this._isValidFocusedRowIndex(e)){const t=Math.min(e-this.getDataController().getRowIndexOffset(),this.getDataController().items().length-1),n=this.getDataController().getKeyByRowIndex(t);G(n)&&!this.isRowFocused(n)&&this.option("focusedRowKey",n)}}_focusRowByKey(e){return G(e)?this._navigateToRow(e,!0):(this._resetFocusedRow(),de().resolve())}_resetFocusedRow(){const e=this.option("focusedRowKey"),t=G(e);!t&&this.option("focusedRowIndex")<0||(t&&this.option("focusedRowKey",null),this.getKeyboardController().setFocusedRowIndex(-1),this.option("focusedRowIndex",-1),this.getDataController().updateItems({changeType:"updateFocusedRow",focusedRowKey:null}),this.getKeyboardController()._fireFocusedRowChanged())}_isValidFocusedRowIndex(e){const t=this.getDataController().getVisibleRows()[e];return!t||t.rowType==="data"||t.rowType==="group"}navigateToRow(e){return this.isAutoNavigateToFocusedRow()||this.option("focusedRowIndex",-1),this._navigateToRow(e,!1)}_navigateToRow(e,t){const n=this,s=n.isAutoNavigateToFocusedRow(),r=new de,o=this.getView("rowsView");if(e===void 0||!this.getDataController().dataSource())return r.reject().promise();const a=n.getFocusedRowIndexByKey(e);return!s&&t||a>=0?n._navigateTo(e,r,t):this.getDataController().getPageIndexByKey(e).done(l=>{if(l<0){r.resolve(-1);return}l===this.getDataController().pageIndex()?this.getDataController().reload().done(()=>{n.isRowFocused(e)&&this.getDataController().getRowIndexByKey(e)>=0?r.resolve(n.getFocusedRowIndexByKey(e)):n._navigateTo(e,r,t)}).fail(r.reject):this.getDataController().pageIndex(l).done(()=>{o.waitAsyncTemplates(!0).done(()=>{n._navigateTo(e,r,t)})}).fail(r.reject)}).fail(r.reject),r.promise()}_navigateTo(e,t,n){const s=this.getDataController().getRowIndexByKey(e),r=xe.isVirtualRowRendering(this);this.isAutoNavigateToFocusedRow()&&r&&s<0?this._navigateToVirtualRow(e,t,n):this._navigateToVisibleRow(e,t,n)}_navigateToVisibleRow(e,t,n){if(n)this._triggerUpdateFocusedRow(e,t);else{const s=this.getFocusedRowIndexByKey(e);this.getView("rowsView").scrollToRowElement(e,t).done(()=>{t.resolve(s)})}}_navigateToVirtualRow(e,t,n){const s=this.getDataController()._rowsScrollController,r=xe.getIndexByKey(e,this.getDataController().items(!0)),o=this.getView("rowsView").getScrollable();if(s&&o&&r>=0){const a=r+this.getDataController().getRowIndexOffset(!0),l=s.getItemOffset(a),d=()=>{this.getDataController().totalCount()&&!this.getDataController().items().length||(this.component.off("contentReady",d),n?this._triggerUpdateFocusedRow(e,t):t.resolve(a))};this.component.on("contentReady",d),this.getView("rowsView").scrollTopPosition(l)}else t.resolve(-1)}_triggerUpdateFocusedRow(e,t){const n=this.getFocusedRowIndexByKey(e);if(this._isValidFocusedRowIndex(n)){let s;this.option("focusedRowEnabled")?this.getDataController().updateItems({changeType:"updateFocusedRow",focusedRowKey:e}):s=this.getView("rowsView").scrollToRowElement(e),Ae(s).done(()=>{this.getKeyboardController().setFocusedRowIndex(n),t&&t.resolve(n)})}else t&&t.resolve(-1)}getFocusedRowIndexByKey(e){const t=this.getDataController().getRowIndexByKey(e,!0);return t>=0?t+this.getDataController().getRowIndexOffset(!0):-1}_focusRowByKeyOrIndex(){const e=this.option("focusedRowKey");let t=this.option("focusedRowIndex");if(G(e)){const n=this.getDataController().getRowIndexByKey(e);n>=0?(this.getKeyboardController()._isVirtualScrolling()&&(t=n+this.getDataController().getRowIndexOffset()),this.getKeyboardController().setFocusedRowIndex(t),this._triggerUpdateFocusedRow(e)):this._navigateToRow(e,!0).done(s=>{t>=0&&s<0?this._focusRowByIndex():t<0&&s>=0&&this.getKeyboardController().setFocusedRowIndex(s)})}else t>=0&&this._focusRowByIndex(t)}isRowFocused(e){const t=this.option("focusedRowKey");if(G(t))return dn(e,this.option("focusedRowKey"))}updateFocusedRow(e){const t=this,n=t.getDataController().getRowIndexByKey(e.focusedRowKey),s=t.getView("rowsView");let r,o;ie(s.getTableElements(),(a,l)=>{const d=a===0;r=M(l),t._clearPreviousFocusedRow(r,n);const c=t._prepareFocusedRow({changedItem:t.getDataController().getVisibleRows()[n],$tableElement:r,focusedRowIndex:n});d&&(o=c)}),!e.preventScroll&&o&&s.scrollToElementVertically(o)}_clearPreviousFocusedRow(e,t){const n=e.find(ufe).filter((s,r)=>{const o=M(r).closest(`.${this.addWidgetPrefix("table")}`);return e.is(o)});n.removeClass("dx-row-focused").removeClass("dx-cell-focus-disabled").removeAttr("tabindex"),n.children("td").removeAttr("tabindex"),t!==0&&M(this.getView("rowsView").getRowElement(0)).removeClass("dx-cell-focus-disabled").removeAttr("tabIndex")}_prepareFocusedRow(e){let t;const{changedItem:n}=e;if(n&&(n.rowType==="data"||n.rowType==="group")){const{focusedRowIndex:s}=e,{$tableElement:r}=e,o=this.option("tabindex")||0,a=this.getView("rowsView");t=M(a._getRowElements(r).eq(s)),t.addClass("dx-row-focused").attr("tabindex",o)}return t}}const pfe=i=>class extends i{init(){const e=this.option("focusedRowIndex"),t=this.option("focusedColumnIndex");this.createAction("onFocusedRowChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedRowChanged",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanging",{excludeValidators:["disabled","readOnly"]}),this.createAction("onFocusedCellChanged",{excludeValidators:["disabled","readOnly"]}),super.init(),this.setRowFocusType(),this._focusedCellPosition={},G(e)&&e>=0&&(this._focusedCellPosition.rowIndex=e),G(t)&&t>=0&&(this._focusedCellPosition.columnIndex=t)}setFocusedRowIndex(e){super.setFocusedRowIndex(e),this.option("focusedRowIndex",e)}setFocusedColumnIndex(e){super.setFocusedColumnIndex(e),this.option("focusedColumnIndex",e)}_escapeKeyHandler(e,t){return t||!this.option("focusedRowEnabled")?super._escapeKeyHandler(e,t):this.isCellFocusType()?(this.setRowFocusType(),this._focus(this._getCellElementFromTarget(e.originalEvent.target),!0),!0):!1}_updateFocusedCellPosition(e,t){const n=super._updateFocusedCellPosition(e,t);return n&&n.columnIndex>=0&&this._fireFocusedCellChanged(e),n}},ffe=i=>class extends i{renderFocusOverlay(e,t){var n;const s=this.option("focusedRowEnabled");if(!s||!((n=this._keyboardNavigationController)!==null&&n!==void 0&&n.isRowFocusType())||this._editingController.isEditing()||this._columnHeadersView.isFilterRowCell(e))super.renderFocusOverlay(e,t);else if(s&&this._keyboardNavigationController._getElementType(e)==="row"&&!e.hasClass("dx-row-focused")){const o=this._keyboardNavigationController.getFirstValidCellInRow(e);this._keyboardNavigationController.focus(o)}}},mfe=i=>class extends i{getSortDataSourceParameters(e,t){let n=super.getSortDataSourceParameters.apply(this,arguments);const s=this._dataController._dataSource,r=this._dataController.store();let o=r&&r.key();const a=s&&s.remoteOperations()||{},l=Object.keys(a).every(d=>!a[d]);if(o&&(this.option("focusedRowEnabled")&&this._focusController.isAutoNavigateToFocusedRow()!==!1||t)){o=Array.isArray(o)?o:[o];const d=o.filter(c=>!this.columnOption(c,"sortOrder"));d.length&&(n=n||[],l?n.push({selector:s.getDataIndexGetter(),desc:!1}):d.forEach(c=>n.push({selector:c,desc:!1})))}return n}},gfe=i=>class extends i{constructor(){super(...arguments),this._isDataPushed=!1}_applyChange(e){if(!(e&&e.changeType==="updateFocusedRow"))return super._applyChange.apply(this,arguments)}_fireChanged(e){super._fireChanged(e);const t=this._isDataPushed;if(this._isDataPushed=!1,this.option("focusedRowEnabled")&&this._dataSource){const n=e.changeType==="update"&&e.repaintChangesOnly,s=n&&e.changeTypes&&e.changeTypes.indexOf("remove")>=0;t&&this.isEmpty()?this._focusController._resetFocusedRow():e.changeType==="refresh"&&e.items.length||s?(this._updatePageIndexes(),this._updateFocusedRowIfNeeded(e,t)):e.changeType==="append"||e.changeType==="prepend"?this._updatePageIndexes():n&&this._updateFocusedRowIfNeeded(e,t)}}_handleDataPushed(e){super._handleDataPushed(e);const t=this.option("focusedRowKey");this._isDataPushed=G(t)&&!!e.length}_updatePageIndexes(){const e=this._lastRenderingPageIndex||0,t=this._rowsScrollController?this._rowsScrollController.pageIndex():0;this._lastRenderingPageIndex=t,this._isPagingByRendering=t!==e}isPagingByRendering(){return this._isPagingByRendering}_updateFocusedRowIfNeeded(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=e.operationTypes||{},{reload:s,fullReload:r,pageIndex:o,paging:a}=n,l=this._keyboardNavigationController._isVirtualScrolling(),d=a&&!l,c=this.option("focusedRowKey"),h=this._focusController.isAutoNavigateToFocusedRow(),u=s&&o===!1,p=this.getRowIndexByKey(c);switch(!0){case t:this._focusController._focusRowByKeyOrIndex();break;case(u&&!r&&G(c)):this._focusController._navigateToRow(c,!0).done(f=>{f<0&&this._focusController._focusRowByIndex(void 0,n)});break;case(d&&h):{const f=this.option("focusedRowIndex"),g=p>=0;f>=0&&(f===p||!g)&&this._focusController._focusRowByIndex(f,n);break}case(d&&!h&&p<0):this.option("focusedRowIndex",-1);break;case n.fullReload:this._focusController._focusRowByKeyOrIndex()}}getPageIndexByKey(e){const t=this,n=new de;return t.getGlobalRowIndexByKey(e).done(s=>{n.resolve(s>=0?Math.floor(s/t.pageSize()):-1)}).fail(n.reject),n.promise()}getGlobalRowIndexByKey(e){return this._dataSource.group()?this._calculateGlobalRowIndexByGroupedData(e):this._calculateGlobalRowIndexByFlatData(e)}_calculateGlobalRowIndexByFlatData(e,t,n){const s=this,r=new de,o=s._dataSource;if(Array.isArray(e)||jae(e))return r.resolve(-1).promise();let a=s._generateFilterByKey(e);return o.load({filter:s._concatWithCombinedFilter(a),skip:0,take:1}).done(l=>{l.length>0?(a=s._generateOperationFilterByKey(e,l[0],n),o.load({filter:s._concatWithCombinedFilter(a,t),skip:0,take:1,requireTotalCount:!0}).done((d,c)=>{r.resolve(c.totalCount)})):r.resolve(-1)}),r.promise()}_concatWithCombinedFilter(e,t){const n=this.getCombinedFilter();return xe.combineFilters([e,n,t])}_generateBooleanFilter(e,t,n){const{desc:s}=n;switch(!0){case(t===!1&&s):return[e,"=",!0];case(t===!1&&!s):return[e,"=",null];case(t===!0&&!s):case(!Kl(t)&&s):return[e,"<>",t];default:return}}_generateOperationFilterByKey(e,t,n){const s=this,r=s.option("dateSerializationFormat"),o=s._dataSource.remoteOperations().filtering,a=s._dataSource.remoteOperations().sorting;let l=s._generateFilterByKey(e,"<"),d=s._columnsController.getSortDataSourceParameters(!o,!0);if(n){const c=s._columnsController.getGroupDataSourceParameters(!o);c&&(d=d?c.concat(d):c)}return d&&d.slice().reverse().forEach(c=>{const{selector:h,desc:u,compare:p}=c,{getter:f,rawValue:g,safeValue:m}=cfe.getSortFilterValue(c,t,{isRemoteFiltering:o,dateSerializationFormat:r,getSelector:v=>s._columnsController.columnOption(v,"selector")});if(l=[[h,"=",m],"and",l],g===null||Kl(g)){const v=s._generateBooleanFilter(h,m,u);v&&(l=[v,"or",l])}else{const v=u?">":"<";let _;p&&!a?_=x=>v==="<"?p(g,f(x))>=1:p(g,f(x))<=-1:(_=[h,v,m],u||(_=[_,"or",[h,"=",null]])),l=[_,"or",l]}}),l}_generateFilterByKey(e,t){const n=this._dataSource.key();let s=[];if(t||(t="="),Array.isArray(n))for(let r=0;r<n.length;++r){const o=e[n[r]];o&&(s.length>0&&s.push("and"),s.push([n[r],t,o]))}else s=[n,t,e];return s}_getLastItemIndex(){return this.items(!0).length-1}},_fe=i=>class extends i{_deleteRowCore(e){const t=super._deleteRowCore.apply(this,arguments),n=this._dataController.getKeyByRowIndex(e);t.done(()=>{const s=this._dataController.getRowIndexByKey(n),r=this._dataController.getVisibleRows();s===-1&&!r.length&&this._focusController._resetFocusedRow()})}},vfe=i=>class extends i{_createRow(e){const t=super._createRow.apply(this,arguments);return this.option("focusedRowEnabled")&&e&&this._focusController.isRowFocused(e.key)&&t.addClass("dx-row-focused"),t}_checkRowKeys(e){if(super._checkRowKeys.apply(this,arguments),this.option("focusedRowEnabled")&&this.option("dataSource")){const t=this._dataController.store();t&&!t.key()&&this._dataController.fireError("E1042","Row focusing")}}_update(e){e.changeType==="updateFocusedRow"?this.option("focusedRowEnabled")&&this._focusController.updateFocusedRow(e):super._update(e)}updateFocusElementTabIndex(e,t){this.option("focusedRowEnabled")?this._setFocusedRowElementTabIndex(t):super.updateFocusElementTabIndex(e)}_setFocusedRowElementTabIndex(e){const t=this.option("focusedRowKey"),n=this.option("tabIndex")??0,s=this._columnsController;let r=this._dataController.getRowIndexByKey(t),o=this.option("focusedColumnIndex");const a=this._findRowElementForTabIndex(),l=this._dataController.dataSource(),d=l==null?void 0:l.operationTypes(),c=!d||d.paging;G(this._scrollToFocusOnResize)||(this._scrollToFocusOnResize=()=>{this.scrollToElementVertically(this._findRowElementForTabIndex()),this.resizeCompleted.remove(this._scrollToFocusOnResize)}),a.attr("tabIndex",n);const h=this.option("focusedRowIndex")-this._dataController.getRowIndexOffset(!0);!c&&r<0&&h>=0&&this._focusController.updateFocusedRow({focusedRowKey:t,preventScroll:e}),r>=0&&!e&&(o<0&&(o=0),r+=this._dataController.getRowIndexOffset(),o+=s.getColumnIndexOffset(),this._keyboardNavigationController.setFocusedCellPosition(r,o),this._focusController.isAutoNavigateToFocusedRow()&&!c&&!this._dataController.isPagingByRendering()&&(this.resizeCompleted.remove(this._scrollToFocusOnResize),this.resizeCompleted.add(this._scrollToFocusOnResize)))}_findRowElementForTabIndex(){const e=this.option("focusedRowKey"),t=this._dataController.getRowIndexByKey(e);return M(this.getRowElement(t>=0?t:0))}scrollToRowElement(e){const t=this._dataController.getRowIndexByKey(e),n=M(this.getRow(t));return this.scrollToElementVertically(n)}scrollToElementVertically(e){const t=this.getScrollable();if(t&&e.length){const n=t.getScrollElementPosition(e,"vertical");return this.scrollTopPosition(n)}return new de().resolve()}scrollTopPosition(e){const t=new de,n=this.getScrollable();if(n){const s=n.scrollTop(),r=()=>{n.off("scroll",r),t.resolve()};if(e!==s)return n.on("scroll",r),this._dataController.resetFilterApplying(),n.scrollTo({top:e}),t.promise()}return t.resolve()}},Hm={defaultOptions:()=>({focusedRowEnabled:!1,autoNavigateToFocusedRow:!0,focusedRowKey:null,focusedRowIndex:-1,focusedColumnIndex:-1}),controllers:{focus:hfe},extenders:{controllers:{keyboardNavigation:pfe,editorFactory:ffe,columns:mfe,data:gfe,editing:_fe},views:{rowsView:vfe}}},xfe=Number.MAX_SAFE_INTEGER||9007199254740991,bfe=i=>class extends Hm.extenders.controllers.data(i){changeRowExpand(e,t){return this.option("focusedRowEnabled")&&Array.isArray(e)&&this.isRowExpanded(e)&&(!t||!this._keyboardNavigationController.isKeyboardEnabled())&&this._isFocusedRowInsideGroup(e)&&this.option("focusedRowKey",e),super.changeRowExpand(e,t)}_isFocusedRowInsideGroup(e){const t=this.option("focusedRowKey"),n=this.getRowIndexByKey(t),s=n>=0&&this.getVisibleRows()[n],r=this._columnsController.getGroupDataSourceParameters(!0);if(s){for(let o=0;o<e.length;++o)if(qt(r[o]&&r[o].selector)(s.data)!==e[o])return!1}return!0}_getGroupPath(e,t){const n=[];let s=e[0];for(;s&&n.length<t;){var r;n.push(s.key),s=(r=s.items)===null||r===void 0?void 0:r[0]}return n}_expandGroupByPath(e,t,n){const s=new de;return n++,e.expandRow(t.slice(0,n)).done(()=>{n===t.length?s.resolve():e._expandGroupByPath(e,t,n).done(s.resolve).fail(s.reject)}).fail(s.reject),s.promise()}_calculateGlobalRowIndexByGroupedData(e){const t=this,n=t._dataSource,s=t._generateFilterByKey(e),r=new de,o=Array.isArray(e),a=n.group();return o?r.resolve(-1).promise():n._grouping._updatePagingOptions?(n.load({filter:t._concatWithCombinedFilter(s),group:a}).done(l=>{if(!(G(l)&&l.length>0))return r.resolve(-1).promise();const c=t._getGroupPath(l,a.length);t._expandGroupByPath(t,c,0).done(()=>{t._calculateExpandedRowGlobalIndex(r,e,c,a)}).fail(r.reject)}).fail(r.reject),r.promise()):(t._calculateGlobalRowIndexByFlatData(e,null,!0).done(r.resolve).fail(r.reject),r)}_calculateExpandedRowGlobalIndex(e,t,n,s){const r=ed(n,{group:s}),o=this._dataSource,a=this.option("scrolling.mode"),l=a==="virtual"||a==="infinite",d=o.pageSize();let c;o._grouping._updatePagingOptions({skip:0,take:xfe},(h,u)=>{dn(h.path,n)&&(c=u)}),this._calculateGlobalRowIndexByFlatData(t,r).done(h=>{let u,p;if(h<0){e.resolve(-1);return}u=(c%d||d)+h-n.length,l?p=0:p=Math.floor(u/(d-n.length))*n.length,u=c+h+p,e.resolve(u)}).fail(e.reject)}};Ue.registerModule("focus",Object.assign({},Hm,{extenders:Object.assign({},Hm.extenders,{controllers:Object.assign({},Hm.extenders.controllers,{data:bfe})})}));const tO=bt(),Jr="dxDraggable",yfe=be(Kh,Jr),Cfe=be(Nc,Jr),wfe=be(Gh,Jr),Sfe=be(U0,Jr),Efe=be(K0,Jr),Ife=be(mt.down,Jr),Tfe=be("keydown",Jr);let ib,sm;const WC=i=>({x:i.pageX-M(tO).scrollLeft(),y:i.pageY-M(tO).scrollTop()});class nO{constructor(e,t){this._$scrollableAtPointer=null,this._preventScroll=!0,this._component=t,e==="vertical"?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(e,t){let n=!1;e.some(s=>{const r=M(s),o=r.hasClass("dx-overlay-wrapper"),a=r.hasClass("dx-overlay-content");return o||a?!0:(n=this._trySetScrollable(s,t),n)}),n||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(e){return(e.css(this._overFlowAttr)==="auto"||e.hasClass("dx-scrollable-container"))&&e.prop(this._scrollSizeProp)>Math.ceil(this._sizeAttr==="width"?Xe(e):ht(e))}_trySetScrollable(e,t){const n=this,s=M(e);let r;const o=n._component.option("scrollSensitivity");let a=n.isScrollable(s);return a&&(r=n._calculateDistanceToBorders(s,t),o>r[n._limitProps.start]?n._preventScroll||(n._scrollSpeed=-n._calculateScrollSpeed(r[n._limitProps.start]),n._$scrollableAtPointer=s):o>r[n._limitProps.end]?n._preventScroll||(n._scrollSpeed=n._calculateScrollSpeed(r[n._limitProps.end]),n._$scrollableAtPointer=s):(a=!1,n._preventScroll=!1)),a}_calculateDistanceToBorders(e,t){const n=e.get(0);let s;return n?(s=en(n),{left:t.x-s.left,top:t.y-s.top,right:s.right-t.x,bottom:s.bottom-t.y}):{}}_calculateScrollSpeed(e){const t=this._component,n=t.option("scrollSensitivity"),s=t.option("scrollSpeed");return Math.ceil(((n-e)/n)**2*s)}scrollByStep(){const e=this;if(e._$scrollableAtPointer&&e._scrollSpeed){if(e._$scrollableAtPointer.hasClass("dx-scrollable-container")){const n=e._$scrollableAtPointer.closest(".dx-scrollable"),s=n.data("dxScrollable")||n.data("dxScrollView");if(s){const r=s.scrollOffset()[e._limitProps.start]+e._scrollSpeed;s.scrollTo({[e._limitProps.start]:r})}}else{const n=e._$scrollableAtPointer[e._scrollValue]()+e._scrollSpeed;e._$scrollableAtPointer[e._scrollValue](n)}const t=e._component._dragMoveArgs;t&&e._component._dragMoveHandler(t)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(e,t){if(!e)return!1;const n=en(e.get(0)),s=n[this._limitProps.start],r=n[this._sizeAttr],o=WC(t),a=this._sizeAttr==="width"?o.x:o.y;return a<s||a>s+r}}class Dfe extends L8{constructor(e){super(),this._strategy=e}_step(){const e=this._strategy._horizontalScrollHelper,t=this._strategy._verticalScrollHelper;e==null||e.scrollByStep(),t==null||t.scrollByStep()}}class jN extends Ar{reset(){}dragMove(e){}dragEnter(){}dragLeave(){}dragEnd(e){return this._getSourceDraggable()._fireRemoveEvent(e),de().resolve()}_fireRemoveEvent(e){}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDragCancel:null,onCancelByEsc:!1,onDrop:null,immediate:!0,dragDirection:"both",boundOffset:0,allowMoveByClick:!1,itemData:null,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60})}_setOptionsByReference(){super._setOptionsByReference.apply(this,arguments),se(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})}_init(){super._init(),this._attachEventHandlers(),this._scrollAnimator=new Dfe(this),this._horizontalScrollHelper=new nO("horizontal",this),this._verticalScrollHelper=new nO("vertical",this),this._initScrollTop=0,this._initScrollLeft=0}_normalizeCursorOffset(e){return Me(e)&&(e={h:e.x,v:e.y}),e=od(e).map(t=>parseFloat(t)),{left:e[0],top:e.length===1?e[0]:e[1]}}_getNormalizedCursorOffset(e,t){return Ie(e)&&(e=e.call(this,t)),this._normalizeCursorOffset(e)}_calculateElementOffset(e){let t,n;const{event:s}=e,r=M(e.itemElement),o=M(e.dragElement),a=this._dragElementIsCloned(),l=this.option("cursorOffset");let d={left:0,top:0};const c=this._initialLocate=tr(o);return(a||e.initialOffset||l)&&(t=e.initialOffset||r.offset(),l&&(d=this._getNormalizedCursorOffset(l,e),isFinite(d.left)&&(t.left=s.pageX),isFinite(d.top)&&(t.top=s.pageY)),n=o.offset(),t.top-=n.top+(d.top||0)-c.top,t.left-=n.left+(d.left||0)-c.left),t}_initPosition(e){const t=M(e.dragElement),n=this._calculateElementOffset(e);n&&this._move(n,t),this._startPosition=tr(t)}_startAnimator(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()}_stopAnimator(){this._scrollAnimator.stop()}_addWidgetPrefix(e){const t=this.NAME;return gp(t)+(e?`-${e}`:"")}_getItemsSelector(){return this.option("filter")||""}_$content(){const e=this.$element(),t=e.children(".dx-template-wrapper");return t.length?t:e}_attachEventHandlers(){if(this.option("disabled"))return;let e=this._$content(),t=this._getItemsSelector();const n=this.option("allowMoveByClick"),s={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(r,o)=>{const a=this.option("group"),l=this._getSourceDraggable().option("group"),d=this._getScrollable(r);return this._verticalScrollHelper.isOutsideScrollable(d,o)||this._horizontalScrollHelper.isOutsideScrollable(d,o)?!1:l&&l===a}};n&&(e=this._getArea(),Y.on(e,Ife,s,this._pointerDownHandler.bind(this))),t[0]===">"&&(t=t.slice(1)),Y.on(e,yfe,t,s,this._dragStartHandler.bind(this)),Y.on(e,Cfe,s,this._dragMoveHandler.bind(this)),Y.on(e,wfe,s,this._dragEndHandler.bind(this)),Y.on(e,Sfe,s,this._dragEnterHandler.bind(this)),Y.on(e,Efe,s,this._dragLeaveHandler.bind(this)),this.option("onCancelByEsc")&&Y.on(e,Tfe,this._keydownHandler.bind(this))}_dragElementIsCloned(){var e;return(e=this._$dragElement)===null||e===void 0?void 0:e.hasClass(this._addWidgetPrefix("clone"))}_getDragTemplateArgs(e,t){return{container:We(t),model:{itemData:this.option("itemData"),itemElement:We(e)}}}_createDragElement(e){let t=e;const n=this.option("clone"),s=this._getContainer();let r=this.option("dragTemplate");return r?(r=this._getTemplate(r),t=M("<div>").appendTo(s),r.render(this._getDragTemplateArgs(e,t))):n&&(t=M("<div>").appendTo(s),e.clone().css({width:e.css("width"),height:e.css("height")}).appendTo(t)),t.toggleClass(this._addWidgetPrefix("clone"),t.get(0)!==e.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))}_resetDragElement(){if(this._dragElementIsCloned()){var e;(e=this._$dragElement)===null||e===void 0||e.remove()}else this._toggleDraggingClass(!1);this._$dragElement=null}_resetSourceElement(){this._toggleDragSourceClass(!1),this._$sourceElement=null}_detachEventHandlers(){Y.off(this._$content(),`.${Jr}`),Y.off(this._getArea(),`.${Jr}`)}_move(e,t){ui(t||this._$dragElement,e)}_getDraggableElement(e){const t=this._getSourceElement();if(t)return t;if(this.option("allowMoveByClick"))return this.$element();let s=M(e==null?void 0:e.target);const r=this._getItemsSelector();if(r[0]===">"){const o=this._$content().find(r);o.is(s)||(s=s.closest(o))}return s}_getSourceElement(){return this._getSourceDraggable()._$sourceElement}_pointerDownHandler(e){if(e5(e))return;const t={},n=this.$element(),{dragDirection:s}=this.option();(s==="horizontal"||s==="both")&&(t.left=e.pageX-n.offset().left+tr(n).left-Xe(n)/2),(s==="vertical"||s==="both")&&(t.top=e.pageY-n.offset().top+tr(n).top-ht(n)/2),this._move(t,n),this._getAction("onDragMove")(this._getEventArgs(e))}_isValidElement(e,t){var n;const{handle:s}=this.option(),r=M((n=e.originalEvent)===null||n===void 0?void 0:n.target);return s&&!r.closest(s).length||!t.length?!1:!t.is(".dx-state-disabled, .dx-state-disabled *")}_dragStartHandler(e){const t=this._getDraggableElement(e);if(this.dragInProgress=!0,!this._isValidElement(e,t)){e.cancel=!0;return}if(this._$sourceElement)return;const n=this._getDragStartArgs(e,t);if(this._getAction("onDragStart")(n),n.cancel){e.cancel=!0;return}this.option("itemData",n.itemData),this._setSourceDraggable(),this._$sourceElement=t;let s=t.offset();!this._hasClonedDraggable()&&this.option("autoScroll")&&(this._initScrollTop=this._getScrollableScrollTop(),this._initScrollLeft=this._getScrollableScrollLeft(),s=this._getDraggableElementOffset(s.left,s.top));const r=this._$dragElement=this._createDragElement(t);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(r.children());const o=r.css("position")==="fixed";this._initPosition(se({},n,{dragElement:r.get(0),initialOffset:o&&s})),this._getAction("onDraggableElementShown")(Object.assign({},n,{dragElement:r}));const a=this._getArea(),l=this._getAreaOffset(a),d=this._getBoundOffset(),c=kt(a),h=gt(a),u=Xe(r),p=ht(r),f=r.offset().left-l.left,g=r.offset().top-l.top;a.length&&(e.maxLeftOffset=f-d.left,e.maxRightOffset=c-f-u-d.right,e.maxTopOffset=g-d.top,e.maxBottomOffset=h-g-p-d.bottom),this.option("autoScroll")&&this._startAnimator()}_getAreaOffset(e){return e&&lr.offset(e)||{left:0,top:0}}_toggleDraggingClass(e){var t;(t=this._$dragElement)===null||t===void 0||t.toggleClass(this._addWidgetPrefix("dragging"),e)}_toggleDragSourceClass(e,t){const n=t||this._$sourceElement;n==null||n.toggleClass(this._addWidgetPrefix("source"),e)}_setGestureCoverCursor(e){M(".dx-gesture-cover").css("cursor",e.css("cursor"))}_getBoundOffset(){let e=this.option("boundOffset");return Ie(e)&&(e=e.call(this)),vj(e)}_getArea(){let e=this.option("boundary");return Ie(e)&&(e=e.call(this)),M(e)}_getContainer(){let{container:e}=this.option();return e===void 0&&(e=ja()),M(e)}_getDraggableElementOffset(e,t){var n,s;const r=this._initScrollTop,o=this._initScrollLeft,a=this._getScrollableScrollTop(),l=this._getScrollableScrollLeft(),c=M(this.element()).css("position")==="fixed",h={left:(((n=this._startPosition)===null||n===void 0?void 0:n.left)??0)+e,top:(((s=this._startPosition)===null||s===void 0?void 0:s.top)??0)+t};return c||this._hasClonedDraggable()?h:{left:jt(l)?h.left+l-o:h.left,top:jt(a)?h.top+a-r:h.top}}_hasClonedDraggable(){return this.option("clone")||this.option("dragTemplate")}_dragMoveHandler(e){if(this._dragMoveArgs=e,!this._$dragElement){e.cancel=!0;return}const t=this._getDraggableElementOffset(e.offset.x,e.offset.y);this._move(t),this._updateScrollable(e);const n=this._getEventArgs(e);if(this._getAction("onDragMove")(n),n.cancel===!0)return;this._getTargetDraggable().dragMove(e,scrollBy)}_updateScrollable(e){const t=this;if(t.option("autoScroll")){const n=WC(e),s=ve.elementsFromPoint(n.x,n.y,this.$element().get(0));t._verticalScrollHelper.updateScrollable(s,n),t._horizontalScrollHelper.updateScrollable(s,n)}}_getScrollable(e){let t;return e.parents().toArray().some(n=>{const s=M(n);return this._horizontalScrollHelper.isScrollable(s)||this._verticalScrollHelper.isScrollable(s)?(t=s,!0):!1}),t}_getScrollableScrollTop(){var e;return((e=this._getScrollable(M(this.element())))===null||e===void 0?void 0:e.scrollTop())??0}_getScrollableScrollLeft(){var e;return((e=this._getScrollable(M(this.element())))===null||e===void 0?void 0:e.scrollLeft())??0}_defaultActionArgs(){const e=super._defaultActionArgs.apply(this,arguments),t=this.option("component");return t&&(e.component=t,e.element=t.element()),e}_getEventArgs(e){const t=this._getSourceDraggable(),n=this._getTargetDraggable();return{event:e,itemData:t.option("itemData"),itemElement:We(t._$sourceElement),fromComponent:t.option("component")||t,toComponent:n.option("component")||n,fromData:t.option("data"),toData:n.option("data")}}_getDragStartArgs(e,t){const n=this._getEventArgs(e);return{event:n.event,itemData:n.itemData,itemElement:t,fromData:n.fromData}}_revertItemToInitialPosition(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)}_dragEndHandler(e){const t=de(),n=this._getEventArgs(e),s=this._getEventArgs(e),r=this._getTargetDraggable();let o=!0;this.dragInProgress=!1;try{this._getAction("onDragEnd")(n)}finally{Ae(ci(n.cancel)).done(a=>{if(!a&&(r!==this&&r._getAction("onDrop")(s),!s.cancel)){o=!1,Ae(ci(r.dragEnd(n))).always(t.resolve);return}t.resolve()}).fail(t.resolve),t.done(()=>{o&&this._revertItemToInitialPosition(),this._resetDragOptions(r)})}}_isTargetOverAnotherDraggable(e){const t=this._getSourceDraggable();if(this===t)return!1;const n=t._$dragElement,s=t.$element(),r=this.$element(),o=WC(e),l=ve.elementsFromPoint(o.x,o.y,this.element()).filter(u=>{const p=M(u);return p.hasClass(this._addWidgetPrefix())?!p.closest(n).length:!1})[0],d=this._getSourceElement(),c=l===s.get(0),h=M(l).closest(d).length;return!l||l===r.get(0)&&!c&&!h}_dragEnterHandler(e){this._fireDragEnterEvent(e),this._isTargetOverAnotherDraggable(e)&&this._setTargetDraggable(),this._getSourceDraggable().dragEnter(e)}_dragLeaveHandler(e){this._fireDragLeaveEvent(e),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset(),this._getSourceDraggable().dragLeave(e)}_keydownHandler(e){this.dragInProgress&&e.key==="Escape"&&this._keydownEscapeHandler(e)}_keydownEscapeHandler(e){var t;if(!this._getSourceElement())return;const s=this._getEventArgs(e);if(this._getAction("onDragCancel")(s),s.cancel)return;this.dragInProgress=!1,(t=sm)===null||t===void 0||t._toggleDraggingClass(!1),this._detachEventHandlers(),this._revertItemToInitialPosition();const r=this._getTargetDraggable();this._resetDragOptions(r),this._attachEventHandlers()}_getAction(e){return this[`_${e}Action`]||this._createActionByOption(e)}_getAnonymousTemplateName(){return"content"}_initTemplates(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new Bl}),super._initTemplates.apply(this,arguments))}_render(){super._render(),this.$element().addClass(this._addWidgetPrefix());const e=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),t=this._getTemplateByOption("contentTemplate");t&&M(t.render({container:this.element(),transclude:e}))}_optionChanged(e){const{name:t}=e;switch(t){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDragCancel":case"onDraggableElementShown":this[`_${t}Action`]=this._createActionByOption(t);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"onCancelByEsc":this._keydownHandler();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;default:super._optionChanged(e)}}_getTargetDraggable(){return ib||this}_getSourceDraggable(){return sm||this}_setTargetDraggable(){const e=this.option("group"),t=this._getSourceDraggable();e&&e===t.option("group")&&(ib=this)}_setSourceDraggable(){sm=this}_resetSourceDraggable(){sm=null}_resetTargetDraggable(){ib=null}_resetDragOptions(e){this.reset(),e.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()}_dispose(){super._dispose(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()}_fireDragEnterEvent(e){const t=this._getEventArgs(e);this._getAction("onDragEnter")(t)}_fireDragLeaveEvent(e){const t=this._getEventArgs(e);this._getAction("onDragLeave")(t)}}St(Jr,jN);const iO=bt(),Afe="dxSortable",sO=i=>M(i).is(":visible"),kfe=(i,e)=>{var t,n;if(!i)return;const s=((t=e.to)===null||t===void 0?void 0:t.left)||0,r=((n=e.to)===null||n===void 0?void 0:n.top)||0;i.style.transform=`translate(${s}px,${r}px)`,i.style.transition=`transform ${e.duration}ms ${e.easing}`},Ofe=i=>{i&&(i.style.transform="",i.style.transition="")};function Rfe(i){const e=i.offset(),{style:t}=i[0],n=parseFloat(t.paddingLeft)||0,s=parseFloat(t.paddingRight)||0,r=parseFloat(t.paddingTop)||0,o=i[0].clientWidth-(n+s),a=ht(i),l=e.left+n,d=e.top+r;return{left:l,right:l+o,top:d,bottom:d+a}}class zN extends jN{_init(){super._init(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null}_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,placeholderClassName:"",animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})}reset(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)}_getPrevVisibleItem(e,t){return e.slice(0,t).reverse().filter(sO)[0]}_dragStartHandler(e){if(super._dragStartHandler.apply(this,arguments),e.cancel===!0)return;const t=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(e),this.option("fromIndex",this._getElementIndex(t)),this.option("fromIndexOffset",this.option("offset"))}_subscribeToSourceScroll(e){const t=this._getScrollable(M(e.target));t&&(this._sourceScrollableInfo={element:t,scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop()},Y.off(t,"scroll",this._sourceScrollHandler),Y.on(t,"scroll",this._sourceScrollHandler))}_unsubscribeFromSourceScroll(){this._sourceScrollableInfo&&(Y.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)}_handleSourceScroll(e){const t=this._sourceScrollableInfo;t&&["scrollLeft","scrollTop"].forEach(n=>{if(e.target[n]!==t[n]){const s=e.target[n]-t[n];this._correctItemPoints(s),this._movePlaceholder(),t[n]=e.target[n]}})}_dragEnterHandler(e){if(super._dragEnterHandler.apply(this,arguments),this!==this._getSourceDraggable()&&(this._subscribeToSourceScroll(e),this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){const t=this.option("itemPoints"),n=t[t.length-1];if(n){const s=this.$element(),r=this._getSourceElement(),o=this._isVerticalOrientation(),a=o?gt(r,!0):kt(r,!0),l=s.get(0)[o?"scrollHeight":"scrollWidth"],d=s.get(0)[o?"scrollTop":"scrollLeft"],c=o?"top":"left",h=n[c],p=s.offset()[c]+l-d-h;if(p<a&&o){const f=this._getItems(),g=M(this._getPrevVisibleItem(f));this._$modifiedItem=g,this._modifiedItemMargin=g.get(0).style.marginBottom,g.css("marginBottom",a-p);const m=g.closest(".dx-sortable"),v=m.data("dxScrollable")||m.data("dxScrollView");v==null||v.update()}}}}_dragLeaveHandler(){super._dragLeaveHandler.apply(this,arguments),this!==this._getSourceDraggable()&&this._unsubscribeFromSourceScroll()}dragEnter(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)}dragLeave(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))}_allowDrop(e){const n=this._getTargetDraggable().$element(),s=this._getScrollable(n);if(s){const{left:r,right:o,top:a,bottom:l}=Rfe(s),d=this.option("toIndex"),c=this.option("itemPoints"),h=c==null?void 0:c.filter(u=>u.index===d)[0];if(h&&h.top!==void 0)return this._isVerticalOrientation()?a<=Math.ceil(h.top)&&Math.floor(h.top)<=l:r<=Math.ceil(h.left)&&Math.floor(h.left)<=o}return!0}dragEnd(e){this._unsubscribeFromSourceScroll();const t=this._getSourceElement(),n=this._getSourceDraggable(),s=n.NAME!==this.NAME,r=this.option("toIndex"),{event:o}=e,a=this._allowDrop(o);if(r!==null&&r>=0&&a){let l,d;if(n!==this&&(l=this._fireAddEvent(o),l||(d=this._fireRemoveEvent(o))),s&&yp(t),this.option("moveItemOnDrop")&&!l&&this._moveItem(t,r,d),n===this)return this._fireReorderEvent(o)}return de().resolve()}dragMove(e){const t=this.option("itemPoints");if(!t)return;const n=this._isVerticalOrientation(),s=n?"top":"left",r=n?e.pageY:e.pageX,o=this.option("rtlEnabled");let a;for(let l=t.length-1;l>=0;l--){const d=t[l+1]&&(t[l][s]+t[l+1][s])/2;if((!n&&o?r>d:d>r)||d===void 0)a=t[l];else break}a&&(this._updatePlaceholderPosition(e,a),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}_isIndicateMode(){return this.option("dropFeedbackMode")==="indicate"||this.option("allowDropInsideItem")}_createPlaceholder(){if(!this._isIndicateMode())return;const e=this.option("placeholderClassName");return this._$placeholderElement=M("<div>").addClass(this._addWidgetPrefix("placeholder")).addClass(e??"").insertBefore(this._getSourceDraggable()._$dragElement),this._$placeholderElement}_getItems(){const e=this._getItemsSelector();return this._$content().find(e).not(`.${this._addWidgetPrefix("placeholder")}`).not(`.${this._addWidgetPrefix("clone")}`).toArray()}_allowReordering(){const e=this._getSourceDraggable(),t=this._getTargetDraggable();return e!==t||this.option("allowReordering")}_isValidPoint(e,t,n){const s=this.option("allowDropInsideItem");return!(n||this._allowReordering())&&(e!==0||!s)?!1:this._isIndicateMode()?t===-1||e!==t&&(n||e!==t+1):!0}_getItemPoints(){const e=this;let t=[],n,s,r;const{rtlEnabled:o}=e.option(),a=e._isVerticalOrientation(),l=e._getItems(),d=l.filter(sO),c=d.length,h=this._getDraggableElement(),u=d.indexOf(h.get(0));if(c){for(let p=0;p<=c;p++){const f=!a&&o^p===c,g=a&&p===c;p<c&&(n=M(d[p]),s=n.offset(),r=kt(n)),t.push({dropInsideItem:!1,left:s.left+(f?r:0),top:s.top+(g?t[p-1].height:0),index:p===c?l.length:l.indexOf(n.get(0)),$item:n,width:kt(n),height:gt(n),isValid:e._isValidPoint(p,u)})}if(this.option("allowDropInsideItem")){const p=t;t=[];for(let f=0;f<p.length;f++)t.push(p[f]),p[f+1]&&t.push(se({},p[f],{dropInsideItem:!0,top:Math.floor((p[f].top+p[f+1].top)/2),left:Math.floor((p[f].left+p[f+1].left)/2),isValid:this._isValidPoint(f,u,!0)}))}}else t.push({dropInsideItem:!1,index:0,isValid:!0});return t}_updateItemPoints(e){(e||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())}_correctItemPoints(e){const t=this.option("itemPoints");if(e&&t&&!this.option("autoUpdate")){const s=this._isVerticalOrientation()?"top":"left";t.forEach(r=>{r[s]-=e})}}_getElementIndex(e){return this._getItems().indexOf(e.get(0))}_getDragTemplateArgs(e){const t=super._getDragTemplateArgs.apply(this,arguments);return t.model.fromIndex=this._getElementIndex(e),t}_togglePlaceholder(e){var t;(t=this._$placeholderElement)===null||t===void 0||t.toggle(e)}_isVerticalOrientation(){const{itemOrientation:e}=this.option();return e==="vertical"}_normalizeToIndex(e,t){const n=this._getSourceDraggable()!==this._getTargetDraggable(),s=this._getActualFromIndex();return e===null?s:Math.max(n||s>=e||t?e:e-1,0)}_updatePlaceholderPosition(e,t){const n=this._getSourceDraggable(),s=this._normalizeToIndex(t.index,t.dropInsideItem),r=se(this._getEventArgs(e),{toIndex:s,dropInsideItem:t.dropInsideItem});if(t.isValid&&this._getAction("onDragChange")(r),r.cancel||!t.isValid){t.isValid||this.option({dropInsideItem:!1,toIndex:null});return}this.option({dropInsideItem:t.dropInsideItem,toIndex:t.index}),this._getAction("onPlaceholderPrepared")(se(this._getEventArgs(e),{placeholderElement:We(this._$placeholderElement),dragElement:We(n._$dragElement)})),this._updateItemPoints()}_makeWidthCorrection(e,t){if(this._$scrollable=this._getScrollable(e),this._$scrollable){const n=Xe(this._$scrollable),s=this._$scrollable.offset().left-e.offset().left,r=kt(e)-s-n;s>0&&(t-=s),r>0&&(t-=r)}return t}_updatePlaceholderSizes(e,t){const n=this.option("dropInsideItem"),s=this._isVerticalOrientation();let r="",o="";e.toggleClass(this._addWidgetPrefix("placeholder-inside"),n),(s||n)&&(r=kt(t)),(!s||n)&&(o=gt(t)),r=this._makeWidthCorrection(t,r),e.css({width:r,height:o})}_moveItem(e,t,n){let s;const r=this._getItems(),o=r[t],a=this._getSourceDraggable();n&&(e=e.clone(),a._toggleDragSourceClass(!1,e)),o||(s=r[t-1]),this._moveItemCore(e,o,s)}_moveItemCore(e,t,n){!t&&!n?e.appendTo(this.$element()):n?e.insertAfter(M(n)):e.insertBefore(M(t))}_getDragStartArgs(e,t){return se(super._getDragStartArgs.apply(this,arguments),{fromIndex:this._getElementIndex(t)})}_getEventArgs(e){const t=this._getSourceDraggable(),n=this._getTargetDraggable(),s=n.option("dropInsideItem");return se(super._getEventArgs.apply(this,arguments),{fromIndex:t.option("fromIndex"),toIndex:this._normalizeToIndex(n.option("toIndex"),s),dropInsideItem:s})}_optionChanged(e){const{name:t}=e;switch(t){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this[`_${t}Action`]=this._createActionByOption(t);break;case"fromIndex":[!1,!0].forEach(n=>{const s=n?e.value:e.previousValue;if(s!==null){const r=M(this._getItems()[s]);this._toggleDragSourceClass(n,r)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(e);break;case"toIndex":this._optionChangedToIndex(e);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":case"placeholderClassName":break;default:super._optionChanged(e)}}_optionChangedDropInsideItem(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()}_isPositionVisible(e){const t=this.$element();let n;if(t.css("overflow")!=="hidden"?n=t.get(0):t.parents().each(function(){if(M(this).css("overflow")!=="visible")return n=this,!1}),n){const s=en(n),r=this._isVerticalOrientation(),o=r?"top":"left",a=r?"bottom":"right",l=r?iO.pageYOffset:iO.pageXOffset;if(e[o]<s[o]+l||e[o]>s[a]+l)return!1}return!0}_optionChangedToIndex(e){const t=e.value;if(this._isIndicateMode()){const n=t!==null&&t>=0;this._togglePlaceholder(n),n&&this._movePlaceholder()}else this._moveItems(e.previousValue,e.value,e.fullUpdate)}update(){if(this.option("fromIndex")===null&&this.option("toIndex")===null)return;this._updateItemPoints(!0),this._updateDragSourceClass();const e=this.option("toIndex");this._optionChangedToIndex({value:e,fullUpdate:!0})}_updateDragSourceClass(){const e=this._getActualFromIndex(),t=M(this._getItems()[e]);t.length&&(this._$sourceElement=t,this._toggleDragSourceClass(!0,t))}_makeLeftCorrection(e){const t=this._$scrollable;if(t&&this._isVerticalOrientation()){const n=t.offset().left-e;n>0&&(e+=n)}return e}_movePlaceholder(){const e=this,t=e._$placeholderElement||e._createPlaceholder();if(!t)return;const n=e._getItems(),s=e.option("toIndex"),r=e._isVerticalOrientation(),o=this.option("rtlEnabled"),a=e.option("dropInsideItem");let l=null,d=n[s];if(d){const c=M(d);l=c.offset(),!r&&o&&!a&&(l.left+=kt(c,!0))}else{const c=d=this._getPrevVisibleItem(n,s);c&&(l=M(c).offset(),r?l.top+=gt(c,!0):o||(l.left+=kt(c,!0)))}if(e._updatePlaceholderSizes(t,M(d)),l&&!e._isPositionVisible(l)&&(l=null),l){const c=r&&s===n.length,h=gt(t);l.left=e._makeLeftCorrection(l.left),l.top=c&&l.top>=h?l.top-h:l.top,e._move(l,t)}t.toggle(!!l)}_getPositions(e,t,n,s){const r=[];for(let o=0;o<e.length;o++){let a=0;if(s===null||n===null){r.push(a);continue}n===-1?o>=s&&(a=t):s===-1?o>n&&(a=-t):n<s?o>n&&o<s&&(a=-t):n>s&&o>=s&&o<n&&(a=t),r.push(a)}return r}_getDraggableElementSize(e){const t=this._getDraggableElement();let n=this.option("draggableElementSize");return n||(n=e?(gt(t)+gt(t,!0))/2:(kt(t)+kt(t,!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",n)),n}_getActualFromIndex(){const{fromIndex:e,fromIndexOffset:t,offset:n}=this.option();return e==null?null:e+t-n}_moveItems(e,t,n){const s=this._getActualFromIndex(),r=this._isVerticalOrientation(),o=r?"top":"left",a=this._getDraggableElementSize(r),l=this._getItems(),d=this._getPositions(l,a,s,e),c=this._getPositions(l,a,s,t),h=this.option("animation"),u=this.option("rtlEnabled");for(let p=0;p<l.length;p++){const f=l[p],g=d[p],m=c[p];t===null||s===null?Ofe(f):(g!==m||n&&G(m))&&kfe(f,se({},h,{to:{[o]:!r&&u?-m:m}}))}}_toggleDragSourceClass(e,t){const n=t||this._$sourceElement;super._toggleDragSourceClass.apply(this,arguments),this._isIndicateMode()||n==null||n.toggleClass(this._addWidgetPrefix("source-hidden"),e)}_dispose(){this.reset(),super._dispose()}_fireAddEvent(e){const t=this._getEventArgs(e);return this._getAction("onAdd")(t),t.cancel}_fireRemoveEvent(e){const t=this._getSourceDraggable(),n=this._getEventArgs(e);return t._getAction("onRemove")(n),n.cancel}_fireReorderEvent(e){const t=this._getEventArgs(e);return this._getAction("onReorder")(t),t.promise||de().resolve()}}St(Afe,zN);const Pfe={dragCell:"dx-drag-cell"},xl={cellFocusDisabled:"dx-cell-focus-disabled",handleIcon:"drag-icon",commandDrag:"dx-command-drag",sortableWithoutHandle:"dx-sortable-without-handle",rowsView:"rowsview",dragView:"dragview"},Mfe=i=>(e,t)=>{const n=M(e);if(t.rowType==="data")return n.addClass(xl.cellFocusDisabled),M("<span>").addClass(i(xl.handleIcon));xe.setEmptyText(n)},Ffe={createHandleTemplateFunc:Mfe},Bfe=i=>class extends i{init(){super.init.apply(this,arguments),this._updateHandleColumn()}optionChanged(e){e.name==="rowDragging"&&(this._updateHandleColumn(),this._invalidate(!0,!0),e.handled=!0),super.optionChanged.apply(this,arguments)}_allowReordering(){const e=this.option("rowDragging");return!!(e&&(e.allowReordering||e.allowDropInsideItem||e.group))}_updateHandleColumn(){const e=this.option("rowDragging"),t=this._allowReordering(),n=this._columnsController,s=t&&e.showDragIcons;n==null||n.addCommandColumn({type:"drag",command:"drag",visibleIndex:-2,alignment:"center",elementAttr:[{name:Pfe.dragCell,value:""}],cssClass:xl.commandDrag,width:"auto",cellTemplate:this._getHandleTemplate(),visible:s}),n==null||n.columnOption("type:drag","visible",s)}_renderContent(){const e=this.option("rowDragging"),t=this._allowReordering(),n=super._renderContent.apply(this,arguments),s=this._isFixedTableRendering,r=s?"_sortableFixed":"_sortable",o=s?"_sortable":"_sortableFixed",a=c=>{var h;(h=this._sortableFixed)===null||h===void 0||h.$element().css("pointerEvents",c?"auto":"")},l=".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)",d=this.option("dataRowTemplate")?`> table > tbody${l}`:`> table > tbody > ${l}`;return(t||this[r])&&n.length&&(this[r]=this._createComponent(n,zN,se({component:this.component,contentTemplate:null,filter:d,cursorOffset:c=>{const{event:h}=c,u=M(this.element()).offset();return{x:h.pageX-u.left}},onDraggableElementShown:c=>{if(e.dragTemplate)return;const u=M(c.dragElement).children(".dx-widget").data(this.component.NAME);this._synchronizeScrollLeftPosition(u)},dragTemplate:this._getDraggableRowTemplate(),handle:e.showDragIcons&&`.${xl.commandDrag}`,dropFeedbackMode:"indicate"},e,{onDragStart:c=>{var h,u;(h=this.getController("keyboardNavigation"))===null||h===void 0||h._resetFocusedCell();const p=c.component.getVisibleRows()[c.fromIndex];c.itemData=p==null?void 0:p.data;const f=p&&p.rowType==="data";c.cancel=!t||!f,(u=e.onDragStart)===null||u===void 0||u.call(e,c)},onDragEnter:c=>{c.fromComponent!==c.toComponent&&a(!0)},onDragLeave:()=>{a(!1)},onDragEnd:c=>{var h;a(!1),(h=e.onDragEnd)===null||h===void 0||h.call(e,c)},onAdd:c=>{var h;a(!1),(h=e.onAdd)===null||h===void 0||h.call(e,c)},dropFeedbackMode:e.dropFeedbackMode,onOptionChanged:c=>{this._sortableFixed&&(c.name==="fromIndex"||c.name==="toIndex")&&this[o].option(c.name,c.value)}})),n.toggleClass("dx-scrollable-container",s),n.toggleClass(xl.sortableWithoutHandle,t&&!e.showDragIcons)),n}_renderCore(e){super._renderCore.apply(this,arguments),e&&e.changeType==="update"&&e.repaintChangesOnly&&xe.isVirtualRowRendering(this)&&Si(()=>{this._updateSortable()})}_updateSortable(){const e=this._dataController.getRowIndexOffset(),t=e-this._previousOffset;[this._sortable,this._sortableFixed].forEach(n=>{const s=n==null?void 0:n.option("toIndex");G(s)&&G(this._previousOffset)&&(n==null||n.option("toIndex",s-t)),n==null||n.option("offset",e),n==null||n.update()}),this._previousOffset=e}_resizeCore(){super._resizeCore.apply(this,arguments),this._updateSortable()}_getDraggableGridOptions(e){const t=this.option(),n=this.getColumns(),s=M(this.getRowElement(e.rowIndex));return{dataSource:[{id:1,parentId:0}],showBorders:!0,showColumnHeaders:!1,scrolling:{useNative:!1,showScrollbar:"never"},pager:{visible:!1},loadingTimeout:null,columnFixing:t.columnFixing,columnAutoWidth:t.columnAutoWidth,showColumnLines:t.showColumnLines,columns:n.map(r=>({width:r.width||r.visibleWidth,fixed:r.fixed,fixedPosition:r.fixedPosition})),isDragging:!0,onRowPrepared:r=>{const o=r.component.getView("rowsView");M(r.rowElement).replaceWith(s.eq(o._isFixedTableRendering?1:0).clone())}}}_synchronizeScrollLeftPosition(e){const t=e==null?void 0:e.getScrollable();t==null||t.scrollTo({x:this._scrollLeft})}_getDraggableRowTemplate(){return e=>{const t=this.component.$element(),n=M("<div>");$h(n,Xe(t));const s=this._dataController.items(),r=s&&s[e.fromIndex],o=this._getDraggableGridOptions(r);return this._createComponent(n,this.component.NAME,o),n.find(".dx-gridbase-container").children(`:not(.${this.addWidgetPrefix(xl.rowsView)})`).hide(),n.addClass(this.addWidgetPrefix(xl.dragView)),n}}_getHandleTemplate(){return Ffe.createHandleTemplateFunc(e=>this.addWidgetPrefix(e))}},Nfe={defaultOptions:()=>({rowDragging:{showDragIcons:!0,dropFeedbackMode:"indicate",allowReordering:!1,allowDropInsideItem:!1}}),extenders:{views:{rowsView:Bfe}}};Ue.registerModule("rowDragging",Nfe);class Vfe extends O1{constructor(){super(...arguments),this._toastView=null}init(){this._toastView=this.getView("toastView")}showToast(e){var t;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(t=this._toastView)===null||t===void 0||t.showToast(e,n)}async hideToast(){var e;await((e=this._toastView)===null||e===void 0?void 0:e.hideToast())}dispose(){var e;(e=this._toastView)===null||e===void 0||e.dispose()}}const Lfe=Or.add,$fe=["info","warning","error","success"],UC=[],Hfe={top:{my:"top",at:"top",of:null,offset:"0 0"},bottom:{my:"bottom",at:"bottom",of:null,offset:"0 -20"},center:{my:"center",at:"center",of:null,offset:"0 0"},right:{my:"center right",at:"center right",of:null,offset:"0 0"},left:{my:"center left",at:"center left",of:null,offset:"0 0"}},jfe={h:0,v:0};Lfe(()=>{const i=ve.getDocument();Y.subscribeGlobal(i,mt.down,e=>{for(let s=UC.length-1;s>=0;s-=1){var t,n;if(!((t=(n=UC[s])._proxiedDocumentDownHandler)!==null&&t!==void 0&&t.call(n,e)))return}})});class WN extends Ps{_getDefaultOptions(){return Object.assign({},super._getDefaultOptions(),{message:"",type:"info",displayTime:2e3,position:"bottom center",animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},shading:!1,height:"auto",hideTopOverlayHandler:null,preventScrollEvents:!1,closeOnSwipe:!0,closeOnClick:!1})}_defaultOptionsRules(){const e={displayTime:Ns(Yt())?4e3:2e3,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:200,from:0,to:1},hide:{type:"fade",duration:200,from:1,to:0}}},t=[{device:s=>s.deviceType==="phone",options:Object.assign({width:"calc(100vw - 40px)"},e)},{device:s=>s.deviceType==="tablet",options:Object.assign({width:"auto",maxWidth:"80vw"},e)},{device:s=>Ns(Yt())&&s.deviceType==="desktop",options:{minWidth:344,maxWidth:568,displayTime:4e3}}];return[...super._defaultOptionsRules(),...t]}_init(){super._init(),this._posStringToObject()}_renderContentImpl(){const{message:e,type:t}=this.option(),n=this.$content();return n&&(this._message=M("<div>").addClass("dx-toast-message").text(e??"").appendTo(n)),this.setAria("role","alert",this._message),t&&$fe.includes(t.toLowerCase())&&(n==null||n.prepend(M("<div>").addClass("dx-toast-icon"))),super._renderContentImpl()}_render(){var e,t,n;super._render(),(e=this.$element())===null||e===void 0||e.addClass("dx-toast"),(t=this.$wrapper())===null||t===void 0||t.addClass("dx-toast-wrapper");const{type:s}=this.option();if(s){var r;(r=this.$content())===null||r===void 0||r.addClass(`dx-toast-${s.toLowerCase()}`)}(n=this.$content())===null||n===void 0||n.addClass("dx-toast-content"),this._toggleCloseEvents("Swipe"),this._toggleCloseEvents("Click")}_toggleCloseEvents(e){const t=`dx${e.toLowerCase()}`;Y.off(this.$content(),t);const n=`closeOn${e}`;this.option(n)&&Y.on(this.$content(),t,this.hide.bind(this))}_posStringToObject(){const{position:e}=this.option();if(!Ke(e))return;const t=e.split(" ")[0],n=e.split(" ")[1],s=Object.assign({boundaryOffset:jfe},Hfe[t]);switch(this.option("position",s),n){case"center":case"left":case"right":if(s&&typeof s=="object"){const r=`${s.at} ${n}`,o=`${s.my} ${n}`;this.option("position.at",r),this.option("position.my",o)}}}_show(){const e=super._show();return e.always(()=>{clearTimeout(this._hideTimeout);const{displayTime:t}=this.option();this._hideTimeout=setTimeout(this.hide.bind(this),t)}),e}_overlayStack(){return UC}_zIndexInitValue(){return super._zIndexInitValue()+8e3}_dispose(){clearTimeout(this._hideTimeout),super._dispose()}_optionChanged(e){var t;const{name:n,value:s,previousValue:r}=e;switch(n){case"type":if((t=this.$content())===null||t===void 0||t.removeClass(`dx-toast-${r}`),s){var o;(o=this.$content())===null||o===void 0||o.addClass(`dx-toast-${String(s).toLowerCase()}`)}break;case"message":this._message&&this._message.text(s);break;case"closeOnSwipe":this._toggleCloseEvents("Swipe");break;case"closeOnClick":this._toggleCloseEvents("Click");break;case"displayTime":break;default:super._optionChanged(e)}}}St("dxToast",WN);class zfe extends H0{constructor(){super(...arguments),this._toastInstance=null,this._$toastContainer=null}_createToastInstance(e){return this._toastInstance?this._toastInstance:(this._$toastContainer||(this._$toastContainer=M("<div>").appendTo(this.component.$element())),this._toastInstance=this._createComponent(this._$toastContainer,WN,Object.assign({position:{my:"bottom",at:"bottom",of:this.component.$element().get(0)}},e,{visible:!1})),this._toastInstance)}showToast(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this._createToastInstance(t);n==null||n.option(Object.assign({},t,{message:e,visible:!0}))}async hideToast(){var e;await((e=this._toastInstance)===null||e===void 0?void 0:e.hide())}dispose(){this._toastInstance&&(this._toastInstance.dispose(),this._toastInstance=null),this._$toastContainer&&(this._$toastContainer.remove(),this._$toastContainer=null)}}Ue.registerModule("toast",{defaultOptions:()=>({}),controllers:{toastViewController:Vfe},views:{toastView:zfe}});const Jg=Y.on;Y.one;const rc=Y.off;Y.trigger;Y.Event;const Wfe=Y.triggerHandler;/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function _d(...i){return i.filter(e=>e).join(".")}function Ufe(i){const e=i.split("[");return e.length===1?{isCollectionItem:!1,name:i}:{isCollectionItem:!0,name:e[0],index:Number(e[1].slice(0,-1))}}const Kfe=(i,e)=>Object.keys(i).length!==Object.keys(e).length?!1:Object.keys(i).every(t=>i[t]===e[t]);/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const UN=["style","id"],KN="className",Gfe=["dropZone","dialogTrigger"],qfe={WidgetClass:{},isPortalComponent:!1,defaults:{},templateProps:[],expectedChildren:{},subscribableOptions:[],independentEvents:[],useRequestAnimationFrameFlag:!1,clearExtensions:()=>{},renderChildren:()=>{},beforeCreateWidget:()=>{},afterCreateWidget:()=>{},children:null};function Yfe(i){return i==="children"||i===KN||UN.includes(i)||Object.prototype.hasOwnProperty.call(qfe,i)}function Xfe(i){var e,t;return i!=null&&i.current?(t=(e=i.current).instance)!=null&&t.call(e).element()?i.current.instance().element():i.current:i}function Zfe(i,e,t){t=t||[];const n={},s={},r={},o={};return t.forEach(a=>{o[a.component]=!0,o[a.render]=!0}),Object.keys(i).forEach(a=>{const l=e?e[a]:null,d=i[a];if(!Yfe(a)){if(l){n[l]=d;return}if(o[a]){r[a]=d;return}if(Gfe.includes(a)){s[a]=Xfe(d);return}s[a]=i[a]}}),{options:s,defaults:n,templates:r}}function rO(i){return i[KN]}/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function Qfe(i,e,t){return e.tmplOption==="template"&&t?{optionName:e.tmplOption,isAnonymous:!0,type:"children",content:i.children}:i[e.render]?{optionName:e.tmplOption,isAnonymous:!0,type:"render",content:i[e.render]}:i[e.component]?{optionName:e.tmplOption,isAnonymous:!0,type:"component",content:i[e.component]}:null}/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const GN=ne.createContext(void 0),oO=ne.createContext(void 0),yc=ne.createContext({parentExpectedChildren:{},parentFullName:"",onChildOptionsReady:()=>{},onNamedTemplateReady:()=>{},getOptionComponentKey:()=>0,treeUpdateToken:Symbol("initial tree update token"),parentType:"component"}),uE=ne.createContext({isTemplateRendering:!1});/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function qN(i){let e=i,t="";for(;e!=null&&e.name;)t=e.name.concat(typeof e.index=="number"?`[${e.index}]`:"",t?`.${t}`:""),e=e.parentNode;return t}const Jfe={isTemplateRendering:!0},eme=(i,e)=>{const t=Zfe(i.props,i.descriptor.initialValuesProps,i.descriptor.templates);return{node:{name:i.descriptor.name,predefinedOptions:i.descriptor.predefinedValuesProps,initialOptions:t.defaults,options:t.options,templates:[],configCollections:{},configs:{}},configCollectionMaps:{},getConfigCollectionData(n){return this.node.configCollections[n]||(this.node.configCollections[n]=[],this.configCollectionMaps[n]={}),[this.node.configCollections[n],this.configCollectionMaps[n]]},addChildNode(n,s){s.parentNode=this.node,this.node.configs[n]=s},addCollectionNode(n,s,r){const[o,a]=this.getConfigCollectionData(n),l=a[r]??o.length;s.index=l,s.parentNode=this.node,l<o.length?o[l]=s:(a[r]=l,o.push(s))},addTemplate(n){this.node.templates.push(n)},updateAnonymousTemplates(n){this.node.templates=this.node.templates.filter(s=>!s.isAnonymous),i.descriptor.templates.forEach(s=>{const r=Qfe(i.props,s,n&&(i.descriptor.isCollection||e.length>0));r&&this.node.templates.push(this.wrapTemplate(r))})},wrapTemplate(n){return n.type==="children"?{...n,content:ne.createElement(uE.Provider,{value:Jfe},n.content)}:n}}};/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function YN(i,e,t,n){const s=ne.useContext(yc),{parentFullName:r}=s,o=Symbol("update token"),a=eme(i,r),l=ne.useRef(0),d={parentExpectedChildren:i.descriptor.expectedChildren,parentFullName:_d(r,i.descriptor.name),parentType:n,treeUpdateToken:o,getOptionComponentKey:()=>(l.current+=1,l.current),onNamedTemplateReady:(c,h)=>{h===o&&c&&a.addTemplate(c)},onChildOptionsReady:(c,h,u,p)=>{if(u!==o)return;const{isCollection:f,name:g}=h;if(f){a.addCollectionNode(g,c,p);return}a.addChildNode(g,c)}};return ne.useLayoutEffect(()=>{a.updateAnonymousTemplates(e())},[t]),[a.node,d]}/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function KC(i,e,t){const n=qN(i);i.templates.forEach(s=>{if(s.isAnonymous){const r=_d(n,s.optionName);e[s.optionName]=r,t[r]=s}else t[s.optionName]=s})}function $c(i,e,t){const n={};return Object.keys(i.predefinedOptions).forEach(s=>{n[s]=i.predefinedOptions[s]}),Object.keys(i.configs).forEach(s=>{n[s]=$c(i.configs[s],e,t)}),Object.keys(i.configCollections).forEach(s=>{n[s]=i.configCollections[s].map(r=>$c(r,e,t))}),t||Object.keys(i.initialOptions).forEach(s=>{n[s]=i.initialOptions[s]}),Object.keys(i.options).forEach(s=>{n[s]=i.options[s]}),KC(i,n,e),n}function GC(i,e){const t={},n=$c(i,t,e);return{templates:t,options:n}}var Na;(function(i){i[i.Simple=0]="Simple",i[i.Complex=1]="Complex",i[i.Array=2]="Array"})(Na||(Na={}));function XN(i,e){const t=e.shift();if(!t)return{value:i,type:Na.Simple};if(i instanceof Object&&Object.keys(i).includes(t))return XN(i[t],e)}function oc(i,e){const t=e.shift();if(!t)return{value:GC(i,!0).options,type:Na.Complex};const n=Ufe(t);if(n.name in i.options){const o=n.isCollectionItem?i.options[n.name][n.index]:i.options[n.name];return XN(o,e)}if(n.isCollectionItem){const o=i.configCollections[n.name];if(!o)return;const a=o[n.index];return a?oc(a,e):void 0}const s=i.configs[n.name];if(s)return oc(s,e);const r=i.configCollections[n.name];if(r)return e.length!==0?void 0:{value:r.map(o=>$c(o,{},!0)),type:Na.Array}}/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function e0(i,e){return i===e}function tme(i,e,t,n){const s={},r={},o={},a={};KC(i,s,r),KC(t,o,a),n.addRemovedValues(s,o,e),Object.keys(s).forEach(l=>{e0(s[l],o[l])||(n.options[_d(e,l)]=s[l])}),Object.keys(r).forEach(l=>{const d=r[l],c=a[l];c&&e0(d.content,c.content)||(n.templates[l]=d)})}function hE(i,e,t){const n=qN(i);if(!e){t.options[n]=$c(i,t.templates,!0);return}t.addRemovedValues(i.options,e.options,n),t.addRemovedValues(i.configCollections,e.configCollections,n),t.addRemovedValues(i.configs,e.configs,n),sme(i,n,e,t),Object.keys(i.configs).forEach(s=>{hE(i.configs[s],e.configs[s],t)}),Object.keys(i.options).forEach(s=>{e0(i.options[s],e.options[s])||(t.options[_d(n,s)]=i.options[s])}),tme(i,n,e,t)}function nme(i,e,t,n){Object.keys(e).filter(r=>!Object.keys(i).includes(r)).forEach(r=>{n.push(_d(t,r))})}function ime(i,e){const t={options:{},removedOptions:[],templates:{},addRemovedValues(n,s,r){nme(n,s,r,this.removedOptions)}};return hE(i,e,t),t}function sme(i,e,t,n){Object.keys(i.configCollections).forEach(s=>{const r=i.configCollections[s],o=t.configCollections[s]||[];if(!r||r.length!==o.length){const a=[];r.forEach(l=>{const d=$c(l,n.templates,!0);a.push(d)}),n.options[_d(e,s)]=a;return}for(let a=0;a<r.length;a+=1)hE(r[a],o[a],n)})}/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function sb(){return Math.random().toString(36).substring(2)}class rme{constructor(){this._map=new Map}set({key1:e,key2:t},n){let s=this._map.get(e);s||(s=new Map,this._map.set(e,s)),s.set(t,n)}get({key1:e,key2:t}){const n=this._map.get(e);return n?n.get(t):void 0}delete({key1:e,key2:t}){const n=this._map.get(e);n&&(n.delete(t),n.size===0&&this._map.delete(e))}clear(){this._map.clear()}get empty(){return this._map.size===0}*[Symbol.iterator](){for(const[e,t]of this._map)for(const[n,s]of t)yield[{key1:e,key2:n},s]}}class ome extends rme{}function ame(i){return i.length?`${i[0].toUpperCase()}${i.substr(1)}`:""}function lme(i){return!!Object.keys(i.ExpectedChildren||{}).length}/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const qC=new Set;let ZN=-1,QN=-1;function JN(){clearTimeout(ZN),clearTimeout(QN)}function eV(){JN(),ZN=window.setTimeout(()=>{QN=window.setTimeout(()=>{qC.forEach(i=>i.execGuards())})})}class dme{constructor(){this.guards={},this.isUpdating=!1,this.onOptionChanged=this.onOptionChanged.bind(this),this.wrapOptionValue=this.wrapOptionValue.bind(this)}setInstance(e,t,n,s){this.instance=e,this.currentConfig=t,this.subscribableOptions=new Set(n),this.independentEvents=new Set(s),qC.add(this)}getInitialOptions(e){const t=GC(e,!1),n={};return Object.keys(t.options).forEach(s=>{n[s]=this.wrapOptionValue(s,t.options[s])}),n}getTemplateOptions(e){return GC(e,!1).templates}update(e,t){const n=[],s=({value:o,fullName:a})=>{n.push([a,o])};this.instance.on("optionChanged",s);const r=ime(e,this.currentConfig);!r.options&&!r.templates&&!r.removedOptions.length||(this.instance.beginUpdate(),this.isUpdating=!0,r.removedOptions.forEach(o=>{this.resetOption(o)}),Object.keys(t).length>0&&this.setValue("integrationOptions",{templates:t}),Object.keys(r.options).forEach(o=>{this.setValue(o,r.options[o])}),this.isUpdating=!1,this.instance.off("optionChanged",s),this.currentConfig=e,n.forEach(([o,a])=>{const l=e.options[o];Object.prototype.hasOwnProperty.call(e.options,o)&&l!==a&&this.setValue(o,l)}),this.instance.endUpdate())}onOptionChanged(e){var r;if(this.isUpdating)return;let t=oc(this.currentConfig,e.fullName.split("."));if((!t||t.value!==e.value)&&this.callOptionChangeHandler(e.fullName,e.value),t=oc(this.currentConfig,e.fullName.split(".")),!t)return;const{value:n,type:s}=t;if(n instanceof Array&&s===Na.Array)for(let o=0;o<n.length;o+=1){const a=(r=e.value)==null?void 0:r[o];if(n[o]!==a){this.addGuard(e.fullName,n,a);return}}else if(s===Na.Complex&&n instanceof Object)Object.keys(n).forEach(o=>{var l;const a=(l=e.value)==null?void 0:l[o];n[o]!==a&&this.addGuard(_d(e.fullName,o),n[o],a)});else{const o=n===e.value,a=!o&&n instanceof Object&&e.value instanceof Object&&Kfe(n,e.value);if(o||a||this.instance.skipOptionsRollBack)return;this.addGuard(e.fullName,n,e.value)}}get isInstanceSet(){return!!this.instance}dispose(){qC.delete(this),Object.keys(this.guards).forEach(e=>{delete this.guards[e]}),this.instance=null}isOptionSubscribable(e){return this.subscribableOptions.has(e)}isIndependentEvent(e){return this.independentEvents.has(e)}callOptionChangeHandler(e,t){if(!this.isOptionSubscribable(e))return;const n=e.split("."),s=n[n.length-1];if(s.startsWith("on"))return;const r=`on${ame(s)}Change`;n[n.length-1]=r;const o=oc(this.currentConfig,n);if(o){if(typeof o.value!="function")throw new Error(`Invalid value for the ${r} property.
                ${r} must be a function.`);o.value(t)}}wrapOptionValue(e,t){return e.substr(0,2)==="on"&&typeof t=="function"?(...n)=>{(!this.isUpdating||this.isIndependentEvent(e))&&t(...n)}:t}addGuard(e,t,n){if(this.guards[e]!==void 0){this.guards[e].latestValue=n;return}const s=()=>{this.setValue(e,t),delete this.guards[e]};this.guards[e]={handler:s,latestValue:n},eV()}execGuards(){Object.values(this.guards).forEach(e=>e.handler())}resetOption(e){this.isCollectionOption(e)?this.setValue(e,[]):this.instance.resetOption(e)}isCollectionOption(e){const t=oc(this.currentConfig,e.split("."));return(t==null?void 0:t.type)===Na.Array}setValue(e,t){if(this.guards[e])try{if(e0(this.guards[e].latestValue,t))return}finally{delete this.guards[e]}this.instance.option(e,this.wrapOptionValue(e,t))}}/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const aO="__dx_react_guard_node__",lO=(i,e,t,n="")=>{const s={display:"none"};switch(i){case"TABLE":return ne.createElement("tbody",{style:s,ref:e,className:n});case"TBODY":return ne.createElement("tr",{style:s,ref:e,className:n});default:return ne.createElement(t,{style:s,ref:e,className:n})}},cme=({templateFactory:i,data:e,index:t,container:n,onRemoved:s,onRendered:r,componentKey:o})=>{const[a,l]=ne.useState(!1),d=ne.useRef(!1),c=ne.useMemo(()=>({lock(){d.current=!0},unlock(){d.current=!1}}),[]),h=ne.useRef([]),u=ne.useRef(),p=ne.useRef(),f=ne.useCallback((v,_)=>{_!=null&&_.isUnmounting||d.current||([...h.current,p.current].forEach(x=>x&&rc(x,ho,f)),s(o))},[s]);ne.useLayoutEffect(()=>{const v=h.current.filter(_=>_.nodeType===Node.ELEMENT_NODE);return v.length?v.forEach(_=>{rc(_,ho,f),Jg(_,ho,f)}):a?p.current&&(rc(p.current,ho,f),Jg(p.current,ho,f)):l(!0),()=>{const _=x=>{x&&n&&!n.contains(x)&&n.appendChild(x)};[...h.current,u.current,p.current].forEach(x=>_(x)),v.length&&v.forEach(x=>rc(x,ho,f))}},[f,a,n]),ne.useEffect(()=>{r()},[r]);const g=lO(n==null?void 0:n.nodeName,v=>{u.current=v,h.current=[];let _=v==null?void 0:v.previousSibling;for(;_&&(typeof _.className!="string"||!_.className.includes(aO));)h.current.push(_),_=_==null?void 0:_.previousSibling},"div",aO),m=a?lO(n==null?void 0:n.nodeName,v=>{p.current=v},"span"):void 0;return x0.createPortal(ne.createElement(ne.Fragment,null,ne.createElement(GN.Provider,{value:c},i({data:e,index:t,onRendered:r}),g,m)),n)},ume=ne.memo(cme);/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const hme=(i,e)=>({key1:i,key2:e}),pme=(i,e)=>{i.nodeType===Node.ELEMENT_NODE&&rc(i,ho,e)},fme=(i,e)=>{i.nodeType===Node.ELEMENT_NODE&&Jg(i,ho,e)},mme=i=>i.get?i.get(0):i,dO=()=>`${sb()}${sb()}${sb()}`,gme=({init:i,onTemplatesRendered:e})=>{const t=ne.useRef(!1),[n,s]=ne.useState({collection:new ome}),[r,o]=ne.useState(),a=ne.useRef(""),l=ne.useRef({}),{collection:d}=n,c=ne.useCallback(h=>({model:u,index:p,container:f,onRendered:g})=>{const m=mme(f),v=hme(u,m),_=T=>{const O=d.get(v);O&&(!T||O.componentKey===T)&&(d.delete(v),s({collection:d}))},x=()=>{_()},y=a.current;return d.set(v,{templateKey:h,index:p,componentKey:dO(),onRendered:()=>{pme(m,x),y===a.current&&(g==null||g())},onRemoved:_,onContainerRemoved:x}),s({collection:d}),m},[d]);return ne.useMemo(()=>{function h(g){switch(g.type){case"children":return()=>g.content;case"render":return m=>g.content(m.data,m.index);case"component":return m=>(m=m,ne.createElement.bind(null,g.content)(m));default:return()=>ne.createElement(ne.Fragment)}}function u(g){const m=Object.entries(g).reduce((_,[x,y])=>({..._,[x]:h(y)}),{});return l.current=m,Object.keys(m).reduce((_,x)=>(_[x]={render:c(x)},_),{})}function p(){a.current=dO(),n.collection.clear(),s({...n})}function f(g){t.current&&o({onUpdated:g})}i({createDXTemplates:u,clearInstantiationModels:p,updateTemplates:f})},[i,c]),ne.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),ne.useEffect(()=>{r&&r.onUpdated(),e()},[r,e]),n.collection.empty?null:ne.createElement(ne.Fragment,null,Array.from(n.collection).map(([{key1:h,key2:u},{index:p,templateKey:f,componentKey:g,onRendered:m,onRemoved:v,onContainerRemoved:_}])=>{fme(u,_);const x=l.current[f];return x?ne.createElement(ume,{key:g,componentKey:g,templateFactory:x,data:h,index:p,container:u,onRemoved:v,onRendered:m}):null}))};/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */var t0;(function(i){i[i.Option=0]="Option",i[i.Template=1]="Template",i[i.Unknown=2]="Unknown"})(t0||(t0={}));function _me(i,e,t){let n=i.OptionName,s=i.IsCollectionItem;const r=t==null?void 0:t[n];return r&&(s=r.isCollectionItem,r.optionName&&(n=r.optionName)),{type:t0.Option,descriptor:{name:n,isCollection:!!s,templates:i.TemplateProps||[],initialValuesProps:i.DefaultsProps||{},predefinedValuesProps:i.PredefinedProps||{},expectedChildren:i.ExpectedChildren||{}},props:e}}/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const vme=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","MozAnimationIterationCount","MozBoxFlex","MozBoxFlexGroup","MozLineClamp","msAnimationIterationCount","msFlex","msZoom","msFlexGrow","msFlexNegative","msFlexOrder","msFlexPositive","msFlexShrink","msGridColumn","msGridColumnSpan","msGridRow","msGridRowSpan","WebkitAnimationIterationCount","WebkitBoxFlex","WebKitBoxFlexGroup","WebkitBoxOrdinalGroup","WebkitColumnCount","WebkitColumns","WebkitFlex","WebkitFlexGrow","WebkitFlexPositive","WebkitFlexShrink","WebkitLineClamp"]);/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const ho="dxremove";Ot({buyNowLink:"https://go.devexpress.com/Licensing_Installer_Watermark_DevExtremeReact.aspx",licensingDocLink:"https://go.devexpress.com/Licensing_Documentation_DevExtremeReact.aspx"});const tV=ne.forwardRef((i,e)=>{const{templateProps:t=[],defaults:n={},expectedChildren:s={},isPortalComponent:r=!1,useRequestAnimationFrameFlag:o=!1,subscribableOptions:a=[],WidgetClass:l,independentEvents:d=[],renderChildren:c,beforeCreateWidget:h=()=>{},afterCreateWidget:u=()=>{}}=i,[,p]=ne.useState(Symbol("initial force update token")),f=ne.useContext(GN),g=ne.useContext(oO),m=ne.useRef(g),v=ne.useRef(),_=ne.useRef(),x=ne.useRef(),y=ne.useRef(!1),T=ne.useRef(!1),O=ne.useRef(!1),L=ne.useRef(!1),R=ne.useRef(new dme),$=ne.useRef(),V=ne.useRef(),z=ne.useRef(),H=ne.useRef(),I=ne.useRef(),A=ne.useRef(null),{parentType:E}=ne.useContext(yc);if(E==="option")return ne.createElement("div");const[b,w]=YN({type:t0.Option,descriptor:{name:"",isCollection:!1,templates:t,initialValuesProps:n,predefinedValuesProps:{},expectedChildren:s},props:i},()=>{var J;return!!((J=A.current)!=null&&J.childNodes.length)},Symbol("initial update token"),"component"),C=ne.useCallback(()=>{var J;O.current&&((J=$.current)!=null&&J.length)&&_.current&&(_.current.append(...$.current),O.current=!1),m.current&&_.current&&!_.current.isConnected&&m.current()},[]),S=ne.useCallback((J,ae)=>{var oe,le;const ce=J?rO(J):void 0,te=rO(ae);if(ce!==te){if(ce){const fe=ce.split(" ").filter(pe=>pe);fe.length&&((oe=_.current)==null||oe.classList.remove(...fe))}if(te){const fe=te.split(" ").filter(pe=>pe);fe.length&&((le=_.current)==null||le.classList.add(...fe))}}},[]),D=ne.useCallback(J=>{if(_.current){const ae=_.current;Object.entries(J).forEach(([ce,te])=>{typeof te=="number"&&!vme.has(ce)?ae.style[ce]=`${te}px`:ae.style[ce]=te})}},[]),P=ne.useCallback(({createDXTemplates:J,clearInstantiationModels:ae,updateTemplates:ce})=>{V.current=J,z.current=ae,H.current=ce},[]),k=ne.useCallback(()=>{const J={ref:ae=>{ae&&(_.current=ae)}};return UN.forEach(ae=>{ae in i&&(J[ae]=i[ae])}),J},[i]),U=ne.useCallback(()=>{if(T.current)return;T.current=!0,(y.current?Si:jh)(()=>{var ae;T.current=!1,(ae=H.current)==null||ae.call(H,()=>eV())}),JN()},[]),W=ne.useCallback(J=>{var oe,le;h(),J=J||_.current;let ae={templatesRenderAsynchronously:!0,...R.current.getInitialOptions(b)};const ce=R.current.getTemplateOptions(b),te=(oe=V.current)==null?void 0:oe.call(V,ce);te&&Object.keys(te).length&&(ae={...ae,integrationOptions:{templates:te}}),(le=z.current)==null||le.call(z),v.current=new l(J,ae),o||(y.current=v.current.option("integrationOptions.useDeferUpdateForTemplates")),R.current.setInstance(v.current,b,a,d),v.current.on("optionChanged",R.current.onOptionChanged),u()},[h,u,l,o,a,d,b]),X=ne.useCallback(()=>{var J;L.current&&((J=v.current)!=null&&J.focus)&&(v.current.focus(),L.current=!1)},[]),j=ne.useCallback(()=>{var ce,te;if(!((ce=R.current)!=null&&ce.isInstanceSet))return;S(I.current,i);const J=R.current.getTemplateOptions(b),ae=((te=V.current)==null?void 0:te.call(V,J))||{};R.current.update(b,ae),U(),I.current=i},[U,S,i,b]),q=ne.useCallback(()=>{var ae,ce;const{style:J}=i;O.current?C():(ae=_.current)!=null&&ae.childNodes.length&&($.current=Array.from((ce=_.current)==null?void 0:ce.childNodes)),S(void 0,i),J&&D(J),I.current=i},[S,D,i]),B=ne.useCallback(()=>{var J,ae;if(f==null||f.lock(),v.current){const ce={isUnmounting:!0};if(L.current=!!((J=_.current)!=null&&J.contains(document.activeElement)),(ae=$.current)==null||ae.forEach(te=>{var oe;return(oe=te.parentNode)==null?void 0:oe.removeChild(te)}),O.current=!0,_.current){const te=oe=>oe.stopPropagation();Jg(_.current,"focusout",te),Wfe(_.current,ho,ce),rc(_.current,"focusout",te)}v.current.dispose(),v.current=null}R.current.dispose(),f==null||f.unlock()},[f]);ne.useLayoutEffect(()=>(q(),()=>{B()}),[]),ne.useLayoutEffect(()=>{m.current=g},[g]),ne.useLayoutEffect(()=>{j()});const F=ne.useRef(W);ne.useLayoutEffect(()=>{F.current=W},[W]),ne.useImperativeHandle(e,()=>({getInstance(){return v.current},getElement(){return _.current},createWidget(J){var ae;(ae=F.current)==null||ae.call(F,J)}}),[]);const K=ne.useCallback(()=>{if(c)return c();const{children:J}=i;return J},[i,c]),ee=ne.useCallback(()=>x.current&&x0.createPortal(K(),x.current),[K]),Q=ne.useCallback(()=>{const{children:J}=i;return r&&J?ne.createElement("div",{ref:ae=>{ae&&x.current!==ae&&(x.current=ae,p(Symbol("force update token")))},style:{display:"contents"}}):K()},[i,r,K]),Z=ne.useMemo(()=>({isTemplateRendering:!1}),[]);return ne.createElement(oO.Provider,{value:C},ne.createElement(uE.Provider,{value:Z},ne.createElement("div",{ref:A,...k()},ne.createElement(yc.Provider,{value:w},Q()),ne.createElement(gme,{init:P,onTemplatesRendered:X}),r&&ne.createElement(yc.Provider,{value:w},ee()))))});/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */function xme(i){var e;return((e=i.type)==null?void 0:e.componentType)==="extension"}ne.forwardRef((i,e)=>{const t=ne.useRef(null),n=ne.useCallback(r=>{var o;(o=t.current)==null||o.createWidget(r)},[]);ne.useLayoutEffect(()=>{const{onMounted:r}=i;r?r(n):n()},[]);const s=ne.useRef(n);return ne.useLayoutEffect(()=>{s.current=n},[n]),ne.useImperativeHandle(e,()=>({getInstance(){var r;return(r=t.current)==null?void 0:r.getInstance()},getElement(){var r;return(r=t.current)==null?void 0:r.getElement()},createWidget(r){var o;(o=s.current)==null||o.call(s,r)}}),[]),ne.createElement(tV,{ref:t,...i})});/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const bme=ne.forwardRef((i,e)=>{const t=ne.useRef(null),n=ne.useRef([]),s=ne.useCallback(h=>{n.current.push(h)},[]),r=ne.useCallback(()=>{n.current.forEach(h=>{var u;h((u=t.current)==null?void 0:u.getElement())})},[]),o=ne.useCallback(()=>ne.Children.map(i.children,h=>ne.isValidElement(h)&&xme(h)?ne.cloneElement(h,{onMounted:s}):h),[i,s]),a=ne.useCallback(h=>{var u;(u=t.current)==null||u.createWidget(h)},[]),l=ne.useCallback(()=>{var h;(h=i.clearExtensions)==null||h.call(i),n.current=[]},[i.clearExtensions]),d=ne.useRef(a),c=ne.useRef(l);return ne.useLayoutEffect(()=>(a(),r(),()=>{var h;(h=c.current)==null||h.call(c)}),[]),ne.useLayoutEffect(()=>{d.current=a},[a]),ne.useLayoutEffect(()=>{c.current=l},[l]),ne.useImperativeHandle(e,()=>({getInstance(){var h;return(h=t.current)==null?void 0:h.getInstance()},getElement(){var h;return(h=t.current)==null?void 0:h.getElement()},createWidget(h){var u;(u=d.current)==null||u.call(d,h)},clearExtensions(){var h;(h=c.current)==null||h.call(c)}}),[]),ne.createElement(tV,{ref:t,renderChildren:o,...i})});/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const Re=function(e){var _;const{children:t}=e,{elementDescriptor:n,...s}=e,{isTemplateRendering:r}=ne.useContext(uE);if(!n||typeof document>"u"||r)return null;const o=(_=n.TemplateProps)==null?void 0:_.some(x=>e[x.tmplOption]&&typeof e[x.tmplOption]=="string"),{parentExpectedChildren:a,onChildOptionsReady:l,getOptionComponentKey:d,treeUpdateToken:c}=ne.useContext(yc),[h]=ne.useState(d()),u=_me(n,s,a),p=ne.useMemo(()=>document.createElement("div"),[]),f=lme(n)||o,g=f?()=>!!p.childNodes.length:()=>!!t,[m,v]=YN(u,g,c,"option");return ne.useLayoutEffect(()=>{l(m,u.descriptor,c,h)},[c]),f?ne.createElement(ne.Fragment,{},x0.createPortal(ne.createElement(yc.Provider,{value:v},t),p)):null};/*!
 * devextreme-react
 * Version: 25.2.3
 * Build date: Fri Dec 12 2025
 *
 * Copyright (c) 2012 - 2025 Developer Express Inc. ALL RIGHTS RESERVED
 *
 * This software may be modified and distributed under the terms
 * of the MIT license. See the LICENSE file in the root of the project for details.
 *
 * https://github.com/DevExpress/devextreme-react
 */const f_=ne.memo(ne.forwardRef((i,e)=>{const t=ne.useRef(null);ne.useImperativeHandle(e,()=>({instance(){var l;return(l=t.current)==null?void 0:l.getInstance()}}),[]);const n=ne.useMemo(()=>["columns","editing","editing.changes","editing.editColumnName","editing.editRowKey","filterValue","focusedColumnIndex","focusedRowIndex","focusedRowKey","groupPanel","groupPanel.visible","paging","paging.pageIndex","paging.pageSize","selectedRowKeys","selectionFilter","filterBuilder.value","filterBuilderPopup.height","filterBuilderPopup.position","filterBuilderPopup.visible","filterBuilderPopup.width","filterPanel.filterEnabled","editing.form.formData","editing.popup.height","editing.popup.position","editing.popup.visible","editing.popup.width","searchPanel.text"],[]),s=ne.useMemo(()=>["onAdaptiveDetailRowPreparing","onAIColumnRequestCreating","onCellClick","onCellDblClick","onCellPrepared","onContentReady","onContextMenuPreparing","onDataErrorOccurred","onDisposing","onEditCanceled","onEditCanceling","onEditingStart","onEditorPrepared","onEditorPreparing","onExporting","onFocusedCellChanging","onFocusedRowChanging","onInitialized","onInitNewRow","onKeyDown","onRowClick","onRowCollapsed","onRowCollapsing","onRowDblClick","onRowExpanded","onRowExpanding","onRowInserted","onRowInserting","onRowPrepared","onRowRemoved","onRowRemoving","onRowUpdated","onRowUpdating","onRowValidating","onSaved","onSaving","onToolbarPreparing"],[]),r=ne.useMemo(()=>({defaultColumns:"columns",defaultEditing:"editing",defaultFilterValue:"filterValue",defaultFocusedColumnIndex:"focusedColumnIndex",defaultFocusedRowIndex:"focusedRowIndex",defaultFocusedRowKey:"focusedRowKey",defaultGroupPanel:"groupPanel",defaultPaging:"paging",defaultSelectedRowKeys:"selectedRowKeys",defaultSelectionFilter:"selectionFilter"}),[]),o=ne.useMemo(()=>({column:{optionName:"columns",isCollectionItem:!0},columnChooser:{optionName:"columnChooser",isCollectionItem:!1},columnFixing:{optionName:"columnFixing",isCollectionItem:!1},dataGridHeaderFilter:{optionName:"headerFilter",isCollectionItem:!1},dataGridSelection:{optionName:"selection",isCollectionItem:!1},editing:{optionName:"editing",isCollectionItem:!1},export:{optionName:"export",isCollectionItem:!1},filterBuilder:{optionName:"filterBuilder",isCollectionItem:!1},filterBuilderPopup:{optionName:"filterBuilderPopup",isCollectionItem:!1},filterPanel:{optionName:"filterPanel",isCollectionItem:!1},filterRow:{optionName:"filterRow",isCollectionItem:!1},grouping:{optionName:"grouping",isCollectionItem:!1},groupPanel:{optionName:"groupPanel",isCollectionItem:!1},headerFilter:{optionName:"headerFilter",isCollectionItem:!1},keyboardNavigation:{optionName:"keyboardNavigation",isCollectionItem:!1},loadPanel:{optionName:"loadPanel",isCollectionItem:!1},masterDetail:{optionName:"masterDetail",isCollectionItem:!1},pager:{optionName:"pager",isCollectionItem:!1},paging:{optionName:"paging",isCollectionItem:!1},remoteOperations:{optionName:"remoteOperations",isCollectionItem:!1},rowDragging:{optionName:"rowDragging",isCollectionItem:!1},scrolling:{optionName:"scrolling",isCollectionItem:!1},searchPanel:{optionName:"searchPanel",isCollectionItem:!1},selection:{optionName:"selection",isCollectionItem:!1},sortByGroupSummaryInfo:{optionName:"sortByGroupSummaryInfo",isCollectionItem:!0},sorting:{optionName:"sorting",isCollectionItem:!1},stateStoring:{optionName:"stateStoring",isCollectionItem:!1},summary:{optionName:"summary",isCollectionItem:!1},toolbar:{optionName:"toolbar",isCollectionItem:!1}}),[]),a=ne.useMemo(()=>[{tmplOption:"dataRowTemplate",render:"dataRowRender",component:"dataRowComponent"},{tmplOption:"rowTemplate",render:"rowRender",component:"rowComponent"}],[]);return ne.createElement(bme,{WidgetClass:gF,ref:t,useRequestAnimationFrameFlag:!0,subscribableOptions:n,independentEvents:s,defaults:r,expectedChildren:o,templateProps:a,...i})})),yme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"ai",ExpectedChildren:{editorOptions:{optionName:"editorOptions",isCollectionItem:!1}}}});Object.assign(yme,{componentType:"option"});const Cme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"aiOptions"}});Object.assign(Cme,{componentType:"option"});const wme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"animation",ExpectedChildren:{hide:{optionName:"hide",isCollectionItem:!1},show:{optionName:"show",isCollectionItem:!1}}}});Object.assign(wme,{componentType:"option"});const Sme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"async"}}});Object.assign(Sme,{componentType:"option"});const Eme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"at"}});Object.assign(Eme,{componentType:"option"});const Ime=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"boundaryOffset"}});Object.assign(Ime,{componentType:"option"});const Tme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"buttons",IsCollectionItem:!0,ExpectedChildren:{options:{optionName:"options",isCollectionItem:!1}},TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}});Object.assign(Tme,{componentType:"option"});const Dme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"changes",IsCollectionItem:!0}});Object.assign(Dme,{componentType:"option"});const Ame=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"colCountByScreen"}});Object.assign(Ame,{componentType:"option"});const kme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"collision"}});Object.assign(kme,{componentType:"option"});const Ome=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"columns",IsCollectionItem:!0,DefaultsProps:{defaultFilterValue:"filterValue",defaultFilterValues:"filterValues",defaultGroupIndex:"groupIndex",defaultSelectedFilterOperation:"selectedFilterOperation",defaultSortIndex:"sortIndex",defaultSortOrder:"sortOrder",defaultVisible:"visible",defaultVisibleIndex:"visibleIndex"},ExpectedChildren:{ai:{optionName:"ai",isCollectionItem:!1},AsyncRule:{optionName:"validationRules",isCollectionItem:!0},button:{optionName:"buttons",isCollectionItem:!0},columnButton:{optionName:"buttons",isCollectionItem:!0},columnHeaderFilter:{optionName:"headerFilter",isCollectionItem:!1},columnLookup:{optionName:"lookup",isCollectionItem:!1},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},format:{optionName:"format",isCollectionItem:!1},formItem:{optionName:"formItem",isCollectionItem:!1},headerFilter:{optionName:"headerFilter",isCollectionItem:!1},lookup:{optionName:"lookup",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},TemplateProps:[{tmplOption:"cellTemplate",render:"cellRender",component:"cellComponent"},{tmplOption:"editCellTemplate",render:"editCellRender",component:"editCellComponent"},{tmplOption:"groupCellTemplate",render:"groupCellRender",component:"groupCellComponent"},{tmplOption:"headerCellTemplate",render:"headerCellRender",component:"headerCellComponent"}]}}),ln=Object.assign(Ome,{componentType:"option"}),Rme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"buttons",IsCollectionItem:!0,TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}});Object.assign(Rme,{componentType:"option"});const Pme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"columnChooser",ExpectedChildren:{columnChooserSearch:{optionName:"search",isCollectionItem:!1},columnChooserSelection:{optionName:"selection",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},search:{optionName:"search",isCollectionItem:!1},selection:{optionName:"selection",isCollectionItem:!1}}}}),pE=Object.assign(Pme,{componentType:"option"}),Mme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"search"}});Object.assign(Mme,{componentType:"option"});const Fme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"selection"}});Object.assign(Fme,{componentType:"option"});const Bme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"columnFixing",ExpectedChildren:{columnFixingTexts:{optionName:"texts",isCollectionItem:!1},icons:{optionName:"icons",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}}}});Object.assign(Bme,{componentType:"option"});const Nme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"texts"}});Object.assign(Nme,{componentType:"option"});const Vme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"headerFilter",ExpectedChildren:{columnHeaderFilterSearch:{optionName:"search",isCollectionItem:!1},search:{optionName:"search",isCollectionItem:!1}}}});Object.assign(Vme,{componentType:"option"});const Lme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"search"}});Object.assign(Lme,{componentType:"option"});const $me=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"lookup"}});Object.assign($me,{componentType:"option"});const Hme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"compare"}}});Object.assign(Hme,{componentType:"option"});const jme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"cursorOffset"}});Object.assign(jme,{componentType:"option"});const zme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"customOperations",IsCollectionItem:!0,TemplateProps:[{tmplOption:"editorTemplate",render:"editorRender",component:"editorComponent"}]}});Object.assign(zme,{componentType:"option"});const Wme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"custom"}}});Object.assign(Wme,{componentType:"option"});const Ume=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"headerFilter",ExpectedChildren:{dataGridHeaderFilterSearch:{optionName:"search",isCollectionItem:!1},dataGridHeaderFilterTexts:{optionName:"texts",isCollectionItem:!1},search:{optionName:"search",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}}}});Object.assign(Ume,{componentType:"option"});const Kme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"search"}});Object.assign(Kme,{componentType:"option"});const Gme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"texts"}});Object.assign(Gme,{componentType:"option"});const qme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"selection"}});Object.assign(qme,{componentType:"option"});const Yme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"editing",DefaultsProps:{defaultChanges:"changes",defaultEditColumnName:"editColumnName",defaultEditRowKey:"editRowKey"},ExpectedChildren:{change:{optionName:"changes",isCollectionItem:!0},editingTexts:{optionName:"texts",isCollectionItem:!1},form:{optionName:"form",isCollectionItem:!1},popup:{optionName:"popup",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}}}});Object.assign(Yme,{componentType:"option"});const Xme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"texts"}});Object.assign(Xme,{componentType:"option"});const Zme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"editorOptions",DefaultsProps:{defaultValue:"value"},ExpectedChildren:{button:{optionName:"buttons",isCollectionItem:!0},editorOptionsButton:{optionName:"buttons",isCollectionItem:!0}}}});Object.assign(Zme,{componentType:"option"});const Qme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"buttons",IsCollectionItem:!0,ExpectedChildren:{options:{optionName:"options",isCollectionItem:!1}}}});Object.assign(Qme,{componentType:"option"});const Jme=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"email"}}});Object.assign(Jme,{componentType:"option"});const ege=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"export",ExpectedChildren:{exportTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}}}}),m_=Object.assign(ege,{componentType:"option"}),tge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"texts"}});Object.assign(tge,{componentType:"option"});const nge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"fields",IsCollectionItem:!0,ExpectedChildren:{fieldLookup:{optionName:"lookup",isCollectionItem:!1},format:{optionName:"format",isCollectionItem:!1},lookup:{optionName:"lookup",isCollectionItem:!1}},TemplateProps:[{tmplOption:"editorTemplate",render:"editorRender",component:"editorComponent"}]}});Object.assign(nge,{componentType:"option"});const ige=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"lookup"}});Object.assign(ige,{componentType:"option"});const sge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"filterBuilder",DefaultsProps:{defaultValue:"value"},ExpectedChildren:{customOperation:{optionName:"customOperations",isCollectionItem:!0},field:{optionName:"fields",isCollectionItem:!0},filterOperationDescriptions:{optionName:"filterOperationDescriptions",isCollectionItem:!1},groupOperationDescriptions:{optionName:"groupOperationDescriptions",isCollectionItem:!1}}}});Object.assign(sge,{componentType:"option"});const rge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"filterBuilderPopup",DefaultsProps:{defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},ExpectedChildren:{animation:{optionName:"animation",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},toolbarItem:{optionName:"toolbarItems",isCollectionItem:!0}},TemplateProps:[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent"}]}});Object.assign(rge,{componentType:"option"});const oge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"filterOperationDescriptions"}});Object.assign(oge,{componentType:"option"});const age=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"filterPanel",DefaultsProps:{defaultFilterEnabled:"filterEnabled"},ExpectedChildren:{filterPanelTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}}}});Object.assign(age,{componentType:"option"});const lge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"texts"}});Object.assign(lge,{componentType:"option"});const dge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"filterRow",ExpectedChildren:{operationDescriptions:{optionName:"operationDescriptions",isCollectionItem:!1}}}}),cge=Object.assign(dge,{componentType:"option"}),uge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"form",DefaultsProps:{defaultFormData:"formData"},ExpectedChildren:{colCountByScreen:{optionName:"colCountByScreen",isCollectionItem:!1}}}});Object.assign(uge,{componentType:"option"});const hge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"format"}});Object.assign(hge,{componentType:"option"});const pge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"formItem",ExpectedChildren:{aiOptions:{optionName:"aiOptions",isCollectionItem:!1},AsyncRule:{optionName:"validationRules",isCollectionItem:!0},CompareRule:{optionName:"validationRules",isCollectionItem:!0},CustomRule:{optionName:"validationRules",isCollectionItem:!0},EmailRule:{optionName:"validationRules",isCollectionItem:!0},label:{optionName:"label",isCollectionItem:!1},NumericRule:{optionName:"validationRules",isCollectionItem:!0},PatternRule:{optionName:"validationRules",isCollectionItem:!0},RangeRule:{optionName:"validationRules",isCollectionItem:!0},RequiredRule:{optionName:"validationRules",isCollectionItem:!0},StringLengthRule:{optionName:"validationRules",isCollectionItem:!0},validationRule:{optionName:"validationRules",isCollectionItem:!0}},TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}});Object.assign(pge,{componentType:"option"});const fge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"from",ExpectedChildren:{position:{optionName:"position",isCollectionItem:!1}}}});Object.assign(fge,{componentType:"option"});const mge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"grouping",ExpectedChildren:{groupingTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1}}}});Object.assign(mge,{componentType:"option"});const gge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"texts"}});Object.assign(gge,{componentType:"option"});const _ge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"groupItems",IsCollectionItem:!0,ExpectedChildren:{valueFormat:{optionName:"valueFormat",isCollectionItem:!1}}}});Object.assign(_ge,{componentType:"option"});const vge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"groupOperationDescriptions"}});Object.assign(vge,{componentType:"option"});const xge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"groupPanel",DefaultsProps:{defaultVisible:"visible"}}});Object.assign(xge,{componentType:"option"});const bge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"headerFilter",ExpectedChildren:{columnHeaderFilterSearch:{optionName:"search",isCollectionItem:!1},dataGridHeaderFilterSearch:{optionName:"search",isCollectionItem:!1},dataGridHeaderFilterTexts:{optionName:"texts",isCollectionItem:!1}}}}),g_=Object.assign(bge,{componentType:"option"}),yge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"hide",ExpectedChildren:{from:{optionName:"from",isCollectionItem:!1},to:{optionName:"to",isCollectionItem:!1}}}});Object.assign(yge,{componentType:"option"});const Cge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"icons"}});Object.assign(Cge,{componentType:"option"});const wge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"indicatorOptions"}});Object.assign(wge,{componentType:"option"});const Sge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,TemplateProps:[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent"},{tmplOption:"template",render:"render",component:"component"}]}});Object.assign(Sge,{componentType:"option"});const Ege=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"keyboardNavigation"}});Object.assign(Ege,{componentType:"option"});const Ige=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"label",TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}});Object.assign(Ige,{componentType:"option"});const Tge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"loadPanel",ExpectedChildren:{indicatorOptions:{optionName:"indicatorOptions",isCollectionItem:!1}}}});Object.assign(Tge,{componentType:"option"});const Dge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"lookup"}});Object.assign(Dge,{componentType:"option"});const Age=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"masterDetail",TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}});Object.assign(Age,{componentType:"option"});const kge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"my"}});Object.assign(kge,{componentType:"option"});const Oge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"numeric"}}});Object.assign(Oge,{componentType:"option"});const Rge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"offset"}});Object.assign(Rge,{componentType:"option"});const Pge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"operationDescriptions"}});Object.assign(Pge,{componentType:"option"});const Mge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"options",TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}});Object.assign(Mge,{componentType:"option"});const Fge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"pager"}}),__=Object.assign(Fge,{componentType:"option"}),Bge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"paging",DefaultsProps:{defaultPageIndex:"pageIndex",defaultPageSize:"pageSize"}}}),v_=Object.assign(Bge,{componentType:"option"}),Nge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"pattern"}}});Object.assign(Nge,{componentType:"option"});const Vge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"popup",DefaultsProps:{defaultHeight:"height",defaultPosition:"position",defaultVisible:"visible",defaultWidth:"width"},ExpectedChildren:{animation:{optionName:"animation",isCollectionItem:!1},position:{optionName:"position",isCollectionItem:!1},toolbarItem:{optionName:"toolbarItems",isCollectionItem:!0}},TemplateProps:[{tmplOption:"contentTemplate",render:"contentRender",component:"contentComponent"},{tmplOption:"titleTemplate",render:"titleRender",component:"titleComponent"}]}});Object.assign(Vge,{componentType:"option"});const Lge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"position",ExpectedChildren:{at:{optionName:"at",isCollectionItem:!1},boundaryOffset:{optionName:"boundaryOffset",isCollectionItem:!1},collision:{optionName:"collision",isCollectionItem:!1},my:{optionName:"my",isCollectionItem:!1},offset:{optionName:"offset",isCollectionItem:!1}}}});Object.assign(Lge,{componentType:"option"});const $ge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"range"}}});Object.assign($ge,{componentType:"option"});const Hge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"remoteOperations"}});Object.assign(Hge,{componentType:"option"});const jge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"required"}}});Object.assign(jge,{componentType:"option"});const zge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"rowDragging",ExpectedChildren:{cursorOffset:{optionName:"cursorOffset",isCollectionItem:!1}},TemplateProps:[{tmplOption:"dragTemplate",render:"dragRender",component:"dragComponent"}]}});Object.assign(zge,{componentType:"option"});const Wge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"scrolling"}});Object.assign(Wge,{componentType:"option"});const Uge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"search"}});Object.assign(Uge,{componentType:"option"});const Kge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"searchPanel",DefaultsProps:{defaultText:"text"}}}),x_=Object.assign(Kge,{componentType:"option"}),Gge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"selection"}}),b_=Object.assign(Gge,{componentType:"option"}),qge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"show",ExpectedChildren:{from:{optionName:"from",isCollectionItem:!1},to:{optionName:"to",isCollectionItem:!1}}}});Object.assign(qge,{componentType:"option"});const Yge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"sortByGroupSummaryInfo",IsCollectionItem:!0}});Object.assign(Yge,{componentType:"option"});const Xge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"sorting"}});Object.assign(Xge,{componentType:"option"});const Zge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"stateStoring"}});Object.assign(Zge,{componentType:"option"});const Qge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"stringLength"}}});Object.assign(Qge,{componentType:"option"});const Jge=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"summary",ExpectedChildren:{groupItem:{optionName:"groupItems",isCollectionItem:!0},summaryTexts:{optionName:"texts",isCollectionItem:!1},texts:{optionName:"texts",isCollectionItem:!1},totalItem:{optionName:"totalItems",isCollectionItem:!0}}}}),e0e=Object.assign(Jge,{componentType:"option"}),t0e=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"texts"}});Object.assign(t0e,{componentType:"option"});const n0e=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"texts"}});Object.assign(n0e,{componentType:"option"});const i0e=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"to",ExpectedChildren:{position:{optionName:"position",isCollectionItem:!1}}}});Object.assign(i0e,{componentType:"option"});const s0e=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"toolbar",ExpectedChildren:{item:{optionName:"items",isCollectionItem:!0}}}});Object.assign(s0e,{componentType:"option"});const r0e=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"toolbarItems",IsCollectionItem:!0,TemplateProps:[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent"},{tmplOption:"template",render:"render",component:"component"}]}});Object.assign(r0e,{componentType:"option"});const o0e=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"totalItems",IsCollectionItem:!0,ExpectedChildren:{valueFormat:{optionName:"valueFormat",isCollectionItem:!1}}}}),rb=Object.assign(o0e,{componentType:"option"}),a0e=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"validationRules",IsCollectionItem:!0,PredefinedProps:{type:"required"}}});Object.assign(a0e,{componentType:"option"});const l0e=i=>ne.createElement(Re,{...i,elementDescriptor:{OptionName:"valueFormat"}});Object.assign(l0e,{componentType:"option"});const nV="https://settibalijaactionforce.com",d0e="/apiv1",tu=ni.create({baseURL:`${nV}${d0e}`,timeout:3e4,headers:{"Content-Type":"application/json"}});tu.interceptors.request.use(i=>{const e=localStorage.getItem("saf_admin_token");return e&&(i.headers["x-access-token"]=e),i.data instanceof FormData&&delete i.headers["Content-Type"],console.log("API Request:",i.url,i.data),i},i=>Promise.reject(i));tu.interceptors.response.use(i=>i,i=>{var e;return i.response?(i.response.status===401&&(localStorage.removeItem("saf_admin_user"),localStorage.removeItem("saf_admin_token"),window.location.href="/login"),console.error("API Error:",((e=i.response)==null?void 0:e.data)||i.message)):i.request?console.error("No response from server:",i.request):console.error("Request error:",i.message),Promise.reject(i)});const c0e=(i,e)=>new Promise((t,n)=>{tu.post(i,e).then(s=>{t(s.data)}).catch(s=>{var r;n(((r=s.response)==null?void 0:r.data)||s)})}),u0e=i=>new Promise((e,t)=>{tu.get(i).then(n=>{e(n.data)}).catch(n=>{var s;t(((s=n.response)==null?void 0:s.data)||n)})}),h0e=(i,e)=>new Promise((t,n)=>{tu.put(i,e).then(s=>{t(s.data)}).catch(s=>{var r;n(((r=s.response)==null?void 0:r.data)||s)})}),p0e=i=>new Promise((e,t)=>{tu.delete(i).then(n=>{e(n.data)}).catch(n=>{var s;t(((s=n.response)==null?void 0:s.data)||n)})}),Ft={post:c0e,get:u0e,put:h0e,delete:p0e,apiUrl:nV};class f0e{constructor(e,t,n,s){this._$targetElement=t,this._$container=n,this._loadPanel=e._createComponent(M("<div>").addClass("dx-export-loadpanel").appendTo(this._$container),Fp,this.getOptions(s))}getDefaultOptions(){return{animation:null,shading:!1,height:90,width:200,container:this._$container}}getOptions(e){return G(e.text)?e.message=e.text:e.message=ue.format("dxDataGrid-exporting"),se(this.getDefaultOptions(),e)}show(){this._loadPanel.option("position",xe.calculateLoadPanelPosition(this._$targetElement)),this._loadPanel.show()}dispose(){M(this._loadPanel.element()).remove(),delete this._loadPanel}}const m0e={ar:1,bg:2,ca:3,"zh-Hans":4,cs:5,da:6,de:7,el:8,en:9,es:10,fi:11,fr:12,he:13,hu:14,is:15,it:16,ja:17,ko:18,nl:19,no:20,pl:21,pt:22,rm:23,ro:24,ru:25,hr:26,sk:27,sq:28,sv:29,th:30,tr:31,ur:32,id:33,uk:34,be:35,sl:36,et:37,lv:38,lt:39,tg:40,fa:41,vi:42,hy:43,az:44,eu:45,hsb:46,mk:47,tn:50,xh:52,zu:53,af:54,ka:55,fo:56,hi:57,mt:58,se:59,ga:60,ms:62,kk:63,ky:64,sw:65,tk:66,uz:67,tt:68,bn:69,pa:70,gu:71,or:72,ta:73,te:74,kn:75,ml:76,as:77,mr:78,sa:79,mn:80,bo:81,cy:82,km:83,lo:84,gl:86,kok:87,syr:90,si:91,iu:93,am:94,tzm:95,ne:97,fy:98,ps:99,fil:100,dv:101,ha:104,yo:106,quz:107,nso:108,ba:109,lb:110,kl:111,ig:112,ii:120,arn:122,moh:124,br:126,ug:128,mi:129,oc:130,co:131,gsw:132,sah:133,qut:134,rw:135,wo:136,prs:140,gd:145,"ar-SA":1025,"bg-BG":1026,"ca-ES":1027,"zh-TW":1028,"cs-CZ":1029,"da-DK":1030,"de-DE":1031,"el-GR":1032,"en-US":1033,"fi-FI":1035,"fr-FR":1036,"he-IL":1037,"hu-HU":1038,"is-IS":1039,"it-IT":1040,"ja-JP":1041,"ko-KR":1042,"nl-NL":1043,"nb-NO":1044,"pl-PL":1045,"pt-BR":1046,"rm-CH":1047,"ro-RO":1048,"ru-RU":1049,"hr-HR":1050,"sk-SK":1051,"sq-AL":1052,"sv-SE":1053,"th-TH":1054,"tr-TR":1055,"ur-PK":1056,"id-ID":1057,"uk-UA":1058,"be-BY":1059,"sl-SI":1060,"et-EE":1061,"lv-LV":1062,"lt-LT":1063,"tg-Cyrl-TJ":1064,"fa-IR":1065,"vi-VN":1066,"hy-AM":1067,"az-Latn-AZ":1068,"eu-ES":1069,"hsb-DE":1070,"mk-MK":1071,"tn-ZA":1074,"xh-ZA":1076,"zu-ZA":1077,"af-ZA":1078,"ka-GE":1079,"fo-FO":1080,"hi-IN":1081,"mt-MT":1082,"se-NO":1083,"ms-MY":1086,"kk-KZ":1087,"ky-KG":1088,"sw-KE":1089,"tk-TM":1090,"uz-Latn-UZ":1091,"tt-RU":1092,"bn-IN":1093,"pa-IN":1094,"gu-IN":1095,"or-IN":1096,"ta-IN":1097,"te-IN":1098,"kn-IN":1099,"ml-IN":1100,"as-IN":1101,"mr-IN":1102,"sa-IN":1103,"mn-MN":1104,"bo-CN":1105,"cy-GB":1106,"km-KH":1107,"lo-LA":1108,"gl-ES":1110,"kok-IN":1111,"syr-SY":1114,"si-LK":1115,"iu-Cans-CA":1117,"am-ET":1118,"ne-NP":1121,"fy-NL":1122,"ps-AF":1123,"fil-PH":1124,"dv-MV":1125,"ha-Latn-NG":1128,"yo-NG":1130,"quz-BO":1131,"nso-ZA":1132,"ba-RU":1133,"lb-LU":1134,"kl-GL":1135,"ig-NG":1136,"ii-CN":1144,"arn-CL":1146,"moh-CA":1148,"br-FR":1150,"ug-CN":1152,"mi-NZ":1153,"oc-FR":1154,"co-FR":1155,"gsw-FR":1156,"sah-RU":1157,"qut-GT":1158,"rw-RW":1159,"wo-SN":1160,"prs-AF":1164,"gd-GB":1169,"ar-IQ":2049,"zh-CN":2052,"de-CH":2055,"en-GB":2057,"es-MX":2058,"fr-BE":2060,"it-CH":2064,"nl-BE":2067,"nn-NO":2068,"pt-PT":2070,"sr-Latn-CS":2074,"sv-FI":2077,"az-Cyrl-AZ":2092,"dsb-DE":2094,"se-SE":2107,"ga-IE":2108,"ms-BN":2110,"uz-Cyrl-UZ":2115,"bn-BD":2117,"mn-Mong-CN":2128,"iu-Latn-CA":2141,"tzm-Latn-DZ":2143,"quz-EC":2155,"ar-EG":3073,"zh-HK":3076,"de-AT":3079,"en-AU":3081,"es-ES":3082,"fr-CA":3084,"sr-Cyrl-CS":3098,"se-FI":3131,"quz-PE":3179,"ar-LY":4097,"zh-SG":4100,"de-LU":4103,"en-CA":4105,"es-GT":4106,"fr-CH":4108,"hr-BA":4122,"smj-NO":4155,"ar-DZ":5121,"zh-MO":5124,"de-LI":5127,"en-NZ":5129,"es-CR":5130,"fr-LU":5132,"bs-Latn-BA":5146,"smj-SE":5179,"ar-MA":6145,"en-IE":6153,"es-PA":6154,"fr-MC":6156,"sr-Latn-BA":6170,"sma-NO":6203,"ar-TN":7169,"en-ZA":7177,"es-DO":7178,"sr-Cyrl-BA":7194,"sma-SE":7227,"ar-OM":8193,"en-JM":8201,"es-VE":8202,"bs-Cyrl-BA":8218,"sms-FI":8251,"ar-YE":9217,"en-029":9225,"es-CO":9226,"sr-Latn-RS":9242,"smn-FI":9275,"ar-SY":10241,"en-BZ":10249,"es-PE":10250,"sr-Cyrl-RS":10266,"ar-JO":11265,"en-TT":11273,"es-AR":11274,"sr-Latn-ME":11290,"ar-LB":12289,"en-ZW":12297,"es-EC":12298,"sr-Cyrl-ME":12314,"ar-KW":13313,"en-PH":13321,"es-CL":13322,"ar-AE":14337,"es-UY":14346,"ar-BH":15361,"es-PY":15370,"ar-QA":16385,"en-IN":16393,"es-BO":16394,"en-MY":17417,"es-SV":17418,"en-SG":18441,"es-HN":18442,"es-NI":19466,"es-PR":20490,"es-US":21514,"bs-Cyrl":25626,"bs-Latn":26650,"sr-Cyrl":27674,"sr-Latn":28698,smn:28731,"az-Cyrl":29740,sms:29755,zh:30724,nn:30740,bs:30746,"az-Latn":30764,sma:30779,"uz-Cyrl":30787,"mn-Cyrl":30800,"iu-Cans":30813,"zh-Hant":31748,nb:31764,sr:31770,"tg-Cyrl":31784,dsb:31790,smj:31803,"uz-Latn":31811,"mn-Mong":31824,"iu-Latn":31837,"tzm-Latn":31839,"ha-Latn":31848};function g0e(){return m0e[Bs.locale()]}const iV={thousands:"#,##0{0},&quot;K&quot;",millions:"#,##0{0},,&quot;M&quot;",billions:"#,##0{0},,,&quot;B&quot;",trillions:"#,##0{0},,,,&quot;T&quot;",percent:"0{0}%",decimal:"#{0}",fixedpoint:"#,##0{0}",exponential:"0{0}E+00",currency:" "},_0e=/a+/g,v0e=/E/g,x0e=/dE+/g,b0e=/L/g,y0e=/h/g,C0e=/./g;function w0e(i,e){let t,n;if(e>0){for(t=i!=="decimal"?".":"",n=0;n<e;n+=1)t+="0";return t}return""}function S0e(i){let e;for(let t=0;t<i.length;t+=1)if(e=i.charCodeAt(t),e>=1632&&e<1642)return!0;return!1}function E0e(i){const e=(ut.format(new Date(2009,8,8,6,5,4),i)||"").toString();let t=$1(n=>ut.format(n,i));return t&&(t=T0e(t),t=I0e(e)+t),t}function I0e(i){const e=g0e();let t=e?e.toString(16):"",n="";if(S0e(i)){for(;t.length<3;)t=`0${t}`;n=`[$-2010${t}]`}else t&&(n=`[$-${t}]`);return n}function T0e(i){return i.split("/").join("\\/").split("'").map((e,t)=>t%2===0?e.replace(_0e,"AM/PM").replace(x0e,"d").replace(v0e,"d").replace(b0e,"M").replace(y0e,"H").split("[").join("\\[").split("]").join("\\]"):e?e.replace(C0e,"\\$&"):"'").join("")}function D0e(i,e,t){let n,s;return i==="currency"?s=Jt.getOpenXmlCurrencyFormat(t):s=iV[i.toLowerCase()],s&&(n=Fs(s,w0e(i,e))),n}function A0e(i){return!i||i.length<2?!1:sV(i)}function k0e(i,e){return!i||i.length<4||i[0]!==e?!1:sV(i.substring(1,i.length-1))}function sV(i){return i?/^[@=\t\r]/.test(i)?!0:/^[+-]/.test(i)?!jt(i):!1:!1}const ob={formatObjectConverter(i,e){const t={format:i,precision:i==null?void 0:i.precision,dataType:e};return Me(i)?se(t,i,{format:i.formatter||i.type,currency:i.currency}):t},convertFormat(i,e,t,n){if(G(i)){if(t==="date")return E0e(i);if(Ke(i)&&iV[i.toLowerCase()])return D0e(i,e,n)}},encode(i){let e=!1;return A0e(i)?e=!0:k0e(i,'"')&&(i=i.substring(1,i.length-1),e=!0),e?`"'${i.replaceAll('"','""')}"`:i}},rV={getFullOptions(i){const e=se({},i);if(!(G(e.worksheet)&&Me(e.worksheet)))throw Error('The "worksheet" field must contain an object.');if(!G(e.topLeftCell))e.topLeftCell={row:1,column:1};else if(Ke(e.topLeftCell)){const{row:t,col:n}=e.worksheet.getCell(e.topLeftCell);e.topLeftCell={row:t,column:n}}return G(e.keepColumnWidths)||(e.keepColumnWidths=!0),G(e.loadPanel)||(e.loadPanel={}),G(e.loadPanel.enabled)||(e.loadPanel.enabled=!0),G(e.encodeExecutableContent)||(e.encodeExecutableContent=!1),e},convertDateForExcelJS:i=>new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds())),setNumberFormat(i,e){i.numFmt=e},getCellStyles(i){const e=i.getStyles();return e.forEach(t=>{let n=this.tryConvertToExcelNumberFormat(t.format,t.dataType);G(n)&&(n=n.replace(/&quot;/g,'"')),t.numberFormat=n}),e},tryConvertToExcelNumberFormat(i,e){const t=ob.formatObjectConverter(i,e),{currency:n}=t;return i=t.format,e=t.dataType,ob.convertFormat(i,t.precision,e,n)},setAlignment(i,e,t){i.alignment=i.alignment??{},G(e)&&(i.alignment.wrapText=e),G(t)&&(i.alignment.horizontal=t),i.alignment.vertical="top"},setColumnsWidth(i,e,t){if(G(e))for(let n=0;n<e.length;n+=1){const s=e[n];typeof s=="number"&&isFinite(s)&&(i.getColumn(t+n).width=Math.min(255,Math.floor(s/7*100)/100))}},export(i,e,t,n){var s,r;const{component:o,worksheet:a,topLeftCell:l,keepColumnWidths:d,selectedRowsOnly:c,loadPanel:h,encodeExecutableContent:u}=i,p=o.getDataProvider(c),g=(r=(((s=o._getInternalInstance)===null||s===void 0?void 0:s.call(o))||o).option("loadPanel"))===null||r===void 0?void 0:r.enabled;g&&o.option("loadPanel.enabled",!1);let m;if(h.enabled&&st()){const x=t(o),y=n(o);m=new f0e(o,x,y,h),m.show()}const v=!!o.option("wordWrapEnabled");a.properties.outlineProperties={summaryBelow:!1,summaryRight:!1};const _={from:{row:l.row,column:l.column},to:{row:l.row,column:l.column}};return new Promise(x=>{p.ready().done(()=>{const y=p.getColumns(),T=p.getRowsCount(),O=new e(o,p,a,i);d&&this.setColumnsWidth(a,p.getColumnsWidths(),_.from.column),O._exportAllFieldHeaders(y,this.setAlignment);const L=O._getFieldHeaderRowsCount();_.to.row=_.from.row+L;const R=this.getCellStyles(p);for(let V=0;V<T;V+=1){const z=_.from.row+L+V,H=a.getRow(z);let I=0;O._isRowFieldHeadersRow(V)&&(I=p.getRowAreaColCount(),O._exportFieldHeaders("row",z,0,I,this.setAlignment)),O._trySetOutlineLevel(H,V),this.exportRow(p,O,H,V,I,y.length,v,R,u),_.to.row=z}O.mergedRangesManager.applyMergedRages(),_.to.column+=y.length>0?y.length-1:0;const $=a.views[0]||{};o.option("rtlEnabled")&&($.rightToLeft=!0),O._isFrozenZone(p)&&(Object.keys($).includes("state")||se($,O._getWorksheetFrozenState(_)),O._trySetAutoFilter(_)),Object.keys($).length>0&&(a.views=[$]),x(_)}).always(()=>{g&&o.option("loadPanel.enabled",g),h.enabled&&st()&&m.dispose()})})},exportRow(i,e,t,n,s,r,o,a,l){for(let d=s;d<r;d+=1){const c=i.getCellData(n,d,!0),h=t.getCell(e._getFirstColumnIndex()+d);e.mergedRangesManager.updateMergedRanges(h,n,d,e);const u=e.mergedRangesManager.findMergedCellInfo(n,d,e._isHeaderCell(n,d));if(G(u)&&h!==u.masterCell)h.style=u.masterCell.style,h.value=u.masterCell.value;else if(zi(c.value)?h.value=this.convertDateForExcelJS(c.value):h.value=c.value,G(h.value)){const{bold:p,alignment:f,numberFormat:g}=a[i.getStyleId(n,d)];G(g)?this.setNumberFormat(h,g):Ke(h.value)&&/^[@=+-]/.test(h.value)&&this.setNumberFormat(h,"@"),e._trySetFont(h,p),this.setAlignment(h,o,f)}e._customizeCell(h,c.cellSourceData),l&&(h.value=ob.encode(h.value))}}};class O0e{constructor(e,t){this.dataProvider=e,this.worksheet=t,this.mergedCells=[],this.mergedRanges=[]}updateMergedRanges(e,t,n,s){if(s._isHeaderCell(t,n)&&!this.isCellInMergedRanges(t,n)){const{rowspan:r,colspan:o}=this.dataProvider.getCellMerging(t,n);if(o||r){const l=s._allowToMergeRange(t,n,r,o);if(this.updateMergedCells(e,t,n,r,o),l){const d=s._isInfoCell(t,n)&&s._allowExportRowFieldHeaders();this.mergedRanges.push({masterCell:e,rowspan:r-(d&&r>0),colspan:o})}}}}isCellInMergedRanges(e,t){var n;return(n=this.mergedCells[e])===null||n===void 0?void 0:n[t]}findMergedCellInfo(e,t,n){if(n&&this.isCellInMergedRanges(e,t))return this.mergedCells[e][t]}updateMergedCells(e,t,n,s,r){for(let o=t;o<=t+s;o+=1)for(let a=n;a<=n+r;a+=1)this.mergedCells[o]||(this.mergedCells[o]=[]),this.mergedCells[o][a]={masterCell:e}}addMergedRange(e,t,n){this.mergedRanges.push({masterCell:e,rowspan:t,colspan:n})}applyMergedRages(){this.mergedRanges.forEach(e=>{const t=e.masterCell.fullAddress.row,n=e.masterCell.fullAddress.col,s=t+e.rowspan,r=n+e.colspan;this.worksheet.mergeCells(t,n,s,r)})}}class R0e{constructor(e,t,n,s){this.component=e,this.dataProvider=t,this.worksheet=n,this.mergedRangesManager=new O0e(t,n),this.topLeftCell=s.topLeftCell,this.customizeCell=s.customizeCell,this.autoFilterEnabled=s.autoFilterEnabled}_getFirstColumnIndex(){return this.topLeftCell.column}_getFieldHeaderRowsCount(){return 0}_trySetAutoFilter(e){if(this.autoFilterEnabled&&!G(this.worksheet.autoFilter)&&this.dataProvider.getRowsCount()>0){const t={from:{row:e.from.row+this.dataProvider.getHeaderRowCount()-1,column:e.from.column},to:e.to};this.worksheet.autoFilter=t}}_trySetFont(e,t){G(t)&&(e.font=e.font||{},e.font.bold=t)}_getWorksheetFrozenState(e){return{state:"frozen",ySplit:e.from.row+this.dataProvider.getFrozenArea().y-1}}_trySetOutlineLevel(e,t){t>=this.dataProvider.getHeaderRowCount()&&(e.outlineLevel=this.dataProvider.getGroupLevel(t))}_isFrozenZone(e){return e.getHeaderRowCount()>0}_isHeaderCell(e){return e<this.dataProvider.getHeaderRowCount()}_isInfoCell(){return!1}_allowToMergeRange(){return!0}_getAllFieldHeaders(){return[]}_customizeCell(e,t){Ie(this.customizeCell)&&this.customizeCell({excelCell:e,gridCell:t})}_exportFieldHeaders(){}_exportAllFieldHeaders(){}_isRowFieldHeadersRow(){}}function P0e(i){return rV.export(M0e(i),R0e,F0e,B0e)}function M0e(i){if(!(G(i)&&Me(i)))throw Error('The "exportDataGrid" method requires a configuration object.');if(!(G(i.component)&&Me(i.component)&&i.component.NAME==="dxDataGrid"))throw Error('The "component" field must contain a DataGrid instance.');return G(i.selectedRowsOnly)||(i.selectedRowsOnly=!1),G(i.autoFilterEnabled)||(i.autoFilterEnabled=!1),rV.getFullOptions(i)}function F0e(i){return i.getView("rowsView").element()}function B0e(i){return i.getView("rowsView").element().parent()}var oV={exports:{}};/*! ExcelJS 19-10-2023 */(function(i,e){(function(t){i.exports=t()})(function(){return function t(n,s,r){function o(d,c){if(!s[d]){if(!n[d]){var h=typeof $u=="function"&&$u;if(!c&&h)return h(d,!0);if(a)return a(d,!0);var u=new Error("Cannot find module '"+d+"'");throw u.code="MODULE_NOT_FOUND",u}var p=s[d]={exports:{}};n[d][0].call(p.exports,function(f){return o(n[d][1][f]||f)},p,p.exports,t,n,s,r)}return s[d].exports}for(var a=typeof $u=="function"&&$u,l=0;l<r.length;l++)o(r[l]);return o}({1:[function(t,n,s){const r=t("fs"),o=t("fast-csv"),a=t("dayjs/plugin/customParseFormat"),l=t("dayjs/plugin/utc"),d=t("dayjs").extend(a).extend(l),c=t("../utils/stream-buf"),{fs:{exists:h}}=t("../utils/utils"),u={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(p){this.workbook=p,this.worksheet=null}async readFile(p,f){if(f=f||{},!await h(p))throw new Error("File not found: "+p);const g=r.createReadStream(p),m=await this.read(g,f);return g.close(),m}read(p,f){return f=f||{},new Promise((g,m)=>{const v=this.workbook.addWorksheet(f.sheetName),_=f.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],x=f.map||function(T){if(T==="")return null;const O=Number(T);if(!Number.isNaN(O)&&O!==1/0)return O;const L=_.reduce(($,V)=>{if($)return $;const z=d(T,V,!0);return z.isValid()?z:null},null);if(L)return new Date(L.valueOf());const R=u[T];return R!==void 0?R:T},y=o.parse(f.parserOptions).on("data",T=>{v.addRow(T.map(x))}).on("end",()=>{y.emit("worksheet",v)});y.on("worksheet",g).on("error",m),p.pipe(y)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(p,f){return new Promise((g,m)=>{f=f||{};const v=this.workbook.getWorksheet(f.sheetName||f.sheetId),_=o.format(f.formatterOptions);p.on("finish",()=>{g()}),_.on("error",m),_.pipe(p);const{dateFormat:x,dateUTC:y}=f,T=f.map||(R=>{if(R){if(R.text||R.hyperlink)return R.hyperlink||R.text||"";if(R.formula||R.result)return R.result||"";if(R instanceof Date)return x?y?d.utc(R).format(x):d(R).format(x):y?d.utc(R).format():d(R).format();if(R.error)return R.error;if(typeof R=="object")return JSON.stringify(R)}return R}),O=f.includeEmptyRows===void 0||f.includeEmptyRows;let L=1;v&&v.eachRow((R,$)=>{if(O)for(;L++<$-1;)_.write([]);const{values:V}=R;V.shift(),_.write(V.map(T)),L=$}),_.end()})}writeFile(p,f){const g={encoding:(f=f||{}).encoding||"utf8"},m=r.createWriteStream(p,g);return this.write(m,f)}async writeBuffer(p){const f=new c;return await this.write(f,p),f.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(t,n,s){const r=t("../utils/col-cache");class o{constructor(l,d){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=l,d)if(typeof d=="string"){const h=r.decodeAddress(d);this.nativeCol=h.col+c,this.nativeColOff=0,this.nativeRow=h.row+c,this.nativeRowOff=0}else d.nativeCol!==void 0?(this.nativeCol=d.nativeCol||0,this.nativeColOff=d.nativeColOff||0,this.nativeRow=d.nativeRow||0,this.nativeRowOff=d.nativeRowOff||0):d.col!==void 0?(this.col=d.col+c,this.row=d.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(l){return l instanceof o||l==null?l:new o(l)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(l){this.nativeCol=Math.floor(l),this.nativeColOff=Math.floor((l-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(l){this.nativeRow=Math.floor(l),this.nativeRowOff=Math.floor((l-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(l){this.nativeCol=l.nativeCol,this.nativeColOff=l.nativeColOff,this.nativeRow=l.nativeRow,this.nativeRowOff=l.nativeRowOff}}n.exports=o},{"../utils/col-cache":19}],3:[function(t,n,s){const r=t("../utils/col-cache"),o=t("../utils/under-dash"),a=t("./enums"),{slideFormula:l}=t("../utils/shared-formula"),d=t("./note");class c{constructor(p,f,g){if(!p||!f)throw new Error("A Cell needs a Row");this._row=p,this._column=f,r.validateAddress(g),this._address=g,this._value=h.create(c.Types.Null,this),this.style=this._mergeStyle(p.style,f.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(p){this.style.numFmt=p}get font(){return this.style.font}set font(p){this.style.font=p}get alignment(){return this.style.alignment}set alignment(p){this.style.alignment=p}get border(){return this.style.border}set border(p){this.style.border=p}get fill(){return this.style.fill}set fill(p){this.style.fill=p}get protection(){return this.style.protection}set protection(p){this.style.protection=p}_mergeStyle(p,f,g){const m=p&&p.numFmt||f&&f.numFmt;m&&(g.numFmt=m);const v=p&&p.font||f&&f.font;v&&(g.font=v);const _=p&&p.alignment||f&&f.alignment;_&&(g.alignment=_);const x=p&&p.border||f&&f.border;x&&(g.border=x);const y=p&&p.fill||f&&f.fill;y&&(g.fill=y);const T=p&&p.protection||f&&f.protection;return T&&(g.protection=T),g}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(p,f){this._value.release(),this._value=h.create(c.Types.Merge,this,p),f||(this.style=p.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=h.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(p){return this._value.type===c.Types.Merge&&this._value.isMergedTo(p)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(p){this.type!==c.Types.Merge?(this._value.release(),this._value=h.create(h.getType(p),this,p)):this._value.master.value=p}get note(){return this._comment&&this._comment.note}set note(p){this._comment=new d(p)}get text(){return this._value.toString()}get html(){return o.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(p){this.type===c.Types.String&&(this._value=h.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:p}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:p}=this._row;return{sheetName:p.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(p){this.names=[p]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(p){const{definedNames:f}=this.workbook;f.removeAllNames(this.fullAddress),p.forEach(g=>{f.addEx(this.fullAddress,g)})}addName(p){this.workbook.definedNames.addEx(this.fullAddress,p)}removeName(p){this.workbook.definedNames.removeEx(this.fullAddress,p)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(p){this._dataValidations.add(this.address,p)}get model(){const{model:p}=this._value;return p.style=this.style,this._comment&&(p.comment=this._comment.model),p}set model(p){if(this._value.release(),this._value=h.create(p.type,this),this._value.model=p,p.comment)switch(p.comment.type){case"note":this._comment=d.fromModel(p.comment)}p.style?this.style=p.style:this.style={}}}c.Types=a.ValueType;const h={getType:u=>u==null?c.Types.Null:u instanceof String||typeof u=="string"?c.Types.String:typeof u=="number"?c.Types.Number:typeof u=="boolean"?c.Types.Boolean:u instanceof Date?c.Types.Date:u.text&&u.hyperlink?c.Types.Hyperlink:u.formula||u.sharedFormula?c.Types.Formula:u.richText?c.Types.RichText:u.sharedString?c.Types.SharedString:u.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(u){this.model={address:u.address,type:c.Types.Null}}get value(){return null}set value(u){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(u,p){this.model={address:u.address,type:c.Types.Number,value:p}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(u,p){this.model={address:u.address,type:c.Types.String,value:p}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(u,p){this.model={address:u.address,type:c.Types.Date,value:p}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(u,p){this.model={address:u.address,type:c.Types.Hyperlink,text:p?p.text:void 0,hyperlink:p?p.hyperlink:void 0},p&&p.tooltip&&(this.model.tooltip=p.tooltip)}get value(){const u={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(u.tooltip=this.model.tooltip),u}set value(u){this.model={text:u.text,hyperlink:u.hyperlink},u.tooltip&&(this.model.tooltip=u.tooltip)}get text(){return this.model.text}set text(u){this.model.text=u}get hyperlink(){return this.model.hyperlink}set hyperlink(u){this.model.hyperlink=u}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(u,p){this.cell=u,this.model={address:u.address,type:c.Types.Formula,shareType:p?p.shareType:void 0,ref:p?p.ref:void 0,formula:p?p.formula:void 0,sharedFormula:p?p.sharedFormula:void 0,result:p?p.result:void 0}}_copyModel(u){const p={},f=g=>{const m=u[g];m&&(p[g]=m)};return f("formula"),f("result"),f("ref"),f("shareType"),f("sharedFormula"),p}get value(){return this._copyModel(this.model)}set value(u){this.model=this._copyModel(u)}validate(u){switch(h.getType(u)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(u){this.model.formula=u}get formulaType(){return this.model.formula?a.FormulaType.Master:this.model.sharedFormula?a.FormulaType.Shared:a.FormulaType.None}get result(){return this.model.result}set result(u){this.model.result=u}get type(){return c.Types.Formula}get effectiveType(){const u=this.model.result;return u==null?a.ValueType.Null:u instanceof String||typeof u=="string"?a.ValueType.String:typeof u=="number"?a.ValueType.Number:u instanceof Date?a.ValueType.Date:u.text&&u.hyperlink?a.ValueType.Hyperlink:u.formula?a.ValueType.Formula:a.ValueType.Null}get address(){return this.model.address}set address(u){this.model.address=u}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:u}=this.cell,p=u.findCell(this.model.sharedFormula);this._translatedFormula=p&&l(p.formula,p.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(u,p){this.model={address:u.address,type:c.Types.Merge,master:p?p.address:void 0},this._master=p,p&&p.addMergeRef()}get value(){return this._master.value}set value(u){u instanceof c?(this._master&&this._master.releaseMergeRef(),u.addMergeRef(),this._master=u):this._master.value=u}isMergedTo(u){return u===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(u,p){this.model={address:u.address,type:c.Types.String,value:JSON.stringify(p),rawValue:p}}get value(){return this.model.rawValue}set value(u){this.model.rawValue=u,this.model.value=JSON.stringify(u)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(u,p){this.model={address:u.address,type:c.Types.SharedString,value:p}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(u,p){this.model={address:u.address,type:c.Types.String,value:p}}get value(){return this.model.value}set value(u){this.model.value=u}toString(){return this.model.value.richText.map(u=>u.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(u,p){this.model={address:u.address,type:c.Types.Boolean,value:p}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(u,p){this.model={address:u.address,type:c.Types.Error,value:p}}get value(){return this.model.value}set value(u){this.model.value=u}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(u){this.model.address=u}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((u,p)=>(u[p.t]=p.f,u),[]),create(u,p,f){const g=this.types[u];if(!g)throw new Error("Could not create Value of type "+u);return new g(p,f)}};n.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(t,n,s){const r=t("../utils/under-dash"),o=t("./enums"),a=t("../utils/col-cache");class l{constructor(c,h,u){this._worksheet=c,this._number=h,u!==!1&&(this.defn=u)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return a.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((h,u)=>{this._worksheet.getCell(u+1,this.number).value=h})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&r.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,h){const u=this.number;h||(h=c,c=null),this._worksheet.eachRow(c,(p,f)=>{h(p.getCell(u),f)})}get values(){const c=[];return this.eachCell((h,u)=>{h&&h.type!==o.ValueType.Null&&(c[u]=h.value)}),c}set values(c){if(!c)return;const h=this.number;let u=0;c.hasOwnProperty("0")&&(u=1),c.forEach((p,f)=>{this._worksheet.getCell(f+u,h).value=p})}_applyStyle(c,h){return this.style[c]=h,this.eachCell(u=>{u[c]=h}),h}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const h=[];let u=null;return c&&c.forEach((p,f)=>{p.isDefault?u&&(u=null):u&&p.equivalentTo(u)?u.max=f+1:(u={min:f+1,max:f+1,width:p.width!==void 0?p.width:9,style:p.style,isCustomWidth:p.isCustomWidth,hidden:p.hidden,outlineLevel:p.outlineLevel,collapsed:p.collapsed},h.push(u))}),h.length?h:void 0}static fromModel(c,h){const u=[];let p=1,f=0;for(h=(h=h||[]).sort(function(g,m){return g.min-m.min});f<h.length;){const g=h[f++];for(;p<g.min;)u.push(new l(c,p++));for(;p<=g.max;)u.push(new l(c,p++,g))}return u.length?u:null}}n.exports=l},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(t,n,s){n.exports=class{constructor(r){this.model=r||{}}add(r,o){return this.model[r]=o}find(r){return this.model[r]}remove(r){this.model[r]=void 0}}},{}],6:[function(t,n,s){const r=t("../utils/under-dash"),o=t("../utils/col-cache"),a=t("../utils/cell-matrix"),l=t("./range"),d=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new a)}add(c,h){const u=o.decodeEx(c);this.addEx(u,h)}addEx(c,h){const u=this.getMatrix(h);if(c.top)for(let p=c.left;p<=c.right;p++)for(let f=c.top;f<=c.bottom;f++){const g={sheetName:c.sheetName,address:o.n2l(p)+f,row:f,col:p};u.addCellEx(g)}else u.addCellEx(c)}remove(c,h){const u=o.decodeEx(c);this.removeEx(u,h)}removeEx(c,h){this.getMatrix(h).removeCellEx(c)}removeAllNames(c){r.each(this.matrixMap,h=>{h.removeCellEx(c)})}forEach(c){r.each(this.matrixMap,(h,u)=>{h.forEach(p=>{c(u,p)})})}getNames(c){return this.getNamesEx(o.decodeEx(c))}getNamesEx(c){return r.map(this.matrixMap,(h,u)=>h.findCellEx(c)&&u).filter(Boolean)}_explore(c,h){h.mark=!1;const{sheetName:u}=h,p=new l(h.row,h.col,h.row,h.col,u);let f,g;function m(_,x){const y=c.findCellAt(u,_,h.col);return!(!y||!y.mark)&&(p[x]=_,y.mark=!1,!0)}for(g=h.row-1;m(g,"top");g--);for(g=h.row+1;m(g,"bottom");g++);function v(_,x){const y=[];for(g=p.top;g<=p.bottom;g++){const T=c.findCellAt(u,g,_);if(!T||!T.mark)return!1;y.push(T)}p[x]=_;for(let T=0;T<y.length;T++)y[T].mark=!1;return!0}for(f=h.col-1;v(f,"left");f--);for(f=h.col+1;v(f,"right");f++);return p}getRanges(c,h){return(h=h||this.matrixMap[c])?(h.forEach(u=>{u.mark=!0}),{name:c,ranges:h.map(u=>u.mark&&this._explore(h,u)).filter(Boolean).map(u=>u.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,h){c.forEachInSheet(h,(u,p,f)=>{u&&(u.row===p&&u.col===f||(u.row=p,u.col=f,u.address=o.n2l(f)+p))})}spliceRows(c,h,u,p){r.each(this.matrixMap,f=>{f.spliceRows(c,h,u,p),this.normaliseMatrix(f,c)})}spliceColumns(c,h,u,p){r.each(this.matrixMap,f=>{f.spliceColumns(c,h,u,p),this.normaliseMatrix(f,c)})}get model(){return r.map(this.matrixMap,(c,h)=>this.getRanges(h,c)).filter(c=>c.ranges.length)}set model(c){const h=this.matrixMap={};c.forEach(u=>{const p=h[u.name]=new a;u.ranges.forEach(f=>{d.test(f.split("!").pop()||"")&&p.addCell(f)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(t,n,s){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(t,n,s){const r=t("../utils/col-cache"),o=t("./anchor");n.exports=class{constructor(a,l){this.worksheet=a,this.model=l}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(a){let{type:l,imageId:d,range:c,hyperlinks:h}=a;if(this.type=l,this.imageId=d,l==="image")if(typeof c=="string"){const u=r.decode(c);this.range={tl:new o(this.worksheet,{col:u.left,row:u.top},-1),br:new o(this.worksheet,{col:u.right,row:u.bottom},0),editAs:"oneCell"}}else this.range={tl:new o(this.worksheet,c.tl,0),br:c.br&&new o(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:h||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(t,n,s){const r=t("../utils/under-dash");class o{constructor(l){this.note=l}get model(){let l=null;switch(typeof this.note){case"string":l={type:"note",note:{texts:[{text:this.note}]}};break;default:l={type:"note",note:this.note}}return r.deepMerge({},o.DEFAULT_CONFIGS,l)}set model(l){const{note:d}=l,{texts:c}=d;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=d}static fromModel(l){const d=new o;return d.model=l,d}}o.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=o},{"../utils/under-dash":26}],10:[function(t,n,s){const r=t("../utils/col-cache");class o{constructor(){this.decode(arguments)}setTLBR(l,d,c,h,u){if(arguments.length<4){const p=r.decodeAddress(l),f=r.decodeAddress(d);this.model={top:Math.min(p.row,f.row),left:Math.min(p.col,f.col),bottom:Math.max(p.row,f.row),right:Math.max(p.col,f.col),sheetName:c},this.setTLBR(p.row,p.col,f.row,f.col,u)}else this.model={top:Math.min(l,c),left:Math.min(d,h),bottom:Math.max(l,c),right:Math.max(d,h),sheetName:u}}decode(l){switch(l.length){case 5:this.setTLBR(l[0],l[1],l[2],l[3],l[4]);break;case 4:this.setTLBR(l[0],l[1],l[2],l[3]);break;case 3:this.setTLBR(l[0],l[1],l[2]);break;case 2:this.setTLBR(l[0],l[1]);break;case 1:{const d=l[0];if(d instanceof o)this.model={top:d.model.top,left:d.model.left,bottom:d.model.bottom,right:d.model.right,sheetName:d.sheetName};else if(d instanceof Array)this.decode(d);else if(d.top&&d.left&&d.bottom&&d.right)this.model={top:d.top,left:d.left,bottom:d.bottom,right:d.right,sheetName:d.sheetName};else{const c=r.decodeEx(d);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+l.length)}}get top(){return this.model.top||1}set top(l){this.model.top=l}get left(){return this.model.left||1}set left(l){this.model.left=l}get bottom(){return this.model.bottom||1}set bottom(l){this.model.bottom=l}get right(){return this.model.right||1}set right(l){this.model.right=l}get sheetName(){return this.model.sheetName}set sheetName(l){this.model.sheetName=l}get _serialisedSheetName(){const{sheetName:l}=this.model;return l?/^[a-zA-Z0-9]*$/.test(l)?l+"!":`'${l}'!`:""}expand(l,d,c,h){(!this.model.top||l<this.top)&&(this.top=l),(!this.model.left||d<this.left)&&(this.left=d),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||h>this.right)&&(this.right=h)}expandRow(l){if(l){const{dimensions:d,number:c}=l;d&&this.expand(c,d.min,c,d.max)}}expandToAddress(l){const d=r.decodeEx(l);this.expand(d.row,d.col,d.row,d.col)}get tl(){return r.n2l(this.left)+this.top}get $t$l(){return`$${r.n2l(this.left)}$${this.top}`}get br(){return r.n2l(this.right)+this.bottom}get $b$r(){return`$${r.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&!(l.bottom<this.top)&&!(l.top>this.bottom)&&!(l.right<this.left)&&!(l.left>this.right)}contains(l){const d=r.decodeEx(l);return this.containsEx(d)}containsEx(l){return(!l.sheetName||!this.sheetName||l.sheetName===this.sheetName)&&l.row>=this.top&&l.row<=this.bottom&&l.col>=this.left&&l.col<=this.right}forEachAddress(l){for(let d=this.left;d<=this.right;d++)for(let c=this.top;c<=this.bottom;c++)l(r.encodeAddress(c,d),c,d)}}n.exports=o},{"../utils/col-cache":19}],11:[function(t,n,s){const r=t("../utils/under-dash"),o=t("./enums"),a=t("../utils/col-cache"),l=t("./cell");n.exports=class{constructor(d,c){this._worksheet=d,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(d){return this._cells[d-1]}getCellEx(d){let c=this._cells[d.col-1];if(!c){const h=this._worksheet.getColumn(d.col);c=new l(this,h,d.address),this._cells[d.col-1]=c}return c}getCell(d){if(typeof d=="string"){const c=this._worksheet.getColumnKey(d);d=c?c.number:a.l2n(d)}return this._cells[d-1]||this.getCellEx({address:a.encodeAddress(this._number,d),row:this._number,col:d})}splice(d,c){const h=d+c;for(var u=arguments.length,p=new Array(u>2?u-2:0),f=2;f<u;f++)p[f-2]=arguments[f];const g=p.length-c,m=this._cells.length;let v,_,x;if(g<0)for(v=d+p.length;v<=m;v++)x=this._cells[v-1],_=this._cells[v-g-1],_?(x=this.getCell(v),x.value=_.value,x.style=_.style,x._comment=_._comment):x&&(x.value=null,x.style={},x._comment=void 0);else if(g>0)for(v=m;v>=h;v--)_=this._cells[v-1],_?(x=this.getCell(v+g),x.value=_.value,x.style=_.style,x._comment=_._comment):this._cells[v+g-1]=void 0;for(v=0;v<p.length;v++)x=this.getCell(d+v),x.value=p[v],x.style={},x._comment=void 0}eachCell(d,c){if(c||(c=d,d=null),d&&d.includeEmpty){const h=this._cells.length;for(let u=1;u<=h;u++)c(this.getCell(u),u)}else this._cells.forEach((h,u)=>{h&&h.type!==o.ValueType.Null&&c(h,u+1)})}addPageBreak(d,c){const h=this._worksheet,u=Math.max(0,d-1)||0,p=Math.max(0,c-1)||16838,f={id:this._number,max:p,man:1};u&&(f.min=u),h.rowBreaks.push(f)}get values(){const d=[];return this._cells.forEach(c=>{c&&c.type!==o.ValueType.Null&&(d[c.col]=c.value)}),d}set values(d){if(this._cells=[],d)if(d instanceof Array){let c=0;d.hasOwnProperty("0")&&(c=1),d.forEach((h,u)=>{h!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,u+c),row:this._number,col:u+c}).value=h)})}else this._worksheet.eachColumnKey((c,h)=>{d[h]!==void 0&&(this.getCellEx({address:a.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=d[h])})}get hasValues(){return r.some(this._cells,d=>d&&d.type!==o.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let d=0;return this.eachCell(()=>{d++}),d}get dimensions(){let d=0,c=0;return this._cells.forEach(h=>{h&&h.type!==o.ValueType.Null&&((!d||d>h.col)&&(d=h.col),c<h.col&&(c=h.col))}),d>0?{min:d,max:c}:null}_applyStyle(d,c){return this.style[d]=c,this._cells.forEach(h=>{h&&(h[d]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(d){this._applyStyle("numFmt",d)}get font(){return this.style.font}set font(d){this._applyStyle("font",d)}get alignment(){return this.style.alignment}set alignment(d){this._applyStyle("alignment",d)}get protection(){return this.style.protection}set protection(d){this._applyStyle("protection",d)}get border(){return this.style.border}set border(d){this._applyStyle("border",d)}get fill(){return this.style.fill}set fill(d){this._applyStyle("fill",d)}get hidden(){return!!this._hidden}set hidden(d){this._hidden=d}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(d){this._outlineLevel=d}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const d=[];let c=0,h=0;return this._cells.forEach(u=>{if(u){const p=u.model;p&&((!c||c>u.col)&&(c=u.col),h<u.col&&(h=u.col),d.push(p))}}),this.height||d.length?{cells:d,number:this.number,min:c,max:h,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(d){if(d.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],d.cells.forEach(h=>{switch(h.type){case l.Types.Merge:break;default:{let u;if(h.address)u=a.decodeAddress(h.address);else if(c){const{row:p}=c,f=c.col+1;u={row:p,col:f,address:a.encodeAddress(p,f),$col$row:`$${a.n2l(f)}$${p}`}}c=u,this.getCellEx(u).model=h;break}}}),d.height?this.height=d.height:delete this.height,this.hidden=d.hidden,this.outlineLevel=d.outlineLevel||0,this.style=d.style&&JSON.parse(JSON.stringify(d.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(t,n,s){const r=t("../utils/col-cache");class o{constructor(l,d,c){this.table=l,this.column=d,this.index=c}_set(l,d){this.table.cacheState(),this.column[l]=d}get name(){return this.column.name}set name(l){this._set("name",l)}get filterButton(){return this.column.filterButton}set filterButton(l){this.column.filterButton=l}get style(){return this.column.style}set style(l){this.column.style=l}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(l){this._set("totalsRowLabel",l)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(l){this._set("totalsRowFunction",l)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(l){this._set("totalsRowResult",l)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(l){this._set("totalsRowFormula",l)}}n.exports=class{constructor(a,l){this.worksheet=a,l&&(this.table=l,this.validate(),this.store())}getFormula(a){switch(a.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${a.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${a.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${a.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${a.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${a.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${a.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${a.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${a.name}])`;case"custom":return a.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+a.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:a}=this,l=(g,m,v)=>{g[m]===void 0&&(g[m]=v)};l(a,"headerRow",!0),l(a,"totalsRow",!1),l(a,"style",{}),l(a.style,"theme","TableStyleMedium2"),l(a.style,"showFirstColumn",!1),l(a.style,"showLastColumn",!1),l(a.style,"showRowStripes",!1),l(a.style,"showColumnStripes",!1);const d=(g,m)=>{if(!g)throw new Error(m)};d(a.ref,"Table must have ref"),d(a.columns,"Table must have column definitions"),d(a.rows,"Table must have row definitions"),a.tl=r.decodeAddress(a.ref);const{row:c,col:h}=a.tl;d(c>0,"Table must be on valid row"),d(h>0,"Table must be on valid col");const{width:u,filterHeight:p,tableHeight:f}=this;a.autoFilterRef=r.encode(c,h,c+p-1,h+u-1),a.tableRef=r.encode(c,h,c+f-1,h+u-1),a.columns.forEach((g,m)=>{d(g.name,`Column ${m} must have a name`),m===0?l(g,"totalsRowLabel","Total"):(l(g,"totalsRowFunction","none"),g.totalsRowFormula=this.getFormula(g))})}store(){const a=(p,f)=>{f&&Object.keys(f).forEach(g=>{p[g]=f[g]})},{worksheet:l,table:d}=this,{row:c,col:h}=d.tl;let u=0;if(d.headerRow){const p=l.getRow(c+u++);d.columns.forEach((f,g)=>{const{style:m,name:v}=f,_=p.getCell(h+g);_.value=v,a(_,m)})}if(d.rows.forEach(p=>{const f=l.getRow(c+u++);p.forEach((g,m)=>{const v=f.getCell(h+m);v.value=g,a(v,d.columns[m].style)})}),d.totalsRow){const p=l.getRow(c+u++);d.columns.forEach((f,g)=>{const m=p.getCell(h+g);if(g===0)m.value=f.totalsRowLabel;else{const v=this.getFormula(f);m.value=v?{formula:f.totalsRowFormula,result:f.totalsRowResult}:null}a(m,f.style)})}}load(a){const{table:l}=this,{row:d,col:c}=l.tl;let h=0;if(l.headerRow){const u=a.getRow(d+h++);l.columns.forEach((p,f)=>{u.getCell(c+f).value=p.name})}if(l.rows.forEach(u=>{const p=a.getRow(d+h++);u.forEach((f,g)=>{p.getCell(c+g).value=f})}),l.totalsRow){const u=a.getRow(d+h++);l.columns.forEach((p,f)=>{const g=u.getCell(c+f);f===0?g.value=p.totalsRowLabel:this.getFormula(p)&&(g.value={formula:p.totalsRowFormula,result:p.totalsRowResult})})}}get model(){return this.table}set model(a){this.table=a}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const a=r.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let l=0;l<this._cache.tableHeight;l++){const d=this.worksheet.getRow(a.row+l);for(let c=0;c<this._cache.width;c++)d.getCell(a.col+c).value=null}else{for(let l=this.tableHeight;l<this._cache.tableHeight;l++){const d=this.worksheet.getRow(a.row+l);for(let c=0;c<this._cache.width;c++)d.getCell(a.col+c).value=null}for(let l=0;l<this.tableHeight;l++){const d=this.worksheet.getRow(a.row+l);for(let c=this.width;c<this._cache.width;c++)d.getCell(a.col+c).value=null}}this.store()}addRow(a,l){this.cacheState(),l===void 0?this.table.rows.push(a):this.table.rows.splice(l,0,a)}removeRows(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(a,l)}getColumn(a){const l=this.table.columns[a];return new o(this,l,a)}addColumn(a,l,d){this.cacheState(),d===void 0?(this.table.columns.push(a),this.table.rows.forEach((c,h)=>{c.push(l[h])})):(this.table.columns.splice(d,0,a),this.table.rows.forEach((c,h)=>{c.splice(d,0,l[h])}))}removeColumns(a){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(a,l),this.table.rows.forEach(d=>{d.splice(a,l)})}_assign(a,l,d){this.cacheState(),a[l]=d}get ref(){return this.table.ref}set ref(a){this._assign(this.table,"ref",a)}get name(){return this.table.name}set name(a){this.table.name=a}get displayName(){return this.table.displyName||this.table.name}set displayNamename(a){this.table.displayName=a}get headerRow(){return this.table.headerRow}set headerRow(a){this._assign(this.table,"headerRow",a)}get totalsRow(){return this.table.totalsRow}set totalsRow(a){this._assign(this.table,"totalsRow",a)}get theme(){return this.table.style.name}set theme(a){this.table.style.name=a}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(a){this.table.style.showFirstColumn=a}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(a){this.table.style.showLastColumn=a}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(a){this.table.style.showRowStripes=a}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(a){this.table.style.showColumnStripes=a}}},{"../utils/col-cache":19}],13:[function(t,n,s){const r=t("./worksheet"),o=t("./defined-names"),a=t("../xlsx/xlsx"),l=t("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new o}get xlsx(){return this._xlsx||(this._xlsx=new a(this)),this._xlsx}get csv(){return this._csv||(this._csv=new l(this)),this._csv}get nextId(){for(let d=1;d<this._worksheets.length;d++)if(!this._worksheets[d])return d;return this._worksheets.length||1}addWorksheet(d,c){const h=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const u=this._worksheets.reduce((g,m)=>(m&&m.orderNo)>g?m.orderNo:g,0),p=Object.assign({},c,{id:h,name:d,orderNo:u+1,workbook:this}),f=new r(p);return this._worksheets[h]=f,f}removeWorksheetEx(d){delete this._worksheets[d.id]}removeWorksheet(d){const c=this.getWorksheet(d);c&&c.destroy()}getWorksheet(d){return d===void 0?this._worksheets.find(Boolean):typeof d=="number"?this._worksheets[d]:typeof d=="string"?this._worksheets.find(c=>c&&c.name===d):void 0}get worksheets(){return this._worksheets.slice(1).sort((d,c)=>d.orderNo-c.orderNo).filter(Boolean)}eachSheet(d){this.worksheets.forEach(c=>{d(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(d){const c=this.media.length;return this.media.push(Object.assign({},d,{type:"image"})),c}getImage(d){return this.media[d]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(d=>d.model),sheets:this.worksheets.map(d=>d.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(d){this.creator=d.creator,this.lastModifiedBy=d.lastModifiedBy,this.lastPrinted=d.lastPrinted,this.created=d.created,this.modified=d.modified,this.company=d.company,this.manager=d.manager,this.title=d.title,this.subject=d.subject,this.keywords=d.keywords,this.category=d.category,this.description=d.description,this.language=d.language,this.revision=d.revision,this.contentStatus=d.contentStatus,this.properties=d.properties,this.calcProperties=d.calcProperties,this._worksheets=[],d.worksheets.forEach(c=>{const{id:h,name:u,state:p}=c,f=d.sheets&&d.sheets.findIndex(g=>g.id===h);(this._worksheets[h]=new r({id:h,name:u,orderNo:f,state:p,workbook:this})).model=c}),this._definedNames.model=d.definedNames,this.views=d.views,this._themes=d.themes,this.media=d.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(t,n,s){const r=t("../utils/under-dash"),o=t("../utils/col-cache"),a=t("./range"),l=t("./row"),d=t("./column"),c=t("./enums"),h=t("./image"),u=t("./table"),p=t("./data-validations"),f=t("../utils/encryptor"),{copyStyle:g}=t("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new p,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(v=>v&&v.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new a;return this._rows.forEach(v=>{if(v){const _=v.dimensions;_&&m.expand(v.number,_.min,v.number,_.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((x,y)=>{const T=(y.header?1:y.headers&&y.headers.length)||0;return Math.max(x,T)},0);let v=1;const _=this._columns=[];m.forEach(x=>{const y=new d(this,v++,!1);_.push(y),y.defn=x})}getColumnKey(m){return this._keys[m]}setColumnKey(m,v){this._keys[m]=v}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){r.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const v=this._keys[m];if(v)return v;m=o.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let v=this._columns.length+1;for(;v<=m;)this._columns.push(new d(this,v++))}return this._columns[m-1]}spliceColumns(m,v){const _=this._rows.length;for(var x=arguments.length,y=new Array(x>2?x-2:0),T=2;T<x;T++)y[T-2]=arguments[T];if(y.length>0)for(let $=0;$<_;$++){const V=[m,v];y.forEach(H=>{V.push(H[$]||null)});const z=this.getRow($+1);z.splice.apply(z,V)}else this._rows.forEach($=>{$&&$.splice(m,v)});const O=y.length-v,L=m+v,R=this._columns.length;if(O<0)for(let $=m+y.length;$<=R;$++)this.getColumn($).defn=this.getColumn($-O).defn;else if(O>0)for(let $=R;$>=L;$--)this.getColumn($+O).defn=this.getColumn($).defn;for(let $=m;$<m+y.length;$++)this.getColumn($).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,v,y.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(v=>{m=Math.max(m,v.cellCount)}),m}get actualColumnCount(){const m=[];let v=0;return this.eachRow(_=>{_.eachCell(x=>{let{col:y}=x;m[y]||(m[y]=!0,v++)})}),v}_commitRow(){}get _lastRowNumber(){const m=this._rows;let v=m.length;for(;v>0&&m[v-1]===void 0;)v--;return v}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,v){return this._rows.slice(m-1,m-1+v)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let v=this._rows[m-1];return v||(v=this._rows[m-1]=new l(this,m)),v}getRows(m,v){if(v<1)return;const _=[];for(let x=m;x<m+v;x++)_.push(this.getRow(x));return _}addRow(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const _=this._nextRow,x=this.getRow(_);return x.values=m,this._setStyleOption(_,v[0]==="i"?v:"n"),x}addRows(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const _=[];return m.forEach(x=>{_.push(this.addRow(x,v))}),_}insertRow(m,v){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,v),this._setStyleOption(m,_),this.getRow(m)}insertRows(m,v){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...v),_!=="n")for(let x=0;x<v.length;x++)_[0]==="o"&&this.findRow(v.length+m+x)!==void 0?this._copyStyle(v.length+m+x,m+x,_[1]==="+"):_[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+x,_[1]==="+");return this.getRows(m,v.length)}_setStyleOption(m){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";v[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,v[1]==="+"):v[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,v[1]==="+")}_copyStyle(m,v){let _=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this.getRow(m),y=this.getRow(v);y.style=g(x.style),x.eachCell({includeEmpty:_},(T,O)=>{y.getCell(O).style=g(T.style)}),y.height=x.height}duplicateRow(m,v){let _=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const x=this._rows[m-1],y=new Array(v).fill(x.values);this.spliceRows(m+1,_?0:v,...y);for(let T=0;T<v;T++){const O=this._rows[m+T];O.style=x.style,O.height=x.height,x.eachCell({includeEmpty:!0},(L,R)=>{O.getCell(R).style=L.style})}}spliceRows(m,v){const _=m+v;for(var x=arguments.length,y=new Array(x>2?x-2:0),T=2;T<x;T++)y[T-2]=arguments[T];const O=y.length,L=O-v,R=this._rows.length;let $,V;if(L<0)for(m===R&&(this._rows[R-1]=void 0),$=_;$<=R;$++)if(V=this._rows[$-1],V){const z=this.getRow($+L);z.values=V.values,z.style=V.style,z.height=V.height,V.eachCell({includeEmpty:!0},(H,I)=>{z.getCell(I).style=H.style}),this._rows[$-1]=void 0}else this._rows[$+L-1]=void 0;else if(L>0)for($=R;$>=_;$--)if(V=this._rows[$-1],V){const z=this.getRow($+L);z.values=V.values,z.style=V.style,z.height=V.height,V.eachCell({includeEmpty:!0},(H,I)=>{if(z.getCell(I).style=H.style,H._value.constructor.name==="MergeValue"){const A=this.getRow(H._row._number+O).getCell(I),E=H._value._master,b=this.getRow(E._row._number+O).getCell(E._column._number);A.merge(b)}})}else this._rows[$+L-1]=void 0;for($=0;$<O;$++){const z=this.getRow(m+$);z.style={},z.values=y[$]}this.workbook.definedNames.spliceRows(this.name,m,v,O)}eachRow(m,v){if(v||(v=m,m=void 0),m&&m.includeEmpty){const _=this._rows.length;for(let x=1;x<=_;x++)v(this.getRow(x),x)}else this._rows.forEach(_=>{_&&_.hasValues&&v(_,_.number)})}getSheetValues(){const m=[];return this._rows.forEach(v=>{v&&(m[v.number]=v.values)}),m}findCell(m,v){const _=o.getAddress(m,v),x=this._rows[_.row-1];return x?x.findCell(_.col):void 0}getCell(m,v){const _=o.getAddress(m,v);return this.getRow(_.row).getCellEx(_)}mergeCells(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];const x=new a(v);this._mergeCellsInternal(x)}mergeCellsWithoutStyle(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];const x=new a(v);this._mergeCellsInternal(x,!0)}_mergeCellsInternal(m,v){r.each(this._merges,x=>{if(x.intersects(m))throw new Error("Cannot merge already merged cells")});const _=this.getCell(m.top,m.left);for(let x=m.top;x<=m.bottom;x++)for(let y=m.left;y<=m.right;y++)(x>m.top||y>m.left)&&this.getCell(x,y).merge(_,v);this._merges[_.address]=m}_unMergeMaster(m){const v=this._merges[m.address];if(v){for(let _=v.top;_<=v.bottom;_++)for(let x=v.left;x<=v.right;x++)this.getCell(_,x).unmerge();delete this._merges[m.address]}}get hasMerges(){return r.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];const x=new a(v);for(let y=x.top;y<=x.bottom;y++)for(let T=x.left;T<=x.right;T++){const O=this.findCell(y,T);O&&(O.type===c.ValueType.Merge?this._unMergeMaster(O.master):this._merges[O.address]&&this._unMergeMaster(O))}}fillFormula(m,v,_){let x=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const y=o.decode(m),{top:T,left:O,bottom:L,right:R}=y,$=R-O+1,V=o.encodeAddress(T,O),z=x==="shared";let H;H=typeof _=="function"?_:Array.isArray(_)?Array.isArray(_[0])?(A,E)=>_[A-T][E-O]:(A,E)=>_[(A-T)*$+(E-O)]:()=>{};let I=!0;for(let A=T;A<=L;A++)for(let E=O;E<=R;E++)I?(this.getCell(A,E).value={shareType:x,formula:v,ref:m,result:H(A,E)},I=!1):this.getCell(A,E).value=z?{sharedFormula:V,result:H(A,E)}:H(A,E)}addImage(m,v){const _={type:"image",imageId:m,range:v};this._media.push(new h(this,_))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const v={type:"background",imageId:m};this._media.push(new h(this,v))}getBackgroundImageId(){const m=this._media.find(v=>v.type==="background");return m&&m.imageId}protect(m,v){return new Promise(_=>{this.sheetProtection={sheet:!0},v&&"spinCount"in v&&(v.spinCount=Number.isFinite(v.spinCount)?Math.round(Math.max(0,v.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=f.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=v&&"spinCount"in v?v.spinCount:1e5,this.sheetProtection.hashValue=f.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),v&&(this.sheetProtection=Object.assign(this.sheetProtection,v),!m&&"spinCount"in v&&delete this.sheetProtection.spinCount),_()})}unprotect(){this.sheetProtection=null}addTable(m){const v=new u(this,m);return this.tables[m.name]=v,v}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(x=>x.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(x=>x.model),conditionalFormattings:this.conditionalFormattings};m.cols=d.toModel(this.columns);const v=m.rows=[],_=m.dimensions=new a;return this._rows.forEach(x=>{const y=x&&x.model;y&&(_.expand(y.number,y.min,y.number,y.max),v.push(y))}),m.merges=[],r.each(this._merges,x=>{m.merges.push(x.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(v=>{const _=new l(this,v.number);this._rows[_.number-1]=_,_.model=v})}_parseMergeCells(m){r.each(m.mergeCells,v=>{this.mergeCellsWithoutStyle(v)})}set model(m){this.name=m.name,this._columns=d.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new p(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(v=>new h(this,v)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((v,_)=>{const x=new u;return x.model=_,v[_.name]=x,v},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(t,n,s){t("core-js/modules/es.promise"),t("core-js/modules/es.promise.finally"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.values"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.async-iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.find"),t("core-js/modules/es.string.from-code-point"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.number.is-nan"),t("regenerator-runtime/runtime");const r={Workbook:t("./doc/workbook")},o=t("./doc/enums");Object.keys(o).forEach(a=>{r[a]=o[a]}),n.exports=r},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(t,n,s){const r=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");s.bufferToString=function(o){return typeof o=="string"?o:r?r.decode(o):o.toString()}},{}],17:[function(t,n,s){const r=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:o}=t("buffer");s.stringToBuffer=function(a){return typeof a!="string"?a:r?o.from(r.encode(a).buffer):o.from(a)}},{buffer:220}],18:[function(t,n,s){const r=t("./under-dash"),o=t("./col-cache");n.exports=class{constructor(a){this.template=a,this.sheets={}}addCell(a){this.addCellEx(o.decodeEx(a))}getCell(a){return this.findCellEx(o.decodeEx(a),!0)}findCell(a){return this.findCellEx(o.decodeEx(a),!1)}findCellAt(a,l,d){const c=this.sheets[a],h=c&&c[l];return h&&h[d]}addCellEx(a){if(a.top)for(let l=a.top;l<=a.bottom;l++)for(let d=a.left;d<=a.right;d++)this.getCellAt(a.sheetName,l,d);else this.findCellEx(a,!0)}getCellEx(a){return this.findCellEx(a,!0)}findCellEx(a,l){const d=this.findSheet(a,l),c=this.findSheetRow(d,a,l);return this.findRowCell(c,a,l)}getCellAt(a,l,d){const c=this.sheets[a]||(this.sheets[a]=[]),h=c[l]||(c[l]=[]);return h[d]||(h[d]={sheetName:a,address:o.n2l(d)+l,row:l,col:d})}removeCellEx(a){const l=this.findSheet(a);if(!l)return;const d=this.findSheetRow(l,a);d&&delete d[a.col]}forEachInSheet(a,l){const d=this.sheets[a];d&&d.forEach((c,h)=>{c&&c.forEach((u,p)=>{u&&l(u,h,p)})})}forEach(a){r.each(this.sheets,(l,d)=>{this.forEachInSheet(d,a)})}map(a){const l=[];return this.forEach(d=>{l.push(a(d))}),l}findSheet(a,l){const d=a.sheetName;return this.sheets[d]?this.sheets[d]:l?this.sheets[d]=[]:void 0}findSheetRow(a,l,d){const{row:c}=l;return a&&a[c]?a[c]:d?a[c]=[]:void 0}findRowCell(a,l,d){const{col:c}=l;return a&&a[c]?a[c]:d?a[c]=this.template?Object.assign(l,JSON.parse(JSON.stringify(this.template))):l:void 0}spliceRows(a,l,d,c){const h=this.sheets[a];if(h){const u=[];for(let p=0;p<c;p++)u.push([]);h.splice(l,d,...u)}}spliceColumns(a,l,d,c){const h=this.sheets[a];if(h){const u=[];for(let p=0;p<c;p++)u.push(null);r.each(h,p=>{p.splice(l,d,...u)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(t,n,s){const r=/^[A-Z]+\d+$/,o={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:a=>a<=26?1:a<=676?2:3,_fill(a){let l,d,c,h,u,p=1;if(a>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&a>=1){for(;p<=26;)l=this._dictionary[p-1],this._n2l[p]=l,this._l2n[l]=p,p++;this._l2nFill=1}if(this._l2nFill<2&&a>=2){for(p=27;p<=702;)d=p-27,c=d%26,h=Math.floor(d/26),l=this._dictionary[h]+this._dictionary[c],this._n2l[p]=l,this._l2n[l]=p,p++;this._l2nFill=2}if(this._l2nFill<3&&a>=3){for(p=703;p<=16384;)d=p-703,c=d%26,h=Math.floor(d/26)%26,u=Math.floor(d/676),l=this._dictionary[u]+this._dictionary[h]+this._dictionary[c],this._n2l[p]=l,this._l2n[l]=p,p++;this._l2nFill=3}},l2n(a){if(this._l2n[a]||this._fill(a.length),!this._l2n[a])throw new Error("Out of bounds. Invalid column letter: "+a);return this._l2n[a]},n2l(a){if(a<1||a>16384)throw new Error(a+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[a]||this._fill(this._level(a)),this._n2l[a]},_hash:{},validateAddress(a){if(!r.test(a))throw new Error("Invalid Address: "+a);return!0},decodeAddress(a){const l=a.length<5&&this._hash[a];if(l)return l;let d=!1,c="",h=0,u=!1,p="",f=0;for(let m,v=0;v<a.length;v++)if(m=a.charCodeAt(v),!u&&m>=65&&m<=90)d=!0,c+=a[v],h=26*h+m-64;else if(m>=48&&m<=57)u=!0,p+=a[v],f=10*f+m-48;else if(u&&d&&m!==36)break;if(d){if(h>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else h=void 0;u||(f=void 0);const g={address:a=c+p,col:h,row:f,$col$row:`$${c}$${p}`};return h<=100&&f<=100&&(this._hash[a]=g,this._hash[g.$col$row]=g),g},getAddress(a,l){if(l){const d=this.n2l(l)+a;return this.decodeAddress(d)}return this.decodeAddress(a)},decode(a){const l=a.split(":");if(l.length===2){const d=this.decodeAddress(l[0]),c=this.decodeAddress(l[1]),h={top:Math.min(d.row,c.row),left:Math.min(d.col,c.col),bottom:Math.max(d.row,c.row),right:Math.max(d.col,c.col)};return h.tl=this.n2l(h.left)+h.top,h.br=this.n2l(h.right)+h.bottom,h.dimensions=`${h.tl}:${h.br}`,h}return this.decodeAddress(a)},decodeEx(a){const l=a.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),d=l[1]||l[2],c=l[3],h=c.split(":");if(h.length>1){let p=this.decodeAddress(h[0]),f=this.decodeAddress(h[1]);const g=Math.min(p.row,f.row),m=Math.min(p.col,f.col),v=Math.max(p.row,f.row),_=Math.max(p.col,f.col);return p=this.n2l(m)+g,f=this.n2l(_)+v,{top:g,left:m,bottom:v,right:_,sheetName:d,tl:{address:p,col:m,row:g,$col$row:`$${this.n2l(m)}$${g}`,sheetName:d},br:{address:f,col:_,row:v,$col$row:`$${this.n2l(_)}$${v}`,sheetName:d},dimensions:`${p}:${f}`}}if(c.startsWith("#"))return d?{sheetName:d,error:c}:{error:c};const u=this.decodeAddress(c);return d?{sheetName:d,...u}:u},encodeAddress:(a,l)=>o.n2l(l)+a,encode(){switch(arguments.length){case 2:return o.encodeAddress(arguments[0],arguments[1]);case 4:return`${o.encodeAddress(arguments[0],arguments[1])}:${o.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(a,l){const[d,c,,h,u]=a,[p,f]=l;return p>=d&&p<=h&&f>=c&&f<=u}};n.exports=o},{}],20:[function(t,n,s){const r=(a,l)=>({...a,...l.reduce((d,c)=>(a[c]&&(d[c]={...a[c]}),d),{})}),o=function(a,l,d){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];a[d]&&(l[d]=r(a[d],c))};s.copyStyle=a=>{if(!a)return a;if(l=a,Object.keys(l).length===0)return{};var l;const d={...a};return o(a,d,"font",["color"]),o(a,d,"alignment"),o(a,d,"protection"),a.border&&(o(a,d,"border"),o(a.border,d.border,"top",["color"]),o(a.border,d.border,"left",["color"]),o(a.border,d.border,"bottom",["color"]),o(a.border,d.border,"right",["color"]),o(a.border,d.border,"diagonal",["color"])),a.fill&&(o(a,d,"fill",["fgColor","bgColor","center"]),a.fill.stops&&(d.fill.stops=a.fill.stops.map(c=>r(c,["color"])))),d}},{}],21:[function(t,n,s){(function(r){(function(){const o=t("crypto"),a={hash(l){const d=o.createHash(l);for(var c=arguments.length,h=new Array(c>1?c-1:0),u=1;u<c;u++)h[u-1]=arguments[u];return d.update(r.concat(h)),d.digest()},convertPasswordToHash(l,d,c,h){if(d=d.toLowerCase(),o.getHashes().indexOf(d)<0)throw new Error(`Hash algorithm '${d}' not supported!`);const u=r.from(l,"utf16le");let p=this.hash(d,r.from(c,"base64"),u);for(let f=0;f<h;f++){const g=r.alloc(4);g.writeUInt32LE(f,0),p=this.hash(d,p,g)}return p.toString("base64")},randomBytes:l=>o.randomBytes(l)};n.exports=a}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(t,n,s){const{SaxesParser:r}=t("saxes"),{PassThrough:o}=t("readable-stream"),{bufferToString:a}=t("./browser-buffer-decode");n.exports=async function*(l){l.pipe&&!l[Symbol.asyncIterator]&&(l=l.pipe(new o));const d=new r;let c;d.on("error",u=>{c=u});let h=[];d.on("opentag",u=>h.push({eventType:"opentag",value:u})),d.on("text",u=>h.push({eventType:"text",value:u})),d.on("closetag",u=>h.push({eventType:"closetag",value:u}));for await(const u of l){if(d.write(a(u)),c)throw c;yield h,h=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(t,n,s){const r=t("./col-cache"),o=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,a=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(l,d,c){const h=r.decode(d),u=r.decode(c);return l.replace(o,(p,f,g,m,v)=>{if(v)return p;const _=a.exec(m);if(_){const x=_[1],y=_[2].toUpperCase(),T=_[3],O=_[4];if(y.length>3||y.length===3&&y>"XFD")return p;let L=r.l2n(y),R=parseInt(O,10);return x||(L+=u.col-h.col),T||(R+=u.row-h.row),(f||"")+(x||"")+r.n2l(L)+(T||"")+R}return p})}}},{"./col-cache":19}],24:[function(t,n,s){(function(r,o){(function(){const a=t("readable-stream"),l=t("./utils"),d=t("./string-buf");class c{constructor(m,v){this._data=m,this._encoding=v}get length(){return this.toBuffer().length}copy(m,v,_,x){return this.toBuffer().copy(m,v,_,x)}toBuffer(){return this._buffer||(this._buffer=o.from(this._data,this._encoding)),this._buffer}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,_,x){return this._data._buf.copy(m,v,_,x)}toBuffer(){return this._data.toBuffer()}}class u{constructor(m){this._data=m}get length(){return this._data.length}copy(m,v,_,x){this._data.copy(m,v,_,x)}toBuffer(){return this._data}}class p{constructor(m){this.size=m,this.buffer=o.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=o.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let v;return m===0?null:m===void 0||m>=this.length?(v=this.toBuffer(),this.iRead=this.iWrite,v):(v=o.alloc(m),this.buffer.copy(v,0,this.iRead,m),this.iRead+=m,v)}write(m,v,_){const x=Math.min(_,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,v,v+x),this.iWrite+=x,x}}const f=function(g){g=g||{},this.bufSize=g.bufSize||1048576,this.buffers=[],this.batch=g.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};l.inherits(f,a.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return o.concat(this.buffers.map(g=>g.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const g=new p(this.bufSize);return this.buffers.push(g),g},async _pipe(g){await Promise.all(this.pipes.map(function(m){return new Promise(v=>{m.write(g.toBuffer(),()=>{v()})})}))},_writeToBuffers(g){let m=0;const v=g.length;for(;m<v;)m+=this._getWritableBuffer().write(g,m,v-m)},async write(g,m,v){let _;if(m instanceof Function&&(v=m,m="utf8"),v=v||l.nop,g instanceof d)_=new h(g);else if(g instanceof o)_=new u(g);else{if(!(typeof g=="string"||g instanceof String||g instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");_=new c(g,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(_);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(_),r.nextTick(v)):(await this._pipe(_),v());else this.paused||this.emit("data",_.toBuffer()),this._writeToBuffers(_),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(g,m,v){const _=x=>{x?v(x):(this._flush(),this.pipes.forEach(y=>{y.end()}),this.emit("finish"))};g?this.write(g,m,_):_()},read(g){let m;if(g){for(m=[];g&&this.buffers.length&&!this.buffers[0].eod;){const v=this.buffers[0],_=v.read(g);g-=_.length,m.push(_),v.eod&&v.full&&this.buffers.shift()}return o.concat(m)}return m=this.buffers.map(v=>v.toBuffer()).filter(Boolean),this.buffers=[],o.concat(m)},setEncoding(g){this.encoding=g},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(g){this.pipes.push(g),!this.paused&&this.buffers.length&&this.end()},unpipe(g){this.pipes=this.pipes.filter(m=>m!==g)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=f}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(t,n,s){(function(r){(function(){n.exports=class{constructor(o){this._buf=r.alloc(o&&o.size||16384),this._encoding=o&&o.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=r.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(o){o=o||0,this._buffer=void 0,this._inPos=o}_grow(o){let a=2*this._buf.length;for(;a<o;)a*=2;const l=r.alloc(a);this._buf.copy(l,0),this._buf=l}addText(o){this._buffer=void 0;let a=this._inPos+this._buf.write(o,this._inPos,this._encoding);for(;a>=this._buf.length-4;)this._grow(this._inPos+o.length),a=this._inPos+this._buf.write(o,this._inPos,this._encoding);this._inPos=a}addStringBuf(o){o.length&&(this._buffer=void 0,this.length+o.length>this.capacity&&this._grow(this.length+o.length),o._buf.copy(this._buf,this._inPos,0,o.length),this._inPos+=o.length)}}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],26:[function(t,n,s){const{toString:r}=Object.prototype,o=/["&<>]/,a={each:function(l,d){l&&(Array.isArray(l)?l.forEach(d):Object.keys(l).forEach(c=>{d(l[c],c)}))},some:function(l,d){return!!l&&(Array.isArray(l)?l.some(d):Object.keys(l).some(c=>d(l[c],c)))},every:function(l,d){return!l||(Array.isArray(l)?l.every(d):Object.keys(l).every(c=>d(l[c],c)))},map:function(l,d){return l?Array.isArray(l)?l.map(d):Object.keys(l).map(c=>d(l[c],c)):[]},keyBy:(l,d)=>l.reduce((c,h)=>(c[h[d]]=h,c),{}),isEqual:function(l,d){const c=typeof l,h=typeof d,u=Array.isArray(l),p=Array.isArray(d);let f;if(c!==h)return!1;switch(typeof l){case"object":if(u||p)return!(!u||!p)&&l.length===d.length&&l.every((g,m)=>{const v=d[m];return a.isEqual(g,v)});if(l===null||d===null)return l===d;if(f=Object.keys(l),Object.keys(d).length!==f.length)return!1;for(const g of f)if(!d.hasOwnProperty(g))return!1;return a.every(l,(g,m)=>{const v=d[m];return a.isEqual(g,v)});default:return l===d}},escapeHtml(l){const d=o.exec(l);if(!d)return l;let c="",h="",u=0,p=d.index;for(;p<l.length;p++){switch(l.charAt(p)){case'"':h="&quot;";break;case"&":h="&amp;";break;case"'":h="&apos;";break;case"<":h="&lt;";break;case">":h="&gt;";break;default:continue}u!==p&&(c+=l.substring(u,p)),u=p+1,c+=h}return u!==p?c+l.substring(u,p):c},strcmp:(l,d)=>l<d?-1:l>d?1:0,isUndefined:l=>r.call(l)==="[object Undefined]",isObject:l=>r.call(l)==="[object Object]",deepMerge(){const l=arguments[0]||{},{length:d}=arguments;let c,h,u;function p(f,g){c=l[g],u=Array.isArray(f),a.isObject(f)||u?(u?(u=!1,h=c&&Array.isArray(c)?c:[]):h=c&&a.isObject(c)?c:{},l[g]=a.deepMerge(h,f)):a.isUndefined(f)||(l[g]=f)}for(let f=0;f<d;f++)a.each(arguments[f],p);return l}};n.exports=a},{}],27:[function(t,n,s){(function(r,o){(function(){const a=t("fs"),l=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,d={nop(){},promiseImmediate:c=>new Promise(h=>{r.setImmediate?o(()=>{h(c)}):setTimeout(()=>{h(c)},1)}),inherits:function(c,h,u,p){c.super_=h,p||(p=u,u=null),u&&Object.keys(u).forEach(g=>{Object.defineProperty(c,g,Object.getOwnPropertyDescriptor(u,g))});const f={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};p&&Object.keys(p).forEach(g=>{f[g]=Object.getOwnPropertyDescriptor(p,g)}),c.prototype=Object.create(h.prototype,f)},dateToExcel:(c,h)=>25569+c.getTime()/864e5-(h?1462:0),excelToDate(c,h){const u=Math.round(24*(c-25569+(h?1462:0))*3600*1e3);return new Date(u)},parsePath(c){const h=c.lastIndexOf("/");return{path:c.substring(0,h),name:c.substring(h+1)}},getRelsPath(c){const h=d.parsePath(c);return`${h.path}/_rels/${h.name}.rels`},xmlEncode(c){const h=l.exec(c);if(!h)return c;let u="",p="",f=0,g=h.index;for(;g<c.length;g++){const m=c.charCodeAt(g);switch(m){case 34:p="&quot;";break;case 38:p="&amp;";break;case 39:p="&apos;";break;case 60:p="&lt;";break;case 62:p="&gt;";break;case 127:p="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){p="";break}continue}f!==g&&(u+=c.substring(f,g)),f=g+1,p&&(u+=p)}return f!==g?u+c.substring(f,g):u},xmlDecode:c=>c.replace(/&([a-z]*);/g,h=>{switch(h){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return h}}),validInt(c){const h=parseInt(c,10);return Number.isNaN(h)?0:h},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(h=>{a.access(c,a.constants.F_OK,u=>{h(!u)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};n.exports=d}).call(this)}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{fs:216,timers:523}],28:[function(t,n,s){const r=t("./under-dash"),o=t("./utils");function a(c,h,u){c.push(` ${h}="${o.xmlEncode(u.toString())}"`)}function l(c,h){if(h){const u=[];r.each(h,(p,f)=>{p!==void 0&&a(u,f,p)}),c.push(u.join(""))}}class d{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(h){const u=this._xml;u.push("<?xml"),l(u,h),u.push(`?>
`)}openNode(h,u){const p=this.tos,f=this._xml;p&&this.open&&f.push(">"),this._stack.push(h),f.push("<"),f.push(h),l(f,u),this.leaf=!0,this.open=!0}addAttribute(h,u){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");u!==void 0&&a(this._xml,h,u)}addAttributes(h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");l(this._xml,h)}writeText(h){const u=this._xml;this.open&&(u.push(">"),this.open=!1),this.leaf=!1,u.push(o.xmlEncode(h.toString()))}writeXml(h){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(h)}closeNode(){const h=this._stack.pop(),u=this._xml;this.leaf?u.push("/>"):(u.push("</"),u.push(h),u.push(">")),this.open=!1,this.leaf=!1}leafNode(h,u,p){this.openNode(h,u),p!==void 0&&this.writeText(p),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const h=this._rollbacks.pop();this._xml.length>h.xml&&this._xml.splice(h.xml,this._xml.length-h.xml),this._stack.length>h.stack&&this._stack.splice(h.stack,this._stack.length-h.stack),this.leaf=h.leaf,this.open=h.open}get xml(){return this.closeAll(),this._xml.join("")}}d.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=d},{"./under-dash":26,"./utils":27}],29:[function(t,n,s){(function(r){(function(){const o=t("events"),a=t("jszip"),l=t("./stream-buf"),{stringToBuffer:d}=t("./browser-buffer-encode");class c extends o.EventEmitter{constructor(u){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},u),this.zip=new a,this.stream=new l}append(u,p){p.hasOwnProperty("base64")&&p.base64?this.zip.file(p.name,u,{base64:!0}):(r.browser&&typeof u=="string"&&(u=d(u)),this.zip.file(p.name,u))}async finalize(){const u=await this.zip.generateAsync(this.options);this.stream.end(u),this.emit("finish")}read(u){return this.stream.read(u)}setEncoding(u){return this.stream.setEncoding(u)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(u,p){return this.stream.pipe(u,p)}unpipe(u){return this.stream.unpipe(u)}unshift(u){return this.stream.unshift(u)}wrap(u){return this.stream.wrap(u)}}n.exports={ZipWriter:c}}).call(this)}).call(this,t("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(t,n,s){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(t,n,s){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(t,n,s){const r=t("../../utils/parse-sax"),o=t("../../utils/xml-stream");class a{prepare(){}render(){}parseOpen(d){}parseText(d){}parseClose(d){}reconcile(d,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(d=>{d instanceof a?d.reset():d.xform&&d.xform.reset()})}mergeModel(d){this.model=Object.assign(this.model||{},d)}async parse(d){for await(const c of d)for(const{eventType:h,value:u}of c)if(h==="opentag")this.parseOpen(u);else if(h==="text")this.parseText(u);else if(h==="closetag"&&!this.parseClose(u.name))return this.model;return this.model}async parseStream(d){return this.parse(r(d))}get xml(){return this.toXml(this.model)}toXml(d){const c=new o;return this.render(c,d),c.xml}static toAttribute(d,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(d===void 0){if(h)return c}else if(h||d!==c)return d.toString()}static toStringAttribute(d,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(d,c,h)}static toStringValue(d,c){return d===void 0?c:d}static toBoolAttribute(d,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(d===void 0){if(h)return c}else if(h||d!==c)return d?"1":"0"}static toBoolValue(d,c){return d===void 0?c:d==="1"}static toIntAttribute(d,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(d,c,h)}static toIntValue(d,c){return d===void 0?c:parseInt(d,10)}static toFloatAttribute(d,c){let h=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return a.toAttribute(d,c,h)}static toFloatValue(d,c){return d===void 0?c:parseFloat(d)}}n.exports=a},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(t,n,s){const r=t("../base-xform"),o=t("../../../utils/col-cache");function a(d){try{return o.decodeEx(d),!0}catch{return!1}}function l(d){const c=[];let h=!1,u="";return d.split(",").forEach(p=>{if(!p)return;const f=(p.match(/'/g)||[]).length;if(!f)return void(h?u+=p+",":a(p)&&c.push(p));const g=f%2==0;!h&&g&&a(p)?c.push(p):h&&!g?(h=!1,a(u+p)&&c.push(u+p),u=""):(h=!0,u+=p+",")}),c}n.exports=class extends r{render(d,c){d.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),d.writeText(c.ranges.join(",")),d.closeNode()}parseOpen(d){switch(d.name){case"definedName":return this._parsedName=d.attributes.name,this._parsedLocalSheetId=d.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(d){this._parsedText.push(d)}parseClose(){return this.model={name:this._parsedName,ranges:l(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(t,n,s){const r=t("../../../utils/utils"),o=t("../base-xform");n.exports=class extends o{render(a,l){a.leafNode("sheet",{sheetId:l.id,name:l.name,state:l.state,"r:id":l.rId})}parseOpen(a){return a.name==="sheet"&&(this.model={name:r.xmlDecode(a.attributes.name),id:parseInt(a.attributes.sheetId,10),state:a.attributes.state,rId:a.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{render(o,a){o.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:a.fullCalcOnLoad?1:void 0})}parseOpen(o){return o.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{render(o,a){o.leafNode("workbookPr",{date1904:a.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(o){return o.name==="workbookPr"&&(this.model={date1904:o.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{render(o,a){const l={xWindow:a.x||0,yWindow:a.y||0,windowWidth:a.width||12e3,windowHeight:a.height||24e3,firstSheet:a.firstSheet,activeTab:a.activeTab};a.visibility&&a.visibility!=="visible"&&(l.visibility=a.visibility),o.leafNode("workbookView",l)}parseOpen(o){if(o.name==="workbookView"){const a=this.model={},l=function(c,h,u){const p=h!==void 0?a[c]=h:u;p!==void 0&&(a[c]=p)},d=function(c,h,u){const p=h!==void 0?a[c]=parseInt(h,10):u;p!==void 0&&(a[c]=p)};return d("x",o.attributes.xWindow,0),d("y",o.attributes.yWindow,0),d("width",o.attributes.windowWidth,25e3),d("height",o.attributes.windowHeight,1e4),l("visibility",o.attributes.visibility,"visible"),d("activeTab",o.attributes.activeTab,void 0),d("firstSheet",o.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(t,n,s){const r=t("../../../utils/under-dash"),o=t("../../../utils/col-cache"),a=t("../../../utils/xml-stream"),l=t("../base-xform"),d=t("../static-xform"),c=t("../list-xform"),h=t("./defined-name-xform"),u=t("./sheet-xform"),p=t("./workbook-view-xform"),f=t("./workbook-properties-xform"),g=t("./workbook-calc-properties-xform");class m extends l{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new f,bookViews:new c({tag:"bookViews",count:!1,childXform:new p}),sheets:new c({tag:"sheets",count:!1,childXform:new u}),definedNames:new c({tag:"definedNames",count:!1,childXform:new h}),calcPr:new g}}prepare(_){_.sheets=_.worksheets;const x=[];let y=0;_.sheets.forEach(T=>{if(T.pageSetup&&T.pageSetup.printArea&&T.pageSetup.printArea.split("&&").forEach(O=>{const L=O.split(":"),R={name:"_xlnm.Print_Area",ranges:[`'${T.name}'!$${L[0]}:$${L[1]}`],localSheetId:y};x.push(R)}),T.pageSetup&&(T.pageSetup.printTitlesRow||T.pageSetup.printTitlesColumn)){const O=[];if(T.pageSetup.printTitlesColumn){const R=T.pageSetup.printTitlesColumn.split(":");O.push(`'${T.name}'!$${R[0]}:$${R[1]}`)}if(T.pageSetup.printTitlesRow){const R=T.pageSetup.printTitlesRow.split(":");O.push(`'${T.name}'!$${R[0]}:$${R[1]}`)}const L={name:"_xlnm.Print_Titles",ranges:O,localSheetId:y};x.push(L)}y++}),x.length&&(_.definedNames=_.definedNames.concat(x)),(_.media||[]).forEach((T,O)=>{T.name=T.type+(O+1)})}render(_,x){_.openXml(a.StdDocAttributes),_.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(_),this.map.workbookPr.render(_,x.properties),this.map.bookViews.render(_,x.views),this.map.sheets.render(_,x.sheets),this.map.definedNames.render(_,x.definedNames),this.map.calcPr.render(_,x.calcProperties),_.closeNode()}parseOpen(_){if(this.parser)return this.parser.parseOpen(_),!0;switch(_.name){case"workbook":return!0;default:return this.parser=this.map[_.name],this.parser&&this.parser.parseOpen(_),!0}}parseText(_){this.parser&&this.parser.parseText(_)}parseClose(_){if(this.parser)return this.parser.parseClose(_)||(this.parser=void 0),!0;switch(_){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(_){const x=(_.workbookRels||[]).reduce((R,$)=>(R[$.Id]=$,R),{}),y=[];let T,O=0;(_.sheets||[]).forEach(R=>{const $=x[R.rId];$&&(T=_.worksheetHash["xl/"+$.Target.replace(/^(\s|\/xl\/)+/,"")],T&&(T.name=R.name,T.id=R.id,T.state=R.state,y[O++]=T))});const L=[];r.each(_.definedNames,R=>{if(R.name==="_xlnm.Print_Area"){if(T=y[R.localSheetId],T){T.pageSetup||(T.pageSetup={});const $=o.decodeEx(R.ranges[0]);T.pageSetup.printArea=T.pageSetup.printArea?`${T.pageSetup.printArea}&&${$.dimensions}`:$.dimensions}}else if(R.name==="_xlnm.Print_Titles"){if(T=y[R.localSheetId],T){T.pageSetup||(T.pageSetup={});const $=R.ranges.join(","),V=/\$/g,z=/\$\d+:\$\d+/,H=$.match(z);if(H&&H.length){const E=H[0];T.pageSetup.printTitlesRow=E.replace(V,"")}const I=/\$[A-Z]+:\$[A-Z]+/,A=$.match(I);if(A&&A.length){const E=A[0];T.pageSetup.printTitlesColumn=E.replace(V,"")}}}else L.push(R)}),_.definedNames=L,_.media.forEach((R,$)=>{R.index=$})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new d({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(t,n,s){const r=t("../strings/rich-text-xform"),o=t("../../../utils/utils"),a=t("../base-xform"),l=n.exports=function(d){this.model=d};o.inherits(l,a,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new r),this._richTextXform},render(d,c){c=c||this.model,d.openNode("comment",{ref:c.ref,authorId:0}),d.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(h=>{this.richTextXform.render(d,h)}),d.closeNode(),d.closeNode()},parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"comment":return this.model={type:"note",note:{texts:[]},...d.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(d),!0;default:return!1}},parseText(d){this.parser&&this.parser.parseText(d)},parseClose(d){switch(d){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(d),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(t,n,s){const r=t("../../../utils/xml-stream"),o=t("../../../utils/utils"),a=t("../base-xform"),l=t("./comment-xform"),d=n.exports=function(){this.map={comment:new l}};o.inherits(d,a,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,h){h=h||this.model,c.openXml(r.StdDocAttributes),c.openNode("comments",d.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),h.comments.forEach(u=>{this.map.comment.render(c,u)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(t,n,s){const r=t("../../base-xform");n.exports=class extends r{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a,l){(a===l[2]||this.tag==="x:SizeWithCells"&&a===l[1])&&o.leafNode(this.tag)}parseOpen(o){switch(o.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(t,n,s){const r=t("../../base-xform");n.exports=class extends r{constructor(o){super(),this._model=o}get tag(){return this._model&&this._model.tag}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"x:Anchor"}getAnchorRect(o){const a=Math.floor(o.left),l=Math.floor(68*(o.left-a)),d=Math.floor(o.top),c=Math.floor(18*(o.top-d)),h=Math.floor(o.right),u=Math.floor(68*(o.right-h)),p=Math.floor(o.bottom);return[a,l,d,c,h,u,p,Math.floor(18*(o.bottom-p))]}getDefaultRect(o){const a=o.col,l=Math.max(o.row-2,0);return[a,6,l,14,a+2,2,l+4,16]}render(o,a){const l=a.anchor?this.getAnchorRect(a.anchor):this.getDefaultRect(a.refAddress);o.leafNode("x:Anchor",null,l.join(", "))}parseOpen(o){switch(o.name){case this.tag:return this.text="",!0;default:return!1}}parseText(o){this.text=o}parseClose(){return!1}}},{"../base-xform":32}],44:[function(t,n,s){const r=t("../base-xform"),o=t("./vml-anchor-xform"),a=t("./style/vml-protection-xform"),l=t("./style/vml-position-xform"),d=["twoCells","oneCells","absolute"];n.exports=class extends r{constructor(){super(),this.map={"x:Anchor":new o,"x:Locked":new a({tag:"x:Locked"}),"x:LockText":new a({tag:"x:LockText"}),"x:SizeWithCells":new l({tag:"x:SizeWithCells"}),"x:MoveWithCells":new l({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,h){const{protection:u,editAs:p}=h.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,p,d),this.map["x:SizeWithCells"].render(c,p,d),this.map["x:Anchor"].render(c,h),this.map["x:Locked"].render(c,u.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,u.lockText),c.leafNode("x:Row",null,h.refAddress.row-1),c.leafNode("x:Column",null,h.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),h=Object.keys(c).length;this.model.editAs=d[h],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(t,n,s){const r=t("../../../utils/xml-stream"),o=t("../base-xform"),a=t("./vml-shape-xform");class l extends o{constructor(){super(),this.map={"v:shape":new a}}get tag(){return"xml"}render(c,h){c.openXml(r.StdDocAttributes),c.openNode(this.tag,l.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),h.comments.forEach((u,p)=>{this.map["v:shape"].render(c,u,p)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,h){c.anchors.forEach(u=>{u.br?this.map["xdr:twoCellAnchor"].reconcile(u,h):this.map["xdr:oneCellAnchor"].reconcile(u,h)})}}l.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(t,n,s){const r=t("../base-xform"),o=t("./vml-textbox-xform"),a=t("./vml-client-data-xform");class l extends r{constructor(){super(),this.map={"v:textbox":new o,"x:ClientData":new a}}get tag(){return"v:shape"}render(c,h,u){c.openNode("v:shape",l.V_SHAPE_ATTRIBUTES(h,u)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,h),this.map["x:ClientData"].render(c,h),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}l.V_SHAPE_ATTRIBUTES=(d,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":d.note.margins&&d.note.margins.insetmode}),n.exports=l},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"v:textbox"}conversionUnit(o,a,l){return`${parseFloat(o)*a.toFixed(2)}${l}`}reverseConversionUnit(o){return(o||"").split(",").map(a=>Number(parseFloat(this.conversionUnit(parseFloat(a),.1,"")).toFixed(2)))}render(o,a){const l={style:"mso-direction-alt:auto"};if(a&&a.note){let{inset:d}=a.note&&a.note.margins;Array.isArray(d)&&(d=d.map(c=>this.conversionUnit(c,10,"mm")).join(",")),d&&(l.inset=d)}o.openNode("v:textbox",l),o.leafNode("div",{style:"text-align:left"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:return this.model={inset:this.reverseConversionUnit(o.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(t,n,s){const r=t("./base-xform");n.exports=class extends r{createNewModel(o){return{}}parseOpen(o){return this.parser=this.parser||this.map[o.name],this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag&&(this.model=this.createNewModel(o),!0)}parseText(o){this.parser&&this.parser.parseText(o)}onParserClose(o,a){this.model[o]=a.model}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.onParserClose(o,this.parser),this.parser=void 0),!0):o!==this.tag}}},{"./base-xform":32}],49:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{render(o,a){o.openNode("HeadingPairs"),o.openNode("vt:vector",{size:2,baseType:"variant"}),o.openNode("vt:variant"),o.leafNode("vt:lpstr",void 0,"Worksheets"),o.closeNode(),o.openNode("vt:variant"),o.leafNode("vt:i4",void 0,a.length),o.closeNode(),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="HeadingPairs"}parseText(){}parseClose(o){return o!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{render(o,a){o.openNode("TitlesOfParts"),o.openNode("vt:vector",{size:a.length,baseType:"lpstr"}),a.forEach(l=>{o.leafNode("vt:lpstr",void 0,l.name)}),o.closeNode(),o.closeNode()}parseOpen(o){return o.name==="TitlesOfParts"}parseText(){}parseClose(o){return o!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(t,n,s){const r=t("../../../utils/xml-stream"),o=t("../base-xform"),a=t("../simple/string-xform"),l=t("./app-heading-pairs-xform"),d=t("./app-titles-of-parts-xform");class c extends o{constructor(){super(),this.map={Company:new a({tag:"Company"}),Manager:new a({tag:"Manager"}),HeadingPairs:new l,TitleOfParts:new d}}render(u,p){u.openXml(r.StdDocAttributes),u.openNode("Properties",c.PROPERTY_ATTRIBUTES),u.leafNode("Application",void 0,"Microsoft Excel"),u.leafNode("DocSecurity",void 0,"0"),u.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(u,p.worksheets),this.map.TitleOfParts.render(u,p.worksheets),this.map.Company.render(u,p.company||""),this.map.Manager.render(u,p.manager),u.leafNode("LinksUpToDate",void 0,"false"),u.leafNode("SharedDoc",void 0,"false"),u.leafNode("HyperlinksChanged",void 0,"false"),u.leafNode("AppVersion",void 0,"16.0300"),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"Properties":return!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(t,n,s){const r=t("../../../utils/xml-stream"),o=t("../base-xform");class a extends o{render(d,c){d.openXml(r.StdDocAttributes),d.openNode("Types",a.PROPERTY_ATTRIBUTES);const h={};(c.media||[]).forEach(u=>{if(u.type==="image"){const p=u.extension;h[p]||(h[p]=!0,d.leafNode("Default",{Extension:p,ContentType:"image/"+p}))}}),d.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),d.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),d.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(u=>{const p=`/xl/worksheets/sheet${u.id}.xml`;d.leafNode("Override",{PartName:p,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),d.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),d.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&d.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(u=>{d.leafNode("Override",{PartName:"/xl/tables/"+u.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(u=>{d.leafNode("Override",{PartName:`/xl/drawings/${u.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(d.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(u=>{let{commentName:p}=u;d.leafNode("Override",{PartName:`/xl/${p}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),d.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),d.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),d.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}a.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(t,n,s){const r=t("../../../utils/xml-stream"),o=t("../base-xform"),a=t("../simple/date-xform"),l=t("../simple/string-xform"),d=t("../simple/integer-xform");class c extends o{constructor(){super(),this.map={"dc:creator":new l({tag:"dc:creator"}),"dc:title":new l({tag:"dc:title"}),"dc:subject":new l({tag:"dc:subject"}),"dc:description":new l({tag:"dc:description"}),"dc:identifier":new l({tag:"dc:identifier"}),"dc:language":new l({tag:"dc:language"}),"cp:keywords":new l({tag:"cp:keywords"}),"cp:category":new l({tag:"cp:category"}),"cp:lastModifiedBy":new l({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new a({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new d({tag:"cp:revision"}),"cp:version":new l({tag:"cp:version"}),"cp:contentStatus":new l({tag:"cp:contentStatus"}),"cp:contentType":new l({tag:"cp:contentType"}),"dcterms:created":new a({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new a({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(u,p){u.openXml(r.StdDocAttributes),u.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(u,p.creator),this.map["dc:title"].render(u,p.title),this.map["dc:subject"].render(u,p.subject),this.map["dc:description"].render(u,p.description),this.map["dc:identifier"].render(u,p.identifier),this.map["dc:language"].render(u,p.language),this.map["cp:keywords"].render(u,p.keywords),this.map["cp:category"].render(u,p.category),this.map["cp:lastModifiedBy"].render(u,p.lastModifiedBy),this.map["cp:lastPrinted"].render(u,p.lastPrinted),this.map["cp:revision"].render(u,p.revision),this.map["cp:version"].render(u,p.version),this.map["cp:contentStatus"].render(u,p.contentStatus),this.map["cp:contentType"].render(u,p.contentType),this.map["dcterms:created"].render(u,p.created),this.map["dcterms:modified"].render(u,p.modified),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[u.name],this.parser)return this.parser.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}c.DateFormat=function(h){return h.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{render(o,a){o.leafNode("Relationship",a)}parseOpen(o){switch(o.name){case"Relationship":return this.model=o.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(t,n,s){const r=t("../../../utils/xml-stream"),o=t("../base-xform"),a=t("./relationship-xform");class l extends o{constructor(){super(),this.map={Relationship:new a}}render(c,h){h=h||this._values,c.openXml(r.StdDocAttributes),c.openNode("Relationships",l.RELATIONSHIPS_ATTRIBUTES),h.forEach(u=>{this.map.Relationship.render(c,u)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}l.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=l},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:this.reset(),this.model={range:{editAs:o.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[o.name],this.parser&&this.parser.parseOpen(o)}return!0}parseText(o){this.parser&&this.parser.parseText(o)}reconcilePicture(o,a){if(o&&o.rId){const l=a.rels[o.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(l){const d=l[1],c=a.mediaIndex[d];return a.media[c]}}}}},{"../base-xform":32}],57:[function(t,n,s){const r=t("../base-xform"),o=t("./blip-xform");n.exports=class extends r{constructor(){super(),this.map={"a:blip":new o}}get tag(){return"xdr:blipFill"}render(a,l){a.openNode(this.tag),this.map["a:blip"].render(a,l),a.openNode("a:stretch"),a.leafNode("a:fillRect"),a.closeNode(),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"a:blip"}render(o,a){o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":a.rId,cstate:"print"})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"xdr:cNvPicPr"}render(o){o.openNode(this.tag),o.leafNode("a:picLocks",{noChangeAspect:"1"}),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(t,n,s){const r=t("../base-xform"),o=t("./hlink-click-xform"),a=t("./ext-lst-xform");n.exports=class extends r{constructor(){super(),this.map={"a:hlinkClick":new o,"a:extLst":new a}}get tag(){return"xdr:cNvPr"}render(l,d){l.openNode(this.tag,{id:d.index,name:"Picture "+d.index}),this.map["a:hlinkClick"].render(l,d),this.map["a:extLst"].render(l,d),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(t,n,s){const r=t("../base-xform"),o=t("../simple/integer-xform");n.exports=class extends r{constructor(a){super(),this.tag=a.tag,this.map={"xdr:col":new o({tag:"xdr:col",zero:!0}),"xdr:colOff":new o({tag:"xdr:colOff",zero:!0}),"xdr:row":new o({tag:"xdr:row",zero:!0}),"xdr:rowOff":new o({tag:"xdr:rowOff",zero:!0})}}render(a,l){a.openNode(this.tag),this.map["xdr:col"].render(a,l.nativeCol),this.map["xdr:colOff"].render(a,l.nativeColOff),this.map["xdr:row"].render(a,l.nativeRow),this.map["xdr:rowOff"].render(a,l.nativeRowOff),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(t,n,s){const r=t("../../../utils/col-cache"),o=t("../../../utils/xml-stream"),a=t("../base-xform"),l=t("./two-cell-anchor-xform"),d=t("./one-cell-anchor-xform");class c extends a{constructor(){super(),this.map={"xdr:twoCellAnchor":new l,"xdr:oneCellAnchor":new d}}prepare(u){u.anchors.forEach((p,f)=>{p.anchorType=function(g){return(typeof g.range=="string"?r.decode(g.range):g.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(p),this.map[p.anchorType].prepare(p,{index:f})})}get tag(){return"xdr:wsDr"}render(u,p){u.openXml(o.StdDocAttributes),u.openNode(this.tag,c.DRAWING_ATTRIBUTES),p.anchors.forEach(f=>{this.map[f.anchorType].render(u,f)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:return!0}}reconcile(u,p){u.anchors.forEach(f=>{f.br?this.map["xdr:twoCellAnchor"].reconcile(f,p):this.map["xdr:oneCellAnchor"].reconcile(f,p)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"a:extLst"}render(o){o.openNode(this.tag),o.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),o.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),o.closeNode(),o.closeNode()}parseOpen(o){switch(o.name){case this.tag:default:return!0}}parseText(){}parseClose(o){switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{constructor(o){super(),this.tag=o.tag,this.map={}}render(o,a){o.openNode(this.tag);const l=Math.floor(9525*a.width),d=Math.floor(9525*a.height);o.addAttribute("cx",l),o.addAttribute("cy",d),o.closeNode()}parseOpen(o){return o.name===this.tag&&(this.model={width:parseInt(o.attributes.cx||"0",10)/9525,height:parseInt(o.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"a:hlinkClick"}render(o,a){a.hyperlinks&&a.hyperlinks.rId&&o.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":a.hyperlinks.rId,tooltip:a.hyperlinks.tooltip})}parseOpen(o){switch(o.name){case this.tag:return this.model={hyperlinks:{rId:o.attributes["r:id"],tooltip:o.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(t,n,s){const r=t("../base-xform"),o=t("./c-nv-pr-xform"),a=t("./c-nv-pic-pr-xform");n.exports=class extends r{constructor(){super(),this.map={"xdr:cNvPr":new o,"xdr:cNvPicPr":new a}}get tag(){return"xdr:nvPicPr"}render(l,d){l.openNode(this.tag),this.map["xdr:cNvPr"].render(l,d),this.map["xdr:cNvPicPr"].render(l,d),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case this.tag:this.reset();break;default:this.parser=this.map[l.name],this.parser&&this.parser.parseOpen(l)}return!0}parseText(){}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.parser=void 0),!0;switch(l){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(t,n,s){const r=t("./base-cell-anchor-xform"),o=t("../static-xform"),a=t("./cell-position-xform"),l=t("./ext-xform"),d=t("./pic-xform");n.exports=class extends r{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:ext":new l({tag:"xdr:ext"}),"xdr:pic":new d,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,h){this.map["xdr:pic"].prepare(c.picture,h)}render(c,h){c.openNode(this.tag,{editAs:h.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,h.range.tl),this.map["xdr:ext"].render(c,h.range.ext),this.map["xdr:pic"].render(c,h.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,h){c.medium=this.reconcilePicture(c.picture,h)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(t,n,s){const r=t("../base-xform"),o=t("../static-xform"),a=t("./blip-fill-xform"),l=t("./nv-pic-pr-xform"),d=t("./sp-pr");n.exports=class extends r{constructor(){super(),this.map={"xdr:nvPicPr":new l,"xdr:blipFill":new a,"xdr:spPr":new o(d)}}get tag(){return"xdr:pic"}prepare(c,h){c.index=h.index+1}render(c,h){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,h),this.map["xdr:blipFill"].render(c,h),this.map["xdr:spPr"].render(c,h),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(t,n,s){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(t,n,s){const r=t("./base-cell-anchor-xform"),o=t("../static-xform"),a=t("./cell-position-xform"),l=t("./pic-xform");n.exports=class extends r{constructor(){super(),this.map={"xdr:from":new a({tag:"xdr:from"}),"xdr:to":new a({tag:"xdr:to"}),"xdr:pic":new l,"xdr:clientData":new o({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(d,c){this.map["xdr:pic"].prepare(d.picture,c)}render(d,c){d.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(d,c.range.tl),this.map["xdr:to"].render(d,c.range.br),this.map["xdr:pic"].render(d,c.picture),this.map["xdr:clientData"].render(d,{}),d.closeNode()}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(d,c){d.medium=this.reconcilePicture(d.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(t,n,s){const r=t("./base-xform");n.exports=class extends r{constructor(o){super(),this.tag=o.tag,this.always=!!o.always,this.count=o.count,this.empty=o.empty,this.$count=o.$count||"count",this.$=o.$,this.childXform=o.childXform,this.maxItems=o.maxItems}prepare(o,a){const{childXform:l}=this;o&&o.forEach((d,c)=>{a.index=c,l.prepare(d,a)})}render(o,a){if(this.always||a&&a.length){o.openNode(this.tag,this.$),this.count&&o.addAttribute(this.$count,a&&a.length||0);const{childXform:l}=this;(a||[]).forEach((d,c)=>{l.render(o,d,c)}),o.closeNode()}else this.empty&&o.leafNode(this.tag)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(o)&&(this.parser=this.childXform,!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(o,a){if(o){const{childXform:l}=this;o.forEach(d=>{l.reconcile(d,a)})}}}},{"./base-xform":32}],72:[function(t,n,s){const r=t("../../../utils/col-cache"),o=t("../base-xform");n.exports=class extends o{get tag(){return"autoFilter"}render(a,l){if(l)if(typeof l=="string")a.leafNode("autoFilter",{ref:l});else{const d=function(u){return typeof u=="string"?u:r.getAddress(u.row,u.column).address},c=d(l.from),h=d(l.to);c&&h&&a.leafNode("autoFilter",{ref:`${c}:${h}`})}}parseOpen(a){a.name==="autoFilter"&&(this.model=a.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(t,n,s){const r=t("../../../utils/utils"),o=t("../base-xform"),a=t("../../../doc/range"),l=t("../../../doc/enums"),d=t("../strings/rich-text-xform");function c(h){if(h==null)return l.ValueType.Null;if(h instanceof String||typeof h=="string")return l.ValueType.String;if(typeof h=="number")return l.ValueType.Number;if(typeof h=="boolean")return l.ValueType.Boolean;if(h instanceof Date)return l.ValueType.Date;if(h.text&&h.hyperlink)return l.ValueType.Hyperlink;if(h.formula)return l.ValueType.Formula;if(h.error)return l.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends o{constructor(){super(),this.richTextXForm=new d}get tag(){return"c"}prepare(h,u){const p=u.styles.addStyleModel(h.style||{},function(f){switch(f.type){case l.ValueType.Formula:return c(f.result);default:return f.type}}(h));switch(p&&(h.styleId=p),h.comment&&u.comments.push({...h.comment,ref:h.address}),h.type){case l.ValueType.String:case l.ValueType.RichText:u.sharedStrings&&(h.ssId=u.sharedStrings.add(h.value));break;case l.ValueType.Date:u.date1904&&(h.date1904=!0);break;case l.ValueType.Hyperlink:u.sharedStrings&&h.text!==void 0&&h.text!==null&&(h.ssId=u.sharedStrings.add(h.text)),u.hyperlinks.push({address:h.address,target:h.hyperlink,tooltip:h.tooltip});break;case l.ValueType.Merge:u.merges.add(h);break;case l.ValueType.Formula:if(u.date1904&&(h.date1904=!0),h.shareType==="shared"&&(h.si=u.siFormulae++),h.formula)u.formulae[h.address]=h;else if(h.sharedFormula){const f=u.formulae[h.sharedFormula];if(!f)throw new Error("Shared Formula master must exist above and or left of clone for cell "+h.address);f.si===void 0?(f.shareType="shared",f.si=u.siFormulae++,f.range=new a(f.address,h.address)):f.range&&f.range.expandToAddress(h.address),h.si=f.si}}}renderFormula(h,u){let p=null;switch(u.shareType){case"shared":p={t:"shared",ref:u.ref||u.range.range,si:u.si};break;case"array":p={t:"array",ref:u.ref};break;default:u.si!==void 0&&(p={t:"shared",si:u.si})}switch(c(u.result)){case l.ValueType.Null:h.leafNode("f",p,u.formula);break;case l.ValueType.String:h.addAttribute("t","str"),h.leafNode("f",p,u.formula),h.leafNode("v",null,u.result);break;case l.ValueType.Number:h.leafNode("f",p,u.formula),h.leafNode("v",null,u.result);break;case l.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("f",p,u.formula),h.leafNode("v",null,u.result?1:0);break;case l.ValueType.Error:h.addAttribute("t","e"),h.leafNode("f",p,u.formula),h.leafNode("v",null,u.result.error);break;case l.ValueType.Date:h.leafNode("f",p,u.formula),h.leafNode("v",null,r.dateToExcel(u.result,u.date1904));break;default:throw new Error("I could not understand type of value")}}render(h,u){if(u.type!==l.ValueType.Null||u.styleId){switch(h.openNode("c"),h.addAttribute("r",u.address),u.styleId&&h.addAttribute("s",u.styleId),u.type){case l.ValueType.Null:break;case l.ValueType.Number:h.leafNode("v",null,u.value);break;case l.ValueType.Boolean:h.addAttribute("t","b"),h.leafNode("v",null,u.value?"1":"0");break;case l.ValueType.Error:h.addAttribute("t","e"),h.leafNode("v",null,u.value.error);break;case l.ValueType.String:case l.ValueType.RichText:u.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,u.ssId)):u.value&&u.value.richText?(h.addAttribute("t","inlineStr"),h.openNode("is"),u.value.richText.forEach(p=>{this.richTextXForm.render(h,p)}),h.closeNode("is")):(h.addAttribute("t","str"),h.leafNode("v",null,u.value));break;case l.ValueType.Date:h.leafNode("v",null,r.dateToExcel(u.value,u.date1904));break;case l.ValueType.Hyperlink:u.ssId!==void 0?(h.addAttribute("t","s"),h.leafNode("v",null,u.ssId)):(h.addAttribute("t","str"),h.leafNode("v",null,u.text));break;case l.ValueType.Formula:this.renderFormula(h,u);break;case l.ValueType.Merge:}h.closeNode()}}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"c":return this.model={address:h.attributes.r},this.t=h.attributes.t,h.attributes.s&&(this.model.styleId=parseInt(h.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=h.attributes.si,this.model.shareType=h.attributes.t,this.model.ref=h.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){if(this.parser)this.parser.parseText(h);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+h:h;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+h:h:this.model.value=this.model.value?this.model.value+h:h}}parseClose(h){switch(h){case"c":{const{model:u}=this;if(u.formula||u.shareType)u.type=l.ValueType.Formula,u.value&&(this.t==="str"?u.result=r.xmlDecode(u.value):this.t==="b"?u.result=parseInt(u.value,10)!==0:this.t==="e"?u.result={error:u.value}:u.result=parseFloat(u.value),u.value=void 0);else if(u.value!==void 0)switch(this.t){case"s":u.type=l.ValueType.String,u.value=parseInt(u.value,10);break;case"str":u.type=l.ValueType.String,u.value=r.xmlDecode(u.value);break;case"inlineStr":u.type=l.ValueType.String;break;case"b":u.type=l.ValueType.Boolean,u.value=parseInt(u.value,10)!==0;break;case"e":u.type=l.ValueType.Error,u.value={error:u.value};break;default:u.type=l.ValueType.Number,u.value=parseFloat(u.value)}else u.styleId?u.type=l.ValueType.Null:u.type=l.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(h),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(h),!0)}}reconcile(h,u){const p=h.styleId&&u.styles&&u.styles.getStyleModel(h.styleId);switch(p&&(h.style=p),h.styleId!==void 0&&(h.styleId=void 0),h.type){case l.ValueType.String:typeof h.value=="number"&&u.sharedStrings&&(h.value=u.sharedStrings.getString(h.value)),h.value.richText&&(h.type=l.ValueType.RichText);break;case l.ValueType.Number:p&&r.isDateFmt(p.numFmt)&&(h.type=l.ValueType.Date,h.value=r.excelToDate(h.value,u.date1904));break;case l.ValueType.Formula:h.result!==void 0&&p&&r.isDateFmt(p.numFmt)&&(h.result=r.excelToDate(h.result,u.date1904)),h.shareType==="shared"&&(h.ref?u.formulae[h.si]=h.address:(h.sharedFormula=u.formulae[h.si],delete h.shareType),delete h.si)}const f=u.hyperlinkMap[h.address];f&&(h.type===l.ValueType.Formula?(h.text=h.result,h.result=void 0):(h.text=h.value,h.value=void 0),h.type=l.ValueType.Hyperlink,h.hyperlink=f);const g=u.commentsMap&&u.commentsMap[h.address];g&&(h.comment=g)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(t,n,s){const r=t("../../base-xform");n.exports=class extends r{get tag(){return"x14:cfIcon"}render(o,a){o.leafNode(this.tag,{iconSet:a.iconSet,iconId:a.iconId})}parseOpen(o){let{attributes:a}=o;this.model={iconSet:a.iconSet,iconId:r.toIntValue(a.iconId)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],75:[function(t,n,s){const{v4:r}=t("uuid"),o=t("../../base-xform"),a=t("../../composite-xform"),l=t("./databar-ext-xform"),d=t("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class h extends a{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new l,"x14:iconSet":this.iconSetXform=new d}}get tag(){return"x14:cfRule"}static isExt(p){return p.type==="dataBar"?l.isExt(p):!(p.type!=="iconSet"||!p.custom&&!c[p.iconSet])}prepare(p){h.isExt(p)&&(p.x14Id=`{${r()}}`.toUpperCase())}render(p,f){if(h.isExt(f))switch(f.type){case"dataBar":this.renderDataBar(p,f);break;case"iconSet":this.renderIconSet(p,f)}}renderDataBar(p,f){p.openNode(this.tag,{type:"dataBar",id:f.x14Id}),this.databarXform.render(p,f),p.closeNode()}renderIconSet(p,f){p.openNode(this.tag,{type:"iconSet",priority:f.priority,id:f.x14Id||`{${r()}}`}),this.iconSetXform.render(p,f),p.closeNode()}createNewModel(p){let{attributes:f}=p;return{type:f.type,x14Id:f.id,priority:o.toIntValue(f.priority)}}onParserClose(p,f){Object.assign(this.model,f.model)}}n.exports=h},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(t,n,s){const r=t("../../composite-xform"),o=t("./f-ext-xform");n.exports=class extends r{constructor(){super(),this.map={"xm:f":this.fExtXform=new o}}get tag(){return"x14:cfvo"}render(a,l){a.openNode(this.tag,{type:l.type}),l.value!==void 0&&this.fExtXform.render(a,l.value),a.closeNode()}createNewModel(a){return{type:a.attributes.type}}onParserClose(a,l){switch(a){case"xm:f":this.model.value=l.model?parseFloat(l.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(t,n,s){const r=t("../../composite-xform"),o=t("./sqref-ext-xform"),a=t("./cf-rule-ext-xform");n.exports=class extends r{constructor(){super(),this.map={"xm:sqref":this.sqRef=new o,"x14:cfRule":this.cfRule=new a}}get tag(){return"x14:conditionalFormatting"}prepare(l,d){l.rules.forEach(c=>{this.cfRule.prepare(c,d)})}render(l,d){d.rules.some(a.isExt)&&(l.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),d.rules.filter(a.isExt).forEach(c=>this.cfRule.render(l,c)),this.sqRef.render(l,d.ref),l.closeNode())}createNewModel(){return{rules:[]}}onParserClose(l,d){switch(l){case"xm:sqref":this.model.ref=d.model;break;case"x14:cfRule":this.model.rules.push(d.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(t,n,s){const r=t("../../composite-xform"),o=t("./cf-rule-ext-xform"),a=t("./conditional-formatting-ext-xform");n.exports=class extends r{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new a}}get tag(){return"x14:conditionalFormattings"}hasContent(l){return l.hasExtContent===void 0&&(l.hasExtContent=l.some(d=>d.rules.some(o.isExt))),l.hasExtContent}prepare(l,d){l.forEach(c=>{this.cfXform.prepare(c,d)})}render(l,d){this.hasContent(d)&&(l.openNode(this.tag),d.forEach(c=>this.cfXform.render(l,c)),l.closeNode())}createNewModel(){return[]}onParserClose(l,d){this.model.push(d.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(t,n,s){const r=t("../../base-xform"),o=t("../../composite-xform"),a=t("../../style/color-xform"),l=t("./cfvo-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new l,"x14:borderColor":this.borderColorXform=new a("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new a("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new a("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new a("x14:axisColor")}}static isExt(d){return!d.gradient}get tag(){return"x14:dataBar"}render(d,c){d.openNode(this.tag,{minLength:r.toIntAttribute(c.minLength,0,!0),maxLength:r.toIntAttribute(c.maxLength,100,!0),border:r.toBoolAttribute(c.border,!1),gradient:r.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:r.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toAttribute(c.axisPosition,"auto"),direction:r.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(h=>{this.cfvoXform.render(d,h)}),this.borderColorXform.render(d,c.borderColor),this.negativeBorderColorXform.render(d,c.negativeBorderColor),this.negativeFillColorXform.render(d,c.negativeFillColor),this.axisColorXform.render(d,c.axisColor),d.closeNode()}createNewModel(d){let{attributes:c}=d;return{cfvo:[],minLength:r.toIntValue(c.minLength,0),maxLength:r.toIntValue(c.maxLength,100),border:r.toBoolValue(c.border,!1),gradient:r.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:r.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:r.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:r.toStringValue(c.axisPosition,"auto"),direction:r.toStringValue(c.direction,"leftToRight")}}onParserClose(d,c){const[,h]=d.split(":");switch(h){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[h]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(t,n,s){const r=t("../../base-xform");n.exports=class extends r{get tag(){return"xm:f"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],81:[function(t,n,s){const r=t("../../base-xform"),o=t("../../composite-xform"),a=t("./cfvo-ext-xform"),l=t("./cf-icon-ext-xform");n.exports=class extends o{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:cfIcon":this.cfIconXform=new l}}get tag(){return"x14:iconSet"}render(d,c){d.openNode(this.tag,{iconSet:r.toStringAttribute(c.iconSet),reverse:r.toBoolAttribute(c.reverse,!1),showValue:r.toBoolAttribute(c.showValue,!0),custom:r.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(h=>{this.cfvoXform.render(d,h)}),c.icons&&c.icons.forEach((h,u)=>{h.iconId=u,this.cfIconXform.render(d,h)}),d.closeNode()}createNewModel(d){let{attributes:c}=d;return{cfvo:[],iconSet:r.toStringValue(c.iconSet,"3TrafficLights"),reverse:r.toBoolValue(c.reverse,!1),showValue:r.toBoolValue(c.showValue,!0)}}onParserClose(d,c){const[,h]=d.split(":");switch(h){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[h]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(t,n,s){const r=t("../../base-xform");n.exports=class extends r{get tag(){return"xm:sqref"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],83:[function(t,n,s){const r=t("../../base-xform"),o=t("../../composite-xform"),a=t("../../../../doc/range"),l=t("./databar-xform"),d=t("./ext-lst-ref-xform"),c=t("./formula-xform"),h=t("./color-scale-xform"),u=t("./icon-set-xform"),p={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},f=m=>{const{type:v,operator:_}=m;switch(v){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:v};default:return{type:v,operator:_}}};class g extends o{constructor(){super(),this.map={dataBar:this.databarXform=new l,extLst:this.extLstRefXform=new d,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new h,iconSet:this.iconSetXform=new u}}get tag(){return"cfRule"}static isPrimitive(v){return v.type!=="iconSet"||!v.custom&&!p[v.iconSet]}render(v,_){switch(_.type){case"expression":this.renderExpression(v,_);break;case"cellIs":this.renderCellIs(v,_);break;case"top10":this.renderTop10(v,_);break;case"aboveAverage":this.renderAboveAverage(v,_);break;case"dataBar":this.renderDataBar(v,_);break;case"colorScale":this.renderColorScale(v,_);break;case"iconSet":this.renderIconSet(v,_);break;case"containsText":this.renderText(v,_);break;case"timePeriod":this.renderTimePeriod(v,_)}}renderExpression(v,_){v.openNode(this.tag,{type:"expression",dxfId:_.dxfId,priority:_.priority}),this.formulaXform.render(v,_.formulae[0]),v.closeNode()}renderCellIs(v,_){v.openNode(this.tag,{type:"cellIs",dxfId:_.dxfId,priority:_.priority,operator:_.operator}),_.formulae.forEach(x=>{this.formulaXform.render(v,x)}),v.closeNode()}renderTop10(v,_){v.leafNode(this.tag,{type:"top10",dxfId:_.dxfId,priority:_.priority,percent:r.toBoolAttribute(_.percent,!1),bottom:r.toBoolAttribute(_.bottom,!1),rank:r.toIntValue(_.rank,10,!0)})}renderAboveAverage(v,_){v.leafNode(this.tag,{type:"aboveAverage",dxfId:_.dxfId,priority:_.priority,aboveAverage:r.toBoolAttribute(_.aboveAverage,!0)})}renderDataBar(v,_){v.openNode(this.tag,{type:"dataBar",priority:_.priority}),this.databarXform.render(v,_),this.extLstRefXform.render(v,_),v.closeNode()}renderColorScale(v,_){v.openNode(this.tag,{type:"colorScale",priority:_.priority}),this.colorScaleXform.render(v,_),v.closeNode()}renderIconSet(v,_){g.isPrimitive(_)&&(v.openNode(this.tag,{type:"iconSet",priority:_.priority}),this.iconSetXform.render(v,_),v.closeNode())}renderText(v,_){v.openNode(this.tag,{type:_.operator,dxfId:_.dxfId,priority:_.priority,operator:r.toStringAttribute(_.operator,"containsText")});const x=(y=>{if(y.formulae&&y.formulae[0])return y.formulae[0];const T=new a(y.ref),{tl:O}=T;switch(y.operator){case"containsText":return`NOT(ISERROR(SEARCH("${y.text}",${O})))`;case"containsBlanks":return`LEN(TRIM(${O}))=0`;case"notContainsBlanks":return`LEN(TRIM(${O}))>0`;case"containsErrors":return`ISERROR(${O})`;case"notContainsErrors":return`NOT(ISERROR(${O}))`;default:return}})(_);x&&this.formulaXform.render(v,x),v.closeNode()}renderTimePeriod(v,_){v.openNode(this.tag,{type:"timePeriod",dxfId:_.dxfId,priority:_.priority,timePeriod:_.timePeriod});const x=(y=>{if(y.formulae&&y.formulae[0])return y.formulae[0];const T=new a(y.ref),{tl:O}=T;switch(y.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${O},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${O},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${O},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${O},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${O},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${O},1)=TODAY()-1`;case"today":return`FLOOR(${O},1)=TODAY()`;case"tomorrow":return`FLOOR(${O},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${O},1)<=6,FLOOR(${O},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0-1)),YEAR(${O})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${O})=MONTH(TODAY()),YEAR(${O})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${O})=MONTH(EDATE(TODAY(),0+1)),YEAR(${O})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(_);x&&this.formulaXform.render(v,x),v.closeNode()}createNewModel(v){let{attributes:_}=v;return{...f(_),dxfId:r.toIntValue(_.dxfId),priority:r.toIntValue(_.priority),timePeriod:_.timePeriod,percent:r.toBoolValue(_.percent),bottom:r.toBoolValue(_.bottom),rank:r.toIntValue(_.rank),aboveAverage:r.toBoolValue(_.aboveAverage)}}onParserClose(v,_){switch(v){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,_.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(_.model)}}}n.exports=g},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(t,n,s){const r=t("../../base-xform");n.exports=class extends r{get tag(){return"cfvo"}render(o,a){o.leafNode(this.tag,{type:a.type,val:a.value})}parseOpen(o){this.model={type:o.attributes.type,value:r.toFloatValue(o.attributes.val)}}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],85:[function(t,n,s){const r=t("../../composite-xform"),o=t("../../style/color-xform"),a=t("./cfvo-xform");n.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"colorScale"}render(l,d){l.openNode(this.tag),d.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),d.color.forEach(c=>{this.colorXform.render(l,c)}),l.closeNode()}createNewModel(l){return{cfvo:[],color:[]}}onParserClose(l,d){this.model[l].push(d.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(t,n,s){const r=t("../../composite-xform"),o=t("./cf-rule-xform");n.exports=class extends r{constructor(){super(),this.map={cfRule:new o}}get tag(){return"conditionalFormatting"}render(a,l){l.rules.some(o.isPrimitive)&&(a.openNode(this.tag,{sqref:l.ref}),l.rules.forEach(d=>{o.isPrimitive(d)&&(d.ref=l.ref,this.map.cfRule.render(a,d))}),a.closeNode())}createNewModel(a){let{attributes:l}=a;return{ref:l.sqref,rules:[]}}onParserClose(a,l){this.model.rules.push(l.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(t,n,s){const r=t("../../base-xform"),o=t("./conditional-formatting-xform");n.exports=class extends r{constructor(){super(),this.cfXform=new o}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(a,l){let d=a.reduce((c,h)=>Math.max(c,...h.rules.map(u=>u.priority||0)),1);a.forEach(c=>{c.rules.forEach(h=>{h.priority||(h.priority=d++),h.style&&(h.dxfId=l.styles.addDxfStyle(h.style))})})}render(a,l){l.forEach(d=>{this.cfXform.render(a,d)})}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return!!this.parser&&(!!this.parser.parseClose(a)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(a,l){a.forEach(d=>{d.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=l.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(t,n,s){const r=t("../../composite-xform"),o=t("../../style/color-xform"),a=t("./cfvo-xform");n.exports=class extends r{constructor(){super(),this.map={cfvo:this.cfvoXform=new a,color:this.colorXform=new o}}get tag(){return"dataBar"}render(l,d){l.openNode(this.tag),d.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),this.colorXform.render(l,d.color),l.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(l,d){switch(l){case"cfvo":this.model.cfvo.push(d.model);break;case"color":this.model.color=d.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(t,n,s){const r=t("../../base-xform"),o=t("../../composite-xform");class a extends r{get tag(){return"x14:id"}render(c,h){c.leafNode(this.tag,null,h)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class l extends o{constructor(){super(),this.map={"x14:id":this.idXform=new a}}get tag(){return"ext"}render(c,h){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,h.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,h){this.model.x14Id=h.model}}n.exports=class extends o{constructor(){super(),this.map={ext:new l}}get tag(){return"extLst"}render(d,c){d.openNode(this.tag),this.map.ext.render(d,c),d.closeNode()}createNewModel(){return{}}onParserClose(d,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(t,n,s){const r=t("../../base-xform");n.exports=class extends r{get tag(){return"formula"}render(o,a){o.leafNode(this.tag,null,a)}parseOpen(){this.model=""}parseText(o){this.model+=o}parseClose(o){return o!==this.tag}}},{"../../base-xform":32}],91:[function(t,n,s){const r=t("../../base-xform"),o=t("../../composite-xform"),a=t("./cfvo-xform");n.exports=class extends o{constructor(){super(),this.map={cfvo:this.cfvoXform=new a}}get tag(){return"iconSet"}render(l,d){l.openNode(this.tag,{iconSet:r.toStringAttribute(d.iconSet,"3TrafficLights"),reverse:r.toBoolAttribute(d.reverse,!1),showValue:r.toBoolAttribute(d.showValue,!0)}),d.cfvo.forEach(c=>{this.cfvoXform.render(l,c)}),l.closeNode()}createNewModel(l){let{attributes:d}=l;return{iconSet:r.toStringValue(d.iconSet,"3TrafficLights"),reverse:r.toBoolValue(d.reverse),showValue:r.toBoolValue(d.showValue),cfvo:[]}}onParserClose(l,d){this.model[l].push(d.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(t,n,s){const r=t("../../../utils/utils"),o=t("../base-xform");n.exports=class extends o{get tag(){return"col"}prepare(a,l){const d=l.styles.addStyleModel(a.style||{});d&&(a.styleId=d)}render(a,l){a.openNode("col"),a.addAttribute("min",l.min),a.addAttribute("max",l.max),l.width&&a.addAttribute("width",l.width),l.styleId&&a.addAttribute("style",l.styleId),l.hidden&&a.addAttribute("hidden","1"),l.bestFit&&a.addAttribute("bestFit","1"),l.outlineLevel&&a.addAttribute("outlineLevel",l.outlineLevel),l.collapsed&&a.addAttribute("collapsed","1"),a.addAttribute("customWidth","1"),a.closeNode()}parseOpen(a){if(a.name==="col"){const l=this.model={min:parseInt(a.attributes.min||"0",10),max:parseInt(a.attributes.max||"0",10),width:a.attributes.width===void 0?void 0:parseFloat(a.attributes.width||"0")};return a.attributes.style&&(l.styleId=parseInt(a.attributes.style,10)),r.parseBoolean(a.attributes.hidden)&&(l.hidden=!0),r.parseBoolean(a.attributes.bestFit)&&(l.bestFit=!0),a.attributes.outlineLevel&&(l.outlineLevel=parseInt(a.attributes.outlineLevel,10)),r.parseBoolean(a.attributes.collapsed)&&(l.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(a,l){a.styleId&&(a.style=l.styles.getStyleModel(a.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(t,n,s){const r=t("../../../utils/under-dash"),o=t("../../../utils/utils"),a=t("../../../utils/col-cache"),l=t("../base-xform"),d=t("../../../doc/range");function c(u,p,f,g){const m=p[f];m!==void 0?u[f]=m:g!==void 0&&(u[f]=g)}function h(u,p,f,g){const m=p[f];m!==void 0&&(u[f]=o.parseBoolean(m))}n.exports=class extends l{get tag(){return"dataValidations"}render(u,p){const f=function(g){const m=r.map(g,(x,y)=>({address:y,dataValidation:x,marked:!1})).sort((x,y)=>r.strcmp(x.address,y.address)),v=r.keyBy(m,"address"),_=(x,y,T)=>{for(let O=0;O<y;O++){const L=a.encodeAddress(x.row+O,T);if(!g[L]||!r.isEqual(g[x.address],g[L]))return!1}return!0};return m.map(x=>{if(!x.marked){const y=a.decodeEx(x.address);if(y.dimensions)return v[y.dimensions].marked=!0,{...x.dataValidation,sqref:x.address};let T=1,O=a.encodeAddress(y.row+T,y.col);for(;g[O]&&r.isEqual(x.dataValidation,g[O]);)T++,O=a.encodeAddress(y.row+T,y.col);let L=1;for(;_(y,T,y.col+L);)L++;for(let R=0;R<T;R++)for(let $=0;$<L;$++)O=a.encodeAddress(y.row+R,y.col+$),v[O].marked=!0;if(T>1||L>1){const R=y.row+(T-1),$=y.col+(L-1);return{...x.dataValidation,sqref:`${x.address}:${a.encodeAddress(R,$)}`}}return{...x.dataValidation,sqref:x.address}}return null}).filter(Boolean)}(p);f.length&&(u.openNode("dataValidations",{count:f.length}),f.forEach(g=>{u.openNode("dataValidation"),g.type!=="any"&&(u.addAttribute("type",g.type),g.operator&&g.type!=="list"&&g.operator!=="between"&&u.addAttribute("operator",g.operator),g.allowBlank&&u.addAttribute("allowBlank","1")),g.showInputMessage&&u.addAttribute("showInputMessage","1"),g.promptTitle&&u.addAttribute("promptTitle",g.promptTitle),g.prompt&&u.addAttribute("prompt",g.prompt),g.showErrorMessage&&u.addAttribute("showErrorMessage","1"),g.errorStyle&&u.addAttribute("errorStyle",g.errorStyle),g.errorTitle&&u.addAttribute("errorTitle",g.errorTitle),g.error&&u.addAttribute("error",g.error),u.addAttribute("sqref",g.sqref),(g.formulae||[]).forEach((m,v)=>{u.openNode("formula"+(v+1)),g.type==="date"?u.writeText(o.dateToExcel(new Date(m))):u.writeText(m),u.closeNode()}),u.closeNode()}),u.closeNode())}parseOpen(u){switch(u.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=u.attributes.sqref;const p={type:u.attributes.type||"any",formulae:[]};switch(u.attributes.type&&h(p,u.attributes,"allowBlank"),h(p,u.attributes,"showInputMessage"),h(p,u.attributes,"showErrorMessage"),p.type){case"any":case"list":case"custom":break;default:c(p,u.attributes,"operator","between")}return c(p,u.attributes,"promptTitle"),c(p,u.attributes,"prompt"),c(p,u.attributes,"errorStyle"),c(p,u.attributes,"errorTitle"),c(p,u.attributes,"error"),this._dataValidation=p,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(u){this._formula&&this._formula.push(u)}parseClose(u){switch(u){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(p=>{p.includes(":")?new d(p).forEachAddress(f=>{this.model[f]=this._dataValidation}):this.model[p]=this._dataValidation}),!0;case"formula1":case"formula2":{let p=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":p=parseInt(p,10);break;case"decimal":p=parseFloat(p);break;case"date":p=o.excelToDate(parseFloat(p))}return this._dataValidation.formulae.push(p),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"dimension"}render(o,a){a&&o.leafNode("dimension",{ref:a})}parseOpen(o){return o.name==="dimension"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"drawing"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(t,n,s){const r=t("../composite-xform"),o=t("./cf-ext/conditional-formattings-ext-xform");class a extends r{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new o}}get tag(){return"ext"}hasContent(d){return this.conditionalFormattings.hasContent(d.conditionalFormattings)}prepare(d,c){this.conditionalFormattings.prepare(d.conditionalFormattings,c)}render(d,c){d.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(d,c.conditionalFormattings),d.closeNode()}createNewModel(){return{}}onParserClose(d,c){this.model[d]=c.model}}n.exports=class extends r{constructor(){super(),this.map={ext:this.ext=new a}}get tag(){return"extLst"}prepare(l,d){this.ext.prepare(l,d)}hasContent(l){return this.ext.hasContent(l)}render(l,d){this.hasContent(d)&&(l.openNode("extLst"),this.ext.render(l,d),l.closeNode())}createNewModel(){return{}}onParserClose(l,d){Object.assign(this.model,d.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"headerFooter"}render(o,a){if(a){o.addRollback();let l=!1;o.openNode("headerFooter"),a.differentFirst&&(o.addAttribute("differentFirst","1"),l=!0),a.differentOddEven&&(o.addAttribute("differentOddEven","1"),l=!0),a.oddHeader&&typeof a.oddHeader=="string"&&(o.leafNode("oddHeader",null,a.oddHeader),l=!0),a.oddFooter&&typeof a.oddFooter=="string"&&(o.leafNode("oddFooter",null,a.oddFooter),l=!0),a.evenHeader&&typeof a.evenHeader=="string"&&(o.leafNode("evenHeader",null,a.evenHeader),l=!0),a.evenFooter&&typeof a.evenFooter=="string"&&(o.leafNode("evenFooter",null,a.evenFooter),l=!0),a.firstHeader&&typeof a.firstHeader=="string"&&(o.leafNode("firstHeader",null,a.firstHeader),l=!0),a.firstFooter&&typeof a.firstFooter=="string"&&(o.leafNode("firstFooter",null,a.firstFooter),l=!0),l?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){switch(o.name){case"headerFooter":return this.model={},o.attributes.differentFirst&&(this.model.differentFirst=parseInt(o.attributes.differentFirst,0)===1),o.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(o.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(o){switch(this.currentNode){case"oddHeader":this.model.oddHeader=o;break;case"oddFooter":this.model.oddFooter=o;break;case"evenHeader":this.model.evenHeader=o;break;case"evenFooter":this.model.evenFooter=o;break;case"firstHeader":this.model.firstHeader=o;break;case"firstFooter":this.model.firstFooter=o}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"hyperlink"}render(o,a){this.isInternalLink(a)?o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip,location:a.target}):o.leafNode("hyperlink",{ref:a.address,"r:id":a.rId,tooltip:a.tooltip})}parseOpen(o){return o.name==="hyperlink"&&(this.model={address:o.attributes.ref,rId:o.attributes["r:id"],tooltip:o.attributes.tooltip},o.attributes.location&&(this.model.target=o.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(o){return o.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(o.target)}}},{"../base-xform":32}],99:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"mergeCell"}render(o,a){o.leafNode("mergeCell",{ref:a})}parseOpen(o){return o.name==="mergeCell"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(t,n,s){const r=t("../../../utils/under-dash"),o=t("../../../doc/range"),a=t("../../../utils/col-cache"),l=t("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(d){if(this.merges[d.master])this.merges[d.master].expandToAddress(d.address);else{const c=`${d.master}:${d.address}`;this.merges[d.master]=new o(c)}}get mergeCells(){return r.map(this.merges,d=>d.range)}reconcile(d,c){r.each(d,h=>{const u=a.decode(h);for(let p=u.top;p<=u.bottom;p++){const f=c[p-1];for(let g=u.left;g<=u.right;g++){const m=f.cells[g-1];m?m.type===l.ValueType.Merge&&(m.master=u.tl):f.cells[g]={type:l.ValueType.Null,address:a.encodeAddress(p,g)}}}})}getMasterAddress(d){const c=this.hash[d];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(t,n,s){const r=t("../base-xform"),o=a=>a!==void 0;n.exports=class extends r{get tag(){return"outlinePr"}render(a,l){return!(!l||!o(l.summaryBelow)&&!o(l.summaryRight))&&(a.leafNode(this.tag,{summaryBelow:o(l.summaryBelow)?Number(l.summaryBelow):void 0,summaryRight:o(l.summaryRight)?Number(l.summaryRight):void 0}),!0)}parseOpen(a){return a.name===this.tag&&(this.model={summaryBelow:o(a.attributes.summaryBelow)?!!Number(a.attributes.summaryBelow):void 0,summaryRight:o(a.attributes.summaryRight)?!!Number(a.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"brk"}render(o,a){o.leafNode("brk",a)}parseOpen(o){return o.name==="brk"&&(this.model=o.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(t,n,s){const r=t("../../../utils/under-dash"),o=t("../base-xform");n.exports=class extends o{get tag(){return"pageMargins"}render(a,l){if(l){const d={left:l.left,right:l.right,top:l.top,bottom:l.bottom,header:l.header,footer:l.footer};r.some(d,c=>c!==void 0)&&a.leafNode(this.tag,d)}}parseOpen(a){switch(a.name){case this.tag:return this.model={left:parseFloat(a.attributes.left||.7),right:parseFloat(a.attributes.right||.7),top:parseFloat(a.attributes.top||.75),bottom:parseFloat(a.attributes.bottom||.75),header:parseFloat(a.attributes.header||.3),footer:parseFloat(a.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"pageSetUpPr"}render(o,a){return!(!a||!a.fitToPage)&&(o.leafNode(this.tag,{fitToPage:a.fitToPage?"1":void 0}),!0)}parseOpen(o){return o.name===this.tag&&(this.model={fitToPage:o.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(t,n,s){const r=t("../../../utils/under-dash"),o=t("../base-xform");function a(h){return h?"1":void 0}function l(h){switch(h){case"overThenDown":return h;default:return}}function d(h){switch(h){case"atEnd":case"asDisplyed":return h;default:return}}function c(h){switch(h){case"dash":case"blank":case"NA":return h;default:return}}n.exports=class extends o{get tag(){return"pageSetup"}render(h,u){if(u){const p={paperSize:u.paperSize,orientation:u.orientation,horizontalDpi:u.horizontalDpi,verticalDpi:u.verticalDpi,pageOrder:l(u.pageOrder),blackAndWhite:a(u.blackAndWhite),draft:a(u.draft),cellComments:d(u.cellComments),errors:c(u.errors),scale:u.scale,fitToWidth:u.fitToWidth,fitToHeight:u.fitToHeight,firstPageNumber:u.firstPageNumber,useFirstPageNumber:a(u.firstPageNumber),usePrinterDefaults:a(u.usePrinterDefaults),copies:u.copies};r.some(p,f=>f!==void 0)&&h.leafNode(this.tag,p)}}parseOpen(h){switch(h.name){case this.tag:return this.model={paperSize:(u=h.attributes.paperSize,u!==void 0?parseInt(u,10):void 0),orientation:h.attributes.orientation||"portrait",horizontalDpi:parseInt(h.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(h.attributes.verticalDpi||"4294967295",10),pageOrder:h.attributes.pageOrder||"downThenOver",blackAndWhite:h.attributes.blackAndWhite==="1",draft:h.attributes.draft==="1",cellComments:h.attributes.cellComments||"None",errors:h.attributes.errors||"displayed",scale:parseInt(h.attributes.scale||"100",10),fitToWidth:parseInt(h.attributes.fitToWidth||"1",10),fitToHeight:parseInt(h.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(h.attributes.firstPageNumber||"1",10),useFirstPageNumber:h.attributes.useFirstPageNumber==="1",usePrinterDefaults:h.attributes.usePrinterDefaults==="1",copies:parseInt(h.attributes.copies||"1",10)},!0;default:return!1}var u}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"picture"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(t,n,s){const r=t("../../../utils/under-dash"),o=t("../base-xform");function a(l){return l?"1":void 0}n.exports=class extends o{get tag(){return"printOptions"}render(l,d){if(d){const c={headings:a(d.showRowColHeaders),gridLines:a(d.showGridLines),horizontalCentered:a(d.horizontalCentered),verticalCentered:a(d.verticalCentered)};r.some(c,h=>h!==void 0)&&l.leafNode(this.tag,c)}}parseOpen(l){switch(l.name){case this.tag:return this.model={showRowColHeaders:l.attributes.headings==="1",showGridLines:l.attributes.gridLines==="1",horizontalCentered:l.attributes.horizontalCentered==="1",verticalCentered:l.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(t,n,s){const r=t("./page-breaks-xform"),o=t("../list-xform");n.exports=class extends o{constructor(){super({tag:"rowBreaks",count:!0,childXform:new r})}render(a,l){if(l&&l.length){a.openNode(this.tag,this.$),this.count&&(a.addAttribute(this.$count,l.length),a.addAttribute("manualBreakCount",l.length));const{childXform:d}=this;l.forEach(c=>{d.render(a,c)}),a.closeNode()}else this.empty&&a.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(t,n,s){const r=t("../base-xform"),o=t("../../../utils/utils"),a=t("./cell-xform");n.exports=class extends r{constructor(l){super(),this.maxItems=l&&l.maxItems,this.map={c:new a}}get tag(){return"row"}prepare(l,d){const c=d.styles.addStyleModel(l.style);c&&(l.styleId=c);const h=this.map.c;l.cells.forEach(u=>{h.prepare(u,d)})}render(l,d,c){l.openNode("row"),l.addAttribute("r",d.number),d.height&&(l.addAttribute("ht",d.height),l.addAttribute("customHeight","1")),d.hidden&&l.addAttribute("hidden","1"),d.min>0&&d.max>0&&d.min<=d.max&&l.addAttribute("spans",`${d.min}:${d.max}`),d.styleId&&(l.addAttribute("s",d.styleId),l.addAttribute("customFormat","1")),l.addAttribute("x14ac:dyDescent","0.25"),d.outlineLevel&&l.addAttribute("outlineLevel",d.outlineLevel),d.collapsed&&l.addAttribute("collapsed","1");const h=this.map.c;d.cells.forEach(u=>{h.render(l,u,c)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;if(l.name==="row"){this.numRowsSeen+=1;const d=l.attributes.spans?l.attributes.spans.split(":").map(h=>parseInt(h,10)):[void 0,void 0],c=this.model={number:parseInt(l.attributes.r,10),min:d[0],max:d[1],cells:[]};return l.attributes.s&&(c.styleId=parseInt(l.attributes.s,10)),o.parseBoolean(l.attributes.hidden)&&(c.hidden=!0),o.parseBoolean(l.attributes.bestFit)&&(c.bestFit=!0),l.attributes.ht&&(c.height=parseFloat(l.attributes.ht)),l.attributes.outlineLevel&&(c.outlineLevel=parseInt(l.attributes.outlineLevel,10)),o.parseBoolean(l.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[l.name],!!this.parser&&(this.parser.parseOpen(l),!0)}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(l,d){l.style=l.styleId?d.styles.getStyleModel(l.styleId):{},l.styleId!==void 0&&(l.styleId=void 0);const c=this.map.c;l.cells.forEach(h=>{c.reconcile(h,d)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(t,n,s){const r=t("../../../utils/under-dash"),o=t("../base-xform");n.exports=class extends o{get tag(){return"sheetFormatPr"}render(a,l){if(l){const d={defaultRowHeight:l.defaultRowHeight,outlineLevelRow:l.outlineLevelRow,outlineLevelCol:l.outlineLevelCol,"x14ac:dyDescent":l.dyDescent};l.defaultColWidth&&(d.defaultColWidth=l.defaultColWidth),l.defaultRowHeight&&l.defaultRowHeight===15||(d.customHeight="1"),r.some(d,c=>c!==void 0)&&a.leafNode("sheetFormatPr",d)}}parseOpen(a){return a.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(a.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(a.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(a.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(a.attributes.outlineLevelCol||"0",10)},a.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(a.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(t,n,s){const r=t("../base-xform"),o=t("../style/color-xform"),a=t("./page-setup-properties-xform"),l=t("./outline-properties-xform");n.exports=class extends r{constructor(){super(),this.map={tabColor:new o("tabColor"),pageSetUpPr:new a,outlinePr:new l}}get tag(){return"sheetPr"}render(d,c){if(c){d.addRollback(),d.openNode("sheetPr");let h=!1;h=this.map.tabColor.render(d,c.tabColor)||h,h=this.map.pageSetUpPr.render(d,c.pageSetup)||h,h=this.map.outlinePr.render(d,c.outlineProperties)||h,h?(d.closeNode(),d.commit()):d.rollback()}}parseOpen(d){return this.parser?(this.parser.parseOpen(d),!0):d.name===this.tag?(this.reset(),!0):!!this.map[d.name]&&(this.parser=this.map[d.name],this.parser.parseOpen(d),!0)}parseText(d){return!!this.parser&&(this.parser.parseText(d),!0)}parseClose(d){return this.parser?(this.parser.parseClose(d)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(t,n,s){const r=t("../../../utils/under-dash"),o=t("../base-xform");function a(d,c){return d?c:void 0}function l(d,c){return d===c||void 0}n.exports=class extends o{get tag(){return"sheetProtection"}render(d,c){if(c){const h={sheet:a(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:a(c.formatCells,"0"),formatColumns:a(c.formatColumns,"0"),formatRows:a(c.formatRows,"0"),insertColumns:a(c.insertColumns,"0"),insertRows:a(c.insertRows,"0"),insertHyperlinks:a(c.insertHyperlinks,"0"),deleteColumns:a(c.deleteColumns,"0"),deleteRows:a(c.deleteRows,"0"),sort:a(c.sort,"0"),autoFilter:a(c.autoFilter,"0"),pivotTables:a(c.pivotTables,"0")};c.sheet&&(h.algorithmName=c.algorithmName,h.hashValue=c.hashValue,h.saltValue=c.saltValue,h.spinCount=c.spinCount,h.objects=a(c.objects===!1,"1"),h.scenarios=a(c.scenarios===!1,"1")),r.some(h,u=>u!==void 0)&&d.leafNode(this.tag,h)}}parseOpen(d){switch(d.name){case this.tag:return this.model={sheet:l(d.attributes.sheet,"1"),objects:d.attributes.objects!=="1"&&void 0,scenarios:d.attributes.scenarios!=="1"&&void 0,selectLockedCells:d.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:d.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:l(d.attributes.formatCells,"0"),formatColumns:l(d.attributes.formatColumns,"0"),formatRows:l(d.attributes.formatRows,"0"),insertColumns:l(d.attributes.insertColumns,"0"),insertRows:l(d.attributes.insertRows,"0"),insertHyperlinks:l(d.attributes.insertHyperlinks,"0"),deleteColumns:l(d.attributes.deleteColumns,"0"),deleteRows:l(d.attributes.deleteRows,"0"),sort:l(d.attributes.sort,"0"),autoFilter:l(d.attributes.autoFilter,"0"),pivotTables:l(d.attributes.pivotTables,"0")},d.attributes.algorithmName&&(this.model.algorithmName=d.attributes.algorithmName,this.model.hashValue=d.attributes.hashValue,this.model.saltValue=d.attributes.saltValue,this.model.spinCount=parseInt(d.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(t,n,s){const r=t("../../../utils/col-cache"),o=t("../base-xform"),a={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends o{get tag(){return"sheetView"}prepare(l){switch(l.state){case"frozen":case"split":break;default:l.state="normal"}}render(l,d){l.openNode("sheetView",{workbookViewId:d.workbookViewId||0});const c=function(g,m,v){v&&l.addAttribute(g,m)};let h,u,p,f;switch(c("rightToLeft","1",d.rightToLeft===!0),c("tabSelected","1",d.tabSelected),c("showRuler","0",d.showRuler===!1),c("showRowColHeaders","0",d.showRowColHeaders===!1),c("showGridLines","0",d.showGridLines===!1),c("zoomScale",d.zoomScale,d.zoomScale),c("zoomScaleNormal",d.zoomScaleNormal,d.zoomScaleNormal),c("view",d.style,d.style),d.state){case"frozen":u=d.xSplit||0,p=d.ySplit||0,h=d.topLeftCell||r.getAddress(p+1,u+1).address,f=(d.xSplit&&d.ySplit?"bottomRight":d.xSplit&&"topRight")||"bottomLeft",l.leafNode("pane",{xSplit:d.xSplit||void 0,ySplit:d.ySplit||void 0,topLeftCell:h,activePane:f,state:"frozen"}),l.leafNode("selection",{pane:f,activeCell:d.activeCell,sqref:d.activeCell});break;case"split":d.activePane==="topLeft"&&(d.activePane=void 0),l.leafNode("pane",{xSplit:d.xSplit||void 0,ySplit:d.ySplit||void 0,topLeftCell:d.topLeftCell,activePane:d.activePane}),l.leafNode("selection",{pane:d.activePane,activeCell:d.activeCell,sqref:d.activeCell});break;case"normal":d.activeCell&&l.leafNode("selection",{activeCell:d.activeCell,sqref:d.activeCell})}l.closeNode()}parseOpen(l){switch(l.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(l.attributes.workbookViewId,10),rightToLeft:l.attributes.rightToLeft==="1",tabSelected:l.attributes.tabSelected==="1",showRuler:l.attributes.showRuler!=="0",showRowColHeaders:l.attributes.showRowColHeaders!=="0",showGridLines:l.attributes.showGridLines!=="0",zoomScale:parseInt(l.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(l.attributes.zoomScaleNormal||"100",10),style:l.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(l.attributes.xSplit||"0",10),ySplit:parseInt(l.attributes.ySplit||"0",10),topLeftCell:l.attributes.topLeftCell,activePane:l.attributes.activePane||"topLeft",state:l.attributes.state},!0;case"selection":{const d=l.attributes.pane||"topLeft";return this.selections[d]={pane:d,activeCell:l.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(l){let d,c;switch(l){case"sheetView":return this.sheetView&&this.pane?(d=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:a[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(d.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(d.activeCell=c.activeCell),this.sheetView.style&&(d.style=this.sheetView.style)):(d=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(d.activeCell=c.activeCell),this.sheetView.style&&(d.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"tablePart"}render(o,a){a&&o.leafNode(this.tag,{"r:id":a.rId})}parseOpen(o){switch(o.name){case this.tag:return this.model={rId:o.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(t,n,s){const r=t("../../../utils/under-dash"),o=t("../../../utils/col-cache"),a=t("../../../utils/xml-stream"),l=t("../../rel-type"),d=t("./merges"),c=t("../base-xform"),h=t("../list-xform"),u=t("./row-xform"),p=t("./col-xform"),f=t("./dimension-xform"),g=t("./hyperlink-xform"),m=t("./merge-cell-xform"),v=t("./data-validations-xform"),_=t("./sheet-properties-xform"),x=t("./sheet-format-properties-xform"),y=t("./sheet-view-xform"),T=t("./sheet-protection-xform"),O=t("./page-margins-xform"),L=t("./page-setup-xform"),R=t("./print-options-xform"),$=t("./auto-filter-xform"),V=t("./picture-xform"),z=t("./drawing-xform"),H=t("./table-part-xform"),I=t("./row-breaks-xform"),A=t("./header-footer-xform"),E=t("./cf/conditional-formattings-xform"),b=t("./ext-lst-xform"),w=(S,D)=>{if(!D||!D.length)return S;if(!S||!S.length)return D;const P={},k={};return S.forEach(U=>{P[U.ref]=U,U.rules.forEach(W=>{const{x14Id:X}=W;X&&(k[X]=W)})}),D.forEach(U=>{U.rules.forEach(W=>{const X=k[W.x14Id];X?((j,q)=>{Object.keys(q).forEach(B=>{const F=j[B],K=q[B];F===void 0&&K!==void 0&&(j[B]=K)})})(X,W):P[U.ref]?P[U.ref].rules.push(W):S.push({ref:U.ref,rules:[W]})})}),S};class C extends c{constructor(D){super();const{maxRows:P,maxCols:k,ignoreNodes:U}=D||{};this.ignoreNodes=U||[],this.map={sheetPr:new _,dimension:new f,sheetViews:new h({tag:"sheetViews",count:!1,childXform:new y}),sheetFormatPr:new x,cols:new h({tag:"cols",count:!1,childXform:new p}),sheetData:new h({tag:"sheetData",count:!1,empty:!0,childXform:new u({maxItems:k}),maxItems:P}),autoFilter:new $,mergeCells:new h({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new I,hyperlinks:new h({tag:"hyperlinks",count:!1,childXform:new g}),pageMargins:new O,dataValidations:new v,pageSetup:new L,headerFooter:new A,printOptions:new R,picture:new V,drawing:new z,sheetProtection:new T,tableParts:new h({tag:"tableParts",count:!0,childXform:new H}),conditionalFormatting:new E,extLst:new b}}prepare(D,P){P.merges=new d,D.hyperlinks=P.hyperlinks=[],D.comments=P.comments=[],P.formulae={},P.siFormulae=0,this.map.cols.prepare(D.cols,P),this.map.sheetData.prepare(D.rows,P),this.map.conditionalFormatting.prepare(D.conditionalFormattings,P),D.mergeCells=P.merges.mergeCells;const k=D.rels=[];function U(j){return"rId"+(j.length+1)}if(D.hyperlinks.forEach(j=>{const q=U(k);j.rId=q,k.push({Id:q,Type:l.Hyperlink,Target:j.target,TargetMode:"External"})}),D.comments.length>0){const j={Id:U(k),Type:l.Comments,Target:`../comments${D.id}.xml`};k.push(j);const q={Id:U(k),Type:l.VmlDrawing,Target:`../drawings/vmlDrawing${D.id}.vml`};k.push(q),D.comments.forEach(B=>{B.refAddress=o.decodeAddress(B.ref)}),P.commentRefs.push({commentName:"comments"+D.id,vmlDrawing:"vmlDrawing"+D.id})}const W=[];let X;D.media.forEach(j=>{if(j.type==="background"){const q=U(k);X=P.media[j.imageId],k.push({Id:q,Type:l.Image,Target:`../media/${X.name}.${X.extension}`}),D.background={rId:q},D.image=P.media[j.imageId]}else if(j.type==="image"){let{drawing:q}=D;X=P.media[j.imageId],q||(q=D.drawing={rId:U(k),name:"drawing"+ ++P.drawingsCount,anchors:[],rels:[]},P.drawings.push(q),k.push({Id:q.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${q.name}.xml`}));let B=this.preImageId===j.imageId?W[j.imageId]:W[q.rels.length];B||(B=U(q.rels),W[q.rels.length]=B,q.rels.push({Id:B,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${X.name}.${X.extension}`}));const F={picture:{rId:B},range:j.range};if(j.hyperlinks&&j.hyperlinks.hyperlink){const K=U(q.rels);W[q.rels.length]=K,F.picture.hyperlinks={tooltip:j.hyperlinks.tooltip,rId:K},q.rels.push({Id:K,Type:l.Hyperlink,Target:j.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=j.imageId,q.anchors.push(F)}}),D.tables.forEach(j=>{const q=U(k);j.rId=q,k.push({Id:q,Type:l.Table,Target:"../tables/"+j.target}),j.columns.forEach(B=>{const{style:F}=B;F&&(B.dxfId=P.styles.addDxfStyle(F))})}),this.map.extLst.prepare(D,P)}render(D,P){D.openXml(a.StdDocAttributes),D.openNode("worksheet",C.WORKSHEET_ATTRIBUTES);const k=P.properties?{defaultRowHeight:P.properties.defaultRowHeight,dyDescent:P.properties.dyDescent,outlineLevelCol:P.properties.outlineLevelCol,outlineLevelRow:P.properties.outlineLevelRow}:void 0;P.properties&&P.properties.defaultColWidth&&(k.defaultColWidth=P.properties.defaultColWidth);const U={outlineProperties:P.properties&&P.properties.outlineProperties,tabColor:P.properties&&P.properties.tabColor,pageSetup:P.pageSetup&&P.pageSetup.fitToPage?{fitToPage:P.pageSetup.fitToPage}:void 0},W=P.pageSetup&&P.pageSetup.margins,X={showRowColHeaders:P.pageSetup&&P.pageSetup.showRowColHeaders,showGridLines:P.pageSetup&&P.pageSetup.showGridLines,horizontalCentered:P.pageSetup&&P.pageSetup.horizontalCentered,verticalCentered:P.pageSetup&&P.pageSetup.verticalCentered},j=P.sheetProtection;this.map.sheetPr.render(D,U),this.map.dimension.render(D,P.dimensions),this.map.sheetViews.render(D,P.views),this.map.sheetFormatPr.render(D,k),this.map.cols.render(D,P.cols),this.map.sheetData.render(D,P.rows),this.map.sheetProtection.render(D,j),this.map.autoFilter.render(D,P.autoFilter),this.map.mergeCells.render(D,P.mergeCells),this.map.conditionalFormatting.render(D,P.conditionalFormattings),this.map.dataValidations.render(D,P.dataValidations),this.map.hyperlinks.render(D,P.hyperlinks),this.map.printOptions.render(D,X),this.map.pageMargins.render(D,W),this.map.pageSetup.render(D,P.pageSetup),this.map.headerFooter.render(D,P.headerFooter),this.map.rowBreaks.render(D,P.rowBreaks),this.map.drawing.render(D,P.drawing),this.map.picture.render(D,P.background),this.map.tableParts.render(D,P.tables),this.map.extLst.render(D,P),P.rels&&P.rels.forEach(q=>{q.Type===l.VmlDrawing&&D.leafNode("legacyDrawing",{"r:id":q.Id})}),D.closeNode()}parseOpen(D){return this.parser?(this.parser.parseOpen(D),!0):D.name==="worksheet"?(r.each(this.map,P=>{P.reset()}),!0):(this.map[D.name]&&!this.ignoreNodes.includes(D.name)&&(this.parser=this.map[D.name],this.parser.parseOpen(D)),!0)}parseText(D){this.parser&&this.parser.parseText(D)}parseClose(D){if(this.parser)return this.parser.parseClose(D)||(this.parser=void 0),!0;switch(D){case"worksheet":{const P=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(P.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(P.outlineProperties=this.map.sheetPr.model.outlineProperties);const k={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},U=Object.assign(k,this.map.pageSetup.model,this.map.printOptions.model),W=w(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:P,views:this.map.sheetViews.model,pageSetup:U,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:W},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(D,P){const k=(D.relationships||[]).reduce((W,X)=>{if(W[X.Id]=X,X.Type===l.Comments&&(D.comments=P.comments[X.Target].comments),X.Type===l.VmlDrawing&&D.comments&&D.comments.length){const j=P.vmlDrawings[X.Target].comments;D.comments.forEach((q,B)=>{q.note=Object.assign({},q.note,j[B])})}return W},{});if(P.commentsMap=(D.comments||[]).reduce((W,X)=>(X.ref&&(W[X.ref]=X),W),{}),P.hyperlinkMap=(D.hyperlinks||[]).reduce((W,X)=>(X.rId&&(W[X.address]=k[X.rId].Target),W),{}),P.formulae={},D.rows=D.rows&&D.rows.filter(Boolean)||[],D.rows.forEach(W=>{W.cells=W.cells&&W.cells.filter(Boolean)||[]}),this.map.cols.reconcile(D.cols,P),this.map.sheetData.reconcile(D.rows,P),this.map.conditionalFormatting.reconcile(D.conditionalFormattings,P),D.media=[],D.drawing){const W=k[D.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(W){const X=W[1];P.drawings[X].anchors.forEach(j=>{if(j.medium){const q={type:"image",imageId:j.medium.index,range:j.range,hyperlinks:j.picture.hyperlinks};D.media.push(q)}})}}const U=D.background&&k[D.background.rId];if(U){const W=U.Target.split("/media/")[1],X=P.mediaIndex&&P.mediaIndex[W];X!==void 0&&D.media.push({type:"background",imageId:X})}D.tables=(D.tables||[]).map(W=>{const X=k[W.rId];return P.tables[X.Target]}),delete D.relationships,delete D.hyperlinks,delete D.comments}}C.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=C},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{constructor(o){super(),this.tag=o.tag,this.attr=o.attr}render(o,a){a&&(o.openNode(this.tag),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this._format=o.format||function(a){try{return Number.isNaN(a.getTime())?"":a.toISOString()}catch{return""}},this._parse=o.parse||function(a){return new Date(a)}}render(o,a){a&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,this._format(a)):o.writeText(this._format(a)),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=this._parse(o.attributes[this.attr]):this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs,this.zero=o.zero}render(o,a){(a||this.zero)&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){return o.name===this.tag&&(this.attr?this.model=parseInt(o.attributes[this.attr],10):this.text=[],!0)}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{constructor(o){super(),this.tag=o.tag,this.attr=o.attr,this.attrs=o.attrs}render(o,a){a!==void 0&&(o.openNode(this.tag),this.attrs&&o.addAttributes(this.attrs),this.attr?o.addAttribute(this.attr,a):o.writeText(a),o.closeNode())}parseOpen(o){o.name===this.tag&&(this.attr?this.model=o.attributes[this.attr]:this.text=[])}parseText(o){this.attr||this.text.push(o)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(t,n,s){const r=t("./base-xform"),o=t("../../utils/xml-stream");n.exports=class extends r{constructor(a){super(),this._model=a}render(a){if(!this._xml){const l=new o;(function d(c,h){c.openNode(h.tag,h.$),h.c&&h.c.forEach(u=>{d(c,u)}),h.t&&c.writeText(h.t),c.closeNode()})(l,this._model),this._xml=l.xml}a.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(a){switch(a){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(t,n,s){const r=t("./text-xform"),o=t("./rich-text-xform"),a=t("../base-xform");n.exports=class extends a{constructor(){super(),this.map={r:new o,t:new r}}get tag(){return"rPh"}render(l,d){if(l.openNode(this.tag,{sb:d.sb||0,eb:d.eb||0}),d&&d.hasOwnProperty("richText")&&d.richText){const{r:c}=this.map;d.richText.forEach(h=>{c.render(l,h)})}else d&&this.map.t.render(l,d.text);l.closeNode()}parseOpen(l){const{name:d}=l;return this.parser?(this.parser.parseOpen(l),!0):d===this.tag?(this.model={sb:parseInt(l.attributes.sb,10),eb:parseInt(l.attributes.eb,10)},!0):(this.parser=this.map[d],!!this.parser&&(this.parser.parseOpen(l),!0))}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser){if(!this.parser.parseClose(l)){switch(l){case"r":{let d=this.model.richText;d||(d=this.model.richText=[]),d.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(l){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(t,n,s){const r=t("./text-xform"),o=t("../style/font-xform"),a=t("../base-xform");class l extends a{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new r)}get fontXform(){return this._fontXform||(this._fontXform=new o(l.FONT_OPTIONS))}render(c,h){h=h||this.model,c.openNode("r"),h.font&&this.fontXform.render(c,h.font),this.textXform.render(c,h.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}l.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=l},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(t,n,s){const r=t("./text-xform"),o=t("./rich-text-xform"),a=t("./phonetic-text-xform"),l=t("../base-xform");n.exports=class extends l{constructor(d){super(),this.model=d,this.map={r:new o,t:new r,rPh:new a}}get tag(){return"si"}render(d,c){d.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(h=>{this.map.r.render(d,h)}):this.map.t.render(d,""):c!=null&&this.map.t.render(d,c),d.closeNode()}parseOpen(d){const{name:c}=d;return this.parser?(this.parser.parseOpen(d),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(d),!0))}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser){if(!this.parser.parseClose(d)){switch(d){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(d){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(t,n,s){const r=t("../../../utils/xml-stream"),o=t("../base-xform"),a=t("./shared-string-xform");n.exports=class extends o{constructor(l){super(),this.model=l||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new a)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(l){return this.model.values[l]}add(l){return l.richText?this.addRichText(l):this.addText(l)}addText(l){let d=this.hash[l];return d===void 0&&(d=this.hash[l]=this.model.values.length,this.model.values.push(l)),this.model.count++,d}addRichText(l){const d=this.sharedStringXform.toXml(l);let c=this.rich[d];return c===void 0&&(c=this.rich[d]=this.model.values.length,this.model.values.push(l)),this.model.count++,c}render(l,d){d=d||this._values,l.openXml(r.StdDocAttributes),l.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:d.count,uniqueCount:d.values.length});const c=this.sharedStringXform;d.values.forEach(h=>{c.render(l,h)}),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(l),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(l))}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){if(this.parser)return this.parser.parseClose(l)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(l){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+l)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"t"}render(o,a){o.openNode("t"),/^\s|\n|\s$/.test(a)&&o.addAttribute("xml:space","preserve"),o.writeText(a),o.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(o,a)=>String.fromCharCode(parseInt(a,16)))}parseOpen(o){switch(o.name){case"t":return this._text=[],!0;default:return!1}}parseText(o){this._text.push(o)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(t,n,s){const r=t("../../../doc/enums"),o=t("../../../utils/utils"),a=t("../base-xform"),l={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,h)=>(c[h]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,h)=>(c[h]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=o.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=o.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return r.ReadingOrder.LeftToRight;case"rtl":return r.ReadingOrder.RightToLeft;default:return}}},d={toXml(c){if(c=l.textRotation(c)){if(c==="vertical")return 255;const h=Math.round(c);if(h>=0&&h<=90)return h;if(h<0&&h>=-90)return 90-h}},toModel(c){const h=o.validInt(c);if(h!==void 0){if(h===255)return"vertical";if(h>=0&&h<=90)return h;if(h>90&&h<=180)return 90-h}}};n.exports=class extends a{get tag(){return"alignment"}render(c,h){c.addRollback(),c.openNode("alignment");let u=!1;function p(f,g){g&&(c.addAttribute(f,g),u=!0)}p("horizontal",l.horizontal(h.horizontal)),p("vertical",l.vertical(h.vertical)),p("wrapText",!!l.wrapText(h.wrapText)&&"1"),p("shrinkToFit",!!l.shrinkToFit(h.shrinkToFit)&&"1"),p("indent",l.indent(h.indent)),p("textRotation",d.toXml(h.textRotation)),p("readingOrder",l.readingOrder(h.readingOrder)),c.closeNode(),u?c.commit():c.rollback()}parseOpen(c){const h={};let u=!1;function p(f,g,m){f&&(h[g]=m,u=!0)}p(c.attributes.horizontal,"horizontal",c.attributes.horizontal),p(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),p(c.attributes.wrapText,"wrapText",o.parseBoolean(c.attributes.wrapText)),p(c.attributes.shrinkToFit,"shrinkToFit",o.parseBoolean(c.attributes.shrinkToFit)),p(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),p(c.attributes.textRotation,"textRotation",d.toModel(c.attributes.textRotation)),p(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=u?h:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(t,n,s){const r=t("../base-xform"),o=t("../../../utils/utils"),a=t("./color-xform");class l extends r{constructor(c){super(),this.name=c,this.map={color:new a}}get tag(){return this.name}render(c,h,u){const p=h&&h.color||u||this.defaultColor;c.openNode(this.name),h&&h.style&&(c.addAttribute("style",h.style),p&&this.map.color.render(c,p)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:h}=c.attributes;return this.model=h?{style:h}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return l.validStyleValues[c]}}l.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((d,c)=>(d[c]=!0,d),{}),n.exports=class extends r{constructor(){super(),this.map={top:new l("top"),left:new l("left"),bottom:new l("bottom"),right:new l("right"),diagonal:new l("diagonal")}}render(d,c){const{color:h}=c;function u(p,f){p&&!p.color&&c.color&&(p={...p,color:c.color}),f.render(d,p,h)}d.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&d.addAttribute("diagonalUp","1"),c.diagonal.down&&d.addAttribute("diagonalDown","1")),u(c.left,this.map.left),u(c.right,this.map.right),u(c.top,this.map.top),u(c.bottom,this.map.bottom),u(c.diagonal,this.map.diagonal),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;switch(d.name){case"border":return this.reset(),this.diagonalUp=o.parseBoolean(d.attributes.diagonalUp),this.diagonalDown=o.parseBoolean(d.attributes.diagonalDown),!0;default:return this.parser=this.map[d.name],!!this.parser&&(this.parser.parseOpen(d),!0)}}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;if(d==="border"){const c=this.model={},h=function(u,p,f){p&&(f&&Object.assign(p,f),c[u]=p)};h("left",this.map.left.model),h("right",this.map.right.model),h("top",this.map.top.model),h("bottom",this.map.bottom.model),h("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{constructor(o){super(),this.name=o||"color"}get tag(){return this.name}render(o,a){return!!a&&(o.openNode(this.name),a.argb?o.addAttribute("rgb",a.argb):a.theme!==void 0?(o.addAttribute("theme",a.theme),a.tint!==void 0&&o.addAttribute("tint",a.tint)):a.indexed!==void 0?o.addAttribute("indexed",a.indexed):o.addAttribute("auto","1"),o.closeNode(),!0)}parseOpen(o){return o.name===this.name&&(o.attributes.rgb?this.model={argb:o.attributes.rgb}:o.attributes.theme?(this.model={theme:parseInt(o.attributes.theme,10)},o.attributes.tint&&(this.model.tint=parseFloat(o.attributes.tint))):o.attributes.indexed?this.model={indexed:parseInt(o.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(t,n,s){const r=t("../base-xform"),o=t("./alignment-xform"),a=t("./border-xform"),l=t("./fill-xform"),d=t("./font-xform"),c=t("./numfmt-xform"),h=t("./protection-xform");n.exports=class extends r{constructor(){super(),this.map={alignment:new o,border:new a,fill:new l,font:new d,numFmt:new c,protection:new h}}get tag(){return"dxf"}render(u,p){if(u.openNode(this.tag),p.font&&this.map.font.render(u,p.font),p.numFmt&&p.numFmtId){const f={id:p.numFmtId,formatCode:p.numFmt};this.map.numFmt.render(u,f)}p.fill&&this.map.fill.render(u,p.fill),p.alignment&&this.map.alignment.render(u,p.alignment),p.border&&this.map.border.render(u,p.border),p.protection&&this.map.protection.render(u,p.protection),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u),!0}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return this.parser?(this.parser.parseClose(u)||(this.parser=void 0),!0):u!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(t,n,s){const r=t("../base-xform"),o=t("./color-xform");class a extends r{constructor(){super(),this.map={color:new o}}get tag(){return"stop"}render(u,p){u.openNode("stop"),u.addAttribute("position",p.position),this.map.color.render(u,p.color),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"stop":return this.model={position:parseFloat(u.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(u),!0;default:return!1}}parseText(){}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class l extends r{constructor(){super(),this.map={fgColor:new o("fgColor"),bgColor:new o("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(u,p){u.openNode("patternFill"),u.addAttribute("patternType",p.pattern),p.fgColor&&this.map.fgColor.render(u,p.fgColor),p.bgColor&&this.map.bgColor.render(u,p.bgColor),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"patternFill":return this.model={type:"pattern",pattern:u.attributes.patternType},!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.parser.model&&(this.model[u]=this.parser.model),this.parser=void 0),!0)}}class d extends r{constructor(){super(),this.map={stop:new a}}get name(){return"gradient"}get tag(){return"gradientFill"}render(u,p){switch(u.openNode("gradientFill"),p.gradient){case"angle":u.addAttribute("degree",p.degree);break;case"path":u.addAttribute("type","path"),p.center.left&&(u.addAttribute("left",p.center.left),p.center.right===void 0&&u.addAttribute("right",p.center.left)),p.center.right&&u.addAttribute("right",p.center.right),p.center.top&&(u.addAttribute("top",p.center.top),p.center.bottom===void 0&&u.addAttribute("bottom",p.center.top)),p.center.bottom&&u.addAttribute("bottom",p.center.bottom)}const f=this.map.stop;p.stops.forEach(g=>{f.render(u,g)}),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"gradientFill":{const p=this.model={stops:[]};return u.attributes.degree?(p.gradient="angle",p.degree=parseInt(u.attributes.degree,10)):u.attributes.type==="path"&&(p.gradient="path",p.center={left:u.attributes.left?parseFloat(u.attributes.left):0,top:u.attributes.top?parseFloat(u.attributes.top):0},u.attributes.right!==u.attributes.left&&(p.center.right=u.attributes.right?parseFloat(u.attributes.right):0),u.attributes.bottom!==u.attributes.top&&(p.center.bottom=u.attributes.bottom?parseFloat(u.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends r{constructor(){super(),this.map={patternFill:new l,gradientFill:new d}}get tag(){return"fill"}render(u,p){switch(u.addRollback(),u.openNode("fill"),p.type){case"pattern":this.map.patternFill.render(u,p);break;case"gradient":this.map.gradientFill.render(u,p);break;default:return void u.rollback()}u.closeNode(),u.commit()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"fill":return this.model={},!0;default:return this.parser=this.map[u.name],!!this.parser&&(this.parser.parseOpen(u),!0)}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(this.parser.parseClose(u)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(u){return c.validPatternValues[u]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((h,u)=>(h[u]=!0,h),{}),c.StopXform=a,c.PatternFillXform=l,c.GradientFillXform=d,n.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(t,n,s){const r=t("./color-xform"),o=t("../simple/boolean-xform"),a=t("../simple/integer-xform"),l=t("../simple/string-xform"),d=t("./underline-xform"),c=t("../../../utils/under-dash"),h=t("../base-xform");class u extends h{constructor(f){super(),this.options=f||u.OPTIONS,this.map={b:{prop:"bold",xform:new o({tag:"b",attr:"val"})},i:{prop:"italic",xform:new o({tag:"i",attr:"val"})},u:{prop:"underline",xform:new d},charset:{prop:"charset",xform:new a({tag:"charset",attr:"val"})},color:{prop:"color",xform:new r},condense:{prop:"condense",xform:new o({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new o({tag:"extend",attr:"val"})},family:{prop:"family",xform:new a({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new o({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new l({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new l({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new o({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new o({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new a({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new l({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(f,g){const{map:m}=this;f.openNode(this.options.tagName),c.each(this.map,(v,_)=>{m[_].xform.render(f,g[v.prop])}),f.closeNode()}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;if(this.map[f.name])return this.parser=this.map[f.name].xform,this.parser.parseOpen(f);switch(f.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(f){this.parser&&this.parser.parseText(f)}parseClose(f){if(this.parser&&!this.parser.parseClose(f)){const g=this.map[f];return this.parser.model&&(this.model[g.prop]=this.parser.model),this.parser=void 0,!0}switch(f){case this.options.tagName:return!1;default:return!0}}}u.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=u},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(t,n,s){const r=t("../../../utils/under-dash"),o=t("../../defaultnumformats"),a=t("../base-xform"),l=function(){const c={};return r.each(o,(h,u)=>{h.f&&(c[h.f]=parseInt(u,10))}),c}();class d extends a{constructor(h,u){super(),this.id=h,this.formatCode=u}get tag(){return"numFmt"}render(h,u){h.leafNode("numFmt",{numFmtId:u.id,formatCode:u.formatCode})}parseOpen(h){switch(h.name){case"numFmt":return this.model={id:parseInt(h.attributes.numFmtId,10),formatCode:h.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}d.getDefaultFmtId=function(c){return l[c]},d.getDefaultFmtCode=function(c){return o[c]&&o[c].f},n.exports=d},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(t,n,s){const r=t("../base-xform"),o={boolean:(a,l)=>a===void 0?l:a};n.exports=class extends r{get tag(){return"protection"}render(a,l){a.addRollback(),a.openNode("protection");let d=!1;function c(h,u){u!==void 0&&(a.addAttribute(h,u),d=!0)}c("locked",o.boolean(l.locked,!0)?void 0:"0"),c("hidden",o.boolean(l.hidden,!1)?"1":void 0),a.closeNode(),d?a.commit():a.rollback()}parseOpen(a){const l={locked:a.attributes.locked!=="0",hidden:a.attributes.hidden==="1"},d=!l.locked||l.hidden;this.model=d?l:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(t,n,s){const r=t("../base-xform"),o=t("./alignment-xform"),a=t("./protection-xform");n.exports=class extends r{constructor(l){super(),this.xfId=!(!l||!l.xfId),this.map={alignment:new o,protection:new a}}get tag(){return"xf"}render(l,d){l.openNode("xf",{numFmtId:d.numFmtId||0,fontId:d.fontId||0,fillId:d.fillId||0,borderId:d.borderId||0}),this.xfId&&l.addAttribute("xfId",d.xfId||0),d.numFmtId&&l.addAttribute("applyNumberFormat","1"),d.fontId&&l.addAttribute("applyFont","1"),d.fillId&&l.addAttribute("applyFill","1"),d.borderId&&l.addAttribute("applyBorder","1"),d.alignment&&l.addAttribute("applyAlignment","1"),d.protection&&l.addAttribute("applyProtection","1"),d.alignment&&this.map.alignment.render(l,d.alignment),d.protection&&this.map.protection.render(l,d.protection),l.closeNode()}parseOpen(l){if(this.parser)return this.parser.parseOpen(l),!0;switch(l.name){case"xf":return this.model={numFmtId:parseInt(l.attributes.numFmtId,10),fontId:parseInt(l.attributes.fontId,10),fillId:parseInt(l.attributes.fillId,10),borderId:parseInt(l.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(l.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(l),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(l),!0;default:return!1}}parseText(l){this.parser&&this.parser.parseText(l)}parseClose(l){return this.parser?(this.parser.parseClose(l)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):l!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(t,n,s){const r=t("../../../doc/enums"),o=t("../../../utils/xml-stream"),a=t("../base-xform"),l=t("../static-xform"),d=t("../list-xform"),c=t("./font-xform"),h=t("./fill-xform"),u=t("./border-xform"),p=t("./numfmt-xform"),f=t("./style-xform"),g=t("./dxf-xform");class m extends a{constructor(_){super(),this.map={numFmts:new d({tag:"numFmts",count:!0,childXform:new p}),fonts:new d({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new d({tag:"fills",count:!0,childXform:new h}),borders:new d({tag:"borders",count:!0,childXform:new u}),cellStyleXfs:new d({tag:"cellStyleXfs",count:!0,childXform:new f}),cellXfs:new d({tag:"cellXfs",count:!0,childXform:new f({xfId:!0})}),dxfs:new d({tag:"dxfs",always:!0,count:!0,childXform:new g}),numFmt:new p,font:new c,fill:new h,border:new u,style:new f({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},_&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(_,x){x=x||this.model,_.openXml(o.StdDocAttributes),_.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(x.numFmts&&x.numFmts.length&&(_.openNode("numFmts",{count:x.numFmts.length}),x.numFmts.forEach(y=>{_.writeXml(y)}),_.closeNode()),x.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),_.openNode("fonts",{count:x.fonts.length,"x14ac:knownFonts":1}),x.fonts.forEach(y=>{_.writeXml(y)}),_.closeNode(),_.openNode("fills",{count:x.fills.length}),x.fills.forEach(y=>{_.writeXml(y)}),_.closeNode(),_.openNode("borders",{count:x.borders.length}),x.borders.forEach(y=>{_.writeXml(y)}),_.closeNode(),this.map.cellStyleXfs.render(_,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),_.openNode("cellXfs",{count:x.styles.length}),x.styles.forEach(y=>{_.writeXml(y)}),_.closeNode()):(this.map.numFmts.render(_,x.numFmts),this.map.fonts.render(_,x.fonts),this.map.fills.render(_,x.fills),this.map.borders.render(_,x.borders),this.map.cellStyleXfs.render(_,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(_,x.styles)),m.STATIC_XFORMS.cellStyles.render(_),this.map.dxfs.render(_,x.dxfs),m.STATIC_XFORMS.tableStyles.render(_),m.STATIC_XFORMS.extLst.render(_),_.closeNode()}parseOpen(_){if(this.parser)return this.parser.parseOpen(_),!0;switch(_.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[_.name],this.parser&&this.parser.parseOpen(_),!0}}parseText(_){this.parser&&this.parser.parseText(_)}parseClose(_){if(this.parser)return this.parser.parseClose(_)||(this.parser=void 0),!0;switch(_){case"styleSheet":{this.model={};const x=(y,T)=>{T.model&&T.model.length&&(this.model[y]=T.model)};if(x("numFmts",this.map.numFmts),x("fonts",this.map.fonts),x("fills",this.map.fills),x("borders",this.map.borders),x("styles",this.map.cellXfs),x("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const y=this.index.numFmt;this.model.numFmts.forEach(T=>{y[T.id]=T.formatCode})}return!1}default:return!0}}addStyleModel(_,x){if(!_)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(_))return this.weakMap.get(_);const y={};if(x=x||r.ValueType.Number,_.numFmt)y.numFmtId=this._addNumFmtStr(_.numFmt);else switch(x){case r.ValueType.Number:y.numFmtId=this._addNumFmtStr("General");break;case r.ValueType.Date:y.numFmtId=this._addNumFmtStr("mm-dd-yy")}_.font&&(y.fontId=this._addFont(_.font)),_.border&&(y.borderId=this._addBorder(_.border)),_.fill&&(y.fillId=this._addFill(_.fill)),_.alignment&&(y.alignment=_.alignment),_.protection&&(y.protection=_.protection);const T=this._addStyle(y);return this.weakMap&&this.weakMap.set(_,T),T}getStyleModel(_){const x=this.model.styles[_];if(!x)return null;let y=this.index.model[_];if(y)return y;if(y=this.index.model[_]={},x.numFmtId){const O=this.index.numFmt[x.numFmtId]||p.getDefaultFmtCode(x.numFmtId);O&&(y.numFmt=O)}function T(O,L,R){if(R||R===0){const $=L[R];$&&(y[O]=$)}}return T("font",this.model.fonts,x.fontId),T("border",this.model.borders,x.borderId),T("fill",this.model.fills,x.fillId),x.alignment&&(y.alignment=x.alignment),x.protection&&(y.protection=x.protection),y}addDxfStyle(_){return _.numFmt&&(_.numFmtId=this._addNumFmtStr(_.numFmt)),this.model.dxfs.push(_),this.model.dxfs.length-1}getDxfStyle(_){return this.model.dxfs[_]}_addStyle(_){const x=this.map.style.toXml(_);let y=this.index.style[x];return y===void 0&&(y=this.index.style[x]=this.model.styles.length,this.model.styles.push(x)),y}_addNumFmtStr(_){let x=p.getDefaultFmtId(_);if(x!==void 0||(x=this.index.numFmt[_],x!==void 0))return x;x=this.index.numFmt[_]=164+this.model.numFmts.length;const y=this.map.numFmt.toXml({id:x,formatCode:_});return this.model.numFmts.push(y),x}_addFont(_){const x=this.map.font.toXml(_);let y=this.index.font[x];return y===void 0&&(y=this.index.font[x]=this.model.fonts.length,this.model.fonts.push(x)),y}_addBorder(_){const x=this.map.border.toXml(_);let y=this.index.border[x];return y===void 0&&(y=this.index.border[x]=this.model.borders.length,this.model.borders.push(x)),y}_addFill(_){const x=this.map.fill.toXml(_);let y=this.index.fill[x];return y===void 0&&(y=this.index.fill[x]=this.model.fills.length,this.model.fills.push(x)),y}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new l({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new l({tag:"dxfs",$:{count:0}}),tableStyles:new l({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new l({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(v){return v.autodrain(),Promise.resolve()}addStyleModel(v,_){switch(_){case r.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const v={numFmtId:p.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(v)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(t,n,s){const r=t("../base-xform");class o extends r{constructor(l){super(),this.model=l}get tag(){return"u"}render(l,d){if((d=d||this.model)===!0)l.leafNode("u");else{const c=o.Attributes[d];c&&l.leafNode("u",c)}}parseOpen(l){l.name==="u"&&(this.model=l.attributes.val||!0)}parseText(){}parseClose(){return!1}}o.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=o},{"../base-xform":32}],137:[function(t,n,s){const r=t("../base-xform"),o=t("./filter-column-xform");n.exports=class extends r{constructor(){super(),this.map={filterColumn:new o}}get tag(){return"autoFilter"}prepare(a){a.columns.forEach((l,d)=>{this.map.filterColumn.prepare(l,{index:d})})}render(a,l){return a.openNode(this.tag,{ref:l.autoFilterRef}),l.columns.forEach(d=>{this.map.filterColumn.render(a,d)}),a.closeNode(),!0}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:return this.model={autoFilterRef:a.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[a.name],this.parser)return this.parseOpen(a),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(a){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"customFilter"}render(o,a){o.leafNode(this.tag,{val:a.val,operator:a.operator})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val,operator:o.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(t,n,s){const r=t("../base-xform"),o=t("../list-xform"),a=t("./custom-filter-xform"),l=t("./filter-xform");n.exports=class extends r{constructor(){super(),this.map={customFilters:new o({tag:"customFilters",count:!1,empty:!0,childXform:new a}),filters:new o({tag:"filters",count:!1,empty:!0,childXform:new l})}}get tag(){return"filterColumn"}prepare(d,c){d.colId=c.index.toString()}render(d,c){return c.customFilters?(d.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(d,c.customFilters),d.closeNode(),!0):(d.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{attributes:c}=d;switch(d.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[d.name],this.parser)return this.parseOpen(d),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(d))}}parseText(){}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"filter"}render(o,a){o.leafNode(this.tag,{val:a.val})}parseOpen(o){return o.name===this.tag&&(this.model={val:o.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"tableColumn"}prepare(o,a){o.id=a.index+1}render(o,a){return o.leafNode(this.tag,{id:a.id.toString(),name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={name:a.name,totalsRowLabel:a.totalsRowLabel,totalsRowFunction:a.totalsRowFunction,dxfId:a.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(t,n,s){const r=t("../base-xform");n.exports=class extends r{get tag(){return"tableStyleInfo"}render(o,a){return o.leafNode(this.tag,{name:a.theme?a.theme:void 0,showFirstColumn:a.showFirstColumn?"1":"0",showLastColumn:a.showLastColumn?"1":"0",showRowStripes:a.showRowStripes?"1":"0",showColumnStripes:a.showColumnStripes?"1":"0"}),!0}parseOpen(o){if(o.name===this.tag){const{attributes:a}=o;return this.model={theme:a.name?a.name:null,showFirstColumn:a.showFirstColumn==="1",showLastColumn:a.showLastColumn==="1",showRowStripes:a.showRowStripes==="1",showColumnStripes:a.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(t,n,s){const r=t("../../../utils/xml-stream"),o=t("../base-xform"),a=t("../list-xform"),l=t("./auto-filter-xform"),d=t("./table-column-xform"),c=t("./table-style-info-xform");class h extends o{constructor(){super(),this.map={autoFilter:new l,tableColumns:new a({tag:"tableColumns",count:!0,empty:!0,childXform:new d}),tableStyleInfo:new c}}prepare(p,f){this.map.autoFilter.prepare(p),this.map.tableColumns.prepare(p.columns,f)}get tag(){return"table"}render(p,f){p.openXml(r.StdDocAttributes),p.openNode(this.tag,{...h.TABLE_ATTRIBUTES,id:f.id,name:f.name,displayName:f.displayName||f.name,ref:f.tableRef,totalsRowCount:f.totalsRow?"1":void 0,totalsRowShown:f.totalsRow?void 0:"1",headerRowCount:f.headerRow?"1":"0"}),this.map.autoFilter.render(p,f),this.map.tableColumns.render(p,f.columns),this.map.tableStyleInfo.render(p,f.style),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;const{name:f,attributes:g}=p;switch(f){case this.tag:this.reset(),this.model={name:g.name,displayName:g.displayName||g.name,tableRef:g.ref,totalsRow:g.totalsRowCount==="1",headerRow:g.headerRowCount==="1"};break;default:this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p)}return!0}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((f,g)=>{this.model.columns[g].filterButton=f.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(p,f){p.columns.forEach(g=>{g.dxfId!==void 0&&(g.style=f.styles.getDxfStyle(g.dxfId))})}}h.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=h},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(t,n,s){(function(r,o){(function(){const a=t("fs"),l=t("jszip"),{PassThrough:d}=t("readable-stream"),c=t("../utils/zip-stream"),h=t("../utils/stream-buf"),u=t("../utils/utils"),p=t("../utils/xml-stream"),{bufferToString:f}=t("../utils/browser-buffer-decode"),g=t("./xform/style/styles-xform"),m=t("./xform/core/core-xform"),v=t("./xform/strings/shared-strings-xform"),_=t("./xform/core/relationships-xform"),x=t("./xform/core/content-types-xform"),y=t("./xform/core/app-xform"),T=t("./xform/book/workbook-xform"),O=t("./xform/sheet/worksheet-xform"),L=t("./xform/drawing/drawing-xform"),R=t("./xform/table/table-xform"),$=t("./xform/comment/comments-xform"),V=t("./xform/comment/vml-notes-xform"),z=t("./xml/theme1");class H{constructor(A){this.workbook=A}async readFile(A,E){if(!await u.fs.exists(A))throw new Error("File not found: "+A);const b=a.createReadStream(A);try{const w=await this.read(b,E);return b.close(),w}catch(w){throw b.close(),w}}parseRels(A){return new _().parseStream(A)}parseWorkbook(A){return new T().parseStream(A)}parseSharedStrings(A){return new v().parseStream(A)}reconcile(A,E){const b=new T,w=new O(E),C=new L,S=new R;b.reconcile(A);const D={media:A.media,mediaIndex:A.mediaIndex};Object.keys(A.drawings).forEach(U=>{const W=A.drawings[U],X=A.drawingRels[U];X&&(D.rels=X.reduce((j,q)=>(j[q.Id]=q,j),{}),(W.anchors||[]).forEach(j=>{const q=j.picture&&j.picture.hyperlinks;q&&D.rels[q.rId]&&(q.hyperlink=D.rels[q.rId].Target,delete q.rId)}),C.reconcile(W,D))});const P={styles:A.styles};Object.values(A.tables).forEach(U=>{S.reconcile(U,P)});const k={styles:A.styles,sharedStrings:A.sharedStrings,media:A.media,mediaIndex:A.mediaIndex,date1904:A.properties&&A.properties.date1904,drawings:A.drawings,comments:A.comments,tables:A.tables,vmlDrawings:A.vmlDrawings};A.worksheets.forEach(U=>{U.relationships=A.worksheetRels[U.sheetNo],w.reconcile(U,k)}),delete A.worksheetHash,delete A.worksheetRels,delete A.globalRels,delete A.sharedStrings,delete A.workbookRels,delete A.sheetDefs,delete A.styles,delete A.mediaIndex,delete A.drawings,delete A.drawingRels,delete A.vmlDrawings}async _processWorksheetEntry(A,E,b,w,C){const S=new O(w),D=await S.parseStream(A);D.sheetNo=b,E.worksheetHash[C]=D,E.worksheets.push(D)}async _processCommentEntry(A,E,b){const w=new $,C=await w.parseStream(A);E.comments[`../${b}.xml`]=C}async _processTableEntry(A,E,b){const w=new R,C=await w.parseStream(A);E.tables[`../tables/${b}.xml`]=C}async _processWorksheetRelsEntry(A,E,b){const w=new _,C=await w.parseStream(A);E.worksheetRels[b]=C}async _processMediaEntry(A,E,b){const w=b.lastIndexOf(".");if(w>=1){const C=b.substr(w+1),S=b.substr(0,w);await new Promise((D,P)=>{const k=new h;k.on("finish",()=>{E.mediaIndex[b]=E.media.length,E.mediaIndex[S]=E.media.length;const U={type:"image",name:S,extension:C,buffer:k.toBuffer()};E.media.push(U),D()}),A.on("error",U=>{P(U)}),A.pipe(k)})}}async _processDrawingEntry(A,E,b){const w=new L,C=await w.parseStream(A);E.drawings[b]=C}async _processDrawingRelsEntry(A,E,b){const w=new _,C=await w.parseStream(A);E.drawingRels[b]=C}async _processVmlDrawingEntry(A,E,b){const w=new V,C=await w.parseStream(A);E.vmlDrawings[`../drawings/${b}.vml`]=C}async _processThemeEntry(A,E,b){await new Promise((w,C)=>{const S=new h;A.on("error",C),S.on("error",C),S.on("finish",()=>{E.themes[b]=S.read().toString(),w()}),A.pipe(S)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(A,E){!A[Symbol.asyncIterator]&&A.pipe&&(A=A.pipe(new d));const b=[];for await(const w of A)b.push(w);return this.load(o.concat(b),E)}async load(A,E){let b;b=E&&E.base64?o.from(A.toString(),"base64"):A;const w={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},C=await l.loadAsync(b);for(const S of Object.values(C.files))if(!S.dir){let D,P=S.name;if(P[0]==="/"&&(P=P.substr(1)),P.match(/xl\/media\//)||P.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))D=new d,D.write(await S.async("nodebuffer"));else{let k;D=new d({writableObjectMode:!0,readableObjectMode:!0}),k=r.browser?f(await S.async("nodebuffer")):await S.async("string");const U=16384;for(let W=0;W<k.length;W+=U)D.write(k.substring(W,W+U))}switch(D.end(),P){case"_rels/.rels":w.globalRels=await this.parseRels(D);break;case"xl/workbook.xml":{const k=await this.parseWorkbook(D);w.sheets=k.sheets,w.definedNames=k.definedNames,w.views=k.views,w.properties=k.properties,w.calcProperties=k.calcProperties;break}case"xl/_rels/workbook.xml.rels":w.workbookRels=await this.parseRels(D);break;case"xl/sharedStrings.xml":w.sharedStrings=new v,await w.sharedStrings.parseStream(D);break;case"xl/styles.xml":w.styles=new g,await w.styles.parseStream(D);break;case"docProps/app.xml":{const k=new y,U=await k.parseStream(D);w.company=U.company,w.manager=U.manager;break}case"docProps/core.xml":{const k=new m,U=await k.parseStream(D);Object.assign(w,U);break}default:{let k=P.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(k){await this._processWorksheetEntry(D,w,k[1],E,P);break}if(k=P.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),k){await this._processWorksheetRelsEntry(D,w,k[1]);break}if(k=P.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),k){await this._processThemeEntry(D,w,k[1]);break}if(k=P.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),k){await this._processMediaEntry(D,w,k[1]);break}if(k=P.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),k){await this._processDrawingEntry(D,w,k[1]);break}if(k=P.match(/xl\/(comments\d+)[.]xml/),k){await this._processCommentEntry(D,w,k[1]);break}if(k=P.match(/xl\/tables\/(table\d+)[.]xml/),k){await this._processTableEntry(D,w,k[1]);break}if(k=P.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),k){await this._processDrawingRelsEntry(D,w,k[1]);break}if(k=P.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),k){await this._processVmlDrawingEntry(D,w,k[1]);break}}}}return this.reconcile(w,E),this.workbook.model=w,this.workbook}async addMedia(A,E){await Promise.all(E.media.map(async b=>{if(b.type==="image"){const w=`xl/media/${b.name}.${b.extension}`;if(b.filename){const C=await function(S,D){return new Promise((P,k)=>{a.readFile(S,D,(U,W)=>{U?k(U):P(W)})})}(b.filename);return A.append(C,{name:w})}if(b.buffer)return A.append(b.buffer,{name:w});if(b.base64){const C=b.base64,S=C.substring(C.indexOf(",")+1);return A.append(S,{name:w,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(A,E){const b=new L,w=new _;E.worksheets.forEach(C=>{const{drawing:S}=C;if(S){b.prepare(S,{});let D=b.toXml(S);A.append(D,{name:`xl/drawings/${S.name}.xml`}),D=w.toXml(S.rels),A.append(D,{name:`xl/drawings/_rels/${S.name}.xml.rels`})}})}addTables(A,E){const b=new R;E.worksheets.forEach(w=>{const{tables:C}=w;C.forEach(S=>{b.prepare(S,{});const D=b.toXml(S);A.append(D,{name:"xl/tables/"+S.target})})})}async addContentTypes(A,E){const b=new x().toXml(E);A.append(b,{name:"[Content_Types].xml"})}async addApp(A,E){const b=new y().toXml(E);A.append(b,{name:"docProps/app.xml"})}async addCore(A,E){const b=new m;A.append(b.toXml(E),{name:"docProps/core.xml"})}async addThemes(A,E){const b=E.themes||{theme1:z};Object.keys(b).forEach(w=>{const C=b[w],S=`xl/theme/${w}.xml`;A.append(C,{name:S})})}async addOfficeRels(A){const E=new _().toXml([{Id:"rId1",Type:H.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:H.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:H.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);A.append(E,{name:"_rels/.rels"})}async addWorkbookRels(A,E){let b=1;const w=[{Id:"rId"+b++,Type:H.RelType.Styles,Target:"styles.xml"},{Id:"rId"+b++,Type:H.RelType.Theme,Target:"theme/theme1.xml"}];E.sharedStrings.count&&w.push({Id:"rId"+b++,Type:H.RelType.SharedStrings,Target:"sharedStrings.xml"}),E.worksheets.forEach(S=>{S.rId="rId"+b++,w.push({Id:S.rId,Type:H.RelType.Worksheet,Target:`worksheets/sheet${S.id}.xml`})});const C=new _().toXml(w);A.append(C,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(A,E){E.sharedStrings&&E.sharedStrings.count&&A.append(E.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(A,E){const{xml:b}=E.styles;b&&A.append(b,{name:"xl/styles.xml"})}async addWorkbook(A,E){const b=new T;A.append(b.toXml(E),{name:"xl/workbook.xml"})}async addWorksheets(A,E){const b=new O,w=new _,C=new $,S=new V;E.worksheets.forEach(D=>{let P=new p;b.render(P,D),A.append(P.xml,{name:`xl/worksheets/sheet${D.id}.xml`}),D.rels&&D.rels.length&&(P=new p,w.render(P,D.rels),A.append(P.xml,{name:`xl/worksheets/_rels/sheet${D.id}.xml.rels`})),D.comments.length>0&&(P=new p,C.render(P,D),A.append(P.xml,{name:`xl/comments${D.id}.xml`}),P=new p,S.render(P,D),A.append(P.xml,{name:`xl/drawings/vmlDrawing${D.id}.vml`}))})}_finalize(A){return new Promise((E,b)=>{A.on("finish",()=>{E(this)}),A.on("error",b),A.finalize()})}prepareModel(A,E){A.creator=A.creator||"ExcelJS",A.lastModifiedBy=A.lastModifiedBy||"ExcelJS",A.created=A.created||new Date,A.modified=A.modified||new Date,A.useSharedStrings=E.useSharedStrings===void 0||E.useSharedStrings,A.useStyles=E.useStyles===void 0||E.useStyles,A.sharedStrings=new v,A.styles=A.useStyles?new g(!0):new g.Mock;const b=new T,w=new O;b.prepare(A);const C={sharedStrings:A.sharedStrings,styles:A.styles,date1904:A.properties.date1904,drawingsCount:0,media:A.media};C.drawings=A.drawings=[],C.commentRefs=A.commentRefs=[];let S=0;A.tables=[],A.worksheets.forEach(D=>{D.tables.forEach(P=>{S++,P.target=`table${S}.xml`,P.id=S,A.tables.push(P)}),w.prepare(D,C)})}async write(A,E){E=E||{};const{model:b}=this.workbook,w=new c.ZipWriter(E.zip);return w.pipe(A),this.prepareModel(b,E),await this.addContentTypes(w,b),await this.addOfficeRels(w,b),await this.addWorkbookRels(w,b),await this.addWorksheets(w,b),await this.addSharedStrings(w,b),await this.addDrawings(w,b),await this.addTables(w,b),await Promise.all([this.addThemes(w,b),this.addStyles(w,b)]),await this.addMedia(w,b),await Promise.all([this.addApp(w,b),this.addCore(w,b)]),await this.addWorkbook(w,b),this._finalize(w)}writeFile(A,E){const b=a.createWriteStream(A);return new Promise((w,C)=>{b.on("finish",()=>{w()}),b.on("error",S=>{C(S)}),this.write(b,E).then(()=>{b.end()}).catch(S=>{C(S)})})}async writeBuffer(A){const E=new h;return await this.write(E,A),E.read()}}H.RelType=t("./rel-type"),n.exports=H}).call(this)}).call(this,t("_process"),t("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(t,n,s){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(t,n,s){(function(r){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvFormatterStream=void 0;const o=t("stream"),a=t("./formatter");class l extends o.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new a.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,h,u){let p=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(f,g)=>f?(p=!0,u(f)):(g&&g.forEach(m=>{this.push(r.from(m,"utf8"))}),p=!0,u()))}catch(f){if(p)throw f;u(f)}}_flush(c){this.rowFormatter.finish((h,u)=>h?c(h):(u&&u.forEach(p=>{this.push(r.from(p,"utf8"))}),c()))}}s.CsvFormatterStream=l}).call(this)}).call(this,t("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FormatterOptions=void 0,s.FormatterOptions=class{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var o;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,r||{}),(r==null?void 0:r.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(r==null?void 0:r.quote)===!0?this.quote='"':(r==null?void 0:r.quote)===!1&&(this.quote=""),typeof(r==null?void 0:r.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((o=r.writeHeaders)===null||o===void 0||o),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(t,n,s){var r=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=void 0;const o=r(t("lodash.isboolean")),a=r(t("lodash.isnil")),l=r(t("lodash.escaperegexp"));s.FieldFormatter=class{constructor(d){this._headers=null,this.formatterOptions=d,d.headers!==null&&(this.headers=d.headers),this.REPLACE_REGEXP=new RegExp(d.quote,"g");const c=`[${d.delimiter}${l.default(d.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(d){this._headers=d}shouldQuote(d,c){const h=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return o.default(h)?h:Array.isArray(h)?h[d]:this._headers!==null&&h[this._headers[d]]}format(d,c,h){const u=(""+(a.default(d)?"":d)).replace(/\0/g,""),{formatterOptions:p}=this;return p.quote!==""&&u.indexOf(p.quote)!==-1?this.quoteField(u.replace(this.REPLACE_REGEXP,p.escapedQuote)):u.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,h)?this.quoteField(u):u}quoteField(d){const{quote:c}=this.formatterOptions;return`${c}${d}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(t,n,s){var r=function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowFormatter=void 0;const o=r(t("lodash.isfunction")),a=r(t("lodash.isequal")),l=t("./FieldFormatter"),d=t("../types");class c{constructor(u){this.rowCount=0,this.formatterOptions=u,this.fieldFormatter=new l.FieldFormatter(u),this.headers=u.headers,this.shouldWriteHeaders=u.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),u.transform&&(this.rowTransform=u.transform)}static isRowHashArray(u){return!!Array.isArray(u)&&Array.isArray(u[0])&&u[0].length===2}static isRowArray(u){return Array.isArray(u)&&!this.isRowHashArray(u)}static gatherHeaders(u){return c.isRowHashArray(u)?u.map(p=>p[0]):Array.isArray(u)?u:Object.keys(u)}static createTransform(u){return d.isSyncTransform(u)?(p,f)=>{let g=null;try{g=u(p)}catch(m){return f(m)}return f(null,g)}:(p,f)=>{u(p,f)}}set rowTransform(u){if(!o.default(u))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(u)}format(u,p){this.callTransformer(u,(f,g)=>{if(f)return p(f);if(!u)return p(null);const m=[];if(g){const{shouldFormatColumns:v,headers:_}=this.checkHeaders(g);if(this.shouldWriteHeaders&&_&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(_,!0)),this.hasWrittenHeaders=!0),v){const x=this.gatherColumns(g);m.push(this.formatColumns(x,!1))}}return p(null,m)})}finish(u){const p=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return u(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));p.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&p.push(this.formatterOptions.rowDelimiter),u(null,p)}checkHeaders(u){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const p=c.gatherHeaders(u);return this.headers=p,this.fieldFormatter.headers=p,this.shouldWriteHeaders?{shouldFormatColumns:!a.default(p,u),headers:p}:{shouldFormatColumns:!0,headers:null}}gatherColumns(u){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(u)?c.isRowHashArray(u)?this.headers.map((p,f)=>{const g=u[f];return g?g[1]:""}):c.isRowArray(u)&&!this.shouldWriteHeaders?u:this.headers.map((p,f)=>u[f]):this.headers.map(p=>u[p])}callTransformer(u,p){return this._rowTransform?this._rowTransform(u,p):p(null,u)}formatColumns(u,p){const f=u.map((m,v)=>this.fieldFormatter.format(m,v,p)).join(this.formatterOptions.delimiter),{rowCount:g}=this;return this.rowCount+=1,g?[this.formatterOptions.rowDelimiter,f].join(""):f}}s.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.FieldFormatter=s.RowFormatter=void 0;var r=t("./RowFormatter");Object.defineProperty(s,"RowFormatter",{enumerable:!0,get:function(){return r.RowFormatter}});var o=t("./FieldFormatter");Object.defineProperty(s,"FieldFormatter",{enumerable:!0,get:function(){return o.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(t,n,s){(function(r){(function(){var o=Object.create?function(v,_,x,y){y===void 0&&(y=x),Object.defineProperty(v,y,{enumerable:!0,get:function(){return _[x]}})}:function(v,_,x,y){y===void 0&&(y=x),v[y]=_[x]},a=Object.create?function(v,_){Object.defineProperty(v,"default",{enumerable:!0,value:_})}:function(v,_){v.default=_},l=function(v){if(v&&v.__esModule)return v;var _={};if(v!=null)for(var x in v)x!=="default"&&Object.prototype.hasOwnProperty.call(v,x)&&o(_,v,x);return a(_,v),_},d=function(v,_){for(var x in v)x==="default"||Object.prototype.hasOwnProperty.call(_,x)||o(_,v,x)};Object.defineProperty(s,"__esModule",{value:!0}),s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=s.FormatterOptions=s.CsvFormatterStream=void 0;const c=t("util"),h=t("stream"),u=l(t("fs")),p=t("./FormatterOptions"),f=t("./CsvFormatterStream");d(t("./types"),s);var g=t("./CsvFormatterStream");Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return g.CsvFormatterStream}});var m=t("./FormatterOptions");Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),s.format=v=>new f.CsvFormatterStream(new p.FormatterOptions(v)),s.write=(v,_)=>{const x=s.format(_),y=c.promisify((T,O)=>{x.write(T,void 0,O)});return v.reduce((T,O)=>T.then(()=>y(O)),Promise.resolve()).then(()=>x.end()).catch(T=>{x.emit("error",T)}),x},s.writeToStream=(v,_,x)=>s.write(_,x).pipe(v),s.writeToBuffer=function(v){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const x=[],y=new h.Writable({write(T,O,L){x.push(T),L()}});return new Promise((T,O)=>{y.on("error",O).on("finish",()=>T(r.concat(x))),s.write(v,_).pipe(y)})},s.writeToString=(v,_)=>s.writeToBuffer(v,_).then(x=>x.toString()),s.writeToPath=(v,_,x)=>{const y=u.createWriteStream(v,{encoding:"utf8"});return s.write(_,x).pipe(y)}}).call(this)}).call(this,t("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncTransform=void 0,s.isSyncTransform=r=>r.length===1},{}],153:[function(t,n,s){(function(r){(function(){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=void 0;const o=t("string_decoder"),a=t("stream"),l=t("./transforms"),d=t("./parser");class c extends a.Transform{constructor(u){super({objectMode:u.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=u,this.parser=new d.Parser(u),this.headerTransformer=new l.HeaderTransformer(u),this.decoder=new o.StringDecoder(u.encoding),this.rowTransformerValidator=new l.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(u){return this.rowTransformerValidator.rowTransform=u,this}validate(u){return this.rowTransformerValidator.rowValidator=u,this}emit(u){if(u==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var p=arguments.length,f=new Array(p>1?p-1:0),g=1;g<p;g++)f[g-1]=arguments[g];return super.emit(u,...f)}_transform(u,p,f){if(this.hasHitRowLimit)return f();const g=c.wrapDoneCallback(f);try{const{lines:m}=this,v=m+this.decoder.write(u),_=this.parse(v,!0);return this.processRows(_,g)}catch(m){return g(m)}}_flush(u){const p=c.wrapDoneCallback(u);if(this.hasHitRowLimit)return p();try{const f=this.lines+this.decoder.end(),g=this.parse(f,!1);return this.processRows(g,p)}catch(f){return p(f)}}parse(u,p){if(!u)return[];const{line:f,rows:g}=this.parser.parse(u,p);return this.lines=f,g}processRows(u,p){const f=u.length,g=m=>{const v=y=>y?p(y):m%100!=0?g(m+1):void r(()=>g(m+1));if(this.checkAndEmitHeaders(),m>=f||this.hasHitRowLimit)return p();if(this.parsedLineCount+=1,this.shouldSkipLine)return v();const _=u[m];this.rowCount+=1,this.parsedRowCount+=1;const x=this.rowCount;return this.transformRow(_,(y,T)=>{if(y)return this.rowCount-=1,v(y);if(!T)return v(new Error("expected transform result"));if(T.isValid){if(T.row)return this.pushRow(T.row,v)}else this.emit("data-invalid",T.row,x,T.reason);return v()})};g(0)}transformRow(u,p){try{this.headerTransformer.transform(u,(f,g)=>f?p(f):g?g.isValid?g.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(g.row,p):this.skipRow(p):(this.rowCount-=1,this.parsedRowCount-=1,p(null,{row:null,isValid:!0})):this.shouldEmitRows?p(null,{isValid:!1,row:u}):this.skipRow(p):p(new Error("Expected result from header transform")))}catch(f){p(f)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(u){return this.rowCount-=1,u(null,{row:null,isValid:!0})}pushRow(u,p){try{this.parserOptions.objectMode?this.push(u):this.push(JSON.stringify(u)),p()}catch(f){p(f)}}static wrapDoneCallback(u){let p=!1;return function(f){if(f){if(p)throw f;return p=!0,void u(f)}for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];u(...m)}}}s.CsvParserStream=c}).call(this)}).call(this,t("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(t,n,s){var r=function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(s,"__esModule",{value:!0}),s.ParserOptions=void 0;const o=r(t("lodash.escaperegexp")),a=r(t("lodash.isnil"));s.ParserOptions=class{constructor(l){var d;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,l||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=o.default(this.delimiter),this.escapeChar=(d=this.escape)!==null&&d!==void 0?d:this.quote,this.supportsComments=!a.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(t,n,s){var r=Object.create?function(g,m,v,_){_===void 0&&(_=v),Object.defineProperty(g,_,{enumerable:!0,get:function(){return m[v]}})}:function(g,m,v,_){_===void 0&&(_=v),g[_]=m[v]},o=Object.create?function(g,m){Object.defineProperty(g,"default",{enumerable:!0,value:m})}:function(g,m){g.default=m},a=function(g){if(g&&g.__esModule)return g;var m={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&r(m,g,v);return o(m,g),m},l=function(g,m){for(var v in g)v==="default"||Object.prototype.hasOwnProperty.call(m,v)||r(m,g,v)};Object.defineProperty(s,"__esModule",{value:!0}),s.parseString=s.parseFile=s.parseStream=s.parse=s.ParserOptions=s.CsvParserStream=void 0;const d=a(t("fs")),c=t("stream"),h=t("./ParserOptions"),u=t("./CsvParserStream");l(t("./types"),s);var p=t("./CsvParserStream");Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return p.CsvParserStream}});var f=t("./ParserOptions");Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return f.ParserOptions}}),s.parse=g=>new u.CsvParserStream(new h.ParserOptions(g)),s.parseStream=(g,m)=>g.pipe(new u.CsvParserStream(new h.ParserOptions(m))),s.parseFile=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return d.createReadStream(g).pipe(new u.CsvParserStream(new h.ParserOptions(m)))},s.parseString=(g,m)=>{const v=new c.Readable;return v.push(g),v.push(null),v.pipe(new u.CsvParserStream(new h.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Parser=void 0;const r=t("./Scanner"),o=t("./RowParser"),a=t("./Token");class l{constructor(c){this.parserOptions=c,this.rowParser=new o.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,h){const u=new r.Scanner({line:l.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:h});return this.parserOptions.supportsComments?this.parseWithComments(u):this.parseWithoutComments(u)}parseWithoutComments(c){const h=[];let u=!0;for(;u;)u=this.parseRow(c,h);return{line:c.line,rows:h}}parseWithComments(c){const{parserOptions:h}=this,u=[];for(let p=c.nextCharacterToken;p!==null;p=c.nextCharacterToken)if(a.Token.isTokenComment(p,h)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:u};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:u};c.truncateToCursor()}else if(!this.parseRow(c,u))break;return{line:c.line,rows:u}}parseRow(c,h){if(!c.nextNonSpaceToken)return!1;const u=this.rowParser.parse(c);return u!==null&&(this.parserOptions.ignoreEmpty&&o.RowParser.isEmptyRow(u)||h.push(u),!0)}}s.Parser=l},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.RowParser=void 0;const r=t("./column"),o=t("./Token");s.RowParser=class{constructor(a){this.parserOptions=a,this.columnParser=new r.ColumnParser(a)}static isEmptyRow(a){return a.join("").replace(/\s+/g,"")===""}parse(a){const{parserOptions:l}=this,{hasMoreData:d}=a,c=a,h=[];let u=this.getStartToken(c,h);for(;u;){if(o.Token.isTokenRowDelimiter(u))return c.advancePastToken(u),!c.hasMoreCharacters&&o.Token.isTokenCarriageReturn(u,l)&&d?null:(c.truncateToCursor(),h);if(!this.shouldSkipColumnParse(c,u,h)){const p=this.columnParser.parse(c);if(p===null)return null;h.push(p)}u=c.nextNonSpaceToken}return d?null:(c.truncateToCursor(),h)}getStartToken(a,l){const d=a.nextNonSpaceToken;return d!==null&&o.Token.isTokenDelimiter(d,this.parserOptions)?(l.push(""),a.nextNonSpaceToken):d}shouldSkipColumnParse(a,l,d){const{parserOptions:c}=this;if(o.Token.isTokenDelimiter(l,c)){a.advancePastToken(l);const h=a.nextCharacterToken;if(!a.hasMoreCharacters||h!==null&&o.Token.isTokenRowDelimiter(h)||h!==null&&o.Token.isTokenDelimiter(h,c))return d.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Scanner=void 0;const r=t("./Token"),o=/((?:\r\n)|\n|\r)/;s.Scanner=class{constructor(a){this.cursor=0,this.line=a.line,this.lineLength=this.line.length,this.parserOptions=a.parserOptions,this.hasMoreData=a.hasMoreData,this.cursor=a.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:a}=this,l=this.parserOptions.NEXT_TOKEN_REGEXP;if(a.search(l)===-1)return null;const d=l.exec(a);if(d==null)return null;const c=d[1],h=this.cursor+(d.index||0);return new r.Token({token:c,startCursor:h,endCursor:h+c.length-1})}get nextCharacterToken(){const{cursor:a,lineLength:l}=this;return l<=a?null:new r.Token({token:this.line[a],startCursor:a,endCursor:a})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const a=o.exec(this.lineFromCursor);return a?(this.cursor+=(a.index||0)+a[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(a){return this.cursor=a,this}advanceToToken(a){return this.cursor=a.startCursor,this}advancePastToken(a){return this.cursor=a.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.Token=void 0,s.Token=class{constructor(r){this.token=r.token,this.startCursor=r.startCursor,this.endCursor=r.endCursor}static isTokenRowDelimiter(r){const o=r.token;return o==="\r"||o===`
`||o===`\r
`}static isTokenCarriageReturn(r,o){return r.token===o.carriageReturn}static isTokenComment(r,o){return o.supportsComments&&!!r&&r.token===o.comment}static isTokenEscapeCharacter(r,o){return r.token===o.escapeChar}static isTokenQuote(r,o){return r.token===o.quote}static isTokenDelimiter(r,o){return r.token===o.delimiter}}},{}],160:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=void 0,s.ColumnFormatter=class{constructor(r){r.trim?this.format=o=>o.trim():r.ltrim?this.format=o=>o.trimLeft():r.rtrim?this.format=o=>o.trimRight():this.format=o=>o}}},{}],161:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnParser=void 0;const r=t("./NonQuotedColumnParser"),o=t("./QuotedColumnParser"),a=t("../Token");s.ColumnParser=class{constructor(l){this.parserOptions=l,this.quotedColumnParser=new o.QuotedColumnParser(l),this.nonQuotedColumnParser=new r.NonQuotedColumnParser(l)}parse(l){const{nextNonSpaceToken:d}=l;return d!==null&&a.Token.isTokenQuote(d,this.parserOptions)?(l.advanceToToken(d),this.quotedColumnParser.parse(l)):this.nonQuotedColumnParser.parse(l)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.NonQuotedColumnParser=void 0;const r=t("./ColumnFormatter"),o=t("../Token");s.NonQuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new r.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const{parserOptions:l}=this,d=[];let c=a.nextCharacterToken;for(;c&&!o.Token.isTokenDelimiter(c,l)&&!o.Token.isTokenRowDelimiter(c);c=a.nextCharacterToken)d.push(c.token),a.advancePastToken(c);return this.columnFormatter.format(d.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=void 0;const r=t("./ColumnFormatter"),o=t("../Token");s.QuotedColumnParser=class{constructor(a){this.parserOptions=a,this.columnFormatter=new r.ColumnFormatter(a)}parse(a){if(!a.hasMoreCharacters)return null;const l=a.cursor,{foundClosingQuote:d,col:c}=this.gatherDataBetweenQuotes(a);if(!d){if(a.advanceTo(l),!a.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${a.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(a),c}gatherDataBetweenQuotes(a){const{parserOptions:l}=this;let d=!1,c=!1;const h=[];let u=a.nextCharacterToken;for(;!c&&u!==null;u=a.nextCharacterToken){const p=o.Token.isTokenQuote(u,l);if(!d&&p)d=!0;else if(d)if(o.Token.isTokenEscapeCharacter(u,l)){a.advancePastToken(u);const f=a.nextCharacterToken;f!==null&&(o.Token.isTokenQuote(f,l)||o.Token.isTokenEscapeCharacter(f,l))?(h.push(f.token),u=f):p?c=!0:h.push(u.token)}else p?c=!0:h.push(u.token);a.advancePastToken(u)}return{col:this.columnFormatter.format(h.join("")),foundClosingQuote:c}}checkForMalformedColumn(a){const{parserOptions:l}=this,{nextNonSpaceToken:d}=a;if(d){const c=o.Token.isTokenDelimiter(d,l),h=o.Token.isTokenRowDelimiter(d);if(!c&&!h){const u=a.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${l.escapedDelimiter}' OR new line got: '${d.token}'. at '${u}`)}a.advanceToToken(d)}else a.hasMoreData||a.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.ColumnFormatter=s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=void 0;var r=t("./ColumnParser");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return r.ColumnParser}});var o=t("./NonQuotedColumnParser");Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}});var a=t("./QuotedColumnParser");Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return a.QuotedColumnParser}});var l=t("./ColumnFormatter");Object.defineProperty(s,"ColumnFormatter",{enumerable:!0,get:function(){return l.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QuotedColumnParser=s.NonQuotedColumnParser=s.ColumnParser=s.Token=s.Scanner=s.RowParser=s.Parser=void 0;var r=t("./Parser");Object.defineProperty(s,"Parser",{enumerable:!0,get:function(){return r.Parser}});var o=t("./RowParser");Object.defineProperty(s,"RowParser",{enumerable:!0,get:function(){return o.RowParser}});var a=t("./Scanner");Object.defineProperty(s,"Scanner",{enumerable:!0,get:function(){return a.Scanner}});var l=t("./Token");Object.defineProperty(s,"Token",{enumerable:!0,get:function(){return l.Token}});var d=t("./column");Object.defineProperty(s,"ColumnParser",{enumerable:!0,get:function(){return d.ColumnParser}}),Object.defineProperty(s,"NonQuotedColumnParser",{enumerable:!0,get:function(){return d.NonQuotedColumnParser}}),Object.defineProperty(s,"QuotedColumnParser",{enumerable:!0,get:function(){return d.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(t,n,s){var r=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=void 0;const o=r(t("lodash.isundefined")),a=r(t("lodash.isfunction")),l=r(t("lodash.uniq")),d=r(t("lodash.groupby"));s.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):a.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,h){return this.shouldMapRow(c)?h(null,this.processRow(c)):h(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:h}=this;if(!this.headersTransform&&h.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:h}=this;if(!h.discardUnmappedColumns&&c.length>this.headersLength){if(!h.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return h.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const h={},{headers:u,headersLength:p}=this;for(let f=0;f<p;f+=1){const g=u[f];if(!o.default(g)){const m=c[f];o.default(m)?h[g]="":h[g]=m}}return h}setHeaders(c){var h;const u=c.filter(p=>!!p);if(l.default(u).length!==u.length){const p=d.default(u),f=Object.keys(p).filter(g=>p[g].length>1);throw new Error("Duplicate headers found "+JSON.stringify(f))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((h=this.headers)===null||h===void 0?void 0:h.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(t,n,s){var r=function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(s,"__esModule",{value:!0}),s.RowTransformerValidator=void 0;const o=r(t("lodash.isfunction")),a=t("../types");class l{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return a.isSyncTransform(c)?(h,u)=>{let p=null;try{p=c(h)}catch(f){return u(f)}return u(null,p)}:c}static createValidator(c){return a.isSyncValidate(c)?(h,u)=>{u(null,{row:h,isValid:c(h)})}:(h,u)=>{c(h,(p,f,g)=>p?u(p):u(null,f?{row:h,isValid:f,reason:g}:{row:h,isValid:!1,reason:g}))}}set rowTransform(c){if(!o.default(c))throw new TypeError("The transform should be a function");this._rowTransform=l.createTransform(c)}set rowValidator(c){if(!o.default(c))throw new TypeError("The validate should be a function");this._rowValidator=l.createValidator(c)}transformAndValidate(c,h){return this.callTransformer(c,(u,p)=>u?h(u):p?this.callValidator(p,(f,g)=>f?h(f):g&&!g.isValid?h(null,{row:p,isValid:!1,reason:g.reason}):h(null,{row:p,isValid:!0})):h(null,{row:null,isValid:!0}))}callTransformer(c,h){return this._rowTransform?this._rowTransform(c,h):h(null,c)}callValidator(c,h){return this._rowValidator?this._rowValidator(c,h):h(null,{row:c,isValid:!0})}}s.RowTransformerValidator=l},{"../types":169,"lodash.isfunction":446}],168:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.HeaderTransformer=s.RowTransformerValidator=void 0;var r=t("./RowTransformerValidator");Object.defineProperty(s,"RowTransformerValidator",{enumerable:!0,get:function(){return r.RowTransformerValidator}});var o=t("./HeaderTransformer");Object.defineProperty(s,"HeaderTransformer",{enumerable:!0,get:function(){return o.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.isSyncValidate=s.isSyncTransform=void 0,s.isSyncTransform=r=>r.length===1,s.isSyncValidate=r=>r.length===1},{}],170:[function(t,n,s){const r=s;r.bignum=t("bn.js"),r.define=t("./asn1/api").define,r.base=t("./asn1/base"),r.constants=t("./asn1/constants"),r.decoders=t("./asn1/decoders"),r.encoders=t("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(t,n,s){const r=t("./encoders"),o=t("./decoders"),a=t("inherits");function l(d,c){this.name=d,this.body=c,this.decoders={},this.encoders={}}s.define=function(d,c){return new l(d,c)},l.prototype._createNamed=function(d){const c=this.name;function h(u){this._initNamed(u,c)}return a(h,d),h.prototype._initNamed=function(u,p){d.call(this,u,p)},new h(this)},l.prototype._getDecoder=function(d){return d=d||"der",this.decoders.hasOwnProperty(d)||(this.decoders[d]=this._createNamed(o[d])),this.decoders[d]},l.prototype.decode=function(d,c,h){return this._getDecoder(c).decode(d,h)},l.prototype._getEncoder=function(d){return d=d||"der",this.encoders.hasOwnProperty(d)||(this.encoders[d]=this._createNamed(r[d])),this.encoders[d]},l.prototype.encode=function(d,c,h){return this._getEncoder(c).encode(d,h)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(t,n,s){const r=t("inherits"),o=t("../base/reporter").Reporter,a=t("safer-buffer").Buffer;function l(c,h){o.call(this,h),a.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function d(c,h){if(Array.isArray(c))this.length=0,this.value=c.map(function(u){return d.isEncoderBuffer(u)||(u=new d(u,h)),this.length+=u.length,u},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return h.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=a.byteLength(c);else{if(!a.isBuffer(c))return h.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}r(l,o),s.DecoderBuffer=l,l.isDecoderBuffer=function(c){return c instanceof l?!0:typeof c=="object"&&a.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},l.prototype.save=function(){return{offset:this.offset,reporter:o.prototype.save.call(this)}},l.prototype.restore=function(c){const h=new l(this.base);return h.offset=c.offset,h.length=this.offset,this.offset=c.offset,o.prototype.restore.call(this,c.reporter),h},l.prototype.isEmpty=function(){return this.offset===this.length},l.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},l.prototype.skip=function(c,h){if(!(this.offset+c<=this.length))return this.error(h||"DecoderBuffer overrun");const u=new l(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+c,this.offset+=c,u},l.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},s.EncoderBuffer=d,d.isEncoderBuffer=function(c){return c instanceof d?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},d.prototype.join=function(c,h){return c||(c=a.alloc(this.length)),h||(h=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(c,h),h+=u.length}):(typeof this.value=="number"?c[h]=this.value:typeof this.value=="string"?c.write(this.value,h):a.isBuffer(this.value)&&this.value.copy(c,h),h+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(t,n,s){const r=s;r.Reporter=t("./reporter").Reporter,r.DecoderBuffer=t("./buffer").DecoderBuffer,r.EncoderBuffer=t("./buffer").EncoderBuffer,r.Node=t("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(t,n,s){const r=t("../base/reporter").Reporter,o=t("../base/buffer").EncoderBuffer,a=t("../base/buffer").DecoderBuffer,l=t("minimalistic-assert"),d=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(d);function h(p,f,g){const m={};this._baseState=m,m.name=g,m.enc=p,m.parent=f||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=h;const u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];h.prototype.clone=function(){const p=this._baseState,f={};u.forEach(function(m){f[m]=p[m]});const g=new this.constructor(f.parent);return g._baseState=f,g},h.prototype._wrap=function(){const p=this._baseState;c.forEach(function(f){this[f]=function(){const g=new this.constructor(this);return p.children.push(g),g[f].apply(g,arguments)}},this)},h.prototype._init=function(p){const f=this._baseState;l(f.parent===null),p.call(this),f.children=f.children.filter(function(g){return g._baseState.parent===this},this),l.equal(f.children.length,1,"Root node can have only one child")},h.prototype._useArgs=function(p){const f=this._baseState,g=p.filter(function(m){return m instanceof this.constructor},this);p=p.filter(function(m){return!(m instanceof this.constructor)},this),g.length!==0&&(l(f.children===null),f.children=g,g.forEach(function(m){m._baseState.parent=this},this)),p.length!==0&&(l(f.args===null),f.args=p,f.reverseArgs=p.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const v={};return Object.keys(m).forEach(function(_){_==(0|_)&&(_|=0);const x=m[_];v[x]=_}),v}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(p){h.prototype[p]=function(){const f=this._baseState;throw new Error(p+" not implemented for encoding: "+f.enc)}}),d.forEach(function(p){h.prototype[p]=function(){const f=this._baseState,g=Array.prototype.slice.call(arguments);return l(f.tag===null),f.tag=p,this._useArgs(g),this}}),h.prototype.use=function(p){l(p);const f=this._baseState;return l(f.use===null),f.use=p,this},h.prototype.optional=function(){return this._baseState.optional=!0,this},h.prototype.def=function(p){const f=this._baseState;return l(f.default===null),f.default=p,f.optional=!0,this},h.prototype.explicit=function(p){const f=this._baseState;return l(f.explicit===null&&f.implicit===null),f.explicit=p,this},h.prototype.implicit=function(p){const f=this._baseState;return l(f.explicit===null&&f.implicit===null),f.implicit=p,this},h.prototype.obj=function(){const p=this._baseState,f=Array.prototype.slice.call(arguments);return p.obj=!0,f.length!==0&&this._useArgs(f),this},h.prototype.key=function(p){const f=this._baseState;return l(f.key===null),f.key=p,this},h.prototype.any=function(){return this._baseState.any=!0,this},h.prototype.choice=function(p){const f=this._baseState;return l(f.choice===null),f.choice=p,this._useArgs(Object.keys(p).map(function(g){return p[g]})),this},h.prototype.contains=function(p){const f=this._baseState;return l(f.use===null),f.contains=p,this},h.prototype._decode=function(p,f){const g=this._baseState;if(g.parent===null)return p.wrapResult(g.children[0]._decode(p,f));let m,v=g.default,_=!0,x=null;if(g.key!==null&&(x=p.enterKey(g.key)),g.optional){let y=null;if(g.explicit!==null?y=g.explicit:g.implicit!==null?y=g.implicit:g.tag!==null&&(y=g.tag),y!==null||g.any){if(_=this._peekTag(p,y,g.any),p.isError(_))return _}else{const T=p.save();try{g.choice===null?this._decodeGeneric(g.tag,p,f):this._decodeChoice(p,f),_=!0}catch{_=!1}p.restore(T)}}if(g.obj&&_&&(m=p.enterObject()),_){if(g.explicit!==null){const T=this._decodeTag(p,g.explicit);if(p.isError(T))return T;p=T}const y=p.offset;if(g.use===null&&g.choice===null){let T;g.any&&(T=p.save());const O=this._decodeTag(p,g.implicit!==null?g.implicit:g.tag,g.any);if(p.isError(O))return O;g.any?v=p.raw(T):p=O}if(f&&f.track&&g.tag!==null&&f.track(p.path(),y,p.length,"tagged"),f&&f.track&&g.tag!==null&&f.track(p.path(),p.offset,p.length,"content"),g.any||(v=g.choice===null?this._decodeGeneric(g.tag,p,f):this._decodeChoice(p,f)),p.isError(v))return v;if(g.any||g.choice!==null||g.children===null||g.children.forEach(function(T){T._decode(p,f)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){const T=new a(v);v=this._getUse(g.contains,p._reporterState.obj)._decode(T,f)}}return g.obj&&_&&(v=p.leaveObject(m)),g.key===null||v===null&&_!==!0?x!==null&&p.exitKey(x):p.leaveKey(x,g.key,v),v},h.prototype._decodeGeneric=function(p,f,g){const m=this._baseState;return p==="seq"||p==="set"?null:p==="seqof"||p==="setof"?this._decodeList(f,p,m.args[0],g):/str$/.test(p)?this._decodeStr(f,p,g):p==="objid"&&m.args?this._decodeObjid(f,m.args[0],m.args[1],g):p==="objid"?this._decodeObjid(f,null,null,g):p==="gentime"||p==="utctime"?this._decodeTime(f,p,g):p==="null_"?this._decodeNull(f,g):p==="bool"?this._decodeBool(f,g):p==="objDesc"?this._decodeStr(f,p,g):p==="int"||p==="enum"?this._decodeInt(f,m.args&&m.args[0],g):m.use!==null?this._getUse(m.use,f._reporterState.obj)._decode(f,g):f.error("unknown tag: "+p)},h.prototype._getUse=function(p,f){const g=this._baseState;return g.useDecoder=this._use(p,f),l(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},h.prototype._decodeChoice=function(p,f){const g=this._baseState;let m=null,v=!1;return Object.keys(g.choice).some(function(_){const x=p.save(),y=g.choice[_];try{const T=y._decode(p,f);if(p.isError(T))return!1;m={type:_,value:T},v=!0}catch{return p.restore(x),!1}return!0},this),v?m:p.error("Choice not matched")},h.prototype._createEncoderBuffer=function(p){return new o(p,this.reporter)},h.prototype._encode=function(p,f,g){const m=this._baseState;if(m.default!==null&&m.default===p)return;const v=this._encodeValue(p,f,g);return v===void 0||this._skipDefault(v,f,g)?void 0:v},h.prototype._encodeValue=function(p,f,g){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(p,f||new r);let v=null;if(this.reporter=f,m.optional&&p===void 0){if(m.default===null)return;p=m.default}let _=null,x=!1;if(m.any)v=this._createEncoderBuffer(p);else if(m.choice)v=this._encodeChoice(p,f);else if(m.contains)_=this._getUse(m.contains,g)._encode(p,f),x=!0;else if(m.children)_=m.children.map(function(y){if(y._baseState.tag==="null_")return y._encode(null,f,p);if(y._baseState.key===null)return f.error("Child should have a key");const T=f.enterKey(y._baseState.key);if(typeof p!="object")return f.error("Child expected, but input is not object");const O=y._encode(p[y._baseState.key],f,p);return f.leaveKey(T),O},this).filter(function(y){return y}),_=this._createEncoderBuffer(_);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return f.error("Too many args for : "+m.tag);if(!Array.isArray(p))return f.error("seqof/setof, but data is not Array");const y=this.clone();y._baseState.implicit=null,_=this._createEncoderBuffer(p.map(function(T){const O=this._baseState;return this._getUse(O.args[0],p)._encode(T,f)},y))}else m.use!==null?v=this._getUse(m.use,g)._encode(p,f):(_=this._encodePrimitive(m.tag,p),x=!0);if(!m.any&&m.choice===null){const y=m.implicit!==null?m.implicit:m.tag,T=m.implicit===null?"universal":"context";y===null?m.use===null&&f.error("Tag could be omitted only for .use()"):m.use===null&&(v=this._encodeComposite(y,x,T,_))}return m.explicit!==null&&(v=this._encodeComposite(m.explicit,!1,"context",v)),v},h.prototype._encodeChoice=function(p,f){const g=this._baseState,m=g.choice[p.type];return m||l(!1,p.type+" not found in "+JSON.stringify(Object.keys(g.choice))),m._encode(p.value,f)},h.prototype._encodePrimitive=function(p,f){const g=this._baseState;if(/str$/.test(p))return this._encodeStr(f,p);if(p==="objid"&&g.args)return this._encodeObjid(f,g.reverseArgs[0],g.args[1]);if(p==="objid")return this._encodeObjid(f,null,null);if(p==="gentime"||p==="utctime")return this._encodeTime(f,p);if(p==="null_")return this._encodeNull();if(p==="int"||p==="enum")return this._encodeInt(f,g.args&&g.reverseArgs[0]);if(p==="bool")return this._encodeBool(f);if(p==="objDesc")return this._encodeStr(f,p);throw new Error("Unsupported tag: "+p)},h.prototype._isNumstr=function(p){return/^[0-9 ]*$/.test(p)},h.prototype._isPrintstr=function(p){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(p)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(t,n,s){const r=t("inherits");function o(l){this._reporterState={obj:null,path:[],options:l||{},errors:[]}}function a(l,d){this.path=l,this.rethrow(d)}s.Reporter=o,o.prototype.isError=function(l){return l instanceof a},o.prototype.save=function(){const l=this._reporterState;return{obj:l.obj,pathLen:l.path.length}},o.prototype.restore=function(l){const d=this._reporterState;d.obj=l.obj,d.path=d.path.slice(0,l.pathLen)},o.prototype.enterKey=function(l){return this._reporterState.path.push(l)},o.prototype.exitKey=function(l){const d=this._reporterState;d.path=d.path.slice(0,l-1)},o.prototype.leaveKey=function(l,d,c){const h=this._reporterState;this.exitKey(l),h.obj!==null&&(h.obj[d]=c)},o.prototype.path=function(){return this._reporterState.path.join("/")},o.prototype.enterObject=function(){const l=this._reporterState,d=l.obj;return l.obj={},d},o.prototype.leaveObject=function(l){const d=this._reporterState,c=d.obj;return d.obj=l,c},o.prototype.error=function(l){let d;const c=this._reporterState,h=l instanceof a;if(d=h?l:new a(c.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),l.message||l,l.stack),!c.options.partial)throw d;return h||c.errors.push(d),d},o.prototype.wrapResult=function(l){const d=this._reporterState;return d.options.partial?{result:this.isError(l)?null:l,errors:d.errors}:l},r(a,Error),a.prototype.rethrow=function(l){if(this.message=l+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(d){this.stack=d.stack}return this}},{inherits:440}],176:[function(t,n,s){function r(o){const a={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const d=o[l];a[d]=l}),a}s.tagClass={0:"universal",1:"application",2:"context",3:"private"},s.tagClassByName=r(s.tagClass),s.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},s.tagByName=r(s.tag)},{}],177:[function(t,n,s){const r=s;r._reverse=function(o){const a={};return Object.keys(o).forEach(function(l){(0|l)==l&&(l|=0);const d=o[l];a[d]=l}),a},r.der=t("./der")},{"./der":176}],178:[function(t,n,s){const r=t("inherits"),o=t("bn.js"),a=t("../base/buffer").DecoderBuffer,l=t("../base/node"),d=t("../constants/der");function c(f){this.enc="der",this.name=f.name,this.entity=f,this.tree=new h,this.tree._init(f.body)}function h(f){l.call(this,"der",f)}function u(f,g){let m=f.readUInt8(g);if(f.isError(m))return m;const v=d.tagClass[m>>6],_=(32&m)==0;if((31&m)==31){let x=m;for(m=0;(128&x)==128;){if(x=f.readUInt8(g),f.isError(x))return x;m<<=7,m|=127&x}}else m&=31;return{cls:v,primitive:_,tag:m,tagStr:d.tag[m]}}function p(f,g,m){let v=f.readUInt8(m);if(f.isError(v))return v;if(!g&&v===128)return null;if(!(128&v))return v;const _=127&v;if(_>4)return f.error("length octect is too long");v=0;for(let x=0;x<_;x++){v<<=8;const y=f.readUInt8(m);if(f.isError(y))return y;v|=y}return v}n.exports=c,c.prototype.decode=function(f,g){return a.isDecoderBuffer(f)||(f=new a(f,g)),this.tree._decode(f,g)},r(h,l),h.prototype._peekTag=function(f,g,m){if(f.isEmpty())return!1;const v=f.save(),_=u(f,'Failed to peek tag: "'+g+'"');return f.isError(_)?_:(f.restore(v),_.tag===g||_.tagStr===g||_.tagStr+"of"===g||m)},h.prototype._decodeTag=function(f,g,m){const v=u(f,'Failed to decode tag of "'+g+'"');if(f.isError(v))return v;let _=p(f,v.primitive,'Failed to get length of "'+g+'"');if(f.isError(_))return _;if(!m&&v.tag!==g&&v.tagStr!==g&&v.tagStr+"of"!==g)return f.error('Failed to match tag: "'+g+'"');if(v.primitive||_!==null)return f.skip(_,'Failed to match body of: "'+g+'"');const x=f.save(),y=this._skipUntilEnd(f,'Failed to skip indefinite length body: "'+this.tag+'"');return f.isError(y)?y:(_=f.offset-x.offset,f.restore(x),f.skip(_,'Failed to match body of: "'+g+'"'))},h.prototype._skipUntilEnd=function(f,g){for(;;){const m=u(f,g);if(f.isError(m))return m;const v=p(f,m.primitive,g);if(f.isError(v))return v;let _;if(_=m.primitive||v!==null?f.skip(v):this._skipUntilEnd(f,g),f.isError(_))return _;if(m.tagStr==="end")break}},h.prototype._decodeList=function(f,g,m,v){const _=[];for(;!f.isEmpty();){const x=this._peekTag(f,"end");if(f.isError(x))return x;const y=m.decode(f,"der",v);if(f.isError(y)&&x)break;_.push(y)}return _},h.prototype._decodeStr=function(f,g){if(g==="bitstr"){const m=f.readUInt8();return f.isError(m)?m:{unused:m,data:f.raw()}}if(g==="bmpstr"){const m=f.raw();if(m.length%2==1)return f.error("Decoding of string type: bmpstr length mismatch");let v="";for(let _=0;_<m.length/2;_++)v+=String.fromCharCode(m.readUInt16BE(2*_));return v}if(g==="numstr"){const m=f.raw().toString("ascii");return this._isNumstr(m)?m:f.error("Decoding of string type: numstr unsupported characters")}if(g==="octstr"||g==="objDesc")return f.raw();if(g==="printstr"){const m=f.raw().toString("ascii");return this._isPrintstr(m)?m:f.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(g)?f.raw().toString():f.error("Decoding of string type: "+g+" unsupported")},h.prototype._decodeObjid=function(f,g,m){let v;const _=[];let x=0,y=0;for(;!f.isEmpty();)y=f.readUInt8(),x<<=7,x|=127&y,!(128&y)&&(_.push(x),x=0);128&y&&_.push(x);const T=_[0]/40|0,O=_[0]%40;if(v=m?_:[T,O].concat(_.slice(1)),g){let L=g[v.join(" ")];L===void 0&&(L=g[v.join(".")]),L!==void 0&&(v=L)}return v},h.prototype._decodeTime=function(f,g){const m=f.raw().toString();let v,_,x,y,T,O;if(g==="gentime")v=0|m.slice(0,4),_=0|m.slice(4,6),x=0|m.slice(6,8),y=0|m.slice(8,10),T=0|m.slice(10,12),O=0|m.slice(12,14);else{if(g!=="utctime")return f.error("Decoding "+g+" time is not supported yet");v=0|m.slice(0,2),_=0|m.slice(2,4),x=0|m.slice(4,6),y=0|m.slice(6,8),T=0|m.slice(8,10),O=0|m.slice(10,12),v=v<70?2e3+v:1900+v}return Date.UTC(v,_-1,x,y,T,O,0)},h.prototype._decodeNull=function(){return null},h.prototype._decodeBool=function(f){const g=f.readUInt8();return f.isError(g)?g:g!==0},h.prototype._decodeInt=function(f,g){const m=f.raw();let v=new o(m);return g&&(v=g[v.toString(10)]||v),v},h.prototype._use=function(f,g){return typeof f=="function"&&(f=f(g)),f._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(t,n,s){const r=s;r.der=t("./der"),r.pem=t("./pem")},{"./der":178,"./pem":180}],180:[function(t,n,s){const r=t("inherits"),o=t("safer-buffer").Buffer,a=t("./der");function l(d){a.call(this,d),this.enc="pem"}r(l,a),n.exports=l,l.prototype.decode=function(d,c){const h=d.toString().split(/[\r\n]+/g),u=c.label.toUpperCase(),p=/^-----(BEGIN|END) ([^-]+)-----$/;let f=-1,g=-1;for(let _=0;_<h.length;_++){const x=h[_].match(p);if(x!==null&&x[2]===u){if(f!==-1){if(x[1]!=="END")break;g=_;break}if(x[1]!=="BEGIN")break;f=_}}if(f===-1||g===-1)throw new Error("PEM section not found for: "+u);const m=h.slice(f+1,g).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const v=o.from(m,"base64");return a.prototype.decode.call(this,v,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(t,n,s){const r=t("inherits"),o=t("safer-buffer").Buffer,a=t("../base/node"),l=t("../constants/der");function d(u){this.enc="der",this.name=u.name,this.entity=u,this.tree=new c,this.tree._init(u.body)}function c(u){a.call(this,"der",u)}function h(u){return u<10?"0"+u:u}n.exports=d,d.prototype.encode=function(u,p){return this.tree._encode(u,p).join()},r(c,a),c.prototype._encodeComposite=function(u,p,f,g){const m=function(x,y,T,O){let L;if(x==="seqof"?x="seq":x==="setof"&&(x="set"),l.tagByName.hasOwnProperty(x))L=l.tagByName[x];else{if(typeof x!="number"||(0|x)!==x)return O.error("Unknown tag: "+x);L=x}return L>=31?O.error("Multi-octet tag encoding unsupported"):(y||(L|=32),L|=l.tagClassByName[T||"universal"]<<6,L)}(u,p,f,this.reporter);if(g.length<128){const x=o.alloc(2);return x[0]=m,x[1]=g.length,this._createEncoderBuffer([x,g])}let v=1;for(let x=g.length;x>=256;x>>=8)v++;const _=o.alloc(2+v);_[0]=m,_[1]=128|v;for(let x=1+v,y=g.length;y>0;x--,y>>=8)_[x]=255&y;return this._createEncoderBuffer([_,g])},c.prototype._encodeStr=function(u,p){if(p==="bitstr")return this._createEncoderBuffer([0|u.unused,u.data]);if(p==="bmpstr"){const f=o.alloc(2*u.length);for(let g=0;g<u.length;g++)f.writeUInt16BE(u.charCodeAt(g),2*g);return this._createEncoderBuffer(f)}return p==="numstr"?this._isNumstr(u)?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: numstr supports only digits and space"):p==="printstr"?this._isPrintstr(u)?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(p)||p==="objDesc"?this._createEncoderBuffer(u):this.reporter.error("Encoding of string type: "+p+" unsupported")},c.prototype._encodeObjid=function(u,p,f){if(typeof u=="string"){if(!p)return this.reporter.error("string objid given, but no values map found");if(!p.hasOwnProperty(u))return this.reporter.error("objid not found in values map");u=p[u].split(/[\s.]+/g);for(let _=0;_<u.length;_++)u[_]|=0}else if(Array.isArray(u)){u=u.slice();for(let _=0;_<u.length;_++)u[_]|=0}if(!Array.isArray(u))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(u));if(!f){if(u[1]>=40)return this.reporter.error("Second objid identifier OOB");u.splice(0,2,40*u[0]+u[1])}let g=0;for(let _=0;_<u.length;_++){let x=u[_];for(g++;x>=128;x>>=7)g++}const m=o.alloc(g);let v=m.length-1;for(let _=u.length-1;_>=0;_--){let x=u[_];for(m[v--]=127&x;(x>>=7)>0;)m[v--]=128|127&x}return this._createEncoderBuffer(m)},c.prototype._encodeTime=function(u,p){let f;const g=new Date(u);return p==="gentime"?f=[h(g.getUTCFullYear()),h(g.getUTCMonth()+1),h(g.getUTCDate()),h(g.getUTCHours()),h(g.getUTCMinutes()),h(g.getUTCSeconds()),"Z"].join(""):p==="utctime"?f=[h(g.getUTCFullYear()%100),h(g.getUTCMonth()+1),h(g.getUTCDate()),h(g.getUTCHours()),h(g.getUTCMinutes()),h(g.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+p+" time is not supported yet"),this._encodeStr(f,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(u,p){if(typeof u=="string"){if(!p)return this.reporter.error("String int or enum given, but no values map");if(!p.hasOwnProperty(u))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(u));u=p[u]}if(typeof u!="number"&&!o.isBuffer(u)){const m=u.toArray();!u.sign&&128&m[0]&&m.unshift(0),u=o.from(m)}if(o.isBuffer(u)){let m=u.length;u.length===0&&m++;const v=o.alloc(m);return u.copy(v),u.length===0&&(v[0]=0),this._createEncoderBuffer(v)}if(u<128)return this._createEncoderBuffer(u);if(u<256)return this._createEncoderBuffer([0,u]);let f=1;for(let m=u;m>=256;m>>=8)f++;const g=new Array(f);for(let m=g.length-1;m>=0;m--)g[m]=255&u,u>>=8;return 128&g[0]&&g.unshift(0),this._createEncoderBuffer(o.from(g))},c.prototype._encodeBool=function(u){return this._createEncoderBuffer(u?255:0)},c.prototype._use=function(u,p){return typeof u=="function"&&(u=u(p)),u._getEncoder("der").tree},c.prototype._skipDefault=function(u,p,f){const g=this._baseState;let m;if(g.default===null)return!1;const v=u.join();if(g.defaultBuffer===void 0&&(g.defaultBuffer=this._encodeValue(g.default,p,f).join()),v.length!==g.defaultBuffer.length)return!1;for(m=0;m<v.length;m++)if(v[m]!==g.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(t,n,s){const r=s;r.der=t("./der"),r.pem=t("./pem")},{"./der":181,"./pem":183}],183:[function(t,n,s){const r=t("inherits"),o=t("./der");function a(l){o.call(this,l),this.enc="pem"}r(a,o),n.exports=a,a.prototype.encode=function(l,d){const c=o.prototype.encode.call(this,l).toString("base64"),h=["-----BEGIN "+d.label+"-----"];for(let u=0;u<c.length;u+=64)h.push(c.slice(u,u+64));return h.push("-----END "+d.label+"-----"),h.join(`
`)}},{"./der":181,inherits:440}],184:[function(t,n,s){(function(r,o){function a(I,A){if(!I)throw new Error(A||"Assertion failed")}function l(I,A){I.super_=A;var E=function(){};E.prototype=A.prototype,I.prototype=new E,I.prototype.constructor=I}function d(I,A,E){if(d.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&(A!=="le"&&A!=="be"||(E=A,A=10),this._init(I||0,A||10,E||"be"))}var c;typeof r=="object"?r.exports=d:(void 0).BN=d,d.BN=d,d.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function h(I,A){var E=I.charCodeAt(A);return E>=65&&E<=70?E-55:E>=97&&E<=102?E-87:E-48&15}function u(I,A,E){var b=h(I,E);return E-1>=A&&(b|=h(I,E-1)<<4),b}function p(I,A,E,b){for(var w=0,C=Math.min(I.length,E),S=A;S<C;S++){var D=I.charCodeAt(S)-48;w*=b,w+=D>=49?D-49+10:D>=17?D-17+10:D}return w}d.isBN=function(I){return I instanceof d||I!==null&&typeof I=="object"&&I.constructor.wordSize===d.wordSize&&Array.isArray(I.words)},d.max=function(I,A){return I.cmp(A)>0?I:A},d.min=function(I,A){return I.cmp(A)<0?I:A},d.prototype._init=function(I,A,E){if(typeof I=="number")return this._initNumber(I,A,E);if(typeof I=="object")return this._initArray(I,A,E);A==="hex"&&(A=16),a(A===(0|A)&&A>=2&&A<=36);var b=0;(I=I.toString().replace(/\s+/g,""))[0]==="-"&&(b++,this.negative=1),b<I.length&&(A===16?this._parseHex(I,b,E):(this._parseBase(I,A,b),E==="le"&&this._initArray(this.toArray(),A,E)))},d.prototype._initNumber=function(I,A,E){I<0&&(this.negative=1,I=-I),I<67108864?(this.words=[67108863&I],this.length=1):I<4503599627370496?(this.words=[67108863&I,I/67108864&67108863],this.length=2):(a(I<9007199254740992),this.words=[67108863&I,I/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),A,E)},d.prototype._initArray=function(I,A,E){if(a(typeof I.length=="number"),I.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(I.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var w,C,S=0;if(E==="be")for(b=I.length-1,w=0;b>=0;b-=3)C=I[b]|I[b-1]<<8|I[b-2]<<16,this.words[w]|=C<<S&67108863,this.words[w+1]=C>>>26-S&67108863,(S+=24)>=26&&(S-=26,w++);else if(E==="le")for(b=0,w=0;b<I.length;b+=3)C=I[b]|I[b+1]<<8|I[b+2]<<16,this.words[w]|=C<<S&67108863,this.words[w+1]=C>>>26-S&67108863,(S+=24)>=26&&(S-=26,w++);return this.strip()},d.prototype._parseHex=function(I,A,E){this.length=Math.ceil((I.length-A)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var w,C=0,S=0;if(E==="be")for(b=I.length-1;b>=A;b-=2)w=u(I,A,b)<<C,this.words[S]|=67108863&w,C>=18?(C-=18,S+=1,this.words[S]|=w>>>26):C+=8;else for(b=(I.length-A)%2==0?A+1:A;b<I.length;b+=2)w=u(I,A,b)<<C,this.words[S]|=67108863&w,C>=18?(C-=18,S+=1,this.words[S]|=w>>>26):C+=8;this.strip()},d.prototype._parseBase=function(I,A,E){this.words=[0],this.length=1;for(var b=0,w=1;w<=67108863;w*=A)b++;b--,w=w/A|0;for(var C=I.length-E,S=C%b,D=Math.min(C,C-S)+E,P=0,k=E;k<D;k+=b)P=p(I,k,k+b,A),this.imuln(w),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P);if(S!==0){var U=1;for(P=p(I,k,I.length,A),k=0;k<S;k++)U*=A;this.imuln(U),this.words[0]+P<67108864?this.words[0]+=P:this._iaddn(P)}this.strip()},d.prototype.copy=function(I){I.words=new Array(this.length);for(var A=0;A<this.length;A++)I.words[A]=this.words[A];I.length=this.length,I.negative=this.negative,I.red=this.red},d.prototype.clone=function(){var I=new d(null);return this.copy(I),I},d.prototype._expand=function(I){for(;this.length<I;)this.words[this.length++]=0;return this},d.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},d.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function v(I,A,E){E.negative=A.negative^I.negative;var b=I.length+A.length|0;E.length=b,b=b-1|0;var w=0|I.words[0],C=0|A.words[0],S=w*C,D=67108863&S,P=S/67108864|0;E.words[0]=D;for(var k=1;k<b;k++){for(var U=P>>>26,W=67108863&P,X=Math.min(k,A.length-1),j=Math.max(0,k-I.length+1);j<=X;j++){var q=k-j|0;U+=(S=(w=0|I.words[q])*(C=0|A.words[j])+W)/67108864|0,W=67108863&S}E.words[k]=0|W,P=0|U}return P!==0?E.words[k]=0|P:E.length--,E.strip()}d.prototype.toString=function(I,A){var E;if(A=0|A||1,(I=I||10)===16||I==="hex"){E="";for(var b=0,w=0,C=0;C<this.length;C++){var S=this.words[C],D=(16777215&(S<<b|w)).toString(16);E=(w=S>>>24-b&16777215)!==0||C!==this.length-1?f[6-D.length]+D+E:D+E,(b+=2)>=26&&(b-=26,C--)}for(w!==0&&(E=w.toString(16)+E);E.length%A!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(I===(0|I)&&I>=2&&I<=36){var P=g[I],k=m[I];E="";var U=this.clone();for(U.negative=0;!U.isZero();){var W=U.modn(k).toString(I);E=(U=U.idivn(k)).isZero()?W+E:f[P-W.length]+W+E}for(this.isZero()&&(E="0"+E);E.length%A!=0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}a(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var I=this.words[0];return this.length===2?I+=67108864*this.words[1]:this.length===3&&this.words[2]===1?I+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-I:I},d.prototype.toJSON=function(){return this.toString(16)},d.prototype.toBuffer=function(I,A){return a(c!==void 0),this.toArrayLike(c,I,A)},d.prototype.toArray=function(I,A){return this.toArrayLike(Array,I,A)},d.prototype.toArrayLike=function(I,A,E){var b=this.byteLength(),w=E||Math.max(1,b);a(b<=w,"byte array longer than desired length"),a(w>0,"Requested array length <= 0"),this.strip();var C,S,D=A==="le",P=new I(w),k=this.clone();if(D){for(S=0;!k.isZero();S++)C=k.andln(255),k.iushrn(8),P[S]=C;for(;S<w;S++)P[S]=0}else{for(S=0;S<w-b;S++)P[S]=0;for(S=0;!k.isZero();S++)C=k.andln(255),k.iushrn(8),P[w-S-1]=C}return P},Math.clz32?d.prototype._countBits=function(I){return 32-Math.clz32(I)}:d.prototype._countBits=function(I){var A=I,E=0;return A>=4096&&(E+=13,A>>>=13),A>=64&&(E+=7,A>>>=7),A>=8&&(E+=4,A>>>=4),A>=2&&(E+=2,A>>>=2),E+A},d.prototype._zeroBits=function(I){if(I===0)return 26;var A=I,E=0;return!(8191&A)&&(E+=13,A>>>=13),!(127&A)&&(E+=7,A>>>=7),!(15&A)&&(E+=4,A>>>=4),!(3&A)&&(E+=2,A>>>=2),!(1&A)&&E++,E},d.prototype.bitLength=function(){var I=this.words[this.length-1],A=this._countBits(I);return 26*(this.length-1)+A},d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var I=0,A=0;A<this.length;A++){var E=this._zeroBits(this.words[A]);if(I+=E,E!==26)break}return I},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(I){return this.negative!==0?this.abs().inotn(I).iaddn(1):this.clone()},d.prototype.fromTwos=function(I){return this.testn(I-1)?this.notn(I).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(I){for(;this.length<I.length;)this.words[this.length++]=0;for(var A=0;A<I.length;A++)this.words[A]=this.words[A]|I.words[A];return this.strip()},d.prototype.ior=function(I){return a((this.negative|I.negative)==0),this.iuor(I)},d.prototype.or=function(I){return this.length>I.length?this.clone().ior(I):I.clone().ior(this)},d.prototype.uor=function(I){return this.length>I.length?this.clone().iuor(I):I.clone().iuor(this)},d.prototype.iuand=function(I){var A;A=this.length>I.length?I:this;for(var E=0;E<A.length;E++)this.words[E]=this.words[E]&I.words[E];return this.length=A.length,this.strip()},d.prototype.iand=function(I){return a((this.negative|I.negative)==0),this.iuand(I)},d.prototype.and=function(I){return this.length>I.length?this.clone().iand(I):I.clone().iand(this)},d.prototype.uand=function(I){return this.length>I.length?this.clone().iuand(I):I.clone().iuand(this)},d.prototype.iuxor=function(I){var A,E;this.length>I.length?(A=this,E=I):(A=I,E=this);for(var b=0;b<E.length;b++)this.words[b]=A.words[b]^E.words[b];if(this!==A)for(;b<A.length;b++)this.words[b]=A.words[b];return this.length=A.length,this.strip()},d.prototype.ixor=function(I){return a((this.negative|I.negative)==0),this.iuxor(I)},d.prototype.xor=function(I){return this.length>I.length?this.clone().ixor(I):I.clone().ixor(this)},d.prototype.uxor=function(I){return this.length>I.length?this.clone().iuxor(I):I.clone().iuxor(this)},d.prototype.inotn=function(I){a(typeof I=="number"&&I>=0);var A=0|Math.ceil(I/26),E=I%26;this._expand(A),E>0&&A--;for(var b=0;b<A;b++)this.words[b]=67108863&~this.words[b];return E>0&&(this.words[b]=~this.words[b]&67108863>>26-E),this.strip()},d.prototype.notn=function(I){return this.clone().inotn(I)},d.prototype.setn=function(I,A){a(typeof I=="number"&&I>=0);var E=I/26|0,b=I%26;return this._expand(E+1),this.words[E]=A?this.words[E]|1<<b:this.words[E]&~(1<<b),this.strip()},d.prototype.iadd=function(I){var A,E,b;if(this.negative!==0&&I.negative===0)return this.negative=0,A=this.isub(I),this.negative^=1,this._normSign();if(this.negative===0&&I.negative!==0)return I.negative=0,A=this.isub(I),I.negative=1,A._normSign();this.length>I.length?(E=this,b=I):(E=I,b=this);for(var w=0,C=0;C<b.length;C++)A=(0|E.words[C])+(0|b.words[C])+w,this.words[C]=67108863&A,w=A>>>26;for(;w!==0&&C<E.length;C++)A=(0|E.words[C])+w,this.words[C]=67108863&A,w=A>>>26;if(this.length=E.length,w!==0)this.words[this.length]=w,this.length++;else if(E!==this)for(;C<E.length;C++)this.words[C]=E.words[C];return this},d.prototype.add=function(I){var A;return I.negative!==0&&this.negative===0?(I.negative=0,A=this.sub(I),I.negative^=1,A):I.negative===0&&this.negative!==0?(this.negative=0,A=I.sub(this),this.negative=1,A):this.length>I.length?this.clone().iadd(I):I.clone().iadd(this)},d.prototype.isub=function(I){if(I.negative!==0){I.negative=0;var A=this.iadd(I);return I.negative=1,A._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(I),this.negative=1,this._normSign();var E,b,w=this.cmp(I);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;w>0?(E=this,b=I):(E=I,b=this);for(var C=0,S=0;S<b.length;S++)C=(A=(0|E.words[S])-(0|b.words[S])+C)>>26,this.words[S]=67108863&A;for(;C!==0&&S<E.length;S++)C=(A=(0|E.words[S])+C)>>26,this.words[S]=67108863&A;if(C===0&&S<E.length&&E!==this)for(;S<E.length;S++)this.words[S]=E.words[S];return this.length=Math.max(this.length,S),E!==this&&(this.negative=1),this.strip()},d.prototype.sub=function(I){return this.clone().isub(I)};var _=function(I,A,E){var b,w,C,S=I.words,D=A.words,P=E.words,k=0,U=0|S[0],W=8191&U,X=U>>>13,j=0|S[1],q=8191&j,B=j>>>13,F=0|S[2],K=8191&F,ee=F>>>13,Q=0|S[3],Z=8191&Q,J=Q>>>13,ae=0|S[4],ce=8191&ae,te=ae>>>13,oe=0|S[5],le=8191&oe,fe=oe>>>13,pe=0|S[6],me=8191&pe,ye=pe>>>13,we=0|S[7],De=8191&we,Ve=we>>>13,Le=0|S[8],$e=8191&Le,rt=Le>>>13,nt=0|S[9],Je=8191&nt,et=nt>>>13,qe=0|D[0],Fe=8191&qe,Ye=qe>>>13,tt=0|D[1],Ze=8191&tt,Vt=tt>>>13,un=0|D[2],dt=8191&un,tn=un>>>13,Mt=0|D[3],Ct=8191&Mt,xn=Mt>>>13,nn=0|D[4],ft=8191&nn,Kt=nn>>>13,vn=0|D[5],yt=8191&vn,on=vn>>>13,mn=0|D[6],lt=8191&mn,he=mn>>>13,ge=0|D[7],Se=8191&ge,He=ge>>>13,_t=0|D[8],ze=8191&_t,wt=_t>>>13,vt=0|D[9],ct=8191&vt,Tt=vt>>>13;E.negative=I.negative^A.negative,E.length=19;var Et=(k+(b=Math.imul(W,Fe))|0)+((8191&(w=(w=Math.imul(W,Ye))+Math.imul(X,Fe)|0))<<13)|0;k=((C=Math.imul(X,Ye))+(w>>>13)|0)+(Et>>>26)|0,Et&=67108863,b=Math.imul(q,Fe),w=(w=Math.imul(q,Ye))+Math.imul(B,Fe)|0,C=Math.imul(B,Ye);var Lt=(k+(b=b+Math.imul(W,Ze)|0)|0)+((8191&(w=(w=w+Math.imul(W,Vt)|0)+Math.imul(X,Ze)|0))<<13)|0;k=((C=C+Math.imul(X,Vt)|0)+(w>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,b=Math.imul(K,Fe),w=(w=Math.imul(K,Ye))+Math.imul(ee,Fe)|0,C=Math.imul(ee,Ye),b=b+Math.imul(q,Ze)|0,w=(w=w+Math.imul(q,Vt)|0)+Math.imul(B,Ze)|0,C=C+Math.imul(B,Vt)|0;var Qn=(k+(b=b+Math.imul(W,dt)|0)|0)+((8191&(w=(w=w+Math.imul(W,tn)|0)+Math.imul(X,dt)|0))<<13)|0;k=((C=C+Math.imul(X,tn)|0)+(w>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,b=Math.imul(Z,Fe),w=(w=Math.imul(Z,Ye))+Math.imul(J,Fe)|0,C=Math.imul(J,Ye),b=b+Math.imul(K,Ze)|0,w=(w=w+Math.imul(K,Vt)|0)+Math.imul(ee,Ze)|0,C=C+Math.imul(ee,Vt)|0,b=b+Math.imul(q,dt)|0,w=(w=w+Math.imul(q,tn)|0)+Math.imul(B,dt)|0,C=C+Math.imul(B,tn)|0;var Pn=(k+(b=b+Math.imul(W,Ct)|0)|0)+((8191&(w=(w=w+Math.imul(W,xn)|0)+Math.imul(X,Ct)|0))<<13)|0;k=((C=C+Math.imul(X,xn)|0)+(w>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,b=Math.imul(ce,Fe),w=(w=Math.imul(ce,Ye))+Math.imul(te,Fe)|0,C=Math.imul(te,Ye),b=b+Math.imul(Z,Ze)|0,w=(w=w+Math.imul(Z,Vt)|0)+Math.imul(J,Ze)|0,C=C+Math.imul(J,Vt)|0,b=b+Math.imul(K,dt)|0,w=(w=w+Math.imul(K,tn)|0)+Math.imul(ee,dt)|0,C=C+Math.imul(ee,tn)|0,b=b+Math.imul(q,Ct)|0,w=(w=w+Math.imul(q,xn)|0)+Math.imul(B,Ct)|0,C=C+Math.imul(B,xn)|0;var oi=(k+(b=b+Math.imul(W,ft)|0)|0)+((8191&(w=(w=w+Math.imul(W,Kt)|0)+Math.imul(X,ft)|0))<<13)|0;k=((C=C+Math.imul(X,Kt)|0)+(w>>>13)|0)+(oi>>>26)|0,oi&=67108863,b=Math.imul(le,Fe),w=(w=Math.imul(le,Ye))+Math.imul(fe,Fe)|0,C=Math.imul(fe,Ye),b=b+Math.imul(ce,Ze)|0,w=(w=w+Math.imul(ce,Vt)|0)+Math.imul(te,Ze)|0,C=C+Math.imul(te,Vt)|0,b=b+Math.imul(Z,dt)|0,w=(w=w+Math.imul(Z,tn)|0)+Math.imul(J,dt)|0,C=C+Math.imul(J,tn)|0,b=b+Math.imul(K,Ct)|0,w=(w=w+Math.imul(K,xn)|0)+Math.imul(ee,Ct)|0,C=C+Math.imul(ee,xn)|0,b=b+Math.imul(q,ft)|0,w=(w=w+Math.imul(q,Kt)|0)+Math.imul(B,ft)|0,C=C+Math.imul(B,Kt)|0;var ai=(k+(b=b+Math.imul(W,yt)|0)|0)+((8191&(w=(w=w+Math.imul(W,on)|0)+Math.imul(X,yt)|0))<<13)|0;k=((C=C+Math.imul(X,on)|0)+(w>>>13)|0)+(ai>>>26)|0,ai&=67108863,b=Math.imul(me,Fe),w=(w=Math.imul(me,Ye))+Math.imul(ye,Fe)|0,C=Math.imul(ye,Ye),b=b+Math.imul(le,Ze)|0,w=(w=w+Math.imul(le,Vt)|0)+Math.imul(fe,Ze)|0,C=C+Math.imul(fe,Vt)|0,b=b+Math.imul(ce,dt)|0,w=(w=w+Math.imul(ce,tn)|0)+Math.imul(te,dt)|0,C=C+Math.imul(te,tn)|0,b=b+Math.imul(Z,Ct)|0,w=(w=w+Math.imul(Z,xn)|0)+Math.imul(J,Ct)|0,C=C+Math.imul(J,xn)|0,b=b+Math.imul(K,ft)|0,w=(w=w+Math.imul(K,Kt)|0)+Math.imul(ee,ft)|0,C=C+Math.imul(ee,Kt)|0,b=b+Math.imul(q,yt)|0,w=(w=w+Math.imul(q,on)|0)+Math.imul(B,yt)|0,C=C+Math.imul(B,on)|0;var rs=(k+(b=b+Math.imul(W,lt)|0)|0)+((8191&(w=(w=w+Math.imul(W,he)|0)+Math.imul(X,lt)|0))<<13)|0;k=((C=C+Math.imul(X,he)|0)+(w>>>13)|0)+(rs>>>26)|0,rs&=67108863,b=Math.imul(De,Fe),w=(w=Math.imul(De,Ye))+Math.imul(Ve,Fe)|0,C=Math.imul(Ve,Ye),b=b+Math.imul(me,Ze)|0,w=(w=w+Math.imul(me,Vt)|0)+Math.imul(ye,Ze)|0,C=C+Math.imul(ye,Vt)|0,b=b+Math.imul(le,dt)|0,w=(w=w+Math.imul(le,tn)|0)+Math.imul(fe,dt)|0,C=C+Math.imul(fe,tn)|0,b=b+Math.imul(ce,Ct)|0,w=(w=w+Math.imul(ce,xn)|0)+Math.imul(te,Ct)|0,C=C+Math.imul(te,xn)|0,b=b+Math.imul(Z,ft)|0,w=(w=w+Math.imul(Z,Kt)|0)+Math.imul(J,ft)|0,C=C+Math.imul(J,Kt)|0,b=b+Math.imul(K,yt)|0,w=(w=w+Math.imul(K,on)|0)+Math.imul(ee,yt)|0,C=C+Math.imul(ee,on)|0,b=b+Math.imul(q,lt)|0,w=(w=w+Math.imul(q,he)|0)+Math.imul(B,lt)|0,C=C+Math.imul(B,he)|0;var re=(k+(b=b+Math.imul(W,Se)|0)|0)+((8191&(w=(w=w+Math.imul(W,He)|0)+Math.imul(X,Se)|0))<<13)|0;k=((C=C+Math.imul(X,He)|0)+(w>>>13)|0)+(re>>>26)|0,re&=67108863,b=Math.imul($e,Fe),w=(w=Math.imul($e,Ye))+Math.imul(rt,Fe)|0,C=Math.imul(rt,Ye),b=b+Math.imul(De,Ze)|0,w=(w=w+Math.imul(De,Vt)|0)+Math.imul(Ve,Ze)|0,C=C+Math.imul(Ve,Vt)|0,b=b+Math.imul(me,dt)|0,w=(w=w+Math.imul(me,tn)|0)+Math.imul(ye,dt)|0,C=C+Math.imul(ye,tn)|0,b=b+Math.imul(le,Ct)|0,w=(w=w+Math.imul(le,xn)|0)+Math.imul(fe,Ct)|0,C=C+Math.imul(fe,xn)|0,b=b+Math.imul(ce,ft)|0,w=(w=w+Math.imul(ce,Kt)|0)+Math.imul(te,ft)|0,C=C+Math.imul(te,Kt)|0,b=b+Math.imul(Z,yt)|0,w=(w=w+Math.imul(Z,on)|0)+Math.imul(J,yt)|0,C=C+Math.imul(J,on)|0,b=b+Math.imul(K,lt)|0,w=(w=w+Math.imul(K,he)|0)+Math.imul(ee,lt)|0,C=C+Math.imul(ee,he)|0,b=b+Math.imul(q,Se)|0,w=(w=w+Math.imul(q,He)|0)+Math.imul(B,Se)|0,C=C+Math.imul(B,He)|0;var _e=(k+(b=b+Math.imul(W,ze)|0)|0)+((8191&(w=(w=w+Math.imul(W,wt)|0)+Math.imul(X,ze)|0))<<13)|0;k=((C=C+Math.imul(X,wt)|0)+(w>>>13)|0)+(_e>>>26)|0,_e&=67108863,b=Math.imul(Je,Fe),w=(w=Math.imul(Je,Ye))+Math.imul(et,Fe)|0,C=Math.imul(et,Ye),b=b+Math.imul($e,Ze)|0,w=(w=w+Math.imul($e,Vt)|0)+Math.imul(rt,Ze)|0,C=C+Math.imul(rt,Vt)|0,b=b+Math.imul(De,dt)|0,w=(w=w+Math.imul(De,tn)|0)+Math.imul(Ve,dt)|0,C=C+Math.imul(Ve,tn)|0,b=b+Math.imul(me,Ct)|0,w=(w=w+Math.imul(me,xn)|0)+Math.imul(ye,Ct)|0,C=C+Math.imul(ye,xn)|0,b=b+Math.imul(le,ft)|0,w=(w=w+Math.imul(le,Kt)|0)+Math.imul(fe,ft)|0,C=C+Math.imul(fe,Kt)|0,b=b+Math.imul(ce,yt)|0,w=(w=w+Math.imul(ce,on)|0)+Math.imul(te,yt)|0,C=C+Math.imul(te,on)|0,b=b+Math.imul(Z,lt)|0,w=(w=w+Math.imul(Z,he)|0)+Math.imul(J,lt)|0,C=C+Math.imul(J,he)|0,b=b+Math.imul(K,Se)|0,w=(w=w+Math.imul(K,He)|0)+Math.imul(ee,Se)|0,C=C+Math.imul(ee,He)|0,b=b+Math.imul(q,ze)|0,w=(w=w+Math.imul(q,wt)|0)+Math.imul(B,ze)|0,C=C+Math.imul(B,wt)|0;var Ee=(k+(b=b+Math.imul(W,ct)|0)|0)+((8191&(w=(w=w+Math.imul(W,Tt)|0)+Math.imul(X,ct)|0))<<13)|0;k=((C=C+Math.imul(X,Tt)|0)+(w>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,b=Math.imul(Je,Ze),w=(w=Math.imul(Je,Vt))+Math.imul(et,Ze)|0,C=Math.imul(et,Vt),b=b+Math.imul($e,dt)|0,w=(w=w+Math.imul($e,tn)|0)+Math.imul(rt,dt)|0,C=C+Math.imul(rt,tn)|0,b=b+Math.imul(De,Ct)|0,w=(w=w+Math.imul(De,xn)|0)+Math.imul(Ve,Ct)|0,C=C+Math.imul(Ve,xn)|0,b=b+Math.imul(me,ft)|0,w=(w=w+Math.imul(me,Kt)|0)+Math.imul(ye,ft)|0,C=C+Math.imul(ye,Kt)|0,b=b+Math.imul(le,yt)|0,w=(w=w+Math.imul(le,on)|0)+Math.imul(fe,yt)|0,C=C+Math.imul(fe,on)|0,b=b+Math.imul(ce,lt)|0,w=(w=w+Math.imul(ce,he)|0)+Math.imul(te,lt)|0,C=C+Math.imul(te,he)|0,b=b+Math.imul(Z,Se)|0,w=(w=w+Math.imul(Z,He)|0)+Math.imul(J,Se)|0,C=C+Math.imul(J,He)|0,b=b+Math.imul(K,ze)|0,w=(w=w+Math.imul(K,wt)|0)+Math.imul(ee,ze)|0,C=C+Math.imul(ee,wt)|0;var ke=(k+(b=b+Math.imul(q,ct)|0)|0)+((8191&(w=(w=w+Math.imul(q,Tt)|0)+Math.imul(B,ct)|0))<<13)|0;k=((C=C+Math.imul(B,Tt)|0)+(w>>>13)|0)+(ke>>>26)|0,ke&=67108863,b=Math.imul(Je,dt),w=(w=Math.imul(Je,tn))+Math.imul(et,dt)|0,C=Math.imul(et,tn),b=b+Math.imul($e,Ct)|0,w=(w=w+Math.imul($e,xn)|0)+Math.imul(rt,Ct)|0,C=C+Math.imul(rt,xn)|0,b=b+Math.imul(De,ft)|0,w=(w=w+Math.imul(De,Kt)|0)+Math.imul(Ve,ft)|0,C=C+Math.imul(Ve,Kt)|0,b=b+Math.imul(me,yt)|0,w=(w=w+Math.imul(me,on)|0)+Math.imul(ye,yt)|0,C=C+Math.imul(ye,on)|0,b=b+Math.imul(le,lt)|0,w=(w=w+Math.imul(le,he)|0)+Math.imul(fe,lt)|0,C=C+Math.imul(fe,he)|0,b=b+Math.imul(ce,Se)|0,w=(w=w+Math.imul(ce,He)|0)+Math.imul(te,Se)|0,C=C+Math.imul(te,He)|0,b=b+Math.imul(Z,ze)|0,w=(w=w+Math.imul(Z,wt)|0)+Math.imul(J,ze)|0,C=C+Math.imul(J,wt)|0;var it=(k+(b=b+Math.imul(K,ct)|0)|0)+((8191&(w=(w=w+Math.imul(K,Tt)|0)+Math.imul(ee,ct)|0))<<13)|0;k=((C=C+Math.imul(ee,Tt)|0)+(w>>>13)|0)+(it>>>26)|0,it&=67108863,b=Math.imul(Je,Ct),w=(w=Math.imul(Je,xn))+Math.imul(et,Ct)|0,C=Math.imul(et,xn),b=b+Math.imul($e,ft)|0,w=(w=w+Math.imul($e,Kt)|0)+Math.imul(rt,ft)|0,C=C+Math.imul(rt,Kt)|0,b=b+Math.imul(De,yt)|0,w=(w=w+Math.imul(De,on)|0)+Math.imul(Ve,yt)|0,C=C+Math.imul(Ve,on)|0,b=b+Math.imul(me,lt)|0,w=(w=w+Math.imul(me,he)|0)+Math.imul(ye,lt)|0,C=C+Math.imul(ye,he)|0,b=b+Math.imul(le,Se)|0,w=(w=w+Math.imul(le,He)|0)+Math.imul(fe,Se)|0,C=C+Math.imul(fe,He)|0,b=b+Math.imul(ce,ze)|0,w=(w=w+Math.imul(ce,wt)|0)+Math.imul(te,ze)|0,C=C+Math.imul(te,wt)|0;var Ne=(k+(b=b+Math.imul(Z,ct)|0)|0)+((8191&(w=(w=w+Math.imul(Z,Tt)|0)+Math.imul(J,ct)|0))<<13)|0;k=((C=C+Math.imul(J,Tt)|0)+(w>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,b=Math.imul(Je,ft),w=(w=Math.imul(Je,Kt))+Math.imul(et,ft)|0,C=Math.imul(et,Kt),b=b+Math.imul($e,yt)|0,w=(w=w+Math.imul($e,on)|0)+Math.imul(rt,yt)|0,C=C+Math.imul(rt,on)|0,b=b+Math.imul(De,lt)|0,w=(w=w+Math.imul(De,he)|0)+Math.imul(Ve,lt)|0,C=C+Math.imul(Ve,he)|0,b=b+Math.imul(me,Se)|0,w=(w=w+Math.imul(me,He)|0)+Math.imul(ye,Se)|0,C=C+Math.imul(ye,He)|0,b=b+Math.imul(le,ze)|0,w=(w=w+Math.imul(le,wt)|0)+Math.imul(fe,ze)|0,C=C+Math.imul(fe,wt)|0;var je=(k+(b=b+Math.imul(ce,ct)|0)|0)+((8191&(w=(w=w+Math.imul(ce,Tt)|0)+Math.imul(te,ct)|0))<<13)|0;k=((C=C+Math.imul(te,Tt)|0)+(w>>>13)|0)+(je>>>26)|0,je&=67108863,b=Math.imul(Je,yt),w=(w=Math.imul(Je,on))+Math.imul(et,yt)|0,C=Math.imul(et,on),b=b+Math.imul($e,lt)|0,w=(w=w+Math.imul($e,he)|0)+Math.imul(rt,lt)|0,C=C+Math.imul(rt,he)|0,b=b+Math.imul(De,Se)|0,w=(w=w+Math.imul(De,He)|0)+Math.imul(Ve,Se)|0,C=C+Math.imul(Ve,He)|0,b=b+Math.imul(me,ze)|0,w=(w=w+Math.imul(me,wt)|0)+Math.imul(ye,ze)|0,C=C+Math.imul(ye,wt)|0;var Qt=(k+(b=b+Math.imul(le,ct)|0)|0)+((8191&(w=(w=w+Math.imul(le,Tt)|0)+Math.imul(fe,ct)|0))<<13)|0;k=((C=C+Math.imul(fe,Tt)|0)+(w>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,b=Math.imul(Je,lt),w=(w=Math.imul(Je,he))+Math.imul(et,lt)|0,C=Math.imul(et,he),b=b+Math.imul($e,Se)|0,w=(w=w+Math.imul($e,He)|0)+Math.imul(rt,Se)|0,C=C+Math.imul(rt,He)|0,b=b+Math.imul(De,ze)|0,w=(w=w+Math.imul(De,wt)|0)+Math.imul(Ve,ze)|0,C=C+Math.imul(Ve,wt)|0;var Rt=(k+(b=b+Math.imul(me,ct)|0)|0)+((8191&(w=(w=w+Math.imul(me,Tt)|0)+Math.imul(ye,ct)|0))<<13)|0;k=((C=C+Math.imul(ye,Tt)|0)+(w>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,b=Math.imul(Je,Se),w=(w=Math.imul(Je,He))+Math.imul(et,Se)|0,C=Math.imul(et,He),b=b+Math.imul($e,ze)|0,w=(w=w+Math.imul($e,wt)|0)+Math.imul(rt,ze)|0,C=C+Math.imul(rt,wt)|0;var $t=(k+(b=b+Math.imul(De,ct)|0)|0)+((8191&(w=(w=w+Math.imul(De,Tt)|0)+Math.imul(Ve,ct)|0))<<13)|0;k=((C=C+Math.imul(Ve,Tt)|0)+(w>>>13)|0)+($t>>>26)|0,$t&=67108863,b=Math.imul(Je,ze),w=(w=Math.imul(Je,wt))+Math.imul(et,ze)|0,C=Math.imul(et,wt);var xt=(k+(b=b+Math.imul($e,ct)|0)|0)+((8191&(w=(w=w+Math.imul($e,Tt)|0)+Math.imul(rt,ct)|0))<<13)|0;k=((C=C+Math.imul(rt,Tt)|0)+(w>>>13)|0)+(xt>>>26)|0,xt&=67108863;var bn=(k+(b=Math.imul(Je,ct))|0)+((8191&(w=(w=Math.imul(Je,Tt))+Math.imul(et,ct)|0))<<13)|0;return k=((C=Math.imul(et,Tt))+(w>>>13)|0)+(bn>>>26)|0,bn&=67108863,P[0]=Et,P[1]=Lt,P[2]=Qn,P[3]=Pn,P[4]=oi,P[5]=ai,P[6]=rs,P[7]=re,P[8]=_e,P[9]=Ee,P[10]=ke,P[11]=it,P[12]=Ne,P[13]=je,P[14]=Qt,P[15]=Rt,P[16]=$t,P[17]=xt,P[18]=bn,k!==0&&(P[19]=k,E.length++),E};function x(I,A,E){return new y().mulp(I,A,E)}function y(I,A){this.x=I,this.y=A}Math.imul||(_=v),d.prototype.mulTo=function(I,A){var E=this.length+I.length;return this.length===10&&I.length===10?_(this,I,A):E<63?v(this,I,A):E<1024?function(b,w,C){C.negative=w.negative^b.negative,C.length=b.length+w.length;for(var S=0,D=0,P=0;P<C.length-1;P++){var k=D;D=0;for(var U=67108863&S,W=Math.min(P,w.length-1),X=Math.max(0,P-b.length+1);X<=W;X++){var j=P-X,q=(0|b.words[j])*(0|w.words[X]),B=67108863&q;U=67108863&(B=B+U|0),D+=(k=(k=k+(q/67108864|0)|0)+(B>>>26)|0)>>>26,k&=67108863}C.words[P]=U,S=k,k=D}return S!==0?C.words[P]=S:C.length--,C.strip()}(this,I,A):x(this,I,A)},y.prototype.makeRBT=function(I){for(var A=new Array(I),E=d.prototype._countBits(I)-1,b=0;b<I;b++)A[b]=this.revBin(b,E,I);return A},y.prototype.revBin=function(I,A,E){if(I===0||I===E-1)return I;for(var b=0,w=0;w<A;w++)b|=(1&I)<<A-w-1,I>>=1;return b},y.prototype.permute=function(I,A,E,b,w,C){for(var S=0;S<C;S++)b[S]=A[I[S]],w[S]=E[I[S]]},y.prototype.transform=function(I,A,E,b,w,C){this.permute(C,I,A,E,b,w);for(var S=1;S<w;S<<=1)for(var D=S<<1,P=Math.cos(2*Math.PI/D),k=Math.sin(2*Math.PI/D),U=0;U<w;U+=D)for(var W=P,X=k,j=0;j<S;j++){var q=E[U+j],B=b[U+j],F=E[U+j+S],K=b[U+j+S],ee=W*F-X*K;K=W*K+X*F,F=ee,E[U+j]=q+F,b[U+j]=B+K,E[U+j+S]=q-F,b[U+j+S]=B-K,j!==D&&(ee=P*W-k*X,X=P*X+k*W,W=ee)}},y.prototype.guessLen13b=function(I,A){var E=1|Math.max(A,I),b=1&E,w=0;for(E=E/2|0;E;E>>>=1)w++;return 1<<w+1+b},y.prototype.conjugate=function(I,A,E){if(!(E<=1))for(var b=0;b<E/2;b++){var w=I[b];I[b]=I[E-b-1],I[E-b-1]=w,w=A[b],A[b]=-A[E-b-1],A[E-b-1]=-w}},y.prototype.normalize13b=function(I,A){for(var E=0,b=0;b<A/2;b++){var w=8192*Math.round(I[2*b+1]/A)+Math.round(I[2*b]/A)+E;I[b]=67108863&w,E=w<67108864?0:w/67108864|0}return I},y.prototype.convert13b=function(I,A,E,b){for(var w=0,C=0;C<A;C++)w+=0|I[C],E[2*C]=8191&w,w>>>=13,E[2*C+1]=8191&w,w>>>=13;for(C=2*A;C<b;++C)E[C]=0;a(w===0),a((-8192&w)==0)},y.prototype.stub=function(I){for(var A=new Array(I),E=0;E<I;E++)A[E]=0;return A},y.prototype.mulp=function(I,A,E){var b=2*this.guessLen13b(I.length,A.length),w=this.makeRBT(b),C=this.stub(b),S=new Array(b),D=new Array(b),P=new Array(b),k=new Array(b),U=new Array(b),W=new Array(b),X=E.words;X.length=b,this.convert13b(I.words,I.length,S,b),this.convert13b(A.words,A.length,k,b),this.transform(S,C,D,P,b,w),this.transform(k,C,U,W,b,w);for(var j=0;j<b;j++){var q=D[j]*U[j]-P[j]*W[j];P[j]=D[j]*W[j]+P[j]*U[j],D[j]=q}return this.conjugate(D,P,b),this.transform(D,P,X,C,b,w),this.conjugate(X,C,b),this.normalize13b(X,b),E.negative=I.negative^A.negative,E.length=I.length+A.length,E.strip()},d.prototype.mul=function(I){var A=new d(null);return A.words=new Array(this.length+I.length),this.mulTo(I,A)},d.prototype.mulf=function(I){var A=new d(null);return A.words=new Array(this.length+I.length),x(this,I,A)},d.prototype.imul=function(I){return this.clone().mulTo(I,this)},d.prototype.imuln=function(I){a(typeof I=="number"),a(I<67108864);for(var A=0,E=0;E<this.length;E++){var b=(0|this.words[E])*I,w=(67108863&b)+(67108863&A);A>>=26,A+=b/67108864|0,A+=w>>>26,this.words[E]=67108863&w}return A!==0&&(this.words[E]=A,this.length++),this},d.prototype.muln=function(I){return this.clone().imuln(I)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(I){var A=function(C){for(var S=new Array(C.bitLength()),D=0;D<S.length;D++){var P=D/26|0,k=D%26;S[D]=(C.words[P]&1<<k)>>>k}return S}(I);if(A.length===0)return new d(1);for(var E=this,b=0;b<A.length&&A[b]===0;b++,E=E.sqr());if(++b<A.length)for(var w=E.sqr();b<A.length;b++,w=w.sqr())A[b]!==0&&(E=E.mul(w));return E},d.prototype.iushln=function(I){a(typeof I=="number"&&I>=0);var A,E=I%26,b=(I-E)/26,w=67108863>>>26-E<<26-E;if(E!==0){var C=0;for(A=0;A<this.length;A++){var S=this.words[A]&w,D=(0|this.words[A])-S<<E;this.words[A]=D|C,C=S>>>26-E}C&&(this.words[A]=C,this.length++)}if(b!==0){for(A=this.length-1;A>=0;A--)this.words[A+b]=this.words[A];for(A=0;A<b;A++)this.words[A]=0;this.length+=b}return this.strip()},d.prototype.ishln=function(I){return a(this.negative===0),this.iushln(I)},d.prototype.iushrn=function(I,A,E){var b;a(typeof I=="number"&&I>=0),b=A?(A-A%26)/26:0;var w=I%26,C=Math.min((I-w)/26,this.length),S=67108863^67108863>>>w<<w,D=E;if(b-=C,b=Math.max(0,b),D){for(var P=0;P<C;P++)D.words[P]=this.words[P];D.length=C}if(C!==0)if(this.length>C)for(this.length-=C,P=0;P<this.length;P++)this.words[P]=this.words[P+C];else this.words[0]=0,this.length=1;var k=0;for(P=this.length-1;P>=0&&(k!==0||P>=b);P--){var U=0|this.words[P];this.words[P]=k<<26-w|U>>>w,k=U&S}return D&&k!==0&&(D.words[D.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},d.prototype.ishrn=function(I,A,E){return a(this.negative===0),this.iushrn(I,A,E)},d.prototype.shln=function(I){return this.clone().ishln(I)},d.prototype.ushln=function(I){return this.clone().iushln(I)},d.prototype.shrn=function(I){return this.clone().ishrn(I)},d.prototype.ushrn=function(I){return this.clone().iushrn(I)},d.prototype.testn=function(I){a(typeof I=="number"&&I>=0);var A=I%26,E=(I-A)/26,b=1<<A;return!(this.length<=E)&&!!(this.words[E]&b)},d.prototype.imaskn=function(I){a(typeof I=="number"&&I>=0);var A=I%26,E=(I-A)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(A!==0&&E++,this.length=Math.min(E,this.length),A!==0){var b=67108863^67108863>>>A<<A;this.words[this.length-1]&=b}return this.strip()},d.prototype.maskn=function(I){return this.clone().imaskn(I)},d.prototype.iaddn=function(I){return a(typeof I=="number"),a(I<67108864),I<0?this.isubn(-I):this.negative!==0?this.length===1&&(0|this.words[0])<I?(this.words[0]=I-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(I),this.negative=1,this):this._iaddn(I)},d.prototype._iaddn=function(I){this.words[0]+=I;for(var A=0;A<this.length&&this.words[A]>=67108864;A++)this.words[A]-=67108864,A===this.length-1?this.words[A+1]=1:this.words[A+1]++;return this.length=Math.max(this.length,A+1),this},d.prototype.isubn=function(I){if(a(typeof I=="number"),a(I<67108864),I<0)return this.iaddn(-I);if(this.negative!==0)return this.negative=0,this.iaddn(I),this.negative=1,this;if(this.words[0]-=I,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var A=0;A<this.length&&this.words[A]<0;A++)this.words[A]+=67108864,this.words[A+1]-=1;return this.strip()},d.prototype.addn=function(I){return this.clone().iaddn(I)},d.prototype.subn=function(I){return this.clone().isubn(I)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(I,A,E){var b,w,C=I.length+E;this._expand(C);var S=0;for(b=0;b<I.length;b++){w=(0|this.words[b+E])+S;var D=(0|I.words[b])*A;S=((w-=67108863&D)>>26)-(D/67108864|0),this.words[b+E]=67108863&w}for(;b<this.length-E;b++)S=(w=(0|this.words[b+E])+S)>>26,this.words[b+E]=67108863&w;if(S===0)return this.strip();for(a(S===-1),S=0,b=0;b<this.length;b++)S=(w=-(0|this.words[b])+S)>>26,this.words[b]=67108863&w;return this.negative=1,this.strip()},d.prototype._wordDiv=function(I,A){var E=(this.length,I.length),b=this.clone(),w=I,C=0|w.words[w.length-1];(E=26-this._countBits(C))!==0&&(w=w.ushln(E),b.iushln(E),C=0|w.words[w.length-1]);var S,D=b.length-w.length;if(A!=="mod"){(S=new d(null)).length=D+1,S.words=new Array(S.length);for(var P=0;P<S.length;P++)S.words[P]=0}var k=b.clone()._ishlnsubmul(w,1,D);k.negative===0&&(b=k,S&&(S.words[D]=1));for(var U=D-1;U>=0;U--){var W=67108864*(0|b.words[w.length+U])+(0|b.words[w.length+U-1]);for(W=Math.min(W/C|0,67108863),b._ishlnsubmul(w,W,U);b.negative!==0;)W--,b.negative=0,b._ishlnsubmul(w,1,U),b.isZero()||(b.negative^=1);S&&(S.words[U]=W)}return S&&S.strip(),b.strip(),A!=="div"&&E!==0&&b.iushrn(E),{div:S||null,mod:b}},d.prototype.divmod=function(I,A,E){return a(!I.isZero()),this.isZero()?{div:new d(0),mod:new d(0)}:this.negative!==0&&I.negative===0?(C=this.neg().divmod(I,A),A!=="mod"&&(b=C.div.neg()),A!=="div"&&(w=C.mod.neg(),E&&w.negative!==0&&w.iadd(I)),{div:b,mod:w}):this.negative===0&&I.negative!==0?(C=this.divmod(I.neg(),A),A!=="mod"&&(b=C.div.neg()),{div:b,mod:C.mod}):this.negative&I.negative?(C=this.neg().divmod(I.neg(),A),A!=="div"&&(w=C.mod.neg(),E&&w.negative!==0&&w.isub(I)),{div:C.div,mod:w}):I.length>this.length||this.cmp(I)<0?{div:new d(0),mod:this}:I.length===1?A==="div"?{div:this.divn(I.words[0]),mod:null}:A==="mod"?{div:null,mod:new d(this.modn(I.words[0]))}:{div:this.divn(I.words[0]),mod:new d(this.modn(I.words[0]))}:this._wordDiv(I,A);var b,w,C},d.prototype.div=function(I){return this.divmod(I,"div",!1).div},d.prototype.mod=function(I){return this.divmod(I,"mod",!1).mod},d.prototype.umod=function(I){return this.divmod(I,"mod",!0).mod},d.prototype.divRound=function(I){var A=this.divmod(I);if(A.mod.isZero())return A.div;var E=A.div.negative!==0?A.mod.isub(I):A.mod,b=I.ushrn(1),w=I.andln(1),C=E.cmp(b);return C<0||w===1&&C===0?A.div:A.div.negative!==0?A.div.isubn(1):A.div.iaddn(1)},d.prototype.modn=function(I){a(I<=67108863);for(var A=(1<<26)%I,E=0,b=this.length-1;b>=0;b--)E=(A*E+(0|this.words[b]))%I;return E},d.prototype.idivn=function(I){a(I<=67108863);for(var A=0,E=this.length-1;E>=0;E--){var b=(0|this.words[E])+67108864*A;this.words[E]=b/I|0,A=b%I}return this.strip()},d.prototype.divn=function(I){return this.clone().idivn(I)},d.prototype.egcd=function(I){a(I.negative===0),a(!I.isZero());var A=this,E=I.clone();A=A.negative!==0?A.umod(I):A.clone();for(var b=new d(1),w=new d(0),C=new d(0),S=new d(1),D=0;A.isEven()&&E.isEven();)A.iushrn(1),E.iushrn(1),++D;for(var P=E.clone(),k=A.clone();!A.isZero();){for(var U=0,W=1;!(A.words[0]&W)&&U<26;++U,W<<=1);if(U>0)for(A.iushrn(U);U-- >0;)(b.isOdd()||w.isOdd())&&(b.iadd(P),w.isub(k)),b.iushrn(1),w.iushrn(1);for(var X=0,j=1;!(E.words[0]&j)&&X<26;++X,j<<=1);if(X>0)for(E.iushrn(X);X-- >0;)(C.isOdd()||S.isOdd())&&(C.iadd(P),S.isub(k)),C.iushrn(1),S.iushrn(1);A.cmp(E)>=0?(A.isub(E),b.isub(C),w.isub(S)):(E.isub(A),C.isub(b),S.isub(w))}return{a:C,b:S,gcd:E.iushln(D)}},d.prototype._invmp=function(I){a(I.negative===0),a(!I.isZero());var A=this,E=I.clone();A=A.negative!==0?A.umod(I):A.clone();for(var b,w=new d(1),C=new d(0),S=E.clone();A.cmpn(1)>0&&E.cmpn(1)>0;){for(var D=0,P=1;!(A.words[0]&P)&&D<26;++D,P<<=1);if(D>0)for(A.iushrn(D);D-- >0;)w.isOdd()&&w.iadd(S),w.iushrn(1);for(var k=0,U=1;!(E.words[0]&U)&&k<26;++k,U<<=1);if(k>0)for(E.iushrn(k);k-- >0;)C.isOdd()&&C.iadd(S),C.iushrn(1);A.cmp(E)>=0?(A.isub(E),w.isub(C)):(E.isub(A),C.isub(w))}return(b=A.cmpn(1)===0?w:C).cmpn(0)<0&&b.iadd(I),b},d.prototype.gcd=function(I){if(this.isZero())return I.abs();if(I.isZero())return this.abs();var A=this.clone(),E=I.clone();A.negative=0,E.negative=0;for(var b=0;A.isEven()&&E.isEven();b++)A.iushrn(1),E.iushrn(1);for(;;){for(;A.isEven();)A.iushrn(1);for(;E.isEven();)E.iushrn(1);var w=A.cmp(E);if(w<0){var C=A;A=E,E=C}else if(w===0||E.cmpn(1)===0)break;A.isub(E)}return E.iushln(b)},d.prototype.invm=function(I){return this.egcd(I).a.umod(I)},d.prototype.isEven=function(){return(1&this.words[0])==0},d.prototype.isOdd=function(){return(1&this.words[0])==1},d.prototype.andln=function(I){return this.words[0]&I},d.prototype.bincn=function(I){a(typeof I=="number");var A=I%26,E=(I-A)/26,b=1<<A;if(this.length<=E)return this._expand(E+1),this.words[E]|=b,this;for(var w=b,C=E;w!==0&&C<this.length;C++){var S=0|this.words[C];w=(S+=w)>>>26,S&=67108863,this.words[C]=S}return w!==0&&(this.words[C]=w,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(I){var A,E=I<0;if(this.negative!==0&&!E)return-1;if(this.negative===0&&E)return 1;if(this.strip(),this.length>1)A=1;else{E&&(I=-I),a(I<=67108863,"Number is too big");var b=0|this.words[0];A=b===I?0:b<I?-1:1}return this.negative!==0?0|-A:A},d.prototype.cmp=function(I){if(this.negative!==0&&I.negative===0)return-1;if(this.negative===0&&I.negative!==0)return 1;var A=this.ucmp(I);return this.negative!==0?0|-A:A},d.prototype.ucmp=function(I){if(this.length>I.length)return 1;if(this.length<I.length)return-1;for(var A=0,E=this.length-1;E>=0;E--){var b=0|this.words[E],w=0|I.words[E];if(b!==w){b<w?A=-1:b>w&&(A=1);break}}return A},d.prototype.gtn=function(I){return this.cmpn(I)===1},d.prototype.gt=function(I){return this.cmp(I)===1},d.prototype.gten=function(I){return this.cmpn(I)>=0},d.prototype.gte=function(I){return this.cmp(I)>=0},d.prototype.ltn=function(I){return this.cmpn(I)===-1},d.prototype.lt=function(I){return this.cmp(I)===-1},d.prototype.lten=function(I){return this.cmpn(I)<=0},d.prototype.lte=function(I){return this.cmp(I)<=0},d.prototype.eqn=function(I){return this.cmpn(I)===0},d.prototype.eq=function(I){return this.cmp(I)===0},d.red=function(I){return new z(I)},d.prototype.toRed=function(I){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),I.convertTo(this)._forceRed(I)},d.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(I){return this.red=I,this},d.prototype.forceRed=function(I){return a(!this.red,"Already a number in reduction context"),this._forceRed(I)},d.prototype.redAdd=function(I){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,I)},d.prototype.redIAdd=function(I){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,I)},d.prototype.redSub=function(I){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,I)},d.prototype.redISub=function(I){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,I)},d.prototype.redShl=function(I){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,I)},d.prototype.redMul=function(I){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.mul(this,I)},d.prototype.redIMul=function(I){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,I),this.red.imul(this,I)},d.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(I){return a(this.red&&!I.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,I)};var T={k256:null,p224:null,p192:null,p25519:null};function O(I,A){this.name=I,this.p=new d(A,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function L(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function R(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function $(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function V(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function z(I){if(typeof I=="string"){var A=d._prime(I);this.m=A.p,this.prime=A}else a(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}function H(I){z.call(this,I),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}O.prototype._tmp=function(){var I=new d(null);return I.words=new Array(Math.ceil(this.n/13)),I},O.prototype.ireduce=function(I){var A,E=I;do this.split(E,this.tmp),A=(E=(E=this.imulK(E)).iadd(this.tmp)).bitLength();while(A>this.n);var b=A<this.n?-1:E.ucmp(this.p);return b===0?(E.words[0]=0,E.length=1):b>0?E.isub(this.p):E.strip!==void 0?E.strip():E._strip(),E},O.prototype.split=function(I,A){I.iushrn(this.n,0,A)},O.prototype.imulK=function(I){return I.imul(this.k)},l(L,O),L.prototype.split=function(I,A){for(var E=Math.min(I.length,9),b=0;b<E;b++)A.words[b]=I.words[b];if(A.length=E,I.length<=9)return I.words[0]=0,void(I.length=1);var w=I.words[9];for(A.words[A.length++]=4194303&w,b=10;b<I.length;b++){var C=0|I.words[b];I.words[b-10]=(4194303&C)<<4|w>>>22,w=C}w>>>=22,I.words[b-10]=w,w===0&&I.length>10?I.length-=10:I.length-=9},L.prototype.imulK=function(I){I.words[I.length]=0,I.words[I.length+1]=0,I.length+=2;for(var A=0,E=0;E<I.length;E++){var b=0|I.words[E];A+=977*b,I.words[E]=67108863&A,A=64*b+(A/67108864|0)}return I.words[I.length-1]===0&&(I.length--,I.words[I.length-1]===0&&I.length--),I},l(R,O),l($,O),l(V,O),V.prototype.imulK=function(I){for(var A=0,E=0;E<I.length;E++){var b=19*(0|I.words[E])+A,w=67108863&b;b>>>=26,I.words[E]=w,A=b}return A!==0&&(I.words[I.length++]=A),I},d._prime=function(I){if(T[I])return T[I];var A;if(I==="k256")A=new L;else if(I==="p224")A=new R;else if(I==="p192")A=new $;else{if(I!=="p25519")throw new Error("Unknown prime "+I);A=new V}return T[I]=A,A},z.prototype._verify1=function(I){a(I.negative===0,"red works only with positives"),a(I.red,"red works only with red numbers")},z.prototype._verify2=function(I,A){a((I.negative|A.negative)==0,"red works only with positives"),a(I.red&&I.red===A.red,"red works only with red numbers")},z.prototype.imod=function(I){return this.prime?this.prime.ireduce(I)._forceRed(this):I.umod(this.m)._forceRed(this)},z.prototype.neg=function(I){return I.isZero()?I.clone():this.m.sub(I)._forceRed(this)},z.prototype.add=function(I,A){this._verify2(I,A);var E=I.add(A);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},z.prototype.iadd=function(I,A){this._verify2(I,A);var E=I.iadd(A);return E.cmp(this.m)>=0&&E.isub(this.m),E},z.prototype.sub=function(I,A){this._verify2(I,A);var E=I.sub(A);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},z.prototype.isub=function(I,A){this._verify2(I,A);var E=I.isub(A);return E.cmpn(0)<0&&E.iadd(this.m),E},z.prototype.shl=function(I,A){return this._verify1(I),this.imod(I.ushln(A))},z.prototype.imul=function(I,A){return this._verify2(I,A),this.imod(I.imul(A))},z.prototype.mul=function(I,A){return this._verify2(I,A),this.imod(I.mul(A))},z.prototype.isqr=function(I){return this.imul(I,I.clone())},z.prototype.sqr=function(I){return this.mul(I,I)},z.prototype.sqrt=function(I){if(I.isZero())return I.clone();var A=this.m.andln(3);if(a(A%2==1),A===3){var E=this.m.add(new d(1)).iushrn(2);return this.pow(I,E)}for(var b=this.m.subn(1),w=0;!b.isZero()&&b.andln(1)===0;)w++,b.iushrn(1);a(!b.isZero());var C=new d(1).toRed(this),S=C.redNeg(),D=this.m.subn(1).iushrn(1),P=this.m.bitLength();for(P=new d(2*P*P).toRed(this);this.pow(P,D).cmp(S)!==0;)P.redIAdd(S);for(var k=this.pow(P,b),U=this.pow(I,b.addn(1).iushrn(1)),W=this.pow(I,b),X=w;W.cmp(C)!==0;){for(var j=W,q=0;j.cmp(C)!==0;q++)j=j.redSqr();a(q<X);var B=this.pow(k,new d(1).iushln(X-q-1));U=U.redMul(B),k=B.redSqr(),W=W.redMul(k),X=q}return U},z.prototype.invm=function(I){var A=I._invmp(this.m);return A.negative!==0?(A.negative=0,this.imod(A).redNeg()):this.imod(A)},z.prototype.pow=function(I,A){if(A.isZero())return new d(1).toRed(this);if(A.cmpn(1)===0)return I.clone();var E=new Array(16);E[0]=new d(1).toRed(this),E[1]=I;for(var b=2;b<E.length;b++)E[b]=this.mul(E[b-1],I);var w=E[0],C=0,S=0,D=A.bitLength()%26;for(D===0&&(D=26),b=A.length-1;b>=0;b--){for(var P=A.words[b],k=D-1;k>=0;k--){var U=P>>k&1;w!==E[0]&&(w=this.sqr(w)),U!==0||C!==0?(C<<=1,C|=U,(++S===4||b===0&&k===0)&&(w=this.mul(w,E[C]),S=0,C=0)):S=0}D=26}return w},z.prototype.convertTo=function(I){var A=I.umod(this.m);return A===I?A.clone():A},z.prototype.convertFrom=function(I){var A=I.clone();return A.red=null,A},d.mont=function(I){return new H(I)},l(H,z),H.prototype.convertTo=function(I){return this.imod(I.ushln(this.shift))},H.prototype.convertFrom=function(I){var A=this.imod(I.mul(this.rinv));return A.red=null,A},H.prototype.imul=function(I,A){if(I.isZero()||A.isZero())return I.words[0]=0,I.length=1,I;var E=I.imul(A),b=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=E.isub(b).iushrn(this.shift),C=w;return w.cmp(this.m)>=0?C=w.isub(this.m):w.cmpn(0)<0&&(C=w.iadd(this.m)),C._forceRed(this)},H.prototype.mul=function(I,A){if(I.isZero()||A.isZero())return new d(0)._forceRed(this);var E=I.mul(A),b=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),w=E.isub(b).iushrn(this.shift),C=w;return w.cmp(this.m)>=0?C=w.isub(this.m):w.cmpn(0)<0&&(C=w.iadd(this.m)),C._forceRed(this)},H.prototype.invm=function(I){return this.imod(I._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(t,n,s){s.byteLength=function(p){var f=h(p),g=f[0],m=f[1];return 3*(g+m)/4-m},s.toByteArray=function(p){var f,g,m=h(p),v=m[0],_=m[1],x=new a(function(O,L,R){return 3*(L+R)/4-R}(0,v,_)),y=0,T=_>0?v-4:v;for(g=0;g<T;g+=4)f=o[p.charCodeAt(g)]<<18|o[p.charCodeAt(g+1)]<<12|o[p.charCodeAt(g+2)]<<6|o[p.charCodeAt(g+3)],x[y++]=f>>16&255,x[y++]=f>>8&255,x[y++]=255&f;return _===2&&(f=o[p.charCodeAt(g)]<<2|o[p.charCodeAt(g+1)]>>4,x[y++]=255&f),_===1&&(f=o[p.charCodeAt(g)]<<10|o[p.charCodeAt(g+1)]<<4|o[p.charCodeAt(g+2)]>>2,x[y++]=f>>8&255,x[y++]=255&f),x},s.fromByteArray=function(p){for(var f,g=p.length,m=g%3,v=[],_=0,x=g-m;_<x;_+=16383)v.push(u(p,_,_+16383>x?x:_+16383));return m===1?(f=p[g-1],v.push(r[f>>2]+r[f<<4&63]+"==")):m===2&&(f=(p[g-2]<<8)+p[g-1],v.push(r[f>>10]+r[f>>4&63]+r[f<<2&63]+"=")),v.join("")};for(var r=[],o=[],a=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,c=l.length;d<c;++d)r[d]=l[d],o[l.charCodeAt(d)]=d;function h(p){var f=p.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");return g===-1&&(g=f),[g,g===f?0:4-g%4]}function u(p,f,g){for(var m,v,_=[],x=f;x<g;x+=3)m=(p[x]<<16&16711680)+(p[x+1]<<8&65280)+(255&p[x+2]),_.push(r[(v=m)>>18&63]+r[v>>12&63]+r[v>>6&63]+r[63&v]);return _.join("")}o[45]=62,o[95]=63},{}],186:[function(t,n,s){(function(r,o){function a(E,b){if(!E)throw new Error(b||"Assertion failed")}function l(E,b){E.super_=b;var w=function(){};w.prototype=b.prototype,E.prototype=new w,E.prototype.constructor=E}function d(E,b,w){if(d.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&(b!=="le"&&b!=="be"||(w=b,b=10),this._init(E||0,b||10,w||"be"))}var c;typeof r=="object"?r.exports=d:(void 0).BN=d,d.BN=d,d.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:t("buffer").Buffer}catch{}function h(E,b){var w=E.charCodeAt(b);return w>=48&&w<=57?w-48:w>=65&&w<=70?w-55:w>=97&&w<=102?w-87:void a(!1,"Invalid character in "+E)}function u(E,b,w){var C=h(E,w);return w-1>=b&&(C|=h(E,w-1)<<4),C}function p(E,b,w,C){for(var S=0,D=0,P=Math.min(E.length,w),k=b;k<P;k++){var U=E.charCodeAt(k)-48;S*=C,D=U>=49?U-49+10:U>=17?U-17+10:U,a(U>=0&&D<C,"Invalid character"),S+=D}return S}function f(E,b){E.words=b.words,E.length=b.length,E.negative=b.negative,E.red=b.red}if(d.isBN=function(E){return E instanceof d||E!==null&&typeof E=="object"&&E.constructor.wordSize===d.wordSize&&Array.isArray(E.words)},d.max=function(E,b){return E.cmp(b)>0?E:b},d.min=function(E,b){return E.cmp(b)<0?E:b},d.prototype._init=function(E,b,w){if(typeof E=="number")return this._initNumber(E,b,w);if(typeof E=="object")return this._initArray(E,b,w);b==="hex"&&(b=16),a(b===(0|b)&&b>=2&&b<=36);var C=0;(E=E.toString().replace(/\s+/g,""))[0]==="-"&&(C++,this.negative=1),C<E.length&&(b===16?this._parseHex(E,C,w):(this._parseBase(E,b,C),w==="le"&&this._initArray(this.toArray(),b,w)))},d.prototype._initNumber=function(E,b,w){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[67108863&E],this.length=1):E<4503599627370496?(this.words=[67108863&E,E/67108864&67108863],this.length=2):(a(E<9007199254740992),this.words=[67108863&E,E/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),b,w)},d.prototype._initArray=function(E,b,w){if(a(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var S,D,P=0;if(w==="be")for(C=E.length-1,S=0;C>=0;C-=3)D=E[C]|E[C-1]<<8|E[C-2]<<16,this.words[S]|=D<<P&67108863,this.words[S+1]=D>>>26-P&67108863,(P+=24)>=26&&(P-=26,S++);else if(w==="le")for(C=0,S=0;C<E.length;C+=3)D=E[C]|E[C+1]<<8|E[C+2]<<16,this.words[S]|=D<<P&67108863,this.words[S+1]=D>>>26-P&67108863,(P+=24)>=26&&(P-=26,S++);return this._strip()},d.prototype._parseHex=function(E,b,w){this.length=Math.ceil((E.length-b)/6),this.words=new Array(this.length);for(var C=0;C<this.length;C++)this.words[C]=0;var S,D=0,P=0;if(w==="be")for(C=E.length-1;C>=b;C-=2)S=u(E,b,C)<<D,this.words[P]|=67108863&S,D>=18?(D-=18,P+=1,this.words[P]|=S>>>26):D+=8;else for(C=(E.length-b)%2==0?b+1:b;C<E.length;C+=2)S=u(E,b,C)<<D,this.words[P]|=67108863&S,D>=18?(D-=18,P+=1,this.words[P]|=S>>>26):D+=8;this._strip()},d.prototype._parseBase=function(E,b,w){this.words=[0],this.length=1;for(var C=0,S=1;S<=67108863;S*=b)C++;C--,S=S/b|0;for(var D=E.length-w,P=D%C,k=Math.min(D,D-P)+w,U=0,W=w;W<k;W+=C)U=p(E,W,W+C,b),this.imuln(S),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(P!==0){var X=1;for(U=p(E,W,E.length,b),W=0;W<P;W++)X*=b;this.imuln(X),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}this._strip()},d.prototype.copy=function(E){E.words=new Array(this.length);for(var b=0;b<this.length;b++)E.words[b]=this.words[b];E.length=this.length,E.negative=this.negative,E.red=this.red},d.prototype._move=function(E){f(E,this)},d.prototype.clone=function(){var E=new d(null);return this.copy(E),E},d.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},d.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},d.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{d.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{d.prototype.inspect=g}else d.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];d.prototype.toString=function(E,b){var w;if(b=0|b||1,(E=E||10)===16||E==="hex"){w="";for(var C=0,S=0,D=0;D<this.length;D++){var P=this.words[D],k=(16777215&(P<<C|S)).toString(16);S=P>>>24-C&16777215,(C+=2)>=26&&(C-=26,D--),w=S!==0||D!==this.length-1?m[6-k.length]+k+w:k+w}for(S!==0&&(w=S.toString(16)+w);w.length%b!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(E===(0|E)&&E>=2&&E<=36){var U=v[E],W=_[E];w="";var X=this.clone();for(X.negative=0;!X.isZero();){var j=X.modrn(W).toString(E);w=(X=X.idivn(W)).isZero()?j+w:m[U-j.length]+j+w}for(this.isZero()&&(w="0"+w);w.length%b!=0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}a(!1,"Base should be between 2 and 36")},d.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=67108864*this.words[1]:this.length===3&&this.words[2]===1?E+=4503599627370496+67108864*this.words[1]:this.length>2&&a(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},d.prototype.toJSON=function(){return this.toString(16,2)},c&&(d.prototype.toBuffer=function(E,b){return this.toArrayLike(c,E,b)}),d.prototype.toArray=function(E,b){return this.toArrayLike(Array,E,b)};function x(E,b,w){w.negative=b.negative^E.negative;var C=E.length+b.length|0;w.length=C,C=C-1|0;var S=0|E.words[0],D=0|b.words[0],P=S*D,k=67108863&P,U=P/67108864|0;w.words[0]=k;for(var W=1;W<C;W++){for(var X=U>>>26,j=67108863&U,q=Math.min(W,b.length-1),B=Math.max(0,W-E.length+1);B<=q;B++){var F=W-B|0;X+=(P=(S=0|E.words[F])*(D=0|b.words[B])+j)/67108864|0,j=67108863&P}w.words[W]=0|j,U=0|X}return U!==0?w.words[W]=0|U:w.length--,w._strip()}d.prototype.toArrayLike=function(E,b,w){this._strip();var C=this.byteLength(),S=w||Math.max(1,C);a(C<=S,"byte array longer than desired length"),a(S>0,"Requested array length <= 0");var D=function(P,k){return P.allocUnsafe?P.allocUnsafe(k):new P(k)}(E,S);return this["_toArrayLike"+(b==="le"?"LE":"BE")](D,C),D},d.prototype._toArrayLikeLE=function(E,b){for(var w=0,C=0,S=0,D=0;S<this.length;S++){var P=this.words[S]<<D|C;E[w++]=255&P,w<E.length&&(E[w++]=P>>8&255),w<E.length&&(E[w++]=P>>16&255),D===6?(w<E.length&&(E[w++]=P>>24&255),C=0,D=0):(C=P>>>24,D+=2)}if(w<E.length)for(E[w++]=C;w<E.length;)E[w++]=0},d.prototype._toArrayLikeBE=function(E,b){for(var w=E.length-1,C=0,S=0,D=0;S<this.length;S++){var P=this.words[S]<<D|C;E[w--]=255&P,w>=0&&(E[w--]=P>>8&255),w>=0&&(E[w--]=P>>16&255),D===6?(w>=0&&(E[w--]=P>>24&255),C=0,D=0):(C=P>>>24,D+=2)}if(w>=0)for(E[w--]=C;w>=0;)E[w--]=0},Math.clz32?d.prototype._countBits=function(E){return 32-Math.clz32(E)}:d.prototype._countBits=function(E){var b=E,w=0;return b>=4096&&(w+=13,b>>>=13),b>=64&&(w+=7,b>>>=7),b>=8&&(w+=4,b>>>=4),b>=2&&(w+=2,b>>>=2),w+b},d.prototype._zeroBits=function(E){if(E===0)return 26;var b=E,w=0;return!(8191&b)&&(w+=13,b>>>=13),!(127&b)&&(w+=7,b>>>=7),!(15&b)&&(w+=4,b>>>=4),!(3&b)&&(w+=2,b>>>=2),!(1&b)&&w++,w},d.prototype.bitLength=function(){var E=this.words[this.length-1],b=this._countBits(E);return 26*(this.length-1)+b},d.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,b=0;b<this.length;b++){var w=this._zeroBits(this.words[b]);if(E+=w,w!==26)break}return E},d.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},d.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},d.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},d.prototype.isNeg=function(){return this.negative!==0},d.prototype.neg=function(){return this.clone().ineg()},d.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},d.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var b=0;b<E.length;b++)this.words[b]=this.words[b]|E.words[b];return this._strip()},d.prototype.ior=function(E){return a((this.negative|E.negative)==0),this.iuor(E)},d.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},d.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},d.prototype.iuand=function(E){var b;b=this.length>E.length?E:this;for(var w=0;w<b.length;w++)this.words[w]=this.words[w]&E.words[w];return this.length=b.length,this._strip()},d.prototype.iand=function(E){return a((this.negative|E.negative)==0),this.iuand(E)},d.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},d.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},d.prototype.iuxor=function(E){var b,w;this.length>E.length?(b=this,w=E):(b=E,w=this);for(var C=0;C<w.length;C++)this.words[C]=b.words[C]^w.words[C];if(this!==b)for(;C<b.length;C++)this.words[C]=b.words[C];return this.length=b.length,this._strip()},d.prototype.ixor=function(E){return a((this.negative|E.negative)==0),this.iuxor(E)},d.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},d.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},d.prototype.inotn=function(E){a(typeof E=="number"&&E>=0);var b=0|Math.ceil(E/26),w=E%26;this._expand(b),w>0&&b--;for(var C=0;C<b;C++)this.words[C]=67108863&~this.words[C];return w>0&&(this.words[C]=~this.words[C]&67108863>>26-w),this._strip()},d.prototype.notn=function(E){return this.clone().inotn(E)},d.prototype.setn=function(E,b){a(typeof E=="number"&&E>=0);var w=E/26|0,C=E%26;return this._expand(w+1),this.words[w]=b?this.words[w]|1<<C:this.words[w]&~(1<<C),this._strip()},d.prototype.iadd=function(E){var b,w,C;if(this.negative!==0&&E.negative===0)return this.negative=0,b=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,b=this.isub(E),E.negative=1,b._normSign();this.length>E.length?(w=this,C=E):(w=E,C=this);for(var S=0,D=0;D<C.length;D++)b=(0|w.words[D])+(0|C.words[D])+S,this.words[D]=67108863&b,S=b>>>26;for(;S!==0&&D<w.length;D++)b=(0|w.words[D])+S,this.words[D]=67108863&b,S=b>>>26;if(this.length=w.length,S!==0)this.words[this.length]=S,this.length++;else if(w!==this)for(;D<w.length;D++)this.words[D]=w.words[D];return this},d.prototype.add=function(E){var b;return E.negative!==0&&this.negative===0?(E.negative=0,b=this.sub(E),E.negative^=1,b):E.negative===0&&this.negative!==0?(this.negative=0,b=E.sub(this),this.negative=1,b):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},d.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var b=this.iadd(E);return E.negative=1,b._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var w,C,S=this.cmp(E);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(w=this,C=E):(w=E,C=this);for(var D=0,P=0;P<C.length;P++)D=(b=(0|w.words[P])-(0|C.words[P])+D)>>26,this.words[P]=67108863&b;for(;D!==0&&P<w.length;P++)D=(b=(0|w.words[P])+D)>>26,this.words[P]=67108863&b;if(D===0&&P<w.length&&w!==this)for(;P<w.length;P++)this.words[P]=w.words[P];return this.length=Math.max(this.length,P),w!==this&&(this.negative=1),this._strip()},d.prototype.sub=function(E){return this.clone().isub(E)};var y=function(E,b,w){var C,S,D,P=E.words,k=b.words,U=w.words,W=0,X=0|P[0],j=8191&X,q=X>>>13,B=0|P[1],F=8191&B,K=B>>>13,ee=0|P[2],Q=8191&ee,Z=ee>>>13,J=0|P[3],ae=8191&J,ce=J>>>13,te=0|P[4],oe=8191&te,le=te>>>13,fe=0|P[5],pe=8191&fe,me=fe>>>13,ye=0|P[6],we=8191&ye,De=ye>>>13,Ve=0|P[7],Le=8191&Ve,$e=Ve>>>13,rt=0|P[8],nt=8191&rt,Je=rt>>>13,et=0|P[9],qe=8191&et,Fe=et>>>13,Ye=0|k[0],tt=8191&Ye,Ze=Ye>>>13,Vt=0|k[1],un=8191&Vt,dt=Vt>>>13,tn=0|k[2],Mt=8191&tn,Ct=tn>>>13,xn=0|k[3],nn=8191&xn,ft=xn>>>13,Kt=0|k[4],vn=8191&Kt,yt=Kt>>>13,on=0|k[5],mn=8191&on,lt=on>>>13,he=0|k[6],ge=8191&he,Se=he>>>13,He=0|k[7],_t=8191&He,ze=He>>>13,wt=0|k[8],vt=8191&wt,ct=wt>>>13,Tt=0|k[9],Et=8191&Tt,Lt=Tt>>>13;w.negative=E.negative^b.negative,w.length=19;var Qn=(W+(C=Math.imul(j,tt))|0)+((8191&(S=(S=Math.imul(j,Ze))+Math.imul(q,tt)|0))<<13)|0;W=((D=Math.imul(q,Ze))+(S>>>13)|0)+(Qn>>>26)|0,Qn&=67108863,C=Math.imul(F,tt),S=(S=Math.imul(F,Ze))+Math.imul(K,tt)|0,D=Math.imul(K,Ze);var Pn=(W+(C=C+Math.imul(j,un)|0)|0)+((8191&(S=(S=S+Math.imul(j,dt)|0)+Math.imul(q,un)|0))<<13)|0;W=((D=D+Math.imul(q,dt)|0)+(S>>>13)|0)+(Pn>>>26)|0,Pn&=67108863,C=Math.imul(Q,tt),S=(S=Math.imul(Q,Ze))+Math.imul(Z,tt)|0,D=Math.imul(Z,Ze),C=C+Math.imul(F,un)|0,S=(S=S+Math.imul(F,dt)|0)+Math.imul(K,un)|0,D=D+Math.imul(K,dt)|0;var oi=(W+(C=C+Math.imul(j,Mt)|0)|0)+((8191&(S=(S=S+Math.imul(j,Ct)|0)+Math.imul(q,Mt)|0))<<13)|0;W=((D=D+Math.imul(q,Ct)|0)+(S>>>13)|0)+(oi>>>26)|0,oi&=67108863,C=Math.imul(ae,tt),S=(S=Math.imul(ae,Ze))+Math.imul(ce,tt)|0,D=Math.imul(ce,Ze),C=C+Math.imul(Q,un)|0,S=(S=S+Math.imul(Q,dt)|0)+Math.imul(Z,un)|0,D=D+Math.imul(Z,dt)|0,C=C+Math.imul(F,Mt)|0,S=(S=S+Math.imul(F,Ct)|0)+Math.imul(K,Mt)|0,D=D+Math.imul(K,Ct)|0;var ai=(W+(C=C+Math.imul(j,nn)|0)|0)+((8191&(S=(S=S+Math.imul(j,ft)|0)+Math.imul(q,nn)|0))<<13)|0;W=((D=D+Math.imul(q,ft)|0)+(S>>>13)|0)+(ai>>>26)|0,ai&=67108863,C=Math.imul(oe,tt),S=(S=Math.imul(oe,Ze))+Math.imul(le,tt)|0,D=Math.imul(le,Ze),C=C+Math.imul(ae,un)|0,S=(S=S+Math.imul(ae,dt)|0)+Math.imul(ce,un)|0,D=D+Math.imul(ce,dt)|0,C=C+Math.imul(Q,Mt)|0,S=(S=S+Math.imul(Q,Ct)|0)+Math.imul(Z,Mt)|0,D=D+Math.imul(Z,Ct)|0,C=C+Math.imul(F,nn)|0,S=(S=S+Math.imul(F,ft)|0)+Math.imul(K,nn)|0,D=D+Math.imul(K,ft)|0;var rs=(W+(C=C+Math.imul(j,vn)|0)|0)+((8191&(S=(S=S+Math.imul(j,yt)|0)+Math.imul(q,vn)|0))<<13)|0;W=((D=D+Math.imul(q,yt)|0)+(S>>>13)|0)+(rs>>>26)|0,rs&=67108863,C=Math.imul(pe,tt),S=(S=Math.imul(pe,Ze))+Math.imul(me,tt)|0,D=Math.imul(me,Ze),C=C+Math.imul(oe,un)|0,S=(S=S+Math.imul(oe,dt)|0)+Math.imul(le,un)|0,D=D+Math.imul(le,dt)|0,C=C+Math.imul(ae,Mt)|0,S=(S=S+Math.imul(ae,Ct)|0)+Math.imul(ce,Mt)|0,D=D+Math.imul(ce,Ct)|0,C=C+Math.imul(Q,nn)|0,S=(S=S+Math.imul(Q,ft)|0)+Math.imul(Z,nn)|0,D=D+Math.imul(Z,ft)|0,C=C+Math.imul(F,vn)|0,S=(S=S+Math.imul(F,yt)|0)+Math.imul(K,vn)|0,D=D+Math.imul(K,yt)|0;var re=(W+(C=C+Math.imul(j,mn)|0)|0)+((8191&(S=(S=S+Math.imul(j,lt)|0)+Math.imul(q,mn)|0))<<13)|0;W=((D=D+Math.imul(q,lt)|0)+(S>>>13)|0)+(re>>>26)|0,re&=67108863,C=Math.imul(we,tt),S=(S=Math.imul(we,Ze))+Math.imul(De,tt)|0,D=Math.imul(De,Ze),C=C+Math.imul(pe,un)|0,S=(S=S+Math.imul(pe,dt)|0)+Math.imul(me,un)|0,D=D+Math.imul(me,dt)|0,C=C+Math.imul(oe,Mt)|0,S=(S=S+Math.imul(oe,Ct)|0)+Math.imul(le,Mt)|0,D=D+Math.imul(le,Ct)|0,C=C+Math.imul(ae,nn)|0,S=(S=S+Math.imul(ae,ft)|0)+Math.imul(ce,nn)|0,D=D+Math.imul(ce,ft)|0,C=C+Math.imul(Q,vn)|0,S=(S=S+Math.imul(Q,yt)|0)+Math.imul(Z,vn)|0,D=D+Math.imul(Z,yt)|0,C=C+Math.imul(F,mn)|0,S=(S=S+Math.imul(F,lt)|0)+Math.imul(K,mn)|0,D=D+Math.imul(K,lt)|0;var _e=(W+(C=C+Math.imul(j,ge)|0)|0)+((8191&(S=(S=S+Math.imul(j,Se)|0)+Math.imul(q,ge)|0))<<13)|0;W=((D=D+Math.imul(q,Se)|0)+(S>>>13)|0)+(_e>>>26)|0,_e&=67108863,C=Math.imul(Le,tt),S=(S=Math.imul(Le,Ze))+Math.imul($e,tt)|0,D=Math.imul($e,Ze),C=C+Math.imul(we,un)|0,S=(S=S+Math.imul(we,dt)|0)+Math.imul(De,un)|0,D=D+Math.imul(De,dt)|0,C=C+Math.imul(pe,Mt)|0,S=(S=S+Math.imul(pe,Ct)|0)+Math.imul(me,Mt)|0,D=D+Math.imul(me,Ct)|0,C=C+Math.imul(oe,nn)|0,S=(S=S+Math.imul(oe,ft)|0)+Math.imul(le,nn)|0,D=D+Math.imul(le,ft)|0,C=C+Math.imul(ae,vn)|0,S=(S=S+Math.imul(ae,yt)|0)+Math.imul(ce,vn)|0,D=D+Math.imul(ce,yt)|0,C=C+Math.imul(Q,mn)|0,S=(S=S+Math.imul(Q,lt)|0)+Math.imul(Z,mn)|0,D=D+Math.imul(Z,lt)|0,C=C+Math.imul(F,ge)|0,S=(S=S+Math.imul(F,Se)|0)+Math.imul(K,ge)|0,D=D+Math.imul(K,Se)|0;var Ee=(W+(C=C+Math.imul(j,_t)|0)|0)+((8191&(S=(S=S+Math.imul(j,ze)|0)+Math.imul(q,_t)|0))<<13)|0;W=((D=D+Math.imul(q,ze)|0)+(S>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,C=Math.imul(nt,tt),S=(S=Math.imul(nt,Ze))+Math.imul(Je,tt)|0,D=Math.imul(Je,Ze),C=C+Math.imul(Le,un)|0,S=(S=S+Math.imul(Le,dt)|0)+Math.imul($e,un)|0,D=D+Math.imul($e,dt)|0,C=C+Math.imul(we,Mt)|0,S=(S=S+Math.imul(we,Ct)|0)+Math.imul(De,Mt)|0,D=D+Math.imul(De,Ct)|0,C=C+Math.imul(pe,nn)|0,S=(S=S+Math.imul(pe,ft)|0)+Math.imul(me,nn)|0,D=D+Math.imul(me,ft)|0,C=C+Math.imul(oe,vn)|0,S=(S=S+Math.imul(oe,yt)|0)+Math.imul(le,vn)|0,D=D+Math.imul(le,yt)|0,C=C+Math.imul(ae,mn)|0,S=(S=S+Math.imul(ae,lt)|0)+Math.imul(ce,mn)|0,D=D+Math.imul(ce,lt)|0,C=C+Math.imul(Q,ge)|0,S=(S=S+Math.imul(Q,Se)|0)+Math.imul(Z,ge)|0,D=D+Math.imul(Z,Se)|0,C=C+Math.imul(F,_t)|0,S=(S=S+Math.imul(F,ze)|0)+Math.imul(K,_t)|0,D=D+Math.imul(K,ze)|0;var ke=(W+(C=C+Math.imul(j,vt)|0)|0)+((8191&(S=(S=S+Math.imul(j,ct)|0)+Math.imul(q,vt)|0))<<13)|0;W=((D=D+Math.imul(q,ct)|0)+(S>>>13)|0)+(ke>>>26)|0,ke&=67108863,C=Math.imul(qe,tt),S=(S=Math.imul(qe,Ze))+Math.imul(Fe,tt)|0,D=Math.imul(Fe,Ze),C=C+Math.imul(nt,un)|0,S=(S=S+Math.imul(nt,dt)|0)+Math.imul(Je,un)|0,D=D+Math.imul(Je,dt)|0,C=C+Math.imul(Le,Mt)|0,S=(S=S+Math.imul(Le,Ct)|0)+Math.imul($e,Mt)|0,D=D+Math.imul($e,Ct)|0,C=C+Math.imul(we,nn)|0,S=(S=S+Math.imul(we,ft)|0)+Math.imul(De,nn)|0,D=D+Math.imul(De,ft)|0,C=C+Math.imul(pe,vn)|0,S=(S=S+Math.imul(pe,yt)|0)+Math.imul(me,vn)|0,D=D+Math.imul(me,yt)|0,C=C+Math.imul(oe,mn)|0,S=(S=S+Math.imul(oe,lt)|0)+Math.imul(le,mn)|0,D=D+Math.imul(le,lt)|0,C=C+Math.imul(ae,ge)|0,S=(S=S+Math.imul(ae,Se)|0)+Math.imul(ce,ge)|0,D=D+Math.imul(ce,Se)|0,C=C+Math.imul(Q,_t)|0,S=(S=S+Math.imul(Q,ze)|0)+Math.imul(Z,_t)|0,D=D+Math.imul(Z,ze)|0,C=C+Math.imul(F,vt)|0,S=(S=S+Math.imul(F,ct)|0)+Math.imul(K,vt)|0,D=D+Math.imul(K,ct)|0;var it=(W+(C=C+Math.imul(j,Et)|0)|0)+((8191&(S=(S=S+Math.imul(j,Lt)|0)+Math.imul(q,Et)|0))<<13)|0;W=((D=D+Math.imul(q,Lt)|0)+(S>>>13)|0)+(it>>>26)|0,it&=67108863,C=Math.imul(qe,un),S=(S=Math.imul(qe,dt))+Math.imul(Fe,un)|0,D=Math.imul(Fe,dt),C=C+Math.imul(nt,Mt)|0,S=(S=S+Math.imul(nt,Ct)|0)+Math.imul(Je,Mt)|0,D=D+Math.imul(Je,Ct)|0,C=C+Math.imul(Le,nn)|0,S=(S=S+Math.imul(Le,ft)|0)+Math.imul($e,nn)|0,D=D+Math.imul($e,ft)|0,C=C+Math.imul(we,vn)|0,S=(S=S+Math.imul(we,yt)|0)+Math.imul(De,vn)|0,D=D+Math.imul(De,yt)|0,C=C+Math.imul(pe,mn)|0,S=(S=S+Math.imul(pe,lt)|0)+Math.imul(me,mn)|0,D=D+Math.imul(me,lt)|0,C=C+Math.imul(oe,ge)|0,S=(S=S+Math.imul(oe,Se)|0)+Math.imul(le,ge)|0,D=D+Math.imul(le,Se)|0,C=C+Math.imul(ae,_t)|0,S=(S=S+Math.imul(ae,ze)|0)+Math.imul(ce,_t)|0,D=D+Math.imul(ce,ze)|0,C=C+Math.imul(Q,vt)|0,S=(S=S+Math.imul(Q,ct)|0)+Math.imul(Z,vt)|0,D=D+Math.imul(Z,ct)|0;var Ne=(W+(C=C+Math.imul(F,Et)|0)|0)+((8191&(S=(S=S+Math.imul(F,Lt)|0)+Math.imul(K,Et)|0))<<13)|0;W=((D=D+Math.imul(K,Lt)|0)+(S>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,C=Math.imul(qe,Mt),S=(S=Math.imul(qe,Ct))+Math.imul(Fe,Mt)|0,D=Math.imul(Fe,Ct),C=C+Math.imul(nt,nn)|0,S=(S=S+Math.imul(nt,ft)|0)+Math.imul(Je,nn)|0,D=D+Math.imul(Je,ft)|0,C=C+Math.imul(Le,vn)|0,S=(S=S+Math.imul(Le,yt)|0)+Math.imul($e,vn)|0,D=D+Math.imul($e,yt)|0,C=C+Math.imul(we,mn)|0,S=(S=S+Math.imul(we,lt)|0)+Math.imul(De,mn)|0,D=D+Math.imul(De,lt)|0,C=C+Math.imul(pe,ge)|0,S=(S=S+Math.imul(pe,Se)|0)+Math.imul(me,ge)|0,D=D+Math.imul(me,Se)|0,C=C+Math.imul(oe,_t)|0,S=(S=S+Math.imul(oe,ze)|0)+Math.imul(le,_t)|0,D=D+Math.imul(le,ze)|0,C=C+Math.imul(ae,vt)|0,S=(S=S+Math.imul(ae,ct)|0)+Math.imul(ce,vt)|0,D=D+Math.imul(ce,ct)|0;var je=(W+(C=C+Math.imul(Q,Et)|0)|0)+((8191&(S=(S=S+Math.imul(Q,Lt)|0)+Math.imul(Z,Et)|0))<<13)|0;W=((D=D+Math.imul(Z,Lt)|0)+(S>>>13)|0)+(je>>>26)|0,je&=67108863,C=Math.imul(qe,nn),S=(S=Math.imul(qe,ft))+Math.imul(Fe,nn)|0,D=Math.imul(Fe,ft),C=C+Math.imul(nt,vn)|0,S=(S=S+Math.imul(nt,yt)|0)+Math.imul(Je,vn)|0,D=D+Math.imul(Je,yt)|0,C=C+Math.imul(Le,mn)|0,S=(S=S+Math.imul(Le,lt)|0)+Math.imul($e,mn)|0,D=D+Math.imul($e,lt)|0,C=C+Math.imul(we,ge)|0,S=(S=S+Math.imul(we,Se)|0)+Math.imul(De,ge)|0,D=D+Math.imul(De,Se)|0,C=C+Math.imul(pe,_t)|0,S=(S=S+Math.imul(pe,ze)|0)+Math.imul(me,_t)|0,D=D+Math.imul(me,ze)|0,C=C+Math.imul(oe,vt)|0,S=(S=S+Math.imul(oe,ct)|0)+Math.imul(le,vt)|0,D=D+Math.imul(le,ct)|0;var Qt=(W+(C=C+Math.imul(ae,Et)|0)|0)+((8191&(S=(S=S+Math.imul(ae,Lt)|0)+Math.imul(ce,Et)|0))<<13)|0;W=((D=D+Math.imul(ce,Lt)|0)+(S>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,C=Math.imul(qe,vn),S=(S=Math.imul(qe,yt))+Math.imul(Fe,vn)|0,D=Math.imul(Fe,yt),C=C+Math.imul(nt,mn)|0,S=(S=S+Math.imul(nt,lt)|0)+Math.imul(Je,mn)|0,D=D+Math.imul(Je,lt)|0,C=C+Math.imul(Le,ge)|0,S=(S=S+Math.imul(Le,Se)|0)+Math.imul($e,ge)|0,D=D+Math.imul($e,Se)|0,C=C+Math.imul(we,_t)|0,S=(S=S+Math.imul(we,ze)|0)+Math.imul(De,_t)|0,D=D+Math.imul(De,ze)|0,C=C+Math.imul(pe,vt)|0,S=(S=S+Math.imul(pe,ct)|0)+Math.imul(me,vt)|0,D=D+Math.imul(me,ct)|0;var Rt=(W+(C=C+Math.imul(oe,Et)|0)|0)+((8191&(S=(S=S+Math.imul(oe,Lt)|0)+Math.imul(le,Et)|0))<<13)|0;W=((D=D+Math.imul(le,Lt)|0)+(S>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,C=Math.imul(qe,mn),S=(S=Math.imul(qe,lt))+Math.imul(Fe,mn)|0,D=Math.imul(Fe,lt),C=C+Math.imul(nt,ge)|0,S=(S=S+Math.imul(nt,Se)|0)+Math.imul(Je,ge)|0,D=D+Math.imul(Je,Se)|0,C=C+Math.imul(Le,_t)|0,S=(S=S+Math.imul(Le,ze)|0)+Math.imul($e,_t)|0,D=D+Math.imul($e,ze)|0,C=C+Math.imul(we,vt)|0,S=(S=S+Math.imul(we,ct)|0)+Math.imul(De,vt)|0,D=D+Math.imul(De,ct)|0;var $t=(W+(C=C+Math.imul(pe,Et)|0)|0)+((8191&(S=(S=S+Math.imul(pe,Lt)|0)+Math.imul(me,Et)|0))<<13)|0;W=((D=D+Math.imul(me,Lt)|0)+(S>>>13)|0)+($t>>>26)|0,$t&=67108863,C=Math.imul(qe,ge),S=(S=Math.imul(qe,Se))+Math.imul(Fe,ge)|0,D=Math.imul(Fe,Se),C=C+Math.imul(nt,_t)|0,S=(S=S+Math.imul(nt,ze)|0)+Math.imul(Je,_t)|0,D=D+Math.imul(Je,ze)|0,C=C+Math.imul(Le,vt)|0,S=(S=S+Math.imul(Le,ct)|0)+Math.imul($e,vt)|0,D=D+Math.imul($e,ct)|0;var xt=(W+(C=C+Math.imul(we,Et)|0)|0)+((8191&(S=(S=S+Math.imul(we,Lt)|0)+Math.imul(De,Et)|0))<<13)|0;W=((D=D+Math.imul(De,Lt)|0)+(S>>>13)|0)+(xt>>>26)|0,xt&=67108863,C=Math.imul(qe,_t),S=(S=Math.imul(qe,ze))+Math.imul(Fe,_t)|0,D=Math.imul(Fe,ze),C=C+Math.imul(nt,vt)|0,S=(S=S+Math.imul(nt,ct)|0)+Math.imul(Je,vt)|0,D=D+Math.imul(Je,ct)|0;var bn=(W+(C=C+Math.imul(Le,Et)|0)|0)+((8191&(S=(S=S+Math.imul(Le,Lt)|0)+Math.imul($e,Et)|0))<<13)|0;W=((D=D+Math.imul($e,Lt)|0)+(S>>>13)|0)+(bn>>>26)|0,bn&=67108863,C=Math.imul(qe,vt),S=(S=Math.imul(qe,ct))+Math.imul(Fe,vt)|0,D=Math.imul(Fe,ct);var yn=(W+(C=C+Math.imul(nt,Et)|0)|0)+((8191&(S=(S=S+Math.imul(nt,Lt)|0)+Math.imul(Je,Et)|0))<<13)|0;W=((D=D+Math.imul(Je,Lt)|0)+(S>>>13)|0)+(yn>>>26)|0,yn&=67108863;var Sn=(W+(C=Math.imul(qe,Et))|0)+((8191&(S=(S=Math.imul(qe,Lt))+Math.imul(Fe,Et)|0))<<13)|0;return W=((D=Math.imul(Fe,Lt))+(S>>>13)|0)+(Sn>>>26)|0,Sn&=67108863,U[0]=Qn,U[1]=Pn,U[2]=oi,U[3]=ai,U[4]=rs,U[5]=re,U[6]=_e,U[7]=Ee,U[8]=ke,U[9]=it,U[10]=Ne,U[11]=je,U[12]=Qt,U[13]=Rt,U[14]=$t,U[15]=xt,U[16]=bn,U[17]=yn,U[18]=Sn,W!==0&&(U[19]=W,w.length++),w};function T(E,b,w){w.negative=b.negative^E.negative,w.length=E.length+b.length;for(var C=0,S=0,D=0;D<w.length-1;D++){var P=S;S=0;for(var k=67108863&C,U=Math.min(D,b.length-1),W=Math.max(0,D-E.length+1);W<=U;W++){var X=D-W,j=(0|E.words[X])*(0|b.words[W]),q=67108863&j;k=67108863&(q=q+k|0),S+=(P=(P=P+(j/67108864|0)|0)+(q>>>26)|0)>>>26,P&=67108863}w.words[D]=k,C=P,P=S}return C!==0?w.words[D]=C:w.length--,w._strip()}function O(E,b,w){return T(E,b,w)}Math.imul||(y=x),d.prototype.mulTo=function(E,b){var w=this.length+E.length;return this.length===10&&E.length===10?y(this,E,b):w<63?x(this,E,b):w<1024?T(this,E,b):O(this,E,b)},d.prototype.mul=function(E){var b=new d(null);return b.words=new Array(this.length+E.length),this.mulTo(E,b)},d.prototype.mulf=function(E){var b=new d(null);return b.words=new Array(this.length+E.length),O(this,E,b)},d.prototype.imul=function(E){return this.clone().mulTo(E,this)},d.prototype.imuln=function(E){var b=E<0;b&&(E=-E),a(typeof E=="number"),a(E<67108864);for(var w=0,C=0;C<this.length;C++){var S=(0|this.words[C])*E,D=(67108863&S)+(67108863&w);w>>=26,w+=S/67108864|0,w+=D>>>26,this.words[C]=67108863&D}return w!==0&&(this.words[C]=w,this.length++),b?this.ineg():this},d.prototype.muln=function(E){return this.clone().imuln(E)},d.prototype.sqr=function(){return this.mul(this)},d.prototype.isqr=function(){return this.imul(this.clone())},d.prototype.pow=function(E){var b=function(D){for(var P=new Array(D.bitLength()),k=0;k<P.length;k++){var U=k/26|0,W=k%26;P[k]=D.words[U]>>>W&1}return P}(E);if(b.length===0)return new d(1);for(var w=this,C=0;C<b.length&&b[C]===0;C++,w=w.sqr());if(++C<b.length)for(var S=w.sqr();C<b.length;C++,S=S.sqr())b[C]!==0&&(w=w.mul(S));return w},d.prototype.iushln=function(E){a(typeof E=="number"&&E>=0);var b,w=E%26,C=(E-w)/26,S=67108863>>>26-w<<26-w;if(w!==0){var D=0;for(b=0;b<this.length;b++){var P=this.words[b]&S,k=(0|this.words[b])-P<<w;this.words[b]=k|D,D=P>>>26-w}D&&(this.words[b]=D,this.length++)}if(C!==0){for(b=this.length-1;b>=0;b--)this.words[b+C]=this.words[b];for(b=0;b<C;b++)this.words[b]=0;this.length+=C}return this._strip()},d.prototype.ishln=function(E){return a(this.negative===0),this.iushln(E)},d.prototype.iushrn=function(E,b,w){var C;a(typeof E=="number"&&E>=0),C=b?(b-b%26)/26:0;var S=E%26,D=Math.min((E-S)/26,this.length),P=67108863^67108863>>>S<<S,k=w;if(C-=D,C=Math.max(0,C),k){for(var U=0;U<D;U++)k.words[U]=this.words[U];k.length=D}if(D!==0)if(this.length>D)for(this.length-=D,U=0;U<this.length;U++)this.words[U]=this.words[U+D];else this.words[0]=0,this.length=1;var W=0;for(U=this.length-1;U>=0&&(W!==0||U>=C);U--){var X=0|this.words[U];this.words[U]=W<<26-S|X>>>S,W=X&P}return k&&W!==0&&(k.words[k.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},d.prototype.ishrn=function(E,b,w){return a(this.negative===0),this.iushrn(E,b,w)},d.prototype.shln=function(E){return this.clone().ishln(E)},d.prototype.ushln=function(E){return this.clone().iushln(E)},d.prototype.shrn=function(E){return this.clone().ishrn(E)},d.prototype.ushrn=function(E){return this.clone().iushrn(E)},d.prototype.testn=function(E){a(typeof E=="number"&&E>=0);var b=E%26,w=(E-b)/26,C=1<<b;return!(this.length<=w)&&!!(this.words[w]&C)},d.prototype.imaskn=function(E){a(typeof E=="number"&&E>=0);var b=E%26,w=(E-b)/26;if(a(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(b!==0&&w++,this.length=Math.min(w,this.length),b!==0){var C=67108863^67108863>>>b<<b;this.words[this.length-1]&=C}return this._strip()},d.prototype.maskn=function(E){return this.clone().imaskn(E)},d.prototype.iaddn=function(E){return a(typeof E=="number"),a(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(0|this.words[0])<=E?(this.words[0]=E-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},d.prototype._iaddn=function(E){this.words[0]+=E;for(var b=0;b<this.length&&this.words[b]>=67108864;b++)this.words[b]-=67108864,b===this.length-1?this.words[b+1]=1:this.words[b+1]++;return this.length=Math.max(this.length,b+1),this},d.prototype.isubn=function(E){if(a(typeof E=="number"),a(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var b=0;b<this.length&&this.words[b]<0;b++)this.words[b]+=67108864,this.words[b+1]-=1;return this._strip()},d.prototype.addn=function(E){return this.clone().iaddn(E)},d.prototype.subn=function(E){return this.clone().isubn(E)},d.prototype.iabs=function(){return this.negative=0,this},d.prototype.abs=function(){return this.clone().iabs()},d.prototype._ishlnsubmul=function(E,b,w){var C,S,D=E.length+w;this._expand(D);var P=0;for(C=0;C<E.length;C++){S=(0|this.words[C+w])+P;var k=(0|E.words[C])*b;P=((S-=67108863&k)>>26)-(k/67108864|0),this.words[C+w]=67108863&S}for(;C<this.length-w;C++)P=(S=(0|this.words[C+w])+P)>>26,this.words[C+w]=67108863&S;if(P===0)return this._strip();for(a(P===-1),P=0,C=0;C<this.length;C++)P=(S=-(0|this.words[C])+P)>>26,this.words[C]=67108863&S;return this.negative=1,this._strip()},d.prototype._wordDiv=function(E,b){var w=(this.length,E.length),C=this.clone(),S=E,D=0|S.words[S.length-1];(w=26-this._countBits(D))!==0&&(S=S.ushln(w),C.iushln(w),D=0|S.words[S.length-1]);var P,k=C.length-S.length;if(b!=="mod"){(P=new d(null)).length=k+1,P.words=new Array(P.length);for(var U=0;U<P.length;U++)P.words[U]=0}var W=C.clone()._ishlnsubmul(S,1,k);W.negative===0&&(C=W,P&&(P.words[k]=1));for(var X=k-1;X>=0;X--){var j=67108864*(0|C.words[S.length+X])+(0|C.words[S.length+X-1]);for(j=Math.min(j/D|0,67108863),C._ishlnsubmul(S,j,X);C.negative!==0;)j--,C.negative=0,C._ishlnsubmul(S,1,X),C.isZero()||(C.negative^=1);P&&(P.words[X]=j)}return P&&P._strip(),C._strip(),b!=="div"&&w!==0&&C.iushrn(w),{div:P||null,mod:C}},d.prototype.divmod=function(E,b,w){return a(!E.isZero()),this.isZero()?{div:new d(0),mod:new d(0)}:this.negative!==0&&E.negative===0?(D=this.neg().divmod(E,b),b!=="mod"&&(C=D.div.neg()),b!=="div"&&(S=D.mod.neg(),w&&S.negative!==0&&S.iadd(E)),{div:C,mod:S}):this.negative===0&&E.negative!==0?(D=this.divmod(E.neg(),b),b!=="mod"&&(C=D.div.neg()),{div:C,mod:D.mod}):this.negative&E.negative?(D=this.neg().divmod(E.neg(),b),b!=="div"&&(S=D.mod.neg(),w&&S.negative!==0&&S.isub(E)),{div:D.div,mod:S}):E.length>this.length||this.cmp(E)<0?{div:new d(0),mod:this}:E.length===1?b==="div"?{div:this.divn(E.words[0]),mod:null}:b==="mod"?{div:null,mod:new d(this.modrn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new d(this.modrn(E.words[0]))}:this._wordDiv(E,b);var C,S,D},d.prototype.div=function(E){return this.divmod(E,"div",!1).div},d.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},d.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},d.prototype.divRound=function(E){var b=this.divmod(E);if(b.mod.isZero())return b.div;var w=b.div.negative!==0?b.mod.isub(E):b.mod,C=E.ushrn(1),S=E.andln(1),D=w.cmp(C);return D<0||S===1&&D===0?b.div:b.div.negative!==0?b.div.isubn(1):b.div.iaddn(1)},d.prototype.modrn=function(E){var b=E<0;b&&(E=-E),a(E<=67108863);for(var w=(1<<26)%E,C=0,S=this.length-1;S>=0;S--)C=(w*C+(0|this.words[S]))%E;return b?-C:C},d.prototype.modn=function(E){return this.modrn(E)},d.prototype.idivn=function(E){var b=E<0;b&&(E=-E),a(E<=67108863);for(var w=0,C=this.length-1;C>=0;C--){var S=(0|this.words[C])+67108864*w;this.words[C]=S/E|0,w=S%E}return this._strip(),b?this.ineg():this},d.prototype.divn=function(E){return this.clone().idivn(E)},d.prototype.egcd=function(E){a(E.negative===0),a(!E.isZero());var b=this,w=E.clone();b=b.negative!==0?b.umod(E):b.clone();for(var C=new d(1),S=new d(0),D=new d(0),P=new d(1),k=0;b.isEven()&&w.isEven();)b.iushrn(1),w.iushrn(1),++k;for(var U=w.clone(),W=b.clone();!b.isZero();){for(var X=0,j=1;!(b.words[0]&j)&&X<26;++X,j<<=1);if(X>0)for(b.iushrn(X);X-- >0;)(C.isOdd()||S.isOdd())&&(C.iadd(U),S.isub(W)),C.iushrn(1),S.iushrn(1);for(var q=0,B=1;!(w.words[0]&B)&&q<26;++q,B<<=1);if(q>0)for(w.iushrn(q);q-- >0;)(D.isOdd()||P.isOdd())&&(D.iadd(U),P.isub(W)),D.iushrn(1),P.iushrn(1);b.cmp(w)>=0?(b.isub(w),C.isub(D),S.isub(P)):(w.isub(b),D.isub(C),P.isub(S))}return{a:D,b:P,gcd:w.iushln(k)}},d.prototype._invmp=function(E){a(E.negative===0),a(!E.isZero());var b=this,w=E.clone();b=b.negative!==0?b.umod(E):b.clone();for(var C,S=new d(1),D=new d(0),P=w.clone();b.cmpn(1)>0&&w.cmpn(1)>0;){for(var k=0,U=1;!(b.words[0]&U)&&k<26;++k,U<<=1);if(k>0)for(b.iushrn(k);k-- >0;)S.isOdd()&&S.iadd(P),S.iushrn(1);for(var W=0,X=1;!(w.words[0]&X)&&W<26;++W,X<<=1);if(W>0)for(w.iushrn(W);W-- >0;)D.isOdd()&&D.iadd(P),D.iushrn(1);b.cmp(w)>=0?(b.isub(w),S.isub(D)):(w.isub(b),D.isub(S))}return(C=b.cmpn(1)===0?S:D).cmpn(0)<0&&C.iadd(E),C},d.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var b=this.clone(),w=E.clone();b.negative=0,w.negative=0;for(var C=0;b.isEven()&&w.isEven();C++)b.iushrn(1),w.iushrn(1);for(;;){for(;b.isEven();)b.iushrn(1);for(;w.isEven();)w.iushrn(1);var S=b.cmp(w);if(S<0){var D=b;b=w,w=D}else if(S===0||w.cmpn(1)===0)break;b.isub(w)}return w.iushln(C)},d.prototype.invm=function(E){return this.egcd(E).a.umod(E)},d.prototype.isEven=function(){return(1&this.words[0])==0},d.prototype.isOdd=function(){return(1&this.words[0])==1},d.prototype.andln=function(E){return this.words[0]&E},d.prototype.bincn=function(E){a(typeof E=="number");var b=E%26,w=(E-b)/26,C=1<<b;if(this.length<=w)return this._expand(w+1),this.words[w]|=C,this;for(var S=C,D=w;S!==0&&D<this.length;D++){var P=0|this.words[D];S=(P+=S)>>>26,P&=67108863,this.words[D]=P}return S!==0&&(this.words[D]=S,this.length++),this},d.prototype.isZero=function(){return this.length===1&&this.words[0]===0},d.prototype.cmpn=function(E){var b,w=E<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;if(this._strip(),this.length>1)b=1;else{w&&(E=-E),a(E<=67108863,"Number is too big");var C=0|this.words[0];b=C===E?0:C<E?-1:1}return this.negative!==0?0|-b:b},d.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var b=this.ucmp(E);return this.negative!==0?0|-b:b},d.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var b=0,w=this.length-1;w>=0;w--){var C=0|this.words[w],S=0|E.words[w];if(C!==S){C<S?b=-1:C>S&&(b=1);break}}return b},d.prototype.gtn=function(E){return this.cmpn(E)===1},d.prototype.gt=function(E){return this.cmp(E)===1},d.prototype.gten=function(E){return this.cmpn(E)>=0},d.prototype.gte=function(E){return this.cmp(E)>=0},d.prototype.ltn=function(E){return this.cmpn(E)===-1},d.prototype.lt=function(E){return this.cmp(E)===-1},d.prototype.lten=function(E){return this.cmpn(E)<=0},d.prototype.lte=function(E){return this.cmp(E)<=0},d.prototype.eqn=function(E){return this.cmpn(E)===0},d.prototype.eq=function(E){return this.cmp(E)===0},d.red=function(E){return new I(E)},d.prototype.toRed=function(E){return a(!this.red,"Already a number in reduction context"),a(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},d.prototype.fromRed=function(){return a(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},d.prototype._forceRed=function(E){return this.red=E,this},d.prototype.forceRed=function(E){return a(!this.red,"Already a number in reduction context"),this._forceRed(E)},d.prototype.redAdd=function(E){return a(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},d.prototype.redIAdd=function(E){return a(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},d.prototype.redSub=function(E){return a(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},d.prototype.redISub=function(E){return a(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},d.prototype.redShl=function(E){return a(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},d.prototype.redMul=function(E){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},d.prototype.redIMul=function(E){return a(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},d.prototype.redSqr=function(){return a(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},d.prototype.redISqr=function(){return a(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},d.prototype.redSqrt=function(){return a(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},d.prototype.redInvm=function(){return a(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},d.prototype.redNeg=function(){return a(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},d.prototype.redPow=function(E){return a(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var L={k256:null,p224:null,p192:null,p25519:null};function R(E,b){this.name=E,this.p=new d(b,16),this.n=this.p.bitLength(),this.k=new d(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){R.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function V(){R.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){R.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){R.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function I(E){if(typeof E=="string"){var b=d._prime(E);this.m=b.p,this.prime=b}else a(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}function A(E){I.call(this,E),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new d(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}R.prototype._tmp=function(){var E=new d(null);return E.words=new Array(Math.ceil(this.n/13)),E},R.prototype.ireduce=function(E){var b,w=E;do this.split(w,this.tmp),b=(w=(w=this.imulK(w)).iadd(this.tmp)).bitLength();while(b>this.n);var C=b<this.n?-1:w.ucmp(this.p);return C===0?(w.words[0]=0,w.length=1):C>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},R.prototype.split=function(E,b){E.iushrn(this.n,0,b)},R.prototype.imulK=function(E){return E.imul(this.k)},l($,R),$.prototype.split=function(E,b){for(var w=Math.min(E.length,9),C=0;C<w;C++)b.words[C]=E.words[C];if(b.length=w,E.length<=9)return E.words[0]=0,void(E.length=1);var S=E.words[9];for(b.words[b.length++]=4194303&S,C=10;C<E.length;C++){var D=0|E.words[C];E.words[C-10]=(4194303&D)<<4|S>>>22,S=D}S>>>=22,E.words[C-10]=S,S===0&&E.length>10?E.length-=10:E.length-=9},$.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var b=0,w=0;w<E.length;w++){var C=0|E.words[w];b+=977*C,E.words[w]=67108863&b,b=64*C+(b/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E},l(V,R),l(z,R),l(H,R),H.prototype.imulK=function(E){for(var b=0,w=0;w<E.length;w++){var C=19*(0|E.words[w])+b,S=67108863&C;C>>>=26,E.words[w]=S,b=C}return b!==0&&(E.words[E.length++]=b),E},d._prime=function(E){if(L[E])return L[E];var b;if(E==="k256")b=new $;else if(E==="p224")b=new V;else if(E==="p192")b=new z;else{if(E!=="p25519")throw new Error("Unknown prime "+E);b=new H}return L[E]=b,b},I.prototype._verify1=function(E){a(E.negative===0,"red works only with positives"),a(E.red,"red works only with red numbers")},I.prototype._verify2=function(E,b){a((E.negative|b.negative)==0,"red works only with positives"),a(E.red&&E.red===b.red,"red works only with red numbers")},I.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):(f(E,E.umod(this.m)._forceRed(this)),E)},I.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},I.prototype.add=function(E,b){this._verify2(E,b);var w=E.add(b);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},I.prototype.iadd=function(E,b){this._verify2(E,b);var w=E.iadd(b);return w.cmp(this.m)>=0&&w.isub(this.m),w},I.prototype.sub=function(E,b){this._verify2(E,b);var w=E.sub(b);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},I.prototype.isub=function(E,b){this._verify2(E,b);var w=E.isub(b);return w.cmpn(0)<0&&w.iadd(this.m),w},I.prototype.shl=function(E,b){return this._verify1(E),this.imod(E.ushln(b))},I.prototype.imul=function(E,b){return this._verify2(E,b),this.imod(E.imul(b))},I.prototype.mul=function(E,b){return this._verify2(E,b),this.imod(E.mul(b))},I.prototype.isqr=function(E){return this.imul(E,E.clone())},I.prototype.sqr=function(E){return this.mul(E,E)},I.prototype.sqrt=function(E){if(E.isZero())return E.clone();var b=this.m.andln(3);if(a(b%2==1),b===3){var w=this.m.add(new d(1)).iushrn(2);return this.pow(E,w)}for(var C=this.m.subn(1),S=0;!C.isZero()&&C.andln(1)===0;)S++,C.iushrn(1);a(!C.isZero());var D=new d(1).toRed(this),P=D.redNeg(),k=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new d(2*U*U).toRed(this);this.pow(U,k).cmp(P)!==0;)U.redIAdd(P);for(var W=this.pow(U,C),X=this.pow(E,C.addn(1).iushrn(1)),j=this.pow(E,C),q=S;j.cmp(D)!==0;){for(var B=j,F=0;B.cmp(D)!==0;F++)B=B.redSqr();a(F<q);var K=this.pow(W,new d(1).iushln(q-F-1));X=X.redMul(K),W=K.redSqr(),j=j.redMul(W),q=F}return X},I.prototype.invm=function(E){var b=E._invmp(this.m);return b.negative!==0?(b.negative=0,this.imod(b).redNeg()):this.imod(b)},I.prototype.pow=function(E,b){if(b.isZero())return new d(1).toRed(this);if(b.cmpn(1)===0)return E.clone();var w=new Array(16);w[0]=new d(1).toRed(this),w[1]=E;for(var C=2;C<w.length;C++)w[C]=this.mul(w[C-1],E);var S=w[0],D=0,P=0,k=b.bitLength()%26;for(k===0&&(k=26),C=b.length-1;C>=0;C--){for(var U=b.words[C],W=k-1;W>=0;W--){var X=U>>W&1;S!==w[0]&&(S=this.sqr(S)),X!==0||D!==0?(D<<=1,D|=X,(++P===4||C===0&&W===0)&&(S=this.mul(S,w[D]),P=0,D=0)):P=0}k=26}return S},I.prototype.convertTo=function(E){var b=E.umod(this.m);return b===E?b.clone():b},I.prototype.convertFrom=function(E){var b=E.clone();return b.red=null,b},d.mont=function(E){return new A(E)},l(A,I),A.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},A.prototype.convertFrom=function(E){var b=this.imod(E.mul(this.rinv));return b.red=null,b},A.prototype.imul=function(E,b){if(E.isZero()||b.isZero())return E.words[0]=0,E.length=1,E;var w=E.imul(b),C=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=w.isub(C).iushrn(this.shift),D=S;return S.cmp(this.m)>=0?D=S.isub(this.m):S.cmpn(0)<0&&(D=S.iadd(this.m)),D._forceRed(this)},A.prototype.mul=function(E,b){if(E.isZero()||b.isZero())return new d(0)._forceRed(this);var w=E.mul(b),C=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=w.isub(C).iushrn(this.shift),D=S;return S.cmp(this.m)>=0?D=S.isub(this.m):S.cmpn(0)<0&&(D=S.iadd(this.m)),D._forceRed(this)},A.prototype.invm=function(E){return this.imod(E._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(t,n,s){var r;function o(l){this.rand=l}if(n.exports=function(l){return r||(r=new o(null)),r.generate(l)},n.exports.Rand=o,o.prototype.generate=function(l){return this._rand(l)},o.prototype._rand=function(l){if(this.rand.getBytes)return this.rand.getBytes(l);for(var d=new Uint8Array(l),c=0;c<d.length;c++)d[c]=this.rand.getByte();return d},typeof self=="object")self.crypto&&self.crypto.getRandomValues?o.prototype._rand=function(l){var d=new Uint8Array(l);return self.crypto.getRandomValues(d),d}:self.msCrypto&&self.msCrypto.getRandomValues?o.prototype._rand=function(l){var d=new Uint8Array(l);return self.msCrypto.getRandomValues(d),d}:typeof window=="object"&&(o.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=t("crypto");if(typeof a.randomBytes!="function")throw new Error("Not supported");o.prototype._rand=function(l){return a.randomBytes(l)}}catch{}},{crypto:188}],188:[function(t,n,s){},{}],189:[function(t,n,s){var r=t("safe-buffer").Buffer;function o(u){r.isBuffer(u)||(u=r.from(u));for(var p=u.length/4|0,f=new Array(p),g=0;g<p;g++)f[g]=u.readUInt32BE(4*g);return f}function a(u){for(;0<u.length;u++)u[0]=0}function l(u,p,f,g,m){for(var v,_,x,y,T=f[0],O=f[1],L=f[2],R=f[3],$=u[0]^p[0],V=u[1]^p[1],z=u[2]^p[2],H=u[3]^p[3],I=4,A=1;A<m;A++)v=T[$>>>24]^O[V>>>16&255]^L[z>>>8&255]^R[255&H]^p[I++],_=T[V>>>24]^O[z>>>16&255]^L[H>>>8&255]^R[255&$]^p[I++],x=T[z>>>24]^O[H>>>16&255]^L[$>>>8&255]^R[255&V]^p[I++],y=T[H>>>24]^O[$>>>16&255]^L[V>>>8&255]^R[255&z]^p[I++],$=v,V=_,z=x,H=y;return v=(g[$>>>24]<<24|g[V>>>16&255]<<16|g[z>>>8&255]<<8|g[255&H])^p[I++],_=(g[V>>>24]<<24|g[z>>>16&255]<<16|g[H>>>8&255]<<8|g[255&$])^p[I++],x=(g[z>>>24]<<24|g[H>>>16&255]<<16|g[$>>>8&255]<<8|g[255&V])^p[I++],y=(g[H>>>24]<<24|g[$>>>16&255]<<16|g[V>>>8&255]<<8|g[255&z])^p[I++],[v>>>=0,_>>>=0,x>>>=0,y>>>=0]}var d=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var u=new Array(256),p=0;p<256;p++)u[p]=p<128?p<<1:p<<1^283;for(var f=[],g=[],m=[[],[],[],[]],v=[[],[],[],[]],_=0,x=0,y=0;y<256;++y){var T=x^x<<1^x<<2^x<<3^x<<4;T=T>>>8^255&T^99,f[_]=T,g[T]=_;var O=u[_],L=u[O],R=u[L],$=257*u[T]^16843008*T;m[0][_]=$<<24|$>>>8,m[1][_]=$<<16|$>>>16,m[2][_]=$<<8|$>>>24,m[3][_]=$,$=16843009*R^65537*L^257*O^16843008*_,v[0][T]=$<<24|$>>>8,v[1][T]=$<<16|$>>>16,v[2][T]=$<<8|$>>>24,v[3][T]=$,_===0?_=x=1:(_=O^u[u[u[R^O]]],x^=u[u[x]])}return{SBOX:f,INV_SBOX:g,SUB_MIX:m,INV_SUB_MIX:v}}();function h(u){this._key=o(u),this._reset()}h.blockSize=16,h.keySize=32,h.prototype.blockSize=h.blockSize,h.prototype.keySize=h.keySize,h.prototype._reset=function(){for(var u=this._key,p=u.length,f=p+6,g=4*(f+1),m=[],v=0;v<p;v++)m[v]=u[v];for(v=p;v<g;v++){var _=m[v-1];v%p==0?(_=_<<8|_>>>24,_=c.SBOX[_>>>24]<<24|c.SBOX[_>>>16&255]<<16|c.SBOX[_>>>8&255]<<8|c.SBOX[255&_],_^=d[v/p|0]<<24):p>6&&v%p==4&&(_=c.SBOX[_>>>24]<<24|c.SBOX[_>>>16&255]<<16|c.SBOX[_>>>8&255]<<8|c.SBOX[255&_]),m[v]=m[v-p]^_}for(var x=[],y=0;y<g;y++){var T=g-y,O=m[T-(y%4?0:4)];x[y]=y<4||T<=4?O:c.INV_SUB_MIX[0][c.SBOX[O>>>24]]^c.INV_SUB_MIX[1][c.SBOX[O>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[O>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&O]]}this._nRounds=f,this._keySchedule=m,this._invKeySchedule=x},h.prototype.encryptBlockRaw=function(u){return l(u=o(u),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},h.prototype.encryptBlock=function(u){var p=this.encryptBlockRaw(u),f=r.allocUnsafe(16);return f.writeUInt32BE(p[0],0),f.writeUInt32BE(p[1],4),f.writeUInt32BE(p[2],8),f.writeUInt32BE(p[3],12),f},h.prototype.decryptBlock=function(u){var p=(u=o(u))[1];u[1]=u[3],u[3]=p;var f=l(u,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),g=r.allocUnsafe(16);return g.writeUInt32BE(f[0],0),g.writeUInt32BE(f[3],4),g.writeUInt32BE(f[2],8),g.writeUInt32BE(f[1],12),g},h.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},n.exports.AES=h},{"safe-buffer":494}],190:[function(t,n,s){var r=t("./aes"),o=t("safe-buffer").Buffer,a=t("cipher-base"),l=t("inherits"),d=t("./ghash"),c=t("buffer-xor"),h=t("./incr32");function u(p,f,g,m){a.call(this);var v=o.alloc(4,0);this._cipher=new r.AES(f);var _=this._cipher.encryptBlock(v);this._ghash=new d(_),g=function(x,y,T){if(y.length===12)return x._finID=o.concat([y,o.from([0,0,0,1])]),o.concat([y,o.from([0,0,0,2])]);var O=new d(T),L=y.length,R=L%16;O.update(y),R&&(R=16-R,O.update(o.alloc(R,0))),O.update(o.alloc(8,0));var $=8*L,V=o.alloc(8);V.writeUIntBE($,0,8),O.update(V),x._finID=O.state;var z=o.from(x._finID);return h(z),z}(this,g,_),this._prev=o.from(g),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=p,this._authTag=null,this._called=!1}l(u,a),u.prototype._update=function(p){if(!this._called&&this._alen){var f=16-this._alen%16;f<16&&(f=o.alloc(f,0),this._ghash.update(f))}this._called=!0;var g=this._mode.encrypt(this,p);return this._decrypt?this._ghash.update(p):this._ghash.update(g),this._len+=p.length,g},u.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var p=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(f,g){var m=0;f.length!==g.length&&m++;for(var v=Math.min(f.length,g.length),_=0;_<v;++_)m+=f[_]^g[_];return m}(p,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=p,this._cipher.scrub()},u.prototype.getAuthTag=function(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},u.prototype.setAuthTag=function(p){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=p},u.prototype.setAAD=function(p){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(p),this._alen+=p.length},n.exports=u},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(t,n,s){var r=t("./encrypter"),o=t("./decrypter"),a=t("./modes/list.json");s.createCipher=s.Cipher=r.createCipher,s.createCipheriv=s.Cipheriv=r.createCipheriv,s.createDecipher=s.Decipher=o.createDecipher,s.createDecipheriv=s.Decipheriv=o.createDecipheriv,s.listCiphers=s.getCiphers=function(){return Object.keys(a)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(t,n,s){var r=t("./authCipher"),o=t("safe-buffer").Buffer,a=t("./modes"),l=t("./streamCipher"),d=t("cipher-base"),c=t("./aes"),h=t("evp_bytestokey");function u(g,m,v){d.call(this),this._cache=new p,this._last=void 0,this._cipher=new c.AES(m),this._prev=o.from(v),this._mode=g,this._autopadding=!0}function p(){this.cache=o.allocUnsafe(0)}function f(g,m,v){var _=a[g.toLowerCase()];if(!_)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=o.from(v)),_.mode!=="GCM"&&v.length!==_.iv)throw new TypeError("invalid iv length "+v.length);if(typeof m=="string"&&(m=o.from(m)),m.length!==_.key/8)throw new TypeError("invalid key length "+m.length);return _.type==="stream"?new l(_.module,m,v,!0):_.type==="auth"?new r(_.module,m,v,!0):new u(_.module,m,v)}t("inherits")(u,d),u.prototype._update=function(g){var m,v;this._cache.add(g);for(var _=[];m=this._cache.get(this._autopadding);)v=this._mode.decrypt(this,m),_.push(v);return o.concat(_)},u.prototype._final=function(){var g=this._cache.flush();if(this._autopadding)return function(m){var v=m[15];if(v<1||v>16)throw new Error("unable to decrypt data");for(var _=-1;++_<v;)if(m[_+(16-v)]!==v)throw new Error("unable to decrypt data");if(v!==16)return m.slice(0,16-v)}(this._mode.decrypt(this,g));if(g)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(g){return this._autopadding=!!g,this},p.prototype.add=function(g){this.cache=o.concat([this.cache,g])},p.prototype.get=function(g){var m;if(g){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},p.prototype.flush=function(){if(this.cache.length)return this.cache},s.createDecipher=function(g,m){var v=a[g.toLowerCase()];if(!v)throw new TypeError("invalid suite type");var _=h(m,!1,v.key,v.iv);return f(g,_.key,_.iv)},s.createDecipheriv=f},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(t,n,s){var r=t("./modes"),o=t("./authCipher"),a=t("safe-buffer").Buffer,l=t("./streamCipher"),d=t("cipher-base"),c=t("./aes"),h=t("evp_bytestokey");function u(m,v,_){d.call(this),this._cache=new f,this._cipher=new c.AES(v),this._prev=a.from(_),this._mode=m,this._autopadding=!0}t("inherits")(u,d),u.prototype._update=function(m){var v,_;this._cache.add(m);for(var x=[];v=this._cache.get();)_=this._mode.encrypt(this,v),x.push(_);return a.concat(x)};var p=a.alloc(16,16);function f(){this.cache=a.allocUnsafe(0)}function g(m,v,_){var x=r[m.toLowerCase()];if(!x)throw new TypeError("invalid suite type");if(typeof v=="string"&&(v=a.from(v)),v.length!==x.key/8)throw new TypeError("invalid key length "+v.length);if(typeof _=="string"&&(_=a.from(_)),x.mode!=="GCM"&&_.length!==x.iv)throw new TypeError("invalid iv length "+_.length);return x.type==="stream"?new l(x.module,v,_):x.type==="auth"?new o(x.module,v,_):new u(x.module,v,_)}u.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},f.prototype.add=function(m){this.cache=a.concat([this.cache,m])},f.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},f.prototype.flush=function(){for(var m=16-this.cache.length,v=a.allocUnsafe(m),_=-1;++_<m;)v.writeUInt8(m,_);return a.concat([this.cache,v])},s.createCipheriv=g,s.createCipher=function(m,v){var _=r[m.toLowerCase()];if(!_)throw new TypeError("invalid suite type");var x=h(v,!1,_.key,_.iv);return g(m,x.key,x.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(t,n,s){var r=t("safe-buffer").Buffer,o=r.alloc(16,0);function a(d){var c=r.allocUnsafe(16);return c.writeUInt32BE(d[0]>>>0,0),c.writeUInt32BE(d[1]>>>0,4),c.writeUInt32BE(d[2]>>>0,8),c.writeUInt32BE(d[3]>>>0,12),c}function l(d){this.h=d,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}l.prototype.ghash=function(d){for(var c=-1;++c<d.length;)this.state[c]^=d[c];this._multiply()},l.prototype._multiply=function(){for(var d,c,h,u=[(d=this.h).readUInt32BE(0),d.readUInt32BE(4),d.readUInt32BE(8),d.readUInt32BE(12)],p=[0,0,0,0],f=-1;++f<128;){for(this.state[~~(f/8)]&1<<7-f%8&&(p[0]^=u[0],p[1]^=u[1],p[2]^=u[2],p[3]^=u[3]),h=(1&u[3])!=0,c=3;c>0;c--)u[c]=u[c]>>>1|(1&u[c-1])<<31;u[0]=u[0]>>>1,h&&(u[0]=u[0]^225<<24)}this.state=a(p)},l.prototype.update=function(d){var c;for(this.cache=r.concat([this.cache,d]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},l.prototype.final=function(d,c){return this.cache.length&&this.ghash(r.concat([this.cache,o],16)),this.ghash(a([0,d,0,c])),this.state},n.exports=l},{"safe-buffer":494}],195:[function(t,n,s){n.exports=function(r){for(var o,a=r.length;a--;){if((o=r.readUInt8(a))!==255){o++,r.writeUInt8(o,a);break}r.writeUInt8(0,a)}}},{}],196:[function(t,n,s){var r=t("buffer-xor");s.encrypt=function(o,a){var l=r(a,o._prev);return o._prev=o._cipher.encryptBlock(l),o._prev},s.decrypt=function(o,a){var l=o._prev;o._prev=a;var d=o._cipher.decryptBlock(a);return r(d,l)}},{"buffer-xor":219}],197:[function(t,n,s){var r=t("safe-buffer").Buffer,o=t("buffer-xor");function a(l,d,c){var h=d.length,u=o(d,l._cache);return l._cache=l._cache.slice(h),l._prev=r.concat([l._prev,c?d:u]),u}s.encrypt=function(l,d,c){for(var h,u=r.allocUnsafe(0);d.length;){if(l._cache.length===0&&(l._cache=l._cipher.encryptBlock(l._prev),l._prev=r.allocUnsafe(0)),!(l._cache.length<=d.length)){u=r.concat([u,a(l,d,c)]);break}h=l._cache.length,u=r.concat([u,a(l,d.slice(0,h),c)]),d=d.slice(h)}return u}},{"buffer-xor":219,"safe-buffer":494}],198:[function(t,n,s){var r=t("safe-buffer").Buffer;function o(l,d,c){for(var h,u,p=-1,f=0;++p<8;)h=d&1<<7-p?128:0,f+=(128&(u=l._cipher.encryptBlock(l._prev)[0]^h))>>p%8,l._prev=a(l._prev,c?h:u);return f}function a(l,d){var c=l.length,h=-1,u=r.allocUnsafe(l.length);for(l=r.concat([l,r.from([d])]);++h<c;)u[h]=l[h]<<1|l[h+1]>>7;return u}s.encrypt=function(l,d,c){for(var h=d.length,u=r.allocUnsafe(h),p=-1;++p<h;)u[p]=o(l,d[p],c);return u}},{"safe-buffer":494}],199:[function(t,n,s){var r=t("safe-buffer").Buffer;function o(a,l,d){var c=a._cipher.encryptBlock(a._prev)[0]^l;return a._prev=r.concat([a._prev.slice(1),r.from([d?l:c])]),c}s.encrypt=function(a,l,d){for(var c=l.length,h=r.allocUnsafe(c),u=-1;++u<c;)h[u]=o(a,l[u],d);return h}},{"safe-buffer":494}],200:[function(t,n,s){var r=t("buffer-xor"),o=t("safe-buffer").Buffer,a=t("../incr32");function l(d){var c=d._cipher.encryptBlockRaw(d._prev);return a(d._prev),c}s.encrypt=function(d,c){var h=Math.ceil(c.length/16),u=d._cache.length;d._cache=o.concat([d._cache,o.allocUnsafe(16*h)]);for(var p=0;p<h;p++){var f=l(d),g=u+16*p;d._cache.writeUInt32BE(f[0],g+0),d._cache.writeUInt32BE(f[1],g+4),d._cache.writeUInt32BE(f[2],g+8),d._cache.writeUInt32BE(f[3],g+12)}var m=d._cache.slice(0,c.length);return d._cache=d._cache.slice(c.length),r(c,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(t,n,s){s.encrypt=function(r,o){return r._cipher.encryptBlock(o)},s.decrypt=function(r,o){return r._cipher.decryptBlock(o)}},{}],202:[function(t,n,s){var r={ECB:t("./ecb"),CBC:t("./cbc"),CFB:t("./cfb"),CFB8:t("./cfb8"),CFB1:t("./cfb1"),OFB:t("./ofb"),CTR:t("./ctr"),GCM:t("./ctr")},o=t("./list.json");for(var a in o)o[a].module=r[o[a].mode];n.exports=o},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(t,n,s){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(t,n,s){(function(r){(function(){var o=t("buffer-xor");function a(l){return l._prev=l._cipher.encryptBlock(l._prev),l._prev}s.encrypt=function(l,d){for(;l._cache.length<d.length;)l._cache=r.concat([l._cache,a(l)]);var c=l._cache.slice(0,d.length);return l._cache=l._cache.slice(d.length),o(d,c)}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(t,n,s){var r=t("./aes"),o=t("safe-buffer").Buffer,a=t("cipher-base");function l(d,c,h,u){a.call(this),this._cipher=new r.AES(c),this._prev=o.from(h),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=u,this._mode=d}t("inherits")(l,a),l.prototype._update=function(d){return this._mode.encrypt(this,d,this._decrypt)},l.prototype._final=function(){this._cipher.scrub()},n.exports=l},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(t,n,s){var r=t("browserify-des"),o=t("browserify-aes/browser"),a=t("browserify-aes/modes"),l=t("browserify-des/modes"),d=t("evp_bytestokey");function c(u,p,f){if(u=u.toLowerCase(),a[u])return o.createCipheriv(u,p,f);if(l[u])return new r({key:p,iv:f,mode:u});throw new TypeError("invalid suite type")}function h(u,p,f){if(u=u.toLowerCase(),a[u])return o.createDecipheriv(u,p,f);if(l[u])return new r({key:p,iv:f,mode:u,decrypt:!0});throw new TypeError("invalid suite type")}s.createCipher=s.Cipher=function(u,p){var f,g;if(u=u.toLowerCase(),a[u])f=a[u].key,g=a[u].iv;else{if(!l[u])throw new TypeError("invalid suite type");f=8*l[u].key,g=l[u].iv}var m=d(p,!1,f,g);return c(u,m.key,m.iv)},s.createCipheriv=s.Cipheriv=c,s.createDecipher=s.Decipher=function(u,p){var f,g;if(u=u.toLowerCase(),a[u])f=a[u].key,g=a[u].iv;else{if(!l[u])throw new TypeError("invalid suite type");f=8*l[u].key,g=l[u].iv}var m=d(p,!1,f,g);return h(u,m.key,m.iv)},s.createDecipheriv=s.Decipheriv=h,s.listCiphers=s.getCiphers=function(){return Object.keys(l).concat(o.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(t,n,s){var r=t("cipher-base"),o=t("des.js"),a=t("inherits"),l=t("safe-buffer").Buffer,d={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};function c(h){r.call(this);var u,p=h.mode.toLowerCase(),f=d[p];u=h.decrypt?"decrypt":"encrypt";var g=h.key;l.isBuffer(g)||(g=l.from(g)),p!=="des-ede"&&p!=="des-ede-cbc"||(g=l.concat([g,g.slice(0,8)]));var m=h.iv;l.isBuffer(m)||(m=l.from(m)),this._des=f.create({key:g,iv:m,type:u})}d.des=d["des-cbc"],d.des3=d["des-ede3-cbc"],n.exports=c,a(c,r),c.prototype._update=function(h){return l.from(this._des.update(h))},c.prototype._final=function(){return l.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(t,n,s){s["des-ecb"]={key:8,iv:0},s["des-cbc"]=s.des={key:8,iv:8},s["des-ede3-cbc"]=s.des3={key:24,iv:8},s["des-ede3"]={key:24,iv:0},s["des-ede-cbc"]={key:16,iv:8},s["des-ede"]={key:16,iv:0}},{}],209:[function(t,n,s){(function(r){(function(){var o=t("bn.js"),a=t("randombytes");function l(c){var h,u=c.modulus.byteLength();do h=new o(a(u));while(h.cmp(c.modulus)>=0||!h.umod(c.prime1)||!h.umod(c.prime2));return h}function d(c,h){var u=function(L){var R=l(L);return{blinder:R.toRed(o.mont(L.modulus)).redPow(new o(L.publicExponent)).fromRed(),unblinder:R.invm(L.modulus)}}(h),p=h.modulus.byteLength(),f=new o(c).mul(u.blinder).umod(h.modulus),g=f.toRed(o.mont(h.prime1)),m=f.toRed(o.mont(h.prime2)),v=h.coefficient,_=h.prime1,x=h.prime2,y=g.redPow(h.exponent1).fromRed(),T=m.redPow(h.exponent2).fromRed(),O=y.isub(T).imul(v).umod(_).imul(x);return T.iadd(O).imul(u.unblinder).umod(h.modulus).toArrayLike(r,"be",p)}d.getr=l,n.exports=d}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(t,n,s){n.exports=t("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(t,n,s){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(t,n,s){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(t,n,s){var r=t("safe-buffer").Buffer,o=t("create-hash"),a=t("readable-stream"),l=t("inherits"),d=t("./sign"),c=t("./verify"),h=t("./algorithms.json");function u(m){a.Writable.call(this);var v=h[m];if(!v)throw new Error("Unknown message digest");this._hashType=v.hash,this._hash=o(v.hash),this._tag=v.id,this._signType=v.sign}function p(m){a.Writable.call(this);var v=h[m];if(!v)throw new Error("Unknown message digest");this._hash=o(v.hash),this._tag=v.id,this._signType=v.sign}function f(m){return new u(m)}function g(m){return new p(m)}Object.keys(h).forEach(function(m){h[m].id=r.from(h[m].id,"hex"),h[m.toLowerCase()]=h[m]}),l(u,a.Writable),u.prototype._write=function(m,v,_){this._hash.update(m),_()},u.prototype.update=function(m,v){return typeof m=="string"&&(m=r.from(m,v)),this._hash.update(m),this},u.prototype.sign=function(m,v){this.end();var _=this._hash.digest(),x=d(_,m,this._hashType,this._signType,this._tag);return v?x.toString(v):x},l(p,a.Writable),p.prototype._write=function(m,v,_){this._hash.update(m),_()},p.prototype.update=function(m,v){return typeof m=="string"&&(m=r.from(m,v)),this._hash.update(m),this},p.prototype.verify=function(m,v,_){typeof v=="string"&&(v=r.from(v,_)),this.end();var x=this._hash.digest();return c(v,x,m,this._signType,this._tag)},n.exports={Sign:f,Verify:g,createSign:f,createVerify:g}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(t,n,s){var r=t("safe-buffer").Buffer,o=t("create-hmac"),a=t("browserify-rsa"),l=t("elliptic").ec,d=t("bn.js"),c=t("parse-asn1"),h=t("./curves.json");function u(m,v,_,x){if((m=r.from(m.toArray())).length<v.byteLength()){var y=r.alloc(v.byteLength()-m.length);m=r.concat([y,m])}var T=_.length,O=function($,V){$=($=p($,V)).mod(V);var z=r.from($.toArray());if(z.length<V.byteLength()){var H=r.alloc(V.byteLength()-z.length);z=r.concat([H,z])}return z}(_,v),L=r.alloc(T);L.fill(1);var R=r.alloc(T);return R=o(x,R).update(L).update(r.from([0])).update(m).update(O).digest(),L=o(x,R).update(L).digest(),{k:R=o(x,R).update(L).update(r.from([1])).update(m).update(O).digest(),v:L=o(x,R).update(L).digest()}}function p(m,v){var _=new d(m),x=(m.length<<3)-v.bitLength();return x>0&&_.ishrn(x),_}function f(m,v,_){var x,y;do{for(x=r.alloc(0);8*x.length<m.bitLength();)v.v=o(_,v.k).update(v.v).digest(),x=r.concat([x,v.v]);y=p(x,m),v.k=o(_,v.k).update(v.v).update(r.from([0])).digest(),v.v=o(_,v.k).update(v.v).digest()}while(y.cmp(m)!==-1);return y}function g(m,v,_,x){return m.toRed(d.mont(_)).redPow(v).fromRed().mod(x)}n.exports=function(m,v,_,x,y){var T=c(v);if(T.curve){if(x!=="ecdsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");return function($,V){var z=h[V.curve.join(".")];if(!z)throw new Error("unknown curve "+V.curve.join("."));var H=new l(z).keyFromPrivate(V.privateKey).sign($);return r.from(H.toDER())}(m,T)}if(T.type==="dsa"){if(x!=="dsa")throw new Error("wrong private key type");return function($,V,z){for(var H,I=V.params.priv_key,A=V.params.p,E=V.params.q,b=V.params.g,w=new d(0),C=p($,E).mod(E),S=!1,D=u(I,E,$,z);S===!1;)H=f(E,D,z),w=g(b,H,A,E),(S=H.invm(E).imul(C.add(I.mul(w))).mod(E)).cmpn(0)===0&&(S=!1,w=new d(0));return function(P,k){P=P.toArray(),k=k.toArray(),128&P[0]&&(P=[0].concat(P)),128&k[0]&&(k=[0].concat(k));var U=[48,P.length+k.length+4,2,P.length];return U=U.concat(P,[2,k.length],k),r.from(U)}(w,S)}(m,T,_)}if(x!=="rsa"&&x!=="ecdsa/rsa")throw new Error("wrong private key type");m=r.concat([y,m]);for(var O=T.modulus.byteLength(),L=[0,1];m.length+L.length+1<O;)L.push(255);L.push(0);for(var R=-1;++R<m.length;)L.push(m[R]);return a(L,T)},n.exports.getKey=u,n.exports.makeKey=f},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(t,n,s){var r=t("safe-buffer").Buffer,o=t("bn.js"),a=t("elliptic").ec,l=t("parse-asn1"),d=t("./curves.json");function c(h,u){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(u)>=u)throw new Error("invalid sig")}n.exports=function(h,u,p,f,g){var m=l(p);if(m.type==="ec"){if(f!=="ecdsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");return function(L,R,$){var V=d[$.data.algorithm.curve.join(".")];if(!V)throw new Error("unknown curve "+$.data.algorithm.curve.join("."));var z=new a(V),H=$.data.subjectPrivateKey.data;return z.verify(R,L,H)}(h,u,m)}if(m.type==="dsa"){if(f!=="dsa")throw new Error("wrong public key type");return function(L,R,$){var V=$.data.p,z=$.data.q,H=$.data.g,I=$.data.pub_key,A=l.signature.decode(L,"der"),E=A.s,b=A.r;c(E,z),c(b,z);var w=o.mont(V),C=E.invm(z);return H.toRed(w).redPow(new o(R).mul(C).mod(z)).fromRed().mul(I.toRed(w).redPow(b.mul(C).mod(z)).fromRed()).mod(V).mod(z).cmp(b)===0}(h,u,m)}if(f!=="rsa"&&f!=="ecdsa/rsa")throw new Error("wrong public key type");u=r.concat([g,u]);for(var v=m.modulus.byteLength(),_=[1],x=0;u.length+_.length+2<v;)_.push(255),x++;_.push(0);for(var y=-1;++y<u.length;)_.push(u[y]);_=r.from(_);var T=o.mont(m.modulus);h=(h=new o(h).toRed(T)).redPow(new o(m.publicExponent)),h=r.from(h.fromRed().toArray());var O=x<8?1:0;for(v=Math.min(h.length,_.length),h.length!==_.length&&(O=1),y=-1;++y<v;)O|=h[y]^_[y];return O===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(t,n,s){},{}],217:[function(t,n,s){var r=t("buffer"),o=r.Buffer;function a(d,c){for(var h in d)c[h]=d[h]}function l(d,c,h){return o(d,c,h)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=r:(a(r,s),s.Buffer=l),a(o,l),l.from=function(d,c,h){if(typeof d=="number")throw new TypeError("Argument must not be a number");return o(d,c,h)},l.alloc=function(d,c,h){if(typeof d!="number")throw new TypeError("Argument must be a number");var u=o(d);return c!==void 0?typeof h=="string"?u.fill(c,h):u.fill(c):u.fill(0),u},l.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o(d)},l.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(d)}},{buffer:220}],218:[function(t,n,s){var r=t("safe-buffer").Buffer,o=r.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(m){var v;switch(this.encoding=function(_){var x=function(y){if(!y)return"utf8";for(var T;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(T)return;y=(""+y).toLowerCase(),T=!0}}(_);if(typeof x!="string"&&(r.isEncoding===o||!o(_)))throw new Error("Unknown encoding: "+_);return x||_}(m),this.encoding){case"utf16le":this.text=c,this.end=h,v=4;break;case"utf8":this.fillLast=d,v=4;break;case"base64":this.text=u,this.end=p,v=3;break;default:return this.write=f,void(this.end=g)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(v)}function l(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function d(m){var v=this.lastTotal-this.lastNeed,_=function(x,y,T){if((192&y[0])!=128)return x.lastNeed=0,"";if(x.lastNeed>1&&y.length>1){if((192&y[1])!=128)return x.lastNeed=1,"";if(x.lastNeed>2&&y.length>2&&(192&y[2])!=128)return x.lastNeed=2,""}}(this,m);return _!==void 0?_:this.lastNeed<=m.length?(m.copy(this.lastChar,v,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,v,0,m.length),void(this.lastNeed-=m.length))}function c(m,v){if((m.length-v)%2==0){var _=m.toString("utf16le",v);if(_){var x=_.charCodeAt(_.length-1);if(x>=55296&&x<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],_.slice(0,-1)}return _}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",v,m.length-1)}function h(m){var v=m&&m.length?this.write(m):"";if(this.lastNeed){var _=this.lastTotal-this.lastNeed;return v+this.lastChar.toString("utf16le",0,_)}return v}function u(m,v){var _=(m.length-v)%3;return _===0?m.toString("base64",v):(this.lastNeed=3-_,this.lastTotal=3,_===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",v,m.length-_))}function p(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+this.lastChar.toString("base64",0,3-this.lastNeed):v}function f(m){return m.toString(this.encoding)}function g(m){return m&&m.length?this.write(m):""}s.StringDecoder=a,a.prototype.write=function(m){if(m.length===0)return"";var v,_;if(this.lastNeed){if((v=this.fillLast(m))===void 0)return"";_=this.lastNeed,this.lastNeed=0}else _=0;return _<m.length?v?v+this.text(m,_):this.text(m,_):v||""},a.prototype.end=function(m){var v=m&&m.length?this.write(m):"";return this.lastNeed?v+"":v},a.prototype.text=function(m,v){var _=function(y,T,O){var L=T.length-1;if(L<O)return 0;var R=l(T[L]);return R>=0?(R>0&&(y.lastNeed=R-1),R):--L<O||R===-2?0:(R=l(T[L]))>=0?(R>0&&(y.lastNeed=R-2),R):--L<O||R===-2?0:(R=l(T[L]))>=0?(R>0&&(R===2?R=0:y.lastNeed=R-3),R):0}(this,m,v);if(!this.lastNeed)return m.toString("utf8",v);this.lastTotal=_;var x=m.length-(_-this.lastNeed);return m.copy(this.lastChar,0,x),m.toString("utf8",v,x)},a.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(t,n,s){(function(r){(function(){n.exports=function(o,a){for(var l=Math.min(o.length,a.length),d=new r(l),c=0;c<l;++c)d[c]=o[c]^a[c];return d}}).call(this)}).call(this,t("buffer").Buffer)},{buffer:220}],220:[function(t,n,s){(function(r){(function(){var o=t("base64-js"),a=t("ieee754");s.Buffer=d,s.SlowBuffer=function(B){return+B!=B&&(B=0),d.alloc(+B)},s.INSPECT_MAX_BYTES=50;function l(B){if(B>2147483647)throw new RangeError('The value "'+B+'" is invalid for option "size"');var F=new Uint8Array(B);return F.__proto__=d.prototype,F}function d(B,F,K){if(typeof B=="number"){if(typeof F=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u(B)}return c(B,F,K)}function c(B,F,K){if(typeof B=="string")return function(Z,J){if(typeof J=="string"&&J!==""||(J="utf8"),!d.isEncoding(J))throw new TypeError("Unknown encoding: "+J);var ae=0|g(Z,J),ce=l(ae),te=ce.write(Z,J);return te!==ae&&(ce=ce.slice(0,te)),ce}(B,F);if(ArrayBuffer.isView(B))return p(B);if(B==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(j(B,ArrayBuffer)||B&&j(B.buffer,ArrayBuffer))return function(Z,J,ae){if(J<0||Z.byteLength<J)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<J+(ae||0))throw new RangeError('"length" is outside of buffer bounds');var ce;return ce=J===void 0&&ae===void 0?new Uint8Array(Z):ae===void 0?new Uint8Array(Z,J):new Uint8Array(Z,J,ae),ce.__proto__=d.prototype,ce}(B,F,K);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ee=B.valueOf&&B.valueOf();if(ee!=null&&ee!==B)return d.from(ee,F,K);var Q=function(Z){if(d.isBuffer(Z)){var J=0|f(Z.length),ae=l(J);return ae.length===0||Z.copy(ae,0,0,J),ae}if(Z.length!==void 0)return typeof Z.length!="number"||q(Z.length)?l(0):p(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return p(Z.data)}(B);if(Q)return Q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return d.from(B[Symbol.toPrimitive]("string"),F,K);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}function h(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function u(B){return h(B),l(B<0?0:0|f(B))}function p(B){for(var F=B.length<0?0:0|f(B.length),K=l(F),ee=0;ee<F;ee+=1)K[ee]=255&B[ee];return K}function f(B){if(B>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|B}function g(B,F){if(d.isBuffer(B))return B.length;if(ArrayBuffer.isView(B)||j(B,ArrayBuffer))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);var K=B.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&K===0)return 0;for(var Q=!1;;)switch(F){case"ascii":case"latin1":case"binary":return K;case"utf8":case"utf-8":return U(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*K;case"hex":return K>>>1;case"base64":return W(B).length;default:if(Q)return ee?-1:U(B).length;F=(""+F).toLowerCase(),Q=!0}}function m(B,F,K){var ee=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((K===void 0||K>this.length)&&(K=this.length),K<=0)||(K>>>=0)<=(F>>>=0))return"";for(B||(B="utf8");;)switch(B){case"hex":return A(this,F,K);case"utf8":case"utf-8":return z(this,F,K);case"ascii":return H(this,F,K);case"latin1":case"binary":return I(this,F,K);case"base64":return V(this,F,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,F,K);default:if(ee)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),ee=!0}}function v(B,F,K){var ee=B[F];B[F]=B[K],B[K]=ee}function _(B,F,K,ee,Q){if(B.length===0)return-1;if(typeof K=="string"?(ee=K,K=0):K>2147483647?K=2147483647:K<-2147483648&&(K=-2147483648),q(K=+K)&&(K=Q?0:B.length-1),K<0&&(K=B.length+K),K>=B.length){if(Q)return-1;K=B.length-1}else if(K<0){if(!Q)return-1;K=0}if(typeof F=="string"&&(F=d.from(F,ee)),d.isBuffer(F))return F.length===0?-1:x(B,F,K,ee,Q);if(typeof F=="number")return F&=255,typeof Uint8Array.prototype.indexOf=="function"?Q?Uint8Array.prototype.indexOf.call(B,F,K):Uint8Array.prototype.lastIndexOf.call(B,F,K):x(B,[F],K,ee,Q);throw new TypeError("val must be string, number or Buffer")}function x(B,F,K,ee,Q){var Z,J=1,ae=B.length,ce=F.length;if(ee!==void 0&&((ee=String(ee).toLowerCase())==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(B.length<2||F.length<2)return-1;J=2,ae/=2,ce/=2,K/=2}function te(pe,me){return J===1?pe[me]:pe.readUInt16BE(me*J)}if(Q){var oe=-1;for(Z=K;Z<ae;Z++)if(te(B,Z)===te(F,oe===-1?0:Z-oe)){if(oe===-1&&(oe=Z),Z-oe+1===ce)return oe*J}else oe!==-1&&(Z-=Z-oe),oe=-1}else for(K+ce>ae&&(K=ae-ce),Z=K;Z>=0;Z--){for(var le=!0,fe=0;fe<ce;fe++)if(te(B,Z+fe)!==te(F,fe)){le=!1;break}if(le)return Z}return-1}function y(B,F,K,ee){K=Number(K)||0;var Q=B.length-K;ee?(ee=Number(ee))>Q&&(ee=Q):ee=Q;var Z=F.length;ee>Z/2&&(ee=Z/2);for(var J=0;J<ee;++J){var ae=parseInt(F.substr(2*J,2),16);if(q(ae))return J;B[K+J]=ae}return J}function T(B,F,K,ee){return X(U(F,B.length-K),B,K,ee)}function O(B,F,K,ee){return X(function(Q){for(var Z=[],J=0;J<Q.length;++J)Z.push(255&Q.charCodeAt(J));return Z}(F),B,K,ee)}function L(B,F,K,ee){return O(B,F,K,ee)}function R(B,F,K,ee){return X(W(F),B,K,ee)}function $(B,F,K,ee){return X(function(Q,Z){for(var J,ae,ce,te=[],oe=0;oe<Q.length&&!((Z-=2)<0);++oe)J=Q.charCodeAt(oe),ae=J>>8,ce=J%256,te.push(ce),te.push(ae);return te}(F,B.length-K),B,K,ee)}function V(B,F,K){return F===0&&K===B.length?o.fromByteArray(B):o.fromByteArray(B.slice(F,K))}function z(B,F,K){K=Math.min(B.length,K);for(var ee=[],Q=F;Q<K;){var Z,J,ae,ce,te=B[Q],oe=null,le=te>239?4:te>223?3:te>191?2:1;if(Q+le<=K)switch(le){case 1:te<128&&(oe=te);break;case 2:(192&(Z=B[Q+1]))==128&&(ce=(31&te)<<6|63&Z)>127&&(oe=ce);break;case 3:Z=B[Q+1],J=B[Q+2],(192&Z)==128&&(192&J)==128&&(ce=(15&te)<<12|(63&Z)<<6|63&J)>2047&&(ce<55296||ce>57343)&&(oe=ce);break;case 4:Z=B[Q+1],J=B[Q+2],ae=B[Q+3],(192&Z)==128&&(192&J)==128&&(192&ae)==128&&(ce=(15&te)<<18|(63&Z)<<12|(63&J)<<6|63&ae)>65535&&ce<1114112&&(oe=ce)}oe===null?(oe=65533,le=1):oe>65535&&(oe-=65536,ee.push(oe>>>10&1023|55296),oe=56320|1023&oe),ee.push(oe),Q+=le}return function(fe){var pe=fe.length;if(pe<=4096)return String.fromCharCode.apply(String,fe);for(var me="",ye=0;ye<pe;)me+=String.fromCharCode.apply(String,fe.slice(ye,ye+=4096));return me}(ee)}s.kMaxLength=2147483647,d.TYPED_ARRAY_SUPPORT=function(){try{var B=new Uint8Array(1);return B.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},B.foo()===42}catch{return!1}}(),d.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),d.poolSize=8192,d.from=function(B,F,K){return c(B,F,K)},d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,d.alloc=function(B,F,K){return function(ee,Q,Z){return h(ee),ee<=0?l(ee):Q!==void 0?typeof Z=="string"?l(ee).fill(Q,Z):l(ee).fill(Q):l(ee)}(B,F,K)},d.allocUnsafe=function(B){return u(B)},d.allocUnsafeSlow=function(B){return u(B)},d.isBuffer=function(B){return B!=null&&B._isBuffer===!0&&B!==d.prototype},d.compare=function(B,F){if(j(B,Uint8Array)&&(B=d.from(B,B.offset,B.byteLength)),j(F,Uint8Array)&&(F=d.from(F,F.offset,F.byteLength)),!d.isBuffer(B)||!d.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(B===F)return 0;for(var K=B.length,ee=F.length,Q=0,Z=Math.min(K,ee);Q<Z;++Q)if(B[Q]!==F[Q]){K=B[Q],ee=F[Q];break}return K<ee?-1:ee<K?1:0},d.isEncoding=function(B){switch(String(B).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(B,F){if(!Array.isArray(B))throw new TypeError('"list" argument must be an Array of Buffers');if(B.length===0)return d.alloc(0);var K;if(F===void 0)for(F=0,K=0;K<B.length;++K)F+=B[K].length;var ee=d.allocUnsafe(F),Q=0;for(K=0;K<B.length;++K){var Z=B[K];if(j(Z,Uint8Array)&&(Z=d.from(Z)),!d.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(ee,Q),Q+=Z.length}return ee},d.byteLength=g,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var B=this.length;if(B%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<B;F+=2)v(this,F,F+1);return this},d.prototype.swap32=function(){var B=this.length;if(B%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<B;F+=4)v(this,F,F+3),v(this,F+1,F+2);return this},d.prototype.swap64=function(){var B=this.length;if(B%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<B;F+=8)v(this,F,F+7),v(this,F+1,F+6),v(this,F+2,F+5),v(this,F+3,F+4);return this},d.prototype.toString=function(){var B=this.length;return B===0?"":arguments.length===0?z(this,0,B):m.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(B){if(!d.isBuffer(B))throw new TypeError("Argument must be a Buffer");return this===B||d.compare(this,B)===0},d.prototype.inspect=function(){var B="",F=s.INSPECT_MAX_BYTES;return B=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(B+=" ... "),"<Buffer "+B+">"},d.prototype.compare=function(B,F,K,ee,Q){if(j(B,Uint8Array)&&(B=d.from(B,B.offset,B.byteLength)),!d.isBuffer(B))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof B);if(F===void 0&&(F=0),K===void 0&&(K=B?B.length:0),ee===void 0&&(ee=0),Q===void 0&&(Q=this.length),F<0||K>B.length||ee<0||Q>this.length)throw new RangeError("out of range index");if(ee>=Q&&F>=K)return 0;if(ee>=Q)return-1;if(F>=K)return 1;if(this===B)return 0;for(var Z=(Q>>>=0)-(ee>>>=0),J=(K>>>=0)-(F>>>=0),ae=Math.min(Z,J),ce=this.slice(ee,Q),te=B.slice(F,K),oe=0;oe<ae;++oe)if(ce[oe]!==te[oe]){Z=ce[oe],J=te[oe];break}return Z<J?-1:J<Z?1:0},d.prototype.includes=function(B,F,K){return this.indexOf(B,F,K)!==-1},d.prototype.indexOf=function(B,F,K){return _(this,B,F,K,!0)},d.prototype.lastIndexOf=function(B,F,K){return _(this,B,F,K,!1)},d.prototype.write=function(B,F,K,ee){if(F===void 0)ee="utf8",K=this.length,F=0;else if(K===void 0&&typeof F=="string")ee=F,K=this.length,F=0;else{if(!isFinite(F))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");F>>>=0,isFinite(K)?(K>>>=0,ee===void 0&&(ee="utf8")):(ee=K,K=void 0)}var Q=this.length-F;if((K===void 0||K>Q)&&(K=Q),B.length>0&&(K<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");ee||(ee="utf8");for(var Z=!1;;)switch(ee){case"hex":return y(this,B,F,K);case"utf8":case"utf-8":return T(this,B,F,K);case"ascii":return O(this,B,F,K);case"latin1":case"binary":return L(this,B,F,K);case"base64":return R(this,B,F,K);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,B,F,K);default:if(Z)throw new TypeError("Unknown encoding: "+ee);ee=(""+ee).toLowerCase(),Z=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function H(B,F,K){var ee="";K=Math.min(B.length,K);for(var Q=F;Q<K;++Q)ee+=String.fromCharCode(127&B[Q]);return ee}function I(B,F,K){var ee="";K=Math.min(B.length,K);for(var Q=F;Q<K;++Q)ee+=String.fromCharCode(B[Q]);return ee}function A(B,F,K){var ee=B.length;(!F||F<0)&&(F=0),(!K||K<0||K>ee)&&(K=ee);for(var Q="",Z=F;Z<K;++Z)Q+=k(B[Z]);return Q}function E(B,F,K){for(var ee=B.slice(F,K),Q="",Z=0;Z<ee.length;Z+=2)Q+=String.fromCharCode(ee[Z]+256*ee[Z+1]);return Q}function b(B,F,K){if(B%1!=0||B<0)throw new RangeError("offset is not uint");if(B+F>K)throw new RangeError("Trying to access beyond buffer length")}function w(B,F,K,ee,Q,Z){if(!d.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>Q||F<Z)throw new RangeError('"value" argument is out of bounds');if(K+ee>B.length)throw new RangeError("Index out of range")}function C(B,F,K,ee,Q,Z){if(K+ee>B.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("Index out of range")}function S(B,F,K,ee,Q){return F=+F,K>>>=0,Q||C(B,0,K,4),a.write(B,F,K,ee,23,4),K+4}function D(B,F,K,ee,Q){return F=+F,K>>>=0,Q||C(B,0,K,8),a.write(B,F,K,ee,52,8),K+8}d.prototype.slice=function(B,F){var K=this.length;(B=~~B)<0?(B+=K)<0&&(B=0):B>K&&(B=K),(F=F===void 0?K:~~F)<0?(F+=K)<0&&(F=0):F>K&&(F=K),F<B&&(F=B);var ee=this.subarray(B,F);return ee.__proto__=d.prototype,ee},d.prototype.readUIntLE=function(B,F,K){B>>>=0,F>>>=0,K||b(B,F,this.length);for(var ee=this[B],Q=1,Z=0;++Z<F&&(Q*=256);)ee+=this[B+Z]*Q;return ee},d.prototype.readUIntBE=function(B,F,K){B>>>=0,F>>>=0,K||b(B,F,this.length);for(var ee=this[B+--F],Q=1;F>0&&(Q*=256);)ee+=this[B+--F]*Q;return ee},d.prototype.readUInt8=function(B,F){return B>>>=0,F||b(B,1,this.length),this[B]},d.prototype.readUInt16LE=function(B,F){return B>>>=0,F||b(B,2,this.length),this[B]|this[B+1]<<8},d.prototype.readUInt16BE=function(B,F){return B>>>=0,F||b(B,2,this.length),this[B]<<8|this[B+1]},d.prototype.readUInt32LE=function(B,F){return B>>>=0,F||b(B,4,this.length),(this[B]|this[B+1]<<8|this[B+2]<<16)+16777216*this[B+3]},d.prototype.readUInt32BE=function(B,F){return B>>>=0,F||b(B,4,this.length),16777216*this[B]+(this[B+1]<<16|this[B+2]<<8|this[B+3])},d.prototype.readIntLE=function(B,F,K){B>>>=0,F>>>=0,K||b(B,F,this.length);for(var ee=this[B],Q=1,Z=0;++Z<F&&(Q*=256);)ee+=this[B+Z]*Q;return ee>=(Q*=128)&&(ee-=Math.pow(2,8*F)),ee},d.prototype.readIntBE=function(B,F,K){B>>>=0,F>>>=0,K||b(B,F,this.length);for(var ee=F,Q=1,Z=this[B+--ee];ee>0&&(Q*=256);)Z+=this[B+--ee]*Q;return Z>=(Q*=128)&&(Z-=Math.pow(2,8*F)),Z},d.prototype.readInt8=function(B,F){return B>>>=0,F||b(B,1,this.length),128&this[B]?-1*(255-this[B]+1):this[B]},d.prototype.readInt16LE=function(B,F){B>>>=0,F||b(B,2,this.length);var K=this[B]|this[B+1]<<8;return 32768&K?4294901760|K:K},d.prototype.readInt16BE=function(B,F){B>>>=0,F||b(B,2,this.length);var K=this[B+1]|this[B]<<8;return 32768&K?4294901760|K:K},d.prototype.readInt32LE=function(B,F){return B>>>=0,F||b(B,4,this.length),this[B]|this[B+1]<<8|this[B+2]<<16|this[B+3]<<24},d.prototype.readInt32BE=function(B,F){return B>>>=0,F||b(B,4,this.length),this[B]<<24|this[B+1]<<16|this[B+2]<<8|this[B+3]},d.prototype.readFloatLE=function(B,F){return B>>>=0,F||b(B,4,this.length),a.read(this,B,!0,23,4)},d.prototype.readFloatBE=function(B,F){return B>>>=0,F||b(B,4,this.length),a.read(this,B,!1,23,4)},d.prototype.readDoubleLE=function(B,F){return B>>>=0,F||b(B,8,this.length),a.read(this,B,!0,52,8)},d.prototype.readDoubleBE=function(B,F){return B>>>=0,F||b(B,8,this.length),a.read(this,B,!1,52,8)},d.prototype.writeUIntLE=function(B,F,K,ee){B=+B,F>>>=0,K>>>=0,ee||w(this,B,F,K,Math.pow(2,8*K)-1,0);var Q=1,Z=0;for(this[F]=255&B;++Z<K&&(Q*=256);)this[F+Z]=B/Q&255;return F+K},d.prototype.writeUIntBE=function(B,F,K,ee){B=+B,F>>>=0,K>>>=0,ee||w(this,B,F,K,Math.pow(2,8*K)-1,0);var Q=K-1,Z=1;for(this[F+Q]=255&B;--Q>=0&&(Z*=256);)this[F+Q]=B/Z&255;return F+K},d.prototype.writeUInt8=function(B,F,K){return B=+B,F>>>=0,K||w(this,B,F,1,255,0),this[F]=255&B,F+1},d.prototype.writeUInt16LE=function(B,F,K){return B=+B,F>>>=0,K||w(this,B,F,2,65535,0),this[F]=255&B,this[F+1]=B>>>8,F+2},d.prototype.writeUInt16BE=function(B,F,K){return B=+B,F>>>=0,K||w(this,B,F,2,65535,0),this[F]=B>>>8,this[F+1]=255&B,F+2},d.prototype.writeUInt32LE=function(B,F,K){return B=+B,F>>>=0,K||w(this,B,F,4,4294967295,0),this[F+3]=B>>>24,this[F+2]=B>>>16,this[F+1]=B>>>8,this[F]=255&B,F+4},d.prototype.writeUInt32BE=function(B,F,K){return B=+B,F>>>=0,K||w(this,B,F,4,4294967295,0),this[F]=B>>>24,this[F+1]=B>>>16,this[F+2]=B>>>8,this[F+3]=255&B,F+4},d.prototype.writeIntLE=function(B,F,K,ee){if(B=+B,F>>>=0,!ee){var Q=Math.pow(2,8*K-1);w(this,B,F,K,Q-1,-Q)}var Z=0,J=1,ae=0;for(this[F]=255&B;++Z<K&&(J*=256);)B<0&&ae===0&&this[F+Z-1]!==0&&(ae=1),this[F+Z]=(B/J>>0)-ae&255;return F+K},d.prototype.writeIntBE=function(B,F,K,ee){if(B=+B,F>>>=0,!ee){var Q=Math.pow(2,8*K-1);w(this,B,F,K,Q-1,-Q)}var Z=K-1,J=1,ae=0;for(this[F+Z]=255&B;--Z>=0&&(J*=256);)B<0&&ae===0&&this[F+Z+1]!==0&&(ae=1),this[F+Z]=(B/J>>0)-ae&255;return F+K},d.prototype.writeInt8=function(B,F,K){return B=+B,F>>>=0,K||w(this,B,F,1,127,-128),B<0&&(B=255+B+1),this[F]=255&B,F+1},d.prototype.writeInt16LE=function(B,F,K){return B=+B,F>>>=0,K||w(this,B,F,2,32767,-32768),this[F]=255&B,this[F+1]=B>>>8,F+2},d.prototype.writeInt16BE=function(B,F,K){return B=+B,F>>>=0,K||w(this,B,F,2,32767,-32768),this[F]=B>>>8,this[F+1]=255&B,F+2},d.prototype.writeInt32LE=function(B,F,K){return B=+B,F>>>=0,K||w(this,B,F,4,2147483647,-2147483648),this[F]=255&B,this[F+1]=B>>>8,this[F+2]=B>>>16,this[F+3]=B>>>24,F+4},d.prototype.writeInt32BE=function(B,F,K){return B=+B,F>>>=0,K||w(this,B,F,4,2147483647,-2147483648),B<0&&(B=4294967295+B+1),this[F]=B>>>24,this[F+1]=B>>>16,this[F+2]=B>>>8,this[F+3]=255&B,F+4},d.prototype.writeFloatLE=function(B,F,K){return S(this,B,F,!0,K)},d.prototype.writeFloatBE=function(B,F,K){return S(this,B,F,!1,K)},d.prototype.writeDoubleLE=function(B,F,K){return D(this,B,F,!0,K)},d.prototype.writeDoubleBE=function(B,F,K){return D(this,B,F,!1,K)},d.prototype.copy=function(B,F,K,ee){if(!d.isBuffer(B))throw new TypeError("argument should be a Buffer");if(K||(K=0),ee||ee===0||(ee=this.length),F>=B.length&&(F=B.length),F||(F=0),ee>0&&ee<K&&(ee=K),ee===K||B.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(K<0||K>=this.length)throw new RangeError("Index out of range");if(ee<0)throw new RangeError("sourceEnd out of bounds");ee>this.length&&(ee=this.length),B.length-F<ee-K&&(ee=B.length-F+K);var Q=ee-K;if(this===B&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(F,K,ee);else if(this===B&&K<F&&F<ee)for(var Z=Q-1;Z>=0;--Z)B[Z+F]=this[Z+K];else Uint8Array.prototype.set.call(B,this.subarray(K,ee),F);return Q},d.prototype.fill=function(B,F,K,ee){if(typeof B=="string"){if(typeof F=="string"?(ee=F,F=0,K=this.length):typeof K=="string"&&(ee=K,K=this.length),ee!==void 0&&typeof ee!="string")throw new TypeError("encoding must be a string");if(typeof ee=="string"&&!d.isEncoding(ee))throw new TypeError("Unknown encoding: "+ee);if(B.length===1){var Q=B.charCodeAt(0);(ee==="utf8"&&Q<128||ee==="latin1")&&(B=Q)}}else typeof B=="number"&&(B&=255);if(F<0||this.length<F||this.length<K)throw new RangeError("Out of range index");if(K<=F)return this;var Z;if(F>>>=0,K=K===void 0?this.length:K>>>0,B||(B=0),typeof B=="number")for(Z=F;Z<K;++Z)this[Z]=B;else{var J=d.isBuffer(B)?B:d.from(B,ee),ae=J.length;if(ae===0)throw new TypeError('The value "'+B+'" is invalid for argument "value"');for(Z=0;Z<K-F;++Z)this[Z+F]=J[Z%ae]}return this};var P=/[^+/0-9A-Za-z-_]/g;function k(B){return B<16?"0"+B.toString(16):B.toString(16)}function U(B,F){var K;F=F||1/0;for(var ee=B.length,Q=null,Z=[],J=0;J<ee;++J){if((K=B.charCodeAt(J))>55295&&K<57344){if(!Q){if(K>56319){(F-=3)>-1&&Z.push(239,191,189);continue}if(J+1===ee){(F-=3)>-1&&Z.push(239,191,189);continue}Q=K;continue}if(K<56320){(F-=3)>-1&&Z.push(239,191,189),Q=K;continue}K=65536+(Q-55296<<10|K-56320)}else Q&&(F-=3)>-1&&Z.push(239,191,189);if(Q=null,K<128){if((F-=1)<0)break;Z.push(K)}else if(K<2048){if((F-=2)<0)break;Z.push(K>>6|192,63&K|128)}else if(K<65536){if((F-=3)<0)break;Z.push(K>>12|224,K>>6&63|128,63&K|128)}else{if(!(K<1114112))throw new Error("Invalid code point");if((F-=4)<0)break;Z.push(K>>18|240,K>>12&63|128,K>>6&63|128,63&K|128)}}return Z}function W(B){return o.toByteArray(function(F){if((F=(F=F.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;F.length%4!=0;)F+="=";return F}(B))}function X(B,F,K,ee){for(var Q=0;Q<ee&&!(Q+K>=F.length||Q>=B.length);++Q)F[Q+K]=B[Q];return Q}function j(B,F){return B instanceof F||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===F.name}function q(B){return B!=B}}).call(this)}).call(this,t("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(t,n,s){var r=t("safe-buffer").Buffer,o=t("stream").Transform,a=t("string_decoder").StringDecoder;function l(d){o.call(this),this.hashMode=typeof d=="string",this.hashMode?this[d]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}t("inherits")(l,o),l.prototype.update=function(d,c,h){typeof d=="string"&&(d=r.from(d,c));var u=this._update(d);return this.hashMode?this:(h&&(u=this._toString(u,h)),u)},l.prototype.setAutoPadding=function(){},l.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},l.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},l.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},l.prototype._transform=function(d,c,h){var u;try{this.hashMode?this._update(d):this.push(this._update(d))}catch(p){u=p}finally{h(u)}},l.prototype._flush=function(d){var c;try{this.push(this.__final())}catch(h){c=h}d(c)},l.prototype._finalOrDigest=function(d){var c=this.__final()||r.alloc(0);return d&&(c=this._toString(c,d,!0)),c},l.prototype._toString=function(d,c,h){if(this._decoder||(this._decoder=new a(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var u=this._decoder.write(d);return h&&(u+=this._decoder.end()),u},n.exports=l},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(t,n,s){var r=t("../internals/is-callable"),o=t("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(r(l))return l;throw new a(o(l)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(t,n,s){var r=t("../internals/is-constructor"),o=t("../internals/try-to-string"),a=TypeError;n.exports=function(l){if(r(l))return l;throw new a(o(l)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(t,n,s){var r=t("../internals/is-callable"),o=String,a=TypeError;n.exports=function(l){if(typeof l=="object"||r(l))return l;throw new a("Can't set "+o(l)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(t,n,s){var r=t("../internals/well-known-symbol"),o=t("../internals/object-create"),a=t("../internals/object-define-property").f,l=r("unscopables"),d=Array.prototype;d[l]===void 0&&a(d,l,{configurable:!0,value:o(null)}),n.exports=function(c){d[l][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(t,n,s){var r=t("../internals/object-is-prototype-of"),o=TypeError;n.exports=function(a,l){if(r(l,a))return a;throw new o("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(t,n,s){var r=t("../internals/is-object"),o=String,a=TypeError;n.exports=function(l){if(r(l))return l;throw new a(o(l)+" is not an object")}},{"../internals/is-object":289}],228:[function(t,n,s){var r=t("../internals/to-indexed-object"),o=t("../internals/to-absolute-index"),a=t("../internals/length-of-array-like"),l=function(d){return function(c,h,u){var p,f=r(c),g=a(f),m=o(u,g);if(d&&h!=h){for(;g>m;)if((p=f[m++])!=p)return!0}else for(;g>m;m++)if((d||m in f)&&f[m]===h)return d||m||0;return!d&&-1}};n.exports={includes:l(!0),indexOf:l(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(t,n,s){var r=t("../internals/function-bind-context"),o=t("../internals/function-uncurry-this"),a=t("../internals/indexed-object"),l=t("../internals/to-object"),d=t("../internals/length-of-array-like"),c=t("../internals/array-species-create"),h=o([].push),u=function(p){var f=p===1,g=p===2,m=p===3,v=p===4,_=p===6,x=p===7,y=p===5||_;return function(T,O,L,R){for(var $,V,z=l(T),H=a(z),I=r(O,L),A=d(H),E=0,b=R||c,w=f?b(T,A):g||x?b(T,0):void 0;A>E;E++)if((y||E in H)&&(V=I($=H[E],E,z),p))if(f)w[E]=V;else if(V)switch(p){case 3:return!0;case 5:return $;case 6:return E;case 2:h(w,$)}else switch(p){case 4:return!1;case 7:h(w,$)}return _?-1:m||v?v:w}};n.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(t,n,s){var r=t("../internals/to-absolute-index"),o=t("../internals/length-of-array-like"),a=t("../internals/create-property"),l=Array,d=Math.max;n.exports=function(c,h,u){for(var p=o(c),f=r(h,p),g=r(u===void 0?p:u,p),m=l(d(g-f,0)),v=0;f<g;f++,v++)a(m,v,c[f]);return m.length=v,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(t,n,s){var r=t("../internals/function-uncurry-this");n.exports=r([].slice)},{"../internals/function-uncurry-this":268}],232:[function(t,n,s){var r=t("../internals/is-array"),o=t("../internals/is-constructor"),a=t("../internals/is-object"),l=t("../internals/well-known-symbol")("species"),d=Array;n.exports=function(c){var h;return r(c)&&(h=c.constructor,(o(h)&&(h===d||r(h.prototype))||a(h)&&(h=h[l])===null)&&(h=void 0)),h===void 0?d:h}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(t,n,s){var r=t("../internals/array-species-constructor");n.exports=function(o,a){return new(r(o))(a===0?0:a)}},{"../internals/array-species-constructor":232}],234:[function(t,n,s){var r=t("../internals/well-known-symbol")("iterator"),o=!1;try{var a=0,l={next:function(){return{done:!!a++}},return:function(){o=!0}};l[r]=function(){return this},Array.from(l,function(){throw 2})}catch{}n.exports=function(d,c){try{if(!c&&!o)return!1}catch{return!1}var h=!1;try{var u={};u[r]=function(){return{next:function(){return{done:h=!0}}}},d(u)}catch{}return h}},{"../internals/well-known-symbol":357}],235:[function(t,n,s){var r=t("../internals/function-uncurry-this"),o=r({}.toString),a=r("".slice);n.exports=function(l){return a(o(l),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(t,n,s){var r=t("../internals/to-string-tag-support"),o=t("../internals/is-callable"),a=t("../internals/classof-raw"),l=t("../internals/well-known-symbol")("toStringTag"),d=Object,c=a(function(){return arguments}())==="Arguments";n.exports=r?a:function(h){var u,p,f;return h===void 0?"Undefined":h===null?"Null":typeof(p=function(g,m){try{return g[m]}catch{}}(u=d(h),l))=="string"?p:c?a(u):(f=a(u))==="Object"&&o(u.callee)?"Arguments":f}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(t,n,s){var r=t("../internals/has-own-property"),o=t("../internals/own-keys"),a=t("../internals/object-get-own-property-descriptor"),l=t("../internals/object-define-property");n.exports=function(d,c,h){for(var u=o(c),p=l.f,f=a.f,g=0;g<u.length;g++){var m=u[g];r(d,m)||h&&r(h,m)||p(d,m,f(c,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(t,n,s){var r=t("../internals/well-known-symbol")("match");n.exports=function(o){var a=/./;try{"/./"[o](a)}catch{try{return a[r]=!1,"/./"[o](a)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(t,n,s){var r=t("../internals/fails");n.exports=!r(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":260}],240:[function(t,n,s){n.exports=function(r,o){return{value:r,done:o}}},{}],241:[function(t,n,s){var r=t("../internals/descriptors"),o=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");n.exports=r?function(l,d,c){return o.f(l,d,a(1,c))}:function(l,d,c){return l[d]=c,l}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(t,n,s){n.exports=function(r,o){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:o}}},{}],243:[function(t,n,s){var r=t("../internals/to-property-key"),o=t("../internals/object-define-property"),a=t("../internals/create-property-descriptor");n.exports=function(l,d,c){var h=r(d);h in l?o.f(l,h,a(0,c)):l[h]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(t,n,s){var r=t("../internals/make-built-in"),o=t("../internals/object-define-property");n.exports=function(a,l,d){return d.get&&r(d.get,l,{getter:!0}),d.set&&r(d.set,l,{setter:!0}),o.f(a,l,d)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(t,n,s){var r=t("../internals/is-callable"),o=t("../internals/object-define-property"),a=t("../internals/make-built-in"),l=t("../internals/define-global-property");n.exports=function(d,c,h,u){u||(u={});var p=u.enumerable,f=u.name!==void 0?u.name:c;if(r(h)&&a(h,f,u),u.global)p?d[c]=h:l(c,h);else{try{u.unsafe?d[c]&&(p=!0):delete d[c]}catch{}p?d[c]=h:o.f(d,c,{value:h,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return d}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(t,n,s){var r=t("../internals/global"),o=Object.defineProperty;n.exports=function(a,l){try{o(r,a,{value:l,configurable:!0,writable:!0})}catch{r[a]=l}return l}},{"../internals/global":274}],247:[function(t,n,s){var r=t("../internals/fails");n.exports=!r(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(t,n,s){var r=typeof document=="object"&&document.all,o=r===void 0&&r!==void 0;n.exports={all:r,IS_HTMLDDA:o}},{}],249:[function(t,n,s){var r=t("../internals/global"),o=t("../internals/is-object"),a=r.document,l=o(a)&&o(a.createElement);n.exports=function(d){return l?a.createElement(d):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(t,n,s){var r=t("../internals/engine-is-deno"),o=t("../internals/engine-is-node");n.exports=!r&&!o&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(t,n,s){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(t,n,s){var r=t("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(r)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(t,n,s){var r=t("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},{"../internals/engine-user-agent":256}],254:[function(t,n,s){var r=t("../internals/global"),o=t("../internals/classof-raw");n.exports=o(r.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(t,n,s){var r=t("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(r)},{"../internals/engine-user-agent":256}],256:[function(t,n,s){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(t,n,s){var r,o,a=t("../internals/global"),l=t("../internals/engine-user-agent"),d=a.process,c=a.Deno,h=d&&d.versions||c&&c.version,u=h&&h.v8;u&&(o=(r=u.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&l&&(!(r=l.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=l.match(/Chrome\/(\d+)/))&&(o=+r[1]),n.exports=o},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(t,n,s){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(t,n,s){var r=t("../internals/global"),o=t("../internals/object-get-own-property-descriptor").f,a=t("../internals/create-non-enumerable-property"),l=t("../internals/define-built-in"),d=t("../internals/define-global-property"),c=t("../internals/copy-constructor-properties"),h=t("../internals/is-forced");n.exports=function(u,p){var f,g,m,v,_,x=u.target,y=u.global,T=u.stat;if(f=y?r:T?r[x]||d(x,{}):(r[x]||{}).prototype)for(g in p){if(v=p[g],m=u.dontCallGetSet?(_=o(f,g))&&_.value:f[g],!h(y?g:x+(T?".":"#")+g,u.forced)&&m!==void 0){if(typeof v==typeof m)continue;c(v,m)}(u.sham||m&&m.sham)&&a(v,"sham",!0),l(f,g,v,u)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(t,n,s){n.exports=function(r){try{return!!r()}catch{return!0}}},{}],261:[function(t,n,s){var r=t("../internals/function-bind-native"),o=Function.prototype,a=o.apply,l=o.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(r?l.bind(a):function(){return l.apply(a,arguments)})},{"../internals/function-bind-native":263}],262:[function(t,n,s){var r=t("../internals/function-uncurry-this-clause"),o=t("../internals/a-callable"),a=t("../internals/function-bind-native"),l=r(r.bind);n.exports=function(d,c){return o(d),c===void 0?d:a?l(d,c):function(){return d.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(t,n,s){var r=t("../internals/fails");n.exports=!r(function(){var o=(function(){}).bind();return typeof o!="function"||o.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(t,n,s){var r=t("../internals/function-bind-native"),o=Function.prototype.call;n.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":263}],265:[function(t,n,s){var r=t("../internals/descriptors"),o=t("../internals/has-own-property"),a=Function.prototype,l=r&&Object.getOwnPropertyDescriptor,d=o(a,"name"),c=d&&(function(){}).name==="something",h=d&&(!r||r&&l(a,"name").configurable);n.exports={EXISTS:d,PROPER:c,CONFIGURABLE:h}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(t,n,s){var r=t("../internals/function-uncurry-this"),o=t("../internals/a-callable");n.exports=function(a,l,d){try{return r(o(Object.getOwnPropertyDescriptor(a,l)[d]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(t,n,s){var r=t("../internals/classof-raw"),o=t("../internals/function-uncurry-this");n.exports=function(a){if(r(a)==="Function")return o(a)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(t,n,s){var r=t("../internals/function-bind-native"),o=Function.prototype,a=o.call,l=r&&o.bind.bind(a,a);n.exports=r?l:function(d){return function(){return a.apply(d,arguments)}}},{"../internals/function-bind-native":263}],269:[function(t,n,s){var r=t("../internals/global"),o=t("../internals/is-callable"),a=function(l){return o(l)?l:void 0};n.exports=function(l,d){return arguments.length<2?a(r[l]):r[l]&&r[l][d]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(t,n,s){var r=t("../internals/classof"),o=t("../internals/get-method"),a=t("../internals/is-null-or-undefined"),l=t("../internals/iterators"),d=t("../internals/well-known-symbol")("iterator");n.exports=function(c){if(!a(c))return o(c,d)||o(c,"@@iterator")||l[r(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(t,n,s){var r=t("../internals/function-call"),o=t("../internals/a-callable"),a=t("../internals/an-object"),l=t("../internals/try-to-string"),d=t("../internals/get-iterator-method"),c=TypeError;n.exports=function(h,u){var p=arguments.length<2?d(h):u;if(o(p))return a(r(p,h));throw new c(l(h)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(t,n,s){var r=t("../internals/function-uncurry-this"),o=t("../internals/is-array"),a=t("../internals/is-callable"),l=t("../internals/classof-raw"),d=t("../internals/to-string"),c=r([].push);n.exports=function(h){if(a(h))return h;if(o(h)){for(var u=h.length,p=[],f=0;f<u;f++){var g=h[f];typeof g=="string"?c(p,g):typeof g!="number"&&l(g)!=="Number"&&l(g)!=="String"||c(p,d(g))}var m=p.length,v=!0;return function(_,x){if(v)return v=!1,x;if(o(this))return x;for(var y=0;y<m;y++)if(p[y]===_)return x}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(t,n,s){var r=t("../internals/a-callable"),o=t("../internals/is-null-or-undefined");n.exports=function(a,l){var d=a[l];return o(d)?void 0:r(d)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(t,n,s){(function(r){(function(){var o=function(a){return a&&a.Math===Math&&a};n.exports=o(typeof globalThis=="object"&&globalThis)||o(typeof window=="object"&&window)||o(typeof self=="object"&&self)||o(typeof r=="object"&&r)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(t,n,s){var r=t("../internals/function-uncurry-this"),o=t("../internals/to-object"),a=r({}.hasOwnProperty);n.exports=Object.hasOwn||function(l,d){return a(o(l),d)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(t,n,s){n.exports={}},{}],277:[function(t,n,s){n.exports=function(r,o){try{arguments.length===1?console.error(r):console.error(r,o)}catch{}}},{}],278:[function(t,n,s){var r=t("../internals/get-built-in");n.exports=r("document","documentElement")},{"../internals/get-built-in":269}],279:[function(t,n,s){var r=t("../internals/descriptors"),o=t("../internals/fails"),a=t("../internals/document-create-element");n.exports=!r&&!o(function(){return Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(t,n,s){var r=t("../internals/function-uncurry-this"),o=t("../internals/fails"),a=t("../internals/classof-raw"),l=Object,d=r("".split);n.exports=o(function(){return!l("z").propertyIsEnumerable(0)})?function(c){return a(c)==="String"?d(c,""):l(c)}:l},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(t,n,s){var r=t("../internals/function-uncurry-this"),o=t("../internals/is-callable"),a=t("../internals/shared-store"),l=r(Function.toString);o(a.inspectSource)||(a.inspectSource=function(d){return l(d)}),n.exports=a.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(t,n,s){var r,o,a,l=t("../internals/weak-map-basic-detection"),d=t("../internals/global"),c=t("../internals/is-object"),h=t("../internals/create-non-enumerable-property"),u=t("../internals/has-own-property"),p=t("../internals/shared-store"),f=t("../internals/shared-key"),g=t("../internals/hidden-keys"),m=d.TypeError,v=d.WeakMap;if(l||p.state){var _=p.state||(p.state=new v);_.get=_.get,_.has=_.has,_.set=_.set,r=function(y,T){if(_.has(y))throw new m("Object already initialized");return T.facade=y,_.set(y,T),T},o=function(y){return _.get(y)||{}},a=function(y){return _.has(y)}}else{var x=f("state");g[x]=!0,r=function(y,T){if(u(y,x))throw new m("Object already initialized");return T.facade=y,h(y,x,T),T},o=function(y){return u(y,x)?y[x]:{}},a=function(y){return u(y,x)}}n.exports={set:r,get:o,has:a,enforce:function(y){return a(y)?o(y):r(y,{})},getterFor:function(y){return function(T){var O;if(!c(T)||(O=o(T)).type!==y)throw new m("Incompatible receiver, "+y+" required");return O}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(t,n,s){var r=t("../internals/well-known-symbol"),o=t("../internals/iterators"),a=r("iterator"),l=Array.prototype;n.exports=function(d){return d!==void 0&&(o.Array===d||l[a]===d)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(t,n,s){var r=t("../internals/classof-raw");n.exports=Array.isArray||function(o){return r(o)==="Array"}},{"../internals/classof-raw":235}],285:[function(t,n,s){var r=t("../internals/document-all"),o=r.all;n.exports=r.IS_HTMLDDA?function(a){return typeof a=="function"||a===o}:function(a){return typeof a=="function"}},{"../internals/document-all":248}],286:[function(t,n,s){var r=t("../internals/function-uncurry-this"),o=t("../internals/fails"),a=t("../internals/is-callable"),l=t("../internals/classof"),d=t("../internals/get-built-in"),c=t("../internals/inspect-source"),h=function(){},u=[],p=d("Reflect","construct"),f=/^\s*(?:class|function)\b/,g=r(f.exec),m=!f.test(h),v=function(x){if(!a(x))return!1;try{return p(h,u,x),!0}catch{return!1}},_=function(x){if(!a(x))return!1;switch(l(x)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!g(f,c(x))}catch{return!0}};_.sham=!0,n.exports=!p||o(function(){var x;return v(v.call)||!v(Object)||!v(function(){x=!0})||x})?_:v},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(t,n,s){var r=t("../internals/fails"),o=t("../internals/is-callable"),a=/#|\.prototype\./,l=function(p,f){var g=c[d(p)];return g===u||g!==h&&(o(f)?r(f):!!f)},d=l.normalize=function(p){return String(p).replace(a,".").toLowerCase()},c=l.data={},h=l.NATIVE="N",u=l.POLYFILL="P";n.exports=l},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(t,n,s){n.exports=function(r){return r==null}},{}],289:[function(t,n,s){var r=t("../internals/is-callable"),o=t("../internals/document-all"),a=o.all;n.exports=o.IS_HTMLDDA?function(l){return typeof l=="object"?l!==null:r(l)||l===a}:function(l){return typeof l=="object"?l!==null:r(l)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(t,n,s){n.exports=!1},{}],291:[function(t,n,s){var r=t("../internals/is-object"),o=t("../internals/classof-raw"),a=t("../internals/well-known-symbol")("match");n.exports=function(l){var d;return r(l)&&((d=l[a])!==void 0?!!d:o(l)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(t,n,s){var r=t("../internals/get-built-in"),o=t("../internals/is-callable"),a=t("../internals/object-is-prototype-of"),l=t("../internals/use-symbol-as-uid"),d=Object;n.exports=l?function(c){return typeof c=="symbol"}:function(c){var h=r("Symbol");return o(h)&&a(h.prototype,d(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(t,n,s){var r=t("../internals/function-bind-context"),o=t("../internals/function-call"),a=t("../internals/an-object"),l=t("../internals/try-to-string"),d=t("../internals/is-array-iterator-method"),c=t("../internals/length-of-array-like"),h=t("../internals/object-is-prototype-of"),u=t("../internals/get-iterator"),p=t("../internals/get-iterator-method"),f=t("../internals/iterator-close"),g=TypeError,m=function(_,x){this.stopped=_,this.result=x},v=m.prototype;n.exports=function(_,x,y){var T,O,L,R,$,V,z,H=y&&y.that,I=!(!y||!y.AS_ENTRIES),A=!(!y||!y.IS_RECORD),E=!(!y||!y.IS_ITERATOR),b=!(!y||!y.INTERRUPTED),w=r(x,H),C=function(D){return T&&f(T,"normal",D),new m(!0,D)},S=function(D){return I?(a(D),b?w(D[0],D[1],C):w(D[0],D[1])):b?w(D,C):w(D)};if(A)T=_.iterator;else if(E)T=_;else{if(!(O=p(_)))throw new g(l(_)+" is not iterable");if(d(O)){for(L=0,R=c(_);R>L;L++)if(($=S(_[L]))&&h(v,$))return $;return new m(!1)}T=u(_,O)}for(V=A?_.next:T.next;!(z=o(V,T)).done;){try{$=S(z.value)}catch(D){f(T,"throw",D)}if(typeof $=="object"&&$&&h(v,$))return $}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(t,n,s){var r=t("../internals/function-call"),o=t("../internals/an-object"),a=t("../internals/get-method");n.exports=function(l,d,c){var h,u;o(l);try{if(!(h=a(l,"return"))){if(d==="throw")throw c;return c}h=r(h,l)}catch(p){u=!0,h=p}if(d==="throw")throw c;if(u)throw h;return o(h),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(t,n,s){var r=t("../internals/iterators-core").IteratorPrototype,o=t("../internals/object-create"),a=t("../internals/create-property-descriptor"),l=t("../internals/set-to-string-tag"),d=t("../internals/iterators"),c=function(){return this};n.exports=function(h,u,p,f){var g=u+" Iterator";return h.prototype=o(r,{next:a(+!f,p)}),l(h,g,!1,!0),d[g]=c,h}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/function-call"),a=t("../internals/is-pure"),l=t("../internals/function-name"),d=t("../internals/is-callable"),c=t("../internals/iterator-create-constructor"),h=t("../internals/object-get-prototype-of"),u=t("../internals/object-set-prototype-of"),p=t("../internals/set-to-string-tag"),f=t("../internals/create-non-enumerable-property"),g=t("../internals/define-built-in"),m=t("../internals/well-known-symbol"),v=t("../internals/iterators"),_=t("../internals/iterators-core"),x=l.PROPER,y=l.CONFIGURABLE,T=_.IteratorPrototype,O=_.BUGGY_SAFARI_ITERATORS,L=m("iterator"),R=function(){return this};n.exports=function($,V,z,H,I,A,E){c(z,V,H);var b,w,C,S=function(j){if(j===I&&W)return W;if(!O&&j&&j in k)return k[j];switch(j){case"keys":case"values":case"entries":return function(){return new z(this,j)}}return function(){return new z(this)}},D=V+" Iterator",P=!1,k=$.prototype,U=k[L]||k["@@iterator"]||I&&k[I],W=!O&&U||S(I),X=V==="Array"&&k.entries||U;if(X&&(b=h(X.call(new $)))!==Object.prototype&&b.next&&(a||h(b)===T||(u?u(b,T):d(b[L])||g(b,L,R)),p(b,D,!0,!0),a&&(v[D]=R)),x&&I==="values"&&U&&U.name!=="values"&&(!a&&y?f(k,"name","values"):(P=!0,W=function(){return o(U,this)})),I)if(w={values:S("values"),keys:A?W:S("keys"),entries:S("entries")},E)for(C in w)(O||P||!(C in k))&&g(k,C,w[C]);else r({target:V,proto:!0,forced:O||P},w);return a&&!E||k[L]===W||g(k,L,W,{name:I}),v[V]=W,w}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(t,n,s){var r,o,a,l=t("../internals/fails"),d=t("../internals/is-callable"),c=t("../internals/is-object"),h=t("../internals/object-create"),u=t("../internals/object-get-prototype-of"),p=t("../internals/define-built-in"),f=t("../internals/well-known-symbol"),g=t("../internals/is-pure"),m=f("iterator"),v=!1;[].keys&&("next"in(a=[].keys())?(o=u(u(a)))!==Object.prototype&&(r=o):v=!0),!c(r)||l(function(){var _={};return r[m].call(_)!==_})?r={}:g&&(r=h(r)),d(r[m])||p(r,m,function(){return this}),n.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:v}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(t,n,s){arguments[4][276][0].apply(s,arguments)},{dup:276}],299:[function(t,n,s){var r=t("../internals/to-length");n.exports=function(o){return r(o.length)}},{"../internals/to-length":343}],300:[function(t,n,s){var r=t("../internals/function-uncurry-this"),o=t("../internals/fails"),a=t("../internals/is-callable"),l=t("../internals/has-own-property"),d=t("../internals/descriptors"),c=t("../internals/function-name").CONFIGURABLE,h=t("../internals/inspect-source"),u=t("../internals/internal-state"),p=u.enforce,f=u.get,g=String,m=Object.defineProperty,v=r("".slice),_=r("".replace),x=r([].join),y=d&&!o(function(){return m(function(){},"length",{value:8}).length!==8}),T=String(String).split("String"),O=n.exports=function(L,R,$){v(g(R),0,7)==="Symbol("&&(R="["+_(g(R),/^Symbol\(([^)]*)\)/,"$1")+"]"),$&&$.getter&&(R="get "+R),$&&$.setter&&(R="set "+R),(!l(L,"name")||c&&L.name!==R)&&(d?m(L,"name",{value:R,configurable:!0}):L.name=R),y&&$&&l($,"arity")&&L.length!==$.arity&&m(L,"length",{value:$.arity});try{$&&l($,"constructor")&&$.constructor?d&&m(L,"prototype",{writable:!1}):L.prototype&&(L.prototype=void 0)}catch{}var V=p(L);return l(V,"source")||(V.source=x(T,typeof R=="string"?R:"")),L};Function.prototype.toString=O(function(){return a(this)&&f(this).source||h(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(t,n,s){var r=Math.ceil,o=Math.floor;n.exports=Math.trunc||function(a){var l=+a;return(l>0?o:r)(l)}},{}],302:[function(t,n,s){var r,o,a,l,d,c=t("../internals/global"),h=t("../internals/function-bind-context"),u=t("../internals/object-get-own-property-descriptor").f,p=t("../internals/task").set,f=t("../internals/queue"),g=t("../internals/engine-is-ios"),m=t("../internals/engine-is-ios-pebble"),v=t("../internals/engine-is-webos-webkit"),_=t("../internals/engine-is-node"),x=c.MutationObserver||c.WebKitMutationObserver,y=c.document,T=c.process,O=c.Promise,L=u(c,"queueMicrotask"),R=L&&L.value;if(!R){var $=new f,V=function(){var z,H;for(_&&(z=T.domain)&&z.exit();H=$.get();)try{H()}catch(I){throw $.head&&r(),I}z&&z.enter()};g||_||v||!x||!y?!m&&O&&O.resolve?((l=O.resolve(void 0)).constructor=O,d=h(l.then,l),r=function(){d(V)}):_?r=function(){T.nextTick(V)}:(p=h(p,c),r=function(){p(V)}):(o=!0,a=y.createTextNode(""),new x(V).observe(a,{characterData:!0}),r=function(){a.data=o=!o}),R=function(z){$.head||r(),$.add(z)}}n.exports=R},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(t,n,s){var r=t("../internals/a-callable"),o=TypeError,a=function(l){var d,c;this.promise=new l(function(h,u){if(d!==void 0||c!==void 0)throw new o("Bad Promise constructor");d=h,c=u}),this.resolve=r(d),this.reject=r(c)};n.exports.f=function(l){return new a(l)}},{"../internals/a-callable":222}],304:[function(t,n,s){var r=t("../internals/is-regexp"),o=TypeError;n.exports=function(a){if(r(a))throw new o("The method doesn't accept regular expressions");return a}},{"../internals/is-regexp":291}],305:[function(t,n,s){var r=t("../internals/descriptors"),o=t("../internals/function-uncurry-this"),a=t("../internals/function-call"),l=t("../internals/fails"),d=t("../internals/object-keys"),c=t("../internals/object-get-own-property-symbols"),h=t("../internals/object-property-is-enumerable"),u=t("../internals/to-object"),p=t("../internals/indexed-object"),f=Object.assign,g=Object.defineProperty,m=o([].concat);n.exports=!f||l(function(){if(r&&f({b:1},f(g({},"a",{enumerable:!0,get:function(){g(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var v={},_={},x=Symbol("assign detection");return v[x]=7,"abcdefghijklmnopqrst".split("").forEach(function(y){_[y]=y}),f({},v)[x]!==7||d(f({},_)).join("")!=="abcdefghijklmnopqrst"})?function(v,_){for(var x=u(v),y=arguments.length,T=1,O=c.f,L=h.f;y>T;)for(var R,$=p(arguments[T++]),V=O?m(d($),O($)):d($),z=V.length,H=0;z>H;)R=V[H++],r&&!a(L,$,R)||(x[R]=$[R]);return x}:f},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(t,n,s){var r,o=t("../internals/an-object"),a=t("../internals/object-define-properties"),l=t("../internals/enum-bug-keys"),d=t("../internals/hidden-keys"),c=t("../internals/html"),h=t("../internals/document-create-element"),u=t("../internals/shared-key"),p=u("IE_PROTO"),f=function(){},g=function(_){return"<script>"+_+"<\/script>"},m=function(_){_.write(g("")),_.close();var x=_.parentWindow.Object;return _=null,x},v=function(){try{r=new ActiveXObject("htmlfile")}catch{}var _,x;v=typeof document<"u"?document.domain&&r?m(r):((x=h("iframe")).style.display="none",c.appendChild(x),x.src="javascript:",(_=x.contentWindow.document).open(),_.write(g("document.F=Object")),_.close(),_.F):m(r);for(var y=l.length;y--;)delete v.prototype[l[y]];return v()};d[p]=!0,n.exports=Object.create||function(_,x){var y;return _!==null?(f.prototype=o(_),y=new f,f.prototype=null,y[p]=_):y=v(),x===void 0?y:a.f(y,x)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(t,n,s){var r=t("../internals/descriptors"),o=t("../internals/v8-prototype-define-bug"),a=t("../internals/object-define-property"),l=t("../internals/an-object"),d=t("../internals/to-indexed-object"),c=t("../internals/object-keys");s.f=r&&!o?Object.defineProperties:function(h,u){l(h);for(var p,f=d(u),g=c(u),m=g.length,v=0;m>v;)a.f(h,p=g[v++],f[p]);return h}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(t,n,s){var r=t("../internals/descriptors"),o=t("../internals/ie8-dom-define"),a=t("../internals/v8-prototype-define-bug"),l=t("../internals/an-object"),d=t("../internals/to-property-key"),c=TypeError,h=Object.defineProperty,u=Object.getOwnPropertyDescriptor;s.f=r?a?function(p,f,g){if(l(p),f=d(f),l(g),typeof p=="function"&&f==="prototype"&&"value"in g&&"writable"in g&&!g.writable){var m=u(p,f);m&&m.writable&&(p[f]=g.value,g={configurable:"configurable"in g?g.configurable:m.configurable,enumerable:"enumerable"in g?g.enumerable:m.enumerable,writable:!1})}return h(p,f,g)}:h:function(p,f,g){if(l(p),f=d(f),l(g),o)try{return h(p,f,g)}catch{}if("get"in g||"set"in g)throw new c("Accessors not supported");return"value"in g&&(p[f]=g.value),p}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(t,n,s){var r=t("../internals/descriptors"),o=t("../internals/function-call"),a=t("../internals/object-property-is-enumerable"),l=t("../internals/create-property-descriptor"),d=t("../internals/to-indexed-object"),c=t("../internals/to-property-key"),h=t("../internals/has-own-property"),u=t("../internals/ie8-dom-define"),p=Object.getOwnPropertyDescriptor;s.f=r?p:function(f,g){if(f=d(f),g=c(g),u)try{return p(f,g)}catch{}if(h(f,g))return l(!o(a.f,f,g),f[g])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(t,n,s){var r=t("../internals/classof-raw"),o=t("../internals/to-indexed-object"),a=t("../internals/object-get-own-property-names").f,l=t("../internals/array-slice-simple"),d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(c){return d&&r(c)==="Window"?function(h){try{return a(h)}catch{return l(d)}}(c):a(o(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(t,n,s){var r=t("../internals/object-keys-internal"),o=t("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(a){return r(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(t,n,s){s.f=Object.getOwnPropertySymbols},{}],313:[function(t,n,s){var r=t("../internals/has-own-property"),o=t("../internals/is-callable"),a=t("../internals/to-object"),l=t("../internals/shared-key"),d=t("../internals/correct-prototype-getter"),c=l("IE_PROTO"),h=Object,u=h.prototype;n.exports=d?h.getPrototypeOf:function(p){var f=a(p);if(r(f,c))return f[c];var g=f.constructor;return o(g)&&f instanceof g?g.prototype:f instanceof h?u:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(t,n,s){var r=t("../internals/function-uncurry-this");n.exports=r({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(t,n,s){var r=t("../internals/function-uncurry-this"),o=t("../internals/has-own-property"),a=t("../internals/to-indexed-object"),l=t("../internals/array-includes").indexOf,d=t("../internals/hidden-keys"),c=r([].push);n.exports=function(h,u){var p,f=a(h),g=0,m=[];for(p in f)!o(d,p)&&o(f,p)&&c(m,p);for(;u.length>g;)o(f,p=u[g++])&&(~l(m,p)||c(m,p));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(t,n,s){var r=t("../internals/object-keys-internal"),o=t("../internals/enum-bug-keys");n.exports=Object.keys||function(a){return r(a,o)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(t,n,s){var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,a=o&&!r.call({1:2},1);s.f=a?function(l){var d=o(this,l);return!!d&&d.enumerable}:r},{}],318:[function(t,n,s){var r=t("../internals/function-uncurry-this-accessor"),o=t("../internals/an-object"),a=t("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var l,d=!1,c={};try{(l=r(Object.prototype,"__proto__","set"))(c,[]),d=c instanceof Array}catch{}return function(h,u){return o(h),a(u),d?l(h,u):h.__proto__=u,h}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(t,n,s){var r=t("../internals/descriptors"),o=t("../internals/fails"),a=t("../internals/function-uncurry-this"),l=t("../internals/object-get-prototype-of"),d=t("../internals/object-keys"),c=t("../internals/to-indexed-object"),h=a(t("../internals/object-property-is-enumerable").f),u=a([].push),p=r&&o(function(){var g=Object.create(null);return g[2]=2,!h(g,2)}),f=function(g){return function(m){for(var v,_=c(m),x=d(_),y=p&&l(_)===null,T=x.length,O=0,L=[];T>O;)v=x[O++],r&&!(y?v in _:h(_,v))||u(L,g?[v,_[v]]:_[v]);return L}};n.exports={entries:f(!0),values:f(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(t,n,s){var r=t("../internals/function-call"),o=t("../internals/is-callable"),a=t("../internals/is-object"),l=TypeError;n.exports=function(d,c){var h,u;if(c==="string"&&o(h=d.toString)&&!a(u=r(h,d))||o(h=d.valueOf)&&!a(u=r(h,d))||c!=="string"&&o(h=d.toString)&&!a(u=r(h,d)))return u;throw new l("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(t,n,s){var r=t("../internals/get-built-in"),o=t("../internals/function-uncurry-this"),a=t("../internals/object-get-own-property-names"),l=t("../internals/object-get-own-property-symbols"),d=t("../internals/an-object"),c=o([].concat);n.exports=r("Reflect","ownKeys")||function(h){var u=a.f(d(h)),p=l.f;return p?c(u,p(h)):u}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(t,n,s){var r=t("../internals/global");n.exports=r},{"../internals/global":274}],323:[function(t,n,s){n.exports=function(r){try{return{error:!1,value:r()}}catch(o){return{error:!0,value:o}}}},{}],324:[function(t,n,s){var r=t("../internals/global"),o=t("../internals/promise-native-constructor"),a=t("../internals/is-callable"),l=t("../internals/is-forced"),d=t("../internals/inspect-source"),c=t("../internals/well-known-symbol"),h=t("../internals/engine-is-browser"),u=t("../internals/engine-is-deno"),p=t("../internals/is-pure"),f=t("../internals/engine-v8-version"),g=o&&o.prototype,m=c("species"),v=!1,_=a(r.PromiseRejectionEvent),x=l("Promise",function(){var y=d(o),T=y!==String(o);if(!T&&f===66||p&&(!g.catch||!g.finally))return!0;if(!f||f<51||!/native code/.test(y)){var O=new o(function(R){R(1)}),L=function(R){R(function(){},function(){})};if((O.constructor={})[m]=L,!(v=O.then(function(){})instanceof L))return!0}return!T&&(h||u)&&!_});n.exports={CONSTRUCTOR:x,REJECTION_EVENT:_,SUBCLASSING:v}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(t,n,s){var r=t("../internals/global");n.exports=r.Promise},{"../internals/global":274}],326:[function(t,n,s){var r=t("../internals/an-object"),o=t("../internals/is-object"),a=t("../internals/new-promise-capability");n.exports=function(l,d){if(r(l),o(d)&&d.constructor===l)return d;var c=a.f(l);return(0,c.resolve)(d),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(t,n,s){var r=t("../internals/promise-native-constructor"),o=t("../internals/check-correctness-of-iteration"),a=t("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=a||!o(function(l){r.all(l).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(t,n,s){var r=function(){this.head=null,this.tail=null};r.prototype={add:function(o){var a={item:o,next:null},l=this.tail;l?l.next=a:this.head=a,this.tail=a},get:function(){var o=this.head;if(o)return(this.head=o.next)===null&&(this.tail=null),o.item}},n.exports=r},{}],329:[function(t,n,s){var r=t("../internals/is-null-or-undefined"),o=TypeError;n.exports=function(a){if(r(a))throw new o("Can't call method on "+a);return a}},{"../internals/is-null-or-undefined":288}],330:[function(t,n,s){var r=t("../internals/get-built-in"),o=t("../internals/define-built-in-accessor"),a=t("../internals/well-known-symbol"),l=t("../internals/descriptors"),d=a("species");n.exports=function(c){var h=r(c);l&&h&&!h[d]&&o(h,d,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(t,n,s){var r=t("../internals/object-define-property").f,o=t("../internals/has-own-property"),a=t("../internals/well-known-symbol")("toStringTag");n.exports=function(l,d,c){l&&!c&&(l=l.prototype),l&&!o(l,a)&&r(l,a,{configurable:!0,value:d})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(t,n,s){var r=t("../internals/shared"),o=t("../internals/uid"),a=r("keys");n.exports=function(l){return a[l]||(a[l]=o(l))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(t,n,s){var r=t("../internals/global"),o=t("../internals/define-global-property"),a=r["__core-js_shared__"]||o("__core-js_shared__",{});n.exports=a},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(t,n,s){var r=t("../internals/is-pure"),o=t("../internals/shared-store");(n.exports=function(a,l){return o[a]||(o[a]=l!==void 0?l:{})})("versions",[]).push({version:"3.33.0",mode:r?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(t,n,s){var r=t("../internals/an-object"),o=t("../internals/a-constructor"),a=t("../internals/is-null-or-undefined"),l=t("../internals/well-known-symbol")("species");n.exports=function(d,c){var h,u=r(d).constructor;return u===void 0||a(h=r(u)[l])?c:o(h)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(t,n,s){var r=t("../internals/engine-v8-version"),o=t("../internals/fails"),a=t("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!o(function(){var l=Symbol("symbol detection");return!a(l)||!(Object(l)instanceof Symbol)||!Symbol.sham&&r&&r<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(t,n,s){var r=t("../internals/function-call"),o=t("../internals/get-built-in"),a=t("../internals/well-known-symbol"),l=t("../internals/define-built-in");n.exports=function(){var d=o("Symbol"),c=d&&d.prototype,h=c&&c.valueOf,u=a("toPrimitive");c&&!c[u]&&l(c,u,function(p){return r(h,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(t,n,s){var r=t("../internals/symbol-constructor-detection");n.exports=r&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(t,n,s){var r,o,a,l,d=t("../internals/global"),c=t("../internals/function-apply"),h=t("../internals/function-bind-context"),u=t("../internals/is-callable"),p=t("../internals/has-own-property"),f=t("../internals/fails"),g=t("../internals/html"),m=t("../internals/array-slice"),v=t("../internals/document-create-element"),_=t("../internals/validate-arguments-length"),x=t("../internals/engine-is-ios"),y=t("../internals/engine-is-node"),T=d.setImmediate,O=d.clearImmediate,L=d.process,R=d.Dispatch,$=d.Function,V=d.MessageChannel,z=d.String,H=0,I={};f(function(){r=d.location});var A=function(C){if(p(I,C)){var S=I[C];delete I[C],S()}},E=function(C){return function(){A(C)}},b=function(C){A(C.data)},w=function(C){d.postMessage(z(C),r.protocol+"//"+r.host)};T&&O||(T=function(C){_(arguments.length,1);var S=u(C)?C:$(C),D=m(arguments,1);return I[++H]=function(){c(S,void 0,D)},o(H),H},O=function(C){delete I[C]},y?o=function(C){L.nextTick(E(C))}:R&&R.now?o=function(C){R.now(E(C))}:V&&!x?(l=(a=new V).port2,a.port1.onmessage=b,o=h(l.postMessage,l)):d.addEventListener&&u(d.postMessage)&&!d.importScripts&&r&&r.protocol!=="file:"&&!f(w)?(o=w,d.addEventListener("message",b,!1)):o="onreadystatechange"in v("script")?function(C){g.appendChild(v("script")).onreadystatechange=function(){g.removeChild(this),A(C)}}:function(C){setTimeout(E(C),0)}),n.exports={set:T,clear:O}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(t,n,s){var r=t("../internals/to-integer-or-infinity"),o=Math.max,a=Math.min;n.exports=function(l,d){var c=r(l);return c<0?o(c+d,0):a(c,d)}},{"../internals/to-integer-or-infinity":342}],341:[function(t,n,s){var r=t("../internals/indexed-object"),o=t("../internals/require-object-coercible");n.exports=function(a){return r(o(a))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(t,n,s){var r=t("../internals/math-trunc");n.exports=function(o){var a=+o;return a!=a||a===0?0:r(a)}},{"../internals/math-trunc":301}],343:[function(t,n,s){var r=t("../internals/to-integer-or-infinity"),o=Math.min;n.exports=function(a){return a>0?o(r(a),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(t,n,s){var r=t("../internals/require-object-coercible"),o=Object;n.exports=function(a){return o(r(a))}},{"../internals/require-object-coercible":329}],345:[function(t,n,s){var r=t("../internals/function-call"),o=t("../internals/is-object"),a=t("../internals/is-symbol"),l=t("../internals/get-method"),d=t("../internals/ordinary-to-primitive"),c=t("../internals/well-known-symbol"),h=TypeError,u=c("toPrimitive");n.exports=function(p,f){if(!o(p)||a(p))return p;var g,m=l(p,u);if(m){if(f===void 0&&(f="default"),g=r(m,p,f),!o(g)||a(g))return g;throw new h("Can't convert object to primitive value")}return f===void 0&&(f="number"),d(p,f)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(t,n,s){var r=t("../internals/to-primitive"),o=t("../internals/is-symbol");n.exports=function(a){var l=r(a,"string");return o(l)?l:l+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(t,n,s){var r={};r[t("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(r)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(t,n,s){var r=t("../internals/classof"),o=String;n.exports=function(a){if(r(a)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return o(a)}},{"../internals/classof":236}],349:[function(t,n,s){var r=String;n.exports=function(o){try{return r(o)}catch{return"Object"}}},{}],350:[function(t,n,s){var r=t("../internals/function-uncurry-this"),o=0,a=Math.random(),l=r(1 .toString);n.exports=function(d){return"Symbol("+(d===void 0?"":d)+")_"+l(++o+a,36)}},{"../internals/function-uncurry-this":268}],351:[function(t,n,s){var r=t("../internals/symbol-constructor-detection");n.exports=r&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(t,n,s){var r=t("../internals/descriptors"),o=t("../internals/fails");n.exports=r&&o(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(t,n,s){var r=TypeError;n.exports=function(o,a){if(o<a)throw new r("Not enough arguments");return o}},{}],354:[function(t,n,s){var r=t("../internals/global"),o=t("../internals/is-callable"),a=r.WeakMap;n.exports=o(a)&&/native code/.test(String(a))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(t,n,s){var r=t("../internals/path"),o=t("../internals/has-own-property"),a=t("../internals/well-known-symbol-wrapped"),l=t("../internals/object-define-property").f;n.exports=function(d){var c=r.Symbol||(r.Symbol={});o(c,d)||l(c,d,{value:a.f(d)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(t,n,s){var r=t("../internals/well-known-symbol");s.f=r},{"../internals/well-known-symbol":357}],357:[function(t,n,s){var r=t("../internals/global"),o=t("../internals/shared"),a=t("../internals/has-own-property"),l=t("../internals/uid"),d=t("../internals/symbol-constructor-detection"),c=t("../internals/use-symbol-as-uid"),h=r.Symbol,u=o("wks"),p=c?h.for||h:h&&h.withoutSetter||l;n.exports=function(f){return a(u,f)||(u[f]=d&&a(h,f)?h[f]:p("Symbol."+f)),u[f]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/array-iteration").findIndex,a=t("../internals/add-to-unscopables"),l=!0;"findIndex"in[]&&Array(1).findIndex(function(){l=!1}),r({target:"Array",proto:!0,forced:l},{findIndex:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/array-iteration").find,a=t("../internals/add-to-unscopables"),l=!0;"find"in[]&&Array(1).find(function(){l=!1}),r({target:"Array",proto:!0,forced:l},{find:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}}),a("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/array-includes").includes,a=t("../internals/fails"),l=t("../internals/add-to-unscopables");r({target:"Array",proto:!0,forced:a(function(){return!Array(1).includes()})},{includes:function(d){return o(this,d,arguments.length>1?arguments[1]:void 0)}}),l("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(t,n,s){var r=t("../internals/to-indexed-object"),o=t("../internals/add-to-unscopables"),a=t("../internals/iterators"),l=t("../internals/internal-state"),d=t("../internals/object-define-property").f,c=t("../internals/iterator-define"),h=t("../internals/create-iter-result-object"),u=t("../internals/is-pure"),p=t("../internals/descriptors"),f=l.set,g=l.getterFor("Array Iterator");n.exports=c(Array,"Array",function(v,_){f(this,{type:"Array Iterator",target:r(v),index:0,kind:_})},function(){var v=g(this),_=v.target,x=v.kind,y=v.index++;if(!_||y>=_.length)return v.target=void 0,h(void 0,!0);switch(x){case"keys":return h(y,!1);case"values":return h(_[y],!1)}return h([y,_[y]],!1)},"values");var m=a.Arguments=a.Array;if(o("keys"),o("values"),o("entries"),!u&&p&&m.name!=="values")try{d(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/get-built-in"),a=t("../internals/function-apply"),l=t("../internals/function-call"),d=t("../internals/function-uncurry-this"),c=t("../internals/fails"),h=t("../internals/is-callable"),u=t("../internals/is-symbol"),p=t("../internals/array-slice"),f=t("../internals/get-json-replacer-function"),g=t("../internals/symbol-constructor-detection"),m=String,v=o("JSON","stringify"),_=d(/./.exec),x=d("".charAt),y=d("".charCodeAt),T=d("".replace),O=d(1 .toString),L=/[\uD800-\uDFFF]/g,R=/^[\uD800-\uDBFF]$/,$=/^[\uDC00-\uDFFF]$/,V=!g||c(function(){var A=o("Symbol")("stringify detection");return v([A])!=="[null]"||v({a:A})!=="{}"||v(Object(A))!=="{}"}),z=c(function(){return v("\uDF06\uD834")!=='"\\udf06\\ud834"'||v("\uDEAD")!=='"\\udead"'}),H=function(A,E){var b=p(arguments),w=f(E);if(h(w)||A!==void 0&&!u(A))return b[1]=function(C,S){if(h(w)&&(S=l(w,this,m(C),S)),!u(S))return S},a(v,null,b)},I=function(A,E,b){var w=x(b,E-1),C=x(b,E+1);return _(R,A)&&!_($,C)||_($,A)&&!_(R,w)?"\\u"+O(y(A,0),16):A};v&&r({target:"JSON",stat:!0,arity:3,forced:V||z},{stringify:function(A,E,b){var w=p(arguments),C=a(V?H:v,null,w);return z&&typeof C=="string"?T(C,L,I):C}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(t,n,s){t("../internals/export")({target:"Number",stat:!0},{isNaN:function(r){return r!=r}})},{"../internals/export":259}],364:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/object-assign");r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/symbol-constructor-detection"),a=t("../internals/fails"),l=t("../internals/object-get-own-property-symbols"),d=t("../internals/to-object");r({target:"Object",stat:!0,forced:!o||a(function(){l.f(1)})},{getOwnPropertySymbols:function(c){var h=l.f;return h?h(d(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/to-object"),a=t("../internals/object-keys");r({target:"Object",stat:!0,forced:t("../internals/fails")(function(){a(1)})},{keys:function(l){return a(o(l))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/object-to-array").values;r({target:"Object",stat:!0},{values:function(a){return o(a)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/function-call"),a=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),d=t("../internals/perform"),c=t("../internals/iterate");r({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{all:function(h){var u=this,p=l.f(u),f=p.resolve,g=p.reject,m=d(function(){var v=a(u.resolve),_=[],x=0,y=1;c(h,function(T){var O=x++,L=!1;y++,o(v,u,T).then(function(R){L||(L=!0,_[O]=R,--y||f(_))},g)}),--y||f(_)});return m.error&&g(m.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/is-pure"),a=t("../internals/promise-constructor-detection").CONSTRUCTOR,l=t("../internals/promise-native-constructor"),d=t("../internals/get-built-in"),c=t("../internals/is-callable"),h=t("../internals/define-built-in"),u=l&&l.prototype;if(r({target:"Promise",proto:!0,forced:a,real:!0},{catch:function(f){return this.then(void 0,f)}}),!o&&c(l)){var p=d("Promise").prototype.catch;u.catch!==p&&h(u,"catch",p,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(t,n,s){var r,o,a,l=t("../internals/export"),d=t("../internals/is-pure"),c=t("../internals/engine-is-node"),h=t("../internals/global"),u=t("../internals/function-call"),p=t("../internals/define-built-in"),f=t("../internals/object-set-prototype-of"),g=t("../internals/set-to-string-tag"),m=t("../internals/set-species"),v=t("../internals/a-callable"),_=t("../internals/is-callable"),x=t("../internals/is-object"),y=t("../internals/an-instance"),T=t("../internals/species-constructor"),O=t("../internals/task").set,L=t("../internals/microtask"),R=t("../internals/host-report-errors"),$=t("../internals/perform"),V=t("../internals/queue"),z=t("../internals/internal-state"),H=t("../internals/promise-native-constructor"),I=t("../internals/promise-constructor-detection"),A=t("../internals/new-promise-capability"),E=I.CONSTRUCTOR,b=I.REJECTION_EVENT,w=I.SUBCLASSING,C=z.getterFor("Promise"),S=z.set,D=H&&H.prototype,P=H,k=D,U=h.TypeError,W=h.document,X=h.process,j=A.f,q=j,B=!!(W&&W.createEvent&&h.dispatchEvent),F=function(le){var fe;return!(!x(le)||!_(fe=le.then))&&fe},K=function(le,fe){var pe,me,ye,we=fe.value,De=fe.state===1,Ve=De?le.ok:le.fail,Le=le.resolve,$e=le.reject,rt=le.domain;try{Ve?(De||(fe.rejection===2&&ae(fe),fe.rejection=1),Ve===!0?pe=we:(rt&&rt.enter(),pe=Ve(we),rt&&(rt.exit(),ye=!0)),pe===le.promise?$e(new U("Promise-chain cycle")):(me=F(pe))?u(me,pe,Le,$e):Le(pe)):$e(we)}catch(nt){rt&&!ye&&rt.exit(),$e(nt)}},ee=function(le,fe){le.notified||(le.notified=!0,L(function(){for(var pe,me=le.reactions;pe=me.get();)K(pe,le);le.notified=!1,fe&&!le.rejection&&Z(le)}))},Q=function(le,fe,pe){var me,ye;B?((me=W.createEvent("Event")).promise=fe,me.reason=pe,me.initEvent(le,!1,!0),h.dispatchEvent(me)):me={promise:fe,reason:pe},!b&&(ye=h["on"+le])?ye(me):le==="unhandledrejection"&&R("Unhandled promise rejection",pe)},Z=function(le){u(O,h,function(){var fe,pe=le.facade,me=le.value;if(J(le)&&(fe=$(function(){c?X.emit("unhandledRejection",me,pe):Q("unhandledrejection",pe,me)}),le.rejection=c||J(le)?2:1,fe.error))throw fe.value})},J=function(le){return le.rejection!==1&&!le.parent},ae=function(le){u(O,h,function(){var fe=le.facade;c?X.emit("rejectionHandled",fe):Q("rejectionhandled",fe,le.value)})},ce=function(le,fe,pe){return function(me){le(fe,me,pe)}},te=function(le,fe,pe){le.done||(le.done=!0,pe&&(le=pe),le.value=fe,le.state=2,ee(le,!0))},oe=function(le,fe,pe){if(!le.done){le.done=!0,pe&&(le=pe);try{if(le.facade===fe)throw new U("Promise can't be resolved itself");var me=F(fe);me?L(function(){var ye={done:!1};try{u(me,fe,ce(oe,ye,le),ce(te,ye,le))}catch(we){te(ye,we,le)}}):(le.value=fe,le.state=1,ee(le,!1))}catch(ye){te({done:!1},ye,le)}}};if(E&&(k=(P=function(le){y(this,k),v(le),u(r,this);var fe=C(this);try{le(ce(oe,fe),ce(te,fe))}catch(pe){te(fe,pe)}}).prototype,(r=function(le){S(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new V,rejection:!1,state:0,value:void 0})}).prototype=p(k,"then",function(le,fe){var pe=C(this),me=j(T(this,P));return pe.parent=!0,me.ok=!_(le)||le,me.fail=_(fe)&&fe,me.domain=c?X.domain:void 0,pe.state===0?pe.reactions.add(me):L(function(){K(me,pe)}),me.promise}),o=function(){var le=new r,fe=C(le);this.promise=le,this.resolve=ce(oe,fe),this.reject=ce(te,fe)},A.f=j=function(le){return le===P||le===void 0?new o(le):q(le)},!d&&_(H)&&D!==Object.prototype)){a=D.then,w||p(D,"then",function(le,fe){var pe=this;return new P(function(me,ye){u(a,pe,me,ye)}).then(le,fe)},{unsafe:!0});try{delete D.constructor}catch{}f&&f(D,k)}l({global:!0,constructor:!0,wrap:!0,forced:E},{Promise:P}),g(P,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/is-pure"),a=t("../internals/promise-native-constructor"),l=t("../internals/fails"),d=t("../internals/get-built-in"),c=t("../internals/is-callable"),h=t("../internals/species-constructor"),u=t("../internals/promise-resolve"),p=t("../internals/define-built-in"),f=a&&a.prototype;if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&l(function(){f.finally.call({then:function(){}},function(){})})},{finally:function(m){var v=h(this,d("Promise")),_=c(m);return this.then(_?function(x){return u(v,m()).then(function(){return x})}:m,_?function(x){return u(v,m()).then(function(){throw x})}:m)}}),!o&&c(a)){var g=d("Promise").prototype.finally;f.finally!==g&&p(f,"finally",g,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(t,n,s){t("../modules/es.promise.constructor"),t("../modules/es.promise.all"),t("../modules/es.promise.catch"),t("../modules/es.promise.race"),t("../modules/es.promise.reject"),t("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/function-call"),a=t("../internals/a-callable"),l=t("../internals/new-promise-capability"),d=t("../internals/perform"),c=t("../internals/iterate");r({target:"Promise",stat:!0,forced:t("../internals/promise-statics-incorrect-iteration")},{race:function(h){var u=this,p=l.f(u),f=p.reject,g=d(function(){var m=a(u.resolve);c(h,function(v){o(m,u,v).then(p.resolve,f)})});return g.error&&f(g.value),p.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/function-call"),a=t("../internals/new-promise-capability");r({target:"Promise",stat:!0,forced:t("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(l){var d=a.f(this);return o(d.reject,void 0,l),d.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/get-built-in"),a=t("../internals/is-pure"),l=t("../internals/promise-native-constructor"),d=t("../internals/promise-constructor-detection").CONSTRUCTOR,c=t("../internals/promise-resolve"),h=o("Promise"),u=a&&!d;r({target:"Promise",stat:!0,forced:a||d},{resolve:function(p){return c(u&&this===h?l:this,p)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/function-uncurry-this"),a=t("../internals/to-absolute-index"),l=RangeError,d=String.fromCharCode,c=String.fromCodePoint,h=o([].join);r({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(u){for(var p,f=[],g=arguments.length,m=0;g>m;){if(p=+arguments[m++],a(p,1114111)!==p)throw new l(p+" is not a valid code point");f[m]=p<65536?d(p):d(55296+((p-=65536)>>10),p%1024+56320)}return h(f,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/function-uncurry-this"),a=t("../internals/not-a-regexp"),l=t("../internals/require-object-coercible"),d=t("../internals/to-string"),c=t("../internals/correct-is-regexp-logic"),h=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(u){return!!~h(d(l(this)),d(a(u)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(t,n,s){t("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/global"),a=t("../internals/function-call"),l=t("../internals/function-uncurry-this"),d=t("../internals/is-pure"),c=t("../internals/descriptors"),h=t("../internals/symbol-constructor-detection"),u=t("../internals/fails"),p=t("../internals/has-own-property"),f=t("../internals/object-is-prototype-of"),g=t("../internals/an-object"),m=t("../internals/to-indexed-object"),v=t("../internals/to-property-key"),_=t("../internals/to-string"),x=t("../internals/create-property-descriptor"),y=t("../internals/object-create"),T=t("../internals/object-keys"),O=t("../internals/object-get-own-property-names"),L=t("../internals/object-get-own-property-names-external"),R=t("../internals/object-get-own-property-symbols"),$=t("../internals/object-get-own-property-descriptor"),V=t("../internals/object-define-property"),z=t("../internals/object-define-properties"),H=t("../internals/object-property-is-enumerable"),I=t("../internals/define-built-in"),A=t("../internals/define-built-in-accessor"),E=t("../internals/shared"),b=t("../internals/shared-key"),w=t("../internals/hidden-keys"),C=t("../internals/uid"),S=t("../internals/well-known-symbol"),D=t("../internals/well-known-symbol-wrapped"),P=t("../internals/well-known-symbol-define"),k=t("../internals/symbol-define-to-primitive"),U=t("../internals/set-to-string-tag"),W=t("../internals/internal-state"),X=t("../internals/array-iteration").forEach,j=b("hidden"),q=W.set,B=W.getterFor("Symbol"),F=Object.prototype,K=o.Symbol,ee=K&&K.prototype,Q=o.RangeError,Z=o.TypeError,J=o.QObject,ae=$.f,ce=V.f,te=L.f,oe=H.f,le=l([].push),fe=E("symbols"),pe=E("op-symbols"),me=E("wks"),ye=!J||!J.prototype||!J.prototype.findChild,we=function(qe,Fe,Ye){var tt=ae(F,Fe);tt&&delete F[Fe],ce(qe,Fe,Ye),tt&&qe!==F&&ce(F,Fe,tt)},De=c&&u(function(){return y(ce({},"a",{get:function(){return ce(this,"a",{value:7}).a}})).a!==7})?we:ce,Ve=function(qe,Fe){var Ye=fe[qe]=y(ee);return q(Ye,{type:"Symbol",tag:qe,description:Fe}),c||(Ye.description=Fe),Ye},Le=function(qe,Fe,Ye){qe===F&&Le(pe,Fe,Ye),g(qe);var tt=v(Fe);return g(Ye),p(fe,tt)?(Ye.enumerable?(p(qe,j)&&qe[j][tt]&&(qe[j][tt]=!1),Ye=y(Ye,{enumerable:x(0,!1)})):(p(qe,j)||ce(qe,j,x(1,{})),qe[j][tt]=!0),De(qe,tt,Ye)):ce(qe,tt,Ye)},$e=function(qe,Fe){g(qe);var Ye=m(Fe),tt=T(Ye).concat(et(Ye));return X(tt,function(Ze){c&&!a(rt,Ye,Ze)||Le(qe,Ze,Ye[Ze])}),qe},rt=function(qe){var Fe=v(qe),Ye=a(oe,this,Fe);return!(this===F&&p(fe,Fe)&&!p(pe,Fe))&&(!(Ye||!p(this,Fe)||!p(fe,Fe)||p(this,j)&&this[j][Fe])||Ye)},nt=function(qe,Fe){var Ye=m(qe),tt=v(Fe);if(Ye!==F||!p(fe,tt)||p(pe,tt)){var Ze=ae(Ye,tt);return!Ze||!p(fe,tt)||p(Ye,j)&&Ye[j][tt]||(Ze.enumerable=!0),Ze}},Je=function(qe){var Fe=te(m(qe)),Ye=[];return X(Fe,function(tt){p(fe,tt)||p(w,tt)||le(Ye,tt)}),Ye},et=function(qe){var Fe=qe===F,Ye=te(Fe?pe:m(qe)),tt=[];return X(Ye,function(Ze){!p(fe,Ze)||Fe&&!p(F,Ze)||le(tt,fe[Ze])}),tt};h||(I(ee=(K=function(){if(f(ee,this))throw new Z("Symbol is not a constructor");var qe=arguments.length&&arguments[0]!==void 0?_(arguments[0]):void 0,Fe=C(qe),Ye=function(tt){this===F&&a(Ye,pe,tt),p(this,j)&&p(this[j],Fe)&&(this[j][Fe]=!1);var Ze=x(1,tt);try{De(this,Fe,Ze)}catch(Vt){if(!(Vt instanceof Q))throw Vt;we(this,Fe,Ze)}};return c&&ye&&De(F,Fe,{configurable:!0,set:Ye}),Ve(Fe,qe)}).prototype,"toString",function(){return B(this).tag}),I(K,"withoutSetter",function(qe){return Ve(C(qe),qe)}),H.f=rt,V.f=Le,z.f=$e,$.f=nt,O.f=L.f=Je,R.f=et,D.f=function(qe){return Ve(S(qe),qe)},c&&(A(ee,"description",{configurable:!0,get:function(){return B(this).description}}),d||I(F,"propertyIsEnumerable",rt,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!h,sham:!h},{Symbol:K}),X(T(me),function(qe){P(qe)}),r({target:"Symbol",stat:!0,forced:!h},{useSetter:function(){ye=!0},useSimple:function(){ye=!1}}),r({target:"Object",stat:!0,forced:!h,sham:!c},{create:function(qe,Fe){return Fe===void 0?y(qe):$e(y(qe),Fe)},defineProperty:Le,defineProperties:$e,getOwnPropertyDescriptor:nt}),r({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Je}),k(),U(K,"Symbol"),w[j]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/get-built-in"),a=t("../internals/has-own-property"),l=t("../internals/to-string"),d=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),h=d("string-to-symbol-registry"),u=d("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(p){var f=l(p);if(a(h,f))return h[f];var g=o("Symbol")(f);return h[f]=g,u[g]=f,g}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(t,n,s){t("../modules/es.symbol.constructor"),t("../modules/es.symbol.for"),t("../modules/es.symbol.key-for"),t("../modules/es.json.stringify"),t("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(t,n,s){var r=t("../internals/export"),o=t("../internals/has-own-property"),a=t("../internals/is-symbol"),l=t("../internals/try-to-string"),d=t("../internals/shared"),c=t("../internals/symbol-registry-detection"),h=d("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(u){if(!a(u))throw new TypeError(l(u)+" is not a symbol");if(o(h,u))return h[u]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(t,n,s){function r(o){return Object.prototype.toString.call(o)}s.isArray=function(o){return Array.isArray?Array.isArray(o):r(o)==="[object Array]"},s.isBoolean=function(o){return typeof o=="boolean"},s.isNull=function(o){return o===null},s.isNullOrUndefined=function(o){return o==null},s.isNumber=function(o){return typeof o=="number"},s.isString=function(o){return typeof o=="string"},s.isSymbol=function(o){return typeof o=="symbol"},s.isUndefined=function(o){return o===void 0},s.isRegExp=function(o){return r(o)==="[object RegExp]"},s.isObject=function(o){return typeof o=="object"&&o!==null},s.isDate=function(o){return r(o)==="[object Date]"},s.isError=function(o){return r(o)==="[object Error]"||o instanceof Error},s.isFunction=function(o){return typeof o=="function"},s.isPrimitive=function(o){return o===null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||typeof o=="symbol"||o===void 0},s.isBuffer=t("buffer").Buffer.isBuffer},{buffer:220}],384:[function(t,n,s){(function(r){(function(){var o=t("elliptic"),a=t("bn.js");n.exports=function(h){return new d(h)};var l={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function d(h){this.curveType=l[h],this.curveType||(this.curveType={name:h}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function c(h,u,p){Array.isArray(h)||(h=h.toArray());var f=new r(h);if(p&&f.length<p){var g=new r(p-f.length);g.fill(0),f=r.concat([g,f])}return u?f.toString(u):f}l.p224=l.secp224r1,l.p256=l.secp256r1=l.prime256v1,l.p192=l.secp192r1=l.prime192v1,l.p384=l.secp384r1,l.p521=l.secp521r1,d.prototype.generateKeys=function(h,u){return this.keys=this.curve.genKeyPair(),this.getPublicKey(h,u)},d.prototype.computeSecret=function(h,u,p){return u=u||"utf8",r.isBuffer(h)||(h=new r(h,u)),c(this.curve.keyFromPublic(h).getPublic().mul(this.keys.getPrivate()).getX(),p,this.curveType.byteLength)},d.prototype.getPublicKey=function(h,u){var p=this.keys.getPublic(u==="compressed",!0);return u==="hybrid"&&(p[p.length-1]%2?p[0]=7:p[0]=6),c(p,h)},d.prototype.getPrivateKey=function(h){return c(this.keys.getPrivate(),h)},d.prototype.setPublicKey=function(h,u){return u=u||"utf8",r.isBuffer(h)||(h=new r(h,u)),this.keys._importPublic(h),this},d.prototype.setPrivateKey=function(h,u){u=u||"utf8",r.isBuffer(h)||(h=new r(h,u));var p=new a(h);return p=p.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(p),this}}).call(this)}).call(this,t("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(t,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],386:[function(t,n,s){var r=t("inherits"),o=t("md5.js"),a=t("ripemd160"),l=t("sha.js"),d=t("cipher-base");function c(h){d.call(this,"digest"),this._hash=h}r(c,d),c.prototype._update=function(h){this._hash.update(h)},c.prototype._final=function(){return this._hash.digest()},n.exports=function(h){return(h=h.toLowerCase())==="md5"?new o:h==="rmd160"||h==="ripemd160"?new a:new c(l(h))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(t,n,s){var r=t("md5.js");n.exports=function(o){return new r().update(o).digest()}},{"md5.js":450}],388:[function(t,n,s){var r=t("inherits"),o=t("./legacy"),a=t("cipher-base"),l=t("safe-buffer").Buffer,d=t("create-hash/md5"),c=t("ripemd160"),h=t("sha.js"),u=l.alloc(128);function p(f,g){a.call(this,"digest"),typeof g=="string"&&(g=l.from(g));var m=f==="sha512"||f==="sha384"?128:64;this._alg=f,this._key=g,g.length>m?g=(f==="rmd160"?new c:h(f)).update(g).digest():g.length<m&&(g=l.concat([g,u],m));for(var v=this._ipad=l.allocUnsafe(m),_=this._opad=l.allocUnsafe(m),x=0;x<m;x++)v[x]=54^g[x],_[x]=92^g[x];this._hash=f==="rmd160"?new c:h(f),this._hash.update(v)}r(p,a),p.prototype._update=function(f){this._hash.update(f)},p.prototype._final=function(){var f=this._hash.digest();return(this._alg==="rmd160"?new c:h(this._alg)).update(this._opad).update(f).digest()},n.exports=function(f,g){return(f=f.toLowerCase())==="rmd160"||f==="ripemd160"?new p("rmd160",g):f==="md5"?new o(d,g):new p(f,g)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(t,n,s){var r=t("inherits"),o=t("safe-buffer").Buffer,a=t("cipher-base"),l=o.alloc(128);function d(c,h){a.call(this,"digest"),typeof h=="string"&&(h=o.from(h)),this._alg=c,this._key=h,h.length>64?h=c(h):h.length<64&&(h=o.concat([h,l],64));for(var u=this._ipad=o.allocUnsafe(64),p=this._opad=o.allocUnsafe(64),f=0;f<64;f++)u[f]=54^h[f],p[f]=92^h[f];this._hash=[u]}r(d,a),d.prototype._update=function(c){this._hash.push(c)},d.prototype._final=function(){var c=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,c]))},n.exports=d},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(t,n,s){s.randomBytes=s.rng=s.pseudoRandomBytes=s.prng=t("randombytes"),s.createHash=s.Hash=t("create-hash"),s.createHmac=s.Hmac=t("create-hmac");var r=t("browserify-sign/algos"),o=Object.keys(r),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(o);s.getHashes=function(){return a};var l=t("pbkdf2");s.pbkdf2=l.pbkdf2,s.pbkdf2Sync=l.pbkdf2Sync;var d=t("browserify-cipher");s.Cipher=d.Cipher,s.createCipher=d.createCipher,s.Cipheriv=d.Cipheriv,s.createCipheriv=d.createCipheriv,s.Decipher=d.Decipher,s.createDecipher=d.createDecipher,s.Decipheriv=d.Decipheriv,s.createDecipheriv=d.createDecipheriv,s.getCiphers=d.getCiphers,s.listCiphers=d.listCiphers;var c=t("diffie-hellman");s.DiffieHellmanGroup=c.DiffieHellmanGroup,s.createDiffieHellmanGroup=c.createDiffieHellmanGroup,s.getDiffieHellman=c.getDiffieHellman,s.createDiffieHellman=c.createDiffieHellman,s.DiffieHellman=c.DiffieHellman;var h=t("browserify-sign");s.createSign=h.createSign,s.Sign=h.Sign,s.createVerify=h.createVerify,s.Verify=h.Verify,s.createECDH=t("create-ecdh");var u=t("public-encrypt");s.publicEncrypt=u.publicEncrypt,s.privateEncrypt=u.privateEncrypt,s.publicDecrypt=u.publicDecrypt,s.privateDecrypt=u.privateDecrypt;var p=t("randomfill");s.randomFill=p.randomFill,s.randomFillSync=p.randomFillSync,s.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},s.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(t,n,s){(function(r,o){typeof s=="object"&&n!==void 0?n.exports=o():(r=typeof globalThis<"u"?globalThis:r||self).dayjs=o()})(void 0,function(){var r=6e4,o=36e5,a="millisecond",l="second",d="minute",c="hour",h="day",u="week",p="month",f="quarter",g="year",m="date",v="Invalid Date",_=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(b){var w=["th","st","nd","rd"],C=b%100;return"["+b+(w[(C-20)%10]||w[C]||w[0])+"]"}},T=function(b,w,C){var S=String(b);return!S||S.length>=w?b:""+Array(w+1-S.length).join(C)+b},O={s:T,z:function(b){var w=-b.utcOffset(),C=Math.abs(w),S=Math.floor(C/60),D=C%60;return(w<=0?"+":"-")+T(S,2,"0")+":"+T(D,2,"0")},m:function b(w,C){if(w.date()<C.date())return-b(C,w);var S=12*(C.year()-w.year())+(C.month()-w.month()),D=w.clone().add(S,p),P=C-D<0,k=w.clone().add(S+(P?-1:1),p);return+(-(S+(C-D)/(P?D-k:k-D))||0)},a:function(b){return b<0?Math.ceil(b)||0:Math.floor(b)},p:function(b){return{M:p,y:g,w:u,d:h,D:m,h:c,m:d,s:l,ms:a,Q:f}[b]||String(b||"").toLowerCase().replace(/s$/,"")},u:function(b){return b===void 0}},L="en",R={};R[L]=y;var $="$isDayjsObject",V=function(b){return b instanceof A||!(!b||!b[$])},z=function b(w,C,S){var D;if(!w)return L;if(typeof w=="string"){var P=w.toLowerCase();R[P]&&(D=P),C&&(R[P]=C,D=P);var k=w.split("-");if(!D&&k.length>1)return b(k[0])}else{var U=w.name;R[U]=w,D=U}return!S&&D&&(L=D),D||!S&&L},H=function(b,w){if(V(b))return b.clone();var C=typeof w=="object"?w:{};return C.date=b,C.args=arguments,new A(C)},I=O;I.l=z,I.i=V,I.w=function(b,w){return H(b,{locale:w.$L,utc:w.$u,x:w.$x,$offset:w.$offset})};var A=function(){function b(C){this.$L=z(C.locale,null,!0),this.parse(C),this.$x=this.$x||C.x||{},this[$]=!0}var w=b.prototype;return w.parse=function(C){this.$d=function(S){var D=S.date,P=S.utc;if(D===null)return new Date(NaN);if(I.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var k=D.match(_);if(k){var U=k[2]-1||0,W=(k[7]||"0").substring(0,3);return P?new Date(Date.UTC(k[1],U,k[3]||1,k[4]||0,k[5]||0,k[6]||0,W)):new Date(k[1],U,k[3]||1,k[4]||0,k[5]||0,k[6]||0,W)}}return new Date(D)}(C),this.init()},w.init=function(){var C=this.$d;this.$y=C.getFullYear(),this.$M=C.getMonth(),this.$D=C.getDate(),this.$W=C.getDay(),this.$H=C.getHours(),this.$m=C.getMinutes(),this.$s=C.getSeconds(),this.$ms=C.getMilliseconds()},w.$utils=function(){return I},w.isValid=function(){return this.$d.toString()!==v},w.isSame=function(C,S){var D=H(C);return this.startOf(S)<=D&&D<=this.endOf(S)},w.isAfter=function(C,S){return H(C)<this.startOf(S)},w.isBefore=function(C,S){return this.endOf(S)<H(C)},w.$g=function(C,S,D){return I.u(C)?this[S]:this.set(D,C)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(C,S){var D=this,P=!!I.u(S)||S,k=I.p(C),U=function(ee,Q){var Z=I.w(D.$u?Date.UTC(D.$y,Q,ee):new Date(D.$y,Q,ee),D);return P?Z:Z.endOf(h)},W=function(ee,Q){return I.w(D.toDate()[ee].apply(D.toDate("s"),(P?[0,0,0,0]:[23,59,59,999]).slice(Q)),D)},X=this.$W,j=this.$M,q=this.$D,B="set"+(this.$u?"UTC":"");switch(k){case g:return P?U(1,0):U(31,11);case p:return P?U(1,j):U(0,j+1);case u:var F=this.$locale().weekStart||0,K=(X<F?X+7:X)-F;return U(P?q-K:q+(6-K),j);case h:case m:return W(B+"Hours",0);case c:return W(B+"Minutes",1);case d:return W(B+"Seconds",2);case l:return W(B+"Milliseconds",3);default:return this.clone()}},w.endOf=function(C){return this.startOf(C,!1)},w.$set=function(C,S){var D,P=I.p(C),k="set"+(this.$u?"UTC":""),U=(D={},D[h]=k+"Date",D[m]=k+"Date",D[p]=k+"Month",D[g]=k+"FullYear",D[c]=k+"Hours",D[d]=k+"Minutes",D[l]=k+"Seconds",D[a]=k+"Milliseconds",D)[P],W=P===h?this.$D+(S-this.$W):S;if(P===p||P===g){var X=this.clone().set(m,1);X.$d[U](W),X.init(),this.$d=X.set(m,Math.min(this.$D,X.daysInMonth())).$d}else U&&this.$d[U](W);return this.init(),this},w.set=function(C,S){return this.clone().$set(C,S)},w.get=function(C){return this[I.p(C)]()},w.add=function(C,S){var D,P=this;C=Number(C);var k=I.p(S),U=function(j){var q=H(P);return I.w(q.date(q.date()+Math.round(j*C)),P)};if(k===p)return this.set(p,this.$M+C);if(k===g)return this.set(g,this.$y+C);if(k===h)return U(1);if(k===u)return U(7);var W=(D={},D[d]=r,D[c]=o,D[l]=1e3,D)[k]||1,X=this.$d.getTime()+C*W;return I.w(X,this)},w.subtract=function(C,S){return this.add(-1*C,S)},w.format=function(C){var S=this,D=this.$locale();if(!this.isValid())return D.invalidDate||v;var P=C||"YYYY-MM-DDTHH:mm:ssZ",k=I.z(this),U=this.$H,W=this.$m,X=this.$M,j=D.weekdays,q=D.months,B=D.meridiem,F=function(Q,Z,J,ae){return Q&&(Q[Z]||Q(S,P))||J[Z].slice(0,ae)},K=function(Q){return I.s(U%12||12,Q,"0")},ee=B||function(Q,Z,J){var ae=Q<12?"AM":"PM";return J?ae.toLowerCase():ae};return P.replace(x,function(Q,Z){return Z||function(J){switch(J){case"YY":return String(S.$y).slice(-2);case"YYYY":return I.s(S.$y,4,"0");case"M":return X+1;case"MM":return I.s(X+1,2,"0");case"MMM":return F(D.monthsShort,X,q,3);case"MMMM":return F(q,X);case"D":return S.$D;case"DD":return I.s(S.$D,2,"0");case"d":return String(S.$W);case"dd":return F(D.weekdaysMin,S.$W,j,2);case"ddd":return F(D.weekdaysShort,S.$W,j,3);case"dddd":return j[S.$W];case"H":return String(U);case"HH":return I.s(U,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return ee(U,W,!0);case"A":return ee(U,W,!1);case"m":return String(W);case"mm":return I.s(W,2,"0");case"s":return String(S.$s);case"ss":return I.s(S.$s,2,"0");case"SSS":return I.s(S.$ms,3,"0");case"Z":return k}return null}(Q)||k.replace(":","")})},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(C,S,D){var P,k=this,U=I.p(S),W=H(C),X=(W.utcOffset()-this.utcOffset())*r,j=this-W,q=function(){return I.m(k,W)};switch(U){case g:P=q()/12;break;case p:P=q();break;case f:P=q()/3;break;case u:P=(j-X)/6048e5;break;case h:P=(j-X)/864e5;break;case c:P=j/o;break;case d:P=j/r;break;case l:P=j/1e3;break;default:P=j}return D?P:I.a(P)},w.daysInMonth=function(){return this.endOf(p).$D},w.$locale=function(){return R[this.$L]},w.locale=function(C,S){if(!C)return this.$L;var D=this.clone(),P=z(C,S,!0);return P&&(D.$L=P),D},w.clone=function(){return I.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},b}(),E=A.prototype;return H.prototype=E,[["$ms",a],["$s",l],["$m",d],["$H",c],["$W",h],["$M",p],["$y",g],["$D",m]].forEach(function(b){E[b[1]]=function(w){return this.$g(w,b[0],b[1])}}),H.extend=function(b,w){return b.$i||(b(w,A,H),b.$i=!0),H},H.locale=z,H.isDayjs=V,H.unix=function(b){return H(1e3*b)},H.en=R[L],H.Ls=R,H.p={},H})},{}],392:[function(t,n,s){(function(r,o){typeof s=="object"&&n!==void 0?n.exports=o():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_customParseFormat=o()})(void 0,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},o=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,a=/\d\d/,l=/\d\d?/,d=/\d*[^-_:/,()\s\d]+/,c={},h=function(_){return(_=+_)+(_>68?1900:2e3)},u=function(_){return function(x){this[_]=+x}},p=[/[+-]\d\d:?(\d\d)?|Z/,function(_){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var y=x.match(/([+-]|\d\d)/g),T=60*y[1]+(+y[2]||0);return T===0?0:y[0]==="+"?-T:T}(_)}],f=function(_){var x=c[_];return x&&(x.indexOf?x:x.s.concat(x.f))},g=function(_,x){var y,T=c.meridiem;if(T){for(var O=1;O<=24;O+=1)if(_.indexOf(T(O,0,x))>-1){y=O>12;break}}else y=_===(x?"pm":"PM");return y},m={A:[d,function(_){this.afternoon=g(_,!1)}],a:[d,function(_){this.afternoon=g(_,!0)}],S:[/\d/,function(_){this.milliseconds=100*+_}],SS:[a,function(_){this.milliseconds=10*+_}],SSS:[/\d{3}/,function(_){this.milliseconds=+_}],s:[l,u("seconds")],ss:[l,u("seconds")],m:[l,u("minutes")],mm:[l,u("minutes")],H:[l,u("hours")],h:[l,u("hours")],HH:[l,u("hours")],hh:[l,u("hours")],D:[l,u("day")],DD:[a,u("day")],Do:[d,function(_){var x=c.ordinal,y=_.match(/\d+/);if(this.day=y[0],x)for(var T=1;T<=31;T+=1)x(T).replace(/\[|\]/g,"")===_&&(this.day=T)}],M:[l,u("month")],MM:[a,u("month")],MMM:[d,function(_){var x=f("months"),y=(f("monthsShort")||x.map(function(T){return T.slice(0,3)})).indexOf(_)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[d,function(_){var x=f("months").indexOf(_)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,u("year")],YY:[a,function(_){this.year=h(_)}],YYYY:[/\d{4}/,u("year")],Z:p,ZZ:p};function v(_){var x,y;x=_,y=c&&c.formats;for(var T=(_=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(H,I,A){var E=A&&A.toUpperCase();return I||y[A]||r[A]||y[E].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(b,w,C){return w||C.slice(1)})})).match(o),O=T.length,L=0;L<O;L+=1){var R=T[L],$=m[R],V=$&&$[0],z=$&&$[1];T[L]=z?{regex:V,parser:z}:R.replace(/^\[|\]$/g,"")}return function(H){for(var I={},A=0,E=0;A<O;A+=1){var b=T[A];if(typeof b=="string")E+=b.length;else{var w=b.regex,C=b.parser,S=H.slice(E),D=w.exec(S)[0];C.call(I,D),H=H.replace(D,"")}}return function(P){var k=P.afternoon;if(k!==void 0){var U=P.hours;k?U<12&&(P.hours+=12):U===12&&(P.hours=0),delete P.afternoon}}(I),I}}return function(_,x,y){y.p.customParseFormat=!0,_&&_.parseTwoDigitYear&&(h=_.parseTwoDigitYear);var T=x.prototype,O=T.parse;T.parse=function(L){var R=L.date,$=L.utc,V=L.args;this.$u=$;var z=V[1];if(typeof z=="string"){var H=V[2]===!0,I=V[3]===!0,A=H||I,E=V[2];I&&(E=V[2]),c=this.$locale(),!H&&E&&(c=y.Ls[E]),this.$d=function(S,D,P){try{if(["x","X"].indexOf(D)>-1)return new Date((D==="X"?1e3:1)*S);var k=v(D)(S),U=k.year,W=k.month,X=k.day,j=k.hours,q=k.minutes,B=k.seconds,F=k.milliseconds,K=k.zone,ee=new Date,Q=X||(U||W?1:ee.getDate()),Z=U||ee.getFullYear(),J=0;U&&!W||(J=W>0?W-1:ee.getMonth());var ae=j||0,ce=q||0,te=B||0,oe=F||0;return K?new Date(Date.UTC(Z,J,Q,ae,ce,te,oe+60*K.offset*1e3)):P?new Date(Date.UTC(Z,J,Q,ae,ce,te,oe)):new Date(Z,J,Q,ae,ce,te,oe)}catch{return new Date("")}}(R,z,$),this.init(),E&&E!==!0&&(this.$L=this.locale(E).$L),A&&R!=this.format(z)&&(this.$d=new Date("")),c={}}else if(z instanceof Array)for(var b=z.length,w=1;w<=b;w+=1){V[1]=z[w-1];var C=y.apply(this,V);if(C.isValid()){this.$d=C.$d,this.$L=C.$L,this.init();break}w===b&&(this.$d=new Date(""))}else O.call(this,L)}}})},{}],393:[function(t,n,s){(function(r,o){typeof s=="object"&&n!==void 0?n.exports=o():(r=typeof globalThis<"u"?globalThis:r||self).dayjs_plugin_utc=o()})(void 0,function(){var r="minute",o=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(l,d,c){var h=d.prototype;c.utc=function(_){var x={date:_,utc:!0,args:arguments};return new d(x)},h.utc=function(_){var x=c(this.toDate(),{locale:this.$L,utc:!0});return _?x.add(this.utcOffset(),r):x},h.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var u=h.parse;h.parse=function(_){_.utc&&(this.$u=!0),this.$utils().u(_.$offset)||(this.$offset=_.$offset),u.call(this,_)};var p=h.init;h.init=function(){if(this.$u){var _=this.$d;this.$y=_.getUTCFullYear(),this.$M=_.getUTCMonth(),this.$D=_.getUTCDate(),this.$W=_.getUTCDay(),this.$H=_.getUTCHours(),this.$m=_.getUTCMinutes(),this.$s=_.getUTCSeconds(),this.$ms=_.getUTCMilliseconds()}else p.call(this)};var f=h.utcOffset;h.utcOffset=function(_,x){var y=this.$utils().u;if(y(_))return this.$u?0:y(this.$offset)?f.call(this):this.$offset;if(typeof _=="string"&&(_=function(R){R===void 0&&(R="");var $=R.match(o);if(!$)return null;var V=(""+$[0]).match(a)||["-",0,0],z=V[0],H=60*+V[1]+ +V[2];return H===0?0:z==="+"?H:-H}(_))===null)return this;var T=Math.abs(_)<=16?60*_:_,O=this;if(x)return O.$offset=T,O.$u=_===0,O;if(_!==0){var L=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(O=this.local().add(T+L,r)).$offset=T,O.$x.$localOffset=L}else O=this.utc();return O};var g=h.format;h.format=function(_){var x=_||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,x)},h.valueOf=function(){var _=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*_},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var m=h.toDate;h.toDate=function(_){return _==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var v=h.diff;h.diff=function(_,x,y){if(_&&this.$u===_.$u)return v.call(this,_,x,y);var T=this.local(),O=c(_).local();return v.call(T,O,x,y)}}})},{}],394:[function(t,n,s){s.utils=t("./des/utils"),s.Cipher=t("./des/cipher"),s.DES=t("./des/des"),s.CBC=t("./des/cbc"),s.EDE=t("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(t,n,s){var r=t("minimalistic-assert"),o=t("inherits"),a={};function l(d){r.equal(d.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=d[c]}s.instantiate=function(d){function c(f){d.call(this,f),this._cbcInit()}o(c,d);for(var h=Object.keys(a),u=0;u<h.length;u++){var p=h[u];c.prototype[p]=a[p]}return c.create=function(f){return new c(f)},c},a._cbcInit=function(){var d=new l(this.options.iv);this._cbcState=d},a._update=function(d,c,h,u){var p=this._cbcState,f=this.constructor.super_.prototype,g=p.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)g[m]^=d[c+m];for(f._update.call(this,g,0,h,u),m=0;m<this.blockSize;m++)g[m]=h[u+m]}else{for(f._update.call(this,d,c,h,u),m=0;m<this.blockSize;m++)h[u+m]^=g[m];for(m=0;m<this.blockSize;m++)g[m]=d[c+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(t,n,s){var r=t("minimalistic-assert");function o(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}n.exports=o,o.prototype._init=function(){},o.prototype.update=function(a){return a.length===0?[]:this.type==="decrypt"?this._updateDecrypt(a):this._updateEncrypt(a)},o.prototype._buffer=function(a,l){for(var d=Math.min(this.buffer.length-this.bufferOff,a.length-l),c=0;c<d;c++)this.buffer[this.bufferOff+c]=a[l+c];return this.bufferOff+=d,d},o.prototype._flushBuffer=function(a,l){return this._update(this.buffer,0,a,l),this.bufferOff=0,this.blockSize},o.prototype._updateEncrypt=function(a){var l=0,d=0,c=(this.bufferOff+a.length)/this.blockSize|0,h=new Array(c*this.blockSize);this.bufferOff!==0&&(l+=this._buffer(a,l),this.bufferOff===this.buffer.length&&(d+=this._flushBuffer(h,d)));for(var u=a.length-(a.length-l)%this.blockSize;l<u;l+=this.blockSize)this._update(a,l,h,d),d+=this.blockSize;for(;l<a.length;l++,this.bufferOff++)this.buffer[this.bufferOff]=a[l];return h},o.prototype._updateDecrypt=function(a){for(var l=0,d=0,c=Math.ceil((this.bufferOff+a.length)/this.blockSize)-1,h=new Array(c*this.blockSize);c>0;c--)l+=this._buffer(a,l),d+=this._flushBuffer(h,d);return l+=this._buffer(a,l),h},o.prototype.final=function(a){var l,d;return a&&(l=this.update(a)),d=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),l?l.concat(d):d},o.prototype._pad=function(a,l){if(l===0)return!1;for(;l<a.length;)a[l++]=0;return!0},o.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var a=new Array(this.blockSize);return this._update(this.buffer,0,a,0),a},o.prototype._unpad=function(a){return a},o.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var a=new Array(this.blockSize);return this._flushBuffer(a,0),this._unpad(a)}},{"minimalistic-assert":453}],397:[function(t,n,s){var r=t("minimalistic-assert"),o=t("inherits"),a=t("./utils"),l=t("./cipher");function d(){this.tmp=new Array(2),this.keys=null}function c(u){l.call(this,u);var p=new d;this._desState=p,this.deriveKeys(p,u.key)}o(c,l),n.exports=c,c.create=function(u){return new c(u)};var h=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(u,p){u.keys=new Array(32),r.equal(p.length,this.blockSize,"Invalid key length");var f=a.readUInt32BE(p,0),g=a.readUInt32BE(p,4);a.pc1(f,g,u.tmp,0),f=u.tmp[0],g=u.tmp[1];for(var m=0;m<u.keys.length;m+=2){var v=h[m>>>1];f=a.r28shl(f,v),g=a.r28shl(g,v),a.pc2(f,g,u.keys,m)}},c.prototype._update=function(u,p,f,g){var m=this._desState,v=a.readUInt32BE(u,p),_=a.readUInt32BE(u,p+4);a.ip(v,_,m.tmp,0),v=m.tmp[0],_=m.tmp[1],this.type==="encrypt"?this._encrypt(m,v,_,m.tmp,0):this._decrypt(m,v,_,m.tmp,0),v=m.tmp[0],_=m.tmp[1],a.writeUInt32BE(f,v,g),a.writeUInt32BE(f,_,g+4)},c.prototype._pad=function(u,p){if(this.padding===!1)return!1;for(var f=u.length-p,g=p;g<u.length;g++)u[g]=f;return!0},c.prototype._unpad=function(u){if(this.padding===!1)return u;for(var p=u[u.length-1],f=u.length-p;f<u.length;f++)r.equal(u[f],p);return u.slice(0,u.length-p)},c.prototype._encrypt=function(u,p,f,g,m){for(var v=p,_=f,x=0;x<u.keys.length;x+=2){var y=u.keys[x],T=u.keys[x+1];a.expand(_,u.tmp,0),y^=u.tmp[0],T^=u.tmp[1];var O=a.substitute(y,T),L=_;_=(v^a.permute(O))>>>0,v=L}a.rip(_,v,g,m)},c.prototype._decrypt=function(u,p,f,g,m){for(var v=f,_=p,x=u.keys.length-2;x>=0;x-=2){var y=u.keys[x],T=u.keys[x+1];a.expand(v,u.tmp,0),y^=u.tmp[0],T^=u.tmp[1];var O=a.substitute(y,T),L=v;v=(_^a.permute(O))>>>0,_=L}a.rip(v,_,g,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(t,n,s){var r=t("minimalistic-assert"),o=t("inherits"),a=t("./cipher"),l=t("./des");function d(h,u){r.equal(u.length,24,"Invalid key length");var p=u.slice(0,8),f=u.slice(8,16),g=u.slice(16,24);this.ciphers=h==="encrypt"?[l.create({type:"encrypt",key:p}),l.create({type:"decrypt",key:f}),l.create({type:"encrypt",key:g})]:[l.create({type:"decrypt",key:g}),l.create({type:"encrypt",key:f}),l.create({type:"decrypt",key:p})]}function c(h){a.call(this,h);var u=new d(this.type,this.options.key);this._edeState=u}o(c,a),n.exports=c,c.create=function(h){return new c(h)},c.prototype._update=function(h,u,p,f){var g=this._edeState;g.ciphers[0]._update(h,u,p,f),g.ciphers[1]._update(p,f,p,f),g.ciphers[2]._update(p,f,p,f)},c.prototype._pad=l.prototype._pad,c.prototype._unpad=l.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(t,n,s){s.readUInt32BE=function(l,d){return(l[0+d]<<24|l[1+d]<<16|l[2+d]<<8|l[3+d])>>>0},s.writeUInt32BE=function(l,d,c){l[0+c]=d>>>24,l[1+c]=d>>>16&255,l[2+c]=d>>>8&255,l[3+c]=255&d},s.ip=function(l,d,c,h){for(var u=0,p=0,f=6;f>=0;f-=2){for(var g=0;g<=24;g+=8)u<<=1,u|=d>>>g+f&1;for(g=0;g<=24;g+=8)u<<=1,u|=l>>>g+f&1}for(f=6;f>=0;f-=2){for(g=1;g<=25;g+=8)p<<=1,p|=d>>>g+f&1;for(g=1;g<=25;g+=8)p<<=1,p|=l>>>g+f&1}c[h+0]=u>>>0,c[h+1]=p>>>0},s.rip=function(l,d,c,h){for(var u=0,p=0,f=0;f<4;f++)for(var g=24;g>=0;g-=8)u<<=1,u|=d>>>g+f&1,u<<=1,u|=l>>>g+f&1;for(f=4;f<8;f++)for(g=24;g>=0;g-=8)p<<=1,p|=d>>>g+f&1,p<<=1,p|=l>>>g+f&1;c[h+0]=u>>>0,c[h+1]=p>>>0},s.pc1=function(l,d,c,h){for(var u=0,p=0,f=7;f>=5;f--){for(var g=0;g<=24;g+=8)u<<=1,u|=d>>g+f&1;for(g=0;g<=24;g+=8)u<<=1,u|=l>>g+f&1}for(g=0;g<=24;g+=8)u<<=1,u|=d>>g+f&1;for(f=1;f<=3;f++){for(g=0;g<=24;g+=8)p<<=1,p|=d>>g+f&1;for(g=0;g<=24;g+=8)p<<=1,p|=l>>g+f&1}for(g=0;g<=24;g+=8)p<<=1,p|=l>>g+f&1;c[h+0]=u>>>0,c[h+1]=p>>>0},s.r28shl=function(l,d){return l<<d&268435455|l>>>28-d};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];s.pc2=function(l,d,c,h){for(var u=0,p=0,f=r.length>>>1,g=0;g<f;g++)u<<=1,u|=l>>>r[g]&1;for(g=f;g<r.length;g++)p<<=1,p|=d>>>r[g]&1;c[h+0]=u>>>0,c[h+1]=p>>>0},s.expand=function(l,d,c){var h=0,u=0;h=(1&l)<<5|l>>>27;for(var p=23;p>=15;p-=4)h<<=6,h|=l>>>p&63;for(p=11;p>=3;p-=4)u|=l>>>p&63,u<<=6;u|=(31&l)<<1|l>>>31,d[c+0]=h>>>0,d[c+1]=u>>>0};var o=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];s.substitute=function(l,d){for(var c=0,h=0;h<4;h++)c<<=4,c|=o[64*h+(l>>>18-6*h&63)];for(h=0;h<4;h++)c<<=4,c|=o[256+64*h+(d>>>18-6*h&63)];return c>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];s.permute=function(l){for(var d=0,c=0;c<a.length;c++)d<<=1,d|=l>>>a[c]&1;return d>>>0},s.padSplit=function(l,d,c){for(var h=l.toString(2);h.length<d;)h="0"+h;for(var u=[],p=0;p<d;p+=c)u.push(h.slice(p,p+c));return u.join(" ")}},{}],400:[function(t,n,s){(function(r){(function(){var o=t("./lib/generatePrime"),a=t("./lib/primes.json"),l=t("./lib/dh"),d={binary:!0,hex:!0,base64:!0};s.DiffieHellmanGroup=s.createDiffieHellmanGroup=s.getDiffieHellman=function(c){var h=new r(a[c].prime,"hex"),u=new r(a[c].gen,"hex");return new l(h,u)},s.createDiffieHellman=s.DiffieHellman=function c(h,u,p,f){return r.isBuffer(u)||d[u]===void 0?c(h,"binary",u,p):(u=u||"binary",f=f||"binary",p=p||new r([2]),r.isBuffer(p)||(p=new r(p,f)),typeof h=="number"?new l(o(h,p),p,!0):(r.isBuffer(h)||(h=new r(h,u)),new l(h,p,!0)))}}).call(this)}).call(this,t("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(t,n,s){(function(r){(function(){var o=t("bn.js"),a=new(t("miller-rabin")),l=new o(24),d=new o(11),c=new o(10),h=new o(3),u=new o(7),p=t("./generatePrime"),f=t("randombytes");function g(y,T){return T=T||"utf8",r.isBuffer(y)||(y=new r(y,T)),this._pub=new o(y),this}function m(y,T){return T=T||"utf8",r.isBuffer(y)||(y=new r(y,T)),this._priv=new o(y),this}n.exports=_;var v={};function _(y,T,O){this.setGenerator(T),this.__prime=new o(y),this._prime=o.mont(this.__prime),this._primeLen=y.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,O?(this.setPublicKey=g,this.setPrivateKey=m):this._primeCode=8}function x(y,T){var O=new r(y.toArray());return T?O.toString(T):O}Object.defineProperty(_.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(y,T){var O=T.toString("hex"),L=[O,y.toString(16)].join("_");if(L in v)return v[L];var R,$=0;if(y.isEven()||!p.simpleSieve||!p.fermatTest(y)||!a.test(y))return $+=1,$+=O==="02"||O==="05"?8:4,v[L]=$,$;switch(a.test(y.shrn(1))||($+=2),O){case"02":y.mod(l).cmp(d)&&($+=8);break;case"05":(R=y.mod(c)).cmp(h)&&R.cmp(u)&&($+=8);break;default:$+=4}return v[L]=$,$}(this.__prime,this.__gen)),this._primeCode}}),_.prototype.generateKeys=function(){return this._priv||(this._priv=new o(f(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},_.prototype.computeSecret=function(y){var T=(y=(y=new o(y)).toRed(this._prime)).redPow(this._priv).fromRed(),O=new r(T.toArray()),L=this.getPrime();if(O.length<L.length){var R=new r(L.length-O.length);R.fill(0),O=r.concat([R,O])}return O},_.prototype.getPublicKey=function(y){return x(this._pub,y)},_.prototype.getPrivateKey=function(y){return x(this._priv,y)},_.prototype.getPrime=function(y){return x(this.__prime,y)},_.prototype.getGenerator=function(y){return x(this._gen,y)},_.prototype.setGenerator=function(y,T){return T=T||"utf8",r.isBuffer(y)||(y=new r(y,T)),this.__gen=y,this._gen=new o(y),this}}).call(this)}).call(this,t("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(t,n,s){var r=t("randombytes");n.exports=y,y.simpleSieve=_,y.fermatTest=x;var o=t("bn.js"),a=new o(24),l=new(t("miller-rabin")),d=new o(1),c=new o(2),h=new o(5),u=(new o(16),new o(8),new o(10)),p=new o(3),f=(new o(7),new o(11)),g=new o(4),m=(new o(12),null);function v(){if(m!==null)return m;var T=[];T[0]=2;for(var O=1,L=3;L<1048576;L+=2){for(var R=Math.ceil(Math.sqrt(L)),$=0;$<O&&T[$]<=R&&L%T[$]!=0;$++);O!==$&&T[$]<=R||(T[O++]=L)}return m=T,T}function _(T){for(var O=v(),L=0;L<O.length;L++)if(T.modn(O[L])===0)return T.cmpn(O[L])===0;return!0}function x(T){var O=o.mont(T);return c.toRed(O).redPow(T.subn(1)).fromRed().cmpn(1)===0}function y(T,O){if(T<16)return new o(O===2||O===5?[140,123]:[140,39]);var L,R;for(O=new o(O);;){for(L=new o(r(Math.ceil(T/8)));L.bitLength()>T;)L.ishrn(1);if(L.isEven()&&L.iadd(d),L.testn(1)||L.iadd(c),O.cmp(c)){if(!O.cmp(h))for(;L.mod(u).cmp(p);)L.iadd(g)}else for(;L.mod(a).cmp(f);)L.iadd(g);if(_(R=L.shrn(1))&&_(L)&&x(R)&&x(L)&&l.test(R)&&l.test(L))return L}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(t,n,s){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(t,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],405:[function(t,n,s){var r=s;r.version=t("../package.json").version,r.utils=t("./elliptic/utils"),r.rand=t("brorand"),r.curve=t("./elliptic/curve"),r.curves=t("./elliptic/curves"),r.ec=t("./elliptic/ec"),r.eddsa=t("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(t,n,s){var r=t("bn.js"),o=t("../utils"),a=o.getNAF,l=o.getJSF,d=o.assert;function c(u,p){this.type=u,this.p=new r(p.p,16),this.red=p.prime?r.red(p.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=p.n&&new r(p.n,16),this.g=p.g&&this.pointFromJSON(p.g,p.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var f=this.n&&this.p.div(this.n);!f||f.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function h(u,p){this.curve=u,this.type=p,this.precomputed=null}n.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(u,p){d(u.precomputed);var f=u._getDoubles(),g=a(p,1,this._bitLength),m=(1<<f.step+1)-(f.step%2==0?2:1);m/=3;var v,_,x=[];for(v=0;v<g.length;v+=f.step){_=0;for(var y=v+f.step-1;y>=v;y--)_=(_<<1)+g[y];x.push(_)}for(var T=this.jpoint(null,null,null),O=this.jpoint(null,null,null),L=m;L>0;L--){for(v=0;v<x.length;v++)(_=x[v])===L?O=O.mixedAdd(f.points[v]):_===-L&&(O=O.mixedAdd(f.points[v].neg()));T=T.add(O)}return T.toP()},c.prototype._wnafMul=function(u,p){var f=4,g=u._getNAFPoints(f);f=g.wnd;for(var m=g.points,v=a(p,f,this._bitLength),_=this.jpoint(null,null,null),x=v.length-1;x>=0;x--){for(var y=0;x>=0&&v[x]===0;x--)y++;if(x>=0&&y++,_=_.dblp(y),x<0)break;var T=v[x];d(T!==0),_=u.type==="affine"?T>0?_.mixedAdd(m[T-1>>1]):_.mixedAdd(m[-T-1>>1].neg()):T>0?_.add(m[T-1>>1]):_.add(m[-T-1>>1].neg())}return u.type==="affine"?_.toP():_},c.prototype._wnafMulAdd=function(u,p,f,g,m){var v,_,x,y=this._wnafT1,T=this._wnafT2,O=this._wnafT3,L=0;for(v=0;v<g;v++){var R=(x=p[v])._getNAFPoints(u);y[v]=R.wnd,T[v]=R.points}for(v=g-1;v>=1;v-=2){var $=v-1,V=v;if(y[$]===1&&y[V]===1){var z=[p[$],null,null,p[V]];p[$].y.cmp(p[V].y)===0?(z[1]=p[$].add(p[V]),z[2]=p[$].toJ().mixedAdd(p[V].neg())):p[$].y.cmp(p[V].y.redNeg())===0?(z[1]=p[$].toJ().mixedAdd(p[V]),z[2]=p[$].add(p[V].neg())):(z[1]=p[$].toJ().mixedAdd(p[V]),z[2]=p[$].toJ().mixedAdd(p[V].neg()));var H=[-3,-1,-5,-7,0,7,5,1,3],I=l(f[$],f[V]);for(L=Math.max(I[0].length,L),O[$]=new Array(L),O[V]=new Array(L),_=0;_<L;_++){var A=0|I[0][_],E=0|I[1][_];O[$][_]=H[3*(A+1)+(E+1)],O[V][_]=0,T[$]=z}}else O[$]=a(f[$],y[$],this._bitLength),O[V]=a(f[V],y[V],this._bitLength),L=Math.max(O[$].length,L),L=Math.max(O[V].length,L)}var b=this.jpoint(null,null,null),w=this._wnafT4;for(v=L;v>=0;v--){for(var C=0;v>=0;){var S=!0;for(_=0;_<g;_++)w[_]=0|O[_][v],w[_]!==0&&(S=!1);if(!S)break;C++,v--}if(v>=0&&C++,b=b.dblp(C),v<0)break;for(_=0;_<g;_++){var D=w[_];D!==0&&(D>0?x=T[_][D-1>>1]:D<0&&(x=T[_][-D-1>>1].neg()),b=x.type==="affine"?b.mixedAdd(x):b.add(x))}}for(v=0;v<g;v++)T[v]=null;return m?b:b.toP()},c.BasePoint=h,h.prototype.eq=function(){throw new Error("Not implemented")},h.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(u,p){u=o.toArray(u,p);var f=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1==2*f)return u[0]===6?d(u[u.length-1]%2==0):u[0]===7&&d(u[u.length-1]%2==1),this.point(u.slice(1,1+f),u.slice(1+f,1+2*f));if((u[0]===2||u[0]===3)&&u.length-1===f)return this.pointFromX(u.slice(1,1+f),u[0]===3);throw new Error("Unknown point format")},h.prototype.encodeCompressed=function(u){return this.encode(u,!0)},h.prototype._encode=function(u){var p=this.curve.p.byteLength(),f=this.getX().toArray("be",p);return u?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",p))},h.prototype.encode=function(u,p){return o.encode(this._encode(p),u)},h.prototype.precompute=function(u){if(this.precomputed)return this;var p={doubles:null,naf:null,beta:null};return p.naf=this._getNAFPoints(8),p.doubles=this._getDoubles(4,u),p.beta=this._getBeta(),this.precomputed=p,this},h.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var p=this.precomputed.doubles;return!!p&&p.points.length>=Math.ceil((u.bitLength()+1)/p.step)},h.prototype._getDoubles=function(u,p){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],g=this,m=0;m<p;m+=u){for(var v=0;v<u;v++)g=g.dbl();f.push(g)}return{step:u,points:f}},h.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var p=[this],f=(1<<u)-1,g=f===1?null:this.dbl(),m=1;m<f;m++)p[m]=p[m-1].add(g);return{wnd:u,points:p}},h.prototype._getBeta=function(){return null},h.prototype.dblp=function(u){for(var p=this,f=0;f<u;f++)p=p.dbl();return p}},{"../utils":419,"bn.js":420}],407:[function(t,n,s){var r=t("../utils"),o=t("bn.js"),a=t("inherits"),l=t("./base"),d=r.assert;function c(u){this.twisted=(0|u.a)!=1,this.mOneA=this.twisted&&(0|u.a)==-1,this.extended=this.mOneA,l.call(this,"edwards",u),this.a=new o(u.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new o(u.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new o(u.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),d(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|u.c)==1}function h(u,p,f,g,m){l.BasePoint.call(this,u,"projective"),p===null&&f===null&&g===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new o(p,16),this.y=new o(f,16),this.z=g?new o(g,16):this.curve.one,this.t=m&&new o(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}a(c,l),n.exports=c,c.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},c.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},c.prototype.jpoint=function(u,p,f,g){return this.point(u,p,f,g)},c.prototype.pointFromX=function(u,p){(u=new o(u,16)).red||(u=u.toRed(this.red));var f=u.redSqr(),g=this.c2.redSub(this.a.redMul(f)),m=this.one.redSub(this.c2.redMul(this.d).redMul(f)),v=g.redMul(m.redInvm()),_=v.redSqrt();if(_.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");var x=_.fromRed().isOdd();return(p&&!x||!p&&x)&&(_=_.redNeg()),this.point(u,_)},c.prototype.pointFromY=function(u,p){(u=new o(u,16)).red||(u=u.toRed(this.red));var f=u.redSqr(),g=f.redSub(this.c2),m=f.redMul(this.d).redMul(this.c2).redSub(this.a),v=g.redMul(m.redInvm());if(v.cmp(this.zero)===0){if(p)throw new Error("invalid point");return this.point(this.zero,u)}var _=v.redSqrt();if(_.redSqr().redSub(v).cmp(this.zero)!==0)throw new Error("invalid point");return _.fromRed().isOdd()!==p&&(_=_.redNeg()),this.point(_,u)},c.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var p=u.x.redSqr(),f=u.y.redSqr(),g=p.redMul(this.a).redAdd(f),m=this.c2.redMul(this.one.redAdd(this.d.redMul(p).redMul(f)));return g.cmp(m)===0},a(h,l.BasePoint),c.prototype.pointFromJSON=function(u){return h.fromJSON(this,u)},c.prototype.point=function(u,p,f,g){return new h(this,u,p,f,g)},h.fromJSON=function(u,p){return new h(u,p[0],p[1],p[2])},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},h.prototype._extDbl=function(){var u=this.x.redSqr(),p=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var g=this.curve._mulA(u),m=this.x.redAdd(this.y).redSqr().redISub(u).redISub(p),v=g.redAdd(p),_=v.redSub(f),x=g.redSub(p),y=m.redMul(_),T=v.redMul(x),O=m.redMul(x),L=_.redMul(v);return this.curve.point(y,T,L,O)},h.prototype._projDbl=function(){var u,p,f,g,m,v,_=this.x.redAdd(this.y).redSqr(),x=this.x.redSqr(),y=this.y.redSqr();if(this.curve.twisted){var T=(g=this.curve._mulA(x)).redAdd(y);this.zOne?(u=_.redSub(x).redSub(y).redMul(T.redSub(this.curve.two)),p=T.redMul(g.redSub(y)),f=T.redSqr().redSub(T).redSub(T)):(m=this.z.redSqr(),v=T.redSub(m).redISub(m),u=_.redSub(x).redISub(y).redMul(v),p=T.redMul(g.redSub(y)),f=T.redMul(v))}else g=x.redAdd(y),m=this.curve._mulC(this.z).redSqr(),v=g.redSub(m).redSub(m),u=this.curve._mulC(_.redISub(g)).redMul(v),p=this.curve._mulC(g).redMul(x.redISub(y)),f=g.redMul(v);return this.curve.point(u,p,f)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},h.prototype._extAdd=function(u){var p=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),f=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),g=this.t.redMul(this.curve.dd).redMul(u.t),m=this.z.redMul(u.z.redAdd(u.z)),v=f.redSub(p),_=m.redSub(g),x=m.redAdd(g),y=f.redAdd(p),T=v.redMul(_),O=x.redMul(y),L=v.redMul(y),R=_.redMul(x);return this.curve.point(T,O,R,L)},h.prototype._projAdd=function(u){var p,f,g=this.z.redMul(u.z),m=g.redSqr(),v=this.x.redMul(u.x),_=this.y.redMul(u.y),x=this.curve.d.redMul(v).redMul(_),y=m.redSub(x),T=m.redAdd(x),O=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(v).redISub(_),L=g.redMul(y).redMul(O);return this.curve.twisted?(p=g.redMul(T).redMul(_.redSub(this.curve._mulA(v))),f=y.redMul(T)):(p=g.redMul(T).redMul(_.redSub(v)),f=this.curve._mulC(y).redMul(T)),this.curve.point(L,p,f)},h.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},h.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},h.prototype.mulAdd=function(u,p,f){return this.curve._wnafMulAdd(1,[this,p],[u,f],2,!1)},h.prototype.jmulAdd=function(u,p,f){return this.curve._wnafMulAdd(1,[this,p],[u,f],2,!0)},h.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},h.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()},h.prototype.getY=function(){return this.normalize(),this.y.fromRed()},h.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},h.prototype.eqXToP=function(u){var p=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(p)===0)return!0;for(var f=u.clone(),g=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(p.redIAdd(g),this.x.cmp(p)===0)return!0}},h.prototype.toP=h.prototype.normalize,h.prototype.mixedAdd=h.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(t,n,s){var r=s;r.base=t("./base"),r.short=t("./short"),r.mont=t("./mont"),r.edwards=t("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(t,n,s){var r=t("bn.js"),o=t("inherits"),a=t("./base"),l=t("../utils");function d(h){a.call(this,"mont",h),this.a=new r(h.a,16).toRed(this.red),this.b=new r(h.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(h,u,p){a.BasePoint.call(this,h,"projective"),u===null&&p===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(u,16),this.z=new r(p,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}o(d,a),n.exports=d,d.prototype.validate=function(h){var u=h.normalize().x,p=u.redSqr(),f=p.redMul(u).redAdd(p.redMul(this.a)).redAdd(u);return f.redSqrt().redSqr().cmp(f)===0},o(c,a.BasePoint),d.prototype.decodePoint=function(h,u){return this.point(l.toArray(h,u),1)},d.prototype.point=function(h,u){return new c(this,h,u)},d.prototype.pointFromJSON=function(h){return c.fromJSON(this,h)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(h,u){return new c(h,u[0],u[1]||h.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var h=this.x.redAdd(this.z).redSqr(),u=this.x.redSub(this.z).redSqr(),p=h.redSub(u),f=h.redMul(u),g=p.redMul(u.redAdd(this.curve.a24.redMul(p)));return this.curve.point(f,g)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(h,u){var p=this.x.redAdd(this.z),f=this.x.redSub(this.z),g=h.x.redAdd(h.z),m=h.x.redSub(h.z).redMul(p),v=g.redMul(f),_=u.z.redMul(m.redAdd(v).redSqr()),x=u.x.redMul(m.redISub(v).redSqr());return this.curve.point(_,x)},c.prototype.mul=function(h){for(var u=h.clone(),p=this,f=this.curve.point(null,null),g=[];u.cmpn(0)!==0;u.iushrn(1))g.push(u.andln(1));for(var m=g.length-1;m>=0;m--)g[m]===0?(p=p.diffAdd(f,this),f=f.dbl()):(f=p.diffAdd(f,this),p=p.dbl());return f},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(h){return this.getX().cmp(h.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(t,n,s){var r=t("../utils"),o=t("bn.js"),a=t("inherits"),l=t("./base"),d=r.assert;function c(p){l.call(this,"short",p),this.a=new o(p.a,16).toRed(this.red),this.b=new o(p.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(p),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function h(p,f,g,m){l.BasePoint.call(this,p,"affine"),f===null&&g===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new o(f,16),this.y=new o(g,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function u(p,f,g,m){l.BasePoint.call(this,p,"jacobian"),f===null&&g===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new o(0)):(this.x=new o(f,16),this.y=new o(g,16),this.z=new o(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}a(c,l),n.exports=c,c.prototype._getEndomorphism=function(p){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var f,g;if(p.beta)f=new o(p.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);f=(f=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(p.lambda)g=new o(p.lambda,16);else{var v=this._getEndoRoots(this.n);this.g.mul(v[0]).x.cmp(this.g.x.redMul(f))===0?g=v[0]:(g=v[1],d(this.g.mul(g).x.cmp(this.g.x.redMul(f))===0))}return{beta:f,lambda:g,basis:p.basis?p.basis.map(function(_){return{a:new o(_.a,16),b:new o(_.b,16)}}):this._getEndoBasis(g)}}},c.prototype._getEndoRoots=function(p){var f=p===this.p?this.red:o.mont(p),g=new o(2).toRed(f).redInvm(),m=g.redNeg(),v=new o(3).toRed(f).redNeg().redSqrt().redMul(g);return[m.redAdd(v).fromRed(),m.redSub(v).fromRed()]},c.prototype._getEndoBasis=function(p){for(var f,g,m,v,_,x,y,T,O,L=this.n.ushrn(Math.floor(this.n.bitLength()/2)),R=p,$=this.n.clone(),V=new o(1),z=new o(0),H=new o(0),I=new o(1),A=0;R.cmpn(0)!==0;){var E=$.div(R);T=$.sub(E.mul(R)),O=H.sub(E.mul(V));var b=I.sub(E.mul(z));if(!m&&T.cmp(L)<0)f=y.neg(),g=V,m=T.neg(),v=O;else if(m&&++A==2)break;y=T,$=R,R=T,H=V,V=O,I=z,z=b}_=T.neg(),x=O;var w=m.sqr().add(v.sqr());return _.sqr().add(x.sqr()).cmp(w)>=0&&(_=f,x=g),m.negative&&(m=m.neg(),v=v.neg()),_.negative&&(_=_.neg(),x=x.neg()),[{a:m,b:v},{a:_,b:x}]},c.prototype._endoSplit=function(p){var f=this.endo.basis,g=f[0],m=f[1],v=m.b.mul(p).divRound(this.n),_=g.b.neg().mul(p).divRound(this.n),x=v.mul(g.a),y=_.mul(m.a),T=v.mul(g.b),O=_.mul(m.b);return{k1:p.sub(x).sub(y),k2:T.add(O).neg()}},c.prototype.pointFromX=function(p,f){(p=new o(p,16)).red||(p=p.toRed(this.red));var g=p.redSqr().redMul(p).redIAdd(p.redMul(this.a)).redIAdd(this.b),m=g.redSqrt();if(m.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var v=m.fromRed().isOdd();return(f&&!v||!f&&v)&&(m=m.redNeg()),this.point(p,m)},c.prototype.validate=function(p){if(p.inf)return!0;var f=p.x,g=p.y,m=this.a.redMul(f),v=f.redSqr().redMul(f).redIAdd(m).redIAdd(this.b);return g.redSqr().redISub(v).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(p,f,g){for(var m=this._endoWnafT1,v=this._endoWnafT2,_=0;_<p.length;_++){var x=this._endoSplit(f[_]),y=p[_],T=y._getBeta();x.k1.negative&&(x.k1.ineg(),y=y.neg(!0)),x.k2.negative&&(x.k2.ineg(),T=T.neg(!0)),m[2*_]=y,m[2*_+1]=T,v[2*_]=x.k1,v[2*_+1]=x.k2}for(var O=this._wnafMulAdd(1,m,v,2*_,g),L=0;L<2*_;L++)m[L]=null,v[L]=null;return O},a(h,l.BasePoint),c.prototype.point=function(p,f,g){return new h(this,p,f,g)},c.prototype.pointFromJSON=function(p,f){return h.fromJSON(this,p,f)},h.prototype._getBeta=function(){if(this.curve.endo){var p=this.precomputed;if(p&&p.beta)return p.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(p){var g=this.curve,m=function(v){return g.point(v.x.redMul(g.endo.beta),v.y)};p.beta=f,f.precomputed={beta:null,naf:p.naf&&{wnd:p.naf.wnd,points:p.naf.points.map(m)},doubles:p.doubles&&{step:p.doubles.step,points:p.doubles.points.map(m)}}}return f}},h.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},h.fromJSON=function(p,f,g){typeof f=="string"&&(f=JSON.parse(f));var m=p.point(f[0],f[1],g);if(!f[2])return m;function v(x){return p.point(x[0],x[1],g)}var _=f[2];return m.precomputed={beta:null,doubles:_.doubles&&{step:_.doubles.step,points:[m].concat(_.doubles.points.map(v))},naf:_.naf&&{wnd:_.naf.wnd,points:[m].concat(_.naf.points.map(v))}},m},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return this.inf},h.prototype.add=function(p){if(this.inf)return p;if(p.inf)return this;if(this.eq(p))return this.dbl();if(this.neg().eq(p))return this.curve.point(null,null);if(this.x.cmp(p.x)===0)return this.curve.point(null,null);var f=this.y.redSub(p.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(p.x).redInvm()));var g=f.redSqr().redISub(this.x).redISub(p.x),m=f.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,m)},h.prototype.dbl=function(){if(this.inf)return this;var p=this.y.redAdd(this.y);if(p.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,g=this.x.redSqr(),m=p.redInvm(),v=g.redAdd(g).redIAdd(g).redIAdd(f).redMul(m),_=v.redSqr().redISub(this.x.redAdd(this.x)),x=v.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,x)},h.prototype.getX=function(){return this.x.fromRed()},h.prototype.getY=function(){return this.y.fromRed()},h.prototype.mul=function(p){return p=new o(p,16),this.isInfinity()?this:this._hasDoubles(p)?this.curve._fixedNafMul(this,p):this.curve.endo?this.curve._endoWnafMulAdd([this],[p]):this.curve._wnafMul(this,p)},h.prototype.mulAdd=function(p,f,g){var m=[this,f],v=[p,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v):this.curve._wnafMulAdd(1,m,v,2)},h.prototype.jmulAdd=function(p,f,g){var m=[this,f],v=[p,g];return this.curve.endo?this.curve._endoWnafMulAdd(m,v,!0):this.curve._wnafMulAdd(1,m,v,2,!0)},h.prototype.eq=function(p){return this===p||this.inf===p.inf&&(this.inf||this.x.cmp(p.x)===0&&this.y.cmp(p.y)===0)},h.prototype.neg=function(p){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(p&&this.precomputed){var g=this.precomputed,m=function(v){return v.neg()};f.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(m)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(m)}}}return f},h.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},a(u,l.BasePoint),c.prototype.jpoint=function(p,f,g){return new u(this,p,f,g)},u.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var p=this.z.redInvm(),f=p.redSqr(),g=this.x.redMul(f),m=this.y.redMul(f).redMul(p);return this.curve.point(g,m)},u.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},u.prototype.add=function(p){if(this.isInfinity())return p;if(p.isInfinity())return this;var f=p.z.redSqr(),g=this.z.redSqr(),m=this.x.redMul(f),v=p.x.redMul(g),_=this.y.redMul(f.redMul(p.z)),x=p.y.redMul(g.redMul(this.z)),y=m.redSub(v),T=_.redSub(x);if(y.cmpn(0)===0)return T.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=y.redSqr(),L=O.redMul(y),R=m.redMul(O),$=T.redSqr().redIAdd(L).redISub(R).redISub(R),V=T.redMul(R.redISub($)).redISub(_.redMul(L)),z=this.z.redMul(p.z).redMul(y);return this.curve.jpoint($,V,z)},u.prototype.mixedAdd=function(p){if(this.isInfinity())return p.toJ();if(p.isInfinity())return this;var f=this.z.redSqr(),g=this.x,m=p.x.redMul(f),v=this.y,_=p.y.redMul(f).redMul(this.z),x=g.redSub(m),y=v.redSub(_);if(x.cmpn(0)===0)return y.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var T=x.redSqr(),O=T.redMul(x),L=g.redMul(T),R=y.redSqr().redIAdd(O).redISub(L).redISub(L),$=y.redMul(L.redISub(R)).redISub(v.redMul(O)),V=this.z.redMul(x);return this.curve.jpoint(R,$,V)},u.prototype.dblp=function(p){if(p===0)return this;if(this.isInfinity())return this;if(!p)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var g=this;for(f=0;f<p;f++)g=g.dbl();return g}var m=this.curve.a,v=this.curve.tinv,_=this.x,x=this.y,y=this.z,T=y.redSqr().redSqr(),O=x.redAdd(x);for(f=0;f<p;f++){var L=_.redSqr(),R=O.redSqr(),$=R.redSqr(),V=L.redAdd(L).redIAdd(L).redIAdd(m.redMul(T)),z=_.redMul(R),H=V.redSqr().redISub(z.redAdd(z)),I=z.redISub(H),A=V.redMul(I);A=A.redIAdd(A).redISub($);var E=O.redMul(y);f+1<p&&(T=T.redMul($)),_=H,y=E,O=A}return this.curve.jpoint(_,O.redMul(v),y)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},u.prototype._zeroDbl=function(){var p,f,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),_=v.redSqr(),x=this.x.redAdd(v).redSqr().redISub(m).redISub(_);x=x.redIAdd(x);var y=m.redAdd(m).redIAdd(m),T=y.redSqr().redISub(x).redISub(x),O=_.redIAdd(_);O=(O=O.redIAdd(O)).redIAdd(O),p=T,f=y.redMul(x.redISub(T)).redISub(O),g=this.y.redAdd(this.y)}else{var L=this.x.redSqr(),R=this.y.redSqr(),$=R.redSqr(),V=this.x.redAdd(R).redSqr().redISub(L).redISub($);V=V.redIAdd(V);var z=L.redAdd(L).redIAdd(L),H=z.redSqr(),I=$.redIAdd($);I=(I=I.redIAdd(I)).redIAdd(I),p=H.redISub(V).redISub(V),f=z.redMul(V.redISub(p)).redISub(I),g=(g=this.y.redMul(this.z)).redIAdd(g)}return this.curve.jpoint(p,f,g)},u.prototype._threeDbl=function(){var p,f,g;if(this.zOne){var m=this.x.redSqr(),v=this.y.redSqr(),_=v.redSqr(),x=this.x.redAdd(v).redSqr().redISub(m).redISub(_);x=x.redIAdd(x);var y=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),T=y.redSqr().redISub(x).redISub(x);p=T;var O=_.redIAdd(_);O=(O=O.redIAdd(O)).redIAdd(O),f=y.redMul(x.redISub(T)).redISub(O),g=this.y.redAdd(this.y)}else{var L=this.z.redSqr(),R=this.y.redSqr(),$=this.x.redMul(R),V=this.x.redSub(L).redMul(this.x.redAdd(L));V=V.redAdd(V).redIAdd(V);var z=$.redIAdd($),H=(z=z.redIAdd(z)).redAdd(z);p=V.redSqr().redISub(H),g=this.y.redAdd(this.z).redSqr().redISub(R).redISub(L);var I=R.redSqr();I=(I=(I=I.redIAdd(I)).redIAdd(I)).redIAdd(I),f=V.redMul(z.redISub(p)).redISub(I)}return this.curve.jpoint(p,f,g)},u.prototype._dbl=function(){var p=this.curve.a,f=this.x,g=this.y,m=this.z,v=m.redSqr().redSqr(),_=f.redSqr(),x=g.redSqr(),y=_.redAdd(_).redIAdd(_).redIAdd(p.redMul(v)),T=f.redAdd(f),O=(T=T.redIAdd(T)).redMul(x),L=y.redSqr().redISub(O.redAdd(O)),R=O.redISub(L),$=x.redSqr();$=($=($=$.redIAdd($)).redIAdd($)).redIAdd($);var V=y.redMul(R).redISub($),z=g.redAdd(g).redMul(m);return this.curve.jpoint(L,V,z)},u.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var p=this.x.redSqr(),f=this.y.redSqr(),g=this.z.redSqr(),m=f.redSqr(),v=p.redAdd(p).redIAdd(p),_=v.redSqr(),x=this.x.redAdd(f).redSqr().redISub(p).redISub(m),y=(x=(x=(x=x.redIAdd(x)).redAdd(x).redIAdd(x)).redISub(_)).redSqr(),T=m.redIAdd(m);T=(T=(T=T.redIAdd(T)).redIAdd(T)).redIAdd(T);var O=v.redIAdd(x).redSqr().redISub(_).redISub(y).redISub(T),L=f.redMul(O);L=(L=L.redIAdd(L)).redIAdd(L);var R=this.x.redMul(y).redISub(L);R=(R=R.redIAdd(R)).redIAdd(R);var $=this.y.redMul(O.redMul(T.redISub(O)).redISub(x.redMul(y)));$=($=($=$.redIAdd($)).redIAdd($)).redIAdd($);var V=this.z.redAdd(x).redSqr().redISub(g).redISub(y);return this.curve.jpoint(R,$,V)},u.prototype.mul=function(p,f){return p=new o(p,f),this.curve._wnafMul(this,p)},u.prototype.eq=function(p){if(p.type==="affine")return this.eq(p.toJ());if(this===p)return!0;var f=this.z.redSqr(),g=p.z.redSqr();if(this.x.redMul(g).redISub(p.x.redMul(f)).cmpn(0)!==0)return!1;var m=f.redMul(this.z),v=g.redMul(p.z);return this.y.redMul(v).redISub(p.y.redMul(m)).cmpn(0)===0},u.prototype.eqXToP=function(p){var f=this.z.redSqr(),g=p.toRed(this.curve.red).redMul(f);if(this.x.cmp(g)===0)return!0;for(var m=p.clone(),v=this.curve.redN.redMul(f);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(v),this.x.cmp(g)===0)return!0}},u.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},u.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(t,n,s){var r,o=s,a=t("hash.js"),l=t("./curve"),d=t("./utils").assert;function c(u){u.type==="short"?this.curve=new l.short(u):u.type==="edwards"?this.curve=new l.edwards(u):this.curve=new l.mont(u),this.g=this.curve.g,this.n=this.curve.n,this.hash=u.hash,d(this.g.validate(),"Invalid curve"),d(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function h(u,p){Object.defineProperty(o,u,{configurable:!0,enumerable:!0,get:function(){var f=new c(p);return Object.defineProperty(o,u,{configurable:!0,enumerable:!0,value:f}),f}})}o.PresetCurve=c,h("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),h("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),h("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),h("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),h("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),h("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),h("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=t("./precomputed/secp256k1")}catch{r=void 0}h("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(t,n,s){var r=t("bn.js"),o=t("hmac-drbg"),a=t("../utils"),l=t("../curves"),d=t("brorand"),c=a.assert,h=t("./key"),u=t("./signature");function p(f){if(!(this instanceof p))return new p(f);typeof f=="string"&&(c(Object.prototype.hasOwnProperty.call(l,f),"Unknown curve "+f),f=l[f]),f instanceof l.PresetCurve&&(f={curve:f}),this.curve=f.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=f.curve.g,this.g.precompute(f.curve.n.bitLength()+1),this.hash=f.hash||f.curve.hash}n.exports=p,p.prototype.keyPair=function(f){return new h(this,f)},p.prototype.keyFromPrivate=function(f,g){return h.fromPrivate(this,f,g)},p.prototype.keyFromPublic=function(f,g){return h.fromPublic(this,f,g)},p.prototype.genKeyPair=function(f){f||(f={});for(var g=new o({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||d(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),v=this.n.sub(new r(2));;){var _=new r(g.generate(m));if(!(_.cmp(v)>0))return _.iaddn(1),this.keyFromPrivate(_)}},p.prototype._truncateToN=function(f,g){var m=8*f.byteLength()-this.n.bitLength();return m>0&&(f=f.ushrn(m)),!g&&f.cmp(this.n)>=0?f.sub(this.n):f},p.prototype.sign=function(f,g,m,v){typeof m=="object"&&(v=m,m=null),v||(v={}),g=this.keyFromPrivate(g,m),f=this._truncateToN(new r(f,16));for(var _=this.n.byteLength(),x=g.getPrivate().toArray("be",_),y=f.toArray("be",_),T=new o({hash:this.hash,entropy:x,nonce:y,pers:v.pers,persEnc:v.persEnc||"utf8"}),O=this.n.sub(new r(1)),L=0;;L++){var R=v.k?v.k(L):new r(T.generate(this.n.byteLength()));if(!((R=this._truncateToN(R,!0)).cmpn(1)<=0||R.cmp(O)>=0)){var $=this.g.mul(R);if(!$.isInfinity()){var V=$.getX(),z=V.umod(this.n);if(z.cmpn(0)!==0){var H=R.invm(this.n).mul(z.mul(g.getPrivate()).iadd(f));if((H=H.umod(this.n)).cmpn(0)!==0){var I=($.getY().isOdd()?1:0)|(V.cmp(z)!==0?2:0);return v.canonical&&H.cmp(this.nh)>0&&(H=this.n.sub(H),I^=1),new u({r:z,s:H,recoveryParam:I})}}}}}},p.prototype.verify=function(f,g,m,v){f=this._truncateToN(new r(f,16)),m=this.keyFromPublic(m,v);var _=(g=new u(g,"hex")).r,x=g.s;if(_.cmpn(1)<0||_.cmp(this.n)>=0||x.cmpn(1)<0||x.cmp(this.n)>=0)return!1;var y,T=x.invm(this.n),O=T.mul(f).umod(this.n),L=T.mul(_).umod(this.n);return this.curve._maxwellTrick?!(y=this.g.jmulAdd(O,m.getPublic(),L)).isInfinity()&&y.eqXToP(_):!(y=this.g.mulAdd(O,m.getPublic(),L)).isInfinity()&&y.getX().umod(this.n).cmp(_)===0},p.prototype.recoverPubKey=function(f,g,m,v){c((3&m)===m,"The recovery param is more than two bits"),g=new u(g,v);var _=this.n,x=new r(f),y=g.r,T=g.s,O=1&m,L=m>>1;if(y.cmp(this.curve.p.umod(this.curve.n))>=0&&L)throw new Error("Unable to find sencond key candinate");y=L?this.curve.pointFromX(y.add(this.curve.n),O):this.curve.pointFromX(y,O);var R=g.r.invm(_),$=_.sub(x).mul(R).umod(_),V=T.mul(R).umod(_);return this.g.mulAdd($,y,V)},p.prototype.getKeyRecoveryParam=function(f,g,m,v){if((g=new u(g,v)).recoveryParam!==null)return g.recoveryParam;for(var _=0;_<4;_++){var x;try{x=this.recoverPubKey(f,g,_)}catch{continue}if(x.eq(m))return _}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(t,n,s){var r=t("bn.js"),o=t("../utils").assert;function a(l,d){this.ec=l,this.priv=null,this.pub=null,d.priv&&this._importPrivate(d.priv,d.privEnc),d.pub&&this._importPublic(d.pub,d.pubEnc)}n.exports=a,a.fromPublic=function(l,d,c){return d instanceof a?d:new a(l,{pub:d,pubEnc:c})},a.fromPrivate=function(l,d,c){return d instanceof a?d:new a(l,{priv:d,privEnc:c})},a.prototype.validate=function(){var l=this.getPublic();return l.isInfinity()?{result:!1,reason:"Invalid public key"}:l.validate()?l.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},a.prototype.getPublic=function(l,d){return typeof l=="string"&&(d=l,l=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),d?this.pub.encode(d,l):this.pub},a.prototype.getPrivate=function(l){return l==="hex"?this.priv.toString(16,2):this.priv},a.prototype._importPrivate=function(l,d){this.priv=new r(l,d||16),this.priv=this.priv.umod(this.ec.curve.n)},a.prototype._importPublic=function(l,d){if(l.x||l.y)return this.ec.curve.type==="mont"?o(l.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||o(l.x&&l.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(l.x,l.y));this.pub=this.ec.curve.decodePoint(l,d)},a.prototype.derive=function(l){return l.validate()||o(l.validate(),"public point not validated"),l.mul(this.priv).getX()},a.prototype.sign=function(l,d,c){return this.ec.sign(l,this,d,c)},a.prototype.verify=function(l,d){return this.ec.verify(l,d,this)},a.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(t,n,s){var r=t("bn.js"),o=t("../utils"),a=o.assert;function l(p,f){if(p instanceof l)return p;this._importDER(p,f)||(a(p.r&&p.s,"Signature without r or s"),this.r=new r(p.r,16),this.s=new r(p.s,16),p.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=p.recoveryParam)}function d(){this.place=0}function c(p,f){var g=p[f.place++];if(!(128&g))return g;var m=15&g;if(m===0||m>4)return!1;for(var v=0,_=0,x=f.place;_<m;_++,x++)v<<=8,v|=p[x],v>>>=0;return!(v<=127)&&(f.place=x,v)}function h(p){for(var f=0,g=p.length-1;!p[f]&&!(128&p[f+1])&&f<g;)f++;return f===0?p:p.slice(f)}function u(p,f){if(f<128)p.push(f);else{var g=1+(Math.log(f)/Math.LN2>>>3);for(p.push(128|g);--g;)p.push(f>>>(g<<3)&255);p.push(f)}}n.exports=l,l.prototype._importDER=function(p,f){p=o.toArray(p,f);var g=new d;if(p[g.place++]!==48)return!1;var m=c(p,g);if(m===!1||m+g.place!==p.length||p[g.place++]!==2)return!1;var v=c(p,g);if(v===!1)return!1;var _=p.slice(g.place,v+g.place);if(g.place+=v,p[g.place++]!==2)return!1;var x=c(p,g);if(x===!1||p.length!==x+g.place)return!1;var y=p.slice(g.place,x+g.place);if(_[0]===0){if(!(128&_[1]))return!1;_=_.slice(1)}if(y[0]===0){if(!(128&y[1]))return!1;y=y.slice(1)}return this.r=new r(_),this.s=new r(y),this.recoveryParam=null,!0},l.prototype.toDER=function(p){var f=this.r.toArray(),g=this.s.toArray();for(128&f[0]&&(f=[0].concat(f)),128&g[0]&&(g=[0].concat(g)),f=h(f),g=h(g);!(g[0]||128&g[1]);)g=g.slice(1);var m=[2];u(m,f.length),(m=m.concat(f)).push(2),u(m,g.length);var v=m.concat(g),_=[48];return u(_,v.length),_=_.concat(v),o.encode(_,p)}},{"../utils":419,"bn.js":420}],415:[function(t,n,s){var r=t("hash.js"),o=t("../curves"),a=t("../utils"),l=a.assert,d=a.parseBytes,c=t("./key"),h=t("./signature");function u(p){if(l(p==="ed25519","only tested with ed25519 so far"),!(this instanceof u))return new u(p);p=o[p].curve,this.curve=p,this.g=p.g,this.g.precompute(p.n.bitLength()+1),this.pointClass=p.point().constructor,this.encodingLength=Math.ceil(p.n.bitLength()/8),this.hash=r.sha512}n.exports=u,u.prototype.sign=function(p,f){p=d(p);var g=this.keyFromSecret(f),m=this.hashInt(g.messagePrefix(),p),v=this.g.mul(m),_=this.encodePoint(v),x=this.hashInt(_,g.pubBytes(),p).mul(g.priv()),y=m.add(x).umod(this.curve.n);return this.makeSignature({R:v,S:y,Rencoded:_})},u.prototype.verify=function(p,f,g){p=d(p),f=this.makeSignature(f);var m=this.keyFromPublic(g),v=this.hashInt(f.Rencoded(),m.pubBytes(),p),_=this.g.mul(f.S());return f.R().add(m.pub().mul(v)).eq(_)},u.prototype.hashInt=function(){for(var p=this.hash(),f=0;f<arguments.length;f++)p.update(arguments[f]);return a.intFromLE(p.digest()).umod(this.curve.n)},u.prototype.keyFromPublic=function(p){return c.fromPublic(this,p)},u.prototype.keyFromSecret=function(p){return c.fromSecret(this,p)},u.prototype.makeSignature=function(p){return p instanceof h?p:new h(this,p)},u.prototype.encodePoint=function(p){var f=p.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=p.getX().isOdd()?128:0,f},u.prototype.decodePoint=function(p){var f=(p=a.parseBytes(p)).length-1,g=p.slice(0,f).concat(-129&p[f]),m=(128&p[f])!=0,v=a.intFromLE(g);return this.curve.pointFromY(v,m)},u.prototype.encodeInt=function(p){return p.toArray("le",this.encodingLength)},u.prototype.decodeInt=function(p){return a.intFromLE(p)},u.prototype.isPoint=function(p){return p instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(t,n,s){var r=t("../utils"),o=r.assert,a=r.parseBytes,l=r.cachedProperty;function d(c,h){this.eddsa=c,this._secret=a(h.secret),c.isPoint(h.pub)?this._pub=h.pub:this._pubBytes=a(h.pub)}d.fromPublic=function(c,h){return h instanceof d?h:new d(c,{pub:h})},d.fromSecret=function(c,h){return h instanceof d?h:new d(c,{secret:h})},d.prototype.secret=function(){return this._secret},l(d,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),l(d,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(d,"privBytes",function(){var c=this.eddsa,h=this.hash(),u=c.encodingLength-1,p=h.slice(0,c.encodingLength);return p[0]&=248,p[u]&=127,p[u]|=64,p}),l(d,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),l(d,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),l(d,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),d.prototype.sign=function(c){return o(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},d.prototype.verify=function(c,h){return this.eddsa.verify(c,h,this)},d.prototype.getSecret=function(c){return o(this._secret,"KeyPair is public only"),r.encode(this.secret(),c)},d.prototype.getPublic=function(c){return r.encode(this.pubBytes(),c)},n.exports=d},{"../utils":419}],417:[function(t,n,s){var r=t("bn.js"),o=t("../utils"),a=o.assert,l=o.cachedProperty,d=o.parseBytes;function c(h,u){this.eddsa=h,typeof u!="object"&&(u=d(u)),Array.isArray(u)&&(u={R:u.slice(0,h.encodingLength),S:u.slice(h.encodingLength)}),a(u.R&&u.S,"Signature without R or S"),h.isPoint(u.R)&&(this._R=u.R),u.S instanceof r&&(this._S=u.S),this._Rencoded=Array.isArray(u.R)?u.R:u.Rencoded,this._Sencoded=Array.isArray(u.S)?u.S:u.Sencoded}l(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),l(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),l(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),l(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return o.encode(this.toBytes(),"hex").toUpperCase()},n.exports=c},{"../utils":419,"bn.js":420}],418:[function(t,n,s){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(t,n,s){var r=s,o=t("bn.js"),a=t("minimalistic-assert"),l=t("minimalistic-crypto-utils");r.assert=a,r.toArray=l.toArray,r.zero2=l.zero2,r.toHex=l.toHex,r.encode=l.encode,r.getNAF=function(d,c,h){var u=new Array(Math.max(d.bitLength(),h)+1);u.fill(0);for(var p=1<<c+1,f=d.clone(),g=0;g<u.length;g++){var m,v=f.andln(p-1);f.isOdd()?(m=v>(p>>1)-1?(p>>1)-v:v,f.isubn(m)):m=0,u[g]=m,f.iushrn(1)}return u},r.getJSF=function(d,c){var h=[[],[]];d=d.clone(),c=c.clone();for(var u,p=0,f=0;d.cmpn(-p)>0||c.cmpn(-f)>0;){var g,m,v=d.andln(3)+p&3,_=c.andln(3)+f&3;v===3&&(v=-1),_===3&&(_=-1),g=1&v?(u=d.andln(7)+p&7)!==3&&u!==5||_!==2?v:-v:0,h[0].push(g),m=1&_?(u=c.andln(7)+f&7)!==3&&u!==5||v!==2?_:-_:0,h[1].push(m),2*p===g+1&&(p=1-p),2*f===m+1&&(f=1-f),d.iushrn(1),c.iushrn(1)}return h},r.cachedProperty=function(d,c,h){var u="_"+c;d.prototype[c]=function(){return this[u]!==void 0?this[u]:this[u]=h.call(this)}},r.parseBytes=function(d){return typeof d=="string"?r.toArray(d,"hex"):d},r.intFromLE=function(d){return new o(d,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(t,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],421:[function(t,n,s){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(t,n,s){var r=Object.create||function(R){var $=function(){};return $.prototype=R,new $},o=Object.keys||function(R){var $=[];for(var V in R)Object.prototype.hasOwnProperty.call(R,V)&&$.push(V);return V},a=Function.prototype.bind||function(R){var $=this;return function(){return $.apply(R,arguments)}};function l(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0;var d,c=10;try{var h={};Object.defineProperty&&Object.defineProperty(h,"x",{value:0}),d=h.x===0}catch{d=!1}function u(R){return R._maxListeners===void 0?l.defaultMaxListeners:R._maxListeners}function p(R,$,V){if($)R.call(V);else for(var z=R.length,H=L(R,z),I=0;I<z;++I)H[I].call(V)}function f(R,$,V,z){if($)R.call(V,z);else for(var H=R.length,I=L(R,H),A=0;A<H;++A)I[A].call(V,z)}function g(R,$,V,z,H){if($)R.call(V,z,H);else for(var I=R.length,A=L(R,I),E=0;E<I;++E)A[E].call(V,z,H)}function m(R,$,V,z,H,I){if($)R.call(V,z,H,I);else for(var A=R.length,E=L(R,A),b=0;b<A;++b)E[b].call(V,z,H,I)}function v(R,$,V,z){if($)R.apply(V,z);else for(var H=R.length,I=L(R,H),A=0;A<H;++A)I[A].apply(V,z)}function _(R,$,V,z){var H,I,A;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if((I=R._events)?(I.newListener&&(R.emit("newListener",$,V.listener?V.listener:V),I=R._events),A=I[$]):(I=R._events=r(null),R._eventsCount=0),A){if(typeof A=="function"?A=I[$]=z?[V,A]:[A,V]:z?A.unshift(V):A.push(V),!A.warned&&(H=u(R))&&H>0&&A.length>H){A.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+A.length+' "'+String($)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');E.name="MaxListenersExceededWarning",E.emitter=R,E.type=$,E.count=A.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",E.name,E.message)}}else A=I[$]=V,++R._eventsCount;return R}function x(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var R=new Array(arguments.length),$=0;$<R.length;++$)R[$]=arguments[$];this.listener.apply(this.target,R)}}function y(R,$,V){var z={fired:!1,wrapFn:void 0,target:R,type:$,listener:V},H=a.call(x,z);return H.listener=V,z.wrapFn=H,H}function T(R,$,V){var z=R._events;if(!z)return[];var H=z[$];return H?typeof H=="function"?V?[H.listener||H]:[H]:V?function(I){for(var A=new Array(I.length),E=0;E<A.length;++E)A[E]=I[E].listener||I[E];return A}(H):L(H,H.length):[]}function O(R){var $=this._events;if($){var V=$[R];if(typeof V=="function")return 1;if(V)return V.length}return 0}function L(R,$){for(var V=new Array($),z=0;z<$;++z)V[z]=R[z];return V}d?Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(R){if(typeof R!="number"||R<0||R!=R)throw new TypeError('"defaultMaxListeners" must be a positive number');c=R}}):l.defaultMaxListeners=c,l.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||isNaN(R))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=R,this},l.prototype.getMaxListeners=function(){return u(this)},l.prototype.emit=function(R){var $,V,z,H,I,A,E=R==="error";if(A=this._events)E=E&&A.error==null;else if(!E)return!1;if(E){if(arguments.length>1&&($=arguments[1]),$ instanceof Error)throw $;var b=new Error('Unhandled "error" event. ('+$+")");throw b.context=$,b}if(!(V=A[R]))return!1;var w=typeof V=="function";switch(z=arguments.length){case 1:p(V,w,this);break;case 2:f(V,w,this,arguments[1]);break;case 3:g(V,w,this,arguments[1],arguments[2]);break;case 4:m(V,w,this,arguments[1],arguments[2],arguments[3]);break;default:for(H=new Array(z-1),I=1;I<z;I++)H[I-1]=arguments[I];v(V,w,this,H)}return!0},l.prototype.addListener=function(R,$){return _(this,R,$,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(R,$){return _(this,R,$,!0)},l.prototype.once=function(R,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.on(R,y(this,R,$)),this},l.prototype.prependOnceListener=function(R,$){if(typeof $!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(R,y(this,R,$)),this},l.prototype.removeListener=function(R,$){var V,z,H,I,A;if(typeof $!="function")throw new TypeError('"listener" argument must be a function');if(!(z=this._events))return this;if(!(V=z[R]))return this;if(V===$||V.listener===$)--this._eventsCount==0?this._events=r(null):(delete z[R],z.removeListener&&this.emit("removeListener",R,V.listener||$));else if(typeof V!="function"){for(H=-1,I=V.length-1;I>=0;I--)if(V[I]===$||V[I].listener===$){A=V[I].listener,H=I;break}if(H<0)return this;H===0?V.shift():function(E,b){for(var w=b,C=w+1,S=E.length;C<S;w+=1,C+=1)E[w]=E[C];E.pop()}(V,H),V.length===1&&(z[R]=V[0]),z.removeListener&&this.emit("removeListener",R,A||$)}return this},l.prototype.removeAllListeners=function(R){var $,V,z;if(!(V=this._events))return this;if(!V.removeListener)return arguments.length===0?(this._events=r(null),this._eventsCount=0):V[R]&&(--this._eventsCount==0?this._events=r(null):delete V[R]),this;if(arguments.length===0){var H,I=o(V);for(z=0;z<I.length;++z)(H=I[z])!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if(typeof($=V[R])=="function")this.removeListener(R,$);else if($)for(z=$.length-1;z>=0;z--)this.removeListener(R,$[z]);return this},l.prototype.listeners=function(R){return T(this,R,!0)},l.prototype.rawListeners=function(R){return T(this,R,!1)},l.listenerCount=function(R,$){return typeof R.listenerCount=="function"?R.listenerCount($):O.call(R,$)},l.prototype.listenerCount=O,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(t,n,s){var r=t("safe-buffer").Buffer,o=t("md5.js");n.exports=function(a,l,d,c){if(r.isBuffer(a)||(a=r.from(a,"binary")),l&&(r.isBuffer(l)||(l=r.from(l,"binary")),l.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var h=d/8,u=r.alloc(h),p=r.alloc(c||0),f=r.alloc(0);h>0||c>0;){var g=new o;g.update(f),g.update(a),l&&g.update(l),f=g.digest();var m=0;if(h>0){var v=u.length-h;m=Math.min(h,f.length),f.copy(u,v,0,m),h-=m}if(m<f.length&&c>0){var _=p.length-c,x=Math.min(c,f.length-m);f.copy(p,_,m,m+x),c-=x}}return f.fill(0),{key:u,iv:p}}},{"md5.js":450,"safe-buffer":494}],424:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.CsvParserStream=s.ParserOptions=s.parseFile=s.parseStream=s.parseString=s.parse=s.FormatterOptions=s.CsvFormatterStream=s.writeToPath=s.writeToString=s.writeToBuffer=s.writeToStream=s.write=s.format=void 0;var r=t("@fast-csv/format");Object.defineProperty(s,"format",{enumerable:!0,get:function(){return r.format}}),Object.defineProperty(s,"write",{enumerable:!0,get:function(){return r.write}}),Object.defineProperty(s,"writeToStream",{enumerable:!0,get:function(){return r.writeToStream}}),Object.defineProperty(s,"writeToBuffer",{enumerable:!0,get:function(){return r.writeToBuffer}}),Object.defineProperty(s,"writeToString",{enumerable:!0,get:function(){return r.writeToString}}),Object.defineProperty(s,"writeToPath",{enumerable:!0,get:function(){return r.writeToPath}}),Object.defineProperty(s,"CsvFormatterStream",{enumerable:!0,get:function(){return r.CsvFormatterStream}}),Object.defineProperty(s,"FormatterOptions",{enumerable:!0,get:function(){return r.FormatterOptions}});var o=t("@fast-csv/parse");Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return o.parse}}),Object.defineProperty(s,"parseString",{enumerable:!0,get:function(){return o.parseString}}),Object.defineProperty(s,"parseStream",{enumerable:!0,get:function(){return o.parseStream}}),Object.defineProperty(s,"parseFile",{enumerable:!0,get:function(){return o.parseFile}}),Object.defineProperty(s,"ParserOptions",{enumerable:!0,get:function(){return o.ParserOptions}}),Object.defineProperty(s,"CsvParserStream",{enumerable:!0,get:function(){return o.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(t,n,s){var r=t("safe-buffer").Buffer,o=t("readable-stream").Transform;function a(l){o.call(this),this._block=r.allocUnsafe(l),this._blockSize=l,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t("inherits")(a,o),a.prototype._transform=function(l,d,c){var h=null;try{this.update(l,d)}catch(u){h=u}c(h)},a.prototype._flush=function(l){var d=null;try{this.push(this.digest())}catch(c){d=c}l(d)},a.prototype.update=function(l,d){if(function(g,m){if(!r.isBuffer(g)&&typeof g!="string")throw new TypeError(m+" must be a string or a buffer")}(l,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(l)||(l=r.from(l,d));for(var c=this._block,h=0;this._blockOffset+l.length-h>=this._blockSize;){for(var u=this._blockOffset;u<this._blockSize;)c[u++]=l[h++];this._update(),this._blockOffset=0}for(;h<l.length;)c[this._blockOffset++]=l[h++];for(var p=0,f=8*l.length;f>0;++p)this._length[p]+=f,(f=this._length[p]/4294967296|0)>0&&(this._length[p]-=4294967296*f);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(l){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var d=this._digest();l!==void 0&&(d=d.toString(l)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return d},a.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=a},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(t,n,s){var r=s;r.utils=t("./hash/utils"),r.common=t("./hash/common"),r.sha=t("./hash/sha"),r.ripemd=t("./hash/ripemd"),r.hmac=t("./hash/hmac"),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(t,n,s){var r=t("./utils"),o=t("minimalistic-assert");function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}s.BlockHash=a,a.prototype.update=function(l,d){if(l=r.toArray(l,d),this.pending?this.pending=this.pending.concat(l):this.pending=l,this.pendingTotal+=l.length,this.pending.length>=this._delta8){var c=(l=this.pending).length%this._delta8;this.pending=l.slice(l.length-c,l.length),this.pending.length===0&&(this.pending=null),l=r.join32(l,0,l.length-c,this.endian);for(var h=0;h<l.length;h+=this._delta32)this._update(l,h,h+this._delta32)}return this},a.prototype.digest=function(l){return this.update(this._pad()),o(this.pending===null),this._digest(l)},a.prototype._pad=function(){var l=this.pendingTotal,d=this._delta8,c=d-(l+this.padLength)%d,h=new Array(c+this.padLength);h[0]=128;for(var u=1;u<c;u++)h[u]=0;if(l<<=3,this.endian==="big"){for(var p=8;p<this.padLength;p++)h[u++]=0;h[u++]=0,h[u++]=0,h[u++]=0,h[u++]=0,h[u++]=l>>>24&255,h[u++]=l>>>16&255,h[u++]=l>>>8&255,h[u++]=255&l}else for(h[u++]=255&l,h[u++]=l>>>8&255,h[u++]=l>>>16&255,h[u++]=l>>>24&255,h[u++]=0,h[u++]=0,h[u++]=0,h[u++]=0,p=8;p<this.padLength;p++)h[u++]=0;return h}},{"./utils":437,"minimalistic-assert":453}],428:[function(t,n,s){var r=t("./utils"),o=t("minimalistic-assert");function a(l,d,c){if(!(this instanceof a))return new a(l,d,c);this.Hash=l,this.blockSize=l.blockSize/8,this.outSize=l.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(d,c))}n.exports=a,a.prototype._init=function(l){l.length>this.blockSize&&(l=new this.Hash().update(l).digest()),o(l.length<=this.blockSize);for(var d=l.length;d<this.blockSize;d++)l.push(0);for(d=0;d<l.length;d++)l[d]^=54;for(this.inner=new this.Hash().update(l),d=0;d<l.length;d++)l[d]^=106;this.outer=new this.Hash().update(l)},a.prototype.update=function(l,d){return this.inner.update(l,d),this},a.prototype.digest=function(l){return this.outer.update(this.inner.digest()),this.outer.digest(l)}},{"./utils":437,"minimalistic-assert":453}],429:[function(t,n,s){var r=t("./utils"),o=t("./common"),a=r.rotl32,l=r.sum32,d=r.sum32_3,c=r.sum32_4,h=o.BlockHash;function u(){if(!(this instanceof u))return new u;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function p(y,T,O,L){return y<=15?T^O^L:y<=31?T&O|~T&L:y<=47?(T|~O)^L:y<=63?T&L|O&~L:T^(O|~L)}function f(y){return y<=15?0:y<=31?1518500249:y<=47?1859775393:y<=63?2400959708:2840853838}function g(y){return y<=15?1352829926:y<=31?1548603684:y<=47?1836072691:y<=63?2053994217:0}r.inherits(u,h),s.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(y,T){for(var O=this.h[0],L=this.h[1],R=this.h[2],$=this.h[3],V=this.h[4],z=O,H=L,I=R,A=$,E=V,b=0;b<80;b++){var w=l(a(c(O,p(b,L,R,$),y[m[b]+T],f(b)),_[b]),V);O=V,V=$,$=a(R,10),R=L,L=w,w=l(a(c(z,p(79-b,H,I,A),y[v[b]+T],g(b)),x[b]),E),z=E,E=A,A=a(I,10),I=H,H=w}w=d(this.h[1],R,A),this.h[1]=d(this.h[2],$,E),this.h[2]=d(this.h[3],V,z),this.h[3]=d(this.h[4],O,H),this.h[4]=d(this.h[0],L,I),this.h[0]=w},u.prototype._digest=function(y){return y==="hex"?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],x=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(t,n,s){s.sha1=t("./sha/1"),s.sha224=t("./sha/224"),s.sha256=t("./sha/256"),s.sha384=t("./sha/384"),s.sha512=t("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(t,n,s){var r=t("../utils"),o=t("../common"),a=t("./common"),l=r.rotl32,d=r.sum32,c=r.sum32_5,h=a.ft_1,u=o.BlockHash,p=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(f,u),n.exports=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(g,m){for(var v=this.W,_=0;_<16;_++)v[_]=g[m+_];for(;_<v.length;_++)v[_]=l(v[_-3]^v[_-8]^v[_-14]^v[_-16],1);var x=this.h[0],y=this.h[1],T=this.h[2],O=this.h[3],L=this.h[4];for(_=0;_<v.length;_++){var R=~~(_/20),$=c(l(x,5),h(R,y,T,O),L,v[_],p[R]);L=O,O=T,T=l(y,30),y=x,x=$}this.h[0]=d(this.h[0],x),this.h[1]=d(this.h[1],y),this.h[2]=d(this.h[2],T),this.h[3]=d(this.h[3],O),this.h[4]=d(this.h[4],L)},f.prototype._digest=function(g){return g==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(t,n,s){var r=t("../utils"),o=t("./256");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(a,o),n.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(l){return l==="hex"?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(t,n,s){var r=t("../utils"),o=t("../common"),a=t("./common"),l=t("minimalistic-assert"),d=r.sum32,c=r.sum32_4,h=r.sum32_5,u=a.ch32,p=a.maj32,f=a.s0_256,g=a.s1_256,m=a.g0_256,v=a.g1_256,_=o.BlockHash,x=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;_.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=x,this.W=new Array(64)}r.inherits(y,_),n.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(T,O){for(var L=this.W,R=0;R<16;R++)L[R]=T[O+R];for(;R<L.length;R++)L[R]=c(v(L[R-2]),L[R-7],m(L[R-15]),L[R-16]);var $=this.h[0],V=this.h[1],z=this.h[2],H=this.h[3],I=this.h[4],A=this.h[5],E=this.h[6],b=this.h[7];for(l(this.k.length===L.length),R=0;R<L.length;R++){var w=h(b,g(I),u(I,A,E),this.k[R],L[R]),C=d(f($),p($,V,z));b=E,E=A,A=I,I=d(H,w),H=z,z=V,V=$,$=d(w,C)}this.h[0]=d(this.h[0],$),this.h[1]=d(this.h[1],V),this.h[2]=d(this.h[2],z),this.h[3]=d(this.h[3],H),this.h[4]=d(this.h[4],I),this.h[5]=d(this.h[5],A),this.h[6]=d(this.h[6],E),this.h[7]=d(this.h[7],b)},y.prototype._digest=function(T){return T==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(t,n,s){var r=t("../utils"),o=t("./512");function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(a,o),n.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(l){return l==="hex"?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(t,n,s){var r=t("../utils"),o=t("../common"),a=t("minimalistic-assert"),l=r.rotr64_hi,d=r.rotr64_lo,c=r.shr64_hi,h=r.shr64_lo,u=r.sum64,p=r.sum64_hi,f=r.sum64_lo,g=r.sum64_4_hi,m=r.sum64_4_lo,v=r.sum64_5_hi,_=r.sum64_5_lo,x=o.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function T(){if(!(this instanceof T))return new T;x.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function O(C,S,D,P,k){var U=C&D^~C&k;return U<0&&(U+=4294967296),U}function L(C,S,D,P,k,U){var W=S&P^~S&U;return W<0&&(W+=4294967296),W}function R(C,S,D,P,k){var U=C&D^C&k^D&k;return U<0&&(U+=4294967296),U}function $(C,S,D,P,k,U){var W=S&P^S&U^P&U;return W<0&&(W+=4294967296),W}function V(C,S){var D=l(C,S,28)^l(S,C,2)^l(S,C,7);return D<0&&(D+=4294967296),D}function z(C,S){var D=d(C,S,28)^d(S,C,2)^d(S,C,7);return D<0&&(D+=4294967296),D}function H(C,S){var D=l(C,S,14)^l(C,S,18)^l(S,C,9);return D<0&&(D+=4294967296),D}function I(C,S){var D=d(C,S,14)^d(C,S,18)^d(S,C,9);return D<0&&(D+=4294967296),D}function A(C,S){var D=l(C,S,1)^l(C,S,8)^c(C,S,7);return D<0&&(D+=4294967296),D}function E(C,S){var D=d(C,S,1)^d(C,S,8)^h(C,S,7);return D<0&&(D+=4294967296),D}function b(C,S){var D=l(C,S,19)^l(S,C,29)^c(C,S,6);return D<0&&(D+=4294967296),D}function w(C,S){var D=d(C,S,19)^d(S,C,29)^h(C,S,6);return D<0&&(D+=4294967296),D}r.inherits(T,x),n.exports=T,T.blockSize=1024,T.outSize=512,T.hmacStrength=192,T.padLength=128,T.prototype._prepareBlock=function(C,S){for(var D=this.W,P=0;P<32;P++)D[P]=C[S+P];for(;P<D.length;P+=2){var k=b(D[P-4],D[P-3]),U=w(D[P-4],D[P-3]),W=D[P-14],X=D[P-13],j=A(D[P-30],D[P-29]),q=E(D[P-30],D[P-29]),B=D[P-32],F=D[P-31];D[P]=g(k,U,W,X,j,q,B,F),D[P+1]=m(k,U,W,X,j,q,B,F)}},T.prototype._update=function(C,S){this._prepareBlock(C,S);var D=this.W,P=this.h[0],k=this.h[1],U=this.h[2],W=this.h[3],X=this.h[4],j=this.h[5],q=this.h[6],B=this.h[7],F=this.h[8],K=this.h[9],ee=this.h[10],Q=this.h[11],Z=this.h[12],J=this.h[13],ae=this.h[14],ce=this.h[15];a(this.k.length===D.length);for(var te=0;te<D.length;te+=2){var oe=ae,le=ce,fe=H(F,K),pe=I(F,K),me=O(F,K,ee,Q,Z),ye=L(F,K,ee,Q,Z,J),we=this.k[te],De=this.k[te+1],Ve=D[te],Le=D[te+1],$e=v(oe,le,fe,pe,me,ye,we,De,Ve,Le),rt=_(oe,le,fe,pe,me,ye,we,De,Ve,Le);oe=V(P,k),le=z(P,k),fe=R(P,k,U,W,X),pe=$(P,k,U,W,X,j);var nt=p(oe,le,fe,pe),Je=f(oe,le,fe,pe);ae=Z,ce=J,Z=ee,J=Q,ee=F,Q=K,F=p(q,B,$e,rt),K=f(B,B,$e,rt),q=X,B=j,X=U,j=W,U=P,W=k,P=p($e,rt,nt,Je),k=f($e,rt,nt,Je)}u(this.h,0,P,k),u(this.h,2,U,W),u(this.h,4,X,j),u(this.h,6,q,B),u(this.h,8,F,K),u(this.h,10,ee,Q),u(this.h,12,Z,J),u(this.h,14,ae,ce)},T.prototype._digest=function(C){return C==="hex"?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(t,n,s){var r=t("../utils").rotr32;function o(d,c,h){return d&c^~d&h}function a(d,c,h){return d&c^d&h^c&h}function l(d,c,h){return d^c^h}s.ft_1=function(d,c,h,u){return d===0?o(c,h,u):d===1||d===3?l(c,h,u):d===2?a(c,h,u):void 0},s.ch32=o,s.maj32=a,s.p32=l,s.s0_256=function(d){return r(d,2)^r(d,13)^r(d,22)},s.s1_256=function(d){return r(d,6)^r(d,11)^r(d,25)},s.g0_256=function(d){return r(d,7)^r(d,18)^d>>>3},s.g1_256=function(d){return r(d,17)^r(d,19)^d>>>10}},{"../utils":437}],437:[function(t,n,s){var r=t("minimalistic-assert"),o=t("inherits");function a(h,u){return(64512&h.charCodeAt(u))==55296&&!(u<0||u+1>=h.length)&&(64512&h.charCodeAt(u+1))==56320}function l(h){return(h>>>24|h>>>8&65280|h<<8&16711680|(255&h)<<24)>>>0}function d(h){return h.length===1?"0"+h:h}function c(h){return h.length===7?"0"+h:h.length===6?"00"+h:h.length===5?"000"+h:h.length===4?"0000"+h:h.length===3?"00000"+h:h.length===2?"000000"+h:h.length===1?"0000000"+h:h}s.inherits=o,s.toArray=function(h,u){if(Array.isArray(h))return h.slice();if(!h)return[];var p=[];if(typeof h=="string")if(u){if(u==="hex")for((h=h.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(h="0"+h),g=0;g<h.length;g+=2)p.push(parseInt(h[g]+h[g+1],16))}else for(var f=0,g=0;g<h.length;g++){var m=h.charCodeAt(g);m<128?p[f++]=m:m<2048?(p[f++]=m>>6|192,p[f++]=63&m|128):a(h,g)?(m=65536+((1023&m)<<10)+(1023&h.charCodeAt(++g)),p[f++]=m>>18|240,p[f++]=m>>12&63|128,p[f++]=m>>6&63|128,p[f++]=63&m|128):(p[f++]=m>>12|224,p[f++]=m>>6&63|128,p[f++]=63&m|128)}else for(g=0;g<h.length;g++)p[g]=0|h[g];return p},s.toHex=function(h){for(var u="",p=0;p<h.length;p++)u+=d(h[p].toString(16));return u},s.htonl=l,s.toHex32=function(h,u){for(var p="",f=0;f<h.length;f++){var g=h[f];u==="little"&&(g=l(g)),p+=c(g.toString(16))}return p},s.zero2=d,s.zero8=c,s.join32=function(h,u,p,f){var g=p-u;r(g%4==0);for(var m=new Array(g/4),v=0,_=u;v<m.length;v++,_+=4){var x;x=f==="big"?h[_]<<24|h[_+1]<<16|h[_+2]<<8|h[_+3]:h[_+3]<<24|h[_+2]<<16|h[_+1]<<8|h[_],m[v]=x>>>0}return m},s.split32=function(h,u){for(var p=new Array(4*h.length),f=0,g=0;f<h.length;f++,g+=4){var m=h[f];u==="big"?(p[g]=m>>>24,p[g+1]=m>>>16&255,p[g+2]=m>>>8&255,p[g+3]=255&m):(p[g+3]=m>>>24,p[g+2]=m>>>16&255,p[g+1]=m>>>8&255,p[g]=255&m)}return p},s.rotr32=function(h,u){return h>>>u|h<<32-u},s.rotl32=function(h,u){return h<<u|h>>>32-u},s.sum32=function(h,u){return h+u>>>0},s.sum32_3=function(h,u,p){return h+u+p>>>0},s.sum32_4=function(h,u,p,f){return h+u+p+f>>>0},s.sum32_5=function(h,u,p,f,g){return h+u+p+f+g>>>0},s.sum64=function(h,u,p,f){var g=h[u],m=f+h[u+1]>>>0,v=(m<f?1:0)+p+g;h[u]=v>>>0,h[u+1]=m},s.sum64_hi=function(h,u,p,f){return(u+f>>>0<u?1:0)+h+p>>>0},s.sum64_lo=function(h,u,p,f){return u+f>>>0},s.sum64_4_hi=function(h,u,p,f,g,m,v,_){var x=0,y=u;return x+=(y=y+f>>>0)<u?1:0,x+=(y=y+m>>>0)<m?1:0,h+p+g+v+(x+=(y=y+_>>>0)<_?1:0)>>>0},s.sum64_4_lo=function(h,u,p,f,g,m,v,_){return u+f+m+_>>>0},s.sum64_5_hi=function(h,u,p,f,g,m,v,_,x,y){var T=0,O=u;return T+=(O=O+f>>>0)<u?1:0,T+=(O=O+m>>>0)<m?1:0,T+=(O=O+_>>>0)<_?1:0,h+p+g+v+x+(T+=(O=O+y>>>0)<y?1:0)>>>0},s.sum64_5_lo=function(h,u,p,f,g,m,v,_,x,y){return u+f+m+_+y>>>0},s.rotr64_hi=function(h,u,p){return(u<<32-p|h>>>p)>>>0},s.rotr64_lo=function(h,u,p){return(h<<32-p|u>>>p)>>>0},s.shr64_hi=function(h,u,p){return h>>>p},s.shr64_lo=function(h,u,p){return(h<<32-p|u>>>p)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(t,n,s){var r=t("hash.js"),o=t("minimalistic-crypto-utils"),a=t("minimalistic-assert");function l(d){if(!(this instanceof l))return new l(d);this.hash=d.hash,this.predResist=!!d.predResist,this.outLen=this.hash.outSize,this.minEntropy=d.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=o.toArray(d.entropy,d.entropyEnc||"hex"),h=o.toArray(d.nonce,d.nonceEnc||"hex"),u=o.toArray(d.pers,d.persEnc||"hex");a(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,h,u)}n.exports=l,l.prototype._init=function(d,c,h){var u=d.concat(c).concat(h);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var p=0;p<this.V.length;p++)this.K[p]=0,this.V[p]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},l.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},l.prototype._update=function(d){var c=this._hmac().update(this.V).update([0]);d&&(c=c.update(d)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),d&&(this.K=this._hmac().update(this.V).update([1]).update(d).digest(),this.V=this._hmac().update(this.V).digest())},l.prototype.reseed=function(d,c,h,u){typeof c!="string"&&(u=h,h=c,c=null),d=o.toArray(d,c),h=o.toArray(h,u),a(d.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(d.concat(h||[])),this._reseed=1},l.prototype.generate=function(d,c,h,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(u=h,h=c,c=null),h&&(h=o.toArray(h,u||"hex"),this._update(h));for(var p=[];p.length<d;)this.V=this._hmac().update(this.V).digest(),p=p.concat(this.V);var f=p.slice(0,d);return this._update(h),this._reseed++,o.encode(f,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(t,n,s){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */s.read=function(r,o,a,l,d){var c,h,u=8*d-l-1,p=(1<<u)-1,f=p>>1,g=-7,m=a?d-1:0,v=a?-1:1,_=r[o+m];for(m+=v,c=_&(1<<-g)-1,_>>=-g,g+=u;g>0;c=256*c+r[o+m],m+=v,g-=8);for(h=c&(1<<-g)-1,c>>=-g,g+=l;g>0;h=256*h+r[o+m],m+=v,g-=8);if(c===0)c=1-f;else{if(c===p)return h?NaN:1/0*(_?-1:1);h+=Math.pow(2,l),c-=f}return(_?-1:1)*h*Math.pow(2,c-l)},s.write=function(r,o,a,l,d,c){var h,u,p,f=8*c-d-1,g=(1<<f)-1,m=g>>1,v=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=l?0:c-1,x=l?1:-1,y=o<0||o===0&&1/o<0?1:0;for(o=Math.abs(o),isNaN(o)||o===1/0?(u=isNaN(o)?1:0,h=g):(h=Math.floor(Math.log(o)/Math.LN2),o*(p=Math.pow(2,-h))<1&&(h--,p*=2),(o+=h+m>=1?v/p:v*Math.pow(2,1-m))*p>=2&&(h++,p/=2),h+m>=g?(u=0,h=g):h+m>=1?(u=(o*p-1)*Math.pow(2,d),h+=m):(u=o*Math.pow(2,m-1)*Math.pow(2,d),h=0));d>=8;r[a+_]=255&u,_+=x,u/=256,d-=8);for(h=h<<d|u,f+=d;f>0;r[a+_]=255&h,_+=x,h/=256,f-=8);r[a+_-x]|=128*y}},{}],440:[function(t,n,s){typeof Object.create=="function"?n.exports=function(r,o){o&&(r.super_=o,r.prototype=Object.create(o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(r,o){if(o){r.super_=o;var a=function(){};a.prototype=o.prototype,r.prototype=new a,r.prototype.constructor=r}}},{}],441:[function(t,n,s){(function(r,o,a,l,d,c,h,u){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(p){typeof s=="object"&&n!==void 0?n.exports=p():(typeof window<"u"?window:o!==void 0?o:typeof self<"u"?self:this).JSZip=p()})(function(){return function p(f,g,m){function v(y,T){if(!g[y]){if(!f[y]){var O=typeof t=="function"&&t;if(!T&&O)return O(y,!0);if(_)return _(y,!0);var L=new Error("Cannot find module '"+y+"'");throw L.code="MODULE_NOT_FOUND",L}var R=g[y]={exports:{}};f[y][0].call(R.exports,function($){return v(f[y][1][$]||$)},R,R.exports,p,f,g,m)}return g[y].exports}for(var _=typeof t=="function"&&t,x=0;x<m.length;x++)v(m[x]);return v}({1:[function(p,f,g){var m=p("./utils"),v=p("./support"),_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";g.encode=function(x){for(var y,T,O,L,R,$,V,z=[],H=0,I=x.length,A=I,E=m.getTypeOf(x)!=="string";H<x.length;)A=I-H,O=E?(y=x[H++],T=H<I?x[H++]:0,H<I?x[H++]:0):(y=x.charCodeAt(H++),T=H<I?x.charCodeAt(H++):0,H<I?x.charCodeAt(H++):0),L=y>>2,R=(3&y)<<4|T>>4,$=1<A?(15&T)<<2|O>>6:64,V=2<A?63&O:64,z.push(_.charAt(L)+_.charAt(R)+_.charAt($)+_.charAt(V));return z.join("")},g.decode=function(x){var y,T,O,L,R,$,V=0,z=0,H="data:";if(x.substr(0,H.length)===H)throw new Error("Invalid base64 input, it looks like a data url.");var I,A=3*(x=x.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(x.charAt(x.length-1)===_.charAt(64)&&A--,x.charAt(x.length-2)===_.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(I=v.uint8array?new Uint8Array(0|A):new Array(0|A);V<x.length;)y=_.indexOf(x.charAt(V++))<<2|(L=_.indexOf(x.charAt(V++)))>>4,T=(15&L)<<4|(R=_.indexOf(x.charAt(V++)))>>2,O=(3&R)<<6|($=_.indexOf(x.charAt(V++))),I[z++]=y,R!==64&&(I[z++]=T),$!==64&&(I[z++]=O);return I}},{"./support":30,"./utils":32}],2:[function(p,f,g){var m=p("./external"),v=p("./stream/DataWorker"),_=p("./stream/Crc32Probe"),x=p("./stream/DataLengthProbe");function y(T,O,L,R,$){this.compressedSize=T,this.uncompressedSize=O,this.crc32=L,this.compression=R,this.compressedContent=$}y.prototype={getContentWorker:function(){var T=new v(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new x("data_length")),O=this;return T.on("end",function(){if(this.streamInfo.data_length!==O.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),T},getCompressedWorker:function(){return new v(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},y.createWorkerFrom=function(T,O,L){return T.pipe(new _).pipe(new x("uncompressedSize")).pipe(O.compressWorker(L)).pipe(new x("compressedSize")).withStreamInfo("compression",O)},f.exports=y},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(p,f,g){var m=p("./stream/GenericWorker");g.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},g.DEFLATE=p("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(p,f,g){var m=p("./utils"),v=function(){for(var _,x=[],y=0;y<256;y++){_=y;for(var T=0;T<8;T++)_=1&_?3988292384^_>>>1:_>>>1;x[y]=_}return x}();f.exports=function(_,x){return _!==void 0&&_.length?m.getTypeOf(_)!=="string"?function(y,T,O,L){var R=v,$=0+O;y^=-1;for(var V=0;V<$;V++)y=y>>>8^R[255&(y^T[V])];return-1^y}(0|x,_,_.length):function(y,T,O,L){var R=v,$=0+O;y^=-1;for(var V=0;V<$;V++)y=y>>>8^R[255&(y^T.charCodeAt(V))];return-1^y}(0|x,_,_.length):0}},{"./utils":32}],5:[function(p,f,g){g.base64=!1,g.binary=!1,g.dir=!1,g.createFolders=!0,g.date=null,g.compression=null,g.compressionOptions=null,g.comment=null,g.unixPermissions=null,g.dosPermissions=null},{}],6:[function(p,f,g){var m;m=typeof Promise<"u"?Promise:p("lie"),f.exports={Promise:m}},{lie:37}],7:[function(p,f,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",v=p("pako"),_=p("./utils"),x=p("./stream/GenericWorker"),y=m?"uint8array":"array";function T(O,L){x.call(this,"FlateWorker/"+O),this._pako=null,this._pakoAction=O,this._pakoOptions=L,this.meta={}}g.magic="\b\0",_.inherits(T,x),T.prototype.processChunk=function(O){this.meta=O.meta,this._pako===null&&this._createPako(),this._pako.push(_.transformTo(y,O.data),!1)},T.prototype.flush=function(){x.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},T.prototype.cleanUp=function(){x.prototype.cleanUp.call(this),this._pako=null},T.prototype._createPako=function(){this._pako=new v[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var O=this;this._pako.onData=function(L){O.push({data:L,meta:O.meta})}},g.compressWorker=function(O){return new T("Deflate",O)},g.uncompressWorker=function(){return new T("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(p,f,g){function m(R,$){var V,z="";for(V=0;V<$;V++)z+=String.fromCharCode(255&R),R>>>=8;return z}function v(R,$,V,z,H,I){var A,E,b=R.file,w=R.compression,C=I!==y.utf8encode,S=_.transformTo("string",I(b.name)),D=_.transformTo("string",y.utf8encode(b.name)),P=b.comment,k=_.transformTo("string",I(P)),U=_.transformTo("string",y.utf8encode(P)),W=D.length!==b.name.length,X=U.length!==P.length,j="",q="",B="",F=b.dir,K=b.date,ee={crc32:0,compressedSize:0,uncompressedSize:0};$&&!V||(ee.crc32=R.crc32,ee.compressedSize=R.compressedSize,ee.uncompressedSize=R.uncompressedSize);var Q=0;$&&(Q|=8),C||!W&&!X||(Q|=2048);var Z=0,J=0;F&&(Z|=16),H==="UNIX"?(J=798,Z|=function(ce,te){var oe=ce;return ce||(oe=te?16893:33204),(65535&oe)<<16}(b.unixPermissions,F)):(J=20,Z|=function(ce){return 63&(ce||0)}(b.dosPermissions)),A=K.getUTCHours(),A<<=6,A|=K.getUTCMinutes(),A<<=5,A|=K.getUTCSeconds()/2,E=K.getUTCFullYear()-1980,E<<=4,E|=K.getUTCMonth()+1,E<<=5,E|=K.getUTCDate(),W&&(q=m(1,1)+m(T(S),4)+D,j+="up"+m(q.length,2)+q),X&&(B=m(1,1)+m(T(k),4)+U,j+="uc"+m(B.length,2)+B);var ae="";return ae+=`
\0`,ae+=m(Q,2),ae+=w.magic,ae+=m(A,2),ae+=m(E,2),ae+=m(ee.crc32,4),ae+=m(ee.compressedSize,4),ae+=m(ee.uncompressedSize,4),ae+=m(S.length,2),ae+=m(j.length,2),{fileRecord:O.LOCAL_FILE_HEADER+ae+S+j,dirRecord:O.CENTRAL_FILE_HEADER+m(J,2)+ae+m(k.length,2)+"\0\0\0\0"+m(Z,4)+m(z,4)+S+j+k}}var _=p("../utils"),x=p("../stream/GenericWorker"),y=p("../utf8"),T=p("../crc32"),O=p("../signature");function L(R,$,V,z){x.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=$,this.zipPlatform=V,this.encodeFileName=z,this.streamFiles=R,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}_.inherits(L,x),L.prototype.push=function(R){var $=R.meta.percent||0,V=this.entriesCount,z=this._sources.length;this.accumulate?this.contentBuffer.push(R):(this.bytesWritten+=R.data.length,x.prototype.push.call(this,{data:R.data,meta:{currentFile:this.currentFile,percent:V?($+100*(V-z-1))/V:100}}))},L.prototype.openedSource=function(R){this.currentSourceOffset=this.bytesWritten,this.currentFile=R.file.name;var $=this.streamFiles&&!R.file.dir;if($){var V=v(R,$,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:V.fileRecord,meta:{percent:0}})}else this.accumulate=!0},L.prototype.closedSource=function(R){this.accumulate=!1;var $=this.streamFiles&&!R.file.dir,V=v(R,$,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(V.dirRecord),$)this.push({data:function(z){return O.DATA_DESCRIPTOR+m(z.crc32,4)+m(z.compressedSize,4)+m(z.uncompressedSize,4)}(R),meta:{percent:100}});else for(this.push({data:V.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},L.prototype.flush=function(){for(var R=this.bytesWritten,$=0;$<this.dirRecords.length;$++)this.push({data:this.dirRecords[$],meta:{percent:100}});var V=this.bytesWritten-R,z=function(H,I,A,E,b){var w=_.transformTo("string",b(E));return O.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(H,2)+m(H,2)+m(I,4)+m(A,4)+m(w.length,2)+w}(this.dirRecords.length,V,R,this.zipComment,this.encodeFileName);this.push({data:z,meta:{percent:100}})},L.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},L.prototype.registerPrevious=function(R){this._sources.push(R);var $=this;return R.on("data",function(V){$.processChunk(V)}),R.on("end",function(){$.closedSource($.previous.streamInfo),$._sources.length?$.prepareNextSource():$.end()}),R.on("error",function(V){$.error(V)}),this},L.prototype.resume=function(){return!!x.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},L.prototype.error=function(R){var $=this._sources;if(!x.prototype.error.call(this,R))return!1;for(var V=0;V<$.length;V++)try{$[V].error(R)}catch{}return!0},L.prototype.lock=function(){x.prototype.lock.call(this);for(var R=this._sources,$=0;$<R.length;$++)R[$].lock()},f.exports=L},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(p,f,g){var m=p("../compressions"),v=p("./ZipFileWorker");g.generateWorker=function(_,x,y){var T=new v(x.streamFiles,y,x.platform,x.encodeFileName),O=0;try{_.forEach(function(L,R){O++;var $=function(I,A){var E=I||A,b=m[E];if(!b)throw new Error(E+" is not a valid compression method !");return b}(R.options.compression,x.compression),V=R.options.compressionOptions||x.compressionOptions||{},z=R.dir,H=R.date;R._compressWorker($,V).withStreamInfo("file",{name:L,dir:z,date:H,comment:R.comment||"",unixPermissions:R.unixPermissions,dosPermissions:R.dosPermissions}).pipe(T)}),T.entriesCount=O}catch(L){T.error(L)}return T}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(p,f,g){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var v=new m;for(var _ in this)typeof this[_]!="function"&&(v[_]=this[_]);return v}}(m.prototype=p("./object")).loadAsync=p("./load"),m.support=p("./support"),m.defaults=p("./defaults"),m.version="3.10.1",m.loadAsync=function(v,_){return new m().loadAsync(v,_)},m.external=p("./external"),f.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(p,f,g){var m=p("./utils"),v=p("./external"),_=p("./utf8"),x=p("./zipEntries"),y=p("./stream/Crc32Probe"),T=p("./nodejsUtils");function O(L){return new v.Promise(function(R,$){var V=L.decompressed.getContentWorker().pipe(new y);V.on("error",function(z){$(z)}).on("end",function(){V.streamInfo.crc32!==L.decompressed.crc32?$(new Error("Corrupted zip : CRC32 mismatch")):R()}).resume()})}f.exports=function(L,R){var $=this;return R=m.extend(R||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:_.utf8decode}),T.isNode&&T.isStream(L)?v.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",L,!0,R.optimizedBinaryString,R.base64).then(function(V){var z=new x(R);return z.load(V),z}).then(function(V){var z=[v.Promise.resolve(V)],H=V.files;if(R.checkCRC32)for(var I=0;I<H.length;I++)z.push(O(H[I]));return v.Promise.all(z)}).then(function(V){for(var z=V.shift(),H=z.files,I=0;I<H.length;I++){var A=H[I],E=A.fileNameStr,b=m.resolve(A.fileNameStr);$.file(b,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:R.createFolders}),A.dir||($.file(b).unsafeOriginalName=E)}return z.zipComment.length&&($.comment=z.zipComment),$})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(p,f,g){var m=p("../utils"),v=p("../stream/GenericWorker");function _(x,y){v.call(this,"Nodejs stream input adapter for "+x),this._upstreamEnded=!1,this._bindStream(y)}m.inherits(_,v),_.prototype._bindStream=function(x){var y=this;(this._stream=x).pause(),x.on("data",function(T){y.push({data:T,meta:{percent:0}})}).on("error",function(T){y.isPaused?this.generatedError=T:y.error(T)}).on("end",function(){y.isPaused?y._upstreamEnded=!0:y.end()})},_.prototype.pause=function(){return!!v.prototype.pause.call(this)&&(this._stream.pause(),!0)},_.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},f.exports=_},{"../stream/GenericWorker":28,"../utils":32}],13:[function(p,f,g){var m=p("readable-stream").Readable;function v(_,x,y){m.call(this,x),this._helper=_;var T=this;_.on("data",function(O,L){T.push(O)||T._helper.pause(),y&&y(L)}).on("error",function(O){T.emit("error",O)}).on("end",function(){T.push(null)})}p("../utils").inherits(v,m),v.prototype._read=function(){this._helper.resume()},f.exports=v},{"../utils":32,"readable-stream":16}],14:[function(p,f,g){f.exports={isNode:a!==void 0,newBufferFrom:function(m,v){if(a.from&&a.from!==Uint8Array.from)return a.from(m,v);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new a(m,v)},allocBuffer:function(m){if(a.alloc)return a.alloc(m);var v=new a(m);return v.fill(0),v},isBuffer:function(m){return a.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(p,f,g){function m(b,w,C){var S,D=_.getTypeOf(w),P=_.extend(C||{},T);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(b=H(b)),P.createFolders&&(S=z(b))&&I.call(this,S,!0);var k=D==="string"&&P.binary===!1&&P.base64===!1;C&&C.binary!==void 0||(P.binary=!k),(w instanceof O&&w.uncompressedSize===0||P.dir||!w||w.length===0)&&(P.base64=!1,P.binary=!0,w="",P.compression="STORE",D="string");var U;U=w instanceof O||w instanceof x?w:$.isNode&&$.isStream(w)?new V(b,w):_.prepareContent(b,w,P.binary,P.optimizedBinaryString,P.base64);var W=new L(b,U,P);this.files[b]=W}var v=p("./utf8"),_=p("./utils"),x=p("./stream/GenericWorker"),y=p("./stream/StreamHelper"),T=p("./defaults"),O=p("./compressedObject"),L=p("./zipObject"),R=p("./generate"),$=p("./nodejsUtils"),V=p("./nodejs/NodejsStreamInputAdapter"),z=function(b){b.slice(-1)==="/"&&(b=b.substring(0,b.length-1));var w=b.lastIndexOf("/");return 0<w?b.substring(0,w):""},H=function(b){return b.slice(-1)!=="/"&&(b+="/"),b},I=function(b,w){return w=w!==void 0?w:T.createFolders,b=H(b),this.files[b]||m.call(this,b,null,{dir:!0,createFolders:w}),this.files[b]};function A(b){return Object.prototype.toString.call(b)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(b){var w,C,S;for(w in this.files)S=this.files[w],(C=w.slice(this.root.length,w.length))&&w.slice(0,this.root.length)===this.root&&b(C,S)},filter:function(b){var w=[];return this.forEach(function(C,S){b(C,S)&&w.push(S)}),w},file:function(b,w,C){if(arguments.length!==1)return b=this.root+b,m.call(this,b,w,C),this;if(A(b)){var S=b;return this.filter(function(P,k){return!k.dir&&S.test(P)})}var D=this.files[this.root+b];return D&&!D.dir?D:null},folder:function(b){if(!b)return this;if(A(b))return this.filter(function(D,P){return P.dir&&b.test(D)});var w=this.root+b,C=I.call(this,w),S=this.clone();return S.root=C.name,S},remove:function(b){b=this.root+b;var w=this.files[b];if(w||(b.slice(-1)!=="/"&&(b+="/"),w=this.files[b]),w&&!w.dir)delete this.files[b];else for(var C=this.filter(function(D,P){return P.name.slice(0,b.length)===b}),S=0;S<C.length;S++)delete this.files[C[S].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(b){var w,C={};try{if((C=_.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:v.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");_.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var S=C.comment||this.comment||"";w=R.generateWorker(this,C,S)}catch(D){(w=new x("error")).error(D)}return new y(w,C.type||"string",C.mimeType)},generateAsync:function(b,w){return this.generateInternalStream(b).accumulate(w)},generateNodeStream:function(b,w){return(b=b||{}).type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(w)}};f.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(p,f,g){f.exports=p("stream")},{stream:void 0}],17:[function(p,f,g){var m=p("./DataReader");function v(_){m.call(this,_);for(var x=0;x<this.data.length;x++)_[x]=255&_[x]}p("../utils").inherits(v,m),v.prototype.byteAt=function(_){return this.data[this.zero+_]},v.prototype.lastIndexOfSignature=function(_){for(var x=_.charCodeAt(0),y=_.charCodeAt(1),T=_.charCodeAt(2),O=_.charCodeAt(3),L=this.length-4;0<=L;--L)if(this.data[L]===x&&this.data[L+1]===y&&this.data[L+2]===T&&this.data[L+3]===O)return L-this.zero;return-1},v.prototype.readAndCheckSignature=function(_){var x=_.charCodeAt(0),y=_.charCodeAt(1),T=_.charCodeAt(2),O=_.charCodeAt(3),L=this.readData(4);return x===L[0]&&y===L[1]&&T===L[2]&&O===L[3]},v.prototype.readData=function(_){if(this.checkOffset(_),_===0)return[];var x=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,x},f.exports=v},{"../utils":32,"./DataReader":18}],18:[function(p,f,g){var m=p("../utils");function v(_){this.data=_,this.length=_.length,this.index=0,this.zero=0}v.prototype={checkOffset:function(_){this.checkIndex(this.index+_)},checkIndex:function(_){if(this.length<this.zero+_||_<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+_+"). Corrupted zip ?")},setIndex:function(_){this.checkIndex(_),this.index=_},skip:function(_){this.setIndex(this.index+_)},byteAt:function(){},readInt:function(_){var x,y=0;for(this.checkOffset(_),x=this.index+_-1;x>=this.index;x--)y=(y<<8)+this.byteAt(x);return this.index+=_,y},readString:function(_){return m.transformTo("string",this.readData(_))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var _=this.readInt(4);return new Date(Date.UTC(1980+(_>>25&127),(_>>21&15)-1,_>>16&31,_>>11&31,_>>5&63,(31&_)<<1))}},f.exports=v},{"../utils":32}],19:[function(p,f,g){var m=p("./Uint8ArrayReader");function v(_){m.call(this,_)}p("../utils").inherits(v,m),v.prototype.readData=function(_){this.checkOffset(_);var x=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,x},f.exports=v},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(p,f,g){var m=p("./DataReader");function v(_){m.call(this,_)}p("../utils").inherits(v,m),v.prototype.byteAt=function(_){return this.data.charCodeAt(this.zero+_)},v.prototype.lastIndexOfSignature=function(_){return this.data.lastIndexOf(_)-this.zero},v.prototype.readAndCheckSignature=function(_){return _===this.readData(4)},v.prototype.readData=function(_){this.checkOffset(_);var x=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,x},f.exports=v},{"../utils":32,"./DataReader":18}],21:[function(p,f,g){var m=p("./ArrayReader");function v(_){m.call(this,_)}p("../utils").inherits(v,m),v.prototype.readData=function(_){if(this.checkOffset(_),_===0)return new Uint8Array(0);var x=this.data.subarray(this.zero+this.index,this.zero+this.index+_);return this.index+=_,x},f.exports=v},{"../utils":32,"./ArrayReader":17}],22:[function(p,f,g){var m=p("../utils"),v=p("../support"),_=p("./ArrayReader"),x=p("./StringReader"),y=p("./NodeBufferReader"),T=p("./Uint8ArrayReader");f.exports=function(O){var L=m.getTypeOf(O);return m.checkSupport(L),L!=="string"||v.uint8array?L==="nodebuffer"?new y(O):v.uint8array?new T(m.transformTo("uint8array",O)):new _(m.transformTo("array",O)):new x(O)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(p,f,g){g.LOCAL_FILE_HEADER="PK",g.CENTRAL_FILE_HEADER="PK",g.CENTRAL_DIRECTORY_END="PK",g.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",g.ZIP64_CENTRAL_DIRECTORY_END="PK",g.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(p,f,g){var m=p("./GenericWorker"),v=p("../utils");function _(x){m.call(this,"ConvertWorker to "+x),this.destType=x}v.inherits(_,m),_.prototype.processChunk=function(x){this.push({data:v.transformTo(this.destType,x.data),meta:x.meta})},f.exports=_},{"../utils":32,"./GenericWorker":28}],25:[function(p,f,g){var m=p("./GenericWorker"),v=p("../crc32");function _(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}p("../utils").inherits(_,m),_.prototype.processChunk=function(x){this.streamInfo.crc32=v(x.data,this.streamInfo.crc32||0),this.push(x)},f.exports=_},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(p,f,g){var m=p("../utils"),v=p("./GenericWorker");function _(x){v.call(this,"DataLengthProbe for "+x),this.propName=x,this.withStreamInfo(x,0)}m.inherits(_,v),_.prototype.processChunk=function(x){if(x){var y=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=y+x.data.length}v.prototype.processChunk.call(this,x)},f.exports=_},{"../utils":32,"./GenericWorker":28}],27:[function(p,f,g){var m=p("../utils"),v=p("./GenericWorker");function _(x){v.call(this,"DataWorker");var y=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,x.then(function(T){y.dataIsReady=!0,y.data=T,y.max=T&&T.length||0,y.type=m.getTypeOf(T),y.isPaused||y._tickAndRepeat()},function(T){y.error(T)})}m.inherits(_,v),_.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this.data=null},_.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},_.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},_.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var x=null,y=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":x=this.data.substring(this.index,y);break;case"uint8array":x=this.data.subarray(this.index,y);break;case"array":case"nodebuffer":x=this.data.slice(this.index,y)}return this.index=y,this.push({data:x,meta:{percent:this.max?this.index/this.max*100:0}})},f.exports=_},{"../utils":32,"./GenericWorker":28}],28:[function(p,f,g){function m(v){this.name=v||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(v){this.emit("data",v)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(v){this.emit("error",v)}return!0},error:function(v){return!this.isFinished&&(this.isPaused?this.generatedError=v:(this.isFinished=!0,this.emit("error",v),this.previous&&this.previous.error(v),this.cleanUp()),!0)},on:function(v,_){return this._listeners[v].push(_),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(v,_){if(this._listeners[v])for(var x=0;x<this._listeners[v].length;x++)this._listeners[v][x].call(this,_)},pipe:function(v){return v.registerPrevious(this)},registerPrevious:function(v){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=v.streamInfo,this.mergeStreamInfo(),this.previous=v;var _=this;return v.on("data",function(x){_.processChunk(x)}),v.on("end",function(){_.end()}),v.on("error",function(x){_.error(x)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var v=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),v=!0),this.previous&&this.previous.resume(),!v},flush:function(){},processChunk:function(v){this.push(v)},withStreamInfo:function(v,_){return this.extraStreamInfo[v]=_,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var v in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,v)&&(this.streamInfo[v]=this.extraStreamInfo[v])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var v="Worker "+this.name;return this.previous?this.previous+" -> "+v:v}},f.exports=m},{}],29:[function(p,f,g){var m=p("../utils"),v=p("./ConvertWorker"),_=p("./GenericWorker"),x=p("../base64"),y=p("../support"),T=p("../external"),O=null;if(y.nodestream)try{O=p("../nodejs/NodejsStreamOutputAdapter")}catch{}function L(R,$,V){var z=$;switch($){case"blob":case"arraybuffer":z="uint8array";break;case"base64":z="string"}try{this._internalType=z,this._outputType=$,this._mimeType=V,m.checkSupport(z),this._worker=R.pipe(new v(z)),R.lock()}catch(H){this._worker=new _("error"),this._worker.error(H)}}L.prototype={accumulate:function(R){return function($,V){return new T.Promise(function(z,H){var I=[],A=$._internalType,E=$._outputType,b=$._mimeType;$.on("data",function(w,C){I.push(w),V&&V(C)}).on("error",function(w){I=[],H(w)}).on("end",function(){try{var w=function(C,S,D){switch(C){case"blob":return m.newBlob(m.transformTo("arraybuffer",S),D);case"base64":return x.encode(S);default:return m.transformTo(C,S)}}(E,function(C,S){var D,P=0,k=null,U=0;for(D=0;D<S.length;D++)U+=S[D].length;switch(C){case"string":return S.join("");case"array":return Array.prototype.concat.apply([],S);case"uint8array":for(k=new Uint8Array(U),D=0;D<S.length;D++)k.set(S[D],P),P+=S[D].length;return k;case"nodebuffer":return a.concat(S);default:throw new Error("concat : unsupported type '"+C+"'")}}(A,I),b);z(w)}catch(C){H(C)}I=[]}).resume()})}(this,R)},on:function(R,$){var V=this;return R==="data"?this._worker.on(R,function(z){$.call(V,z.data,z.meta)}):this._worker.on(R,function(){m.delay($,arguments,V)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(R){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new O(this,{objectMode:this._outputType!=="nodebuffer"},R)}},f.exports=L},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(p,f,g){if(g.base64=!0,g.array=!0,g.string=!0,g.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",g.nodebuffer=a!==void 0,g.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")g.blob=!1;else{var m=new ArrayBuffer(0);try{g.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);v.append(m),g.blob=v.getBlob("application/zip").size===0}catch{g.blob=!1}}}try{g.nodestream=!!p("readable-stream").Readable}catch{g.nodestream=!1}},{"readable-stream":16}],31:[function(p,f,g){for(var m=p("./utils"),v=p("./support"),_=p("./nodejsUtils"),x=p("./stream/GenericWorker"),y=new Array(256),T=0;T<256;T++)y[T]=252<=T?6:248<=T?5:240<=T?4:224<=T?3:192<=T?2:1;function O(){x.call(this,"utf-8 decode"),this.leftOver=null}function L(){x.call(this,"utf-8 encode")}y[254]=y[254]=1,g.utf8encode=function(R){return v.nodebuffer?_.newBufferFrom(R,"utf-8"):function($){var V,z,H,I,A,E=$.length,b=0;for(I=0;I<E;I++)(64512&(z=$.charCodeAt(I)))==55296&&I+1<E&&(64512&(H=$.charCodeAt(I+1)))==56320&&(z=65536+(z-55296<<10)+(H-56320),I++),b+=z<128?1:z<2048?2:z<65536?3:4;for(V=v.uint8array?new Uint8Array(b):new Array(b),I=A=0;A<b;I++)(64512&(z=$.charCodeAt(I)))==55296&&I+1<E&&(64512&(H=$.charCodeAt(I+1)))==56320&&(z=65536+(z-55296<<10)+(H-56320),I++),z<128?V[A++]=z:(z<2048?V[A++]=192|z>>>6:(z<65536?V[A++]=224|z>>>12:(V[A++]=240|z>>>18,V[A++]=128|z>>>12&63),V[A++]=128|z>>>6&63),V[A++]=128|63&z);return V}(R)},g.utf8decode=function(R){return v.nodebuffer?m.transformTo("nodebuffer",R).toString("utf-8"):function($){var V,z,H,I,A=$.length,E=new Array(2*A);for(V=z=0;V<A;)if((H=$[V++])<128)E[z++]=H;else if(4<(I=y[H]))E[z++]=65533,V+=I-1;else{for(H&=I===2?31:I===3?15:7;1<I&&V<A;)H=H<<6|63&$[V++],I--;1<I?E[z++]=65533:H<65536?E[z++]=H:(H-=65536,E[z++]=55296|H>>10&1023,E[z++]=56320|1023&H)}return E.length!==z&&(E.subarray?E=E.subarray(0,z):E.length=z),m.applyFromCharCode(E)}(R=m.transformTo(v.uint8array?"uint8array":"array",R))},m.inherits(O,x),O.prototype.processChunk=function(R){var $=m.transformTo(v.uint8array?"uint8array":"array",R.data);if(this.leftOver&&this.leftOver.length){if(v.uint8array){var V=$;($=new Uint8Array(V.length+this.leftOver.length)).set(this.leftOver,0),$.set(V,this.leftOver.length)}else $=this.leftOver.concat($);this.leftOver=null}var z=function(I,A){var E;for((A=A||I.length)>I.length&&(A=I.length),E=A-1;0<=E&&(192&I[E])==128;)E--;return E<0||E===0?A:E+y[I[E]]>A?E:A}($),H=$;z!==$.length&&(v.uint8array?(H=$.subarray(0,z),this.leftOver=$.subarray(z,$.length)):(H=$.slice(0,z),this.leftOver=$.slice(z,$.length))),this.push({data:g.utf8decode(H),meta:R.meta})},O.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:g.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},g.Utf8DecodeWorker=O,m.inherits(L,x),L.prototype.processChunk=function(R){this.push({data:g.utf8encode(R.data),meta:R.meta})},g.Utf8EncodeWorker=L},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(p,f,g){var m=p("./support"),v=p("./base64"),_=p("./nodejsUtils"),x=p("./external");function y(V){return V}function T(V,z){for(var H=0;H<V.length;++H)z[H]=255&V.charCodeAt(H);return z}p("setimmediate"),g.newBlob=function(V,z){g.checkSupport("blob");try{return new Blob([V],{type:z})}catch{try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return H.append(V),H.getBlob(z)}catch{throw new Error("Bug : can't construct the Blob.")}}};var O={stringifyByChunk:function(V,z,H){var I=[],A=0,E=V.length;if(E<=H)return String.fromCharCode.apply(null,V);for(;A<E;)z==="array"||z==="nodebuffer"?I.push(String.fromCharCode.apply(null,V.slice(A,Math.min(A+H,E)))):I.push(String.fromCharCode.apply(null,V.subarray(A,Math.min(A+H,E)))),A+=H;return I.join("")},stringifyByChar:function(V){for(var z="",H=0;H<V.length;H++)z+=String.fromCharCode(V[H]);return z},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,_.allocBuffer(1)).length===1}catch{return!1}}()}};function L(V){var z=65536,H=g.getTypeOf(V),I=!0;if(H==="uint8array"?I=O.applyCanBeUsed.uint8array:H==="nodebuffer"&&(I=O.applyCanBeUsed.nodebuffer),I)for(;1<z;)try{return O.stringifyByChunk(V,H,z)}catch{z=Math.floor(z/2)}return O.stringifyByChar(V)}function R(V,z){for(var H=0;H<V.length;H++)z[H]=V[H];return z}g.applyFromCharCode=L;var $={};$.string={string:y,array:function(V){return T(V,new Array(V.length))},arraybuffer:function(V){return $.string.uint8array(V).buffer},uint8array:function(V){return T(V,new Uint8Array(V.length))},nodebuffer:function(V){return T(V,_.allocBuffer(V.length))}},$.array={string:L,array:y,arraybuffer:function(V){return new Uint8Array(V).buffer},uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return _.newBufferFrom(V)}},$.arraybuffer={string:function(V){return L(new Uint8Array(V))},array:function(V){return R(new Uint8Array(V),new Array(V.byteLength))},arraybuffer:y,uint8array:function(V){return new Uint8Array(V)},nodebuffer:function(V){return _.newBufferFrom(new Uint8Array(V))}},$.uint8array={string:L,array:function(V){return R(V,new Array(V.length))},arraybuffer:function(V){return V.buffer},uint8array:y,nodebuffer:function(V){return _.newBufferFrom(V)}},$.nodebuffer={string:L,array:function(V){return R(V,new Array(V.length))},arraybuffer:function(V){return $.nodebuffer.uint8array(V).buffer},uint8array:function(V){return R(V,new Uint8Array(V.length))},nodebuffer:y},g.transformTo=function(V,z){if(z=z||"",!V)return z;g.checkSupport(V);var H=g.getTypeOf(z);return $[H][V](z)},g.resolve=function(V){for(var z=V.split("/"),H=[],I=0;I<z.length;I++){var A=z[I];A==="."||A===""&&I!==0&&I!==z.length-1||(A===".."?H.pop():H.push(A))}return H.join("/")},g.getTypeOf=function(V){return typeof V=="string"?"string":Object.prototype.toString.call(V)==="[object Array]"?"array":m.nodebuffer&&_.isBuffer(V)?"nodebuffer":m.uint8array&&V instanceof Uint8Array?"uint8array":m.arraybuffer&&V instanceof ArrayBuffer?"arraybuffer":void 0},g.checkSupport=function(V){if(!m[V.toLowerCase()])throw new Error(V+" is not supported by this platform")},g.MAX_VALUE_16BITS=65535,g.MAX_VALUE_32BITS=-1,g.pretty=function(V){var z,H,I="";for(H=0;H<(V||"").length;H++)I+="\\x"+((z=V.charCodeAt(H))<16?"0":"")+z.toString(16).toUpperCase();return I},g.delay=function(V,z,H){u(function(){V.apply(H||null,z||[])})},g.inherits=function(V,z){function H(){}H.prototype=z.prototype,V.prototype=new H},g.extend=function(){var V,z,H={};for(V=0;V<arguments.length;V++)for(z in arguments[V])Object.prototype.hasOwnProperty.call(arguments[V],z)&&H[z]===void 0&&(H[z]=arguments[V][z]);return H},g.prepareContent=function(V,z,H,I,A){return x.Promise.resolve(z).then(function(E){return m.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new x.Promise(function(b,w){var C=new FileReader;C.onload=function(S){b(S.target.result)},C.onerror=function(S){w(S.target.error)},C.readAsArrayBuffer(E)}):E}).then(function(E){var b=g.getTypeOf(E);return b?(b==="arraybuffer"?E=g.transformTo("uint8array",E):b==="string"&&(A?E=v.decode(E):H&&I!==!0&&(E=function(w){return T(w,m.uint8array?new Uint8Array(w.length):new Array(w.length))}(E))),E):x.Promise.reject(new Error("Can't read the data of '"+V+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(p,f,g){var m=p("./reader/readerFor"),v=p("./utils"),_=p("./signature"),x=p("./zipEntry"),y=p("./support");function T(O){this.files=[],this.loadOptions=O}T.prototype={checkSignature:function(O){if(!this.reader.readAndCheckSignature(O)){this.reader.index-=4;var L=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+v.pretty(L)+", expected "+v.pretty(O)+")")}},isSignature:function(O,L){var R=this.reader.index;this.reader.setIndex(O);var $=this.reader.readString(4)===L;return this.reader.setIndex(R),$},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var O=this.reader.readData(this.zipCommentLength),L=y.uint8array?"uint8array":"array",R=v.transformTo(L,O);this.zipComment=this.loadOptions.decodeFileName(R)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var O,L,R,$=this.zip64EndOfCentralSize-44;0<$;)O=this.reader.readInt(2),L=this.reader.readInt(4),R=this.reader.readData(L),this.zip64ExtensibleData[O]={id:O,length:L,value:R}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var O,L;for(O=0;O<this.files.length;O++)L=this.files[O],this.reader.setIndex(L.localHeaderOffset),this.checkSignature(_.LOCAL_FILE_HEADER),L.readLocalPart(this.reader),L.handleUTF8(),L.processAttributes()},readCentralDir:function(){var O;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(_.CENTRAL_FILE_HEADER);)(O=new x({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(O);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var O=this.reader.lastIndexOfSignature(_.CENTRAL_DIRECTORY_END);if(O<0)throw this.isSignature(0,_.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(O);var L=O;if(this.checkSignature(_.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===v.MAX_VALUE_16BITS||this.diskWithCentralDirStart===v.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===v.MAX_VALUE_16BITS||this.centralDirRecords===v.MAX_VALUE_16BITS||this.centralDirSize===v.MAX_VALUE_32BITS||this.centralDirOffset===v.MAX_VALUE_32BITS){if(this.zip64=!0,(O=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(O),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,_.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var R=this.centralDirOffset+this.centralDirSize;this.zip64&&(R+=20,R+=12+this.zip64EndOfCentralSize);var $=L-R;if(0<$)this.isSignature(L,_.CENTRAL_FILE_HEADER)||(this.reader.zero=$);else if($<0)throw new Error("Corrupted zip: missing "+Math.abs($)+" bytes.")},prepareReader:function(O){this.reader=m(O)},load:function(O){this.prepareReader(O),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},f.exports=T},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(p,f,g){var m=p("./reader/readerFor"),v=p("./utils"),_=p("./compressedObject"),x=p("./crc32"),y=p("./utf8"),T=p("./compressions"),O=p("./support");function L(R,$){this.options=R,this.loadOptions=$}L.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(R){var $,V;if(R.skip(22),this.fileNameLength=R.readInt(2),V=R.readInt(2),this.fileName=R.readData(this.fileNameLength),R.skip(V),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(($=function(z){for(var H in T)if(Object.prototype.hasOwnProperty.call(T,H)&&T[H].magic===z)return T[H];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+v.pretty(this.compressionMethod)+" unknown (inner file : "+v.transformTo("string",this.fileName)+")");this.decompressed=new _(this.compressedSize,this.uncompressedSize,this.crc32,$,R.readData(this.compressedSize))},readCentralPart:function(R){this.versionMadeBy=R.readInt(2),R.skip(2),this.bitFlag=R.readInt(2),this.compressionMethod=R.readString(2),this.date=R.readDate(),this.crc32=R.readInt(4),this.compressedSize=R.readInt(4),this.uncompressedSize=R.readInt(4);var $=R.readInt(2);if(this.extraFieldsLength=R.readInt(2),this.fileCommentLength=R.readInt(2),this.diskNumberStart=R.readInt(2),this.internalFileAttributes=R.readInt(2),this.externalFileAttributes=R.readInt(4),this.localHeaderOffset=R.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");R.skip($),this.readExtraFields(R),this.parseZIP64ExtraField(R),this.fileComment=R.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var R=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),R==0&&(this.dosPermissions=63&this.externalFileAttributes),R==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var R=m(this.extraFields[1].value);this.uncompressedSize===v.MAX_VALUE_32BITS&&(this.uncompressedSize=R.readInt(8)),this.compressedSize===v.MAX_VALUE_32BITS&&(this.compressedSize=R.readInt(8)),this.localHeaderOffset===v.MAX_VALUE_32BITS&&(this.localHeaderOffset=R.readInt(8)),this.diskNumberStart===v.MAX_VALUE_32BITS&&(this.diskNumberStart=R.readInt(4))}},readExtraFields:function(R){var $,V,z,H=R.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});R.index+4<H;)$=R.readInt(2),V=R.readInt(2),z=R.readData(V),this.extraFields[$]={id:$,length:V,value:z};R.setIndex(H)},handleUTF8:function(){var R=O.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=y.utf8decode(this.fileName),this.fileCommentStr=y.utf8decode(this.fileComment);else{var $=this.findExtraFieldUnicodePath();if($!==null)this.fileNameStr=$;else{var V=v.transformTo(R,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(V)}var z=this.findExtraFieldUnicodeComment();if(z!==null)this.fileCommentStr=z;else{var H=v.transformTo(R,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(H)}}},findExtraFieldUnicodePath:function(){var R=this.extraFields[28789];if(R){var $=m(R.value);return $.readInt(1)!==1||x(this.fileName)!==$.readInt(4)?null:y.utf8decode($.readData(R.length-5))}return null},findExtraFieldUnicodeComment:function(){var R=this.extraFields[25461];if(R){var $=m(R.value);return $.readInt(1)!==1||x(this.fileComment)!==$.readInt(4)?null:y.utf8decode($.readData(R.length-5))}return null}},f.exports=L},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(p,f,g){function m($,V,z){this.name=$,this.dir=z.dir,this.date=z.date,this.comment=z.comment,this.unixPermissions=z.unixPermissions,this.dosPermissions=z.dosPermissions,this._data=V,this._dataBinary=z.binary,this.options={compression:z.compression,compressionOptions:z.compressionOptions}}var v=p("./stream/StreamHelper"),_=p("./stream/DataWorker"),x=p("./utf8"),y=p("./compressedObject"),T=p("./stream/GenericWorker");m.prototype={internalStream:function($){var V=null,z="string";try{if(!$)throw new Error("No output type specified.");var H=(z=$.toLowerCase())==="string"||z==="text";z!=="binarystring"&&z!=="text"||(z="string"),V=this._decompressWorker();var I=!this._dataBinary;I&&!H&&(V=V.pipe(new x.Utf8EncodeWorker)),!I&&H&&(V=V.pipe(new x.Utf8DecodeWorker))}catch(A){(V=new T("error")).error(A)}return new v(V,z,"")},async:function($,V){return this.internalStream($).accumulate(V)},nodeStream:function($,V){return this.internalStream($||"nodebuffer").toNodejsStream(V)},_compressWorker:function($,V){if(this._data instanceof y&&this._data.compression.magic===$.magic)return this._data.getCompressedWorker();var z=this._decompressWorker();return this._dataBinary||(z=z.pipe(new x.Utf8EncodeWorker)),y.createWorkerFrom(z,$,V)},_decompressWorker:function(){return this._data instanceof y?this._data.getContentWorker():this._data instanceof T?this._data:new _(this._data)}};for(var O=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],L=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},R=0;R<O.length;R++)m.prototype[O[R]]=L;f.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(p,f,g){(function(m){var v,_,x=m.MutationObserver||m.WebKitMutationObserver;if(x){var y=0,T=new x($),O=m.document.createTextNode("");T.observe(O,{characterData:!0}),v=function(){O.data=y=++y%2}}else if(m.setImmediate||m.MessageChannel===void 0)v="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var V=m.document.createElement("script");V.onreadystatechange=function(){$(),V.onreadystatechange=null,V.parentNode.removeChild(V),V=null},m.document.documentElement.appendChild(V)}:function(){setTimeout($,0)};else{var L=new m.MessageChannel;L.port1.onmessage=$,v=function(){L.port2.postMessage(0)}}var R=[];function $(){var V,z;_=!0;for(var H=R.length;H;){for(z=R,R=[],V=-1;++V<H;)z[V]();H=R.length}_=!1}f.exports=function(V){R.push(V)!==1||_||v()}}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(p,f,g){var m=p("immediate");function v(){}var _={},x=["REJECTED"],y=["FULFILLED"],T=["PENDING"];function O(H){if(typeof H!="function")throw new TypeError("resolver must be a function");this.state=T,this.queue=[],this.outcome=void 0,H!==v&&V(this,H)}function L(H,I,A){this.promise=H,typeof I=="function"&&(this.onFulfilled=I,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function R(H,I,A){m(function(){var E;try{E=I(A)}catch(b){return _.reject(H,b)}E===H?_.reject(H,new TypeError("Cannot resolve promise with itself")):_.resolve(H,E)})}function $(H){var I=H&&H.then;if(H&&(typeof H=="object"||typeof H=="function")&&typeof I=="function")return function(){I.apply(H,arguments)}}function V(H,I){var A=!1;function E(C){A||(A=!0,_.reject(H,C))}function b(C){A||(A=!0,_.resolve(H,C))}var w=z(function(){I(b,E)});w.status==="error"&&E(w.value)}function z(H,I){var A={};try{A.value=H(I),A.status="success"}catch(E){A.status="error",A.value=E}return A}(f.exports=O).prototype.finally=function(H){if(typeof H!="function")return this;var I=this.constructor;return this.then(function(A){return I.resolve(H()).then(function(){return A})},function(A){return I.resolve(H()).then(function(){throw A})})},O.prototype.catch=function(H){return this.then(null,H)},O.prototype.then=function(H,I){if(typeof H!="function"&&this.state===y||typeof I!="function"&&this.state===x)return this;var A=new this.constructor(v);return this.state!==T?R(A,this.state===y?H:I,this.outcome):this.queue.push(new L(A,H,I)),A},L.prototype.callFulfilled=function(H){_.resolve(this.promise,H)},L.prototype.otherCallFulfilled=function(H){R(this.promise,this.onFulfilled,H)},L.prototype.callRejected=function(H){_.reject(this.promise,H)},L.prototype.otherCallRejected=function(H){R(this.promise,this.onRejected,H)},_.resolve=function(H,I){var A=z($,I);if(A.status==="error")return _.reject(H,A.value);var E=A.value;if(E)V(H,E);else{H.state=y,H.outcome=I;for(var b=-1,w=H.queue.length;++b<w;)H.queue[b].callFulfilled(I)}return H},_.reject=function(H,I){H.state=x,H.outcome=I;for(var A=-1,E=H.queue.length;++A<E;)H.queue[A].callRejected(I);return H},O.resolve=function(H){return H instanceof this?H:_.resolve(new this(v),H)},O.reject=function(H){var I=new this(v);return _.reject(I,H)},O.all=function(H){var I=this;if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=H.length,E=!1;if(!A)return this.resolve([]);for(var b=new Array(A),w=0,C=-1,S=new this(v);++C<A;)D(H[C],C);return S;function D(P,k){I.resolve(P).then(function(U){b[k]=U,++w!==A||E||(E=!0,_.resolve(S,b))},function(U){E||(E=!0,_.reject(S,U))})}},O.race=function(H){if(Object.prototype.toString.call(H)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=H.length,A=!1;if(!I)return this.resolve([]);for(var E,b=-1,w=new this(v);++b<I;)E=H[b],this.resolve(E).then(function(C){A||(A=!0,_.resolve(w,C))},function(C){A||(A=!0,_.reject(w,C))});return w}},{immediate:36}],38:[function(p,f,g){var m={};(0,p("./lib/utils/common").assign)(m,p("./lib/deflate"),p("./lib/inflate"),p("./lib/zlib/constants")),f.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(p,f,g){var m=p("./zlib/deflate"),v=p("./utils/common"),_=p("./utils/strings"),x=p("./zlib/messages"),y=p("./zlib/zstream"),T=Object.prototype.toString;function O(R){if(!(this instanceof O))return new O(R);this.options=v.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},R||{});var $=this.options;$.raw&&0<$.windowBits?$.windowBits=-$.windowBits:$.gzip&&0<$.windowBits&&$.windowBits<16&&($.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new y,this.strm.avail_out=0;var V=m.deflateInit2(this.strm,$.level,$.method,$.windowBits,$.memLevel,$.strategy);if(V!==0)throw new Error(x[V]);if($.header&&m.deflateSetHeader(this.strm,$.header),$.dictionary){var z;if(z=typeof $.dictionary=="string"?_.string2buf($.dictionary):T.call($.dictionary)==="[object ArrayBuffer]"?new Uint8Array($.dictionary):$.dictionary,(V=m.deflateSetDictionary(this.strm,z))!==0)throw new Error(x[V]);this._dict_set=!0}}function L(R,$){var V=new O($);if(V.push(R,!0),V.err)throw V.msg||x[V.err];return V.result}O.prototype.push=function(R,$){var V,z,H=this.strm,I=this.options.chunkSize;if(this.ended)return!1;z=$===~~$?$:$===!0?4:0,typeof R=="string"?H.input=_.string2buf(R):T.call(R)==="[object ArrayBuffer]"?H.input=new Uint8Array(R):H.input=R,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new v.Buf8(I),H.next_out=0,H.avail_out=I),(V=m.deflate(H,z))!==1&&V!==0)return this.onEnd(V),!(this.ended=!0);H.avail_out!==0&&(H.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(_.buf2binstring(v.shrinkBuf(H.output,H.next_out))):this.onData(v.shrinkBuf(H.output,H.next_out)))}while((0<H.avail_in||H.avail_out===0)&&V!==1);return z===4?(V=m.deflateEnd(this.strm),this.onEnd(V),this.ended=!0,V===0):z!==2||(this.onEnd(0),!(H.avail_out=0))},O.prototype.onData=function(R){this.chunks.push(R)},O.prototype.onEnd=function(R){R===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},g.Deflate=O,g.deflate=L,g.deflateRaw=function(R,$){return($=$||{}).raw=!0,L(R,$)},g.gzip=function(R,$){return($=$||{}).gzip=!0,L(R,$)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(p,f,g){var m=p("./zlib/inflate"),v=p("./utils/common"),_=p("./utils/strings"),x=p("./zlib/constants"),y=p("./zlib/messages"),T=p("./zlib/zstream"),O=p("./zlib/gzheader"),L=Object.prototype.toString;function R(V){if(!(this instanceof R))return new R(V);this.options=v.assign({chunkSize:16384,windowBits:0,to:""},V||{});var z=this.options;z.raw&&0<=z.windowBits&&z.windowBits<16&&(z.windowBits=-z.windowBits,z.windowBits===0&&(z.windowBits=-15)),!(0<=z.windowBits&&z.windowBits<16)||V&&V.windowBits||(z.windowBits+=32),15<z.windowBits&&z.windowBits<48&&!(15&z.windowBits)&&(z.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new T,this.strm.avail_out=0;var H=m.inflateInit2(this.strm,z.windowBits);if(H!==x.Z_OK)throw new Error(y[H]);this.header=new O,m.inflateGetHeader(this.strm,this.header)}function $(V,z){var H=new R(z);if(H.push(V,!0),H.err)throw H.msg||y[H.err];return H.result}R.prototype.push=function(V,z){var H,I,A,E,b,w,C=this.strm,S=this.options.chunkSize,D=this.options.dictionary,P=!1;if(this.ended)return!1;I=z===~~z?z:z===!0?x.Z_FINISH:x.Z_NO_FLUSH,typeof V=="string"?C.input=_.binstring2buf(V):L.call(V)==="[object ArrayBuffer]"?C.input=new Uint8Array(V):C.input=V,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new v.Buf8(S),C.next_out=0,C.avail_out=S),(H=m.inflate(C,x.Z_NO_FLUSH))===x.Z_NEED_DICT&&D&&(w=typeof D=="string"?_.string2buf(D):L.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,H=m.inflateSetDictionary(this.strm,w)),H===x.Z_BUF_ERROR&&P===!0&&(H=x.Z_OK,P=!1),H!==x.Z_STREAM_END&&H!==x.Z_OK)return this.onEnd(H),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&H!==x.Z_STREAM_END&&(C.avail_in!==0||I!==x.Z_FINISH&&I!==x.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=_.utf8border(C.output,C.next_out),E=C.next_out-A,b=_.buf2string(C.output,A),C.next_out=E,C.avail_out=S-E,E&&v.arraySet(C.output,C.output,A,E,0),this.onData(b)):this.onData(v.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(P=!0)}while((0<C.avail_in||C.avail_out===0)&&H!==x.Z_STREAM_END);return H===x.Z_STREAM_END&&(I=x.Z_FINISH),I===x.Z_FINISH?(H=m.inflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===x.Z_OK):I!==x.Z_SYNC_FLUSH||(this.onEnd(x.Z_OK),!(C.avail_out=0))},R.prototype.onData=function(V){this.chunks.push(V)},R.prototype.onEnd=function(V){V===x.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=v.flattenChunks(this.chunks)),this.chunks=[],this.err=V,this.msg=this.strm.msg},g.Inflate=R,g.inflate=$,g.inflateRaw=function(V,z){return(z=z||{}).raw=!0,$(V,z)},g.ungzip=$},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(p,f,g){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";g.assign=function(x){for(var y=Array.prototype.slice.call(arguments,1);y.length;){var T=y.shift();if(T){if(typeof T!="object")throw new TypeError(T+"must be non-object");for(var O in T)T.hasOwnProperty(O)&&(x[O]=T[O])}}return x},g.shrinkBuf=function(x,y){return x.length===y?x:x.subarray?x.subarray(0,y):(x.length=y,x)};var v={arraySet:function(x,y,T,O,L){if(y.subarray&&x.subarray)x.set(y.subarray(T,T+O),L);else for(var R=0;R<O;R++)x[L+R]=y[T+R]},flattenChunks:function(x){var y,T,O,L,R,$;for(y=O=0,T=x.length;y<T;y++)O+=x[y].length;for($=new Uint8Array(O),y=L=0,T=x.length;y<T;y++)R=x[y],$.set(R,L),L+=R.length;return $}},_={arraySet:function(x,y,T,O,L){for(var R=0;R<O;R++)x[L+R]=y[T+R]},flattenChunks:function(x){return[].concat.apply([],x)}};g.setTyped=function(x){x?(g.Buf8=Uint8Array,g.Buf16=Uint16Array,g.Buf32=Int32Array,g.assign(g,v)):(g.Buf8=Array,g.Buf16=Array,g.Buf32=Array,g.assign(g,_))},g.setTyped(m)},{}],42:[function(p,f,g){var m=p("./common"),v=!0,_=!0;try{String.fromCharCode.apply(null,[0])}catch{v=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_=!1}for(var x=new m.Buf8(256),y=0;y<256;y++)x[y]=252<=y?6:248<=y?5:240<=y?4:224<=y?3:192<=y?2:1;function T(O,L){if(L<65537&&(O.subarray&&_||!O.subarray&&v))return String.fromCharCode.apply(null,m.shrinkBuf(O,L));for(var R="",$=0;$<L;$++)R+=String.fromCharCode(O[$]);return R}x[254]=x[254]=1,g.string2buf=function(O){var L,R,$,V,z,H=O.length,I=0;for(V=0;V<H;V++)(64512&(R=O.charCodeAt(V)))==55296&&V+1<H&&(64512&($=O.charCodeAt(V+1)))==56320&&(R=65536+(R-55296<<10)+($-56320),V++),I+=R<128?1:R<2048?2:R<65536?3:4;for(L=new m.Buf8(I),V=z=0;z<I;V++)(64512&(R=O.charCodeAt(V)))==55296&&V+1<H&&(64512&($=O.charCodeAt(V+1)))==56320&&(R=65536+(R-55296<<10)+($-56320),V++),R<128?L[z++]=R:(R<2048?L[z++]=192|R>>>6:(R<65536?L[z++]=224|R>>>12:(L[z++]=240|R>>>18,L[z++]=128|R>>>12&63),L[z++]=128|R>>>6&63),L[z++]=128|63&R);return L},g.buf2binstring=function(O){return T(O,O.length)},g.binstring2buf=function(O){for(var L=new m.Buf8(O.length),R=0,$=L.length;R<$;R++)L[R]=O.charCodeAt(R);return L},g.buf2string=function(O,L){var R,$,V,z,H=L||O.length,I=new Array(2*H);for(R=$=0;R<H;)if((V=O[R++])<128)I[$++]=V;else if(4<(z=x[V]))I[$++]=65533,R+=z-1;else{for(V&=z===2?31:z===3?15:7;1<z&&R<H;)V=V<<6|63&O[R++],z--;1<z?I[$++]=65533:V<65536?I[$++]=V:(V-=65536,I[$++]=55296|V>>10&1023,I[$++]=56320|1023&V)}return T(I,$)},g.utf8border=function(O,L){var R;for((L=L||O.length)>O.length&&(L=O.length),R=L-1;0<=R&&(192&O[R])==128;)R--;return R<0||R===0?L:R+x[O[R]]>L?R:L}},{"./common":41}],43:[function(p,f,g){f.exports=function(m,v,_,x){for(var y=65535&m|0,T=m>>>16&65535|0,O=0;_!==0;){for(_-=O=2e3<_?2e3:_;T=T+(y=y+v[x++]|0)|0,--O;);y%=65521,T%=65521}return y|T<<16|0}},{}],44:[function(p,f,g){f.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(p,f,g){var m=function(){for(var v,_=[],x=0;x<256;x++){v=x;for(var y=0;y<8;y++)v=1&v?3988292384^v>>>1:v>>>1;_[x]=v}return _}();f.exports=function(v,_,x,y){var T=m,O=y+x;v^=-1;for(var L=y;L<O;L++)v=v>>>8^T[255&(v^_[L])];return-1^v}},{}],46:[function(p,f,g){var m,v=p("../utils/common"),_=p("./trees"),x=p("./adler32"),y=p("./crc32"),T=p("./messages"),O=-2,L=258,R=262,$=113;function V(j,q){return j.msg=T[q],q}function z(j){return(j<<1)-(4<j?9:0)}function H(j){for(var q=j.length;0<=--q;)j[q]=0}function I(j){var q=j.state,B=q.pending;B>j.avail_out&&(B=j.avail_out),B!==0&&(v.arraySet(j.output,q.pending_buf,q.pending_out,B,j.next_out),j.next_out+=B,q.pending_out+=B,j.total_out+=B,j.avail_out-=B,q.pending-=B,q.pending===0&&(q.pending_out=0))}function A(j,q){_._tr_flush_block(j,0<=j.block_start?j.block_start:-1,j.strstart-j.block_start,q),j.block_start=j.strstart,I(j.strm)}function E(j,q){j.pending_buf[j.pending++]=q}function b(j,q){j.pending_buf[j.pending++]=q>>>8&255,j.pending_buf[j.pending++]=255&q}function w(j,q){var B,F,K=j.max_chain_length,ee=j.strstart,Q=j.prev_length,Z=j.nice_match,J=j.strstart>j.w_size-R?j.strstart-(j.w_size-R):0,ae=j.window,ce=j.w_mask,te=j.prev,oe=j.strstart+L,le=ae[ee+Q-1],fe=ae[ee+Q];j.prev_length>=j.good_match&&(K>>=2),Z>j.lookahead&&(Z=j.lookahead);do if(ae[(B=q)+Q]===fe&&ae[B+Q-1]===le&&ae[B]===ae[ee]&&ae[++B]===ae[ee+1]){ee+=2,B++;do;while(ae[++ee]===ae[++B]&&ae[++ee]===ae[++B]&&ae[++ee]===ae[++B]&&ae[++ee]===ae[++B]&&ae[++ee]===ae[++B]&&ae[++ee]===ae[++B]&&ae[++ee]===ae[++B]&&ae[++ee]===ae[++B]&&ee<oe);if(F=L-(oe-ee),ee=oe-L,Q<F){if(j.match_start=q,Z<=(Q=F))break;le=ae[ee+Q-1],fe=ae[ee+Q]}}while((q=te[q&ce])>J&&--K!=0);return Q<=j.lookahead?Q:j.lookahead}function C(j){var q,B,F,K,ee,Q,Z,J,ae,ce,te=j.w_size;do{if(K=j.window_size-j.lookahead-j.strstart,j.strstart>=te+(te-R)){for(v.arraySet(j.window,j.window,te,te,0),j.match_start-=te,j.strstart-=te,j.block_start-=te,q=B=j.hash_size;F=j.head[--q],j.head[q]=te<=F?F-te:0,--B;);for(q=B=te;F=j.prev[--q],j.prev[q]=te<=F?F-te:0,--B;);K+=te}if(j.strm.avail_in===0)break;if(Q=j.strm,Z=j.window,J=j.strstart+j.lookahead,ce=void 0,(ae=K)<(ce=Q.avail_in)&&(ce=ae),B=ce===0?0:(Q.avail_in-=ce,v.arraySet(Z,Q.input,Q.next_in,ce,J),Q.state.wrap===1?Q.adler=x(Q.adler,Z,ce,J):Q.state.wrap===2&&(Q.adler=y(Q.adler,Z,ce,J)),Q.next_in+=ce,Q.total_in+=ce,ce),j.lookahead+=B,j.lookahead+j.insert>=3)for(ee=j.strstart-j.insert,j.ins_h=j.window[ee],j.ins_h=(j.ins_h<<j.hash_shift^j.window[ee+1])&j.hash_mask;j.insert&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[ee+3-1])&j.hash_mask,j.prev[ee&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=ee,ee++,j.insert--,!(j.lookahead+j.insert<3)););}while(j.lookahead<R&&j.strm.avail_in!==0)}function S(j,q){for(var B,F;;){if(j.lookahead<R){if(C(j),j.lookahead<R&&q===0)return 1;if(j.lookahead===0)break}if(B=0,j.lookahead>=3&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,B=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),B!==0&&j.strstart-B<=j.w_size-R&&(j.match_length=w(j,B)),j.match_length>=3)if(F=_._tr_tally(j,j.strstart-j.match_start,j.match_length-3),j.lookahead-=j.match_length,j.match_length<=j.max_lazy_match&&j.lookahead>=3){for(j.match_length--;j.strstart++,j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,B=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart,--j.match_length!=0;);j.strstart++}else j.strstart+=j.match_length,j.match_length=0,j.ins_h=j.window[j.strstart],j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+1])&j.hash_mask;else F=_._tr_tally(j,0,j.window[j.strstart]),j.lookahead--,j.strstart++;if(F&&(A(j,!1),j.strm.avail_out===0))return 1}return j.insert=j.strstart<2?j.strstart:2,q===4?(A(j,!0),j.strm.avail_out===0?3:4):j.last_lit&&(A(j,!1),j.strm.avail_out===0)?1:2}function D(j,q){for(var B,F,K;;){if(j.lookahead<R){if(C(j),j.lookahead<R&&q===0)return 1;if(j.lookahead===0)break}if(B=0,j.lookahead>=3&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,B=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),j.prev_length=j.match_length,j.prev_match=j.match_start,j.match_length=2,B!==0&&j.prev_length<j.max_lazy_match&&j.strstart-B<=j.w_size-R&&(j.match_length=w(j,B),j.match_length<=5&&(j.strategy===1||j.match_length===3&&4096<j.strstart-j.match_start)&&(j.match_length=2)),j.prev_length>=3&&j.match_length<=j.prev_length){for(K=j.strstart+j.lookahead-3,F=_._tr_tally(j,j.strstart-1-j.prev_match,j.prev_length-3),j.lookahead-=j.prev_length-1,j.prev_length-=2;++j.strstart<=K&&(j.ins_h=(j.ins_h<<j.hash_shift^j.window[j.strstart+3-1])&j.hash_mask,B=j.prev[j.strstart&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=j.strstart),--j.prev_length!=0;);if(j.match_available=0,j.match_length=2,j.strstart++,F&&(A(j,!1),j.strm.avail_out===0))return 1}else if(j.match_available){if((F=_._tr_tally(j,0,j.window[j.strstart-1]))&&A(j,!1),j.strstart++,j.lookahead--,j.strm.avail_out===0)return 1}else j.match_available=1,j.strstart++,j.lookahead--}return j.match_available&&(F=_._tr_tally(j,0,j.window[j.strstart-1]),j.match_available=0),j.insert=j.strstart<2?j.strstart:2,q===4?(A(j,!0),j.strm.avail_out===0?3:4):j.last_lit&&(A(j,!1),j.strm.avail_out===0)?1:2}function P(j,q,B,F,K){this.good_length=j,this.max_lazy=q,this.nice_length=B,this.max_chain=F,this.func=K}function k(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new v.Buf16(1146),this.dyn_dtree=new v.Buf16(122),this.bl_tree=new v.Buf16(78),H(this.dyn_ltree),H(this.dyn_dtree),H(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new v.Buf16(16),this.heap=new v.Buf16(573),H(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new v.Buf16(573),H(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function U(j){var q;return j&&j.state?(j.total_in=j.total_out=0,j.data_type=2,(q=j.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?42:$,j.adler=q.wrap===2?0:1,q.last_flush=0,_._tr_init(q),0):V(j,O)}function W(j){var q=U(j);return q===0&&function(B){B.window_size=2*B.w_size,H(B.head),B.max_lazy_match=m[B.level].max_lazy,B.good_match=m[B.level].good_length,B.nice_match=m[B.level].nice_length,B.max_chain_length=m[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=2,B.match_available=0,B.ins_h=0}(j.state),q}function X(j,q,B,F,K,ee){if(!j)return O;var Q=1;if(q===-1&&(q=6),F<0?(Q=0,F=-F):15<F&&(Q=2,F-=16),K<1||9<K||B!==8||F<8||15<F||q<0||9<q||ee<0||4<ee)return V(j,O);F===8&&(F=9);var Z=new k;return(j.state=Z).strm=j,Z.wrap=Q,Z.gzhead=null,Z.w_bits=F,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=K+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+3-1)/3),Z.window=new v.Buf8(2*Z.w_size),Z.head=new v.Buf16(Z.hash_size),Z.prev=new v.Buf16(Z.w_size),Z.lit_bufsize=1<<K+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new v.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=q,Z.strategy=ee,Z.method=B,W(j)}m=[new P(0,0,0,0,function(j,q){var B=65535;for(B>j.pending_buf_size-5&&(B=j.pending_buf_size-5);;){if(j.lookahead<=1){if(C(j),j.lookahead===0&&q===0)return 1;if(j.lookahead===0)break}j.strstart+=j.lookahead,j.lookahead=0;var F=j.block_start+B;if((j.strstart===0||j.strstart>=F)&&(j.lookahead=j.strstart-F,j.strstart=F,A(j,!1),j.strm.avail_out===0)||j.strstart-j.block_start>=j.w_size-R&&(A(j,!1),j.strm.avail_out===0))return 1}return j.insert=0,q===4?(A(j,!0),j.strm.avail_out===0?3:4):(j.strstart>j.block_start&&(A(j,!1),j.strm.avail_out),1)}),new P(4,4,8,4,S),new P(4,5,16,8,S),new P(4,6,32,32,S),new P(4,4,16,16,D),new P(8,16,32,32,D),new P(8,16,128,128,D),new P(8,32,128,256,D),new P(32,128,258,1024,D),new P(32,258,258,4096,D)],g.deflateInit=function(j,q){return X(j,q,8,15,8,0)},g.deflateInit2=X,g.deflateReset=W,g.deflateResetKeep=U,g.deflateSetHeader=function(j,q){return j&&j.state?j.state.wrap!==2?O:(j.state.gzhead=q,0):O},g.deflate=function(j,q){var B,F,K,ee;if(!j||!j.state||5<q||q<0)return j?V(j,O):O;if(F=j.state,!j.output||!j.input&&j.avail_in!==0||F.status===666&&q!==4)return V(j,j.avail_out===0?-5:O);if(F.strm=j,B=F.last_flush,F.last_flush=q,F.status===42)if(F.wrap===2)j.adler=0,E(F,31),E(F,139),E(F,8),F.gzhead?(E(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),E(F,255&F.gzhead.time),E(F,F.gzhead.time>>8&255),E(F,F.gzhead.time>>16&255),E(F,F.gzhead.time>>24&255),E(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),E(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(E(F,255&F.gzhead.extra.length),E(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(j.adler=y(j.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=69):(E(F,0),E(F,0),E(F,0),E(F,0),E(F,0),E(F,F.level===9?2:2<=F.strategy||F.level<2?4:0),E(F,3),F.status=$);else{var Q=8+(F.w_bits-8<<4)<<8;Q|=(2<=F.strategy||F.level<2?0:F.level<6?1:F.level===6?2:3)<<6,F.strstart!==0&&(Q|=32),Q+=31-Q%31,F.status=$,b(F,Q),F.strstart!==0&&(b(F,j.adler>>>16),b(F,65535&j.adler)),j.adler=1}if(F.status===69)if(F.gzhead.extra){for(K=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>K&&(j.adler=y(j.adler,F.pending_buf,F.pending-K,K)),I(j),K=F.pending,F.pending!==F.pending_buf_size));)E(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>K&&(j.adler=y(j.adler,F.pending_buf,F.pending-K,K)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=73)}else F.status=73;if(F.status===73)if(F.gzhead.name){K=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>K&&(j.adler=y(j.adler,F.pending_buf,F.pending-K,K)),I(j),K=F.pending,F.pending===F.pending_buf_size)){ee=1;break}ee=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,E(F,ee)}while(ee!==0);F.gzhead.hcrc&&F.pending>K&&(j.adler=y(j.adler,F.pending_buf,F.pending-K,K)),ee===0&&(F.gzindex=0,F.status=91)}else F.status=91;if(F.status===91)if(F.gzhead.comment){K=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>K&&(j.adler=y(j.adler,F.pending_buf,F.pending-K,K)),I(j),K=F.pending,F.pending===F.pending_buf_size)){ee=1;break}ee=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,E(F,ee)}while(ee!==0);F.gzhead.hcrc&&F.pending>K&&(j.adler=y(j.adler,F.pending_buf,F.pending-K,K)),ee===0&&(F.status=103)}else F.status=103;if(F.status===103&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&I(j),F.pending+2<=F.pending_buf_size&&(E(F,255&j.adler),E(F,j.adler>>8&255),j.adler=0,F.status=$)):F.status=$),F.pending!==0){if(I(j),j.avail_out===0)return F.last_flush=-1,0}else if(j.avail_in===0&&z(q)<=z(B)&&q!==4)return V(j,-5);if(F.status===666&&j.avail_in!==0)return V(j,-5);if(j.avail_in!==0||F.lookahead!==0||q!==0&&F.status!==666){var Z=F.strategy===2?function(J,ae){for(var ce;;){if(J.lookahead===0&&(C(J),J.lookahead===0)){if(ae===0)return 1;break}if(J.match_length=0,ce=_._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++,ce&&(A(J,!1),J.strm.avail_out===0))return 1}return J.insert=0,ae===4?(A(J,!0),J.strm.avail_out===0?3:4):J.last_lit&&(A(J,!1),J.strm.avail_out===0)?1:2}(F,q):F.strategy===3?function(J,ae){for(var ce,te,oe,le,fe=J.window;;){if(J.lookahead<=L){if(C(J),J.lookahead<=L&&ae===0)return 1;if(J.lookahead===0)break}if(J.match_length=0,J.lookahead>=3&&0<J.strstart&&(te=fe[oe=J.strstart-1])===fe[++oe]&&te===fe[++oe]&&te===fe[++oe]){le=J.strstart+L;do;while(te===fe[++oe]&&te===fe[++oe]&&te===fe[++oe]&&te===fe[++oe]&&te===fe[++oe]&&te===fe[++oe]&&te===fe[++oe]&&te===fe[++oe]&&oe<le);J.match_length=L-(le-oe),J.match_length>J.lookahead&&(J.match_length=J.lookahead)}if(J.match_length>=3?(ce=_._tr_tally(J,1,J.match_length-3),J.lookahead-=J.match_length,J.strstart+=J.match_length,J.match_length=0):(ce=_._tr_tally(J,0,J.window[J.strstart]),J.lookahead--,J.strstart++),ce&&(A(J,!1),J.strm.avail_out===0))return 1}return J.insert=0,ae===4?(A(J,!0),J.strm.avail_out===0?3:4):J.last_lit&&(A(J,!1),J.strm.avail_out===0)?1:2}(F,q):m[F.level].func(F,q);if(Z!==3&&Z!==4||(F.status=666),Z===1||Z===3)return j.avail_out===0&&(F.last_flush=-1),0;if(Z===2&&(q===1?_._tr_align(F):q!==5&&(_._tr_stored_block(F,0,0,!1),q===3&&(H(F.head),F.lookahead===0&&(F.strstart=0,F.block_start=0,F.insert=0))),I(j),j.avail_out===0))return F.last_flush=-1,0}return q!==4?0:F.wrap<=0?1:(F.wrap===2?(E(F,255&j.adler),E(F,j.adler>>8&255),E(F,j.adler>>16&255),E(F,j.adler>>24&255),E(F,255&j.total_in),E(F,j.total_in>>8&255),E(F,j.total_in>>16&255),E(F,j.total_in>>24&255)):(b(F,j.adler>>>16),b(F,65535&j.adler)),I(j),0<F.wrap&&(F.wrap=-F.wrap),F.pending!==0?0:1)},g.deflateEnd=function(j){var q;return j&&j.state?(q=j.state.status)!==42&&q!==69&&q!==73&&q!==91&&q!==103&&q!==$&&q!==666?V(j,O):(j.state=null,q===$?V(j,-3):0):O},g.deflateSetDictionary=function(j,q){var B,F,K,ee,Q,Z,J,ae,ce=q.length;if(!j||!j.state||(ee=(B=j.state).wrap)===2||ee===1&&B.status!==42||B.lookahead)return O;for(ee===1&&(j.adler=x(j.adler,q,ce,0)),B.wrap=0,ce>=B.w_size&&(ee===0&&(H(B.head),B.strstart=0,B.block_start=0,B.insert=0),ae=new v.Buf8(B.w_size),v.arraySet(ae,q,ce-B.w_size,B.w_size,0),q=ae,ce=B.w_size),Q=j.avail_in,Z=j.next_in,J=j.input,j.avail_in=ce,j.next_in=0,j.input=q,C(B);B.lookahead>=3;){for(F=B.strstart,K=B.lookahead-2;B.ins_h=(B.ins_h<<B.hash_shift^B.window[F+3-1])&B.hash_mask,B.prev[F&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=F,F++,--K;);B.strstart=F,B.lookahead=2,C(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=2,B.match_available=0,j.next_in=Z,j.input=J,j.avail_in=Q,B.wrap=ee,0},g.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(p,f,g){f.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(p,f,g){f.exports=function(m,v){var _,x,y,T,O,L,R,$,V,z,H,I,A,E,b,w,C,S,D,P,k,U,W,X,j;_=m.state,x=m.next_in,X=m.input,y=x+(m.avail_in-5),T=m.next_out,j=m.output,O=T-(v-m.avail_out),L=T+(m.avail_out-257),R=_.dmax,$=_.wsize,V=_.whave,z=_.wnext,H=_.window,I=_.hold,A=_.bits,E=_.lencode,b=_.distcode,w=(1<<_.lenbits)-1,C=(1<<_.distbits)-1;e:do{A<15&&(I+=X[x++]<<A,A+=8,I+=X[x++]<<A,A+=8),S=E[I&w];t:for(;;){if(I>>>=D=S>>>24,A-=D,(D=S>>>16&255)==0)j[T++]=65535&S;else{if(!(16&D)){if(!(64&D)){S=E[(65535&S)+(I&(1<<D)-1)];continue t}if(32&D){_.mode=12;break e}m.msg="invalid literal/length code",_.mode=30;break e}P=65535&S,(D&=15)&&(A<D&&(I+=X[x++]<<A,A+=8),P+=I&(1<<D)-1,I>>>=D,A-=D),A<15&&(I+=X[x++]<<A,A+=8,I+=X[x++]<<A,A+=8),S=b[I&C];n:for(;;){if(I>>>=D=S>>>24,A-=D,!(16&(D=S>>>16&255))){if(!(64&D)){S=b[(65535&S)+(I&(1<<D)-1)];continue n}m.msg="invalid distance code",_.mode=30;break e}if(k=65535&S,A<(D&=15)&&(I+=X[x++]<<A,(A+=8)<D&&(I+=X[x++]<<A,A+=8)),R<(k+=I&(1<<D)-1)){m.msg="invalid distance too far back",_.mode=30;break e}if(I>>>=D,A-=D,(D=T-O)<k){if(V<(D=k-D)&&_.sane){m.msg="invalid distance too far back",_.mode=30;break e}if(W=H,(U=0)===z){if(U+=$-D,D<P){for(P-=D;j[T++]=H[U++],--D;);U=T-k,W=j}}else if(z<D){if(U+=$+z-D,(D-=z)<P){for(P-=D;j[T++]=H[U++],--D;);if(U=0,z<P){for(P-=D=z;j[T++]=H[U++],--D;);U=T-k,W=j}}}else if(U+=z-D,D<P){for(P-=D;j[T++]=H[U++],--D;);U=T-k,W=j}for(;2<P;)j[T++]=W[U++],j[T++]=W[U++],j[T++]=W[U++],P-=3;P&&(j[T++]=W[U++],1<P&&(j[T++]=W[U++]))}else{for(U=T-k;j[T++]=j[U++],j[T++]=j[U++],j[T++]=j[U++],2<(P-=3););P&&(j[T++]=j[U++],1<P&&(j[T++]=j[U++]))}break}}break}}while(x<y&&T<L);x-=P=A>>3,I&=(1<<(A-=P<<3))-1,m.next_in=x,m.next_out=T,m.avail_in=x<y?y-x+5:5-(x-y),m.avail_out=T<L?L-T+257:257-(T-L),_.hold=I,_.bits=A}},{}],49:[function(p,f,g){var m=p("../utils/common"),v=p("./adler32"),_=p("./crc32"),x=p("./inffast"),y=p("./inftrees"),T=-2;function O(w){return(w>>>24&255)+(w>>>8&65280)+((65280&w)<<8)+((255&w)<<24)}function L(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function R(w){var C;return w&&w.state?(C=w.state,w.total_in=w.total_out=C.total=0,w.msg="",C.wrap&&(w.adler=1&C.wrap),C.mode=1,C.last=0,C.havedict=0,C.dmax=32768,C.head=null,C.hold=0,C.bits=0,C.lencode=C.lendyn=new m.Buf32(852),C.distcode=C.distdyn=new m.Buf32(592),C.sane=1,C.back=-1,0):T}function $(w){var C;return w&&w.state?((C=w.state).wsize=0,C.whave=0,C.wnext=0,R(w)):T}function V(w,C){var S,D;return w&&w.state?(D=w.state,C<0?(S=0,C=-C):(S=1+(C>>4),C<48&&(C&=15)),C&&(C<8||15<C)?T:(D.window!==null&&D.wbits!==C&&(D.window=null),D.wrap=S,D.wbits=C,$(w))):T}function z(w,C){var S,D;return w?(D=new L,(w.state=D).window=null,(S=V(w,C))!==0&&(w.state=null),S):T}var H,I,A=!0;function E(w){if(A){var C;for(H=new m.Buf32(512),I=new m.Buf32(32),C=0;C<144;)w.lens[C++]=8;for(;C<256;)w.lens[C++]=9;for(;C<280;)w.lens[C++]=7;for(;C<288;)w.lens[C++]=8;for(y(1,w.lens,0,288,H,0,w.work,{bits:9}),C=0;C<32;)w.lens[C++]=5;y(2,w.lens,0,32,I,0,w.work,{bits:5}),A=!1}w.lencode=H,w.lenbits=9,w.distcode=I,w.distbits=5}function b(w,C,S,D){var P,k=w.state;return k.window===null&&(k.wsize=1<<k.wbits,k.wnext=0,k.whave=0,k.window=new m.Buf8(k.wsize)),D>=k.wsize?(m.arraySet(k.window,C,S-k.wsize,k.wsize,0),k.wnext=0,k.whave=k.wsize):(D<(P=k.wsize-k.wnext)&&(P=D),m.arraySet(k.window,C,S-D,P,k.wnext),(D-=P)?(m.arraySet(k.window,C,S-D,D,0),k.wnext=D,k.whave=k.wsize):(k.wnext+=P,k.wnext===k.wsize&&(k.wnext=0),k.whave<k.wsize&&(k.whave+=P))),0}g.inflateReset=$,g.inflateReset2=V,g.inflateResetKeep=R,g.inflateInit=function(w){return z(w,15)},g.inflateInit2=z,g.inflate=function(w,C){var S,D,P,k,U,W,X,j,q,B,F,K,ee,Q,Z,J,ae,ce,te,oe,le,fe,pe,me,ye=0,we=new m.Buf8(4),De=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!w||!w.state||!w.output||!w.input&&w.avail_in!==0)return T;(S=w.state).mode===12&&(S.mode=13),U=w.next_out,P=w.output,X=w.avail_out,k=w.next_in,D=w.input,W=w.avail_in,j=S.hold,q=S.bits,B=W,F=X,fe=0;e:for(;;)switch(S.mode){case 1:if(S.wrap===0){S.mode=13;break}for(;q<16;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}if(2&S.wrap&&j===35615){we[S.check=0]=255&j,we[1]=j>>>8&255,S.check=_(S.check,we,2,0),q=j=0,S.mode=2;break}if(S.flags=0,S.head&&(S.head.done=!1),!(1&S.wrap)||(((255&j)<<8)+(j>>8))%31){w.msg="incorrect header check",S.mode=30;break}if((15&j)!=8){w.msg="unknown compression method",S.mode=30;break}if(q-=4,le=8+(15&(j>>>=4)),S.wbits===0)S.wbits=le;else if(le>S.wbits){w.msg="invalid window size",S.mode=30;break}S.dmax=1<<le,w.adler=S.check=1,S.mode=512&j?10:12,q=j=0;break;case 2:for(;q<16;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}if(S.flags=j,(255&S.flags)!=8){w.msg="unknown compression method",S.mode=30;break}if(57344&S.flags){w.msg="unknown header flags set",S.mode=30;break}S.head&&(S.head.text=j>>8&1),512&S.flags&&(we[0]=255&j,we[1]=j>>>8&255,S.check=_(S.check,we,2,0)),q=j=0,S.mode=3;case 3:for(;q<32;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}S.head&&(S.head.time=j),512&S.flags&&(we[0]=255&j,we[1]=j>>>8&255,we[2]=j>>>16&255,we[3]=j>>>24&255,S.check=_(S.check,we,4,0)),q=j=0,S.mode=4;case 4:for(;q<16;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}S.head&&(S.head.xflags=255&j,S.head.os=j>>8),512&S.flags&&(we[0]=255&j,we[1]=j>>>8&255,S.check=_(S.check,we,2,0)),q=j=0,S.mode=5;case 5:if(1024&S.flags){for(;q<16;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}S.length=j,S.head&&(S.head.extra_len=j),512&S.flags&&(we[0]=255&j,we[1]=j>>>8&255,S.check=_(S.check,we,2,0)),q=j=0}else S.head&&(S.head.extra=null);S.mode=6;case 6:if(1024&S.flags&&(W<(K=S.length)&&(K=W),K&&(S.head&&(le=S.head.extra_len-S.length,S.head.extra||(S.head.extra=new Array(S.head.extra_len)),m.arraySet(S.head.extra,D,k,K,le)),512&S.flags&&(S.check=_(S.check,D,K,k)),W-=K,k+=K,S.length-=K),S.length))break e;S.length=0,S.mode=7;case 7:if(2048&S.flags){if(W===0)break e;for(K=0;le=D[k+K++],S.head&&le&&S.length<65536&&(S.head.name+=String.fromCharCode(le)),le&&K<W;);if(512&S.flags&&(S.check=_(S.check,D,K,k)),W-=K,k+=K,le)break e}else S.head&&(S.head.name=null);S.length=0,S.mode=8;case 8:if(4096&S.flags){if(W===0)break e;for(K=0;le=D[k+K++],S.head&&le&&S.length<65536&&(S.head.comment+=String.fromCharCode(le)),le&&K<W;);if(512&S.flags&&(S.check=_(S.check,D,K,k)),W-=K,k+=K,le)break e}else S.head&&(S.head.comment=null);S.mode=9;case 9:if(512&S.flags){for(;q<16;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}if(j!==(65535&S.check)){w.msg="header crc mismatch",S.mode=30;break}q=j=0}S.head&&(S.head.hcrc=S.flags>>9&1,S.head.done=!0),w.adler=S.check=0,S.mode=12;break;case 10:for(;q<32;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}w.adler=S.check=O(j),q=j=0,S.mode=11;case 11:if(S.havedict===0)return w.next_out=U,w.avail_out=X,w.next_in=k,w.avail_in=W,S.hold=j,S.bits=q,2;w.adler=S.check=1,S.mode=12;case 12:if(C===5||C===6)break e;case 13:if(S.last){j>>>=7&q,q-=7&q,S.mode=27;break}for(;q<3;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}switch(S.last=1&j,q-=1,3&(j>>>=1)){case 0:S.mode=14;break;case 1:if(E(S),S.mode=20,C!==6)break;j>>>=2,q-=2;break e;case 2:S.mode=17;break;case 3:w.msg="invalid block type",S.mode=30}j>>>=2,q-=2;break;case 14:for(j>>>=7&q,q-=7&q;q<32;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}if((65535&j)!=(j>>>16^65535)){w.msg="invalid stored block lengths",S.mode=30;break}if(S.length=65535&j,q=j=0,S.mode=15,C===6)break e;case 15:S.mode=16;case 16:if(K=S.length){if(W<K&&(K=W),X<K&&(K=X),K===0)break e;m.arraySet(P,D,k,K,U),W-=K,k+=K,X-=K,U+=K,S.length-=K;break}S.mode=12;break;case 17:for(;q<14;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}if(S.nlen=257+(31&j),j>>>=5,q-=5,S.ndist=1+(31&j),j>>>=5,q-=5,S.ncode=4+(15&j),j>>>=4,q-=4,286<S.nlen||30<S.ndist){w.msg="too many length or distance symbols",S.mode=30;break}S.have=0,S.mode=18;case 18:for(;S.have<S.ncode;){for(;q<3;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}S.lens[De[S.have++]]=7&j,j>>>=3,q-=3}for(;S.have<19;)S.lens[De[S.have++]]=0;if(S.lencode=S.lendyn,S.lenbits=7,pe={bits:S.lenbits},fe=y(0,S.lens,0,19,S.lencode,0,S.work,pe),S.lenbits=pe.bits,fe){w.msg="invalid code lengths set",S.mode=30;break}S.have=0,S.mode=19;case 19:for(;S.have<S.nlen+S.ndist;){for(;J=(ye=S.lencode[j&(1<<S.lenbits)-1])>>>16&255,ae=65535&ye,!((Z=ye>>>24)<=q);){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}if(ae<16)j>>>=Z,q-=Z,S.lens[S.have++]=ae;else{if(ae===16){for(me=Z+2;q<me;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}if(j>>>=Z,q-=Z,S.have===0){w.msg="invalid bit length repeat",S.mode=30;break}le=S.lens[S.have-1],K=3+(3&j),j>>>=2,q-=2}else if(ae===17){for(me=Z+3;q<me;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}q-=Z,le=0,K=3+(7&(j>>>=Z)),j>>>=3,q-=3}else{for(me=Z+7;q<me;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}q-=Z,le=0,K=11+(127&(j>>>=Z)),j>>>=7,q-=7}if(S.have+K>S.nlen+S.ndist){w.msg="invalid bit length repeat",S.mode=30;break}for(;K--;)S.lens[S.have++]=le}}if(S.mode===30)break;if(S.lens[256]===0){w.msg="invalid code -- missing end-of-block",S.mode=30;break}if(S.lenbits=9,pe={bits:S.lenbits},fe=y(1,S.lens,0,S.nlen,S.lencode,0,S.work,pe),S.lenbits=pe.bits,fe){w.msg="invalid literal/lengths set",S.mode=30;break}if(S.distbits=6,S.distcode=S.distdyn,pe={bits:S.distbits},fe=y(2,S.lens,S.nlen,S.ndist,S.distcode,0,S.work,pe),S.distbits=pe.bits,fe){w.msg="invalid distances set",S.mode=30;break}if(S.mode=20,C===6)break e;case 20:S.mode=21;case 21:if(6<=W&&258<=X){w.next_out=U,w.avail_out=X,w.next_in=k,w.avail_in=W,S.hold=j,S.bits=q,x(w,F),U=w.next_out,P=w.output,X=w.avail_out,k=w.next_in,D=w.input,W=w.avail_in,j=S.hold,q=S.bits,S.mode===12&&(S.back=-1);break}for(S.back=0;J=(ye=S.lencode[j&(1<<S.lenbits)-1])>>>16&255,ae=65535&ye,!((Z=ye>>>24)<=q);){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}if(J&&!(240&J)){for(ce=Z,te=J,oe=ae;J=(ye=S.lencode[oe+((j&(1<<ce+te)-1)>>ce)])>>>16&255,ae=65535&ye,!(ce+(Z=ye>>>24)<=q);){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}j>>>=ce,q-=ce,S.back+=ce}if(j>>>=Z,q-=Z,S.back+=Z,S.length=ae,J===0){S.mode=26;break}if(32&J){S.back=-1,S.mode=12;break}if(64&J){w.msg="invalid literal/length code",S.mode=30;break}S.extra=15&J,S.mode=22;case 22:if(S.extra){for(me=S.extra;q<me;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}S.length+=j&(1<<S.extra)-1,j>>>=S.extra,q-=S.extra,S.back+=S.extra}S.was=S.length,S.mode=23;case 23:for(;J=(ye=S.distcode[j&(1<<S.distbits)-1])>>>16&255,ae=65535&ye,!((Z=ye>>>24)<=q);){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}if(!(240&J)){for(ce=Z,te=J,oe=ae;J=(ye=S.distcode[oe+((j&(1<<ce+te)-1)>>ce)])>>>16&255,ae=65535&ye,!(ce+(Z=ye>>>24)<=q);){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}j>>>=ce,q-=ce,S.back+=ce}if(j>>>=Z,q-=Z,S.back+=Z,64&J){w.msg="invalid distance code",S.mode=30;break}S.offset=ae,S.extra=15&J,S.mode=24;case 24:if(S.extra){for(me=S.extra;q<me;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}S.offset+=j&(1<<S.extra)-1,j>>>=S.extra,q-=S.extra,S.back+=S.extra}if(S.offset>S.dmax){w.msg="invalid distance too far back",S.mode=30;break}S.mode=25;case 25:if(X===0)break e;if(K=F-X,S.offset>K){if((K=S.offset-K)>S.whave&&S.sane){w.msg="invalid distance too far back",S.mode=30;break}ee=K>S.wnext?(K-=S.wnext,S.wsize-K):S.wnext-K,K>S.length&&(K=S.length),Q=S.window}else Q=P,ee=U-S.offset,K=S.length;for(X<K&&(K=X),X-=K,S.length-=K;P[U++]=Q[ee++],--K;);S.length===0&&(S.mode=21);break;case 26:if(X===0)break e;P[U++]=S.length,X--,S.mode=21;break;case 27:if(S.wrap){for(;q<32;){if(W===0)break e;W--,j|=D[k++]<<q,q+=8}if(F-=X,w.total_out+=F,S.total+=F,F&&(w.adler=S.check=S.flags?_(S.check,P,F,U-F):v(S.check,P,F,U-F)),F=X,(S.flags?j:O(j))!==S.check){w.msg="incorrect data check",S.mode=30;break}q=j=0}S.mode=28;case 28:if(S.wrap&&S.flags){for(;q<32;){if(W===0)break e;W--,j+=D[k++]<<q,q+=8}if(j!==(4294967295&S.total)){w.msg="incorrect length check",S.mode=30;break}q=j=0}S.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return T}return w.next_out=U,w.avail_out=X,w.next_in=k,w.avail_in=W,S.hold=j,S.bits=q,(S.wsize||F!==w.avail_out&&S.mode<30&&(S.mode<27||C!==4))&&b(w,w.output,w.next_out,F-w.avail_out)?(S.mode=31,-4):(B-=w.avail_in,F-=w.avail_out,w.total_in+=B,w.total_out+=F,S.total+=F,S.wrap&&F&&(w.adler=S.check=S.flags?_(S.check,P,F,w.next_out-F):v(S.check,P,F,w.next_out-F)),w.data_type=S.bits+(S.last?64:0)+(S.mode===12?128:0)+(S.mode===20||S.mode===15?256:0),(B==0&&F===0||C===4)&&fe===0&&(fe=-5),fe)},g.inflateEnd=function(w){if(!w||!w.state)return T;var C=w.state;return C.window&&(C.window=null),w.state=null,0},g.inflateGetHeader=function(w,C){var S;return w&&w.state&&2&(S=w.state).wrap?((S.head=C).done=!1,0):T},g.inflateSetDictionary=function(w,C){var S,D=C.length;return w&&w.state?(S=w.state).wrap!==0&&S.mode!==11?T:S.mode===11&&v(1,C,D,0)!==S.check?-3:b(w,C,D,D)?(S.mode=31,-4):(S.havedict=1,0):T},g.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(p,f,g){var m=p("../utils/common"),v=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],x=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],y=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];f.exports=function(T,O,L,R,$,V,z,H){var I,A,E,b,w,C,S,D,P,k=H.bits,U=0,W=0,X=0,j=0,q=0,B=0,F=0,K=0,ee=0,Q=0,Z=null,J=0,ae=new m.Buf16(16),ce=new m.Buf16(16),te=null,oe=0;for(U=0;U<=15;U++)ae[U]=0;for(W=0;W<R;W++)ae[O[L+W]]++;for(q=k,j=15;1<=j&&ae[j]===0;j--);if(j<q&&(q=j),j===0)return $[V++]=20971520,$[V++]=20971520,H.bits=1,0;for(X=1;X<j&&ae[X]===0;X++);for(q<X&&(q=X),U=K=1;U<=15;U++)if(K<<=1,(K-=ae[U])<0)return-1;if(0<K&&(T===0||j!==1))return-1;for(ce[1]=0,U=1;U<15;U++)ce[U+1]=ce[U]+ae[U];for(W=0;W<R;W++)O[L+W]!==0&&(z[ce[O[L+W]]++]=W);if(C=T===0?(Z=te=z,19):T===1?(Z=v,J-=257,te=_,oe-=257,256):(Z=x,te=y,-1),U=X,w=V,F=W=Q=0,E=-1,b=(ee=1<<(B=q))-1,T===1&&852<ee||T===2&&592<ee)return 1;for(;;){for(S=U-F,P=z[W]<C?(D=0,z[W]):z[W]>C?(D=te[oe+z[W]],Z[J+z[W]]):(D=96,0),I=1<<U-F,X=A=1<<B;$[w+(Q>>F)+(A-=I)]=S<<24|D<<16|P|0,A!==0;);for(I=1<<U-1;Q&I;)I>>=1;if(I!==0?(Q&=I-1,Q+=I):Q=0,W++,--ae[U]==0){if(U===j)break;U=O[L+z[W]]}if(q<U&&(Q&b)!==E){for(F===0&&(F=q),w+=X,K=1<<(B=U-F);B+F<j&&!((K-=ae[B+F])<=0);)B++,K<<=1;if(ee+=1<<B,T===1&&852<ee||T===2&&592<ee)return 1;$[E=Q&b]=q<<24|B<<16|w-V|0}}return Q!==0&&($[w+Q]=U-F<<24|64<<16|0),H.bits=q,0}},{"../utils/common":41}],51:[function(p,f,g){f.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(p,f,g){var m=p("../utils/common");function v(te){for(var oe=te.length;0<=--oe;)te[oe]=0}var _=256,x=286,y=30,T=15,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],V=new Array(576);v(V);var z=new Array(60);v(z);var H=new Array(512);v(H);var I=new Array(256);v(I);var A=new Array(29);v(A);var E,b,w,C=new Array(y);function S(te,oe,le,fe,pe){this.static_tree=te,this.extra_bits=oe,this.extra_base=le,this.elems=fe,this.max_length=pe,this.has_stree=te&&te.length}function D(te,oe){this.dyn_tree=te,this.max_code=0,this.stat_desc=oe}function P(te){return te<256?H[te]:H[256+(te>>>7)]}function k(te,oe){te.pending_buf[te.pending++]=255&oe,te.pending_buf[te.pending++]=oe>>>8&255}function U(te,oe,le){te.bi_valid>16-le?(te.bi_buf|=oe<<te.bi_valid&65535,k(te,te.bi_buf),te.bi_buf=oe>>16-te.bi_valid,te.bi_valid+=le-16):(te.bi_buf|=oe<<te.bi_valid&65535,te.bi_valid+=le)}function W(te,oe,le){U(te,le[2*oe],le[2*oe+1])}function X(te,oe){for(var le=0;le|=1&te,te>>>=1,le<<=1,0<--oe;);return le>>>1}function j(te,oe,le){var fe,pe,me=new Array(16),ye=0;for(fe=1;fe<=T;fe++)me[fe]=ye=ye+le[fe-1]<<1;for(pe=0;pe<=oe;pe++){var we=te[2*pe+1];we!==0&&(te[2*pe]=X(me[we]++,we))}}function q(te){var oe;for(oe=0;oe<x;oe++)te.dyn_ltree[2*oe]=0;for(oe=0;oe<y;oe++)te.dyn_dtree[2*oe]=0;for(oe=0;oe<19;oe++)te.bl_tree[2*oe]=0;te.dyn_ltree[512]=1,te.opt_len=te.static_len=0,te.last_lit=te.matches=0}function B(te){8<te.bi_valid?k(te,te.bi_buf):0<te.bi_valid&&(te.pending_buf[te.pending++]=te.bi_buf),te.bi_buf=0,te.bi_valid=0}function F(te,oe,le,fe){var pe=2*oe,me=2*le;return te[pe]<te[me]||te[pe]===te[me]&&fe[oe]<=fe[le]}function K(te,oe,le){for(var fe=te.heap[le],pe=le<<1;pe<=te.heap_len&&(pe<te.heap_len&&F(oe,te.heap[pe+1],te.heap[pe],te.depth)&&pe++,!F(oe,fe,te.heap[pe],te.depth));)te.heap[le]=te.heap[pe],le=pe,pe<<=1;te.heap[le]=fe}function ee(te,oe,le){var fe,pe,me,ye,we=0;if(te.last_lit!==0)for(;fe=te.pending_buf[te.d_buf+2*we]<<8|te.pending_buf[te.d_buf+2*we+1],pe=te.pending_buf[te.l_buf+we],we++,fe===0?W(te,pe,oe):(W(te,(me=I[pe])+_+1,oe),(ye=O[me])!==0&&U(te,pe-=A[me],ye),W(te,me=P(--fe),le),(ye=L[me])!==0&&U(te,fe-=C[me],ye)),we<te.last_lit;);W(te,256,oe)}function Q(te,oe){var le,fe,pe,me=oe.dyn_tree,ye=oe.stat_desc.static_tree,we=oe.stat_desc.has_stree,De=oe.stat_desc.elems,Ve=-1;for(te.heap_len=0,te.heap_max=573,le=0;le<De;le++)me[2*le]!==0?(te.heap[++te.heap_len]=Ve=le,te.depth[le]=0):me[2*le+1]=0;for(;te.heap_len<2;)me[2*(pe=te.heap[++te.heap_len]=Ve<2?++Ve:0)]=1,te.depth[pe]=0,te.opt_len--,we&&(te.static_len-=ye[2*pe+1]);for(oe.max_code=Ve,le=te.heap_len>>1;1<=le;le--)K(te,me,le);for(pe=De;le=te.heap[1],te.heap[1]=te.heap[te.heap_len--],K(te,me,1),fe=te.heap[1],te.heap[--te.heap_max]=le,te.heap[--te.heap_max]=fe,me[2*pe]=me[2*le]+me[2*fe],te.depth[pe]=(te.depth[le]>=te.depth[fe]?te.depth[le]:te.depth[fe])+1,me[2*le+1]=me[2*fe+1]=pe,te.heap[1]=pe++,K(te,me,1),2<=te.heap_len;);te.heap[--te.heap_max]=te.heap[1],function(Le,$e){var rt,nt,Je,et,qe,Fe,Ye=$e.dyn_tree,tt=$e.max_code,Ze=$e.stat_desc.static_tree,Vt=$e.stat_desc.has_stree,un=$e.stat_desc.extra_bits,dt=$e.stat_desc.extra_base,tn=$e.stat_desc.max_length,Mt=0;for(et=0;et<=T;et++)Le.bl_count[et]=0;for(Ye[2*Le.heap[Le.heap_max]+1]=0,rt=Le.heap_max+1;rt<573;rt++)tn<(et=Ye[2*Ye[2*(nt=Le.heap[rt])+1]+1]+1)&&(et=tn,Mt++),Ye[2*nt+1]=et,tt<nt||(Le.bl_count[et]++,qe=0,dt<=nt&&(qe=un[nt-dt]),Fe=Ye[2*nt],Le.opt_len+=Fe*(et+qe),Vt&&(Le.static_len+=Fe*(Ze[2*nt+1]+qe)));if(Mt!==0){do{for(et=tn-1;Le.bl_count[et]===0;)et--;Le.bl_count[et]--,Le.bl_count[et+1]+=2,Le.bl_count[tn]--,Mt-=2}while(0<Mt);for(et=tn;et!==0;et--)for(nt=Le.bl_count[et];nt!==0;)tt<(Je=Le.heap[--rt])||(Ye[2*Je+1]!==et&&(Le.opt_len+=(et-Ye[2*Je+1])*Ye[2*Je],Ye[2*Je+1]=et),nt--)}}(te,oe),j(me,Ve,te.bl_count)}function Z(te,oe,le){var fe,pe,me=-1,ye=oe[1],we=0,De=7,Ve=4;for(ye===0&&(De=138,Ve=3),oe[2*(le+1)+1]=65535,fe=0;fe<=le;fe++)pe=ye,ye=oe[2*(fe+1)+1],++we<De&&pe===ye||(we<Ve?te.bl_tree[2*pe]+=we:pe!==0?(pe!==me&&te.bl_tree[2*pe]++,te.bl_tree[32]++):we<=10?te.bl_tree[34]++:te.bl_tree[36]++,me=pe,Ve=(we=0)===ye?(De=138,3):pe===ye?(De=6,3):(De=7,4))}function J(te,oe,le){var fe,pe,me=-1,ye=oe[1],we=0,De=7,Ve=4;for(ye===0&&(De=138,Ve=3),fe=0;fe<=le;fe++)if(pe=ye,ye=oe[2*(fe+1)+1],!(++we<De&&pe===ye)){if(we<Ve)for(;W(te,pe,te.bl_tree),--we!=0;);else pe!==0?(pe!==me&&(W(te,pe,te.bl_tree),we--),W(te,16,te.bl_tree),U(te,we-3,2)):we<=10?(W(te,17,te.bl_tree),U(te,we-3,3)):(W(te,18,te.bl_tree),U(te,we-11,7));me=pe,Ve=(we=0)===ye?(De=138,3):pe===ye?(De=6,3):(De=7,4)}}v(C);var ae=!1;function ce(te,oe,le,fe){U(te,0+(fe?1:0),3),function(pe,me,ye,we){B(pe),k(pe,ye),k(pe,~ye),m.arraySet(pe.pending_buf,pe.window,me,ye,pe.pending),pe.pending+=ye}(te,oe,le)}g._tr_init=function(te){ae||(function(){var oe,le,fe,pe,me,ye=new Array(16);for(pe=fe=0;pe<28;pe++)for(A[pe]=fe,oe=0;oe<1<<O[pe];oe++)I[fe++]=pe;for(I[fe-1]=pe,pe=me=0;pe<16;pe++)for(C[pe]=me,oe=0;oe<1<<L[pe];oe++)H[me++]=pe;for(me>>=7;pe<y;pe++)for(C[pe]=me<<7,oe=0;oe<1<<L[pe]-7;oe++)H[256+me++]=pe;for(le=0;le<=T;le++)ye[le]=0;for(oe=0;oe<=143;)V[2*oe+1]=8,oe++,ye[8]++;for(;oe<=255;)V[2*oe+1]=9,oe++,ye[9]++;for(;oe<=279;)V[2*oe+1]=7,oe++,ye[7]++;for(;oe<=287;)V[2*oe+1]=8,oe++,ye[8]++;for(j(V,287,ye),oe=0;oe<y;oe++)z[2*oe+1]=5,z[2*oe]=X(oe,5);E=new S(V,O,257,x,T),b=new S(z,L,0,y,T),w=new S(new Array(0),R,0,19,7)}(),ae=!0),te.l_desc=new D(te.dyn_ltree,E),te.d_desc=new D(te.dyn_dtree,b),te.bl_desc=new D(te.bl_tree,w),te.bi_buf=0,te.bi_valid=0,q(te)},g._tr_stored_block=ce,g._tr_flush_block=function(te,oe,le,fe){var pe,me,ye=0;0<te.level?(te.strm.data_type===2&&(te.strm.data_type=function(we){var De,Ve=4093624447;for(De=0;De<=31;De++,Ve>>>=1)if(1&Ve&&we.dyn_ltree[2*De]!==0)return 0;if(we.dyn_ltree[18]!==0||we.dyn_ltree[20]!==0||we.dyn_ltree[26]!==0)return 1;for(De=32;De<_;De++)if(we.dyn_ltree[2*De]!==0)return 1;return 0}(te)),Q(te,te.l_desc),Q(te,te.d_desc),ye=function(we){var De;for(Z(we,we.dyn_ltree,we.l_desc.max_code),Z(we,we.dyn_dtree,we.d_desc.max_code),Q(we,we.bl_desc),De=18;3<=De&&we.bl_tree[2*$[De]+1]===0;De--);return we.opt_len+=3*(De+1)+5+5+4,De}(te),pe=te.opt_len+3+7>>>3,(me=te.static_len+3+7>>>3)<=pe&&(pe=me)):pe=me=le+5,le+4<=pe&&oe!==-1?ce(te,oe,le,fe):te.strategy===4||me===pe?(U(te,2+(fe?1:0),3),ee(te,V,z)):(U(te,4+(fe?1:0),3),function(we,De,Ve,Le){var $e;for(U(we,De-257,5),U(we,Ve-1,5),U(we,Le-4,4),$e=0;$e<Le;$e++)U(we,we.bl_tree[2*$[$e]+1],3);J(we,we.dyn_ltree,De-1),J(we,we.dyn_dtree,Ve-1)}(te,te.l_desc.max_code+1,te.d_desc.max_code+1,ye+1),ee(te,te.dyn_ltree,te.dyn_dtree)),q(te),fe&&B(te)},g._tr_tally=function(te,oe,le){return te.pending_buf[te.d_buf+2*te.last_lit]=oe>>>8&255,te.pending_buf[te.d_buf+2*te.last_lit+1]=255&oe,te.pending_buf[te.l_buf+te.last_lit]=255&le,te.last_lit++,oe===0?te.dyn_ltree[2*le]++:(te.matches++,oe--,te.dyn_ltree[2*(I[le]+_+1)]++,te.dyn_dtree[2*P(oe)]++),te.last_lit===te.lit_bufsize-1},g._tr_align=function(te){U(te,2,3),W(te,256,V),function(oe){oe.bi_valid===16?(k(oe,oe.bi_buf),oe.bi_buf=0,oe.bi_valid=0):8<=oe.bi_valid&&(oe.pending_buf[oe.pending++]=255&oe.bi_buf,oe.bi_buf>>=8,oe.bi_valid-=8)}(te)}},{"../utils/common":41}],53:[function(p,f,g){f.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(p,f,g){(function(m){(function(v,_){if(!v.setImmediate){var x,y,T,O,L=1,R={},$=!1,V=v.document,z=Object.getPrototypeOf&&Object.getPrototypeOf(v);z=z&&z.setTimeout?z:v,x={}.toString.call(v.process)==="[object process]"?function(E){r.nextTick(function(){I(E)})}:function(){if(v.postMessage&&!v.importScripts){var E=!0,b=v.onmessage;return v.onmessage=function(){E=!1},v.postMessage("","*"),v.onmessage=b,E}}()?(O="setImmediate$"+Math.random()+"$",v.addEventListener?v.addEventListener("message",A,!1):v.attachEvent("onmessage",A),function(E){v.postMessage(O+E,"*")}):v.MessageChannel?((T=new MessageChannel).port1.onmessage=function(E){I(E.data)},function(E){T.port2.postMessage(E)}):V&&"onreadystatechange"in V.createElement("script")?(y=V.documentElement,function(E){var b=V.createElement("script");b.onreadystatechange=function(){I(E),b.onreadystatechange=null,y.removeChild(b),b=null},y.appendChild(b)}):function(E){setTimeout(I,0,E)},z.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var b=new Array(arguments.length-1),w=0;w<b.length;w++)b[w]=arguments[w+1];var C={callback:E,args:b};return R[L]=C,x(L),L++},z.clearImmediate=H}function H(E){delete R[E]}function I(E){if($)setTimeout(I,0,E);else{var b=R[E];if(b){$=!0;try{(function(w){var C=w.callback,S=w.args;switch(S.length){case 0:C();break;case 1:C(S[0]);break;case 2:C(S[0],S[1]);break;case 3:C(S[0],S[1],S[2]);break;default:C.apply(void 0,S)}})(b)}finally{H(E),$=!1}}}}function A(E){E.source===v&&typeof E.data=="string"&&E.data.indexOf(O)===0&&I(+E.data.slice(O.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,o!==void 0?o:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,t("_process"),typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],t("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(t,n,s){(function(r){(function(){var o=/[\\^$.*+?()[\]{}|]/g,a=RegExp(o.source),l=typeof r=="object"&&r&&r.Object===Object&&r,d=typeof self=="object"&&self&&self.Object===Object&&self,c=l||d||Function("return this")(),h=Object.prototype.toString,u=c.Symbol,p=u?u.prototype:void 0,f=p?p.toString:void 0;function g(m){if(typeof m=="string")return m;if(function(_){return typeof _=="symbol"||function(x){return!!x&&typeof x=="object"}(_)&&h.call(_)=="[object Symbol]"}(m))return f?f.call(m):"";var v=m+"";return v=="0"&&1/m==-1/0?"-0":v}n.exports=function(m){var v;return(m=(v=m)==null?"":g(v))&&a.test(m)?m.replace(o,"\\$&"):m}}).call(this)}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(t,n,s){(function(r){(function(){var o="[object Arguments]",a="[object Map]",l="[object Object]",d="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/,u=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,g=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v[o]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v[a]=v["[object Number]"]=v[l]=v["[object RegExp]"]=v[d]=v["[object String]"]=v["[object WeakMap]"]=!1;var _=typeof r=="object"&&r&&r.Object===Object&&r,x=typeof self=="object"&&self&&self.Object===Object&&self,y=_||x||Function("return this")(),T=typeof s=="object"&&s&&!s.nodeType&&s,O=T&&typeof n=="object"&&n&&!n.nodeType&&n,L=O&&O.exports===T&&_.process,R=function(){try{return L&&L.binding("util")}catch{}}(),$=R&&R.isTypedArray;function V(re,_e,Ee,ke){for(var it=-1,Ne=re?re.length:0;++it<Ne;){var je=re[it];_e(ke,je,Ee(je),re)}return ke}function z(re,_e){for(var Ee=-1,ke=re?re.length:0;++Ee<ke;)if(_e(re[Ee],Ee,re))return!0;return!1}function H(re){var _e=!1;if(re!=null&&typeof re.toString!="function")try{_e=!!(re+"")}catch{}return _e}function I(re){var _e=-1,Ee=Array(re.size);return re.forEach(function(ke,it){Ee[++_e]=[it,ke]}),Ee}function A(re){var _e=-1,Ee=Array(re.size);return re.forEach(function(ke){Ee[++_e]=ke}),Ee}var E,b,w,C=Array.prototype,S=Function.prototype,D=Object.prototype,P=y["__core-js_shared__"],k=(E=/[^.]+$/.exec(P&&P.keys&&P.keys.IE_PROTO||""))?"Symbol(src)_1."+E:"",U=S.toString,W=D.hasOwnProperty,X=D.toString,j=RegExp("^"+U.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),q=y.Symbol,B=y.Uint8Array,F=D.propertyIsEnumerable,K=C.splice,ee=(b=Object.keys,w=Object,function(re){return b(w(re))}),Q=ft(y,"DataView"),Z=ft(y,"Map"),J=ft(y,"Promise"),ae=ft(y,"Set"),ce=ft(y,"WeakMap"),te=ft(Object,"create"),oe=ge(Q),le=ge(Z),fe=ge(J),pe=ge(ae),me=ge(ce),ye=q?q.prototype:void 0,we=ye?ye.valueOf:void 0,De=ye?ye.toString:void 0;function Ve(re){var _e=-1,Ee=re?re.length:0;for(this.clear();++_e<Ee;){var ke=re[_e];this.set(ke[0],ke[1])}}function Le(re){var _e=-1,Ee=re?re.length:0;for(this.clear();++_e<Ee;){var ke=re[_e];this.set(ke[0],ke[1])}}function $e(re){var _e=-1,Ee=re?re.length:0;for(this.clear();++_e<Ee;){var ke=re[_e];this.set(ke[0],ke[1])}}function rt(re){var _e=-1,Ee=re?re.length:0;for(this.__data__=new $e;++_e<Ee;)this.add(re[_e])}function nt(re){this.__data__=new Le(re)}function Je(re,_e){var Ee=vt(re)||wt(re)?function(je,Qt){for(var Rt=-1,$t=Array(je);++Rt<je;)$t[Rt]=Qt(Rt);return $t}(re.length,String):[],ke=Ee.length,it=!!ke;for(var Ne in re)!W.call(re,Ne)||it&&(Ne=="length"||vn(Ne,ke))||Ee.push(Ne);return Ee}function et(re,_e){for(var Ee=re.length;Ee--;)if(ze(re[Ee][0],_e))return Ee;return-1}function qe(re,_e,Ee,ke){return Ye(re,function(it,Ne,je){_e(ke,it,Ee(it),je)}),ke}Ve.prototype.clear=function(){this.__data__=te?te(null):{}},Ve.prototype.delete=function(re){return this.has(re)&&delete this.__data__[re]},Ve.prototype.get=function(re){var _e=this.__data__;if(te){var Ee=_e[re];return Ee==="__lodash_hash_undefined__"?void 0:Ee}return W.call(_e,re)?_e[re]:void 0},Ve.prototype.has=function(re){var _e=this.__data__;return te?_e[re]!==void 0:W.call(_e,re)},Ve.prototype.set=function(re,_e){return this.__data__[re]=te&&_e===void 0?"__lodash_hash_undefined__":_e,this},Le.prototype.clear=function(){this.__data__=[]},Le.prototype.delete=function(re){var _e=this.__data__,Ee=et(_e,re);return!(Ee<0)&&(Ee==_e.length-1?_e.pop():K.call(_e,Ee,1),!0)},Le.prototype.get=function(re){var _e=this.__data__,Ee=et(_e,re);return Ee<0?void 0:_e[Ee][1]},Le.prototype.has=function(re){return et(this.__data__,re)>-1},Le.prototype.set=function(re,_e){var Ee=this.__data__,ke=et(Ee,re);return ke<0?Ee.push([re,_e]):Ee[ke][1]=_e,this},$e.prototype.clear=function(){this.__data__={hash:new Ve,map:new(Z||Le),string:new Ve}},$e.prototype.delete=function(re){return nn(this,re).delete(re)},$e.prototype.get=function(re){return nn(this,re).get(re)},$e.prototype.has=function(re){return nn(this,re).has(re)},$e.prototype.set=function(re,_e){return nn(this,re).set(re,_e),this},rt.prototype.add=rt.prototype.push=function(re){return this.__data__.set(re,"__lodash_hash_undefined__"),this},rt.prototype.has=function(re){return this.__data__.has(re)},nt.prototype.clear=function(){this.__data__=new Le},nt.prototype.delete=function(re){return this.__data__.delete(re)},nt.prototype.get=function(re){return this.__data__.get(re)},nt.prototype.has=function(re){return this.__data__.has(re)},nt.prototype.set=function(re,_e){var Ee=this.__data__;if(Ee instanceof Le){var ke=Ee.__data__;if(!Z||ke.length<199)return ke.push([re,_e]),this;Ee=this.__data__=new $e(ke)}return Ee.set(re,_e),this};var Fe,Ye=(Fe=function(re,_e){return re&&tt(re,_e,ai)},function(re,_e){if(re==null)return re;if(!ct(re))return Fe(re,_e);for(var Ee=re.length,ke=-1,it=Object(re);++ke<Ee&&_e(it[ke],ke,it)!==!1;);return re}),tt=function(re){return function(_e,Ee,ke){for(var it=-1,Ne=Object(_e),je=ke(_e),Qt=je.length;Qt--;){var Rt=je[++it];if(Ee(Ne[Rt],Rt,Ne)===!1)break}return _e}}();function Ze(re,_e){for(var Ee=0,ke=(_e=yt(_e,re)?[_e]:Ct(_e)).length;re!=null&&Ee<ke;)re=re[he(_e[Ee++])];return Ee&&Ee==ke?re:void 0}function Vt(re,_e){return re!=null&&_e in Object(re)}function un(re,_e,Ee,ke,it){return re===_e||(re==null||_e==null||!Lt(re)&&!Qn(_e)?re!=re&&_e!=_e:function(Ne,je,Qt,Rt,$t,xt){var bn=vt(Ne),yn=vt(je),Sn="[object Array]",Kn="[object Array]";bn||(Sn=(Sn=Kt(Ne))==o?l:Sn),yn||(Kn=(Kn=Kt(je))==o?l:Kn);var gi=Sn==l&&!H(Ne),Wi=Kn==l&&!H(je),pr=Sn==Kn;if(pr&&!gi)return xt||(xt=new nt),bn||oi(Ne)?xn(Ne,je,Qt,Rt,$t,xt):function(Cn,an,Ko,ll,Zp,Ss,no){switch(Ko){case"[object DataView]":if(Cn.byteLength!=an.byteLength||Cn.byteOffset!=an.byteOffset)return!1;Cn=Cn.buffer,an=an.buffer;case"[object ArrayBuffer]":return!(Cn.byteLength!=an.byteLength||!ll(new B(Cn),new B(an)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ze(+Cn,+an);case"[object Error]":return Cn.name==an.name&&Cn.message==an.message;case"[object RegExp]":case"[object String]":return Cn==an+"";case a:var Go=I;case d:var nu=2&Ss;if(Go||(Go=A),Cn.size!=an.size&&!nu)return!1;var Qp=no.get(Cn);if(Qp)return Qp==an;Ss|=1,no.set(Cn,an);var yd=xn(Go(Cn),Go(an),ll,Zp,Ss,no);return no.delete(Cn),yd;case"[object Symbol]":if(we)return we.call(Cn)==we.call(an)}return!1}(Ne,je,Sn,Qt,Rt,$t,xt);if(!(2&$t)){var al=gi&&W.call(Ne,"__wrapped__"),vd=Wi&&W.call(je,"__wrapped__");if(al||vd){var xd=al?Ne.value():Ne,bd=vd?je.value():je;return xt||(xt=new nt),Qt(xd,bd,Rt,$t,xt)}}return pr?(xt||(xt=new nt),function(Cn,an,Ko,ll,Zp,Ss){var no=2&Zp,Go=ai(Cn),nu=Go.length,Qp=ai(an).length;if(nu!=Qp&&!no)return!1;for(var yd=nu;yd--;){var qo=Go[yd];if(!(no?qo in an:W.call(an,qo)))return!1}var fE=Ss.get(Cn);if(fE&&Ss.get(an))return fE==an;var Jp=!0;Ss.set(Cn,an),Ss.set(an,Cn);for(var y_=no;++yd<nu;){qo=Go[yd];var ef=Cn[qo],tf=an[qo];if(ll)var mE=no?ll(tf,ef,qo,an,Cn,Ss):ll(ef,tf,qo,Cn,an,Ss);if(!(mE===void 0?ef===tf||Ko(ef,tf,ll,Zp,Ss):mE)){Jp=!1;break}y_||(y_=qo=="constructor")}if(Jp&&!y_){var nf=Cn.constructor,sf=an.constructor;nf==sf||!("constructor"in Cn)||!("constructor"in an)||typeof nf=="function"&&nf instanceof nf&&typeof sf=="function"&&sf instanceof sf||(Jp=!1)}return Ss.delete(Cn),Ss.delete(an),Jp}(Ne,je,Qt,Rt,$t,xt)):!1}(re,_e,un,Ee,ke,it))}function dt(re){return!(!Lt(re)||function(_e){return!!k&&k in _e}(re))&&(Tt(re)||H(re)?j:g).test(ge(re))}function tn(re){return typeof re=="function"?re:re==null?rs:typeof re=="object"?vt(re)?function(ke,it){return yt(ke)&&on(it)?mn(he(ke),it):function(Ne){var je=function(Qt,Rt,$t){var xt=Qt==null?void 0:Ze(Qt,Rt);return xt===void 0?$t:xt}(Ne,ke);return je===void 0&&je===it?function(Qt,Rt){return Qt!=null&&function($t,xt,bn){xt=yt(xt,$t)?[xt]:Ct(xt);for(var yn,Sn=-1,Kn=xt.length;++Sn<Kn;){var gi=he(xt[Sn]);if(!(yn=$t!=null&&bn($t,gi)))break;$t=$t[gi]}return yn||!!(Kn=$t?$t.length:0)&&Et(Kn)&&vn(gi,Kn)&&(vt($t)||wt($t))}(Qt,Rt,Vt)}(Ne,ke):un(it,je,void 0,3)}}(re[0],re[1]):function(ke){var it=function(Ne){for(var je=ai(Ne),Qt=je.length;Qt--;){var Rt=je[Qt],$t=Ne[Rt];je[Qt]=[Rt,$t,on($t)]}return je}(ke);return it.length==1&&it[0][2]?mn(it[0][0],it[0][1]):function(Ne){return Ne===ke||function(je,Qt,Rt,$t){var xt=Rt.length,bn=xt;if(je==null)return!bn;for(je=Object(je);xt--;){var yn=Rt[xt];if(yn[2]?yn[1]!==je[yn[0]]:!(yn[0]in je))return!1}for(;++xt<bn;){var Sn=(yn=Rt[xt])[0],Kn=je[Sn],gi=yn[1];if(yn[2]){if(Kn===void 0&&!(Sn in je))return!1}else{var Wi=new nt,pr;if(!(pr===void 0?un(gi,Kn,$t,3,Wi):pr))return!1}}return!0}(Ne,ke,it)}}(re):yt(_e=re)?(Ee=he(_e),function(ke){return ke==null?void 0:ke[Ee]}):function(ke){return function(it){return Ze(it,ke)}}(_e);var _e,Ee}function Mt(re){if(Ee=(_e=re)&&_e.constructor,ke=typeof Ee=="function"&&Ee.prototype||D,_e!==ke)return ee(re);var _e,Ee,ke,it=[];for(var Ne in Object(re))W.call(re,Ne)&&Ne!="constructor"&&it.push(Ne);return it}function Ct(re){return vt(re)?re:lt(re)}function xn(re,_e,Ee,ke,it,Ne){var je=2&it,Qt=re.length,Rt=_e.length;if(Qt!=Rt&&!(je&&Rt>Qt))return!1;var $t=Ne.get(re);if($t&&Ne.get(_e))return $t==_e;var xt=-1,bn=!0,yn=1&it?new rt:void 0;for(Ne.set(re,_e),Ne.set(_e,re);++xt<Qt;){var Sn=re[xt],Kn=_e[xt];if(ke)var gi=je?ke(Kn,Sn,xt,_e,re,Ne):ke(Sn,Kn,xt,re,_e,Ne);if(gi!==void 0){if(gi)continue;bn=!1;break}if(yn){if(!z(_e,function(Wi,pr){if(!yn.has(pr)&&(Sn===Wi||Ee(Sn,Wi,ke,it,Ne)))return yn.add(pr)})){bn=!1;break}}else if(Sn!==Kn&&!Ee(Sn,Kn,ke,it,Ne)){bn=!1;break}}return Ne.delete(re),Ne.delete(_e),bn}function nn(re,_e){var Ee,ke,it=re.__data__;return((ke=typeof(Ee=_e))=="string"||ke=="number"||ke=="symbol"||ke=="boolean"?Ee!=="__proto__":Ee===null)?it[typeof _e=="string"?"string":"hash"]:it.map}function ft(re,_e){var Ee=function(ke,it){return ke==null?void 0:ke[it]}(re,_e);return dt(Ee)?Ee:void 0}var Kt=function(re){return X.call(re)};function vn(re,_e){return!!(_e=_e??9007199254740991)&&(typeof re=="number"||m.test(re))&&re>-1&&re%1==0&&re<_e}function yt(re,_e){if(vt(re))return!1;var Ee=typeof re;return!(Ee!="number"&&Ee!="symbol"&&Ee!="boolean"&&re!=null&&!Pn(re))||h.test(re)||!c.test(re)||_e!=null&&re in Object(_e)}function on(re){return re==re&&!Lt(re)}function mn(re,_e){return function(Ee){return Ee!=null&&Ee[re]===_e&&(_e!==void 0||re in Object(Ee))}}(Q&&Kt(new Q(new ArrayBuffer(1)))!="[object DataView]"||Z&&Kt(new Z)!=a||J&&Kt(J.resolve())!="[object Promise]"||ae&&Kt(new ae)!=d||ce&&Kt(new ce)!="[object WeakMap]")&&(Kt=function(re){var _e=X.call(re),Ee=_e==l?re.constructor:void 0,ke=Ee?ge(Ee):void 0;if(ke)switch(ke){case oe:return"[object DataView]";case le:return a;case fe:return"[object Promise]";case pe:return d;case me:return"[object WeakMap]"}return _e});var lt=_t(function(re){var _e;re=(_e=re)==null?"":function(ke){if(typeof ke=="string")return ke;if(Pn(ke))return De?De.call(ke):"";var it=ke+"";return it=="0"&&1/ke==-1/0?"-0":it}(_e);var Ee=[];return u.test(re)&&Ee.push(""),re.replace(p,function(ke,it,Ne,je){Ee.push(Ne?je.replace(f,"$1"):it||ke)}),Ee});function he(re){if(typeof re=="string"||Pn(re))return re;var _e=re+"";return _e=="0"&&1/re==-1/0?"-0":_e}function ge(re){if(re!=null){try{return U.call(re)}catch{}try{return re+""}catch{}}return""}var Se,He=(Se=function(re,_e,Ee){W.call(re,Ee)?re[Ee].push(_e):re[Ee]=[_e]},function(re,_e){var Ee=vt(re)?V:qe,ke={};return Ee(re,Se,tn(_e),ke)});function _t(re,_e){if(typeof re!="function"||_e&&typeof _e!="function")throw new TypeError("Expected a function");var Ee=function(){var ke=arguments,it=_e?_e.apply(this,ke):ke[0],Ne=Ee.cache;if(Ne.has(it))return Ne.get(it);var je=re.apply(this,ke);return Ee.cache=Ne.set(it,je),je};return Ee.cache=new(_t.Cache||$e),Ee}function ze(re,_e){return re===_e||re!=re&&_e!=_e}function wt(re){return function(_e){return Qn(_e)&&ct(_e)}(re)&&W.call(re,"callee")&&(!F.call(re,"callee")||X.call(re)==o)}_t.Cache=$e;var vt=Array.isArray;function ct(re){return re!=null&&Et(re.length)&&!Tt(re)}function Tt(re){var _e=Lt(re)?X.call(re):"";return _e=="[object Function]"||_e=="[object GeneratorFunction]"}function Et(re){return typeof re=="number"&&re>-1&&re%1==0&&re<=9007199254740991}function Lt(re){var _e=typeof re;return!!re&&(_e=="object"||_e=="function")}function Qn(re){return!!re&&typeof re=="object"}function Pn(re){return typeof re=="symbol"||Qn(re)&&X.call(re)=="[object Symbol]"}var oi=$?function(re){return function(_e){return re(_e)}}($):function(re){return Qn(re)&&Et(re.length)&&!!v[X.call(re)]};function ai(re){return ct(re)?Je(re):Mt(re)}function rs(re){return re}n.exports=He}).call(this)}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(t,n,s){var r=Object.prototype.toString;n.exports=function(o){return o===!0||o===!1||function(a){return!!a&&typeof a=="object"}(o)&&r.call(o)=="[object Boolean]"}},{}],445:[function(t,n,s){(function(r){(function(){var o="[object Arguments]",a="[object Map]",l="[object Object]",d="[object Set]",c=/^\[object .+?Constructor\]$/,h=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[o]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u[a]=u["[object Number]"]=u[l]=u["[object RegExp]"]=u[d]=u["[object String]"]=u["[object WeakMap]"]=!1;var p=typeof r=="object"&&r&&r.Object===Object&&r,f=typeof self=="object"&&self&&self.Object===Object&&self,g=p||f||Function("return this")(),m=typeof s=="object"&&s&&!s.nodeType&&s,v=m&&typeof n=="object"&&n&&!n.nodeType&&n,_=v&&v.exports===m,x=_&&p.process,y=function(){try{return x&&x.binding&&x.binding("util")}catch{}}(),T=y&&y.isTypedArray;function O(he,ge){for(var Se=-1,He=he==null?0:he.length;++Se<He;)if(ge(he[Se],Se,he))return!0;return!1}function L(he){var ge=-1,Se=Array(he.size);return he.forEach(function(He,_t){Se[++ge]=[_t,He]}),Se}function R(he){var ge=-1,Se=Array(he.size);return he.forEach(function(He){Se[++ge]=He}),Se}var $,V,z,H=Array.prototype,I=Function.prototype,A=Object.prototype,E=g["__core-js_shared__"],b=I.toString,w=A.hasOwnProperty,C=($=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+$:"",S=A.toString,D=RegExp("^"+b.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=_?g.Buffer:void 0,k=g.Symbol,U=g.Uint8Array,W=A.propertyIsEnumerable,X=H.splice,j=k?k.toStringTag:void 0,q=Object.getOwnPropertySymbols,B=P?P.isBuffer:void 0,F=(V=Object.keys,z=Object,function(he){return V(z(he))}),K=Vt(g,"DataView"),ee=Vt(g,"Map"),Q=Vt(g,"Promise"),Z=Vt(g,"Set"),J=Vt(g,"WeakMap"),ae=Vt(Object,"create"),ce=Mt(K),te=Mt(ee),oe=Mt(Q),le=Mt(Z),fe=Mt(J),pe=k?k.prototype:void 0,me=pe?pe.valueOf:void 0;function ye(he){var ge=-1,Se=he==null?0:he.length;for(this.clear();++ge<Se;){var He=he[ge];this.set(He[0],He[1])}}function we(he){var ge=-1,Se=he==null?0:he.length;for(this.clear();++ge<Se;){var He=he[ge];this.set(He[0],He[1])}}function De(he){var ge=-1,Se=he==null?0:he.length;for(this.clear();++ge<Se;){var He=he[ge];this.set(He[0],He[1])}}function Ve(he){var ge=-1,Se=he==null?0:he.length;for(this.__data__=new De;++ge<Se;)this.add(he[ge])}function Le(he){var ge=this.__data__=new we(he);this.size=ge.size}function $e(he,ge){var Se=nn(he),He=!Se&&xn(he),_t=!Se&&!He&&ft(he),ze=!Se&&!He&&!_t&&mn(he),wt=Se||He||_t||ze,vt=wt?function(Et,Lt){for(var Qn=-1,Pn=Array(Et);++Qn<Et;)Pn[Qn]=Lt(Qn);return Pn}(he.length,String):[],ct=vt.length;for(var Tt in he)!w.call(he,Tt)||wt&&(Tt=="length"||_t&&(Tt=="offset"||Tt=="parent")||ze&&(Tt=="buffer"||Tt=="byteLength"||Tt=="byteOffset")||tn(Tt,ct))||vt.push(Tt);return vt}function rt(he,ge){for(var Se=he.length;Se--;)if(Ct(he[Se][0],ge))return Se;return-1}function nt(he){return he==null?he===void 0?"[object Undefined]":"[object Null]":j&&j in Object(he)?function(ge){var Se=w.call(ge,j),He=ge[j];try{ge[j]=void 0;var _t=!0}catch{}var ze=S.call(ge);return _t&&(Se?ge[j]=He:delete ge[j]),ze}(he):function(ge){return S.call(ge)}(he)}function Je(he){return on(he)&&nt(he)==o}function et(he,ge,Se,He,_t){return he===ge||(he==null||ge==null||!on(he)&&!on(ge)?he!=he&&ge!=ge:function(ze,wt,vt,ct,Tt,Et){var Lt=nn(ze),Qn=nn(wt),Pn=Lt?"[object Array]":dt(ze),oi=Qn?"[object Array]":dt(wt),ai=(Pn=Pn==o?l:Pn)==l,rs=(oi=oi==o?l:oi)==l,re=Pn==oi;if(re&&ft(ze)){if(!ft(wt))return!1;Lt=!0,ai=!1}if(re&&!ai)return Et||(Et=new Le),Lt||mn(ze)?Ye(ze,wt,vt,ct,Tt,Et):function(Ne,je,Qt,Rt,$t,xt,bn){switch(Qt){case"[object DataView]":if(Ne.byteLength!=je.byteLength||Ne.byteOffset!=je.byteOffset)return!1;Ne=Ne.buffer,je=je.buffer;case"[object ArrayBuffer]":return!(Ne.byteLength!=je.byteLength||!xt(new U(Ne),new U(je)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ct(+Ne,+je);case"[object Error]":return Ne.name==je.name&&Ne.message==je.message;case"[object RegExp]":case"[object String]":return Ne==je+"";case a:var yn=L;case d:var Sn=1&Rt;if(yn||(yn=R),Ne.size!=je.size&&!Sn)return!1;var Kn=bn.get(Ne);if(Kn)return Kn==je;Rt|=2,bn.set(Ne,je);var gi=Ye(yn(Ne),yn(je),Rt,$t,xt,bn);return bn.delete(Ne),gi;case"[object Symbol]":if(me)return me.call(Ne)==me.call(je)}return!1}(ze,wt,Pn,vt,ct,Tt,Et);if(!(1&vt)){var _e=ai&&w.call(ze,"__wrapped__"),Ee=rs&&w.call(wt,"__wrapped__");if(_e||Ee){var ke=_e?ze.value():ze,it=Ee?wt.value():wt;return Et||(Et=new Le),Tt(ke,it,vt,ct,Et)}}return re?(Et||(Et=new Le),function(Ne,je,Qt,Rt,$t,xt){var bn=1&Qt,yn=tt(Ne),Sn=yn.length,Kn=tt(je).length;if(Sn!=Kn&&!bn)return!1;for(var gi=Sn;gi--;){var Wi=yn[gi];if(!(bn?Wi in je:w.call(je,Wi)))return!1}var pr=xt.get(Ne);if(pr&&xt.get(je))return pr==je;var al=!0;xt.set(Ne,je),xt.set(je,Ne);for(var vd=bn;++gi<Sn;){Wi=yn[gi];var xd=Ne[Wi],bd=je[Wi];if(Rt)var Cn=bn?Rt(bd,xd,Wi,je,Ne,xt):Rt(xd,bd,Wi,Ne,je,xt);if(!(Cn===void 0?xd===bd||$t(xd,bd,Qt,Rt,xt):Cn)){al=!1;break}vd||(vd=Wi=="constructor")}if(al&&!vd){var an=Ne.constructor,Ko=je.constructor;an==Ko||!("constructor"in Ne)||!("constructor"in je)||typeof an=="function"&&an instanceof an&&typeof Ko=="function"&&Ko instanceof Ko||(al=!1)}return xt.delete(Ne),xt.delete(je),al}(ze,wt,vt,ct,Tt,Et)):!1}(he,ge,Se,He,et,_t))}function qe(he){return!(!yt(he)||function(ge){return!!C&&C in ge}(he))&&(Kt(he)?D:c).test(Mt(he))}function Fe(he){if(Se=(ge=he)&&ge.constructor,He=typeof Se=="function"&&Se.prototype||A,ge!==He)return F(he);var ge,Se,He,_t=[];for(var ze in Object(he))w.call(he,ze)&&ze!="constructor"&&_t.push(ze);return _t}function Ye(he,ge,Se,He,_t,ze){var wt=1&Se,vt=he.length,ct=ge.length;if(vt!=ct&&!(wt&&ct>vt))return!1;var Tt=ze.get(he);if(Tt&&ze.get(ge))return Tt==ge;var Et=-1,Lt=!0,Qn=2&Se?new Ve:void 0;for(ze.set(he,ge),ze.set(ge,he);++Et<vt;){var Pn=he[Et],oi=ge[Et];if(He)var ai=wt?He(oi,Pn,Et,ge,he,ze):He(Pn,oi,Et,he,ge,ze);if(ai!==void 0){if(ai)continue;Lt=!1;break}if(Qn){if(!O(ge,function(rs,re){if(_e=re,!Qn.has(_e)&&(Pn===rs||_t(Pn,rs,Se,He,ze)))return Qn.push(re);var _e})){Lt=!1;break}}else if(Pn!==oi&&!_t(Pn,oi,Se,He,ze)){Lt=!1;break}}return ze.delete(he),ze.delete(ge),Lt}function tt(he){return function(ge,Se,He){var _t=Se(ge);return nn(ge)?_t:function(ze,wt){for(var vt=-1,ct=wt.length,Tt=ze.length;++vt<ct;)ze[Tt+vt]=wt[vt];return ze}(_t,He(ge))}(he,lt,un)}function Ze(he,ge){var Se,He,_t=he.__data__;return((He=typeof(Se=ge))=="string"||He=="number"||He=="symbol"||He=="boolean"?Se!=="__proto__":Se===null)?_t[typeof ge=="string"?"string":"hash"]:_t.map}function Vt(he,ge){var Se=function(He,_t){return He==null?void 0:He[_t]}(he,ge);return qe(Se)?Se:void 0}ye.prototype.clear=function(){this.__data__=ae?ae(null):{},this.size=0},ye.prototype.delete=function(he){var ge=this.has(he)&&delete this.__data__[he];return this.size-=ge?1:0,ge},ye.prototype.get=function(he){var ge=this.__data__;if(ae){var Se=ge[he];return Se==="__lodash_hash_undefined__"?void 0:Se}return w.call(ge,he)?ge[he]:void 0},ye.prototype.has=function(he){var ge=this.__data__;return ae?ge[he]!==void 0:w.call(ge,he)},ye.prototype.set=function(he,ge){var Se=this.__data__;return this.size+=this.has(he)?0:1,Se[he]=ae&&ge===void 0?"__lodash_hash_undefined__":ge,this},we.prototype.clear=function(){this.__data__=[],this.size=0},we.prototype.delete=function(he){var ge=this.__data__,Se=rt(ge,he);return!(Se<0)&&(Se==ge.length-1?ge.pop():X.call(ge,Se,1),--this.size,!0)},we.prototype.get=function(he){var ge=this.__data__,Se=rt(ge,he);return Se<0?void 0:ge[Se][1]},we.prototype.has=function(he){return rt(this.__data__,he)>-1},we.prototype.set=function(he,ge){var Se=this.__data__,He=rt(Se,he);return He<0?(++this.size,Se.push([he,ge])):Se[He][1]=ge,this},De.prototype.clear=function(){this.size=0,this.__data__={hash:new ye,map:new(ee||we),string:new ye}},De.prototype.delete=function(he){var ge=Ze(this,he).delete(he);return this.size-=ge?1:0,ge},De.prototype.get=function(he){return Ze(this,he).get(he)},De.prototype.has=function(he){return Ze(this,he).has(he)},De.prototype.set=function(he,ge){var Se=Ze(this,he),He=Se.size;return Se.set(he,ge),this.size+=Se.size==He?0:1,this},Ve.prototype.add=Ve.prototype.push=function(he){return this.__data__.set(he,"__lodash_hash_undefined__"),this},Ve.prototype.has=function(he){return this.__data__.has(he)},Le.prototype.clear=function(){this.__data__=new we,this.size=0},Le.prototype.delete=function(he){var ge=this.__data__,Se=ge.delete(he);return this.size=ge.size,Se},Le.prototype.get=function(he){return this.__data__.get(he)},Le.prototype.has=function(he){return this.__data__.has(he)},Le.prototype.set=function(he,ge){var Se=this.__data__;if(Se instanceof we){var He=Se.__data__;if(!ee||He.length<199)return He.push([he,ge]),this.size=++Se.size,this;Se=this.__data__=new De(He)}return Se.set(he,ge),this.size=Se.size,this};var un=q?function(he){return he==null?[]:(he=Object(he),function(ge,Se){for(var He=-1,_t=ge==null?0:ge.length,ze=0,wt=[];++He<_t;){var vt=ge[He];Se(vt,He,ge)&&(wt[ze++]=vt)}return wt}(q(he),function(ge){return W.call(he,ge)}))}:function(){return[]},dt=nt;function tn(he,ge){return!!(ge=ge??9007199254740991)&&(typeof he=="number"||h.test(he))&&he>-1&&he%1==0&&he<ge}function Mt(he){if(he!=null){try{return b.call(he)}catch{}try{return he+""}catch{}}return""}function Ct(he,ge){return he===ge||he!=he&&ge!=ge}(K&&dt(new K(new ArrayBuffer(1)))!="[object DataView]"||ee&&dt(new ee)!=a||Q&&dt(Q.resolve())!="[object Promise]"||Z&&dt(new Z)!=d||J&&dt(new J)!="[object WeakMap]")&&(dt=function(he){var ge=nt(he),Se=ge==l?he.constructor:void 0,He=Se?Mt(Se):"";if(He)switch(He){case ce:return"[object DataView]";case te:return a;case oe:return"[object Promise]";case le:return d;case fe:return"[object WeakMap]"}return ge});var xn=Je(function(){return arguments}())?Je:function(he){return on(he)&&w.call(he,"callee")&&!W.call(he,"callee")},nn=Array.isArray,ft=B||function(){return!1};function Kt(he){if(!yt(he))return!1;var ge=nt(he);return ge=="[object Function]"||ge=="[object GeneratorFunction]"||ge=="[object AsyncFunction]"||ge=="[object Proxy]"}function vn(he){return typeof he=="number"&&he>-1&&he%1==0&&he<=9007199254740991}function yt(he){var ge=typeof he;return he!=null&&(ge=="object"||ge=="function")}function on(he){return he!=null&&typeof he=="object"}var mn=T?function(he){return function(ge){return he(ge)}}(T):function(he){return on(he)&&vn(he.length)&&!!u[nt(he)]};function lt(he){return(ge=he)!=null&&vn(ge.length)&&!Kt(ge)?$e(he):Fe(he);var ge}n.exports=function(he,ge){return et(he,ge)}}).call(this)}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(t,n,s){(function(r){(function(){var o=typeof r=="object"&&r&&r.Object===Object&&r,a=typeof self=="object"&&self&&self.Object===Object&&self,l=o||a||Function("return this")(),d=Object.prototype,c=d.hasOwnProperty,h=d.toString,u=l.Symbol,p=u?u.toStringTag:void 0;function f(g){return g==null?g===void 0?"[object Undefined]":"[object Null]":p&&p in Object(g)?function(m){var v=c.call(m,p),_=m[p];try{m[p]=void 0;var x=!0}catch{}var y=h.call(m);return x&&(v?m[p]=_:delete m[p]),y}(g):function(m){return h.call(m)}(g)}n.exports=function(g){if(!function(v){var _=typeof v;return v!=null&&(_=="object"||_=="function")}(g))return!1;var m=f(g);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(t,n,s){n.exports=function(r){return r==null}},{}],448:[function(t,n,s){n.exports=function(r){return r===void 0}},{}],449:[function(t,n,s){(function(r){(function(){var o=/^\[object .+?Constructor\]$/,a=typeof r=="object"&&r&&r.Object===Object&&r,l=typeof self=="object"&&self&&self.Object===Object&&self,d=a||l||Function("return this")();function c(k,U){return!!(k&&k.length)&&function(W,X,j){if(X!=X)return function(F,K,ee,Q){for(var Z=F.length,J=ee+-1;++J<Z;)if(K(F[J],J,F))return J;return-1}(W,h,j);for(var q=j-1,B=W.length;++q<B;)if(W[q]===X)return q;return-1}(k,U,0)>-1}function h(k){return k!=k}function u(k,U){return k.has(U)}function p(k){var U=-1,W=Array(k.size);return k.forEach(function(X){W[++U]=X}),W}var f,g=Array.prototype,m=Function.prototype,v=Object.prototype,_=d["__core-js_shared__"],x=(f=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",y=m.toString,T=v.hasOwnProperty,O=v.toString,L=RegExp("^"+y.call(T).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),R=g.splice,$=D(d,"Map"),V=D(d,"Set"),z=D(Object,"create");function H(k){var U=-1,W=k?k.length:0;for(this.clear();++U<W;){var X=k[U];this.set(X[0],X[1])}}function I(k){var U=-1,W=k?k.length:0;for(this.clear();++U<W;){var X=k[U];this.set(X[0],X[1])}}function A(k){var U=-1,W=k?k.length:0;for(this.clear();++U<W;){var X=k[U];this.set(X[0],X[1])}}function E(k){var U=-1,W=k?k.length:0;for(this.__data__=new A;++U<W;)this.add(k[U])}function b(k,U){for(var W,X,j=k.length;j--;)if((W=k[j][0])===(X=U)||W!=W&&X!=X)return j;return-1}function w(k){return!(!P(k)||(U=k,x&&x in U))&&(function(W){var X=P(W)?O.call(W):"";return X=="[object Function]"||X=="[object GeneratorFunction]"}(k)||function(W){var X=!1;if(W!=null&&typeof W.toString!="function")try{X=!!(W+"")}catch{}return X}(k)?L:o).test(function(W){if(W!=null){try{return y.call(W)}catch{}try{return W+""}catch{}}return""}(k));var U}H.prototype.clear=function(){this.__data__=z?z(null):{}},H.prototype.delete=function(k){return this.has(k)&&delete this.__data__[k]},H.prototype.get=function(k){var U=this.__data__;if(z){var W=U[k];return W==="__lodash_hash_undefined__"?void 0:W}return T.call(U,k)?U[k]:void 0},H.prototype.has=function(k){var U=this.__data__;return z?U[k]!==void 0:T.call(U,k)},H.prototype.set=function(k,U){return this.__data__[k]=z&&U===void 0?"__lodash_hash_undefined__":U,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(k){var U=this.__data__,W=b(U,k);return!(W<0)&&(W==U.length-1?U.pop():R.call(U,W,1),!0)},I.prototype.get=function(k){var U=this.__data__,W=b(U,k);return W<0?void 0:U[W][1]},I.prototype.has=function(k){return b(this.__data__,k)>-1},I.prototype.set=function(k,U){var W=this.__data__,X=b(W,k);return X<0?W.push([k,U]):W[X][1]=U,this},A.prototype.clear=function(){this.__data__={hash:new H,map:new($||I),string:new H}},A.prototype.delete=function(k){return S(this,k).delete(k)},A.prototype.get=function(k){return S(this,k).get(k)},A.prototype.has=function(k){return S(this,k).has(k)},A.prototype.set=function(k,U){return S(this,k).set(k,U),this},E.prototype.add=E.prototype.push=function(k){return this.__data__.set(k,"__lodash_hash_undefined__"),this},E.prototype.has=function(k){return this.__data__.has(k)};var C=V&&1/p(new V([,-0]))[1]==1/0?function(k){return new V(k)}:function(){};function S(k,U){var W,X,j=k.__data__;return((X=typeof(W=U))=="string"||X=="number"||X=="symbol"||X=="boolean"?W!=="__proto__":W===null)?j[typeof U=="string"?"string":"hash"]:j.map}function D(k,U){var W=function(X,j){return X==null?void 0:X[j]}(k,U);return w(W)?W:void 0}function P(k){var U=typeof k;return!!k&&(U=="object"||U=="function")}n.exports=function(k){return k&&k.length?function(U,W,X){var j=-1,q=c,B=U.length,F=!0,K=[],ee=K;if(B>=200){var Q=C(U);if(Q)return p(Q);F=!1,q=u,ee=new E}else ee=K;e:for(;++j<B;){var Z=U[j],J=Z;if(Z=Z!==0?Z:0,F&&J==J){for(var ae=ee.length;ae--;)if(ee[ae]===J)continue e;K.push(Z)}else q(ee,J,X)||(ee!==K&&ee.push(J),K.push(Z))}return K}(k):[]}}).call(this)}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(t,n,s){var r=t("inherits"),o=t("hash-base"),a=t("safe-buffer").Buffer,l=new Array(16);function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(g,m){return g<<m|g>>>32-m}function h(g,m,v,_,x,y,T){return c(g+(m&v|~m&_)+x+y|0,T)+m|0}function u(g,m,v,_,x,y,T){return c(g+(m&_|v&~_)+x+y|0,T)+m|0}function p(g,m,v,_,x,y,T){return c(g+(m^v^_)+x+y|0,T)+m|0}function f(g,m,v,_,x,y,T){return c(g+(v^(m|~_))+x+y|0,T)+m|0}r(d,o),d.prototype._update=function(){for(var g=l,m=0;m<16;++m)g[m]=this._block.readInt32LE(4*m);var v=this._a,_=this._b,x=this._c,y=this._d;v=h(v,_,x,y,g[0],3614090360,7),y=h(y,v,_,x,g[1],3905402710,12),x=h(x,y,v,_,g[2],606105819,17),_=h(_,x,y,v,g[3],3250441966,22),v=h(v,_,x,y,g[4],4118548399,7),y=h(y,v,_,x,g[5],1200080426,12),x=h(x,y,v,_,g[6],2821735955,17),_=h(_,x,y,v,g[7],4249261313,22),v=h(v,_,x,y,g[8],1770035416,7),y=h(y,v,_,x,g[9],2336552879,12),x=h(x,y,v,_,g[10],4294925233,17),_=h(_,x,y,v,g[11],2304563134,22),v=h(v,_,x,y,g[12],1804603682,7),y=h(y,v,_,x,g[13],4254626195,12),x=h(x,y,v,_,g[14],2792965006,17),v=u(v,_=h(_,x,y,v,g[15],1236535329,22),x,y,g[1],4129170786,5),y=u(y,v,_,x,g[6],3225465664,9),x=u(x,y,v,_,g[11],643717713,14),_=u(_,x,y,v,g[0],3921069994,20),v=u(v,_,x,y,g[5],3593408605,5),y=u(y,v,_,x,g[10],38016083,9),x=u(x,y,v,_,g[15],3634488961,14),_=u(_,x,y,v,g[4],3889429448,20),v=u(v,_,x,y,g[9],568446438,5),y=u(y,v,_,x,g[14],3275163606,9),x=u(x,y,v,_,g[3],4107603335,14),_=u(_,x,y,v,g[8],1163531501,20),v=u(v,_,x,y,g[13],2850285829,5),y=u(y,v,_,x,g[2],4243563512,9),x=u(x,y,v,_,g[7],1735328473,14),v=p(v,_=u(_,x,y,v,g[12],2368359562,20),x,y,g[5],4294588738,4),y=p(y,v,_,x,g[8],2272392833,11),x=p(x,y,v,_,g[11],1839030562,16),_=p(_,x,y,v,g[14],4259657740,23),v=p(v,_,x,y,g[1],2763975236,4),y=p(y,v,_,x,g[4],1272893353,11),x=p(x,y,v,_,g[7],4139469664,16),_=p(_,x,y,v,g[10],3200236656,23),v=p(v,_,x,y,g[13],681279174,4),y=p(y,v,_,x,g[0],3936430074,11),x=p(x,y,v,_,g[3],3572445317,16),_=p(_,x,y,v,g[6],76029189,23),v=p(v,_,x,y,g[9],3654602809,4),y=p(y,v,_,x,g[12],3873151461,11),x=p(x,y,v,_,g[15],530742520,16),v=f(v,_=p(_,x,y,v,g[2],3299628645,23),x,y,g[0],4096336452,6),y=f(y,v,_,x,g[7],1126891415,10),x=f(x,y,v,_,g[14],2878612391,15),_=f(_,x,y,v,g[5],4237533241,21),v=f(v,_,x,y,g[12],1700485571,6),y=f(y,v,_,x,g[3],2399980690,10),x=f(x,y,v,_,g[10],4293915773,15),_=f(_,x,y,v,g[1],2240044497,21),v=f(v,_,x,y,g[8],1873313359,6),y=f(y,v,_,x,g[15],4264355552,10),x=f(x,y,v,_,g[6],2734768916,15),_=f(_,x,y,v,g[13],1309151649,21),v=f(v,_,x,y,g[4],4149444226,6),y=f(y,v,_,x,g[11],3174756917,10),x=f(x,y,v,_,g[2],718787259,15),_=f(_,x,y,v,g[9],3951481745,21),this._a=this._a+v|0,this._b=this._b+_|0,this._c=this._c+x|0,this._d=this._d+y|0},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var g=a.allocUnsafe(16);return g.writeInt32LE(this._a,0),g.writeInt32LE(this._b,4),g.writeInt32LE(this._c,8),g.writeInt32LE(this._d,12),g},n.exports=d},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(t,n,s){var r=t("bn.js"),o=t("brorand");function a(l){this.rand=l||new o.Rand}n.exports=a,a.create=function(l){return new a(l)},a.prototype._randbelow=function(l){var d=l.bitLength(),c=Math.ceil(d/8);do var h=new r(this.rand.generate(c));while(h.cmp(l)>=0);return h},a.prototype._randrange=function(l,d){var c=d.sub(l);return l.add(this._randbelow(c))},a.prototype.test=function(l,d,c){var h=l.bitLength(),u=r.mont(l),p=new r(1).toRed(u);d||(d=Math.max(1,h/48|0));for(var f=l.subn(1),g=0;!f.testn(g);g++);for(var m=l.shrn(g),v=f.toRed(u);d>0;d--){var _=this._randrange(new r(2),f);c&&c(_);var x=_.toRed(u).redPow(m);if(x.cmp(p)!==0&&x.cmp(v)!==0){for(var y=1;y<g;y++){if((x=x.redSqr()).cmp(p)===0)return!1;if(x.cmp(v)===0)break}if(y===g)return!1}}return!0},a.prototype.getDivisor=function(l,d){var c=l.bitLength(),h=r.mont(l),u=new r(1).toRed(h);d||(d=Math.max(1,c/48|0));for(var p=l.subn(1),f=0;!p.testn(f);f++);for(var g=l.shrn(f),m=p.toRed(h);d>0;d--){var v=this._randrange(new r(2),p),_=l.gcd(v);if(_.cmpn(1)!==0)return _;var x=v.toRed(h).redPow(g);if(x.cmp(u)!==0&&x.cmp(m)!==0){for(var y=1;y<f;y++){if((x=x.redSqr()).cmp(u)===0)return x.fromRed().subn(1).gcd(l);if(x.cmp(m)===0)break}if(y===f)return(x=x.redSqr()).fromRed().subn(1).gcd(l)}}return!1}},{"bn.js":452,brorand:187}],452:[function(t,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],453:[function(t,n,s){function r(o,a){if(!o)throw new Error(a||"Assertion failed")}n.exports=r,r.equal=function(o,a,l){if(o!=a)throw new Error(l||"Assertion failed: "+o+" != "+a)}},{}],454:[function(t,n,s){var r=s;function o(l){return l.length===1?"0"+l:l}function a(l){for(var d="",c=0;c<l.length;c++)d+=o(l[c].toString(16));return d}r.toArray=function(l,d){if(Array.isArray(l))return l.slice();if(!l)return[];var c=[];if(typeof l!="string"){for(var h=0;h<l.length;h++)c[h]=0|l[h];return c}if(d==="hex")for((l=l.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(l="0"+l),h=0;h<l.length;h+=2)c.push(parseInt(l[h]+l[h+1],16));else for(h=0;h<l.length;h++){var u=l.charCodeAt(h),p=u>>8,f=255&u;p?c.push(p,f):c.push(f)}return c},r.zero2=o,r.toHex=a,r.encode=function(l,d){return d==="hex"?a(l):l}},{}],455:[function(t,n,s){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(t,n,s){var r=t("asn1.js");s.certificate=t("./certificate");var o=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});s.RSAPrivateKey=o;var a=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});s.RSAPublicKey=a;var l=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(d),this.key("subjectPublicKey").bitstr())});s.PublicKey=l;var d=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(d),this.key("subjectPrivateKey").octstr())});s.PrivateKey=c;var h=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});s.EncryptedPrivateKey=h;var u=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});s.DSAPrivateKey=u,s.DSAparam=r.define("DSAparam",function(){this.int()});var p=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(f),this.key("publicKey").optional().explicit(1).bitstr())});s.ECPrivateKey=p;var f=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});s.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(t,n,s){var r=t("asn1.js"),o=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),l=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),d=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(l),this.key("subjectPublicKey").bitstr())}),c=r.define("RelativeDistinguishedName",function(){this.setof(a)}),h=r.define("RDNSequence",function(){this.seqof(c)}),u=r.define("Name",function(){this.choice({rdnSequence:this.use(h)})}),p=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(o),this.key("notAfter").use(o))}),f=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),g=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(l),this.key("issuer").use(u),this.key("validity").use(p),this.key("subject").use(u),this.key("subjectPublicKeyInfo").use(d),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(f).optional())}),m=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(g),this.key("signatureAlgorithm").use(l),this.key("signatureValue").bitstr())});n.exports=m},{"asn1.js":170}],458:[function(t,n,s){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,l=t("evp_bytestokey"),d=t("browserify-aes"),c=t("safe-buffer").Buffer;n.exports=function(h,u){var p,f=h.toString(),g=f.match(r);if(g){var m="aes"+g[1],v=c.from(g[2],"hex"),_=c.from(g[3].replace(/[\r\n]/g,""),"base64"),x=l(u,v.slice(0,8),parseInt(g[1],10)).key,y=[],T=d.createDecipheriv(m,x,v);y.push(T.update(_)),y.push(T.final()),p=c.concat(y)}else{var O=f.match(a);p=c.from(O[2].replace(/[\r\n]/g,""),"base64")}return{tag:f.match(o)[1],data:p}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(t,n,s){var r=t("./asn1"),o=t("./aesid.json"),a=t("./fixProc"),l=t("browserify-aes"),d=t("pbkdf2"),c=t("safe-buffer").Buffer;function h(u){var p;typeof u!="object"||c.isBuffer(u)||(p=u.passphrase,u=u.key),typeof u=="string"&&(u=c.from(u));var f,g,m=a(u,p),v=m.tag,_=m.data;switch(v){case"CERTIFICATE":g=r.certificate.decode(_,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(g||(g=r.PublicKey.decode(_,"der")),f=g.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(g.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return g.subjectPrivateKey=g.subjectPublicKey,{type:"ec",data:g};case"1.2.840.10040.4.1":return g.algorithm.params.pub_key=r.DSAparam.decode(g.subjectPublicKey.data,"der"),{type:"dsa",data:g.algorithm.params};default:throw new Error("unknown key id "+f)}case"ENCRYPTED PRIVATE KEY":_=function(x,y){var T=x.algorithm.decrypt.kde.kdeparams.salt,O=parseInt(x.algorithm.decrypt.kde.kdeparams.iters.toString(),10),L=o[x.algorithm.decrypt.cipher.algo.join(".")],R=x.algorithm.decrypt.cipher.iv,$=x.subjectPrivateKey,V=parseInt(L.split("-")[1],10)/8,z=d.pbkdf2Sync(y,T,O,V,"sha1"),H=l.createDecipheriv(L,z,R),I=[];return I.push(H.update($)),I.push(H.final()),c.concat(I)}(_=r.EncryptedPrivateKey.decode(_,"der"),p);case"PRIVATE KEY":switch(f=(g=r.PrivateKey.decode(_,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(g.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:g.algorithm.curve,privateKey:r.ECPrivateKey.decode(g.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return g.algorithm.params.priv_key=r.DSAparam.decode(g.subjectPrivateKey,"der"),{type:"dsa",params:g.algorithm.params};default:throw new Error("unknown key id "+f)}case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(_,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(_,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(_,"der")};case"EC PRIVATE KEY":return{curve:(_=r.ECPrivateKey.decode(_,"der")).parameters.value,privateKey:_.privateKey};default:throw new Error("unknown key type "+v)}}n.exports=h,h.signature=r.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(t,n,s){s.pbkdf2=t("./lib/async"),s.pbkdf2Sync=t("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(t,n,s){(function(r){(function(){var o,a,l=t("safe-buffer").Buffer,d=t("./precondition"),c=t("./default-encoding"),h=t("./sync"),u=t("./to-buffer"),p=r.crypto&&r.crypto.subtle,f={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},g=[];function m(){return a||(a=r.process&&r.process.nextTick?r.process.nextTick:r.queueMicrotask?r.queueMicrotask:r.setImmediate?r.setImmediate:r.setTimeout)}function v(_,x,y,T,O){return p.importKey("raw",_,{name:"PBKDF2"},!1,["deriveBits"]).then(function(L){return p.deriveBits({name:"PBKDF2",salt:x,iterations:y,hash:{name:O}},L,T<<3)}).then(function(L){return l.from(L)})}n.exports=function(_,x,y,T,O,L){typeof O=="function"&&(L=O,O=void 0);var R=f[(O=O||"sha1").toLowerCase()];if(R&&typeof r.Promise=="function"){if(d(y,T),_=u(_,c,"Password"),x=u(x,c,"Salt"),typeof L!="function")throw new Error("No callback provided to pbkdf2");(function($,V){$.then(function(z){m()(function(){V(null,z)})},function(z){m()(function(){V(z)})})})(function($){if(r.process&&!r.process.browser||!p||!p.importKey||!p.deriveBits)return Promise.resolve(!1);if(g[$]!==void 0)return g[$];var V=v(o=o||l.alloc(8),o,10,128,$).then(function(){return!0}).catch(function(){return!1});return g[$]=V,V}(R).then(function($){return $?v(_,x,y,T,R):h(_,x,y,T,O)}),L)}else m()(function(){var $;try{$=h(_,x,y,T,O)}catch(V){return L(V)}L(null,$)})}}).call(this)}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(t,n,s){(function(r,o){(function(){var a;o.process&&o.process.browser?a="utf-8":o.process&&o.process.version?a=parseInt(r.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":a="utf-8",n.exports=a}).call(this)}).call(this,t("_process"),typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(t,n,s){var r=Math.pow(2,30)-1;n.exports=function(o,a){if(typeof o!="number")throw new TypeError("Iterations not a number");if(o<0)throw new TypeError("Bad iterations");if(typeof a!="number")throw new TypeError("Key length not a number");if(a<0||a>r||a!=a)throw new TypeError("Bad key length")}},{}],464:[function(t,n,s){var r=t("create-hash/md5"),o=t("ripemd160"),a=t("sha.js"),l=t("safe-buffer").Buffer,d=t("./precondition"),c=t("./default-encoding"),h=t("./to-buffer"),u=l.alloc(128),p={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function f(g,m,v){var _=function(R){function $(V){return a(R).update(V).digest()}return R==="rmd160"||R==="ripemd160"?function(V){return new o().update(V).digest()}:R==="md5"?r:$}(g),x=g==="sha512"||g==="sha384"?128:64;m.length>x?m=_(m):m.length<x&&(m=l.concat([m,u],x));for(var y=l.allocUnsafe(x+p[g]),T=l.allocUnsafe(x+p[g]),O=0;O<x;O++)y[O]=54^m[O],T[O]=92^m[O];var L=l.allocUnsafe(x+v+4);y.copy(L,0,0,x),this.ipad1=L,this.ipad2=y,this.opad=T,this.alg=g,this.blocksize=x,this.hash=_,this.size=p[g]}f.prototype.run=function(g,m){return g.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(g,m,v,_,x){d(v,_);var y=new f(x=x||"sha1",g=h(g,c,"Password"),(m=h(m,c,"Salt")).length),T=l.allocUnsafe(_),O=l.allocUnsafe(m.length+4);m.copy(O,0,0,m.length);for(var L=0,R=p[x],$=Math.ceil(_/R),V=1;V<=$;V++){O.writeUInt32BE(V,m.length);for(var z=y.run(O,y.ipad1),H=z,I=1;I<v;I++){H=y.run(H,y.ipad2);for(var A=0;A<R;A++)z[A]^=H[A]}z.copy(T,L),L+=R}return T}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(t,n,s){var r=t("safe-buffer").Buffer;n.exports=function(o,a,l){if(r.isBuffer(o))return o;if(typeof o=="string")return r.from(o,a);if(ArrayBuffer.isView(o))return r.from(o.buffer);throw new TypeError(l+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(t,n,s){(function(r){(function(){r===void 0||!r.version||r.version.indexOf("v0.")===0||r.version.indexOf("v1.")===0&&r.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(o,a,l,d){if(typeof o!="function")throw new TypeError('"callback" argument must be a function');var c,h,u=arguments.length;switch(u){case 0:case 1:return r.nextTick(o);case 2:return r.nextTick(function(){o.call(null,a)});case 3:return r.nextTick(function(){o.call(null,a,l)});case 4:return r.nextTick(function(){o.call(null,a,l,d)});default:for(c=new Array(u-1),h=0;h<c.length;)c[h++]=arguments[h];return r.nextTick(function(){o.apply(null,c)})}}}:n.exports=r}).call(this)}).call(this,t("_process"))},{_process:467}],467:[function(t,n,s){var r,o,a=n.exports={};function l(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function c(x){if(r===setTimeout)return setTimeout(x,0);if((r===l||!r)&&setTimeout)return r=setTimeout,setTimeout(x,0);try{return r(x,0)}catch{try{return r.call(null,x,0)}catch{return r.call(this,x,0)}}}(function(){try{r=typeof setTimeout=="function"?setTimeout:l}catch{r=l}try{o=typeof clearTimeout=="function"?clearTimeout:d}catch{o=d}})();var h,u=[],p=!1,f=-1;function g(){p&&h&&(p=!1,h.length?u=h.concat(u):f=-1,u.length&&m())}function m(){if(!p){var x=c(g);p=!0;for(var y=u.length;y;){for(h=u,u=[];++f<y;)h&&h[f].run();f=-1,y=u.length}h=null,p=!1,function(T){if(o===clearTimeout)return clearTimeout(T);if((o===d||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(T);try{o(T)}catch{try{return o.call(null,T)}catch{return o.call(this,T)}}}(x)}}function v(x,y){this.fun=x,this.array=y}function _(){}a.nextTick=function(x){var y=new Array(arguments.length-1);if(arguments.length>1)for(var T=1;T<arguments.length;T++)y[T-1]=arguments[T];u.push(new v(x,y)),u.length!==1||p||c(m)},v.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=_,a.addListener=_,a.once=_,a.off=_,a.removeListener=_,a.removeAllListeners=_,a.emit=_,a.prependListener=_,a.prependOnceListener=_,a.listeners=function(x){return[]},a.binding=function(x){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(x){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],468:[function(t,n,s){s.publicEncrypt=t("./publicEncrypt"),s.privateDecrypt=t("./privateDecrypt"),s.privateEncrypt=function(r,o){return s.publicEncrypt(r,o,!0)},s.publicDecrypt=function(r,o){return s.privateDecrypt(r,o,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(t,n,s){var r=t("create-hash"),o=t("safe-buffer").Buffer;function a(l){var d=o.allocUnsafe(4);return d.writeUInt32BE(l,0),d}n.exports=function(l,d){for(var c,h=o.alloc(0),u=0;h.length<d;)c=a(u++),h=o.concat([h,r("sha1").update(l).update(c).digest()]);return h.slice(0,d)}},{"create-hash":386,"safe-buffer":494}],470:[function(t,n,s){arguments[4][184][0].apply(s,arguments)},{buffer:188,dup:184}],471:[function(t,n,s){var r=t("parse-asn1"),o=t("./mgf"),a=t("./xor"),l=t("bn.js"),d=t("browserify-rsa"),c=t("create-hash"),h=t("./withPublic"),u=t("safe-buffer").Buffer;n.exports=function(p,f,g){var m;m=p.padding?p.padding:g?1:4;var v,_=r(p),x=_.modulus.byteLength();if(f.length>x||new l(f).cmp(_.modulus)>=0)throw new Error("decryption error");v=g?h(new l(f),_):d(f,_);var y=u.alloc(x-v.length);if(v=u.concat([y,v],x),m===4)return function(T,O){var L=T.modulus.byteLength(),R=c("sha1").update(u.alloc(0)).digest(),$=R.length;if(O[0]!==0)throw new Error("decryption error");var V=O.slice(1,$+1),z=O.slice($+1),H=a(V,o(z,$)),I=a(z,o(H,L-$-1));if(function(E,b){E=u.from(E),b=u.from(b);var w=0,C=E.length;E.length!==b.length&&(w++,C=Math.min(E.length,b.length));for(var S=-1;++S<C;)w+=E[S]^b[S];return w}(R,I.slice(0,$)))throw new Error("decryption error");for(var A=$;I[A]===0;)A++;if(I[A++]!==1)throw new Error("decryption error");return I.slice(A)}(_,v);if(m===1)return function(T,O,L){for(var R=O.slice(0,2),$=2,V=0;O[$++]!==0;)if($>=O.length){V++;break}var z=O.slice(2,$-1);if((R.toString("hex")!=="0002"&&!L||R.toString("hex")!=="0001"&&L)&&V++,z.length<8&&V++,V)throw new Error("decryption error");return O.slice($)}(0,v,g);if(m===3)return v;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(t,n,s){var r=t("parse-asn1"),o=t("randombytes"),a=t("create-hash"),l=t("./mgf"),d=t("./xor"),c=t("bn.js"),h=t("./withPublic"),u=t("browserify-rsa"),p=t("safe-buffer").Buffer;n.exports=function(f,g,m){var v;v=f.padding?f.padding:m?1:4;var _,x=r(f);if(v===4)_=function(y,T){var O=y.modulus.byteLength(),L=T.length,R=a("sha1").update(p.alloc(0)).digest(),$=R.length,V=2*$;if(L>O-V-2)throw new Error("message too long");var z=p.alloc(O-L-V-2),H=O-$-1,I=o($),A=d(p.concat([R,z,p.alloc(1,1),T],H),l(I,H)),E=d(I,l(A,$));return new c(p.concat([p.alloc(1),E,A],O))}(x,g);else if(v===1)_=function(y,T,O){var L,R=T.length,$=y.modulus.byteLength();if(R>$-11)throw new Error("message too long");return L=O?p.alloc($-R-3,255):function(V){for(var z,H=p.allocUnsafe(V),I=0,A=o(2*V),E=0;I<V;)E===A.length&&(A=o(2*V),E=0),(z=A[E++])&&(H[I++]=z);return H}($-R-3),new c(p.concat([p.from([0,O?1:2]),L,p.alloc(1),T],$))}(x,g,m);else{if(v!==3)throw new Error("unknown padding");if((_=new c(g)).cmp(x.modulus)>=0)throw new Error("data too long for modulus")}return m?u(_,x):h(_,x)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(t,n,s){var r=t("bn.js"),o=t("safe-buffer").Buffer;n.exports=function(a,l){return o.from(a.toRed(r.mont(l.modulus)).redPow(new r(l.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(t,n,s){n.exports=function(r,o){for(var a=r.length,l=-1;++l<a;)r[l]^=o[l];return r}},{}],475:[function(t,n,s){(function(r,o){(function(){var a=t("safe-buffer").Buffer,l=o.crypto||o.msCrypto;l&&l.getRandomValues?n.exports=function(d,c){if(d>4294967295)throw new RangeError("requested too many random bytes");var h=a.allocUnsafe(d);if(d>0)if(d>65536)for(var u=0;u<d;u+=65536)l.getRandomValues(h.slice(u,u+65536));else l.getRandomValues(h);return typeof c=="function"?r.nextTick(function(){c(null,h)}):h}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,t("_process"),typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(t,n,s){(function(r,o){(function(){function a(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var l=t("safe-buffer"),d=t("randombytes"),c=l.Buffer,h=l.kMaxLength,u=o.crypto||o.msCrypto,p=Math.pow(2,32)-1;function f(v,_){if(typeof v!="number"||v!=v)throw new TypeError("offset must be a number");if(v>p||v<0)throw new TypeError("offset must be a uint32");if(v>h||v>_)throw new RangeError("offset out of range")}function g(v,_,x){if(typeof v!="number"||v!=v)throw new TypeError("size must be a number");if(v>p||v<0)throw new TypeError("size must be a uint32");if(v+_>x||v>h)throw new RangeError("buffer too small")}function m(v,_,x,y){if(r.browser){var T=v.buffer,O=new Uint8Array(T,_,x);return u.getRandomValues(O),y?void r.nextTick(function(){y(null,v)}):v}if(!y)return d(x).copy(v,_),v;d(x,function(L,R){if(L)return y(L);R.copy(v,_),y(null,v)})}u&&u.getRandomValues||!r.browser?(s.randomFill=function(v,_,x,y){if(!(c.isBuffer(v)||v instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof _=="function")y=_,_=0,x=v.length;else if(typeof x=="function")y=x,x=v.length-_;else if(typeof y!="function")throw new TypeError('"cb" argument must be a function');return f(_,v.length),g(x,_,v.length),m(v,_,x,y)},s.randomFillSync=function(v,_,x){if(_===void 0&&(_=0),!(c.isBuffer(v)||v instanceof o.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return f(_,v.length),x===void 0&&(x=v.length-_),g(x,_,v.length),m(v,_,x)}):(s.randomFill=a,s.randomFillSync=a)}).call(this)}).call(this,t("_process"),typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(t,n,s){var r={};function o(l,d,c){c||(c=Error);var h=function(u){var p,f;function g(m,v,_){return u.call(this,function(x,y,T){return typeof d=="string"?d:d(x,y,T)}(m,v,_))||this}return f=u,(p=g).prototype=Object.create(f.prototype),p.prototype.constructor=p,p.__proto__=f,g}(c);h.prototype.name=c.name,h.prototype.code=l,r[l]=h}function a(l,d){if(Array.isArray(l)){var c=l.length;return l=l.map(function(h){return String(h)}),c>2?"one of ".concat(d," ").concat(l.slice(0,c-1).join(", "),", or ")+l[c-1]:c===2?"one of ".concat(d," ").concat(l[0]," or ").concat(l[1]):"of ".concat(d," ").concat(l[0])}return"of ".concat(d," ").concat(String(l))}o("ERR_INVALID_OPT_VALUE",function(l,d){return'The value "'+d+'" is invalid for option "'+l+'"'},TypeError),o("ERR_INVALID_ARG_TYPE",function(l,d,c){var h,u,p;if(typeof d=="string"&&(u="not ",d.substr(0,u.length)===u)?(h="must not be",d=d.replace(/^not /,"")):h="must be",function(g,m,v){return(v===void 0||v>g.length)&&(v=g.length),g.substring(v-m.length,v)===m}(l," argument"))p="The ".concat(l," ").concat(h," ").concat(a(d,"type"));else{var f=function(g,m,v){return typeof v!="number"&&(v=0),!(v+m.length>g.length)&&g.indexOf(m,v)!==-1}(l,".")?"property":"argument";p='The "'.concat(l,'" ').concat(f," ").concat(h," ").concat(a(d,"type"))}return p+=". Received type ".concat(typeof c)},TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=r},{}],478:[function(t,n,s){(function(r){(function(){var o=Object.keys||function(g){var m=[];for(var v in g)m.push(v);return m};n.exports=u;var a=t("./_stream_readable"),l=t("./_stream_writable");t("inherits")(u,a);for(var d=o(l.prototype),c=0;c<d.length;c++){var h=d[c];u.prototype[h]||(u.prototype[h]=l.prototype[h])}function u(g){if(!(this instanceof u))return new u(g);a.call(this,g),l.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",p)))}function p(){this._writableState.ended||r.nextTick(f,this)}function f(g){g.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=g,this._writableState.destroyed=g)}})}).call(this)}).call(this,t("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(t,n,s){n.exports=o;var r=t("./_stream_transform");function o(a){if(!(this instanceof o))return new o(a);r.call(this,a)}t("inherits")(o,r),o.prototype._transform=function(a,l,d){d(null,a)}},{"./_stream_transform":481,inherits:440}],480:[function(t,n,s){(function(r,o){(function(){var a;n.exports=H,H.ReadableState=z,t("events").EventEmitter;var l=function(B,F){return B.listeners(F).length},d=t("./internal/streams/stream"),c=t("buffer").Buffer,h=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},u,p=t("util");u=p&&p.debuglog?p.debuglog("stream"):function(){};var f,g,m,v=t("./internal/streams/buffer_list"),_=t("./internal/streams/destroy"),x=t("./internal/streams/state").getHighWaterMark,y=t("../errors").codes,T=y.ERR_INVALID_ARG_TYPE,O=y.ERR_STREAM_PUSH_AFTER_EOF,L=y.ERR_METHOD_NOT_IMPLEMENTED,R=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t("inherits")(H,d);var $=_.errorOrDestroy,V=["error","close","destroy","pause","resume"];function z(B,F,K){a=a||t("./_stream_duplex"),B=B||{},typeof K!="boolean"&&(K=F instanceof a),this.objectMode=!!B.objectMode,K&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=x(this,B,"readableHighWaterMark",K),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(f||(f=t("string_decoder/").StringDecoder),this.decoder=new f(B.encoding),this.encoding=B.encoding)}function H(B){if(a=a||t("./_stream_duplex"),!(this instanceof H))return new H(B);var F=this instanceof a;this._readableState=new z(B,this,F),this.readable=!0,B&&(typeof B.read=="function"&&(this._read=B.read),typeof B.destroy=="function"&&(this._destroy=B.destroy)),d.call(this)}function I(B,F,K,ee,Q){u("readableAddChunk",F);var Z,J=B._readableState;if(F===null)J.reading=!1,function(ae,ce){if(u("onEofChunk"),!ce.ended){if(ce.decoder){var te=ce.decoder.end();te&&te.length&&(ce.buffer.push(te),ce.length+=ce.objectMode?1:te.length)}ce.ended=!0,ce.sync?b(ae):(ce.needReadable=!1,ce.emittedReadable||(ce.emittedReadable=!0,w(ae)))}}(B,J);else if(Q||(Z=function(ae,ce){var te;oe=ce,c.isBuffer(oe)||oe instanceof h||typeof ce=="string"||ce===void 0||ae.objectMode||(te=new T("chunk",["string","Buffer","Uint8Array"],ce));var oe;return te}(J,F)),Z)$(B,Z);else if(J.objectMode||F&&F.length>0)if(typeof F=="string"||J.objectMode||Object.getPrototypeOf(F)===c.prototype||(F=function(ae){return c.from(ae)}(F)),ee)J.endEmitted?$(B,new R):A(B,J,F,!0);else if(J.ended)$(B,new O);else{if(J.destroyed)return!1;J.reading=!1,J.decoder&&!K?(F=J.decoder.write(F),J.objectMode||F.length!==0?A(B,J,F,!1):C(B,J)):A(B,J,F,!1)}else ee||(J.reading=!1,C(B,J));return!J.ended&&(J.length<J.highWaterMark||J.length===0)}function A(B,F,K,ee){F.flowing&&F.length===0&&!F.sync?(F.awaitDrain=0,B.emit("data",K)):(F.length+=F.objectMode?1:K.length,ee?F.buffer.unshift(K):F.buffer.push(K),F.needReadable&&b(B)),C(B,F)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),H.prototype.destroy=_.destroy,H.prototype._undestroy=_.undestroy,H.prototype._destroy=function(B,F){F(B)},H.prototype.push=function(B,F){var K,ee=this._readableState;return ee.objectMode?K=!0:typeof B=="string"&&((F=F||ee.defaultEncoding)!==ee.encoding&&(B=c.from(B,F),F=""),K=!0),I(this,B,F,!1,K)},H.prototype.unshift=function(B){return I(this,B,null,!0,!1)},H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(B){f||(f=t("string_decoder/").StringDecoder);var F=new f(B);this._readableState.decoder=F,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,ee="";K!==null;)ee+=F.write(K.data),K=K.next;return this._readableState.buffer.clear(),ee!==""&&this._readableState.buffer.push(ee),this._readableState.length=ee.length,this};function E(B,F){return B<=0||F.length===0&&F.ended?0:F.objectMode?1:B!=B?F.flowing&&F.length?F.buffer.head.data.length:F.length:(B>F.highWaterMark&&(F.highWaterMark=function(K){return K>=1073741824?K=1073741824:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K}(B)),B<=F.length?B:F.ended?F.length:(F.needReadable=!0,0))}function b(B){var F=B._readableState;u("emitReadable",F.needReadable,F.emittedReadable),F.needReadable=!1,F.emittedReadable||(u("emitReadable",F.flowing),F.emittedReadable=!0,r.nextTick(w,B))}function w(B){var F=B._readableState;u("emitReadable_",F.destroyed,F.length,F.ended),F.destroyed||!F.length&&!F.ended||(B.emit("readable"),F.emittedReadable=!1),F.needReadable=!F.flowing&&!F.ended&&F.length<=F.highWaterMark,U(B)}function C(B,F){F.readingMore||(F.readingMore=!0,r.nextTick(S,B,F))}function S(B,F){for(;!F.reading&&!F.ended&&(F.length<F.highWaterMark||F.flowing&&F.length===0);){var K=F.length;if(u("maybeReadMore read 0"),B.read(0),K===F.length)break}F.readingMore=!1}function D(B){var F=B._readableState;F.readableListening=B.listenerCount("readable")>0,F.resumeScheduled&&!F.paused?F.flowing=!0:B.listenerCount("data")>0&&B.resume()}function P(B){u("readable nexttick read 0"),B.read(0)}function k(B,F){u("resume",F.reading),F.reading||B.read(0),F.resumeScheduled=!1,B.emit("resume"),U(B),F.flowing&&!F.reading&&B.read(0)}function U(B){var F=B._readableState;for(u("flow",F.flowing);F.flowing&&B.read()!==null;);}function W(B,F){return F.length===0?null:(F.objectMode?K=F.buffer.shift():!B||B>=F.length?(K=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.first():F.buffer.concat(F.length),F.buffer.clear()):K=F.buffer.consume(B,F.decoder),K);var K}function X(B){var F=B._readableState;u("endReadable",F.endEmitted),F.endEmitted||(F.ended=!0,r.nextTick(j,F,B))}function j(B,F){if(u("endReadableNT",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,F.readable=!1,F.emit("end"),B.autoDestroy)){var K=F._writableState;(!K||K.autoDestroy&&K.finished)&&F.destroy()}}function q(B,F){for(var K=0,ee=B.length;K<ee;K++)if(B[K]===F)return K;return-1}H.prototype.read=function(B){u("read",B),B=parseInt(B,10);var F=this._readableState,K=B;if(B!==0&&(F.emittedReadable=!1),B===0&&F.needReadable&&((F.highWaterMark!==0?F.length>=F.highWaterMark:F.length>0)||F.ended))return u("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?X(this):b(this),null;if((B=E(B,F))===0&&F.ended)return F.length===0&&X(this),null;var ee,Q=F.needReadable;return u("need readable",Q),(F.length===0||F.length-B<F.highWaterMark)&&u("length less than watermark",Q=!0),F.ended||F.reading?u("reading or ended",Q=!1):Q&&(u("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(B=E(K,F))),(ee=B>0?W(B,F):null)===null?(F.needReadable=F.length<=F.highWaterMark,B=0):(F.length-=B,F.awaitDrain=0),F.length===0&&(F.ended||(F.needReadable=!0),K!==B&&F.ended&&X(this)),ee!==null&&this.emit("data",ee),ee},H.prototype._read=function(B){$(this,new L("_read()"))},H.prototype.pipe=function(B,F){var K=this,ee=this._readableState;switch(ee.pipesCount){case 0:ee.pipes=B;break;case 1:ee.pipes=[ee.pipes,B];break;default:ee.pipes.push(B)}ee.pipesCount+=1,u("pipe count=%d opts=%j",ee.pipesCount,F);var Q=(!F||F.end!==!1)&&B!==r.stdout&&B!==r.stderr?J:pe;function Z(me,ye){u("onunpipe"),me===K&&ye&&ye.hasUnpiped===!1&&(ye.hasUnpiped=!0,u("cleanup"),B.removeListener("close",le),B.removeListener("finish",fe),B.removeListener("drain",ae),B.removeListener("error",oe),B.removeListener("unpipe",Z),K.removeListener("end",J),K.removeListener("end",pe),K.removeListener("data",te),ce=!0,!ee.awaitDrain||B._writableState&&!B._writableState.needDrain||ae())}function J(){u("onend"),B.end()}ee.endEmitted?r.nextTick(Q):K.once("end",Q),B.on("unpipe",Z);var ae=function(me){return function(){var ye=me._readableState;u("pipeOnDrain",ye.awaitDrain),ye.awaitDrain&&ye.awaitDrain--,ye.awaitDrain===0&&l(me,"data")&&(ye.flowing=!0,U(me))}}(K);B.on("drain",ae);var ce=!1;function te(me){u("ondata");var ye=B.write(me);u("dest.write",ye),ye===!1&&((ee.pipesCount===1&&ee.pipes===B||ee.pipesCount>1&&q(ee.pipes,B)!==-1)&&!ce&&(u("false write response, pause",ee.awaitDrain),ee.awaitDrain++),K.pause())}function oe(me){u("onerror",me),pe(),B.removeListener("error",oe),l(B,"error")===0&&$(B,me)}function le(){B.removeListener("finish",fe),pe()}function fe(){u("onfinish"),B.removeListener("close",le),pe()}function pe(){u("unpipe"),K.unpipe(B)}return K.on("data",te),function(me,ye,we){if(typeof me.prependListener=="function")return me.prependListener(ye,we);me._events&&me._events[ye]?Array.isArray(me._events[ye])?me._events[ye].unshift(we):me._events[ye]=[we,me._events[ye]]:me.on(ye,we)}(B,"error",oe),B.once("close",le),B.once("finish",fe),B.emit("pipe",K),ee.flowing||(u("pipe resume"),K.resume()),B},H.prototype.unpipe=function(B){var F=this._readableState,K={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return B&&B!==F.pipes||(B||(B=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,B&&B.emit("unpipe",this,K)),this;if(!B){var ee=F.pipes,Q=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var Z=0;Z<Q;Z++)ee[Z].emit("unpipe",this,{hasUnpiped:!1});return this}var J=q(F.pipes,B);return J===-1||(F.pipes.splice(J,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),B.emit("unpipe",this,K)),this},H.prototype.on=function(B,F){var K=d.prototype.on.call(this,B,F),ee=this._readableState;return B==="data"?(ee.readableListening=this.listenerCount("readable")>0,ee.flowing!==!1&&this.resume()):B==="readable"&&(ee.endEmitted||ee.readableListening||(ee.readableListening=ee.needReadable=!0,ee.flowing=!1,ee.emittedReadable=!1,u("on readable",ee.length,ee.reading),ee.length?b(this):ee.reading||r.nextTick(P,this))),K},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(B,F){var K=d.prototype.removeListener.call(this,B,F);return B==="readable"&&r.nextTick(D,this),K},H.prototype.removeAllListeners=function(B){var F=d.prototype.removeAllListeners.apply(this,arguments);return B!=="readable"&&B!==void 0||r.nextTick(D,this),F},H.prototype.resume=function(){var B=this._readableState;return B.flowing||(u("resume"),B.flowing=!B.readableListening,function(F,K){K.resumeScheduled||(K.resumeScheduled=!0,r.nextTick(k,F,K))}(this,B)),B.paused=!1,this},H.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},H.prototype.wrap=function(B){var F=this,K=this._readableState,ee=!1;for(var Q in B.on("end",function(){if(u("wrapped end"),K.decoder&&!K.ended){var J=K.decoder.end();J&&J.length&&F.push(J)}F.push(null)}),B.on("data",function(J){u("wrapped data"),K.decoder&&(J=K.decoder.write(J)),K.objectMode&&J==null||(K.objectMode||J&&J.length)&&(F.push(J)||(ee=!0,B.pause()))}),B)this[Q]===void 0&&typeof B[Q]=="function"&&(this[Q]=function(J){return function(){return B[J].apply(B,arguments)}}(Q));for(var Z=0;Z<V.length;Z++)B.on(V[Z],this.emit.bind(this,V[Z]));return this._read=function(J){u("wrapped _read",J),ee&&(ee=!1,B.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return g===void 0&&(g=t("./internal/streams/async_iterator")),g(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}}),H._fromList=W,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(H.from=function(B,F){return m===void 0&&(m=t("./internal/streams/from")),m(H,B,F)})}).call(this)}).call(this,t("_process"),typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(t,n,s){n.exports=u;var r=t("../errors").codes,o=r.ERR_METHOD_NOT_IMPLEMENTED,a=r.ERR_MULTIPLE_CALLBACK,l=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,d=r.ERR_TRANSFORM_WITH_LENGTH_0,c=t("./_stream_duplex");function h(g,m){var v=this._transformState;v.transforming=!1;var _=v.writecb;if(_===null)return this.emit("error",new a);v.writechunk=null,v.writecb=null,m!=null&&this.push(m),_(g);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function u(g){if(!(this instanceof u))return new u(g);c.call(this,g),this._transformState={afterTransform:h.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,g&&(typeof g.transform=="function"&&(this._transform=g.transform),typeof g.flush=="function"&&(this._flush=g.flush)),this.on("prefinish",p)}function p(){var g=this;typeof this._flush!="function"||this._readableState.destroyed?f(this,null,null):this._flush(function(m,v){f(g,m,v)})}function f(g,m,v){if(m)return g.emit("error",m);if(v!=null&&g.push(v),g._writableState.length)throw new d;if(g._transformState.transforming)throw new l;return g.push(null)}t("inherits")(u,c),u.prototype.push=function(g,m){return this._transformState.needTransform=!1,c.prototype.push.call(this,g,m)},u.prototype._transform=function(g,m,v){v(new o("_transform()"))},u.prototype._write=function(g,m,v){var _=this._transformState;if(_.writecb=v,_.writechunk=g,_.writeencoding=m,!_.transforming){var x=this._readableState;(_.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},u.prototype._read=function(g){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},u.prototype._destroy=function(g,m){c.prototype._destroy.call(this,g,function(v){m(v)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(t,n,s){(function(r,o){(function(){function a(S){var D=this;this.next=null,this.entry=null,this.finish=function(){(function(P,k,U){var W=P.entry;for(P.entry=null;W;){var X=W.callback;k.pendingcb--,X(U),W=W.next}k.corkedRequestsFree.next=P})(D,S)}}var l;n.exports=H,H.WritableState=z;var d={deprecate:t("util-deprecate")},c=t("./internal/streams/stream"),h=t("buffer").Buffer,u=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},p,f=t("./internal/streams/destroy"),g=t("./internal/streams/state").getHighWaterMark,m=t("../errors").codes,v=m.ERR_INVALID_ARG_TYPE,_=m.ERR_METHOD_NOT_IMPLEMENTED,x=m.ERR_MULTIPLE_CALLBACK,y=m.ERR_STREAM_CANNOT_PIPE,T=m.ERR_STREAM_DESTROYED,O=m.ERR_STREAM_NULL_VALUES,L=m.ERR_STREAM_WRITE_AFTER_END,R=m.ERR_UNKNOWN_ENCODING,$=f.errorOrDestroy;function V(){}function z(S,D,P){l=l||t("./_stream_duplex"),S=S||{},typeof P!="boolean"&&(P=D instanceof l),this.objectMode=!!S.objectMode,P&&(this.objectMode=this.objectMode||!!S.writableObjectMode),this.highWaterMark=g(this,S,"writableHighWaterMark",P),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var k=S.decodeStrings===!1;this.decodeStrings=!k,this.defaultEncoding=S.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(U){(function(W,X){var j=W._writableState,q=j.sync,B=j.writecb;if(typeof B!="function")throw new x;if(function(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}(j),X)(function(K,ee,Q,Z,J){--ee.pendingcb,Q?(r.nextTick(J,Z),r.nextTick(C,K,ee),K._writableState.errorEmitted=!0,$(K,Z)):(J(Z),K._writableState.errorEmitted=!0,$(K,Z),C(K,ee))})(W,j,q,X,B);else{var F=b(j)||W.destroyed;F||j.corked||j.bufferProcessing||!j.bufferedRequest||E(W,j),q?r.nextTick(A,W,j,F,B):A(W,j,F,B)}})(D,U)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function H(S){var D=this instanceof(l=l||t("./_stream_duplex"));if(!D&&!p.call(H,this))return new H(S);this._writableState=new z(S,this,D),this.writable=!0,S&&(typeof S.write=="function"&&(this._write=S.write),typeof S.writev=="function"&&(this._writev=S.writev),typeof S.destroy=="function"&&(this._destroy=S.destroy),typeof S.final=="function"&&(this._final=S.final)),c.call(this)}function I(S,D,P,k,U,W,X){D.writelen=k,D.writecb=X,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new T("write")):P?S._writev(U,D.onwrite):S._write(U,W,D.onwrite),D.sync=!1}function A(S,D,P,k){P||function(U,W){W.length===0&&W.needDrain&&(W.needDrain=!1,U.emit("drain"))}(S,D),D.pendingcb--,k(),C(S,D)}function E(S,D){D.bufferProcessing=!0;var P=D.bufferedRequest;if(S._writev&&P&&P.next){var k=D.bufferedRequestCount,U=new Array(k),W=D.corkedRequestsFree;W.entry=P;for(var X=0,j=!0;P;)U[X]=P,P.isBuf||(j=!1),P=P.next,X+=1;U.allBuffers=j,I(S,D,!0,D.length,U,"",W.finish),D.pendingcb++,D.lastBufferedRequest=null,W.next?(D.corkedRequestsFree=W.next,W.next=null):D.corkedRequestsFree=new a(D),D.bufferedRequestCount=0}else{for(;P;){var q=P.chunk,B=P.encoding,F=P.callback;if(I(S,D,!1,D.objectMode?1:q.length,q,B,F),P=P.next,D.bufferedRequestCount--,D.writing)break}P===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=P,D.bufferProcessing=!1}function b(S){return S.ending&&S.length===0&&S.bufferedRequest===null&&!S.finished&&!S.writing}function w(S,D){S._final(function(P){D.pendingcb--,P&&$(S,P),D.prefinished=!0,S.emit("prefinish"),C(S,D)})}function C(S,D){var P=b(D);if(P&&(function(U,W){W.prefinished||W.finalCalled||(typeof U._final!="function"||W.destroyed?(W.prefinished=!0,U.emit("prefinish")):(W.pendingcb++,W.finalCalled=!0,r.nextTick(w,U,W)))}(S,D),D.pendingcb===0&&(D.finished=!0,S.emit("finish"),D.autoDestroy))){var k=S._readableState;(!k||k.autoDestroy&&k.endEmitted)&&S.destroy()}return P}t("inherits")(H,c),z.prototype.getBuffer=function(){for(var S=this.bufferedRequest,D=[];S;)D.push(S),S=S.next;return D},function(){try{Object.defineProperty(z.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(p=Function.prototype[Symbol.hasInstance],Object.defineProperty(H,Symbol.hasInstance,{value:function(S){return!!p.call(this,S)||this===H&&S&&S._writableState instanceof z}})):p=function(S){return S instanceof this},H.prototype.pipe=function(){$(this,new y)},H.prototype.write=function(S,D,P){var k,U=this._writableState,W=!1,X=!U.objectMode&&(k=S,h.isBuffer(k)||k instanceof u);return X&&!h.isBuffer(S)&&(S=function(j){return h.from(j)}(S)),typeof D=="function"&&(P=D,D=null),X?D="buffer":D||(D=U.defaultEncoding),typeof P!="function"&&(P=V),U.ending?function(j,q){var B=new L;$(j,B),r.nextTick(q,B)}(this,P):(X||function(j,q,B,F){var K;return B===null?K=new O:typeof B=="string"||q.objectMode||(K=new v("chunk",["string","Buffer"],B)),!K||($(j,K),r.nextTick(F,K),!1)}(this,U,S,P))&&(U.pendingcb++,W=function(j,q,B,F,K,ee){if(!B){var Q=function(ce,te,oe){return ce.objectMode||ce.decodeStrings===!1||typeof te!="string"||(te=h.from(te,oe)),te}(q,F,K);F!==Q&&(B=!0,K="buffer",F=Q)}var Z=q.objectMode?1:F.length;q.length+=Z;var J=q.length<q.highWaterMark;if(J||(q.needDrain=!0),q.writing||q.corked){var ae=q.lastBufferedRequest;q.lastBufferedRequest={chunk:F,encoding:K,isBuf:B,callback:ee,next:null},ae?ae.next=q.lastBufferedRequest:q.bufferedRequest=q.lastBufferedRequest,q.bufferedRequestCount+=1}else I(j,q,!1,Z,F,K,ee);return J}(this,U,X,S,D,P)),W},H.prototype.cork=function(){this._writableState.corked++},H.prototype.uncork=function(){var S=this._writableState;S.corked&&(S.corked--,S.writing||S.corked||S.bufferProcessing||!S.bufferedRequest||E(this,S))},H.prototype.setDefaultEncoding=function(S){if(typeof S=="string"&&(S=S.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((S+"").toLowerCase())>-1))throw new R(S);return this._writableState.defaultEncoding=S,this},Object.defineProperty(H.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(H.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),H.prototype._write=function(S,D,P){P(new _("_write()"))},H.prototype._writev=null,H.prototype.end=function(S,D,P){var k=this._writableState;return typeof S=="function"?(P=S,S=null,D=null):typeof D=="function"&&(P=D,D=null),S!=null&&this.write(S,D),k.corked&&(k.corked=1,this.uncork()),k.ending||function(U,W,X){W.ending=!0,C(U,W),X&&(W.finished?r.nextTick(X):U.once("finish",X)),W.ended=!0,U.writable=!1}(this,k,P),this},Object.defineProperty(H.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(S){this._writableState&&(this._writableState.destroyed=S)}}),H.prototype.destroy=f.destroy,H.prototype._undestroy=f.undestroy,H.prototype._destroy=function(S,D){D(S)}}).call(this)}).call(this,t("_process"),typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(t,n,s){(function(r){(function(){var o;function a(T,O,L){return(O=function(R){var $=function(V,z){if(typeof V!="object"||V===null)return V;var H=V[Symbol.toPrimitive];if(H!==void 0){var I=H.call(V,z);if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(z==="string"?String:Number)(V)}(R,"string");return typeof $=="symbol"?$:String($)}(O))in T?Object.defineProperty(T,O,{value:L,enumerable:!0,configurable:!0,writable:!0}):T[O]=L,T}var l=t("./end-of-stream"),d=Symbol("lastResolve"),c=Symbol("lastReject"),h=Symbol("error"),u=Symbol("ended"),p=Symbol("lastPromise"),f=Symbol("handlePromise"),g=Symbol("stream");function m(T,O){return{value:T,done:O}}function v(T){var O=T[d];if(O!==null){var L=T[g].read();L!==null&&(T[p]=null,T[d]=null,T[c]=null,O(m(L,!1)))}}function _(T){r.nextTick(v,T)}var x=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((a(o={get stream(){return this[g]},next:function(){var T=this,O=this[h];if(O!==null)return Promise.reject(O);if(this[u])return Promise.resolve(m(void 0,!0));if(this[g].destroyed)return new Promise(function(V,z){r.nextTick(function(){T[h]?z(T[h]):V(m(void 0,!0))})});var L,R=this[p];if(R)L=new Promise(function(V,z){return function(H,I){V.then(function(){z[u]?H(m(void 0,!0)):z[f](H,I)},I)}}(R,this));else{var $=this[g].read();if($!==null)return Promise.resolve(m($,!1));L=new Promise(this[f])}return this[p]=L,L}},Symbol.asyncIterator,function(){return this}),a(o,"return",function(){var T=this;return new Promise(function(O,L){T[g].destroy(null,function(R){R?L(R):O(m(void 0,!0))})})}),o),x);n.exports=function(T){var O,L=Object.create(y,(a(O={},g,{value:T,writable:!0}),a(O,d,{value:null,writable:!0}),a(O,c,{value:null,writable:!0}),a(O,h,{value:null,writable:!0}),a(O,u,{value:T._readableState.endEmitted,writable:!0}),a(O,f,{value:function(R,$){var V=L[g].read();V?(L[p]=null,L[d]=null,L[c]=null,R(m(V,!1))):(L[d]=R,L[c]=$)},writable:!0}),O));return L[p]=null,l(T,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $=L[c];return $!==null&&(L[p]=null,L[d]=null,L[c]=null,$(R)),void(L[h]=R)}var V=L[d];V!==null&&(L[p]=null,L[d]=null,L[c]=null,V(m(void 0,!0))),L[u]=!0}),T.on("readable",_.bind(null,L)),L}}).call(this)}).call(this,t("_process"))},{"./end-of-stream":486,_process:467}],484:[function(t,n,s){function r(p,f){var g=Object.keys(p);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(p);f&&(m=m.filter(function(v){return Object.getOwnPropertyDescriptor(p,v).enumerable})),g.push.apply(g,m)}return g}function o(p){for(var f=1;f<arguments.length;f++){var g=arguments[f]!=null?arguments[f]:{};f%2?r(Object(g),!0).forEach(function(m){a(p,m,g[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(g)):r(Object(g)).forEach(function(m){Object.defineProperty(p,m,Object.getOwnPropertyDescriptor(g,m))})}return p}function a(p,f,g){return(f=d(f))in p?Object.defineProperty(p,f,{value:g,enumerable:!0,configurable:!0,writable:!0}):p[f]=g,p}function l(p,f){for(var g=0;g<f.length;g++){var m=f[g];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,d(m.key),m)}}function d(p){var f=function(g,m){if(typeof g!="object"||g===null)return g;var v=g[Symbol.toPrimitive];if(v!==void 0){var _=v.call(g,m);if(typeof _!="object")return _;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(g)}(p,"string");return typeof f=="symbol"?f:String(f)}var c=t("buffer").Buffer,h=t("util").inspect,u=h&&h.custom||"inspect";n.exports=function(){function p(){(function(m,v){if(!(m instanceof v))throw new TypeError("Cannot call a class as a function")})(this,p),this.head=null,this.tail=null,this.length=0}var f,g;return f=p,(g=[{key:"push",value:function(m){var v={data:m,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(m){var v={data:m,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var v=this.head,_=""+v.data;v=v.next;)_+=m+v.data;return _}},{key:"concat",value:function(m){if(this.length===0)return c.alloc(0);for(var v,_,x,y=c.allocUnsafe(m>>>0),T=this.head,O=0;T;)v=T.data,_=y,x=O,c.prototype.copy.call(v,_,x),O+=T.data.length,T=T.next;return y}},{key:"consume",value:function(m,v){var _;return m<this.head.data.length?(_=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):_=m===this.head.data.length?this.shift():v?this._getString(m):this._getBuffer(m),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var v=this.head,_=1,x=v.data;for(m-=x.length;v=v.next;){var y=v.data,T=m>y.length?y.length:m;if(T===y.length?x+=y:x+=y.slice(0,m),(m-=T)==0){T===y.length?(++_,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=y.slice(T));break}++_}return this.length-=_,x}},{key:"_getBuffer",value:function(m){var v=c.allocUnsafe(m),_=this.head,x=1;for(_.data.copy(v),m-=_.data.length;_=_.next;){var y=_.data,T=m>y.length?y.length:m;if(y.copy(v,v.length-m,0,T),(m-=T)==0){T===y.length?(++x,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=y.slice(T));break}++x}return this.length-=x,v}},{key:u,value:function(m,v){return h(this,o(o({},v),{},{depth:0,customInspect:!1}))}}])&&l(f.prototype,g),Object.defineProperty(f,"prototype",{writable:!1}),p}()},{buffer:220,util:188}],485:[function(t,n,s){(function(r){(function(){function o(d,c){l(d,c),a(d)}function a(d){d._writableState&&!d._writableState.emitClose||d._readableState&&!d._readableState.emitClose||d.emit("close")}function l(d,c){d.emit("error",c)}n.exports={destroy:function(d,c){var h=this,u=this._readableState&&this._readableState.destroyed,p=this._writableState&&this._writableState.destroyed;return u||p?(c?c(d):d&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(l,this,d)):r.nextTick(l,this,d)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(d||null,function(f){!c&&f?h._writableState?h._writableState.errorEmitted?r.nextTick(a,h):(h._writableState.errorEmitted=!0,r.nextTick(o,h,f)):r.nextTick(o,h,f):c?(r.nextTick(a,h),c(f)):r.nextTick(a,h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(d,c){var h=d._readableState,u=d._writableState;h&&h.autoDestroy||u&&u.autoDestroy?d.destroy(c):d.emit("error",c)}}}).call(this)}).call(this,t("_process"))},{_process:467}],486:[function(t,n,s){var r=t("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}n.exports=function a(l,d,c){if(typeof d=="function")return a(l,null,d);d||(d={}),c=function(T){var O=!1;return function(){if(!O){O=!0;for(var L=arguments.length,R=new Array(L),$=0;$<L;$++)R[$]=arguments[$];T.apply(this,R)}}}(c||o);var h=d.readable||d.readable!==!1&&l.readable,u=d.writable||d.writable!==!1&&l.writable,p=function(){l.writable||g()},f=l._writableState&&l._writableState.finished,g=function(){u=!1,f=!0,h||c.call(l)},m=l._readableState&&l._readableState.endEmitted,v=function(){h=!1,m=!0,u||c.call(l)},_=function(T){c.call(l,T)},x=function(){var T;return h&&!m?(l._readableState&&l._readableState.ended||(T=new r),c.call(l,T)):u&&!f?(l._writableState&&l._writableState.ended||(T=new r),c.call(l,T)):void 0},y=function(){l.req.on("finish",g)};return function(T){return T.setHeader&&typeof T.abort=="function"}(l)?(l.on("complete",g),l.on("abort",x),l.req?y():l.on("request",y)):u&&!l._writableState&&(l.on("end",p),l.on("close",p)),l.on("end",v),l.on("finish",g),d.error!==!1&&l.on("error",_),l.on("close",x),function(){l.removeListener("complete",g),l.removeListener("abort",x),l.removeListener("request",y),l.req&&l.req.removeListener("finish",g),l.removeListener("end",p),l.removeListener("close",p),l.removeListener("finish",g),l.removeListener("end",v),l.removeListener("error",_),l.removeListener("close",x)}}},{"../../../errors":477}],487:[function(t,n,s){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(t,n,s){var r,o=t("../../../errors").codes,a=o.ERR_MISSING_ARGS,l=o.ERR_STREAM_DESTROYED;function d(f){if(f)throw f}function c(f,g,m,v){v=function(y){var T=!1;return function(){T||(T=!0,y.apply(void 0,arguments))}}(v);var _=!1;f.on("close",function(){_=!0}),r===void 0&&(r=t("./end-of-stream")),r(f,{readable:g,writable:m},function(y){if(y)return v(y);_=!0,v()});var x=!1;return function(y){if(!_&&!x)return x=!0,function(T){return T.setHeader&&typeof T.abort=="function"}(f)?f.abort():typeof f.destroy=="function"?f.destroy():void v(y||new l("pipe"))}}function h(f){f()}function u(f,g){return f.pipe(g)}function p(f){return f.length?typeof f[f.length-1]!="function"?d:f.pop():d}n.exports=function(){for(var f=arguments.length,g=new Array(f),m=0;m<f;m++)g[m]=arguments[m];var v,_=p(g);if(Array.isArray(g[0])&&(g=g[0]),g.length<2)throw new a("streams");var x=g.map(function(y,T){var O=T<g.length-1;return c(y,O,T>0,function(L){v||(v=L),L&&x.forEach(h),O||(x.forEach(h),_(v))})});return g.reduce(u)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(t,n,s){var r=t("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(o,a,l,d){var c=function(h,u,p){return h.highWaterMark!=null?h.highWaterMark:u?h[p]:null}(a,d,l);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new r(d?l:"highWaterMark",c);return Math.floor(c)}return o.objectMode?16:16384}}},{"../../../errors":477}],490:[function(t,n,s){n.exports=t("events").EventEmitter},{events:422}],491:[function(t,n,s){(s=n.exports=t("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=t("./lib/_stream_writable.js"),s.Duplex=t("./lib/_stream_duplex.js"),s.Transform=t("./lib/_stream_transform.js"),s.PassThrough=t("./lib/_stream_passthrough.js"),s.finished=t("./lib/internal/streams/end-of-stream.js"),s.pipeline=t("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(t,n,s){var r=function(o){var a=Object.prototype,l=a.hasOwnProperty,d=Object.defineProperty||function(C,S,D){C[S]=D.value},c=typeof Symbol=="function"?Symbol:{},h=c.iterator||"@@iterator",u=c.asyncIterator||"@@asyncIterator",p=c.toStringTag||"@@toStringTag";function f(C,S,D){return Object.defineProperty(C,S,{value:D,enumerable:!0,configurable:!0,writable:!0}),C[S]}try{f({},"")}catch{f=function(S,D,P){return S[D]=P}}function g(C,S,D,P){var k=S&&S.prototype instanceof _?S:_,U=Object.create(k.prototype),W=new E(P||[]);return d(U,"_invoke",{value:z(C,D,W)}),U}function m(C,S,D){try{return{type:"normal",arg:C.call(S,D)}}catch(P){return{type:"throw",arg:P}}}o.wrap=g;var v={};function _(){}function x(){}function y(){}var T={};f(T,h,function(){return this});var O=Object.getPrototypeOf,L=O&&O(O(b([])));L&&L!==a&&l.call(L,h)&&(T=L);var R=y.prototype=_.prototype=Object.create(T);function $(C){["next","throw","return"].forEach(function(S){f(C,S,function(D){return this._invoke(S,D)})})}function V(C,S){var D;d(this,"_invoke",{value:function(P,k){function U(){return new S(function(W,X){(function j(q,B,F,K){var ee=m(C[q],C,B);if(ee.type!=="throw"){var Q=ee.arg,Z=Q.value;return Z&&typeof Z=="object"&&l.call(Z,"__await")?S.resolve(Z.__await).then(function(J){j("next",J,F,K)},function(J){j("throw",J,F,K)}):S.resolve(Z).then(function(J){Q.value=J,F(Q)},function(J){return j("throw",J,F,K)})}K(ee.arg)})(P,k,W,X)})}return D=D?D.then(U,U):U()}})}function z(C,S,D){var P="suspendedStart";return function(k,U){if(P==="executing")throw new Error("Generator is already running");if(P==="completed"){if(k==="throw")throw U;return w()}for(D.method=k,D.arg=U;;){var W=D.delegate;if(W){var X=H(W,D);if(X){if(X===v)continue;return X}}if(D.method==="next")D.sent=D._sent=D.arg;else if(D.method==="throw"){if(P==="suspendedStart")throw P="completed",D.arg;D.dispatchException(D.arg)}else D.method==="return"&&D.abrupt("return",D.arg);P="executing";var j=m(C,S,D);if(j.type==="normal"){if(P=D.done?"completed":"suspendedYield",j.arg===v)continue;return{value:j.arg,done:D.done}}j.type==="throw"&&(P="completed",D.method="throw",D.arg=j.arg)}}}function H(C,S){var D=S.method,P=C.iterator[D];if(P===void 0)return S.delegate=null,D==="throw"&&C.iterator.return&&(S.method="return",S.arg=void 0,H(C,S),S.method==="throw")||D!=="return"&&(S.method="throw",S.arg=new TypeError("The iterator does not provide a '"+D+"' method")),v;var k=m(P,C.iterator,S.arg);if(k.type==="throw")return S.method="throw",S.arg=k.arg,S.delegate=null,v;var U=k.arg;return U?U.done?(S[C.resultName]=U.value,S.next=C.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,v):U:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,v)}function I(C){var S={tryLoc:C[0]};1 in C&&(S.catchLoc=C[1]),2 in C&&(S.finallyLoc=C[2],S.afterLoc=C[3]),this.tryEntries.push(S)}function A(C){var S=C.completion||{};S.type="normal",delete S.arg,C.completion=S}function E(C){this.tryEntries=[{tryLoc:"root"}],C.forEach(I,this),this.reset(!0)}function b(C){if(C){var S=C[h];if(S)return S.call(C);if(typeof C.next=="function")return C;if(!isNaN(C.length)){var D=-1,P=function k(){for(;++D<C.length;)if(l.call(C,D))return k.value=C[D],k.done=!1,k;return k.value=void 0,k.done=!0,k};return P.next=P}}return{next:w}}function w(){return{value:void 0,done:!0}}return x.prototype=y,d(R,"constructor",{value:y,configurable:!0}),d(y,"constructor",{value:x,configurable:!0}),x.displayName=f(y,p,"GeneratorFunction"),o.isGeneratorFunction=function(C){var S=typeof C=="function"&&C.constructor;return!!S&&(S===x||(S.displayName||S.name)==="GeneratorFunction")},o.mark=function(C){return Object.setPrototypeOf?Object.setPrototypeOf(C,y):(C.__proto__=y,f(C,p,"GeneratorFunction")),C.prototype=Object.create(R),C},o.awrap=function(C){return{__await:C}},$(V.prototype),f(V.prototype,u,function(){return this}),o.AsyncIterator=V,o.async=function(C,S,D,P,k){k===void 0&&(k=Promise);var U=new V(g(C,S,D,P),k);return o.isGeneratorFunction(S)?U:U.next().then(function(W){return W.done?W.value:U.next()})},$(R),f(R,p,"Generator"),f(R,h,function(){return this}),f(R,"toString",function(){return"[object Generator]"}),o.keys=function(C){var S=Object(C),D=[];for(var P in S)D.push(P);return D.reverse(),function k(){for(;D.length;){var U=D.pop();if(U in S)return k.value=U,k.done=!1,k}return k.done=!0,k}},o.values=b,E.prototype={constructor:E,reset:function(C){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!C)for(var S in this)S.charAt(0)==="t"&&l.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var C=this.tryEntries[0].completion;if(C.type==="throw")throw C.arg;return this.rval},dispatchException:function(C){if(this.done)throw C;var S=this;function D(j,q){return U.type="throw",U.arg=C,S.next=j,q&&(S.method="next",S.arg=void 0),!!q}for(var P=this.tryEntries.length-1;P>=0;--P){var k=this.tryEntries[P],U=k.completion;if(k.tryLoc==="root")return D("end");if(k.tryLoc<=this.prev){var W=l.call(k,"catchLoc"),X=l.call(k,"finallyLoc");if(W&&X){if(this.prev<k.catchLoc)return D(k.catchLoc,!0);if(this.prev<k.finallyLoc)return D(k.finallyLoc)}else if(W){if(this.prev<k.catchLoc)return D(k.catchLoc,!0)}else{if(!X)throw new Error("try statement without catch or finally");if(this.prev<k.finallyLoc)return D(k.finallyLoc)}}}},abrupt:function(C,S){for(var D=this.tryEntries.length-1;D>=0;--D){var P=this.tryEntries[D];if(P.tryLoc<=this.prev&&l.call(P,"finallyLoc")&&this.prev<P.finallyLoc){var k=P;break}}k&&(C==="break"||C==="continue")&&k.tryLoc<=S&&S<=k.finallyLoc&&(k=null);var U=k?k.completion:{};return U.type=C,U.arg=S,k?(this.method="next",this.next=k.finallyLoc,v):this.complete(U)},complete:function(C,S){if(C.type==="throw")throw C.arg;return C.type==="break"||C.type==="continue"?this.next=C.arg:C.type==="return"?(this.rval=this.arg=C.arg,this.method="return",this.next="end"):C.type==="normal"&&S&&(this.next=S),v},finish:function(C){for(var S=this.tryEntries.length-1;S>=0;--S){var D=this.tryEntries[S];if(D.finallyLoc===C)return this.complete(D.completion,D.afterLoc),A(D),v}},catch:function(C){for(var S=this.tryEntries.length-1;S>=0;--S){var D=this.tryEntries[S];if(D.tryLoc===C){var P=D.completion;if(P.type==="throw"){var k=P.arg;A(D)}return k}}throw new Error("illegal catch attempt")},delegateYield:function(C,S,D){return this.delegate={iterator:b(C),resultName:S,nextLoc:D},this.method==="next"&&(this.arg=void 0),v}},o}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},{}],493:[function(t,n,s){var r=t("buffer").Buffer,o=t("inherits"),a=t("hash-base"),l=new Array(16),d=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],h=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],p=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function g(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(O,L){return O<<L|O>>>32-L}function v(O,L,R,$,V,z,H,I){return m(O+(L^R^$)+z+H|0,I)+V|0}function _(O,L,R,$,V,z,H,I){return m(O+(L&R|~L&$)+z+H|0,I)+V|0}function x(O,L,R,$,V,z,H,I){return m(O+((L|~R)^$)+z+H|0,I)+V|0}function y(O,L,R,$,V,z,H,I){return m(O+(L&$|R&~$)+z+H|0,I)+V|0}function T(O,L,R,$,V,z,H,I){return m(O+(L^(R|~$))+z+H|0,I)+V|0}o(g,a),g.prototype._update=function(){for(var O=l,L=0;L<16;++L)O[L]=this._block.readInt32LE(4*L);for(var R=0|this._a,$=0|this._b,V=0|this._c,z=0|this._d,H=0|this._e,I=0|this._a,A=0|this._b,E=0|this._c,b=0|this._d,w=0|this._e,C=0;C<80;C+=1){var S,D;C<16?(S=v(R,$,V,z,H,O[d[C]],p[0],h[C]),D=T(I,A,E,b,w,O[c[C]],f[0],u[C])):C<32?(S=_(R,$,V,z,H,O[d[C]],p[1],h[C]),D=y(I,A,E,b,w,O[c[C]],f[1],u[C])):C<48?(S=x(R,$,V,z,H,O[d[C]],p[2],h[C]),D=x(I,A,E,b,w,O[c[C]],f[2],u[C])):C<64?(S=y(R,$,V,z,H,O[d[C]],p[3],h[C]),D=_(I,A,E,b,w,O[c[C]],f[3],u[C])):(S=T(R,$,V,z,H,O[d[C]],p[4],h[C]),D=v(I,A,E,b,w,O[c[C]],f[4],u[C])),R=H,H=z,z=m(V,10),V=$,$=S,I=w,w=b,b=m(E,10),E=A,A=D}var P=this._b+V+b|0;this._b=this._c+z+w|0,this._c=this._d+H+I|0,this._d=this._e+R+A|0,this._e=this._a+$+E|0,this._a=P},g.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var O=r.alloc?r.alloc(20):new r(20);return O.writeInt32LE(this._a,0),O.writeInt32LE(this._b,4),O.writeInt32LE(this._c,8),O.writeInt32LE(this._d,12),O.writeInt32LE(this._e,16),O},n.exports=g},{buffer:220,"hash-base":425,inherits:440}],494:[function(t,n,s){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var r=t("buffer"),o=r.Buffer;function a(d,c){for(var h in d)c[h]=d[h]}function l(d,c,h){return o(d,c,h)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?n.exports=r:(a(r,s),s.Buffer=l),l.prototype=Object.create(o.prototype),a(o,l),l.from=function(d,c,h){if(typeof d=="number")throw new TypeError("Argument must not be a number");return o(d,c,h)},l.alloc=function(d,c,h){if(typeof d!="number")throw new TypeError("Argument must be a number");var u=o(d);return c!==void 0?typeof h=="string"?u.fill(c,h):u.fill(c):u.fill(0),u},l.allocUnsafe=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return o(d)},l.allocUnsafeSlow=function(d){if(typeof d!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(d)}},{buffer:220}],495:[function(t,n,s){(function(r){(function(){var o,a=t("buffer"),l=a.Buffer,d={};for(o in a)a.hasOwnProperty(o)&&o!=="SlowBuffer"&&o!=="Buffer"&&(d[o]=a[o]);var c=d.Buffer={};for(o in l)l.hasOwnProperty(o)&&o!=="allocUnsafe"&&o!=="allocUnsafeSlow"&&(c[o]=l[o]);if(d.Buffer.prototype=l.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(h,u,p){if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof h);if(h&&h.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);return l(h,u,p)}),c.alloc||(c.alloc=function(h,u,p){if(typeof h!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof h);if(h<0||h>=2*(1<<30))throw new RangeError('The value "'+h+'" is invalid for option "size"');var f=l(h);return u&&u.length!==0?typeof p=="string"?f.fill(u,p):f.fill(u):f.fill(0),f}),!d.kStringMaxLength)try{d.kStringMaxLength=r.binding("buffer").kStringMaxLength}catch{}d.constants||(d.constants={MAX_LENGTH:d.kMaxLength},d.kStringMaxLength&&(d.constants.MAX_STRING_LENGTH=d.kStringMaxLength)),n.exports=d}).call(this)}).call(this,t("_process"))},{_process:467,buffer:220}],496:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0});const r=t("xmlchars/xml/1.0/ed5"),o=t("xmlchars/xml/1.1/ed2"),a=t("xmlchars/xmlns/1.0/ed3");var l=r.isS,d=r.isChar,c=r.isNameStartChar,h=r.isNameChar,u=r.S_LIST,p=r.NAME_RE,f=o.isChar,g=a.isNCNameStartChar,m=a.isNCNameChar,v=a.NC_NAME_RE;const _="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",y={__proto__:null,xml:_,xmlns:x},T={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},O=b=>b===34||b===39,L=[34,39],R=[...L,91,62],$=[...L,60,93],V=[61,63,...u],z=[...u,62,38,60];function H(b,w,C){switch(w){case"xml":C!==_&&b.fail(`xml prefix must be bound to ${_}.`);break;case"xmlns":C!==x&&b.fail(`xmlns prefix must be bound to ${x}.`)}switch(C){case x:b.fail(w===""?`the default namespace may not be set to ${C}.`:`may not assign a prefix (even "xmlns") to the URI ${x}.`);break;case _:switch(w){case"xml":break;case"":b.fail(`the default namespace may not be set to ${C}.`);break;default:b.fail("may not assign the xml namespace to another prefix.")}}}const I=b=>v.test(b),A=b=>p.test(b);s.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const E={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};s.SaxesParser=class{constructor(b){this.opt=b??{},this.fragmentOpt=!!this.opt.fragment;const w=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,w){this.nameStartCheck=g,this.nameCheck=m,this.isName=I,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},y);const C=this.opt.additionalNamespaces;C!=null&&(function(S,D){for(const P of Object.keys(D))H(S,P,D[P])}(this,C),Object.assign(this.ns,C))}else this.nameStartCheck=c,this.nameCheck=h,this.isName=A,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var b;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:w}=this;this.state=w?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=w,this.xmlDeclPossible=!w,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:C}=this.opt;if(C===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");C="1.0"}this.setXMLVersion(C),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(T),(b=this.readyHandler)===null||b===void 0||b.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(b,w){this[E[b]]=w}off(b){this[E[b]]=void 0}makeError(b){var w;let C=(w=this.fileName)!==null&&w!==void 0?w:"";return this.trackPosition&&(C.length>0&&(C+=":"),C+=`${this.line}:${this.column}`),C.length>0&&(C+=": "),new Error(C+b)}fail(b){const w=this.makeError(b),C=this.errorHandler;if(C===void 0)throw w;return C(w),this}write(b){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let w=!1;b===null?(w=!0,b=""):typeof b=="object"&&(b=b.toString()),this.carriedFromPrevious!==void 0&&(b=`${this.carriedFromPrevious}${b}`,this.carriedFromPrevious=void 0);let C=b.length;const S=b.charCodeAt(C-1);!w&&(S===13||S>=55296&&S<=56319)&&(this.carriedFromPrevious=b[C-1],C--,b=b.slice(0,C));const{stateTable:D}=this;for(this.chunk=b,this.i=0;this.i<C;)D[this.state].call(this);return this.chunkPosition+=C,w?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:b,i:w}=this;if(this.prevI=w,this.i=w+1,w>=b.length)return-1;const C=b.charCodeAt(w);if(this.column++,C<55296){if(C>=32||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return b.charCodeAt(w+1)===10&&(this.i=w+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;const S=65536+1024*(C-55296)+(b.charCodeAt(w+1)-56320);return this.i=w+2,S>1114111&&this.fail("disallowed character."),S}getCode11(){const{chunk:b,i:w}=this;if(this.prevI=w,this.i=w+1,w>=b.length)return-1;const C=b.charCodeAt(w);if(this.column++,C<55296){if(C>31&&C<127||C>159&&C!==8232||C===9)return C;switch(C){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const D=b.charCodeAt(w+1);D!==10&&D!==133||(this.i=w+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),C}}if(C>56319)return C>=57344&&C<=65533||this.fail("disallowed character."),C;const S=65536+1024*(C-55296)+(b.charCodeAt(w+1)-56320);return this.i=w+2,S>1114111&&this.fail("disallowed character."),S}getCodeNorm(){const b=this.getCode();return b===-2?10:b}unget(){this.i=this.prevI,this.column--}captureTo(b){let{i:w}=this;const{chunk:C}=this;for(;;){const S=this.getCode(),D=S===-2,P=D?10:S;if(P===-1||b.includes(P))return this.text+=C.slice(w,this.prevI),P;D&&(this.text+=C.slice(w,this.prevI)+`
`,w=this.i)}}captureToChar(b){let{i:w}=this;const{chunk:C}=this;for(;;){let S=this.getCode();switch(S){case-2:this.text+=C.slice(w,this.prevI)+`
`,w=this.i,S=10;break;case-1:return this.text+=C.slice(w),!1}if(S===b)return this.text+=C.slice(w,this.prevI),!0}}captureNameChars(){const{chunk:b,i:w}=this;for(;;){const C=this.getCode();if(C===-1)return this.name+=b.slice(w),-1;if(!h(C))return this.name+=b.slice(w,this.prevI),C===-2?10:C}}skipSpaces(){for(;;){const b=this.getCodeNorm();if(b===-1||!l(b))return b}}setXMLVersion(b){this.currentXMLVersion=b,b==="1.0"?(this.isChar=d,this.getCode=this.getCode10):(this.isChar=f,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const b=this.i,w=this.skipSpaces();switch(this.prevI!==b&&(this.xmlDeclPossible=!1),w){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var b;const w=this.captureTo(R);switch(w){case 62:(b=this.doctypeHandler)===null||b===void 0||b.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(w),w===91?this.state=4:O(w)&&(this.state=3,this.q=w)}}sDoctypeQuote(){const b=this.q;this.captureToChar(b)&&(this.text+=String.fromCodePoint(b),this.q=null,this.state=2)}sDTD(){const b=this.captureTo($);b!==-1&&(this.text+=String.fromCodePoint(b),b===93?this.state=2:b===60?this.state=6:O(b)&&(this.state=5,this.q=b))}sDTDQuoted(){const b=this.q;this.captureToChar(b)&&(this.text+=String.fromCodePoint(b),this.state=4,this.q=null)}sDTDOpenWaka(){const b=this.getCodeNorm();switch(this.text+=String.fromCodePoint(b),b){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const b=String.fromCodePoint(this.getCodeNorm()),w=this.openWakaBang+=b;this.text+=b,w!=="-"&&(this.state=w==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const b=this.getCodeNorm();this.text+=String.fromCodePoint(b),this.state=b===45?10:8}sDTDCommentEnded(){const b=this.getCodeNorm();this.text+=String.fromCodePoint(b),b===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const b=this.getCodeNorm();this.text+=String.fromCodePoint(b),b===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:b}=this;const{chunk:w}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=w.slice(b,this.prevI)+`
`,b=this.i;break;case 59:{const{entityReturnState:C}=this,S=this.entity+w.slice(b,this.prevI);let D;this.state=C,S===""?(this.fail("empty entity name."),D="&;"):(D=this.parseEntity(S),this.entity=""),C===13&&this.textHandler===void 0||(this.text+=D);break e}case-1:this.entity+=w.slice(b);break e}}sOpenWaka(){const b=this.getCode();if(c(b))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(b){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var b;const w=this.getCodeNorm();w===45?(this.state=19,(b=this.commentHandler)===null||b===void 0||b.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(w),this.state=17)}sCommentEnded(){const b=this.getCodeNorm();b!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(b),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const b=this.getCodeNorm();b===93?this.state=22:(this.text+="]"+String.fromCodePoint(b),this.state=20)}sCDataEnding2(){var b;const w=this.getCodeNorm();switch(w){case 62:(b=this.cdataHandler)===null||b===void 0||b.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(w),this.state=20}}sPIFirstChar(){const b=this.getCodeNorm();this.nameStartCheck(b)?(this.piTarget+=String.fromCodePoint(b),this.state=24):b===63||l(b)?(this.fail("processing instruction without a target."),this.state=b===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(b),this.state=24)}sPIRest(){const{chunk:b,i:w}=this;for(;;){const C=this.getCodeNorm();if(C===-1)return void(this.piTarget+=b.slice(w));if(!this.nameCheck(C)){this.piTarget+=b.slice(w,this.prevI);const S=C===63;S||l(C)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=S?33:27):this.state=S?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(C));break}}}sPIBody(){if(this.text.length===0){const b=this.getCodeNorm();b===63?this.state=26:l(b)||(this.text=String.fromCodePoint(b))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var b;const w=this.getCodeNorm();if(w===62){const{piTarget:C}=this;C.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(b=this.piHandler)===null||b===void 0||b.call(this,{target:C,body:this.text}),this.piTarget=this.text="",this.state=13}else w===63?this.text+="?":(this.text+="?"+String.fromCodePoint(w),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const b=this.skipSpaces();b!==63?b!==-1&&(this.state=28,this.name=String.fromCodePoint(b)):this.state=33}sXMLDeclName(){const b=this.captureTo(V);if(b===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(l(b)||b===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=b===61?30:29}}sXMLDeclEq(){const b=this.getCodeNorm();if(b===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(b)||(b!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const b=this.getCodeNorm();if(b===63)return this.state=33,void this.fail("XML declaration is incomplete.");l(b)||(O(b)?this.q=b:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const b=this.captureTo([this.q,63]);if(b===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(b===-1)return;const w=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const C=w;this.xmlDecl.version=C,/^1\.[0-9]+$/.test(C)?this.opt.forceXMLVersion||this.setXMLVersion(C):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(w)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=w;break;case"standalone":w!=="yes"&&w!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=w}this.name="",this.state=32}sXMLDeclSeparator(){const b=this.getCodeNorm();b!==63?(l(b)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var b;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(b=this.xmldeclHandler)===null||b===void 0||b.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var b;const w=this.captureNameChars();if(w===-1)return;const C=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=C.ns=Object.create(null)),(b=this.openTagStartHandler)===null||b===void 0||b.call(this,C),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),w){case 62:this.openTag();break;case 47:this.state=35;break;default:l(w)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const b=this.skipSpaces();b!==-1&&(c(b)?(this.unget(),this.state=37):b===62?this.openTag():b===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const b=this.captureNameChars();b===61?this.state=39:l(b)?this.state=38:b===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):b!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const b=this.skipSpaces();switch(b){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",b===62?this.openTag():c(b)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const b=this.getCodeNorm();O(b)?(this.q=b,this.state=40):l(b)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:b,chunk:w}=this;let{i:C}=this;for(;;)switch(this.getCode()){case b:return this.pushAttrib(this.name,this.text+w.slice(C,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=w.slice(C,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=w.slice(C,this.prevI)+" ",C=this.i;break;case 60:return this.text+=w.slice(C,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=w.slice(C))}}sAttribValueClosed(){const b=this.getCodeNorm();l(b)?this.state=36:b===62?this.openTag():b===47?this.state=35:c(b)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const b=this.captureTo(z);switch(b){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",b===62?this.openTag():this.state=36}}sCloseTag(){const b=this.captureNameChars();b===62?this.closeTag():l(b)?this.state=44:b!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:b,forbiddenState:w}=this;const{chunk:C,textHandler:S}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,S!==void 0){const{text:D}=this,P=C.slice(b,this.prevI);D.length!==0?(S(D+P),this.text=""):P.length!==0&&S(P)}w=0;break e;case 38:this.state=14,this.entityReturnState=13,S!==void 0&&(this.text+=C.slice(b,this.prevI)),w=0;break e;case 93:switch(w){case 0:w=1;break;case 1:w=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:w===2&&this.fail('the string "]]>" is disallowed in char data.'),w=0;break;case-2:S!==void 0&&(this.text+=C.slice(b,this.prevI)+`
`),b=this.i,w=0;break;case-1:S!==void 0&&(this.text+=C.slice(b));break e;default:w=0}this.forbiddenState=w}handleTextOutsideRoot(){let{i:b}=this;const{chunk:w,textHandler:C}=this;let S=!1;e:for(;;){const D=this.getCode();switch(D){case 60:if(this.state=15,C!==void 0){const{text:P}=this,k=w.slice(b,this.prevI);P.length!==0?(C(P+k),this.text=""):k.length!==0&&C(k)}break e;case 38:this.state=14,this.entityReturnState=13,C!==void 0&&(this.text+=w.slice(b,this.prevI)),S=!0;break e;case-2:C!==void 0&&(this.text+=w.slice(b,this.prevI)+`
`),b=this.i;break;case-1:C!==void 0&&(this.text+=w.slice(b));break e;default:l(D)||(S=!0)}}S&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(b,w){var C;const{prefix:S,local:D}=this.qname(b),P={name:b,prefix:S,local:D,value:w};if(this.attribList.push(P),(C=this.attributeHandler)===null||C===void 0||C.call(this,P),S==="xmlns"){const k=w.trim();this.currentXMLVersion==="1.0"&&k===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[D]=k,H(this,D,k)}else if(b==="xmlns"){const k=w.trim();this.topNS[""]=k,H(this,"",k)}}pushAttribPlain(b,w){var C;const S={name:b,value:w};this.attribList.push(S),(C=this.attributeHandler)===null||C===void 0||C.call(this,S)}end(){var b,w;this.sawRoot||this.fail("document must contain a root element.");const{tags:C}=this;for(;C.length>0;){const D=C.pop();this.fail("unclosed tag: "+D.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:S}=this;return S.length!==0&&((b=this.textHandler)===null||b===void 0||b.call(this,S),this.text=""),this._closed=!0,(w=this.endHandler)===null||w===void 0||w.call(this),this._init(),this}resolve(b){var w,C;let S=this.topNS[b];if(S!==void 0)return S;const{tags:D}=this;for(let P=D.length-1;P>=0;P--)if(S=D[P].ns[b],S!==void 0)return S;return S=this.ns[b],S!==void 0?S:(C=(w=this.opt).resolvePrefix)===null||C===void 0?void 0:C.call(w,b)}qname(b){const w=b.indexOf(":");if(w===-1)return{prefix:"",local:b};const C=b.slice(w+1),S=b.slice(0,w);return(S===""||C===""||C.includes(":"))&&this.fail(`malformed name: ${b}.`),{prefix:S,local:C}}processAttribsNS(){var b;const{attribList:w}=this,C=this.tag;{const{prefix:P,local:k}=this.qname(C.name);C.prefix=P,C.local=k;const U=C.uri=(b=this.resolve(P))!==null&&b!==void 0?b:"";P!==""&&(P==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),U===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(P)}.`),C.uri=P))}if(w.length===0)return;const{attributes:S}=C,D=new Set;for(const P of w){const{name:k,prefix:U,local:W}=P;let X,j;U===""?(X=k==="xmlns"?x:"",j=k):(X=this.resolve(U),X===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(U)}.`),X=U),j=`{${X}}${W}`),D.has(j)&&this.fail(`duplicate attribute: ${j}.`),D.add(j),P.uri=X,S[k]=P}this.attribList=[]}processAttribsPlain(){const{attribList:b}=this,w=this.tag.attributes;for(const{name:C,value:S}of b)w[C]!==void 0&&this.fail(`duplicate attribute: ${C}.`),w[C]=S;this.attribList=[]}openTag(){var b;this.processAttribs();const{tags:w}=this,C=this.tag;C.isSelfClosing=!1,(b=this.openTagHandler)===null||b===void 0||b.call(this,C),w.push(C),this.state=13,this.name=""}openSelfClosingTag(){var b,w,C;this.processAttribs();const{tags:S}=this,D=this.tag;D.isSelfClosing=!0,(b=this.openTagHandler)===null||b===void 0||b.call(this,D),(w=this.closeTagHandler)===null||w===void 0||w.call(this,D),(this.tag=(C=S[S.length-1])!==null&&C!==void 0?C:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:b,name:w}=this;if(this.state=13,this.name="",w==="")return this.fail("weird empty close tag."),void(this.text+="</>");const C=this.closeTagHandler;let S=b.length;for(;S-- >0;){const D=this.tag=b.pop();if(this.topNS=D.ns,C==null||C(D),D.name===w)break;this.fail("unexpected close tag.")}S===0?this.closedRoot=!0:S<0&&(this.fail(`unmatched closing tag: ${w}.`),this.text+=`</${w}>`)}parseEntity(b){if(b[0]!=="#"){const C=this.ENTITIES[b];return C!==void 0?C:(this.fail(this.isName(b)?"undefined entity.":"disallowed character in entity name."),`&${b};`)}let w=NaN;return b[1]==="x"&&/^#x[0-9a-f]+$/i.test(b)?w=parseInt(b.slice(2),16):/^#[0-9]+$/.test(b)&&(w=parseInt(b.slice(1),10)),this.isChar(w)?String.fromCodePoint(w):(this.fail("malformed character entity."),`&${b};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(t,n,s){var r=t("safe-buffer").Buffer;function o(a,l){this._block=r.alloc(a),this._finalSize=l,this._blockSize=a,this._len=0}o.prototype.update=function(a,l){typeof a=="string"&&(l=l||"utf8",a=r.from(a,l));for(var d=this._block,c=this._blockSize,h=a.length,u=this._len,p=0;p<h;){for(var f=u%c,g=Math.min(h-p,c-f),m=0;m<g;m++)d[f+m]=a[p+m];p+=g,(u+=g)%c==0&&this._update(d)}return this._len+=h,this},o.prototype.digest=function(a){var l=this._len%this._blockSize;this._block[l]=128,this._block.fill(0,l+1),l>=this._finalSize&&(this._update(this._block),this._block.fill(0));var d=8*this._len;if(d<=4294967295)this._block.writeUInt32BE(d,this._blockSize-4);else{var c=(4294967295&d)>>>0,h=(d-c)/4294967296;this._block.writeUInt32BE(h,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var u=this._hash();return a?u.toString(a):u},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=o},{"safe-buffer":494}],498:[function(t,n,s){var r=n.exports=function(o){o=o.toLowerCase();var a=r[o];if(!a)throw new Error(o+" is not supported (we accept pull requests)");return new a};r.sha=t("./sha"),r.sha1=t("./sha1"),r.sha224=t("./sha224"),r.sha256=t("./sha256"),r.sha384=t("./sha384"),r.sha512=t("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(t,n,s){var r=t("inherits"),o=t("./hash"),a=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);function c(){this.init(),this._w=d,o.call(this,64,56)}function h(p){return p<<30|p>>>2}function u(p,f,g,m){return p===0?f&g|~f&m:p===2?f&g|f&m|g&m:f^g^m}r(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(p){for(var f,g=this._w,m=0|this._a,v=0|this._b,_=0|this._c,x=0|this._d,y=0|this._e,T=0;T<16;++T)g[T]=p.readInt32BE(4*T);for(;T<80;++T)g[T]=g[T-3]^g[T-8]^g[T-14]^g[T-16];for(var O=0;O<80;++O){var L=~~(O/20),R=0|((f=m)<<5|f>>>27)+u(L,v,_,x)+y+g[O]+l[L];y=x,x=_,_=h(v),v=m,m=R}this._a=m+this._a|0,this._b=v+this._b|0,this._c=_+this._c|0,this._d=x+this._d|0,this._e=y+this._e|0},c.prototype._hash=function(){var p=a.allocUnsafe(20);return p.writeInt32BE(0|this._a,0),p.writeInt32BE(0|this._b,4),p.writeInt32BE(0|this._c,8),p.writeInt32BE(0|this._d,12),p.writeInt32BE(0|this._e,16),p},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(t,n,s){var r=t("inherits"),o=t("./hash"),a=t("safe-buffer").Buffer,l=[1518500249,1859775393,-1894007588,-899497514],d=new Array(80);function c(){this.init(),this._w=d,o.call(this,64,56)}function h(f){return f<<5|f>>>27}function u(f){return f<<30|f>>>2}function p(f,g,m,v){return f===0?g&m|~g&v:f===2?g&m|g&v|m&v:g^m^v}r(c,o),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(f){for(var g,m=this._w,v=0|this._a,_=0|this._b,x=0|this._c,y=0|this._d,T=0|this._e,O=0;O<16;++O)m[O]=f.readInt32BE(4*O);for(;O<80;++O)m[O]=(g=m[O-3]^m[O-8]^m[O-14]^m[O-16])<<1|g>>>31;for(var L=0;L<80;++L){var R=~~(L/20),$=h(v)+p(R,_,x,y)+T+m[L]+l[R]|0;T=y,y=x,x=u(_),_=v,v=$}this._a=v+this._a|0,this._b=_+this._b|0,this._c=x+this._c|0,this._d=y+this._d|0,this._e=T+this._e|0},c.prototype._hash=function(){var f=a.allocUnsafe(20);return f.writeInt32BE(0|this._a,0),f.writeInt32BE(0|this._b,4),f.writeInt32BE(0|this._c,8),f.writeInt32BE(0|this._d,12),f.writeInt32BE(0|this._e,16),f},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(t,n,s){var r=t("inherits"),o=t("./sha256"),a=t("./hash"),l=t("safe-buffer").Buffer,d=new Array(64);function c(){this.init(),this._w=d,a.call(this,64,56)}r(c,o),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var h=l.allocUnsafe(28);return h.writeInt32BE(this._a,0),h.writeInt32BE(this._b,4),h.writeInt32BE(this._c,8),h.writeInt32BE(this._d,12),h.writeInt32BE(this._e,16),h.writeInt32BE(this._f,20),h.writeInt32BE(this._g,24),h},n.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(t,n,s){var r=t("inherits"),o=t("./hash"),a=t("safe-buffer").Buffer,l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=new Array(64);function c(){this.init(),this._w=d,o.call(this,64,56)}function h(m,v,_){return _^m&(v^_)}function u(m,v,_){return m&v|_&(m|v)}function p(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function f(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function g(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}r(c,o),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(m){for(var v,_=this._w,x=0|this._a,y=0|this._b,T=0|this._c,O=0|this._d,L=0|this._e,R=0|this._f,$=0|this._g,V=0|this._h,z=0;z<16;++z)_[z]=m.readInt32BE(4*z);for(;z<64;++z)_[z]=0|(((v=_[z-2])>>>17|v<<15)^(v>>>19|v<<13)^v>>>10)+_[z-7]+g(_[z-15])+_[z-16];for(var H=0;H<64;++H){var I=V+f(L)+h(L,R,$)+l[H]+_[H]|0,A=p(x)+u(x,y,T)|0;V=$,$=R,R=L,L=O+I|0,O=T,T=y,y=x,x=I+A|0}this._a=x+this._a|0,this._b=y+this._b|0,this._c=T+this._c|0,this._d=O+this._d|0,this._e=L+this._e|0,this._f=R+this._f|0,this._g=$+this._g|0,this._h=V+this._h|0},c.prototype._hash=function(){var m=a.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(t,n,s){var r=t("inherits"),o=t("./sha512"),a=t("./hash"),l=t("safe-buffer").Buffer,d=new Array(160);function c(){this.init(),this._w=d,a.call(this,128,112)}r(c,o),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var h=l.allocUnsafe(48);function u(p,f,g){h.writeInt32BE(p,g),h.writeInt32BE(f,g+4)}return u(this._ah,this._al,0),u(this._bh,this._bl,8),u(this._ch,this._cl,16),u(this._dh,this._dl,24),u(this._eh,this._el,32),u(this._fh,this._fl,40),h},n.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(t,n,s){var r=t("inherits"),o=t("./hash"),a=t("safe-buffer").Buffer,l=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],d=new Array(160);function c(){this.init(),this._w=d,o.call(this,128,112)}function h(y,T,O){return O^y&(T^O)}function u(y,T,O){return y&T|O&(y|T)}function p(y,T){return(y>>>28|T<<4)^(T>>>2|y<<30)^(T>>>7|y<<25)}function f(y,T){return(y>>>14|T<<18)^(y>>>18|T<<14)^(T>>>9|y<<23)}function g(y,T){return(y>>>1|T<<31)^(y>>>8|T<<24)^y>>>7}function m(y,T){return(y>>>1|T<<31)^(y>>>8|T<<24)^(y>>>7|T<<25)}function v(y,T){return(y>>>19|T<<13)^(T>>>29|y<<3)^y>>>6}function _(y,T){return(y>>>19|T<<13)^(T>>>29|y<<3)^(y>>>6|T<<26)}function x(y,T){return y>>>0<T>>>0?1:0}r(c,o),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(y){for(var T=this._w,O=0|this._ah,L=0|this._bh,R=0|this._ch,$=0|this._dh,V=0|this._eh,z=0|this._fh,H=0|this._gh,I=0|this._hh,A=0|this._al,E=0|this._bl,b=0|this._cl,w=0|this._dl,C=0|this._el,S=0|this._fl,D=0|this._gl,P=0|this._hl,k=0;k<32;k+=2)T[k]=y.readInt32BE(4*k),T[k+1]=y.readInt32BE(4*k+4);for(;k<160;k+=2){var U=T[k-30],W=T[k-30+1],X=g(U,W),j=m(W,U),q=v(U=T[k-4],W=T[k-4+1]),B=_(W,U),F=T[k-14],K=T[k-14+1],ee=T[k-32],Q=T[k-32+1],Z=j+K|0,J=X+F+x(Z,j)|0;J=(J=J+q+x(Z=Z+B|0,B)|0)+ee+x(Z=Z+Q|0,Q)|0,T[k]=J,T[k+1]=Z}for(var ae=0;ae<160;ae+=2){J=T[ae],Z=T[ae+1];var ce=u(O,L,R),te=u(A,E,b),oe=p(O,A),le=p(A,O),fe=f(V,C),pe=f(C,V),me=l[ae],ye=l[ae+1],we=h(V,z,H),De=h(C,S,D),Ve=P+pe|0,Le=I+fe+x(Ve,P)|0;Le=(Le=(Le=Le+we+x(Ve=Ve+De|0,De)|0)+me+x(Ve=Ve+ye|0,ye)|0)+J+x(Ve=Ve+Z|0,Z)|0;var $e=le+te|0,rt=oe+ce+x($e,le)|0;I=H,P=D,H=z,D=S,z=V,S=C,V=$+Le+x(C=w+Ve|0,w)|0,$=R,w=b,R=L,b=E,L=O,E=A,O=Le+rt+x(A=Ve+$e|0,Ve)|0}this._al=this._al+A|0,this._bl=this._bl+E|0,this._cl=this._cl+b|0,this._dl=this._dl+w|0,this._el=this._el+C|0,this._fl=this._fl+S|0,this._gl=this._gl+D|0,this._hl=this._hl+P|0,this._ah=this._ah+O+x(this._al,A)|0,this._bh=this._bh+L+x(this._bl,E)|0,this._ch=this._ch+R+x(this._cl,b)|0,this._dh=this._dh+$+x(this._dl,w)|0,this._eh=this._eh+V+x(this._el,C)|0,this._fh=this._fh+z+x(this._fl,S)|0,this._gh=this._gh+H+x(this._gl,D)|0,this._hh=this._hh+I+x(this._hl,P)|0},c.prototype._hash=function(){var y=a.allocUnsafe(64);function T(O,L,R){y.writeInt32BE(O,R),y.writeInt32BE(L,R+4)}return T(this._ah,this._al,0),T(this._bh,this._bl,8),T(this._ch,this._cl,16),T(this._dh,this._dl,24),T(this._eh,this._el,32),T(this._fh,this._fl,40),T(this._gh,this._gl,48),T(this._hh,this._hl,56),y},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(t,n,s){n.exports=o;var r=t("events").EventEmitter;function o(){r.call(this)}t("inherits")(o,r),o.Readable=t("readable-stream/readable.js"),o.Writable=t("readable-stream/writable.js"),o.Duplex=t("readable-stream/duplex.js"),o.Transform=t("readable-stream/transform.js"),o.PassThrough=t("readable-stream/passthrough.js"),o.Stream=o,o.prototype.pipe=function(a,l){var d=this;function c(v){a.writable&&a.write(v)===!1&&d.pause&&d.pause()}function h(){d.readable&&d.resume&&d.resume()}d.on("data",c),a.on("drain",h),a._isStdio||l&&l.end===!1||(d.on("end",p),d.on("close",f));var u=!1;function p(){u||(u=!0,a.end())}function f(){u||(u=!0,typeof a.destroy=="function"&&a.destroy())}function g(v){if(m(),r.listenerCount(this,"error")===0)throw v}function m(){d.removeListener("data",c),a.removeListener("drain",h),d.removeListener("end",p),d.removeListener("close",f),d.removeListener("error",g),a.removeListener("error",g),d.removeListener("end",m),d.removeListener("close",m),a.removeListener("close",m)}return d.on("error",g),a.on("error",g),d.on("end",m),d.on("close",m),a.on("close",m),a.emit("pipe",d),a}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(t,n,s){var r={}.toString;n.exports=Array.isArray||function(o){return r.call(o)=="[object Array]"}},{}],507:[function(t,n,s){n.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(t,n,s){var r=t("process-nextick-args"),o=Object.keys||function(m){var v=[];for(var _ in m)v.push(_);return v};n.exports=p;var a=Object.create(t("core-util-is"));a.inherits=t("inherits");var l=t("./_stream_readable"),d=t("./_stream_writable");a.inherits(p,l);for(var c=o(d.prototype),h=0;h<c.length;h++){var u=c[h];p.prototype[u]||(p.prototype[u]=d.prototype[u])}function p(m){if(!(this instanceof p))return new p(m);l.call(this,m),d.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||r.nextTick(g,this)}function g(m){m.end()}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),p.prototype._destroy=function(m,v){this.push(null),this.end(),r.nextTick(v,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(t,n,s){n.exports=a;var r=t("./_stream_transform"),o=Object.create(t("core-util-is"));function a(l){if(!(this instanceof a))return new a(l);r.call(this,l)}o.inherits=t("inherits"),o.inherits(a,r),a.prototype._transform=function(l,d,c){c(null,l)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(t,n,s){(function(r,o){(function(){var a=t("process-nextick-args");n.exports=O;var l,d=t("isarray");O.ReadableState=T,t("events").EventEmitter;var c=function(P,k){return P.listeners(k).length},h=t("./internal/streams/stream"),u=t("safe-buffer").Buffer,p=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},f=Object.create(t("core-util-is"));f.inherits=t("inherits");var g=t("util"),m=void 0;m=g&&g.debuglog?g.debuglog("stream"):function(){};var v,_=t("./internal/streams/BufferList"),x=t("./internal/streams/destroy");f.inherits(O,h);var y=["error","close","destroy","pause","resume"];function T(P,k){P=P||{};var U=k instanceof(l=l||t("./_stream_duplex"));this.objectMode=!!P.objectMode,U&&(this.objectMode=this.objectMode||!!P.readableObjectMode);var W=P.highWaterMark,X=P.readableHighWaterMark,j=this.objectMode?16:16384;this.highWaterMark=W||W===0?W:U&&(X||X===0)?X:j,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new _,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(v||(v=t("string_decoder/").StringDecoder),this.decoder=new v(P.encoding),this.encoding=P.encoding)}function O(P){if(l=l||t("./_stream_duplex"),!(this instanceof O))return new O(P);this._readableState=new T(P,this),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),h.call(this)}function L(P,k,U,W,X){var j,q=P._readableState;return k===null?(q.reading=!1,function(B,F){if(!F.ended){if(F.decoder){var K=F.decoder.end();K&&K.length&&(F.buffer.push(K),F.length+=F.objectMode?1:K.length)}F.ended=!0,V(B)}}(P,q)):(X||(j=function(B,F){var K;ee=F,u.isBuffer(ee)||ee instanceof p||typeof F=="string"||F===void 0||B.objectMode||(K=new TypeError("Invalid non-string/buffer chunk"));var ee;return K}(q,k)),j?P.emit("error",j):q.objectMode||k&&k.length>0?(typeof k=="string"||q.objectMode||Object.getPrototypeOf(k)===u.prototype||(k=function(B){return u.from(B)}(k)),W?q.endEmitted?P.emit("error",new Error("stream.unshift() after end event")):R(P,q,k,!0):q.ended?P.emit("error",new Error("stream.push() after EOF")):(q.reading=!1,q.decoder&&!U?(k=q.decoder.write(k),q.objectMode||k.length!==0?R(P,q,k,!1):H(P,q)):R(P,q,k,!1))):W||(q.reading=!1)),function(B){return!B.ended&&(B.needReadable||B.length<B.highWaterMark||B.length===0)}(q)}function R(P,k,U,W){k.flowing&&k.length===0&&!k.sync?(P.emit("data",U),P.read(0)):(k.length+=k.objectMode?1:U.length,W?k.buffer.unshift(U):k.buffer.push(U),k.needReadable&&V(P)),H(P,k)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(P){this._readableState&&(this._readableState.destroyed=P)}}),O.prototype.destroy=x.destroy,O.prototype._undestroy=x.undestroy,O.prototype._destroy=function(P,k){this.push(null),k(P)},O.prototype.push=function(P,k){var U,W=this._readableState;return W.objectMode?U=!0:typeof P=="string"&&((k=k||W.defaultEncoding)!==W.encoding&&(P=u.from(P,k),k=""),U=!0),L(this,P,k,!1,U)},O.prototype.unshift=function(P){return L(this,P,null,!0,!1)},O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(P){return v||(v=t("string_decoder/").StringDecoder),this._readableState.decoder=new v(P),this._readableState.encoding=P,this};function $(P,k){return P<=0||k.length===0&&k.ended?0:k.objectMode?1:P!=P?k.flowing&&k.length?k.buffer.head.data.length:k.length:(P>k.highWaterMark&&(k.highWaterMark=function(U){return U>=8388608?U=8388608:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(P)),P<=k.length?P:k.ended?k.length:(k.needReadable=!0,0))}function V(P){var k=P._readableState;k.needReadable=!1,k.emittedReadable||(m("emitReadable",k.flowing),k.emittedReadable=!0,k.sync?a.nextTick(z,P):z(P))}function z(P){m("emit readable"),P.emit("readable"),b(P)}function H(P,k){k.readingMore||(k.readingMore=!0,a.nextTick(I,P,k))}function I(P,k){for(var U=k.length;!k.reading&&!k.flowing&&!k.ended&&k.length<k.highWaterMark&&(m("maybeReadMore read 0"),P.read(0),U!==k.length);)U=k.length;k.readingMore=!1}function A(P){m("readable nexttick read 0"),P.read(0)}function E(P,k){k.reading||(m("resume read 0"),P.read(0)),k.resumeScheduled=!1,k.awaitDrain=0,P.emit("resume"),b(P),k.flowing&&!k.reading&&P.read(0)}function b(P){var k=P._readableState;for(m("flow",k.flowing);k.flowing&&P.read()!==null;);}function w(P,k){return k.length===0?null:(k.objectMode?U=k.buffer.shift():!P||P>=k.length?(U=k.decoder?k.buffer.join(""):k.buffer.length===1?k.buffer.head.data:k.buffer.concat(k.length),k.buffer.clear()):U=function(W,X,j){var q;return W<X.head.data.length?(q=X.head.data.slice(0,W),X.head.data=X.head.data.slice(W)):q=W===X.head.data.length?X.shift():j?function(B,F){var K=F.head,ee=1,Q=K.data;for(B-=Q.length;K=K.next;){var Z=K.data,J=B>Z.length?Z.length:B;if(J===Z.length?Q+=Z:Q+=Z.slice(0,B),(B-=J)===0){J===Z.length?(++ee,K.next?F.head=K.next:F.head=F.tail=null):(F.head=K,K.data=Z.slice(J));break}++ee}return F.length-=ee,Q}(W,X):function(B,F){var K=u.allocUnsafe(B),ee=F.head,Q=1;for(ee.data.copy(K),B-=ee.data.length;ee=ee.next;){var Z=ee.data,J=B>Z.length?Z.length:B;if(Z.copy(K,K.length-B,0,J),(B-=J)===0){J===Z.length?(++Q,ee.next?F.head=ee.next:F.head=F.tail=null):(F.head=ee,ee.data=Z.slice(J));break}++Q}return F.length-=Q,K}(W,X),q}(P,k.buffer,k.decoder),U);var U}function C(P){var k=P._readableState;if(k.length>0)throw new Error('"endReadable()" called on non-empty stream');k.endEmitted||(k.ended=!0,a.nextTick(S,k,P))}function S(P,k){P.endEmitted||P.length!==0||(P.endEmitted=!0,k.readable=!1,k.emit("end"))}function D(P,k){for(var U=0,W=P.length;U<W;U++)if(P[U]===k)return U;return-1}O.prototype.read=function(P){m("read",P),P=parseInt(P,10);var k=this._readableState,U=P;if(P!==0&&(k.emittedReadable=!1),P===0&&k.needReadable&&(k.length>=k.highWaterMark||k.ended))return m("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?C(this):V(this),null;if((P=$(P,k))===0&&k.ended)return k.length===0&&C(this),null;var W,X=k.needReadable;return m("need readable",X),(k.length===0||k.length-P<k.highWaterMark)&&m("length less than watermark",X=!0),k.ended||k.reading?m("reading or ended",X=!1):X&&(m("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0),this._read(k.highWaterMark),k.sync=!1,k.reading||(P=$(U,k))),(W=P>0?w(P,k):null)===null?(k.needReadable=!0,P=0):k.length-=P,k.length===0&&(k.ended||(k.needReadable=!0),U!==P&&k.ended&&C(this)),W!==null&&this.emit("data",W),W},O.prototype._read=function(P){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(P,k){var U=this,W=this._readableState;switch(W.pipesCount){case 0:W.pipes=P;break;case 1:W.pipes=[W.pipes,P];break;default:W.pipes.push(P)}W.pipesCount+=1,m("pipe count=%d opts=%j",W.pipesCount,k);var X=(!k||k.end!==!1)&&P!==r.stdout&&P!==r.stderr?q:ae;function j(ce,te){m("onunpipe"),ce===U&&te&&te.hasUnpiped===!1&&(te.hasUnpiped=!0,m("cleanup"),P.removeListener("close",Z),P.removeListener("finish",J),P.removeListener("drain",B),P.removeListener("error",Q),P.removeListener("unpipe",j),U.removeListener("end",q),U.removeListener("end",ae),U.removeListener("data",ee),F=!0,!W.awaitDrain||P._writableState&&!P._writableState.needDrain||B())}function q(){m("onend"),P.end()}W.endEmitted?a.nextTick(X):U.once("end",X),P.on("unpipe",j);var B=function(ce){return function(){var te=ce._readableState;m("pipeOnDrain",te.awaitDrain),te.awaitDrain&&te.awaitDrain--,te.awaitDrain===0&&c(ce,"data")&&(te.flowing=!0,b(ce))}}(U);P.on("drain",B);var F=!1,K=!1;function ee(ce){m("ondata"),K=!1,P.write(ce)!==!1||K||((W.pipesCount===1&&W.pipes===P||W.pipesCount>1&&D(W.pipes,P)!==-1)&&!F&&(m("false write response, pause",W.awaitDrain),W.awaitDrain++,K=!0),U.pause())}function Q(ce){m("onerror",ce),ae(),P.removeListener("error",Q),c(P,"error")===0&&P.emit("error",ce)}function Z(){P.removeListener("finish",J),ae()}function J(){m("onfinish"),P.removeListener("close",Z),ae()}function ae(){m("unpipe"),U.unpipe(P)}return U.on("data",ee),function(ce,te,oe){if(typeof ce.prependListener=="function")return ce.prependListener(te,oe);ce._events&&ce._events[te]?d(ce._events[te])?ce._events[te].unshift(oe):ce._events[te]=[oe,ce._events[te]]:ce.on(te,oe)}(P,"error",Q),P.once("close",Z),P.once("finish",J),P.emit("pipe",U),W.flowing||(m("pipe resume"),U.resume()),P},O.prototype.unpipe=function(P){var k=this._readableState,U={hasUnpiped:!1};if(k.pipesCount===0)return this;if(k.pipesCount===1)return P&&P!==k.pipes||(P||(P=k.pipes),k.pipes=null,k.pipesCount=0,k.flowing=!1,P&&P.emit("unpipe",this,U)),this;if(!P){var W=k.pipes,X=k.pipesCount;k.pipes=null,k.pipesCount=0,k.flowing=!1;for(var j=0;j<X;j++)W[j].emit("unpipe",this,{hasUnpiped:!1});return this}var q=D(k.pipes,P);return q===-1||(k.pipes.splice(q,1),k.pipesCount-=1,k.pipesCount===1&&(k.pipes=k.pipes[0]),P.emit("unpipe",this,U)),this},O.prototype.on=function(P,k){var U=h.prototype.on.call(this,P,k);if(P==="data")this._readableState.flowing!==!1&&this.resume();else if(P==="readable"){var W=this._readableState;W.endEmitted||W.readableListening||(W.readableListening=W.needReadable=!0,W.emittedReadable=!1,W.reading?W.length&&V(this):a.nextTick(A,this))}return U},O.prototype.addListener=O.prototype.on,O.prototype.resume=function(){var P=this._readableState;return P.flowing||(m("resume"),P.flowing=!0,function(k,U){U.resumeScheduled||(U.resumeScheduled=!0,a.nextTick(E,k,U))}(this,P)),this},O.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},O.prototype.wrap=function(P){var k=this,U=this._readableState,W=!1;for(var X in P.on("end",function(){if(m("wrapped end"),U.decoder&&!U.ended){var q=U.decoder.end();q&&q.length&&k.push(q)}k.push(null)}),P.on("data",function(q){m("wrapped data"),U.decoder&&(q=U.decoder.write(q)),U.objectMode&&q==null||(U.objectMode||q&&q.length)&&(k.push(q)||(W=!0,P.pause()))}),P)this[X]===void 0&&typeof P[X]=="function"&&(this[X]=function(q){return function(){return P[q].apply(P,arguments)}}(X));for(var j=0;j<y.length;j++)P.on(y[j],this.emit.bind(this,y[j]));return this._read=function(q){m("wrapped _read",q),W&&(W=!1,P.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=w}).call(this)}).call(this,t("_process"),typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(t,n,s){n.exports=l;var r=t("./_stream_duplex"),o=Object.create(t("core-util-is"));function a(h,u){var p=this._transformState;p.transforming=!1;var f=p.writecb;if(!f)return this.emit("error",new Error("write callback called multiple times"));p.writechunk=null,p.writecb=null,u!=null&&this.push(u),f(h);var g=this._readableState;g.reading=!1,(g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}function l(h){if(!(this instanceof l))return new l(h);r.call(this,h),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",d)}function d(){var h=this;typeof this._flush=="function"?this._flush(function(u,p){c(h,u,p)}):c(this,null,null)}function c(h,u,p){if(u)return h.emit("error",u);if(p!=null&&h.push(p),h._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(h._transformState.transforming)throw new Error("Calling transform done when still transforming");return h.push(null)}o.inherits=t("inherits"),o.inherits(l,r),l.prototype.push=function(h,u){return this._transformState.needTransform=!1,r.prototype.push.call(this,h,u)},l.prototype._transform=function(h,u,p){throw new Error("_transform() is not implemented")},l.prototype._write=function(h,u,p){var f=this._transformState;if(f.writecb=p,f.writechunk=h,f.writeencoding=u,!f.transforming){var g=this._readableState;(f.needTransform||g.needReadable||g.length<g.highWaterMark)&&this._read(g.highWaterMark)}},l.prototype._read=function(h){var u=this._transformState;u.writechunk!==null&&u.writecb&&!u.transforming?(u.transforming=!0,this._transform(u.writechunk,u.writeencoding,u.afterTransform)):u.needTransform=!0},l.prototype._destroy=function(h,u){var p=this;r.prototype._destroy.call(this,h,function(f){u(f),p.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(t,n,s){(function(r,o,a){(function(){var l=t("process-nextick-args");function d(H){var I=this;this.next=null,this.entry=null,this.finish=function(){(function(A,E,b){var w=A.entry;for(A.entry=null;w;){var C=w.callback;E.pendingcb--,C(b),w=w.next}E.corkedRequestsFree.next=A})(I,H)}}n.exports=T;var c,h=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?a:l.nextTick;T.WritableState=y;var u=Object.create(t("core-util-is"));u.inherits=t("inherits");var p={deprecate:t("util-deprecate")},f=t("./internal/streams/stream"),g=t("safe-buffer").Buffer,m=(o!==void 0?o:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},v,_=t("./internal/streams/destroy");function x(){}function y(H,I){c=c||t("./_stream_duplex"),H=H||{};var A=I instanceof c;this.objectMode=!!H.objectMode,A&&(this.objectMode=this.objectMode||!!H.writableObjectMode);var E=H.highWaterMark,b=H.writableHighWaterMark,w=this.objectMode?16:16384;this.highWaterMark=E||E===0?E:A&&(b||b===0)?b:w,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var C=H.decodeStrings===!1;this.decodeStrings=!C,this.defaultEncoding=H.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(S){(function(D,P){var k=D._writableState,U=k.sync,W=k.writecb;if(function(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0}(k),P)(function(j,q,B,F,K){--q.pendingcb,B?(l.nextTick(K,F),l.nextTick(z,j,q),j._writableState.errorEmitted=!0,j.emit("error",F)):(K(F),j._writableState.errorEmitted=!0,j.emit("error",F),z(j,q))})(D,k,U,P,W);else{var X=$(k);X||k.corked||k.bufferProcessing||!k.bufferedRequest||R(D,k),U?h(L,D,k,X,W):L(D,k,X,W)}})(I,S)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function T(H){if(c=c||t("./_stream_duplex"),!(v.call(T,this)||this instanceof c))return new T(H);this._writableState=new y(H,this),this.writable=!0,H&&(typeof H.write=="function"&&(this._write=H.write),typeof H.writev=="function"&&(this._writev=H.writev),typeof H.destroy=="function"&&(this._destroy=H.destroy),typeof H.final=="function"&&(this._final=H.final)),f.call(this)}function O(H,I,A,E,b,w,C){I.writelen=E,I.writecb=C,I.writing=!0,I.sync=!0,A?H._writev(b,I.onwrite):H._write(b,w,I.onwrite),I.sync=!1}function L(H,I,A,E){A||function(b,w){w.length===0&&w.needDrain&&(w.needDrain=!1,b.emit("drain"))}(H,I),I.pendingcb--,E(),z(H,I)}function R(H,I){I.bufferProcessing=!0;var A=I.bufferedRequest;if(H._writev&&A&&A.next){var E=I.bufferedRequestCount,b=new Array(E),w=I.corkedRequestsFree;w.entry=A;for(var C=0,S=!0;A;)b[C]=A,A.isBuf||(S=!1),A=A.next,C+=1;b.allBuffers=S,O(H,I,!0,I.length,b,"",w.finish),I.pendingcb++,I.lastBufferedRequest=null,w.next?(I.corkedRequestsFree=w.next,w.next=null):I.corkedRequestsFree=new d(I),I.bufferedRequestCount=0}else{for(;A;){var D=A.chunk,P=A.encoding,k=A.callback;if(O(H,I,!1,I.objectMode?1:D.length,D,P,k),A=A.next,I.bufferedRequestCount--,I.writing)break}A===null&&(I.lastBufferedRequest=null)}I.bufferedRequest=A,I.bufferProcessing=!1}function $(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function V(H,I){H._final(function(A){I.pendingcb--,A&&H.emit("error",A),I.prefinished=!0,H.emit("prefinish"),z(H,I)})}function z(H,I){var A=$(I);return A&&(function(E,b){b.prefinished||b.finalCalled||(typeof E._final=="function"?(b.pendingcb++,b.finalCalled=!0,l.nextTick(V,E,b)):(b.prefinished=!0,E.emit("prefinish")))}(H,I),I.pendingcb===0&&(I.finished=!0,H.emit("finish"))),A}u.inherits(T,f),y.prototype.getBuffer=function(){for(var H=this.bufferedRequest,I=[];H;)I.push(H),H=H.next;return I},function(){try{Object.defineProperty(y.prototype,"buffer",{get:p.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(v=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(H){return!!v.call(this,H)||this===T&&H&&H._writableState instanceof y}})):v=function(H){return H instanceof this},T.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},T.prototype.write=function(H,I,A){var E,b=this._writableState,w=!1,C=!b.objectMode&&(E=H,g.isBuffer(E)||E instanceof m);return C&&!g.isBuffer(H)&&(H=function(S){return g.from(S)}(H)),typeof I=="function"&&(A=I,I=null),C?I="buffer":I||(I=b.defaultEncoding),typeof A!="function"&&(A=x),b.ended?function(S,D){var P=new Error("write after end");S.emit("error",P),l.nextTick(D,P)}(this,A):(C||function(S,D,P,k){var U=!0,W=!1;return P===null?W=new TypeError("May not write null values to stream"):typeof P=="string"||P===void 0||D.objectMode||(W=new TypeError("Invalid non-string/buffer chunk")),W&&(S.emit("error",W),l.nextTick(k,W),U=!1),U}(this,b,H,A))&&(b.pendingcb++,w=function(S,D,P,k,U,W){if(!P){var X=function(F,K,ee){return F.objectMode||F.decodeStrings===!1||typeof K!="string"||(K=g.from(K,ee)),K}(D,k,U);k!==X&&(P=!0,U="buffer",k=X)}var j=D.objectMode?1:k.length;D.length+=j;var q=D.length<D.highWaterMark;if(q||(D.needDrain=!0),D.writing||D.corked){var B=D.lastBufferedRequest;D.lastBufferedRequest={chunk:k,encoding:U,isBuf:P,callback:W,next:null},B?B.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else O(S,D,!1,j,k,U,W);return q}(this,b,C,H,I,A)),w},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,H.writing||H.corked||H.bufferProcessing||!H.bufferedRequest||R(this,H))},T.prototype.setDefaultEncoding=function(H){if(typeof H=="string"&&(H=H.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((H+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(H,I,A){A(new Error("_write() is not implemented"))},T.prototype._writev=null,T.prototype.end=function(H,I,A){var E=this._writableState;typeof H=="function"?(A=H,H=null,I=null):typeof I=="function"&&(A=I,I=null),H!=null&&this.write(H,I),E.corked&&(E.corked=1,this.uncork()),E.ending||function(b,w,C){w.ending=!0,z(b,w),C&&(w.finished?l.nextTick(C):b.once("finish",C)),w.ended=!0,b.writable=!1}(this,E,A)},Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),T.prototype.destroy=_.destroy,T.prototype._undestroy=_.undestroy,T.prototype._destroy=function(H,I){this.end(),I(H)}}).call(this)}).call(this,t("_process"),typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{},t("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(t,n,s){var r=t("safe-buffer").Buffer,o=t("util");n.exports=function(){function a(){(function(l,d){if(!(l instanceof d))throw new TypeError("Cannot call a class as a function")})(this,a),this.head=null,this.tail=null,this.length=0}return a.prototype.push=function(l){var d={data:l,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length},a.prototype.unshift=function(l){var d={data:l,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length},a.prototype.shift=function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}},a.prototype.clear=function(){this.head=this.tail=null,this.length=0},a.prototype.join=function(l){if(this.length===0)return"";for(var d=this.head,c=""+d.data;d=d.next;)c+=l+d.data;return c},a.prototype.concat=function(l){if(this.length===0)return r.alloc(0);for(var d,c,h,u=r.allocUnsafe(l>>>0),p=this.head,f=0;p;)d=p.data,c=u,h=f,d.copy(c,h),f+=p.data.length,p=p.next;return u},a}(),o&&o.inspect&&o.inspect.custom&&(n.exports.prototype[o.inspect.custom]=function(){var a=o.inspect({length:this.length});return this.constructor.name+" "+a})},{"safe-buffer":520,util:188}],514:[function(t,n,s){var r=t("process-nextick-args");function o(a,l){a.emit("error",l)}n.exports={destroy:function(a,l){var d=this,c=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return c||h?(l?l(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(o,this,a)):r.nextTick(o,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(u){!l&&u?d._writableState?d._writableState.errorEmitted||(d._writableState.errorEmitted=!0,r.nextTick(o,d,u)):r.nextTick(o,d,u):l&&l(u)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(t,n,s){arguments[4][490][0].apply(s,arguments)},{dup:490,events:422}],516:[function(t,n,s){n.exports=t("./readable").PassThrough},{"./readable":517}],517:[function(t,n,s){(s=n.exports=t("./lib/_stream_readable.js")).Stream=s,s.Readable=s,s.Writable=t("./lib/_stream_writable.js"),s.Duplex=t("./lib/_stream_duplex.js"),s.Transform=t("./lib/_stream_transform.js"),s.PassThrough=t("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(t,n,s){n.exports=t("./readable").Transform},{"./readable":517}],519:[function(t,n,s){n.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(t,n,s){arguments[4][217][0].apply(s,arguments)},{buffer:220,dup:217}],521:[function(t,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":520}],522:[function(t,n,s){arguments[4][218][0].apply(s,arguments)},{dup:218,"safe-buffer":494}],523:[function(t,n,s){(function(r,o){(function(){var a=t("process/browser.js").nextTick,l=Function.prototype.apply,d=Array.prototype.slice,c={},h=0;function u(p,f){this._id=p,this._clearFn=f}s.setTimeout=function(){return new u(l.call(setTimeout,window,arguments),clearTimeout)},s.setInterval=function(){return new u(l.call(setInterval,window,arguments),clearInterval)},s.clearTimeout=s.clearInterval=function(p){p.close()},u.prototype.unref=u.prototype.ref=function(){},u.prototype.close=function(){this._clearFn.call(window,this._id)},s.enroll=function(p,f){clearTimeout(p._idleTimeoutId),p._idleTimeout=f},s.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},s._unrefActive=s.active=function(p){clearTimeout(p._idleTimeoutId);var f=p._idleTimeout;f>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},f))},s.setImmediate=typeof r=="function"?r:function(p){var f=h++,g=!(arguments.length<2)&&d.call(arguments,1);return c[f]=!0,a(function(){c[f]&&(g?p.apply(null,g):p.call(null),s.clearImmediate(f))}),f},s.clearImmediate=typeof o=="function"?o:function(p){delete c[p]}}).call(this)}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(t,n,s){(function(r){(function(){function o(a){try{if(!r.localStorage)return!1}catch{return!1}var l=r.localStorage[a];return l!=null&&String(l).toLowerCase()==="true"}n.exports=function(a,l){if(o("noDeprecation"))return a;var d=!1;return function(){if(!d){if(o("throwDeprecation"))throw new Error(l);o("traceDeprecation")?console.trace(l):console.warn(l),d=!0}return a.apply(this,arguments)}}}).call(this)}).call(this,typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(t,n,s){typeof Object.create=="function"?n.exports=function(r,o){r.super_=o,r.prototype=Object.create(o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(r,o){r.super_=o;var a=function(){};a.prototype=o.prototype,r.prototype=new a,r.prototype.constructor=r}},{}],526:[function(t,n,s){n.exports=function(r){return r&&typeof r=="object"&&typeof r.copy=="function"&&typeof r.fill=="function"&&typeof r.readUInt8=="function"}},{}],527:[function(t,n,s){(function(r,o){(function(){var a=/%[sdj%]/g;s.format=function(b){if(!y(b)){for(var w=[],C=0;C<arguments.length;C++)w.push(c(arguments[C]));return w.join(" ")}C=1;for(var S=arguments,D=S.length,P=String(b).replace(a,function(U){if(U==="%%")return"%";if(C>=D)return U;switch(U){case"%s":return String(S[C++]);case"%d":return Number(S[C++]);case"%j":try{return JSON.stringify(S[C++])}catch{return"[Circular]"}default:return U}}),k=S[C];C<D;k=S[++C])_(k)||!L(k)?P+=" "+k:P+=" "+c(k);return P},s.deprecate=function(b,w){if(T(o.process))return function(){return s.deprecate(b,w).apply(this,arguments)};if(r.noDeprecation===!0)return b;var C=!1;return function(){if(!C){if(r.throwDeprecation)throw new Error(w);r.traceDeprecation?console.trace(w):console.error(w),C=!0}return b.apply(this,arguments)}};var l,d={};function c(b,w){var C={seen:[],stylize:u};return arguments.length>=3&&(C.depth=arguments[2]),arguments.length>=4&&(C.colors=arguments[3]),v(w)?C.showHidden=w:w&&s._extend(C,w),T(C.showHidden)&&(C.showHidden=!1),T(C.depth)&&(C.depth=2),T(C.colors)&&(C.colors=!1),T(C.customInspect)&&(C.customInspect=!0),C.colors&&(C.stylize=h),p(C,b,C.depth)}function h(b,w){var C=c.styles[w];return C?"\x1B["+c.colors[C][0]+"m"+b+"\x1B["+c.colors[C][1]+"m":b}function u(b,w){return b}function p(b,w,C){if(b.customInspect&&w&&V(w.inspect)&&w.inspect!==s.inspect&&(!w.constructor||w.constructor.prototype!==w)){var S=w.inspect(C,b);return y(S)||(S=p(b,S,C)),S}var D=function(B,F){if(T(F))return B.stylize("undefined","undefined");if(y(F)){var K="'"+JSON.stringify(F).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return B.stylize(K,"string")}if(x(F))return B.stylize(""+F,"number");if(v(F))return B.stylize(""+F,"boolean");if(_(F))return B.stylize("null","null")}(b,w);if(D)return D;var P=Object.keys(w),k=function(B){var F={};return B.forEach(function(K,ee){F[K]=!0}),F}(P);if(b.showHidden&&(P=Object.getOwnPropertyNames(w)),$(w)&&(P.indexOf("message")>=0||P.indexOf("description")>=0))return f(w);if(P.length===0){if(V(w)){var U=w.name?": "+w.name:"";return b.stylize("[Function"+U+"]","special")}if(O(w))return b.stylize(RegExp.prototype.toString.call(w),"regexp");if(R(w))return b.stylize(Date.prototype.toString.call(w),"date");if($(w))return f(w)}var W,X="",j=!1,q=["{","}"];return m(w)&&(j=!0,q=["[","]"]),V(w)&&(X=" [Function"+(w.name?": "+w.name:"")+"]"),O(w)&&(X=" "+RegExp.prototype.toString.call(w)),R(w)&&(X=" "+Date.prototype.toUTCString.call(w)),$(w)&&(X=" "+f(w)),P.length!==0||j&&w.length!=0?C<0?O(w)?b.stylize(RegExp.prototype.toString.call(w),"regexp"):b.stylize("[Object]","special"):(b.seen.push(w),W=j?function(B,F,K,ee,Q){for(var Z=[],J=0,ae=F.length;J<ae;++J)E(F,String(J))?Z.push(g(B,F,K,ee,String(J),!0)):Z.push("");return Q.forEach(function(ce){ce.match(/^\d+$/)||Z.push(g(B,F,K,ee,ce,!0))}),Z}(b,w,C,k,P):P.map(function(B){return g(b,w,C,k,B,j)}),b.seen.pop(),function(B,F,K){return B.reduce(function(ee,Q){return Q.indexOf(`
`)>=0,ee+Q.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?K[0]+(F===""?"":F+`
 `)+" "+B.join(`,
  `)+" "+K[1]:K[0]+F+" "+B.join(", ")+" "+K[1]}(W,X,q)):q[0]+X+q[1]}function f(b){return"["+Error.prototype.toString.call(b)+"]"}function g(b,w,C,S,D,P){var k,U,W;if((W=Object.getOwnPropertyDescriptor(w,D)||{value:w[D]}).get?U=W.set?b.stylize("[Getter/Setter]","special"):b.stylize("[Getter]","special"):W.set&&(U=b.stylize("[Setter]","special")),E(S,D)||(k="["+D+"]"),U||(b.seen.indexOf(W.value)<0?(U=_(C)?p(b,W.value,null):p(b,W.value,C-1)).indexOf(`
`)>-1&&(U=P?U.split(`
`).map(function(X){return"  "+X}).join(`
`).substr(2):`
`+U.split(`
`).map(function(X){return"   "+X}).join(`
`)):U=b.stylize("[Circular]","special")),T(k)){if(P&&D.match(/^\d+$/))return U;(k=JSON.stringify(""+D)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(k=k.substr(1,k.length-2),k=b.stylize(k,"name")):(k=k.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),k=b.stylize(k,"string"))}return k+": "+U}function m(b){return Array.isArray(b)}function v(b){return typeof b=="boolean"}function _(b){return b===null}function x(b){return typeof b=="number"}function y(b){return typeof b=="string"}function T(b){return b===void 0}function O(b){return L(b)&&z(b)==="[object RegExp]"}function L(b){return typeof b=="object"&&b!==null}function R(b){return L(b)&&z(b)==="[object Date]"}function $(b){return L(b)&&(z(b)==="[object Error]"||b instanceof Error)}function V(b){return typeof b=="function"}function z(b){return Object.prototype.toString.call(b)}function H(b){return b<10?"0"+b.toString(10):b.toString(10)}s.debuglog=function(b){if(T(l)&&(l=r.env.NODE_DEBUG||""),b=b.toUpperCase(),!d[b])if(new RegExp("\\b"+b+"\\b","i").test(l)){var w=r.pid;d[b]=function(){var C=s.format.apply(s,arguments);console.error("%s %d: %s",b,w,C)}}else d[b]=function(){};return d[b]},s.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.isArray=m,s.isBoolean=v,s.isNull=_,s.isNullOrUndefined=function(b){return b==null},s.isNumber=x,s.isString=y,s.isSymbol=function(b){return typeof b=="symbol"},s.isUndefined=T,s.isRegExp=O,s.isObject=L,s.isDate=R,s.isError=$,s.isFunction=V,s.isPrimitive=function(b){return b===null||typeof b=="boolean"||typeof b=="number"||typeof b=="string"||typeof b=="symbol"||b===void 0},s.isBuffer=t("./support/isBuffer");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function A(){var b=new Date,w=[H(b.getHours()),H(b.getMinutes()),H(b.getSeconds())].join(":");return[b.getDate(),I[b.getMonth()],w].join(" ")}function E(b,w){return Object.prototype.hasOwnProperty.call(b,w)}s.log=function(){console.log("%s - %s",A(),s.format.apply(s,arguments))},s.inherits=t("inherits"),s._extend=function(b,w){if(!w||!L(w))return b;for(var C=Object.keys(w),S=C.length;S--;)b[C[S]]=w[C[S]];return b}}).call(this)}).call(this,t("_process"),typeof Ge<"u"?Ge:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(s,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(s,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(s,"v5",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(s,"NIL",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(s,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(s,"validate",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(s,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(s,"parse",{enumerable:!0,get:function(){return p.default}});var r=f(t("./v1.js")),o=f(t("./v3.js")),a=f(t("./v4.js")),l=f(t("./v5.js")),d=f(t("./nil.js")),c=f(t("./version.js")),h=f(t("./validate.js")),u=f(t("./stringify.js")),p=f(t("./parse.js"));function f(g){return g&&g.__esModule?g:{default:g}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(t,n,s){function r(p){return 14+(p+64>>>9<<4)+1}function o(p,f){const g=(65535&p)+(65535&f);return(p>>16)+(f>>16)+(g>>16)<<16|65535&g}function a(p,f,g,m,v,_){return o((x=o(o(f,p),o(m,_)))<<(y=v)|x>>>32-y,g);var x,y}function l(p,f,g,m,v,_,x){return a(f&g|~f&m,p,f,v,_,x)}function d(p,f,g,m,v,_,x){return a(f&m|g&~m,p,f,v,_,x)}function c(p,f,g,m,v,_,x){return a(f^g^m,p,f,v,_,x)}function h(p,f,g,m,v,_,x){return a(g^(f|~m),p,f,v,_,x)}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=function(p){if(typeof p=="string"){const f=unescape(encodeURIComponent(p));p=new Uint8Array(f.length);for(let g=0;g<f.length;++g)p[g]=f.charCodeAt(g)}return function(f){const g=[],m=32*f.length;for(let v=0;v<m;v+=8){const _=f[v>>5]>>>v%32&255,x=parseInt("0123456789abcdef".charAt(_>>>4&15)+"0123456789abcdef".charAt(15&_),16);g.push(x)}return g}(function(f,g){f[g>>5]|=128<<g%32,f[r(g)-1]=g;let m=1732584193,v=-271733879,_=-1732584194,x=271733878;for(let y=0;y<f.length;y+=16){const T=m,O=v,L=_,R=x;m=l(m,v,_,x,f[y],7,-680876936),x=l(x,m,v,_,f[y+1],12,-389564586),_=l(_,x,m,v,f[y+2],17,606105819),v=l(v,_,x,m,f[y+3],22,-1044525330),m=l(m,v,_,x,f[y+4],7,-176418897),x=l(x,m,v,_,f[y+5],12,1200080426),_=l(_,x,m,v,f[y+6],17,-1473231341),v=l(v,_,x,m,f[y+7],22,-45705983),m=l(m,v,_,x,f[y+8],7,1770035416),x=l(x,m,v,_,f[y+9],12,-1958414417),_=l(_,x,m,v,f[y+10],17,-42063),v=l(v,_,x,m,f[y+11],22,-1990404162),m=l(m,v,_,x,f[y+12],7,1804603682),x=l(x,m,v,_,f[y+13],12,-40341101),_=l(_,x,m,v,f[y+14],17,-1502002290),v=l(v,_,x,m,f[y+15],22,1236535329),m=d(m,v,_,x,f[y+1],5,-165796510),x=d(x,m,v,_,f[y+6],9,-1069501632),_=d(_,x,m,v,f[y+11],14,643717713),v=d(v,_,x,m,f[y],20,-373897302),m=d(m,v,_,x,f[y+5],5,-701558691),x=d(x,m,v,_,f[y+10],9,38016083),_=d(_,x,m,v,f[y+15],14,-660478335),v=d(v,_,x,m,f[y+4],20,-405537848),m=d(m,v,_,x,f[y+9],5,568446438),x=d(x,m,v,_,f[y+14],9,-1019803690),_=d(_,x,m,v,f[y+3],14,-187363961),v=d(v,_,x,m,f[y+8],20,1163531501),m=d(m,v,_,x,f[y+13],5,-1444681467),x=d(x,m,v,_,f[y+2],9,-51403784),_=d(_,x,m,v,f[y+7],14,1735328473),v=d(v,_,x,m,f[y+12],20,-1926607734),m=c(m,v,_,x,f[y+5],4,-378558),x=c(x,m,v,_,f[y+8],11,-2022574463),_=c(_,x,m,v,f[y+11],16,1839030562),v=c(v,_,x,m,f[y+14],23,-35309556),m=c(m,v,_,x,f[y+1],4,-1530992060),x=c(x,m,v,_,f[y+4],11,1272893353),_=c(_,x,m,v,f[y+7],16,-155497632),v=c(v,_,x,m,f[y+10],23,-1094730640),m=c(m,v,_,x,f[y+13],4,681279174),x=c(x,m,v,_,f[y],11,-358537222),_=c(_,x,m,v,f[y+3],16,-722521979),v=c(v,_,x,m,f[y+6],23,76029189),m=c(m,v,_,x,f[y+9],4,-640364487),x=c(x,m,v,_,f[y+12],11,-421815835),_=c(_,x,m,v,f[y+15],16,530742520),v=c(v,_,x,m,f[y+2],23,-995338651),m=h(m,v,_,x,f[y],6,-198630844),x=h(x,m,v,_,f[y+7],10,1126891415),_=h(_,x,m,v,f[y+14],15,-1416354905),v=h(v,_,x,m,f[y+5],21,-57434055),m=h(m,v,_,x,f[y+12],6,1700485571),x=h(x,m,v,_,f[y+3],10,-1894986606),_=h(_,x,m,v,f[y+10],15,-1051523),v=h(v,_,x,m,f[y+1],21,-2054922799),m=h(m,v,_,x,f[y+8],6,1873313359),x=h(x,m,v,_,f[y+15],10,-30611744),_=h(_,x,m,v,f[y+6],15,-1560198380),v=h(v,_,x,m,f[y+13],21,1309151649),m=h(m,v,_,x,f[y+4],6,-145523070),x=h(x,m,v,_,f[y+11],10,-1120210379),_=h(_,x,m,v,f[y+2],15,718787259),v=h(v,_,x,m,f[y+9],21,-343485551),m=o(m,T),v=o(v,O),_=o(_,L),x=o(x,R)}return[m,v,_,x]}(function(f){if(f.length===0)return[];const g=8*f.length,m=new Uint32Array(r(g));for(let v=0;v<g;v+=8)m[v>>5]|=(255&f[v/8])<<v%32;return m}(p),8*p.length))};s.default=u},{}],530:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r,o=(r=t("./validate.js"))&&r.__esModule?r:{default:r},a=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");let d;const c=new Uint8Array(16);return c[0]=(d=parseInt(l.slice(0,8),16))>>>24,c[1]=d>>>16&255,c[2]=d>>>8&255,c[3]=255&d,c[4]=(d=parseInt(l.slice(9,13),16))>>>8,c[5]=255&d,c[6]=(d=parseInt(l.slice(14,18),16))>>>8,c[7]=255&d,c[8]=(d=parseInt(l.slice(19,23),16))>>>8,c[9]=255&d,c[10]=(d=parseInt(l.slice(24,36),16))/1099511627776&255,c[11]=d/4294967296&255,c[12]=d>>>24&255,c[13]=d>>>16&255,c[14]=d>>>8&255,c[15]=255&d,c};s.default=a},{"./validate.js":541}],532:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,s.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(t,n,s){let r;Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(){if(!r&&(r=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)};const o=new Uint8Array(16)},{}],534:[function(t,n,s){function r(l,d,c,h){switch(l){case 0:return d&c^~d&h;case 1:return d^c^h;case 2:return d&c^d&h^c&h;case 3:return d^c^h}}function o(l,d){return l<<d|l>>>32-d}Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=function(l){const d=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof l=="string"){const f=unescape(encodeURIComponent(l));l=[];for(let g=0;g<f.length;++g)l.push(f.charCodeAt(g))}else Array.isArray(l)||(l=Array.prototype.slice.call(l));l.push(128);const h=l.length/4+2,u=Math.ceil(h/16),p=new Array(u);for(let f=0;f<u;++f){const g=new Uint32Array(16);for(let m=0;m<16;++m)g[m]=l[64*f+4*m]<<24|l[64*f+4*m+1]<<16|l[64*f+4*m+2]<<8|l[64*f+4*m+3];p[f]=g}p[u-1][14]=8*(l.length-1)/Math.pow(2,32),p[u-1][14]=Math.floor(p[u-1][14]),p[u-1][15]=8*(l.length-1)&4294967295;for(let f=0;f<u;++f){const g=new Uint32Array(80);for(let T=0;T<16;++T)g[T]=p[f][T];for(let T=16;T<80;++T)g[T]=o(g[T-3]^g[T-8]^g[T-14]^g[T-16],1);let m=c[0],v=c[1],_=c[2],x=c[3],y=c[4];for(let T=0;T<80;++T){const O=Math.floor(T/20),L=o(m,5)+r(O,v,_,x)+y+d[O]+g[T]>>>0;y=x,x=_,_=o(v,30)>>>0,v=m,m=L}c[0]=c[0]+m>>>0,c[1]=c[1]+v>>>0,c[2]=c[2]+_>>>0,c[3]=c[3]+x>>>0,c[4]=c[4]+y>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};s.default=a},{}],535:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r,o=(r=t("./validate.js"))&&r.__esModule?r:{default:r};const a=[];for(let d=0;d<256;++d)a.push((d+256).toString(16).substr(1));var l=function(d){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const h=(a[d[c+0]]+a[d[c+1]]+a[d[c+2]]+a[d[c+3]]+"-"+a[d[c+4]]+a[d[c+5]]+"-"+a[d[c+6]]+a[d[c+7]]+"-"+a[d[c+8]]+a[d[c+9]]+"-"+a[d[c+10]]+a[d[c+11]]+a[d[c+12]]+a[d[c+13]]+a[d[c+14]]+a[d[c+15]]).toLowerCase();if(!(0,o.default)(h))throw TypeError("Stringified UUID is invalid");return h};s.default=l},{"./validate.js":541}],536:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r=a(t("./rng.js")),o=a(t("./stringify.js"));function a(p){return p&&p.__esModule?p:{default:p}}let l,d,c=0,h=0;var u=function(p,f,g){let m=f&&g||0;const v=f||new Array(16);let _=(p=p||{}).node||l,x=p.clockseq!==void 0?p.clockseq:d;if(_==null||x==null){const $=p.random||(p.rng||r.default)();_==null&&(_=l=[1|$[0],$[1],$[2],$[3],$[4],$[5]]),x==null&&(x=d=16383&($[6]<<8|$[7]))}let y=p.msecs!==void 0?p.msecs:Date.now(),T=p.nsecs!==void 0?p.nsecs:h+1;const O=y-c+(T-h)/1e4;if(O<0&&p.clockseq===void 0&&(x=x+1&16383),(O<0||y>c)&&p.nsecs===void 0&&(T=0),T>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=y,h=T,d=x,y+=122192928e5;const L=(1e4*(268435455&y)+T)%4294967296;v[m++]=L>>>24&255,v[m++]=L>>>16&255,v[m++]=L>>>8&255,v[m++]=255&L;const R=y/4294967296*1e4&268435455;v[m++]=R>>>8&255,v[m++]=255&R,v[m++]=R>>>24&15|16,v[m++]=R>>>16&255,v[m++]=x>>>8|128,v[m++]=255&x;for(let $=0;$<6;++$)v[m+$]=_[$];return f||(0,o.default)(v)};s.default=u},{"./rng.js":533,"./stringify.js":535}],537:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r=a(t("./v35.js")),o=a(t("./md5.js"));function a(d){return d&&d.__esModule?d:{default:d}}var l=(0,r.default)("v3",48,o.default);s.default=l},{"./md5.js":529,"./v35.js":538}],538:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(c,h,u){function p(f,g,m,v){if(typeof f=="string"&&(f=function(x){x=unescape(encodeURIComponent(x));const y=[];for(let T=0;T<x.length;++T)y.push(x.charCodeAt(T));return y}(f)),typeof g=="string"&&(g=(0,o.default)(g)),g.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let _=new Uint8Array(16+f.length);if(_.set(g),_.set(f,g.length),_=u(_),_[6]=15&_[6]|h,_[8]=63&_[8]|128,m){v=v||0;for(let x=0;x<16;++x)m[v+x]=_[x];return m}return(0,r.default)(_)}try{p.name=c}catch{}return p.DNS=l,p.URL=d,p},s.URL=s.DNS=void 0;var r=a(t("./stringify.js")),o=a(t("./parse.js"));function a(c){return c&&c.__esModule?c:{default:c}}const l="6ba7b810-9dad-11d1-80b4-00c04fd430c8";s.DNS=l;const d="6ba7b811-9dad-11d1-80b4-00c04fd430c8";s.URL=d},{"./parse.js":531,"./stringify.js":535}],539:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r=a(t("./rng.js")),o=a(t("./stringify.js"));function a(d){return d&&d.__esModule?d:{default:d}}var l=function(d,c,h){const u=(d=d||{}).random||(d.rng||r.default)();if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,c){h=h||0;for(let p=0;p<16;++p)c[h+p]=u[p];return c}return(0,o.default)(u)};s.default=l},{"./rng.js":533,"./stringify.js":535}],540:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r=a(t("./v35.js")),o=a(t("./sha1.js"));function a(d){return d&&d.__esModule?d:{default:d}}var l=(0,r.default)("v5",80,o.default);s.default=l},{"./sha1.js":534,"./v35.js":538}],541:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r,o=(r=t("./regex.js"))&&r.__esModule?r:{default:r},a=function(l){return typeof l=="string"&&o.default.test(l)};s.default=a},{"./regex.js":532}],542:[function(t,n,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var r,o=(r=t("./validate.js"))&&r.__esModule?r:{default:r},a=function(l){if(!(0,o.default)(l))throw TypeError("Invalid UUID");return parseInt(l.substr(14,1),16)};s.default=a},{"./validate.js":541}],543:[function(t,n,s){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR=`	
\r ---`,s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function r(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=32&&o<=55295||o===10||o===13||o===9||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=r,s.isNameChar=function(o){return r(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],544:[function(t,n,s){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(s,"__esModule",{value:!0}),s.CHAR="---",s.RESTRICTED_CHAR="-\b\v\f---",s.S=` 	\r
`,s.NAME_START_CHAR=":A-Z_a-z-----------",s.NAME_CHAR="-"+s.NAME_START_CHAR+".0-9--",s.CHAR_RE=new RegExp("^["+s.CHAR+"]$","u"),s.RESTRICTED_CHAR_RE=new RegExp("^["+s.RESTRICTED_CHAR+"]$","u"),s.S_RE=new RegExp("^["+s.S+"]+$","u"),s.NAME_START_CHAR_RE=new RegExp("^["+s.NAME_START_CHAR+"]$","u"),s.NAME_CHAR_RE=new RegExp("^["+s.NAME_CHAR+"]$","u"),s.NAME_RE=new RegExp("^["+s.NAME_START_CHAR+"]["+s.NAME_CHAR+"]*$","u"),s.NMTOKEN_RE=new RegExp("^["+s.NAME_CHAR+"]+$","u");function r(o){return o>=65&&o<=90||o>=97&&o<=122||o===58||o===95||o===8204||o===8205||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}s.S_LIST=[32,10,13,9],s.isChar=function(o){return o>=1&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isRestrictedChar=function(o){return o>=1&&o<=8||o===11||o===12||o>=14&&o<=31||o>=127&&o<=132||o>=134&&o<=159},s.isCharAndNotRestricted=function(o){return o===9||o===10||o===13||o>31&&o<127||o===133||o>159&&o<=55295||o>=57344&&o<=65533||o>=65536&&o<=1114111},s.isS=function(o){return o===32||o===10||o===13||o===9},s.isNameStartChar=r,s.isNameChar=function(o){return r(o)||o>=48&&o<=57||o===45||o===46||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}],545:[function(t,n,s){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function r(o){return o>=65&&o<=90||o===95||o>=97&&o<=122||o>=192&&o<=214||o>=216&&o<=246||o>=248&&o<=767||o>=880&&o<=893||o>=895&&o<=8191||o>=8204&&o<=8205||o>=8304&&o<=8591||o>=11264&&o<=12271||o>=12289&&o<=55295||o>=63744&&o<=64975||o>=65008&&o<=65533||o>=65536&&o<=983039}Object.defineProperty(s,"__esModule",{value:!0}),s.NC_NAME_START_CHAR="A-Z_a-z------------",s.NC_NAME_CHAR="-"+s.NC_NAME_START_CHAR+".0-9--",s.NC_NAME_START_CHAR_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]$","u"),s.NC_NAME_CHAR_RE=new RegExp("^["+s.NC_NAME_CHAR+"]$","u"),s.NC_NAME_RE=new RegExp("^["+s.NC_NAME_START_CHAR+"]["+s.NC_NAME_CHAR+"]*$","u"),s.isNCNameStartChar=r,s.isNCNameChar=function(o){return r(o)||o===45||o===46||o>=48&&o<=57||o===183||o>=768&&o<=879||o>=8255&&o<=8256}},{}]},{},[15])(15)})})(oV);var YC=oV.exports,aV={exports:{}};(function(i,e){(function(t,n){n()})(Ge,function(){function t(d,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob(["\uFEFF",d],{type:d.type}):d}function n(d,c,h){var u=new XMLHttpRequest;u.open("GET",d),u.responseType="blob",u.onload=function(){l(u.response,c,h)},u.onerror=function(){console.error("could not download file")},u.send()}function s(d){var c=new XMLHttpRequest;c.open("HEAD",d,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function r(d){try{d.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),d.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Ge=="object"&&Ge.global===Ge?Ge:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(d,c,h){var u=o.URL||o.webkitURL,p=document.createElement("a");c=c||d.name||"download",p.download=c,p.rel="noopener",typeof d=="string"?(p.href=d,p.origin===location.origin?r(p):s(p.href)?n(d,c,h):r(p,p.target="_blank")):(p.href=u.createObjectURL(d),setTimeout(function(){u.revokeObjectURL(p.href)},4e4),setTimeout(function(){r(p)},0))}:"msSaveOrOpenBlob"in navigator?function(d,c,h){if(c=c||d.name||"download",typeof d!="string")navigator.msSaveOrOpenBlob(t(d,h),c);else if(s(d))n(d,c,h);else{var u=document.createElement("a");u.href=d,u.target="_blank",setTimeout(function(){r(u)})}}:function(d,c,h,u){if(u=u||open("","_blank"),u&&(u.document.title=u.document.body.innerText="downloading..."),typeof d=="string")return n(d,c,h);var p=d.type==="application/octet-stream",f=/constructor/i.test(o.HTMLElement)||o.safari,g=/CriOS\/[\d]+/.test(navigator.userAgent);if((g||p&&f||a)&&typeof FileReader<"u"){var m=new FileReader;m.onloadend=function(){var x=m.result;x=g?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),u?u.location.href=x:location=x,u=null},m.readAsDataURL(d)}else{var v=o.URL||o.webkitURL,_=v.createObjectURL(d);u?u.location=_:location.href=_,u=null,setTimeout(function(){v.revokeObjectURL(_)},4e4)}});o.saveAs=l.saveAs=l,i.exports=l})})(aV);var n0=aV.exports;const N0e=()=>{const{user:i}=pp(),[e,t]=ne.useState(!0),[n,s]=ne.useState({total_members:0,paid_members:0,donation_amount:0,donors_count:0,total_updates:0,saf_funds:0,total_programs:0,sabyatwam_amount:0}),[r,o]=ne.useState([]),[a,l]=ne.useState([]),[d,c]=ne.useState([]);ne.useEffect(()=>{h()},[]);const h=async()=>{try{t(!0);const[g,m,v,_]=await Promise.all([Ft.get("/dashboard/stats"),Ft.get("/dashboard/top-members"),Ft.get("/keypeople/top"),Ft.get("/dashboard/district-wise")]);(g==null?void 0:g.status)===200&&(g!=null&&g.data)&&s(g.data),(m==null?void 0:m.status)===200&&(m!=null&&m.data)&&o(m.data||[]),(v==null?void 0:v.status)===200&&(v!=null&&v.data)&&l(v.data||[]),(_==null?void 0:_.status)===200&&(_!=null&&_.data)&&c(_.data||[])}catch(g){console.error("Error fetching dashboard data:",g)}finally{t(!1)}},u=g=>{if(!g)return"0";const m=parseFloat(g);return m>=1e7?`${(m/1e7).toFixed(2)}Cr`:m>=1e5?`${(m/1e5).toFixed(2)}L`:m>=1e3?`${(m/1e3).toFixed(2)}K`:`${m.toFixed(2)}`},p=g=>g?parseFloat(g).toLocaleString("en-IN"):"0",f=[{title:"Total SAF Members",value:p(n.total_members),subtitle:`${p(n.paid_members)} Paid (Sabyatwam)`,icon:fc,color:"from-blue-500 to-blue-600",bgColor:"bg-blue-50",textColor:"text-blue-600",amount:`${p(n.paid_members*20)}`},{title:"Total Programs",value:p(n.total_programs),subtitle:"Active Programs",icon:QH,color:"from-green-500 to-green-600",bgColor:"bg-green-50",textColor:"text-green-600"},{title:"Total Updates",value:p(n.total_updates),subtitle:"Published Updates",icon:pc,color:"from-purple-500 to-purple-600",bgColor:"bg-purple-50",textColor:"text-purple-600"},{title:"Donors",value:p(n.donors_count),subtitle:"Members Donated",icon:nj,color:"from-red-500 to-red-600",bgColor:"bg-red-50",textColor:"text-red-600"},{title:"Donation Amount",value:u(n.donation_amount),subtitle:"Donations Only",icon:ij,color:"from-indigo-500 to-indigo-600",bgColor:"bg-indigo-50",textColor:"text-indigo-600"},{title:"SAF Funds",value:u(n.saf_funds),subtitle:`Donations + Sabyatwam (${u(n.sabyatwam_amount)})`,icon:mg,color:"from-yellow-500 to-yellow-600",bgColor:"bg-yellow-50",textColor:"text-yellow-600"}];return e?N.jsx("div",{className:"flex items-center justify-center min-h-screen",children:N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),N.jsx("p",{className:"text-gray-700 font-semibold",children:"Loading Dashboard..."})]})}):N.jsxs("div",{className:"space-y-6 w-full max-w-full overflow-x-hidden",children:[N.jsx("div",{className:"bg-gradient-to-r from-red-600 to-amber-600 rounded-2xl p-6 text-white shadow-lg",children:N.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:N.jsxs("div",{children:[N.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",(i==null?void 0:i.fullName)||"Administrator","!"]}),N.jsx("p",{className:"text-white/90",children:"Here's the overview of Settibalija Action Force Management"})]})})}),a.length>0&&N.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[N.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[N.jsx(ZH,{className:"h-6 w-6 text-red-600"}),"SAF Key People"]}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map(g=>N.jsxs("div",{className:"bg-white rounded-lg p-6 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300 text-center",children:[N.jsx("div",{className:"mb-4 flex justify-center relative",children:g.img_pth?N.jsxs(N.Fragment,{children:[N.jsx("img",{src:g.img_pth.startsWith("http")?g.img_pth:`/docs/keypeople/${g.img_pth}`,alt:g.fll_nm,className:"w-24 h-24 rounded-full object-cover border-4 border-red-600 shadow-lg",onError:m=>{m.target.style.display="none";const v=m.target.parentElement.querySelector(".avatar-placeholder");v&&(v.style.display="flex")}}),N.jsx("div",{className:"avatar-placeholder w-24 h-24 rounded-full bg-red-600 flex items-center justify-center border-4 border-red-600 shadow-lg hidden",children:N.jsx(fc,{className:"h-12 w-12 text-white"})})]}):N.jsx("div",{className:"w-24 h-24 rounded-full bg-red-600 flex items-center justify-center border-4 border-red-600 shadow-lg",children:N.jsx(fc,{className:"h-12 w-12 text-white"})})}),N.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:g.fll_nm}),N.jsx("p",{className:"text-red-600 font-semibold mb-3",children:g.dsgns_nm}),g.rspnsblty_tx&&N.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:g.rspnsblty_tx})]},g.saf_key_prsn_id))})]}),N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map((g,m)=>N.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 p-6 border border-gray-100",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4",children:[N.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${g.color}`,children:N.jsx(g.icon,{className:"h-6 w-6 text-white"})}),N.jsx("div",{className:`${g.bgColor} px-3 py-1 rounded-full`,children:N.jsx("span",{className:`text-xs font-semibold ${g.textColor}`,children:g.subtitle})})]}),N.jsxs("div",{children:[N.jsx("p",{className:"text-sm text-gray-600 mb-1",children:g.title}),N.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:g.value}),g.amount&&N.jsxs("p",{className:"text-sm text-gray-500",children:["Sabyatwam Amount: ",g.amount]})]})]},m))}),N.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100 w-full overflow-hidden",children:[N.jsxs("div",{className:"flex items-center justify-between mb-4 flex-wrap gap-3",children:[N.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[N.jsxs("div",{className:"flex items-center gap-2",children:[N.jsx(pc,{className:"h-5 w-5 text-red-600 flex-shrink-0"}),N.jsx("h2",{className:"text-lg font-semibold text-gray-900 whitespace-nowrap",children:"District-wise Statistics"})]}),d.length>0&&N.jsxs("span",{className:"bg-red-600 text-white text-xs font-semibold px-3 py-1 rounded-full whitespace-nowrap",children:[d.length," Records"]})]}),N.jsxs("button",{onClick:async()=>{try{const g=new YC.Workbook,m=g.addWorksheet("District Statistics");m.columns=[{header:"District Name",width:25},{header:"Total Members",width:15},{header:"Member Paid Amount ()",width:20},{header:"Donors Count",width:15},{header:"Total Donations ()",width:20},{header:"Avg Donation ()",width:18}],m.getRow(1).font={bold:!0,color:{argb:"FFFFFFFF"}},m.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFDC2626"}},d.forEach(_=>{m.addRow([_.dstrt_nm,_.total_members,parseFloat(_.member_paid_amnt||0).toFixed(2),_.donors_count,parseFloat(_.total_donations||0).toFixed(2),parseFloat(_.avg_donation||0).toFixed(2)])});const v=await g.xlsx.writeBuffer();n0.saveAs(new Blob([v]),`District_Statistics_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(g){console.error("Export error:",g)}},className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-colors shadow-sm whitespace-nowrap flex-shrink-0",children:[N.jsx(Vh,{className:"h-4 w-4"}),"Export to Excel"]})]}),N.jsx("div",{className:"w-full overflow-x-auto",children:N.jsxs(f_,{dataSource:d,showBorders:!0,rowAlternationEnabled:!0,className:"saf-dashboard-grid",width:"100%",height:"auto",onExporting:g=>{const m=new YC.Workbook,v=m.addWorksheet("District Statistics");P0e({component:g.component,worksheet:v,autoFilterEnabled:!0}).then(()=>{m.xlsx.writeBuffer().then(_=>{n0.saveAs(new Blob([_],{type:"application/octet-stream"}),`District_Statistics_${new Date().toISOString().split("T")[0]}.xlsx`)})}),g.cancel=!0},children:[N.jsx(b_,{mode:"multiple"}),N.jsx(x_,{visible:!0,placeholder:"Search districts...",width:300}),N.jsx(ln,{dataField:"dstrt_nm",caption:"DISTRICT NAME",width:"auto",minWidth:180,allowSorting:!0}),N.jsx(ln,{dataField:"total_members",caption:"TOTAL MEMBERS",dataType:"number",width:"auto",minWidth:140,allowSorting:!0,alignment:"center"}),N.jsx(ln,{dataField:"member_paid_amnt",caption:"MEMBER PAID AMOUNT ()",dataType:"number",width:"auto",minWidth:180,format:{type:"currency",currency:"INR",precision:2},allowSorting:!0,alignment:"right",cellRender:g=>N.jsx("span",{className:"font-semibold text-blue-600",children:u(g.value)})}),N.jsx(ln,{dataField:"donors_count",caption:"DONORS COUNT",dataType:"number",width:"auto",minWidth:140,allowSorting:!0,alignment:"center"}),N.jsx(ln,{dataField:"total_donations",caption:"TOTAL DONATIONS ()",dataType:"number",width:"auto",minWidth:170,format:{type:"currency",currency:"INR",precision:2},allowSorting:!0,alignment:"right",cellRender:g=>N.jsx("span",{className:"font-semibold text-green-600",children:u(g.value)})}),N.jsx(ln,{dataField:"avg_donation",caption:"AVG DONATION ()",dataType:"number",width:"auto",minWidth:160,format:{type:"currency",currency:"INR",precision:2},allowSorting:!0,alignment:"right",cellRender:g=>N.jsx("span",{className:"text-gray-700",children:u(g.value)})}),N.jsx(v_,{defaultPageSize:15}),N.jsx(__,{showPageSizeSelector:!0,allowedPageSizes:[10,15,25,50,100],showInfo:!0,showNavigationButtons:!0,displayMode:"full"}),N.jsx(g_,{visible:!0}),N.jsx(cge,{visible:!0}),N.jsx(m_,{enabled:!0}),N.jsxs(e0e,{children:[N.jsx(rb,{column:"total_members",summaryType:"sum",displayFormat:"Total: {0}"}),N.jsx(rb,{column:"member_paid_amnt",summaryType:"sum",displayFormat:"Total: {0}",valueFormat:{type:"currency",currency:"INR",precision:2},cellRender:g=>N.jsx("span",{className:"font-semibold text-blue-600",children:u(g.value)})}),N.jsx(rb,{column:"total_donations",summaryType:"sum",displayFormat:"Total: {0}",valueFormat:{type:"currency",currency:"INR",precision:2}})]})]})})]})]})},V0e=()=>{const[i,e]=ne.useState([]),[t,n]=ne.useState([]),[s,r]=ne.useState([]),[o,a]=ne.useState([]),[l,d]=ne.useState(!1),[c,h]=ne.useState(!1),[u,p]=ne.useState(null),[f,g]=ne.useState({district_id:"",mandal_id:""}),[m,v]=ne.useState({full_name:"",father_name:"",dob:"",gender:"",phone:"",email:"",address:"",district_id:"",mandal_id:"",pincode:"",aadhar_no:"",occupation:"",education:"",payment_type:"cash",upi_id:""}),[_,x]=ne.useState({type:"",message:""});if(u)return N.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:N.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[N.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Error Loading SAF Members"}),N.jsx("p",{className:"text-red-600",children:u.toString()}),N.jsx("button",{onClick:()=>{p(null),window.location.reload()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reload Page"})]})});ne.useEffect(()=>{try{y(),L();const H=()=>{try{[".dx-license-message",".dx-license-message-container",'[class*="dx-license"]','[id*="dx-license"]',"[data-dx-license]"].forEach(b=>{try{document.querySelectorAll(b).forEach(C=>{C&&C.parentNode&&(C.style.display="none",C.style.visibility="hidden",C.style.opacity="0",C.style.pointerEvents="none")})}catch{}})}catch(E){console.warn("License message hiding failed:",E)}},I=setTimeout(H,100),A=setTimeout(H,500);return()=>{clearTimeout(I),clearTimeout(A)}}catch(H){console.error("Error in useEffect:",H),p(H)}},[]),ne.useEffect(()=>{f.district_id?T(f.district_id):(r([]),g(H=>({...H,mandal_id:""})))},[f.district_id]),ne.useEffect(()=>{m.district_id?O(m.district_id):(a([]),v(H=>({...H,mandal_id:""})))},[m.district_id]);const y=async()=>{try{const H=await Ft.get("/admin/get/districts");H&&H.status===200?n(H.data||[]):n([])}catch(H){console.error("Error fetching districts:",H),n([])}},T=async H=>{try{const I=await Ft.get(`/admin/get/mandals/${H}`);I.status===200?r(I.data):r([])}catch(I){console.error("Error fetching mandals for filter:",I),r([])}},O=async H=>{try{const I=await Ft.get(`/admin/get/mandals/${H}`);I.status===200?a(I.data):a([])}catch(I){console.error("Error fetching mandals for form:",I),a([])}},L=async()=>{d(!0);try{const H=new URLSearchParams;f.district_id&&H.append("district_id",f.district_id),f.mandal_id&&H.append("mandal_id",f.mandal_id);const I=H.toString()?`/saf/members/list?${H}`:"/saf/members/list",A=await Ft.get(I);A&&A.status===200?e(A.data||[]):e([])}catch(H){console.error("Error fetching members:",H),e([])}finally{d(!1)}},R=H=>{const{name:I,value:A}=H.target;g(I==="district_id"?E=>({...E,district_id:A,mandal_id:""}):E=>({...E,[I]:A}))},$=()=>{L()},V=H=>{const{name:I,value:A}=H.target;v(I==="district_id"?E=>({...E,district_id:A,mandal_id:""}):E=>({...E,[I]:A}))},z=async H=>{var I;H.preventDefault(),d(!0),x({type:"",message:""});try{const A=await Ft.post("/saf/admin/register-member",m);A.status===200&&(x({type:"success",message:((I=A.data)==null?void 0:I.message)||"Member registered successfully!"}),v({full_name:"",father_name:"",dob:"",gender:"",phone:"",email:"",address:"",district_id:"",mandal_id:"",pincode:"",aadhar_no:"",occupation:"",education:"",payment_type:"cash",upi_id:""}),L(),setTimeout(()=>{h(!1),x({type:"",message:""})},2e3))}catch(A){console.error("Member registration error:",A),x({type:"error",message:A.err_message||A.message||"Failed to register member. Please try again."})}finally{d(!1)}};return N.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:[N.jsx("div",{className:"bg-gradient-to-r from-saf-red-600 to-saf-red-700 rounded-xl shadow-2xl p-6 mb-6",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-xl",children:N.jsx(fc,{className:"h-10 w-10 text-white"})}),N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-bold text-white",children:"SAF Members Management"}),N.jsx("p",{className:"text-white/90 mt-1 flex items-center gap-2",children:N.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-medium",children:[i.length," Total Members"]})})]})]}),N.jsxs("button",{onClick:()=>h(!0),className:"flex items-center gap-2 bg-white text-saf-red-600 px-6 py-3 rounded-xl hover:bg-gray-50 transition-all shadow-lg hover:shadow-xl font-semibold",children:[N.jsx(Sl,{className:"h-5 w-5"}),"Add New Member"]})]})}),N.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-200",children:[N.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[N.jsx("div",{className:"bg-saf-red-100 p-2 rounded-lg",children:N.jsx(A0,{className:"h-5 w-5 text-saf-red-600"})}),N.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Search Filters"})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"District:"}),N.jsxs("select",{name:"district_id",value:f.district_id,onChange:R,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:[N.jsx("option",{value:"",children:"Select District"}),t.map(H=>N.jsx("option",{value:H.dstrt_id,children:H.dstrt_nm},H.dstrt_id))]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Mandal:"}),N.jsxs("select",{name:"mandal_id",value:f.mandal_id,onChange:R,disabled:!f.district_id,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",children:[N.jsx("option",{value:"",children:"Select Mandal"}),s.map(H=>N.jsx("option",{value:H.mndl_id,children:H.mndl_nm},H.mndl_id))]})]}),N.jsx("div",{children:N.jsxs("button",{onClick:$,disabled:l,className:"w-full flex items-center justify-center gap-2 bg-saf-red-600 text-white px-5 py-2.5 rounded-lg hover:bg-saf-red-700 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 h-[42px]",children:[N.jsx(Ul,{className:`h-4 w-4 ${l?"animate-spin":""}`}),"Get Data"]})}),N.jsx("div",{children:N.jsx("button",{onClick:()=>{g({district_id:"",mandal_id:""}),setTimeout(L,100)},className:"w-full flex items-center justify-center gap-2 bg-gray-200 text-gray-700 px-5 py-2.5 rounded-lg hover:bg-gray-300 transition-all font-medium h-[42px]",children:"Reset"})})]})]}),N.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[N.jsx(Vh,{className:"h-5 w-5 text-saf-red-600"}),"SAF Members Data",N.jsxs("span",{className:"bg-saf-red-600 text-white px-3 py-1 rounded-full text-xs font-semibold ml-2",children:[i.length," Records"]})]}),N.jsx("div",{className:"flex gap-2",children:N.jsxs("button",{onClick:()=>{const I=[["S.No","Full Name","Father Name","DOB","Gender","Phone","Email","District","Mandal","Pincode","Occupation","Registration"].join(",")];i.forEach((E,b)=>{const w=[b+1,`"${E.fll_nm||""}"`,`"${E.fthr_nm||""}"`,E.dob_dt||"",E.gndr_cd||"",E.phne_no||"",E.eml_tx||"",`"${E.dstrt_nm||""}"`,`"${E.mndl_nm||""}"`,E.pncd_no||"",`"${E.occptn_tx||""}"`,E.reg_dt||""];I.push(w.join(","))});const A=new Blob([I.join(`
`)],{type:"text/csv"});n0.saveAs(A,"SAF_Members.csv")},className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-all shadow-md text-sm font-medium",children:[N.jsx(Vh,{className:"h-4 w-4"}),"Export to Excel"]})})]})}),N.jsx("div",{className:"p-6",children:N.jsxs(f_,{dataSource:i,showBorders:!0,showRowLines:!0,showColumnLines:!1,rowAlternationEnabled:!0,hoverStateEnabled:!0,columnAutoWidth:!0,allowColumnResizing:!0,allowColumnReordering:!0,className:"saf-custom-grid",children:[N.jsx(x_,{visible:!0,width:300,placeholder:"Search members...",highlightSearchText:!0}),N.jsx(g_,{visible:!0}),N.jsx(pE,{enabled:!0,mode:"select"}),N.jsx(b_,{mode:"multiple",showCheckBoxesMode:"always"}),N.jsx(v_,{defaultPageSize:15}),N.jsx(__,{visible:!0,displayMode:"full",showPageSizeSelector:!0,allowedPageSizes:[10,15,25,50,100],showInfo:!0,showNavigationButtons:!0,infoText:"Page {0} of {1} ({2} items)"}),N.jsx(m_,{enabled:!0,allowExportSelectedData:!0}),N.jsx(ln,{dataField:"sno",caption:"S.No",width:80,alignment:"center",cellRender:H=>N.jsx("div",{className:"font-semibold text-gray-700",children:H.value})}),N.jsx(ln,{dataField:"fll_nm",caption:"Full Name",minWidth:180,cellRender:H=>N.jsx("div",{className:"font-medium text-gray-900",children:H.value})}),N.jsx(ln,{dataField:"fthr_nm",caption:"Father Name",minWidth:180}),N.jsx(ln,{dataField:"dob_dt",caption:"DOB",width:120,alignment:"center"}),N.jsx(ln,{dataField:"gndr_cd",caption:"Gender",width:100,alignment:"center",cellRender:H=>N.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${H.value==="male"?"bg-blue-100 text-blue-700":H.value==="female"?"bg-pink-100 text-pink-700":"bg-gray-100 text-gray-700"}`,children:H.value})}),N.jsx(ln,{dataField:"phne_no",caption:"Phone",width:130}),N.jsx(ln,{dataField:"eml_tx",caption:"Email",minWidth:200}),N.jsx(ln,{dataField:"dstrt_nm",caption:"District",width:150}),N.jsx(ln,{dataField:"mndl_nm",caption:"Mandal",width:180}),N.jsx(ln,{dataField:"pncd_no",caption:"Pincode",width:100,alignment:"center"}),N.jsx(ln,{dataField:"occptn_tx",caption:"Occupation",width:150}),N.jsx(ln,{dataField:"reg_dt",caption:"Registration",width:180,cellRender:H=>N.jsx("span",{className:"text-xs text-gray-600",children:H.value})})]})})]}),c&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-40 transition-opacity",onClick:()=>h(!1)}),N.jsxs("div",{className:"fixed right-0 top-0 h-full w-full md:w-[650px] bg-white shadow-2xl z-50 overflow-y-auto animate-slide-in",children:[N.jsx("div",{className:"bg-gradient-to-r from-saf-red-600 to-saf-red-700 p-6 sticky top-0 z-10 shadow-lg",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-2 rounded-lg",children:N.jsx(fc,{className:"h-6 w-6 text-white"})}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add New Member"}),N.jsx("p",{className:"text-white/80 text-sm",children:"Fill in the details below"})]})]}),N.jsx("button",{onClick:()=>h(!1),className:"text-white hover:bg-white/20 p-2 rounded-lg transition-all",children:N.jsx(Oa,{className:"h-6 w-6"})})]})}),N.jsxs("div",{className:"p-6",children:[_.message&&N.jsx("div",{className:`mb-6 p-4 rounded-xl border-l-4 ${_.type==="success"?"bg-green-50 border-green-500 text-green-800":"bg-red-50 border-red-500 text-red-800"}`,children:N.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[_.type==="success"?"":"",_.message]})}),N.jsxs("form",{onSubmit:z,className:"space-y-5",children:[N.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:[N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Personal Information"}),N.jsx("p",{className:"text-xs text-gray-600",children:"Basic details of the member"})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Name ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"text",name:"full_name",value:m.full_name,onChange:V,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter full name"})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Father's Name ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"text",name:"father_name",value:m.father_name,onChange:V,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter father's name"})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Date of Birth ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"date",name:"dob",value:m.dob,onChange:V,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all"})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Gender ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsxs("select",{name:"gender",value:m.gender,onChange:V,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:[N.jsx("option",{value:"",children:"Select Gender"}),N.jsx("option",{value:"male",children:"Male"}),N.jsx("option",{value:"female",children:"Female"}),N.jsx("option",{value:"other",children:"Other"})]})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Phone Number ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"tel",name:"phone",value:m.phone,onChange:V,required:!0,maxLength:"10",pattern:"[0-9]{10}",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"10 digit number"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email (Optional)"}),N.jsx("input",{type:"email",name:"email",value:m.email,onChange:V,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"email@example.com"})]}),N.jsxs("div",{className:"col-span-2",children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Aadhar Number ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"text",name:"aadhar_no",value:m.aadhar_no,onChange:V,required:!0,maxLength:"12",pattern:"[0-9]{12}",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"12 digit Aadhar number"})]})]}),N.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:[N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Address Information"}),N.jsx("p",{className:"text-xs text-gray-600",children:"Location and contact details"})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Full Address ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("textarea",{name:"address",value:m.address,onChange:V,required:!0,rows:"3",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all resize-none",placeholder:"Enter complete address"})]}),N.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["District ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsxs("select",{name:"district_id",value:m.district_id,onChange:V,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:[N.jsx("option",{value:"",children:"Select"}),t.map(H=>N.jsx("option",{value:H.dstrt_id,children:H.dstrt_nm},H.dstrt_id))]})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Mandal ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsxs("select",{name:"mandal_id",value:m.mandal_id,onChange:V,required:!0,disabled:!m.district_id,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",children:[N.jsx("option",{value:"",children:"Select"}),o.map(H=>N.jsx("option",{value:H.mndl_id,children:H.mndl_nm},H.mndl_id))]})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Pincode ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"text",name:"pincode",value:m.pincode,onChange:V,required:!0,maxLength:"6",pattern:"[0-9]{6}",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"6 digits"})]})]}),N.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:[N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Professional Details"}),N.jsx("p",{className:"text-xs text-gray-600",children:"Occupation and education (optional)"})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Occupation"}),N.jsx("input",{type:"text",name:"occupation",value:m.occupation,onChange:V,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"e.g., Business, Teacher"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Education"}),N.jsx("input",{type:"text",name:"education",value:m.education,onChange:V,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"e.g., Graduate, Post Graduate"})]})]}),N.jsxs("div",{className:"bg-gradient-to-r from-saf-red-50 to-orange-50 p-5 rounded-xl border-2 border-saf-red-200",children:[N.jsx("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:" Payment Details"}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Payment Type ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsxs("select",{name:"payment_type",value:m.payment_type,onChange:V,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all bg-white",children:[N.jsx("option",{value:"cash",children:" Cash"}),N.jsx("option",{value:"upi",children:" UPI"})]})]}),m.payment_type==="upi"&&N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["UPI ID ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"text",name:"upi_id",value:m.upi_id,onChange:V,required:m.payment_type==="upi",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all bg-white",placeholder:"example@upi"})]})]}),N.jsx("div",{className:"mt-4 p-4 bg-white rounded-lg border-2 border-saf-red-300",children:N.jsxs("div",{className:"flex items-center justify-between",children:[N.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Membership Fee:"}),N.jsx("span",{className:"text-2xl font-bold text-saf-red-600",children:"20"})]})})]}),N.jsxs("div",{className:"flex gap-4 pt-6 border-t-2",children:[N.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-gradient-to-r from-saf-red-600 to-saf-red-700 text-white px-6 py-4 rounded-xl hover:from-saf-red-700 hover:to-saf-red-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-105",children:l?N.jsxs("span",{className:"flex items-center justify-center gap-2",children:[N.jsx(Ul,{className:"h-5 w-5 animate-spin"}),"Registering..."]}):" Register Member"}),N.jsx("button",{type:"button",onClick:()=>h(!1),className:"flex-1 bg-gray-200 text-gray-700 px-6 py-4 rounded-xl hover:bg-gray-300 transition-all font-bold text-lg",children:" Cancel"})]})]})]})]})]})]})},L0e=()=>{const[i,e]=ne.useState([]),[t,n]=ne.useState([]),[s,r]=ne.useState(!1),[o,a]=ne.useState(!1),[l,d]=ne.useState(!1),[c,h]=ne.useState(null),[u,p]=ne.useState(null),[f,g]=ne.useState({year:"",month:""}),[m,v]=ne.useState({updt_ttl_en:"",updt_ttl_te:"",updt_cntnt_en:"",updt_cntnt_te:"",updt_typ_cd:"announcement",updt_dt:"",img_1:null,img_2:null,img_3:null,img_1_pth:"",img_2_pth:"",img_3_pth:""}),[_,x]=ne.useState({type:"",message:""}),[y,T]=ne.useState(!1),O=[{value:"announcement",label:"Announcement"},{value:"fundsUtilization",label:"Funds Utilization"},{value:"communityEvent",label:"Community Event"}],L=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],R=k=>!k||typeof k!="string"||k.trim()===""?null:k.startsWith("http://")||k.startsWith("https://")?k:k.startsWith("/docs/")?`${Ft.apiUrl}${k}`:`${Ft.apiUrl}/docs/updates/${k}`;ne.useEffect(()=>{$(),V()},[]),ne.useEffect(()=>{V()},[f]);const $=async()=>{try{const k=await Ft.get("/updates/years");if(k){const U=k.data||k;Array.isArray(U)&&n(U.map(W=>W.year||W))}}catch(k){console.error("Error fetching years:",k)}},V=async()=>{r(!0);try{const k=new URLSearchParams;f.year&&k.append("year",f.year),f.month&&k.append("month",f.month);const U=k.toString()?`/updates/list?${k}`:"/updates/list",W=await Ft.get(U);if(W){const X=W.data||W;e(Array.isArray(X)?X:[])}else e([])}catch(k){console.error("Error fetching updates:",k),e([])}finally{r(!1)}},z=k=>{const{name:U,value:W}=k.target;g(X=>({...X,[U]:W}))},H=async k=>{try{const U=await Ft.get(`/updates/${k}`);console.log("=== VIEW UPDATE DEBUG ==="),console.log("Full Response:",JSON.stringify(U,null,2)),console.log("Response Type:",typeof U),console.log("Response Keys:",U?Object.keys(U):"null");let W=null;if(U&&U.status===200&&U.data?(W=U.data,console.log("Using response.data (status 200)")):U&&U.data?(W=U.data,console.log("Using response.data (no status check)")):U&&!U.status&&(W=U,console.log("Using direct response")),W){console.log("Update Data Extracted:",W),console.log("Raw Image Paths:",{img_1_pth:W.img_1_pth,img_2_pth:W.img_2_pth,img_3_pth:W.img_3_pth,"img_1_pth type":typeof W.img_1_pth,"img_1_pth truthy":!!W.img_1_pth});const X={...W,img_1_pth:W.img_1_pth&&typeof W.img_1_pth=="string"?W.img_1_pth.trim():null,img_2_pth:W.img_2_pth&&typeof W.img_2_pth=="string"?W.img_2_pth.trim():null,img_3_pth:W.img_3_pth&&typeof W.img_3_pth=="string"?W.img_3_pth.trim():null};console.log("Final Update Object:",{saf_updt_id:X.saf_updt_id,img_1_pth:X.img_1_pth,img_2_pth:X.img_2_pth,img_3_pth:X.img_3_pth,"Image 1 URL":X.img_1_pth?R(X.img_1_pth):"null","Image 2 URL":X.img_2_pth?R(X.img_2_pth):"null","Image 3 URL":X.img_3_pth?R(X.img_3_pth):"null","baseApiService.apiUrl":Ft.apiUrl}),h(X),a(!0)}else console.error("No update data found in response")}catch(U){console.error("Error fetching update details:",U),x({type:"error",message:"Failed to load update details"})}},I=async k=>{try{const U=await Ft.get(`/updates/${k}`);console.log("=== EDIT UPDATE DEBUG ==="),console.log("Full Response:",JSON.stringify(U,null,2));let W=null;U&&U.status===200&&U.data?(W=U.data,console.log("Using response.data (status 200)")):U&&U.data?(W=U.data,console.log("Using response.data (no status check)")):U&&!U.status&&(W=U,console.log("Using direct response")),W?(console.log("Update Data for Edit:",W),console.log("Image Paths for Edit:",{img_1_pth:W.img_1_pth,img_2_pth:W.img_2_pth,img_3_pth:W.img_3_pth,"img_1_pth type":typeof W.img_1_pth}),v({updt_ttl_en:W.updt_ttl_en||"",updt_ttl_te:W.updt_ttl_te||"",updt_cntnt_en:W.updt_cntnt_en||"",updt_cntnt_te:W.updt_cntnt_te||"",updt_typ_cd:W.updt_typ_cd||"announcement",updt_dt:W.updt_dt||"",img_1:null,img_2:null,img_3:null,img_1_pth:W.img_1_pth&&typeof W.img_1_pth=="string"?W.img_1_pth.trim():"",img_2_pth:W.img_2_pth&&typeof W.img_2_pth=="string"?W.img_2_pth.trim():"",img_3_pth:W.img_3_pth&&typeof W.img_3_pth=="string"?W.img_3_pth.trim():""}),console.log("Form Data Set:",{img_1_pth:W.img_1_pth&&typeof W.img_1_pth=="string"?W.img_1_pth.trim():"",img_2_pth:W.img_2_pth&&typeof W.img_2_pth=="string"?W.img_2_pth.trim():"",img_3_pth:W.img_3_pth&&typeof W.img_3_pth=="string"?W.img_3_pth.trim():"","Image 1 URL":W.img_1_pth?R(W.img_1_pth):"null"}),T(!0),d(!0)):console.error("No update data found in response for edit")}catch(U){console.error("Error fetching update for edit:",U),x({type:"error",message:"Failed to load update for editing"})}},A=()=>{v({updt_ttl_en:"",updt_ttl_te:"",updt_cntnt_en:"",updt_cntnt_te:"",updt_typ_cd:"announcement",updt_dt:"",img_1:null,img_2:null,img_3:null,img_1_pth:"",img_2_pth:"",img_3_pth:""}),h(null),T(!1),x({type:"",message:""}),d(!0)},E=k=>{const{name:U,value:W}=k.target;v(X=>({...X,[U]:W}))},b=(k,U)=>{const W=k.target.files[0];W&&v(X=>({...X,[`img_${U}`]:W,[`img_${U}_pth`]:""}))},w=k=>{v(W=>({...W,[`img_${k}`]:null,[`img_${k}_pth`]:""}));const U=document.querySelector(`input[type="file"][data-image="${k}"]`);U&&(U.value="")},C=async k=>{var U,W;if(k.preventDefault(),r(!0),x({type:"",message:""}),!m.updt_ttl_en||!m.updt_ttl_te||!m.updt_cntnt_en||!m.updt_cntnt_te||!m.updt_typ_cd||!m.updt_dt){x({type:"error",message:"Please fill all required fields"}),r(!1);return}if(!y&&!m.img_1&&!m.img_2&&!m.img_3){x({type:"error",message:"Please upload at least one image"}),r(!1);return}try{const X=new FormData;X.append("updt_ttl_en",m.updt_ttl_en),X.append("updt_ttl_te",m.updt_ttl_te),X.append("updt_cntnt_en",m.updt_cntnt_en),X.append("updt_cntnt_te",m.updt_cntnt_te),X.append("updt_typ_cd",m.updt_typ_cd),X.append("updt_dt",m.updt_dt),y&&(!m.img_1&&m.img_1_pth&&X.append("img_1_pth",m.img_1_pth),!m.img_2&&m.img_2_pth&&X.append("img_2_pth",m.img_2_pth),!m.img_3&&m.img_3_pth&&X.append("img_3_pth",m.img_3_pth)),m.img_1&&X.append("img_1",m.img_1),m.img_2&&X.append("img_2",m.img_2),m.img_3&&X.append("img_3",m.img_3),console.log("=== SUBMITTING UPDATE ==="),console.log("Mode:",y?"Edit":"Create"),console.log("Form Data:",{updt_ttl_en:m.updt_ttl_en,updt_ttl_te:m.updt_ttl_te,updt_typ_cd:m.updt_typ_cd,updt_dt:m.updt_dt,has_img_1:!!m.img_1,has_img_2:!!m.img_2,has_img_3:!!m.img_3});let j;const q=y?`/updates/${c.saf_updt_id}`:"/updates/create";console.log("API Route:",q),console.log("Method:",y?"PUT":"POST"),y&&c?j=await Ft.put(q,X):j=await Ft.post(q,X),console.log("=== RESPONSE ==="),console.log("Full response:",j);const B=j;if(B&&(B.status===200||((U=B.data)==null?void 0:U.status)===200))x({type:"success",message:y?"Update modified successfully!":"Update created successfully!"}),v({updt_ttl_en:"",updt_ttl_te:"",updt_cntnt_en:"",updt_cntnt_te:"",updt_typ_cd:"announcement",updt_dt:"",img_1:null,img_2:null,img_3:null,img_1_pth:"",img_2_pth:"",img_3_pth:""}),V(),setTimeout(()=>{d(!1),x({type:"",message:""}),T(!1)},2e3);else throw new Error((B==null?void 0:B.err_message)||(B==null?void 0:B.message)||"Unknown error occurred")}catch(X){console.error("=== UPDATE SUBMISSION ERROR ==="),console.error("Error object:",X),console.error("Error response:",X.response),console.error("Error data:",(W=X.response)==null?void 0:W.data),console.error("Error message:",X.message);let j="Failed to save update. Please try again.";if(X.response){const q=X.response.data;j=(q==null?void 0:q.err_message)||(q==null?void 0:q.message)||j,console.error("Server error status:",X.response.status),console.error("Server error data:",q)}else X.request?(j="No response from server. Please check your connection.",console.error("No response received")):(j=X.message||j,console.error("Request setup error:",X.message));x({type:"error",message:j})}finally{r(!1)}},S=async k=>{if(window.confirm("Are you sure you want to delete this update?"))try{const U=await Ft.delete(`/updates/${k}`);U&&U.status===200&&(x({type:"success",message:"Update deleted successfully!"}),V(),setTimeout(()=>x({type:"",message:""}),3e3))}catch(U){console.error("Error deleting update:",U),x({type:"error",message:"Failed to delete update. Please try again."})}},D=k=>{const U=O.find(W=>W.value===k);return U?U.label:k},P=k=>{switch(k){case"announcement":return"bg-red-500";case"fundsUtilization":return"bg-green-500";case"communityEvent":return"bg-orange-500";default:return"bg-gray-500"}};return u?N.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:N.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[N.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Error Loading SAF Updates"}),N.jsx("p",{className:"text-red-600",children:u.toString()}),N.jsx("button",{onClick:()=>{p(null),window.location.reload()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reload Page"})]})}):N.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:[N.jsx("div",{className:"bg-gradient-to-r from-saf-red-600 to-saf-red-700 rounded-xl shadow-2xl p-6 mb-6",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-xl",children:N.jsx(pc,{className:"h-10 w-10 text-white"})}),N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-bold text-white",children:"SAF Updates Management"}),N.jsx("p",{className:"text-white/90 mt-1 flex items-center gap-2",children:N.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-medium",children:[i.length," Total Updates"]})})]})]}),N.jsxs("button",{onClick:A,className:"flex items-center gap-2 bg-white text-saf-red-600 px-6 py-3 rounded-xl hover:bg-gray-50 transition-all shadow-lg hover:shadow-xl font-semibold",children:[N.jsx(Sl,{className:"h-5 w-5"}),"Add New Update"]})]})}),N.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-200",children:[N.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[N.jsx("div",{className:"bg-saf-red-100 p-2 rounded-lg",children:N.jsx(A0,{className:"h-5 w-5 text-saf-red-600"})}),N.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Search Filters"})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-end",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Year:"}),N.jsxs("select",{name:"year",value:f.year,onChange:z,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:[N.jsx("option",{value:"",children:"All Years"}),t.map(k=>N.jsx("option",{value:k,children:k},k))]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Month:"}),N.jsxs("select",{name:"month",value:f.month,onChange:z,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:[N.jsx("option",{value:"",children:"All Months"}),L.map(k=>N.jsx("option",{value:k.value,children:k.label},k.value))]})]}),N.jsx("div",{children:N.jsxs("button",{onClick:V,disabled:s,className:"w-full flex items-center justify-center gap-2 bg-saf-red-600 text-white px-5 py-2.5 rounded-lg hover:bg-saf-red-700 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 h-[42px]",children:[N.jsx(Ul,{className:`h-4 w-4 ${s?"animate-spin":""}`}),"Get Data"]})})]})]}),N.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:N.jsx("div",{className:"flex items-center justify-between",children:N.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[N.jsx(pc,{className:"h-5 w-5 text-saf-red-600"}),"Updates List",N.jsxs("span",{className:"bg-saf-red-600 text-white px-3 py-1 rounded-full text-xs font-semibold ml-2",children:[i.length," Records"]})]})})}),N.jsx("div",{className:"p-6",children:N.jsxs(f_,{dataSource:i,showBorders:!0,showRowLines:!0,showColumnLines:!1,rowAlternationEnabled:!0,hoverStateEnabled:!0,columnAutoWidth:!0,allowColumnResizing:!0,allowColumnReordering:!0,className:"saf-custom-grid",children:[N.jsx(x_,{visible:!0,width:300,placeholder:"Search updates...",highlightSearchText:!0}),N.jsx(g_,{visible:!0}),N.jsx(pE,{enabled:!0,mode:"select"}),N.jsx(b_,{mode:"multiple",showCheckBoxesMode:"always"}),N.jsx(v_,{defaultPageSize:15}),N.jsx(__,{visible:!0,displayMode:"full",showPageSizeSelector:!0,allowedPageSizes:[10,15,25,50,100],showInfo:!0,showNavigationButtons:!0,infoText:"Page {0} of {1} ({2} items)"}),N.jsx(m_,{enabled:!0,allowExportSelectedData:!0}),N.jsx(ln,{dataField:"sno",caption:"S.No",width:80,alignment:"center",cellRender:k=>N.jsx("div",{className:"font-semibold text-gray-700",children:k.value})}),N.jsx(ln,{dataField:"updt_ttl_en",caption:"Title (English)",minWidth:200,cellRender:k=>N.jsx("div",{className:"font-medium text-gray-900",children:k.value})}),N.jsx(ln,{dataField:"updt_ttl_te",caption:"Title (Telugu)",minWidth:200}),N.jsx(ln,{dataField:"updt_typ_cd",caption:"Type",width:150,cellRender:k=>N.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold text-white ${P(k.value)}`,children:D(k.value)})}),N.jsx(ln,{dataField:"updt_dt",caption:"Date",width:120,alignment:"center"}),N.jsx(ln,{dataField:"crte_dt",caption:"Created",width:180,cellRender:k=>N.jsx("span",{className:"text-xs text-gray-600",children:k.value})}),N.jsx(ln,{caption:"Actions",width:150,alignment:"center",cellRender:k=>N.jsxs("div",{className:"flex items-center justify-center gap-2",children:[N.jsx("button",{onClick:()=>H(k.data.saf_updt_id),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-all",title:"View",children:N.jsx(Nh,{className:"h-4 w-4"})}),N.jsx("button",{onClick:()=>I(k.data.saf_updt_id),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-all",title:"Edit",children:N.jsx(c6,{className:"h-4 w-4"})}),N.jsx("button",{onClick:()=>S(k.data.saf_updt_id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all",title:"Delete",children:N.jsx(u6,{className:"h-4 w-4"})})]})})]})})]}),o&&c&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-40 transition-opacity",onClick:()=>a(!1)}),N.jsxs("div",{className:"fixed right-0 top-0 h-full w-full md:w-[700px] bg-white shadow-2xl z-50 overflow-y-auto animate-slide-in",children:[N.jsx("div",{className:"bg-gradient-to-r from-saf-red-600 to-saf-red-700 p-6 sticky top-0 z-10 shadow-lg",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-2 rounded-lg",children:N.jsx(Nh,{className:"h-6 w-6 text-white"})}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-bold text-white",children:"Update Details"}),N.jsx("p",{className:"text-white/80 text-sm",children:"View update information"})]})]}),N.jsx("button",{onClick:()=>a(!1),className:"text-white hover:bg-white/20 p-2 rounded-lg transition-all",children:N.jsx(Oa,{className:"h-6 w-6"})})]})}),N.jsxs("div",{className:"p-6 space-y-6",children:[N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Basic Information"})}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Type:"}),N.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold text-white ${P(c.updt_typ_cd)}`,children:D(c.updt_typ_cd)})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Date:"}),N.jsx("p",{className:"text-gray-900",children:c.updt_dt})]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title (English):"}),N.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.updt_ttl_en})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Title (Telugu):"}),N.jsx("p",{className:"text-lg font-bold text-gray-900",children:c.updt_ttl_te})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Content (English):"}),N.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:N.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:c.updt_cntnt_en})})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Content (Telugu):"}),N.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:N.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:c.updt_cntnt_te})})]}),c&&(c.img_1_pth&&c.img_1_pth.trim()!==""||c.img_2_pth&&c.img_2_pth.trim()!==""||c.img_3_pth&&c.img_3_pth.trim()!=="")&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Images"})}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.img_1_pth&&c.img_1_pth.trim()!==""&&N.jsx("div",{className:"relative bg-gray-100 rounded-lg border-2 border-gray-300 overflow-hidden aspect-square flex items-center justify-center",children:N.jsx("img",{src:R(c.img_1_pth),alt:"Update Image 1",className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:k=>{console.error(" Error loading image 1:",{path:c.img_1_pth,url:R(c.img_1_pth),baseUrl:Ft.apiUrl}),k.target.style.display="none",k.target.parentElement.innerHTML='<div class="flex items-center justify-center h-full text-gray-400">Image not found</div>'},onLoad:()=>{console.log(" Successfully loaded image 1:",R(c.img_1_pth))}})}),c.img_2_pth&&c.img_2_pth.trim()!==""&&N.jsx("div",{className:"relative bg-gray-100 rounded-lg border-2 border-gray-300 overflow-hidden aspect-square flex items-center justify-center",children:N.jsx("img",{src:R(c.img_2_pth),alt:"Update Image 2",className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:k=>{console.error(" Error loading image 2:",{path:c.img_2_pth,url:R(c.img_2_pth),baseUrl:Ft.apiUrl}),k.target.style.display="none",k.target.parentElement.innerHTML='<div class="flex items-center justify-center h-full text-gray-400">Image not found</div>'},onLoad:()=>{console.log(" Successfully loaded image 2:",R(c.img_2_pth))}})}),c.img_3_pth&&c.img_3_pth.trim()!==""&&N.jsx("div",{className:"relative bg-gray-100 rounded-lg border-2 border-gray-300 overflow-hidden aspect-square flex items-center justify-center",children:N.jsx("img",{src:R(c.img_3_pth),alt:"Update Image 3",className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:k=>{console.error(" Error loading image 3:",{path:c.img_3_pth,url:R(c.img_3_pth),baseUrl:Ft.apiUrl}),k.target.style.display="none",k.target.parentElement.innerHTML='<div class="flex items-center justify-center h-full text-gray-400">Image not found</div>'},onLoad:()=>{console.log(" Successfully loaded image 3:",R(c.img_3_pth))}})})]})]}),N.jsxs("div",{className:"flex gap-4 pt-4 border-t-2",children:[N.jsx("button",{onClick:()=>{a(!1),I(c.saf_updt_id)},className:"flex-1 bg-saf-red-600 text-white px-6 py-3 rounded-xl hover:bg-saf-red-700 transition-all font-bold",children:"Edit Update"}),N.jsx("button",{onClick:()=>a(!1),className:"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-300 transition-all font-bold",children:"Close"})]})]})]})]}),l&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-40 transition-opacity",onClick:()=>d(!1)}),N.jsxs("div",{className:"fixed right-0 top-0 h-full w-full md:w-[700px] bg-white shadow-2xl z-50 overflow-y-auto animate-slide-in",children:[N.jsx("div",{className:"bg-gradient-to-r from-saf-red-600 to-saf-red-700 p-6 sticky top-0 z-10 shadow-lg",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-2 rounded-lg",children:N.jsx(pc,{className:"h-6 w-6 text-white"})}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-bold text-white",children:y?"Edit Update":"Add New Update"}),N.jsx("p",{className:"text-white/80 text-sm",children:"Fill in the details below"})]})]}),N.jsx("button",{onClick:()=>d(!1),className:"text-white hover:bg-white/20 p-2 rounded-lg transition-all",children:N.jsx(Oa,{className:"h-6 w-6"})})]})}),N.jsxs("div",{className:"p-6",children:[_.message&&N.jsx("div",{className:`mb-6 p-4 rounded-xl border-l-4 ${_.type==="success"?"bg-green-50 border-green-500 text-green-800":"bg-red-50 border-red-500 text-red-800"}`,children:N.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[_.type==="success"?"":"",_.message]})}),N.jsxs("form",{onSubmit:C,className:"space-y-5",children:[N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Basic Information"})}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Update Type ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("select",{name:"updt_typ_cd",value:m.updt_typ_cd,onChange:E,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:O.map(k=>N.jsx("option",{value:k.value,children:k.label},k.value))})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Update Date ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"date",name:"updt_dt",value:m.updt_dt,onChange:E,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all"})]})]}),N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Title"})}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Title (English) ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"text",name:"updt_ttl_en",value:m.updt_ttl_en,onChange:E,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter title in English"})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Title (Telugu) ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"text",name:"updt_ttl_te",value:m.updt_ttl_te,onChange:E,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter title in Telugu"})]}),N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Content"})}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Content (English) ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("textarea",{name:"updt_cntnt_en",value:m.updt_cntnt_en,onChange:E,required:!0,rows:"6",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all resize-none",placeholder:"Enter content in English"})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Content (Telugu) ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("textarea",{name:"updt_cntnt_te",value:m.updt_cntnt_te,onChange:E,required:!0,rows:"6",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all resize-none",placeholder:"Enter content in Telugu"})]}),N.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:[N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Images (3 Required)"}),N.jsx("p",{className:"text-xs text-gray-600",children:"Upload up to 3 images for this update"})]}),N.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Image 1 ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"file",accept:"image/*","data-image":"1",id:"image-input-1",onChange:k=>b(k,1),className:"hidden"}),N.jsx("div",{onClick:()=>{var k;return(k=document.getElementById("image-input-1"))==null?void 0:k.click()},className:"relative bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 overflow-hidden aspect-square flex items-center justify-center cursor-pointer hover:border-saf-red-500 hover:bg-gray-50 transition-all group",children:m.img_1_pth&&m.img_1_pth.trim()!==""&&!m.img_1?N.jsxs(N.Fragment,{children:[N.jsx("img",{src:R(m.img_1_pth),alt:"Image 1",className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:k=>{console.error(" Error loading image 1:",{path:m.img_1_pth,url:R(m.img_1_pth),baseUrl:Ft.apiUrl}),k.target.style.display="none"}}),N.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),w(1)},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-700 z-10",title:"Delete Image 1",children:N.jsx(oa,{size:20})})]}):m.img_1?N.jsxs(N.Fragment,{children:[N.jsx("img",{src:URL.createObjectURL(m.img_1),alt:"Image 1 Preview",className:"w-full h-full object-cover"}),N.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),w(1)},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-700 z-10",title:"Delete Image 1",children:N.jsx(oa,{size:20})})]}):N.jsxs("div",{className:"text-center p-4",children:[N.jsx(Sl,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),N.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Click to upload"}),N.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Image 1"})]})})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Image 2 ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"file",accept:"image/*","data-image":"2",id:"image-input-2",onChange:k=>b(k,2),className:"hidden"}),N.jsx("div",{onClick:()=>{var k;return(k=document.getElementById("image-input-2"))==null?void 0:k.click()},className:"relative bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 overflow-hidden aspect-square flex items-center justify-center cursor-pointer hover:border-saf-red-500 hover:bg-gray-50 transition-all group",children:m.img_2_pth&&m.img_2_pth.trim()!==""&&!m.img_2?N.jsxs(N.Fragment,{children:[N.jsx("img",{src:R(m.img_2_pth),alt:"Image 2",className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:k=>{console.error(" Error loading image 2:",{path:m.img_2_pth,url:R(m.img_2_pth),baseUrl:Ft.apiUrl}),k.target.style.display="none"}}),N.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),w(2)},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-700 z-10",title:"Delete Image 2",children:N.jsx(oa,{size:20})})]}):m.img_2?N.jsxs(N.Fragment,{children:[N.jsx("img",{src:URL.createObjectURL(m.img_2),alt:"Image 2 Preview",className:"w-full h-full object-cover"}),N.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),w(2)},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-700 z-10",title:"Delete Image 2",children:N.jsx(oa,{size:20})})]}):N.jsxs("div",{className:"text-center p-4",children:[N.jsx(Sl,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),N.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Click to upload"}),N.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Image 2"})]})})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Image 3 ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"file",accept:"image/*","data-image":"3",id:"image-input-3",onChange:k=>b(k,3),className:"hidden"}),N.jsx("div",{onClick:()=>{var k;return(k=document.getElementById("image-input-3"))==null?void 0:k.click()},className:"relative bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 overflow-hidden aspect-square flex items-center justify-center cursor-pointer hover:border-saf-red-500 hover:bg-gray-50 transition-all group",children:m.img_3_pth&&m.img_3_pth.trim()!==""&&!m.img_3?N.jsxs(N.Fragment,{children:[N.jsx("img",{src:R(m.img_3_pth),alt:"Image 3",className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:k=>{console.error(" Error loading image 3:",{path:m.img_3_pth,url:R(m.img_3_pth),baseUrl:Ft.apiUrl}),k.target.style.display="none"}}),N.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),w(3)},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-700 z-10",title:"Delete Image 3",children:N.jsx(oa,{size:20})})]}):m.img_3?N.jsxs(N.Fragment,{children:[N.jsx("img",{src:URL.createObjectURL(m.img_3),alt:"Image 3 Preview",className:"w-full h-full object-cover"}),N.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),w(3)},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-700 z-10",title:"Delete Image 3",children:N.jsx(oa,{size:20})})]}):N.jsxs("div",{className:"text-center p-4",children:[N.jsx(Sl,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),N.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Click to upload"}),N.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Image 3"})]})})]})]}),N.jsxs("div",{className:"flex gap-4 pt-6 border-t-2",children:[N.jsx("button",{type:"submit",disabled:s,className:"flex-1 bg-gradient-to-r from-saf-red-600 to-saf-red-700 text-white px-6 py-4 rounded-xl hover:from-saf-red-700 hover:to-saf-red-800 transition-all disabled:opacity-50 disabled:cursor-not-allowed font-bold text-lg shadow-lg hover:shadow-xl transform hover:scale-105",children:s?N.jsxs("span",{className:"flex items-center justify-center gap-2",children:[N.jsx(Ul,{className:"h-5 w-5 animate-spin"}),y?"Updating...":"Creating..."]}):y?" Update Changes":" Create Update"}),N.jsx("button",{type:"button",onClick:()=>d(!1),className:"flex-1 bg-gray-200 text-gray-700 px-6 py-4 rounded-xl hover:bg-gray-300 transition-all font-bold text-lg",children:" Cancel"})]})]})]})]})]})]})},$0e=()=>{const[i,e]=ne.useState([]),[t,n]=ne.useState([]),[s,r]=ne.useState([]),[o,a]=ne.useState([]),[l,d]=ne.useState(!1),[c,h]=ne.useState(!1),[u,p]=ne.useState(!1),[f,g]=ne.useState(null),[m,v]=ne.useState(null),[_,x]=ne.useState({payment_method:"",payment_status:"",district_id:"",mandal_id:"",date_from:"",date_to:""}),[y,T]=ne.useState({donor_name:"",donor_phone:"",donor_email:"",fund_amount:"",payment_method:"cash",upi_id:"",transaction_id:"",bank_name:"",cheque_no:"",payment_status:"completed",district_id:"",mandal_id:"",description:"",receipt_image:null,receipt_image_path:"",payment_date:""}),[O,L]=ne.useState({type:"",message:""}),[R,$]=ne.useState(!1),[V,z]=ne.useState({show:!1,message:""}),H=[{value:"cash",label:"Cash"},{value:"upi",label:"UPI"},{value:"bank_transfer",label:"Bank Transfer"},{value:"cheque",label:"Cheque"},{value:"online",label:"Online Payment"}],I=[{value:"pending",label:"Pending"},{value:"completed",label:"Completed"},{value:"failed",label:"Failed"}],A=Q=>!Q||typeof Q!="string"||Q.trim()===""?null:Q.startsWith("http://")||Q.startsWith("https://")?Q:Q.startsWith("/docs/")?`${Ft.apiUrl}${Q}`:`${Ft.apiUrl}/docs/funds/${Q}`;ne.useEffect(()=>{try{E(),C();const Q=()=>{try{[".dx-license-message",".dx-license-message-container",'[class*="dx-license"]','[id*="dx-license"]',"[data-dx-license]"].forEach(ce=>{try{document.querySelectorAll(ce).forEach(oe=>{oe&&oe.parentNode&&(oe.style.display="none",oe.style.visibility="hidden",oe.style.opacity="0",oe.style.pointerEvents="none")})}catch{}})}catch(ae){console.warn("License message hiding failed:",ae)}},Z=setTimeout(Q,100),J=setTimeout(Q,500);return()=>{clearTimeout(Z),clearTimeout(J)}}catch(Q){console.error("Error in useEffect:",Q),v(Q)}},[]),ne.useEffect(()=>{C()},[_]),ne.useEffect(()=>{_.district_id?b(_.district_id):(r([]),x(Q=>({...Q,mandal_id:""})))},[_.district_id]),ne.useEffect(()=>{y.district_id?w(y.district_id):(a([]),T(Q=>({...Q,mandal_id:""})))},[y.district_id]);const E=async()=>{try{const Q=await Ft.get("/admin/get/districts");Q&&Q.status===200?n(Q.data||[]):n([])}catch(Q){console.error("Error fetching districts:",Q),n([])}},b=async Q=>{try{const Z=await Ft.get(`/admin/get/mandals/${Q}`);Z.status===200?r(Z.data):r([])}catch(Z){console.error("Error fetching mandals for filter:",Z),r([])}},w=async Q=>{try{const Z=await Ft.get(`/admin/get/mandals/${Q}`);Z.status===200?a(Z.data):a([])}catch(Z){console.error("Error fetching mandals for form:",Z),a([])}},C=async()=>{d(!0);try{const Q=new URLSearchParams;_.payment_method&&Q.append("payment_method",_.payment_method),_.payment_status&&Q.append("payment_status",_.payment_status),_.district_id&&Q.append("district_id",_.district_id),_.date_from&&Q.append("date_from",_.date_from),_.date_to&&Q.append("date_to",_.date_to);const Z=Q.toString()?`/funds/list?${Q}`:"/funds/list",J=await Ft.get(Z);J&&J.status===200?e(J.data||[]):e([])}catch(Q){console.error("Error fetching donations:",Q),e([])}finally{d(!1)}},S=Q=>{const{name:Z,value:J}=Q.target;x(Z==="district_id"?ae=>({...ae,district_id:J,mandal_id:""}):ae=>({...ae,[Z]:J}))},D=()=>{x({payment_method:"",payment_status:"",district_id:"",mandal_id:"",date_from:"",date_to:""}),setTimeout(C,100)},P=async Q=>{try{const Z=await Ft.get(`/funds/${Q}`);if(Z&&Z.status===200){const J=Z.data;g({...J,rcpt_img_pth:J.rcpt_img_pth&&typeof J.rcpt_img_pth=="string"?J.rcpt_img_pth.trim():null}),h(!0)}}catch(Z){console.error("Error fetching donation details:",Z),L({type:"error",message:"Failed to load donation details"})}},k=async Q=>{try{const Z=await Ft.get(`/funds/${Q}`);if(Z&&Z.status===200){const J=Z.data;T({donor_name:J.dntr_nm||"",donor_phone:J.dntr_phne_no||"",donor_email:J.dntr_eml_tx||"",fund_amount:J.fund_amnt||"",payment_method:J.pymnt_mthd||"cash",upi_id:J.upi_id||"",transaction_id:J.trnsctn_id||"",bank_name:J.bnk_nm||"",cheque_no:J.chq_no||"",payment_status:J.pymnt_stts||"completed",district_id:J.dstrt_id||"",mandal_id:J.mndl_id||"",description:J.fund_dscrptn_tx||"",receipt_image:null,receipt_image_path:J.rcpt_img_pth&&typeof J.rcpt_img_pth=="string"?J.rcpt_img_pth.trim():"",payment_date:J.pymnt_dt||""}),$(!0),g(J),p(!0)}}catch(Z){console.error("Error fetching donation for editing:",Z),L({type:"error",message:"Failed to load donation for editing"})}},U=()=>{T({donor_name:"",donor_phone:"",donor_email:"",fund_amount:"",payment_method:"cash",upi_id:"",transaction_id:"",bank_name:"",cheque_no:"",payment_status:"completed",district_id:"",mandal_id:"",description:"",receipt_image:null,receipt_image_path:"",payment_date:""}),g(null),$(!1),L({type:"",message:""}),p(!0)},W=Q=>{const{name:Z,value:J}=Q.target;T(Z==="district_id"?ae=>({...ae,district_id:J,mandal_id:""}):ae=>({...ae,[Z]:J}))},X=Q=>{const Z=Q.target.files[0];Z&&T(J=>({...J,receipt_image:Z,receipt_image_path:""}))},j=()=>{T(Z=>({...Z,receipt_image:null,receipt_image_path:""}));const Q=document.getElementById("receipt-image-input");Q&&(Q.value="")},q=async Q=>{var Z;if(Q.preventDefault(),d(!0),L({type:"",message:""}),!y.donor_name||!y.fund_amount||!y.payment_method||!y.payment_date){L({type:"error",message:"Please fill all required fields"}),d(!1);return}if(y.payment_method==="upi"&&!y.upi_id){L({type:"error",message:"UPI ID is required for UPI payments"}),d(!1);return}try{const J=new FormData;J.append("donor_name",y.donor_name),J.append("donor_phone",y.donor_phone||""),J.append("donor_email",y.donor_email||""),J.append("fund_amount",y.fund_amount),J.append("payment_method",y.payment_method),J.append("upi_id",y.upi_id||""),J.append("transaction_id",y.transaction_id||""),J.append("bank_name",y.bank_name||""),J.append("cheque_no",y.cheque_no||""),J.append("payment_status",y.payment_status),J.append("district_id",y.district_id||""),J.append("mandal_id",y.mandal_id||""),J.append("description",y.description||""),J.append("payment_date",y.payment_date),R&&!y.receipt_image&&y.receipt_image_path&&J.append("receipt_image_path",y.receipt_image_path),y.receipt_image&&J.append("receipt_image",y.receipt_image);const ae=R?`/funds/${f.saf_fund_id}`:"/funds/create",ce=R?await Ft.put(ae,J):await Ft.post(ae,J);if(ce&&(ce.status===200||((Z=ce.data)==null?void 0:Z.status)===200)){const te=R?"Donation updated successfully!":"Donation added successfully!";p(!1),L({type:"",message:""}),z({show:!0,message:te}),C(),setTimeout(()=>{z({show:!1,message:""})},3e3)}else L({type:"error",message:(ce==null?void 0:ce.err_message)||(ce==null?void 0:ce.message)||"Failed to save donation"})}catch(J){console.error("Error submitting donation:",J),L({type:"error",message:(J==null?void 0:J.err_message)||(J==null?void 0:J.message)||"Failed to save donation. Please try again."})}finally{d(!1)}},B=async Q=>{if(window.confirm("Are you sure you want to delete this donation?"))try{const Z=await Ft.delete(`/funds/${Q}`);Z&&Z.status===200?(z({show:!0,message:"Donation deleted successfully!"}),C(),setTimeout(()=>{z({show:!1,message:""})},3e3)):L({type:"error",message:"Failed to delete donation"})}catch(Z){console.error("Error deleting donation:",Z),L({type:"error",message:"Failed to delete donation. Please try again."})}},F=Q=>{if(!Q)return"0";const Z=parseFloat(Q);return Z>=1e7?`${(Z/1e7).toFixed(2)}Cr`:Z>=1e5?`${(Z/1e5).toFixed(2)}L`:Z>=1e3?`${(Z/1e3).toFixed(2)}K`:`${Z.toFixed(2)}`},K=Q=>{const Z=H.find(J=>J.value===Q);return Z?Z.label:Q},ee=Q=>{switch(Q){case"cash":return"bg-green-500";case"upi":return"bg-blue-500";case"bank_transfer":return"bg-purple-500";case"cheque":return"bg-orange-500";case"online":return"bg-indigo-500";default:return"bg-gray-500"}};return m?N.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:N.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[N.jsx("h2",{className:"text-xl font-bold text-red-800 mb-2",children:"Error Loading SAF Donations"}),N.jsx("p",{className:"text-red-600",children:m.toString()}),N.jsx("button",{onClick:()=>{v(null),window.location.reload()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reload Page"})]})}):N.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 p-6",children:[V.show&&N.jsx("div",{className:"fixed top-20 right-6 z-50 animate-slide-in",children:N.jsxs("div",{className:"bg-green-500 text-white px-6 py-4 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px]",children:[N.jsx("div",{className:"bg-white/20 rounded-full p-1",children:N.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:N.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),N.jsx("div",{className:"flex-1",children:N.jsx("p",{className:"font-semibold",children:V.message})}),N.jsx("button",{onClick:()=>z({show:!1,message:""}),className:"text-white hover:text-gray-200",children:N.jsx(Oa,{className:"h-5 w-5"})})]})}),N.jsx("div",{className:"bg-gradient-to-r from-saf-red-600 to-saf-red-700 rounded-xl shadow-2xl p-6 mb-6",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-xl",children:N.jsx(mg,{className:"h-10 w-10 text-white"})}),N.jsxs("div",{children:[N.jsx("h1",{className:"text-3xl font-bold text-white",children:"SAF Donations Management"}),N.jsx("p",{className:"text-white/90 mt-1 flex items-center gap-2",children:N.jsxs("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-medium",children:[i.length," Total Donations"]})})]})]}),N.jsxs("button",{onClick:U,className:"flex items-center gap-2 bg-white text-saf-red-600 px-6 py-3 rounded-xl hover:bg-gray-50 transition-all shadow-lg hover:shadow-xl font-semibold",children:[N.jsx(Sl,{className:"h-5 w-5"}),"Add New Donation"]})]})}),N.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6 border border-gray-200",children:[N.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[N.jsx("div",{className:"bg-saf-red-100 p-2 rounded-lg",children:N.jsx(A0,{className:"h-5 w-5 text-saf-red-600"})}),N.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Search Filters"})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-4 items-end",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Payment Method:"}),N.jsxs("select",{name:"payment_method",value:_.payment_method,onChange:S,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:[N.jsx("option",{value:"",children:"All Methods"}),H.map(Q=>N.jsx("option",{value:Q.value,children:Q.label},Q.value))]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Payment Status:"}),N.jsxs("select",{name:"payment_status",value:_.payment_status,onChange:S,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:[N.jsx("option",{value:"",children:"All Statuses"}),I.map(Q=>N.jsx("option",{value:Q.value,children:Q.label},Q.value))]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"District:"}),N.jsxs("select",{name:"district_id",value:_.district_id,onChange:S,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:[N.jsx("option",{value:"",children:"All Districts"}),t.map(Q=>N.jsx("option",{value:Q.dstrt_id,children:Q.dstrt_nm},Q.dstrt_id))]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Mandal:"}),N.jsxs("select",{name:"mandal_id",value:_.mandal_id,onChange:S,disabled:!_.district_id,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",children:[N.jsx("option",{value:"",children:"All Mandals"}),s.map(Q=>N.jsx("option",{value:Q.mndl_id,children:Q.mndl_nm},Q.mndl_id))]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date From:"}),N.jsx("input",{type:"date",name:"date_from",value:_.date_from,onChange:S,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Date To:"}),N.jsx("input",{type:"date",name:"date_to",value:_.date_to,onChange:S,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all"})]}),N.jsx("div",{children:N.jsxs("button",{onClick:C,disabled:l,className:"w-full flex items-center justify-center gap-2 bg-saf-red-600 text-white px-5 py-2.5 rounded-lg hover:bg-saf-red-700 transition-all shadow-md hover:shadow-lg font-medium disabled:opacity-50 h-[42px]",children:[N.jsx(Ul,{className:`h-4 w-4 ${l?"animate-spin":""}`}),"Get Data"]})}),N.jsx("div",{children:N.jsx("button",{onClick:D,className:"w-full flex items-center justify-center gap-2 bg-gray-200 text-gray-700 px-5 py-2.5 rounded-lg hover:bg-gray-300 transition-all font-medium h-[42px]",children:"Reset"})})]})]}),N.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:N.jsx("div",{className:"flex items-center justify-between",children:N.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[N.jsx(Vh,{className:"h-5 w-5 text-saf-red-600"}),"Donations List",N.jsxs("span",{className:"bg-saf-red-600 text-white px-3 py-1 rounded-full text-xs font-semibold ml-2",children:[i.length," Records"]})]})})}),N.jsx("div",{className:"p-6",children:N.jsxs(f_,{dataSource:i,showBorders:!0,showRowLines:!0,showColumnLines:!1,rowAlternationEnabled:!0,hoverStateEnabled:!0,columnAutoWidth:!0,allowColumnResizing:!0,allowColumnReordering:!0,className:"saf-custom-grid",children:[N.jsx(x_,{visible:!0,width:300,placeholder:"Search donations...",highlightSearchText:!0}),N.jsx(g_,{visible:!0}),N.jsx(pE,{enabled:!0,mode:"select"}),N.jsx(b_,{mode:"multiple",showCheckBoxesMode:"always"}),N.jsx(v_,{defaultPageSize:15}),N.jsx(__,{visible:!0,displayMode:"full",showPageSizeSelector:!0,allowedPageSizes:[10,15,25,50,100],showInfo:!0,showNavigationButtons:!0,infoText:"Page {0} of {1} ({2} items)"}),N.jsx(m_,{enabled:!0,allowExportSelectedData:!0}),N.jsx(ln,{dataField:"sno",caption:"S.No",width:80,alignment:"center",cellRender:Q=>N.jsx("div",{className:"font-semibold text-gray-700",children:Q.value})}),N.jsx(ln,{dataField:"dntr_nm",caption:"Donor Name",minWidth:180,cellRender:Q=>N.jsx("div",{className:"font-medium text-gray-900",children:Q.value})}),N.jsx(ln,{dataField:"dntr_phne_no",caption:"Phone",width:130}),N.jsx(ln,{dataField:"fund_amnt",caption:"Amount ()",width:150,alignment:"right",cellRender:Q=>N.jsx("span",{className:"font-semibold text-green-600",children:F(Q.value)})}),N.jsx(ln,{dataField:"pymnt_mthd",caption:"Payment Method",width:150,cellRender:Q=>N.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold text-white ${ee(Q.value)}`,children:K(Q.value)})}),N.jsx(ln,{dataField:"pymnt_stts",caption:"Status",width:120,cellRender:Q=>N.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${Q.value==="completed"?"bg-green-100 text-green-700":Q.value==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:Q.value})}),N.jsx(ln,{dataField:"dstrt_nm",caption:"District",width:150}),N.jsx(ln,{dataField:"pymnt_dt",caption:"Payment Date",width:180,alignment:"center",cellRender:Q=>N.jsx("span",{className:"text-xs text-gray-600",children:Q.value})}),N.jsx(ln,{caption:"Actions",width:150,alignment:"center",cellRender:Q=>N.jsxs("div",{className:"flex items-center justify-center gap-2",children:[N.jsx("button",{onClick:()=>P(Q.data.saf_fund_id),className:"p-2 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-all",title:"View",children:N.jsx(Nh,{className:"h-4 w-4"})}),N.jsx("button",{onClick:()=>k(Q.data.saf_fund_id),className:"p-2 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-all",title:"Edit",children:N.jsx(c6,{className:"h-4 w-4"})}),N.jsx("button",{onClick:()=>B(Q.data.saf_fund_id),className:"p-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-all",title:"Delete",children:N.jsx(u6,{className:"h-4 w-4"})})]})})]})})]}),c&&f&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-40 transition-opacity",onClick:()=>h(!1)}),N.jsxs("div",{className:"fixed right-0 top-0 h-full w-full md:w-[700px] bg-white shadow-2xl z-50 overflow-y-auto animate-slide-in",children:[N.jsx("div",{className:"bg-gradient-to-r from-saf-red-600 to-saf-red-700 p-6 sticky top-0 z-10 shadow-lg",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-2 rounded-lg",children:N.jsx(Nh,{className:"h-6 w-6 text-white"})}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-bold text-white",children:"Donation Details"}),N.jsx("p",{className:"text-white/80 text-sm",children:"View donation information"})]})]}),N.jsx("button",{onClick:()=>h(!1),className:"text-white hover:bg-white/20 p-2 rounded-lg transition-all",children:N.jsx(Oa,{className:"h-6 w-6"})})]})}),N.jsxs("div",{className:"p-6 space-y-6",children:[N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Donor Information"})}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Donor Name:"}),N.jsx("p",{className:"text-lg font-bold text-gray-900",children:f.dntr_nm})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Phone:"}),N.jsx("p",{className:"text-gray-900",children:f.dntr_phne_no||"N/A"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Email:"}),N.jsx("p",{className:"text-gray-900",children:f.dntr_eml_tx||"N/A"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Amount:"}),N.jsx("p",{className:"text-2xl font-bold text-green-600",children:F(f.fund_amnt)})]})]}),N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Payment Information"})}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Method:"}),N.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold text-white ${ee(f.pymnt_mthd)}`,children:K(f.pymnt_mthd)})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Status:"}),N.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-semibold ${f.pymnt_stts==="completed"?"bg-green-100 text-green-700":f.pymnt_stts==="pending"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:f.pymnt_stts})]}),f.upi_id&&N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"UPI ID:"}),N.jsx("p",{className:"text-gray-900",children:f.upi_id})]}),f.trnsctn_id&&N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Transaction ID:"}),N.jsx("p",{className:"text-gray-900",children:f.trnsctn_id})]}),f.bnk_nm&&N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Bank Name:"}),N.jsx("p",{className:"text-gray-900",children:f.bnk_nm})]}),f.chq_no&&N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Cheque Number:"}),N.jsx("p",{className:"text-gray-900",children:f.chq_no})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Date:"}),N.jsx("p",{className:"text-gray-900",children:f.pymnt_dt})]})]}),(f.dstrt_nm||f.mndl_nm)&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Location Information"})}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.dstrt_nm&&N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"District:"}),N.jsx("p",{className:"text-gray-900",children:f.dstrt_nm})]}),f.mndl_nm&&N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Mandal:"}),N.jsx("p",{className:"text-gray-900",children:f.mndl_nm})]})]})]}),f.fund_dscrptn_tx&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Description"})}),N.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:N.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:f.fund_dscrptn_tx})})]}),f.rcpt_img_pth&&f.rcpt_img_pth.trim()!==""&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Receipt Image"})}),N.jsx("div",{className:"relative bg-gray-100 rounded-lg border-2 border-gray-300 overflow-hidden aspect-square flex items-center justify-center",children:N.jsx("img",{src:A(f.rcpt_img_pth),alt:"Receipt",className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:Q=>{console.error(" Error loading receipt image:",{path:f.rcpt_img_pth,url:A(f.rcpt_img_pth),baseUrl:Ft.apiUrl}),Q.target.style.display="none",Q.target.parentElement.innerHTML='<div class="flex items-center justify-center h-full text-gray-400">Image not found</div>'},onLoad:()=>{console.log(" Successfully loaded receipt image:",A(f.rcpt_img_pth))}})})]}),N.jsxs("div",{className:"flex gap-4 pt-4 border-t-2",children:[N.jsx("button",{onClick:()=>{h(!1),k(f.saf_fund_id)},className:"flex-1 bg-saf-red-600 text-white px-6 py-3 rounded-xl hover:bg-saf-red-700 transition-all font-bold",children:"Edit Donation"}),N.jsx("button",{onClick:()=>h(!1),className:"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-300 transition-all font-bold",children:"Close"})]})]})]})]}),u&&N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm z-40 transition-opacity",onClick:()=>p(!1)}),N.jsxs("div",{className:"fixed right-0 top-0 h-full w-full md:w-[700px] bg-white shadow-2xl z-50 overflow-y-auto animate-slide-in",children:[N.jsx("div",{className:"bg-gradient-to-r from-saf-red-600 to-saf-red-700 p-6 sticky top-0 z-10 shadow-lg",children:N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsxs("div",{className:"flex items-center gap-3",children:[N.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-2 rounded-lg",children:N.jsx(mg,{className:"h-6 w-6 text-white"})}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-2xl font-bold text-white",children:R?"Edit Donation":"Add New Donation"}),N.jsx("p",{className:"text-white/80 text-sm",children:"Fill in the details below"})]})]}),N.jsx("button",{onClick:()=>p(!1),className:"text-white hover:bg-white/20 p-2 rounded-lg transition-all",children:N.jsx(Oa,{className:"h-6 w-6"})})]})}),N.jsxs("div",{className:"p-6",children:[O.message&&N.jsx("div",{className:`mb-6 p-4 rounded-xl border-l-4 ${O.type==="success"?"bg-green-50 border-green-500 text-green-800":"bg-red-50 border-red-500 text-red-800"}`,children:N.jsxs("p",{className:"font-semibold flex items-center gap-2",children:[O.type==="success"?"":"",O.message]})}),N.jsxs("form",{onSubmit:q,className:"space-y-5",children:[N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Donor Information"})}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Donor Name ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"text",name:"donor_name",value:y.donor_name,onChange:W,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter donor name"})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Phone Number"}),N.jsx("input",{type:"tel",name:"donor_phone",value:y.donor_phone,onChange:W,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter phone number"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email"}),N.jsx("input",{type:"email",name:"donor_email",value:y.donor_email,onChange:W,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter email address"})]})]}),N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Payment Information"})}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Fund Amount () ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"number",name:"fund_amount",value:y.fund_amount,onChange:W,required:!0,min:"0",step:"0.01",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter amount"})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Payment Method ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("select",{name:"payment_method",value:y.payment_method,onChange:W,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:H.map(Q=>N.jsx("option",{value:Q.value,children:Q.label},Q.value))})]})]}),y.payment_method==="upi"&&N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["UPI ID ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"text",name:"upi_id",value:y.upi_id,onChange:W,required:y.payment_method==="upi",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter UPI ID"})]}),y.payment_method==="bank_transfer"&&N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Bank Name"}),N.jsx("input",{type:"text",name:"bank_name",value:y.bank_name,onChange:W,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter bank name"})]}),y.payment_method==="cheque"&&N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Cheque Number"}),N.jsx("input",{type:"text",name:"cheque_no",value:y.cheque_no,onChange:W,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter cheque number"})]}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Transaction ID"}),N.jsx("input",{type:"text",name:"transaction_id",value:y.transaction_id,onChange:W,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",placeholder:"Enter transaction ID"})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Payment Status ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("select",{name:"payment_status",value:y.payment_status,onChange:W,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:I.map(Q=>N.jsx("option",{value:Q.value,children:Q.label},Q.value))})]})]}),N.jsxs("div",{children:[N.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Payment Date ",N.jsx("span",{className:"text-red-600",children:"*"})]}),N.jsx("input",{type:"date",name:"payment_date",value:y.payment_date,onChange:W,required:!0,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all"})]}),N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Location Information (Optional)"})}),N.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"District"}),N.jsxs("select",{name:"district_id",value:y.district_id,onChange:W,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all",children:[N.jsx("option",{value:"",children:"Select District"}),t.map(Q=>N.jsx("option",{value:Q.dstrt_id,children:Q.dstrt_nm},Q.dstrt_id))]})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Mandal"}),N.jsxs("select",{name:"mandal_id",value:y.mandal_id,onChange:W,disabled:!y.district_id,className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all disabled:bg-gray-100 disabled:cursor-not-allowed",children:[N.jsx("option",{value:"",children:"Select Mandal"}),o.map(Q=>N.jsx("option",{value:Q.mndl_id,children:Q.mndl_nm},Q.mndl_id))]})]})]}),N.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Description (Optional)"})}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Notes/Description"}),N.jsx("textarea",{name:"description",value:y.description,onChange:W,rows:"4",className:"w-full px-4 py-2.5 border-2 border-gray-300 rounded-lg focus:ring-2 focus:ring-saf-red-500 focus:border-saf-red-500 transition-all resize-none",placeholder:"Enter any additional notes or description"})]}),N.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 p-4 rounded-xl border-l-4 border-saf-red-600",children:[N.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Receipt Image (Optional)"}),N.jsx("p",{className:"text-xs text-gray-600",children:"Upload receipt or proof of payment"})]}),N.jsxs("div",{children:[N.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Receipt Image"}),N.jsx("input",{type:"file",accept:"image/*",id:"receipt-image-input",onChange:X,className:"hidden"}),N.jsx("div",{onClick:()=>{var Q;return(Q=document.getElementById("receipt-image-input"))==null?void 0:Q.click()},className:"relative bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 overflow-hidden aspect-square flex items-center justify-center cursor-pointer hover:border-saf-red-500 hover:bg-gray-50 transition-all group max-w-md",children:y.receipt_image_path&&y.receipt_image_path.trim()!==""&&!y.receipt_image?N.jsxs(N.Fragment,{children:[N.jsx("img",{src:A(y.receipt_image_path),alt:"Receipt",className:"w-full h-full object-cover",crossOrigin:"anonymous",onError:Q=>{console.error(" Error loading receipt image:",{path:y.receipt_image_path,url:A(y.receipt_image_path),baseUrl:Ft.apiUrl}),Q.target.style.display="none"}}),N.jsx("button",{type:"button",onClick:Q=>{Q.stopPropagation(),j()},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-700 z-10",title:"Delete Image",children:N.jsx(oa,{size:20})})]}):y.receipt_image?N.jsxs(N.Fragment,{children:[N.jsx("img",{src:URL.createObjectURL(y.receipt_image),alt:"Receipt Preview",className:"w-full h-full object-cover"}),N.jsx("button",{type:"button",onClick:Q=>{Q.stopPropagation(),j()},className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg hover:bg-red-700 z-10",title:"Delete Image",children:N.jsx(oa,{size:20})})]}):N.jsxs("div",{className:"text-center p-4",children:[N.jsx(Sl,{className:"mx-auto h-12 w-12 text-gray-400 mb-2"}),N.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Click to upload"}),N.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Receipt Image"})]})})]}),N.jsxs("div",{className:"flex gap-4 pt-4 border-t-2",children:[N.jsx("button",{type:"submit",disabled:l,className:"flex-1 bg-saf-red-600 text-white px-6 py-3 rounded-xl hover:bg-saf-red-700 transition-all font-bold disabled:opacity-50",children:l?"Saving...":R?"Update Donation":"Add Donation"}),N.jsx("button",{type:"button",onClick:()=>p(!1),className:"flex-1 bg-gray-200 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-300 transition-all font-bold",children:"Cancel"})]})]})]})]})]})]})},H0e=()=>{const[i,e]=ne.useState([]),[t,n]=ne.useState([]),[s,r]=ne.useState([]),[o,a]=ne.useState(!1),[l,d]=ne.useState(null),[c,h]=ne.useState(0),[u,p]=ne.useState(10),[f,g]=ne.useState(""),[m,v]=ne.useState({district_id:"",mandal_id:"",date_from:"",date_to:"",date_range:"",payment_method:""}),_=[{value:"",label:"All Payment Methods"},{value:"cash",label:"Cash"},{value:"upi",label:"UPI"},{value:"bank_transfer",label:"Bank Transfer"},{value:"cheque",label:"Cheque"},{value:"online",label:"Online Payment"}],x=[{value:"",label:"Select Date Range"},{value:"today",label:"Today"},{value:"yesterday",label:"Yesterday"},{value:"last_7_days",label:"Last 7 Days"},{value:"last_30_days",label:"Last 30 Days"},{value:"this_month",label:"This Month"},{value:"last_month",label:"Last Month"},{value:"this_year",label:"This Year"}];ne.useEffect(()=>{T(),L()},[]),ne.useEffect(()=>{L()},[m]),ne.useEffect(()=>{m.district_id?O(m.district_id):(r([]),v(A=>({...A,mandal_id:""})))},[m.district_id]),ne.useEffect(()=>{m.date_range&&y(m.date_range)},[m.date_range]);const y=A=>{const E=new Date;let b="",w="";switch(A){case"today":b=w=E.toISOString().split("T")[0];break;case"yesterday":const C=new Date(E);C.setDate(C.getDate()-1),b=w=C.toISOString().split("T")[0];break;case"last_7_days":const S=new Date(E);S.setDate(S.getDate()-7),b=S.toISOString().split("T")[0],w=E.toISOString().split("T")[0];break;case"last_30_days":const D=new Date(E);D.setDate(D.getDate()-30),b=D.toISOString().split("T")[0],w=E.toISOString().split("T")[0];break;case"this_month":b=new Date(E.getFullYear(),E.getMonth(),1).toISOString().split("T")[0],w=E.toISOString().split("T")[0];break;case"last_month":const P=new Date(E.getFullYear(),E.getMonth()-1,1),k=new Date(E.getFullYear(),E.getMonth(),0);b=P.toISOString().split("T")[0],w=k.toISOString().split("T")[0];break;case"this_year":b=new Date(E.getFullYear(),0,1).toISOString().split("T")[0],w=E.toISOString().split("T")[0];break;default:return}v(C=>({...C,date_from:b,date_to:w}))},T=async()=>{try{const A=await Ft.get("/admin/get/districts");A&&A.status===200?n(A.data||[]):n([])}catch(A){console.error("Error fetching districts:",A),n([])}},O=async A=>{try{const E=await Ft.get(`/admin/get/mandals/${A}`);E.status===200?r(E.data||[]):r([])}catch(E){console.error("Error fetching mandals:",E),r([])}},L=async()=>{a(!0),d(null);try{const A=new URLSearchParams;m.district_id&&A.append("district_id",m.district_id),m.mandal_id&&A.append("mandal_id",m.mandal_id),m.date_from&&A.append("date_from",m.date_from),m.date_to&&A.append("date_to",m.date_to),m.payment_method&&A.append("payment_method",m.payment_method);const E=A.toString(),b=`/reports/get${E?"?"+E:""}`,w=await Ft.get(b);w&&w.status===200?e(w.data||[]):e([])}catch(A){console.error("Error fetching reports:",A),d("Failed to fetch report data. Please try again."),e([])}finally{a(!1)}},R=(A,E)=>{v(b=>({...b,[A]:E}))},$=()=>{v({district_id:"",mandal_id:"",date_from:"",date_to:"",date_range:"",payment_method:""}),g("")},V=async()=>{try{const A=new YC.Workbook,E=A.addWorksheet("Reports");E.columns=[{header:"S.No",key:"sno",width:10},{header:"Member Name",key:"member_name",width:25},{header:"Phone",key:"phone",width:15},{header:"District",key:"district_name",width:20},{header:"Mandal",key:"mandal_name",width:20},{header:"Payment Method",key:"payment_method",width:18},{header:"Payment Amount",key:"payment_amount",width:18},{header:"Payment Date",key:"payment_date",width:18},{header:"Payment Status",key:"payment_status",width:18}],E.getRow(1).font={bold:!0},E.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFE5E7EB"}},z.forEach((C,S)=>{E.addRow({sno:S+1,member_name:C.member_name||"-",phone:C.phone||"-",district_name:C.district_name||"-",mandal_name:C.mandal_name||"-",payment_method:C.payment_method?C.payment_method.toUpperCase():"-",payment_amount:C.payment_amount?`${C.payment_amount}`:"0",payment_date:C.payment_date?new Date(C.payment_date).toLocaleDateString():"-",payment_status:C.payment_status||"-"})});const b=await A.xlsx.writeBuffer(),w=new Blob([b],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});n0.saveAs(w,`Reports_${new Date().toISOString().split("T")[0]}.xlsx`)}catch(A){console.error("Error exporting to Excel:",A),alert("Failed to export data. Please try again.")}},z=i.filter(A=>{const E=f.toLowerCase();return!f||A.member_name&&A.member_name.toLowerCase().includes(E)||A.district_name&&A.district_name.toLowerCase().includes(E)||A.mandal_name&&A.mandal_name.toLowerCase().includes(E)||A.payment_method&&A.payment_method.toLowerCase().includes(E)||A.phone&&A.phone.toString().includes(f)}),H=(A,E)=>{h(E)},I=A=>{p(parseInt(A.target.value,10)),h(0)};return N.jsxs("div",{className:"reports-container",children:[N.jsxs("div",{className:"reports-header",children:[N.jsx("h1",{className:"reports-title",children:"Reports"}),N.jsx("p",{className:"reports-subtitle",children:"View and export payment and member reports"})]}),N.jsxs("div",{className:"filters-section",children:[N.jsxs("div",{className:"filters-header",children:[N.jsx(A0,{className:"filter-icon"}),N.jsx("h2",{children:"Filters"}),N.jsxs("button",{onClick:$,className:"reset-filters-btn",title:"Reset all filters",children:[N.jsx(Ul,{size:16}),"Reset"]})]}),N.jsxs("div",{className:"filters-grid",children:[N.jsxs("div",{className:"filter-group",children:[N.jsx("label",{htmlFor:"district_filter",children:"District"}),N.jsxs("select",{id:"district_filter",value:m.district_id,onChange:A=>R("district_id",A.target.value),className:"filter-select",children:[N.jsx("option",{value:"",children:"All Districts"}),t.map(A=>N.jsx("option",{value:A.dstrt_id,children:A.dstrt_nm},A.dstrt_id))]})]}),N.jsxs("div",{className:"filter-group",children:[N.jsx("label",{htmlFor:"mandal_filter",children:"Mandal"}),N.jsxs("select",{id:"mandal_filter",value:m.mandal_id,onChange:A=>R("mandal_id",A.target.value),className:"filter-select",disabled:!m.district_id,children:[N.jsx("option",{value:"",children:"All Mandals"}),s.map(A=>N.jsx("option",{value:A.mndl_id,children:A.mndl_nm},A.mndl_id))]})]}),N.jsxs("div",{className:"filter-group",children:[N.jsx("label",{htmlFor:"date_range_filter",children:"Date Range"}),N.jsx("select",{id:"date_range_filter",value:m.date_range,onChange:A=>R("date_range",A.target.value),className:"filter-select",children:x.map(A=>N.jsx("option",{value:A.value,children:A.label},A.value))})]}),N.jsxs("div",{className:"filter-group",children:[N.jsx("label",{htmlFor:"date_from_filter",children:"From Date"}),N.jsx("input",{type:"date",id:"date_from_filter",value:m.date_from,onChange:A=>R("date_from",A.target.value),className:"filter-input"})]}),N.jsxs("div",{className:"filter-group",children:[N.jsx("label",{htmlFor:"date_to_filter",children:"To Date"}),N.jsx("input",{type:"date",id:"date_to_filter",value:m.date_to,onChange:A=>R("date_to",A.target.value),className:"filter-input"})]}),N.jsxs("div",{className:"filter-group",children:[N.jsx("label",{htmlFor:"payment_method_filter",children:"Payment Method"}),N.jsx("select",{id:"payment_method_filter",value:m.payment_method,onChange:A=>R("payment_method",A.target.value),className:"filter-select",children:_.map(A=>N.jsx("option",{value:A.value,children:A.label},A.value))})]})]})]}),N.jsxs("div",{className:"actions-section",children:[N.jsx("div",{className:"search-box",children:N.jsx("input",{type:"text",placeholder:"Search by name, district, mandal, phone...",value:f,onChange:A=>g(A.target.value),className:"search-input"})}),N.jsxs("button",{onClick:V,disabled:o||!z.length,className:"export-btn",children:[N.jsx(Vh,{size:18}),"Export Excel"]})]}),N.jsx("div",{className:"report-table-container",children:o?N.jsxs("div",{className:"loading-state",children:[N.jsx("div",{className:"spinner"}),N.jsx("p",{children:"Loading report data..."})]}):l?N.jsx("div",{className:"error-state",children:N.jsx("p",{children:l})}):z.length>0?N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"table-wrapper",children:N.jsxs("table",{className:"report-table",children:[N.jsx("thead",{children:N.jsxs("tr",{children:[N.jsx("th",{children:"S.No"}),N.jsx("th",{children:"Member Name"}),N.jsx("th",{children:"Phone"}),N.jsx("th",{children:"District"}),N.jsx("th",{children:"Mandal"}),N.jsx("th",{children:"Payment Method"}),N.jsx("th",{children:"Payment Amount"}),N.jsx("th",{children:"Payment Date"}),N.jsx("th",{children:"Payment Status"})]})}),N.jsx("tbody",{children:z.slice(c*u,c*u+u).map((A,E)=>N.jsxs("tr",{children:[N.jsx("td",{children:c*u+E+1}),N.jsx("td",{children:A.member_name||"-"}),N.jsx("td",{children:A.phone||"-"}),N.jsx("td",{children:A.district_name||"-"}),N.jsx("td",{children:A.mandal_name||"-"}),N.jsx("td",{children:N.jsx("span",{className:`payment-method-badge ${A.payment_method||"unknown"}`,children:A.payment_method?A.payment_method.toUpperCase():"-"})}),N.jsxs("td",{children:["",A.payment_amount||"0"]}),N.jsx("td",{children:A.payment_date?new Date(A.payment_date).toLocaleDateString():"-"}),N.jsx("td",{children:N.jsx("span",{className:`status-badge ${A.payment_status||"unknown"}`,children:A.payment_status||"-"})})]},E))})]})}),N.jsxs("div",{className:"pagination-section",children:[N.jsxs("div",{className:"pagination-info",children:[N.jsx("label",{htmlFor:"rowsPerPage",children:"Rows per page:"}),N.jsxs("select",{id:"rowsPerPage",value:u,onChange:I,className:"rows-select",children:[N.jsx("option",{value:10,children:"10"}),N.jsx("option",{value:20,children:"20"}),N.jsx("option",{value:50,children:"50"}),N.jsx("option",{value:100,children:"100"})]})]}),N.jsxs("div",{className:"pagination-info",children:["Showing ",c*u+1," to ",Math.min((c+1)*u,z.length)," of ",z.length," entries"]}),N.jsxs("div",{className:"pagination-controls",children:[N.jsx("button",{onClick:A=>H(A,c-1),disabled:c===0,className:"pagination-btn",children:"Previous"}),N.jsxs("span",{className:"page-number",children:["Page ",c+1]}),N.jsx("button",{onClick:A=>H(A,c+1),disabled:(c+1)*u>=z.length,className:"pagination-btn",children:"Next"})]})]})]}):N.jsx("div",{className:"empty-state",children:N.jsx("p",{children:"No report data available. Please adjust your filters."})})})]})},j0e=()=>N.jsx(uj,{children:N.jsxs(MR,{children:[N.jsx(Hr,{path:"/",element:N.jsx(N0e,{})}),N.jsx(Hr,{path:"/members",element:N.jsx(V0e,{})}),N.jsx(Hr,{path:"/updates",element:N.jsx(L0e,{})}),N.jsx(Hr,{path:"/donations",element:N.jsx($0e,{})}),N.jsx(Hr,{path:"/reports",element:N.jsx(H0e,{})})]})}),z0e=({children:i})=>{const{isAuthenticated:e,loading:t}=pp();return t?N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-saf-red-50 to-saf-red-100",children:N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"w-16 h-16 border-4 border-saf-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),N.jsx("p",{className:"text-saf-dark-700 font-semibold",children:"Verifying authentication..."})]})}):e?i:N.jsx(ny,{to:"/login",replace:!0})};function W0e(){const{loading:i}=pp();return i?N.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-saf-red-50 to-saf-red-100",children:N.jsxs("div",{className:"text-center",children:[N.jsx("div",{className:"w-16 h-16 border-4 border-saf-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),N.jsx("p",{className:"text-saf-dark-700 font-semibold",children:"Loading..."})]})}):N.jsx(RL,{children:N.jsxs(MR,{children:[N.jsx(Hr,{path:"/login",element:N.jsx(lj,{})}),N.jsx(Hr,{path:"/dashboard/*",element:N.jsx(z0e,{children:N.jsx(j0e,{})})}),N.jsx(Hr,{path:"/",element:N.jsx(ny,{to:"/dashboard",replace:!0})}),N.jsx(Hr,{path:"*",element:N.jsx(ny,{to:"/dashboard",replace:!0})})]})})}const U0e=()=>(console.warn("DevExtreme license key not found. Please set VITE_DX_LICENSE in .env or update LICENSE_KEY in this file."),""),cO=U0e();if(cO)try{Ot({licenseKey:cO}),console.log(" DevExtreme license registered successfully"),setTimeout(()=>{const i=()=>{[".dx-license-message",".dx-license-message-container",".dx-license-message-wrapper",'[class*="dx-license"]','[class*="license-message"]','[id*="license"]',"[data-dx-license]",'div:has-text("evaluation")','div:has-text("DevExpress")','div:has-text("register")','div:has-text("purchase")'].forEach(n=>{try{document.querySelectorAll(n).forEach(r=>{var o,a,l;r&&((o=r.textContent)!=null&&o.includes("evaluation")||(a=r.textContent)!=null&&a.includes("license")||(l=r.textContent)!=null&&l.includes("DevExpress"))&&(r.style.display="none",r.style.visibility="hidden",r.style.opacity="0",r.style.height="0",r.style.width="0",r.style.overflow="hidden",r.style.position="absolute",r.style.left="-9999px")})}catch{}})};i();const e=new MutationObserver(i);e.observe(document.body,{childList:!0,subtree:!0}),setTimeout(()=>e.disconnect(),1e4)},100)}catch(i){console.warn(" DevExtreme license registration failed:",i)}else console.warn(" DevExtreme license key not found. Running in evaluation mode."),console.info(" To register a license:"),console.info("   1. Get license key from C:\\projects\\APTIS or DevExpress Download Manager"),console.info("   2. Set VITE_DX_LICENSE in client/admin/.env file, OR"),console.info("   3. Update LICENSE_KEY in client/admin/src/config/devExtremeLicense.js");ab.createRoot(document.getElementById("root")).render(N.jsx(CO.StrictMode,{children:N.jsx(qH,{children:N.jsx(W0e,{})})}));
